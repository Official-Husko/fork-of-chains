var tw=Object.defineProperty;var nC=(dt,De,bi)=>De in dt?tw(dt,De,{enumerable:!0,configurable:!0,writable:!0,value:bi}):dt[De]=bi;var o=(dt,De)=>tw(dt,"name",{value:De,configurable:!0});var y=(dt,De,bi)=>nC(dt,typeof De!="symbol"?De+"":De,bi);define("scripts/user.min",["require"],function(dt){"use strict";var Ki,Vi,Yi,Ji,Wi,Qi,Zi,Xi,er,tr,ar,ir,rr,sr,nr,ti,or,Zt,lr,ur,hr,pr,cr,dr,gr,ky,XM,mr,fr,br,yr,kr,vr,Sr,Tr,_r,Ar,Tt,Mr,wr,Rr,Er,xr,Dr,Ir,$r,Or,Cr,Pr,Lr,Ur,Nr,Hr,Br,Gr,Xt,qr,zr,Fr,ai,jr,ii,Kr,ct,Vr,ea,Yr,Jr,Wr,Qr,Zr,Xr,ri,es,ts,ta,as,is,rs,ss,ns,os,ls,us,hs,ps,cs,ds,gs,ms,fs,bs,ys,ks,vs,Ss,Ts,_s,As,Ms,ws,Rs,Es,xs,Ds,Is,$s,Os,Cs,Ps,Ls,Us,aa,Ns,Hs,Bs,Gs,ia,qs,zs,Fs,ra,js,sa,na,oa,la,Ks,Vs,Ys,Js,Ws,Qs,Zs,Xs,en,tn,ua,si,ni,an,rn,sn,oi,nn,on,ha,ln,li,Le,un,ui,hn,Ue,pn,cn,dn,gn,mn,_t,fn,pa,bn,At,yn,kn,vn,Sn,Tn,Mt,wt,ca,_n,An,Mn,wn,Rt,Rn,En,xn,Dn,In,Et,xt,Dt,$n,On,Cn,Pn,Ln,Un,Nn,Hn,Bn,Gn,qn,zn,Fn,jn,Kn,Vn,Yn,Jn,Wn,Qn,Zn,da,ga,ma,Xn,fa,ba,eo,to,ao,ya,io,ro,so,no,oo,lo,uo,ho,po,co,go,mo,fo,bo,yo,ko,vo,So,To,_o,Ao,Mo,wo,Ro,ka,Eo,xo,Do,Io,$o,Oo,Co,Po,Lo,Uo,No,Ho,Bo,Go,qo,zo,Fo,jo,Ko,Vo,Yo,Jo,Wo,va,Sa,Ta,Qo,_a,Aa,Zo,Xo,el,tl,al,Ma,il,wa,rl,sl,nl,Ra,Ea,ol,ll,ul,xa,hl,pl,cl,dl,gl,ml,fl,bl,yl,kl,vl,Sl,Tl,It,_l,Al,Ml,wl,Rl,El,xl,$t,Ot,Dl,Il,$l,Ct,Ol,hi,Cl,Pt,Pl,Ll,Ul,Nl,Lt,Ut,Hl,Nt,Bl,Gl,ql,zl,Fl,jl,Da,Ia,$a,Kl,Vl,Yl,Jl,Wl,Ql,Zl,Xl,eu,tu,au,iu,ru,su,nu,ou,pi,lu,uu,hu,pu,cu,du,gu,ci,mu,fu,bu,yu,ku,vu,Su,Tu,_u,Au,Mu,wu,Ru,Eu,xu,Oa,Ca,Pa,Du,Iu,$u,Ou,Cu,Pu,Lu,Uu,Nu,La,Hu,Ua,Bu,Gu,qu,Na,zu,Ha,Ht,Bt,Ba,Fu,ju,Ku,Vu,Yu,Ju,Wu,Qu,Zu,Xu,eh,th,ah,ih,rh,sh,Gt,nh,qt,oh,lh,Ga,qa,uh,hh,ph,ch,dh,gh,mh,fh,bh,yh,kh,vh,Sh,Th,_h,Ah,Mh,wh,Rh,Eh,xh,Dh,Ih,$h,Oh,Ch,Ph,Lh,Uh,Nh,Hh,Bh,Gh,zt,qh,zh,Ft,Fh,jh,Kh,Vh,Yh,Jh,Wh,Qh,Zh,Xh,ep,tp,ap,ip,rp,sp,np,op,lp,up,hp,pp,cp,dp,gp,mp,fp,bp,yp,kp,vp,Sp,Tp,_p,Ap,Mp,wp,Rp,Ep,xp,Dp,Ip,$p,Op,Cp,Pp,Lp,Up,Np,Hp,Bp,Gp,qp,zp,Fp,jp,Kp,Vp,Yp,Jp,Wp,Qp,Zp,Xp,ec,tc,ac,ic,rc,sc,nc,oc,lc,uc,hc,pc,cc,dc,gc,mc,fc,bc,yc,kc,vc,Sc,Tc,_c,Ac,Mc,wc,Rc,Ec,xc,Dc,Ic,$c,Oc,Cc,Pc,Lc,Uc,Nc,Hc,Bc,Gc,qc,zc,Fc,jc,di,Kc,Vc,Yc,Jc,Wc,Qc,Zc,Xc,ed,td,ad,id,rd,sd,nd,od,ld,ud,hd,pd,cd,dd,gd,md,fd,bd,yd,kd,vd,Sd,Td,_d,Ad,Md,wd,Rd,Ed,xd,Dd,Id,$d,Od,Cd,Pd,Ld,Ud,Nd,Hd,Bd,Gd,qd,zd,Fd,jd,Kd,Vd,Yd,Jd,Wd,Qd,Zd,Xd,jt,eg,tg,ag,ig,rg,sg,ng,og,lg,ug,hg,pg,cg,dg,gg,mg,fg,bg,yg,kg,vg,Sg,Tg,_g,Ag,Mg,wg,Rg,Eg,xg,Dg,Ig,$g,Og,Cg,Pg,Lg,Ug,Ng,Hg,Bg,Gg,qg,zg,Fg,jg,Kg,Vg,Yg,Jg,Wg,Qg,Zg,Xg,em,tm,am,im,rm,sm,nm,om,lm,um,hm,pm,cm,dm,gm,mm,fm,bm,ym,km,vm,Sm,Tm,_m,Am,Mm,wm,Rm,Em,xm,Dm,Im,$m,Om,Cm,Pm,Lm,Um,Nm,Hm,Bm,Gm,qm,zm,Fm,jm,Km,Vm,Ym,Jm,Wm;setup.TwineClass=(Ki=class{clone(){return setup.rebuildClassObject(this.constructor,this)}toJSON(){return setup.toJsonHelper(this.constructor.name,this)}},o(Ki,"TwineClass"),Ki),setup.TwineClassCustom=(Vi=class{getContainer(){return"setup"}clone(){return setup.rebuildClassObject(this.constructor,this)}toJSON(){return setup.toJsonHelper(this.constructor.name,this,this.getContainer())}},o(Vi,"TwineClassCustom"),Vi),setup.STARTING_SLAVER_CHOICES=12,setup.UNIT_GROUP_MAX_UNITS=10,setup.UNIT_IMAGE_MEMORY=10,setup.UNIT_IMAGE_WEEKEND_MEMORY_LAPSE=5,setup.LEVEL_PLATEAU=40,setup.LEVEL_VETERANHALL=20,setup.LEVEL_UP_MAX_ONE_SITTING=5,setup.SKILL_INCREASE_PER_LEVEL=6,setup.SKILL_INCREASE_BASE_OFFSET=5,setup.SKILL_TRIPLE_FOCUS_CHANCE=.1,setup.SKILL_DOUBLE_FOCUS_CHANCE=.35,setup.SKILL_FOCUS_MULTI_INCREASE_CHANCE=.25,setup.SKILL_BOOST_DECAY_RATE=.2,setup.DEFAULT_INITIAL_SKILLS=Array(10).fill([7,12]),setup.SKILL_MODIFIER_MIN_MULT=-.9,setup.MONEY_PER_SLAVER_WEEK=500,setup.MONEY_PER_SLAVE_WEEK=250,setup.MONEY_NUDGE=.1,setup.MONEY_LEVEL_ONE_MULTI=.5,setup.MONEY_CRIT_MULTIPLIER=2,setup.MONEY_SELL_MULTIPLIER=.5,setup.BUILDING_CHEAP_MULT=6,setup.BUILDING_MEDIUMLOW_MULT=10,setup.BUILDING_MEDIUM_MULT=20,setup.BUILDING_HIGH_MULT=40,setup.BUILDING_VERYHIGH_MULT=100,setup.BUILDING_ASTRO_MULT=200,setup.MONEY_TRAIT_MEDIUM=1e3,setup.MONEY_TRAIT_RARE=2500,setup.MONEY_TRAIT_EPIC=7500,setup.MONEY_TRAIT_LEGENDARY=12500,setup.SLAVE_BASE_VALUE=2*setup.MONEY_PER_SLAVER_WEEK,setup.SLAVETRAINVALUE_BASIC=Math.round(.5*3*setup.MONEY_PER_SLAVER_WEEK),setup.SLAVETRAINVALUE_ADVANCED=Math.round(1.2*3*setup.MONEY_PER_SLAVER_WEEK),setup.SLAVETRAINVALUE_MASTER=Math.round(3*3*setup.MONEY_PER_SLAVER_WEEK),setup.SLAVE_ORDER_MENIAL_MULTI=.4,setup.SLAVE_VALUE_MARKET_MINIMUM=1e3,setup.SLAVER_VALUE_MARKET_MINIMUM=1e3,setup.EXP_LEVEL_1=10,setup.EXP_LEVEL_PLATEAU=500,setup.EXP_LOW_LEVEL_LEVEL_UP_FREQUENCY=.9,setup.EXP_LATE_GAME_QUAD_EVERY=3,setup.EXP_LATE_CLIFF=8,setup.EXP_NUDGE=.05,setup.EXP_CRIT_MULTIPLIER=1,setup.EXP_FAILURE_MULTIPLIER=2,setup.EXP_DISASTER_MULTIPLIER=4,setup.EXP_DUTY_MULTIPLIER=.4,setup.QUEST_WEEKS_PER_SCOUT=6,setup.QUEST_SKILL_SUMMARY=3,setup.EVENT_DEFAULT_COOLDOWN=1e3,setup.QUEST_DEFAULT_EXPIRATION=6,setup.MARKET_OBJECT_SLAVER_EXPIRATION=6,setup.MARKET_OBJECT_SLAVE_EXPIRATION=6,setup.MARKET_OBJECT_EQUIPMENT_EXPIRATION=6,setup.MARKET_OBJECT_ITEM_EXPIRATION=6,setup.CONTACT_PEDDLER_MARKUP=2,setup.EQUIPMENTSET_ARMORY_DEFAULT_STORAGE=3,setup.EQUIPMENTSET_PER_STORAGE=10,setup.EQUIPMENTSET_SKILL_DISPLAY=3,setup.EQUIPMENT_SLAVER_SLUTTY_LIMIT_CHASTE=5,setup.EQUIPMENT_SLAVER_SLUTTY_LIMIT_NORMAL=20,setup.EQUIPMENT_SLAVER_SLUTTY_LIMIT_LUSTFUL=30,setup.EQUIPMENT_SLAVER_SLUTTY_LIMIT_SEXADDICT=40,setup.EQUIPMENT_SLUTTY_COVERED_THRESHOLD=10,setup.EQUIPMENT_SLUTTY_THRESHOLD=60,setup.EQUIPMENT_VERYSLUTTY_THRESHOLD=100,setup.EQUIPMENT_VALUABLE_THRESHOLD=15*setup.MONEY_PER_SLAVER_WEEK,setup.EQUIPMENT_VERYVALUABLE_THRESHOLD=75*setup.MONEY_PER_SLAVER_WEEK,setup.EQUIPMENT_PRICE_NORMAL=2*setup.MONEY_PER_SLAVER_WEEK,setup.EQUIPMENT_PRICE_NORMALGOOD=3e3,setup.EQUIPMENT_PRICE_GOOD=10*setup.MONEY_PER_SLAVER_WEEK,setup.EQUIPMENT_PRICE_GOODMASTER=20*setup.MONEY_PER_SLAVER_WEEK,setup.EQUIPMENT_PRICE_MASTER=40*setup.MONEY_PER_SLAVER_WEEK,setup.EQUIPMENT_STAT_BOOST_TINY=.01,setup.EQUIPMENT_STAT_BOOST_LOW=.02,setup.EQUIPMENT_STAT_BOOST_NORMAL=.03,setup.EQUIPMENT_STAT_BOOST_GOOD=.04,setup.EQUIPMENT_STAT_BOOST_MASTER=.05,setup.EQUIPMENT_WEAPON_MASTER_MIN_SKILL=100,setup.BEDCHAMBER_SLAVE_SKILL_GAIN=[300,600,900],setup.FURNITURE_PRICE_NORMAL=2*setup.MONEY_PER_SLAVER_WEEK,setup.FURNITURE_PRICE_GOOD=10*setup.MONEY_PER_SLAVER_WEEK,setup.FURNITURE_PRICE_GOODMASTER=20*setup.MONEY_PER_SLAVER_WEEK,setup.FURNITURE_PRICE_MASTER=40*setup.MONEY_PER_SLAVER_WEEK,setup.FURNITURE_SKILL_NORMAL=2,setup.FURNITURE_SKILL_GOOD=4,setup.FURNITURE_SKILL_MASTER=5,setup.get_TRAINING_MASTER_DIFFICULTY=function(){return setup.qdiff.hardest50},setup.BANTER_USE_LIMIT=1,setup.BANTER_FRIENDS_SOFT_LIMIT=5,setup.BANTER_FRIENDS_HARD_LIMIT=10,setup.BANTER_GAIN_MIN=30,setup.BANTER_GAIN_MAX=60,setup.BANTER_INTERACTION_MAX_FRIENDSHIP=200,setup.BANTER_INTERACTION_MIN_FRIENDSHIP=-200,setup.FRIENDSHIP_MAX_SKILL_GAIN=.4,setup.RIVALRY_MAX_SKILL_GAIN=.1,setup.PERK_GAIN_AT_LEVEL=[25,45],setup.TRAIT_MAX_HAVE={bg:3,skill:4,magic:3,perkstandard:setup.PERK_GAIN_AT_LEVEL.length,perkspecial:2,trmaster:1},setup.TRAIT_TRAUMA_EFFECT=-.7,setup.TRAIT_BOON_EFFECT=.4,setup.TRAIT_JUNIOR_THRESHOLD=52,setup.TRAIT_SENIOR_THRESHOLD=200,setup.TRAIT_VALUE_LOW_THRESHOLD=3e3,setup.TRAIT_VALUE_HIGH_THRESHOLDS=[1e4,2e4,3e4,4e4,5e4,7e4,15e4],setup.PERK_POTION_STANDARD_PRICE=1e4,setup.PERK_PRIORITY_COUNT=2,setup.PERK_EXTRA_CHOICES=6,setup.PERK_BASIC_SKILL_GAIN=.06,setup.PERK_GENERALIST_SKILL_GAIN=.03,setup.PERK_NULL_SKILL_NERF=.2,setup.PERK_TRAUMA_PENALTY_REDUCTION=.8,setup.PERK_CORRUPTION_PENALTY_REDUCTION=.8,setup.PERK_BOON_BONUS_INCREASE=.4,setup.PERK_SLUTTINESS_LIMIT_INCREASE=15,setup.PERK_DUTY_BONUS=.11,setup.PERK_SPECIALIST_REDUCTION=.3,setup.PERK_BLESSING_WEEKS=43,setup.PERK_CORRUPTION_WEEKS=9,setup.PERK_PURIFICATION_WEEKS=29,setup.PERK_SWITCH_WEEKS=7,setup.PERK_UNCURSED_TRAUMA_DURATION=26,setup.PERK_SIDEJOB_GOLD_PER_WEEK=62,setup.PERK_SCAVENGER_GOLD_PER_WEEK=75,setup.PERK_UNSTABLE_BODYSHIFTER_WEEKS=3,setup.PERK_CHAOTIC_PERSONALITY_WEEKS=9,setup.PERK_QUEST_DOPPELGANGER_WEEKS=30,setup.PERK_QUEST_DOPPELGANGER_INJURY_HEAL=5,setup.PERK_QUEST_DOPPELGANGER_INJURY_WEEKS=16,setup.PERK_QUEST_HARBINGER_OF_CROW_SKILL_BONUS=.09,setup.CORRUPTION_MISFIRE_RARE_CHANCE=.05,setup.CORRUPTION_MISFIRE_MEDIUM_CHANCE=.15,setup.CORRUPTION_PERMANENT_MISFIRE_CHANCE_MULTIPLIER=.1,setup.TRAUMA_SHORT=6,setup.TRAUMA_MEDIUM=12,setup.TRAUMA_LONG=20,setup.TRAUMA_LOVERS_GONE=40,setup.LOVERS_BREAKUP_TRAUMA_DURATION=25,setup.TRAUMA_REMOVED_DURATION=[[[-1e3,-900],-27],[[-900,-500],-14],[[-500,-300],-7],[[300,500],7],[[500,900],14],[[900,1e3],27]],setup.TRAUMA_TRAIT_ADJUST={per_evil:-.5,per_lunatic:-.5,per_logical:-.5,per_cruel:-.5,per_dominant:-.25,per_sexaddict:-.25,per_lustful:-.25,per_dreamy:-.1,per_loner:-.1,per_gregarious:.1,per_attentive:.1,per_chaste:.25,per_submissive:.25,per_kind:.5,per_masochistic:.5,per_honorable:.5,per_empath:.5},setup.BLESSING_MAX_STACKS=8,setup.BLESSING_INJURY_WEEKS=8,setup.BLESSING_TRAUMA_WEEKS=25,setup.CURSE_VALUE=-1500,setup.CURSE_INJURY_WEEKS=8,setup.CURSE_TRAUMA_WEEKS=24,setup.CURSE_INJURY_MULTIPLIER=4,setup.CURSE_TRAUMA_MULTIPLIER=4,setup.CURSE_CROW_MAX_CRIT_CHANCE=.5,setup.CURSE_VICE_PERMANENT_CORRUPTION_CHANCE=.01,setup.CURSE_DEMISE_LOST_MONEY=3500,setup.DUTY_SKILL_MULTIPLIER_TOTAL=.008,setup.DUTY_TRAIT_NORMAL_CHANCE=.1,setup.DUTY_TRAIT_CRIT_CHANCE=.3,setup.DUTY_TRAIT_PRESTIGE1=1,setup.DUTY_TRAIT_PRESTIGE2=2,setup.DUTY_TRAIT_PRESTIGE3=3,setup.DUTY_TRAIT_PRESTIGE4=4,setup.DUTY_TRAIT_PRESTIGE5=5,setup.DUTY_TRAIT_PRESTIGE6=6,setup.DUTY_VALUE_PRESTIGE_GAINS=[5e3,1e4,17e3,25e3,35e3],setup.DUTY_SPECIALIST_WEEKLY_UPKEEP=900,setup.DOCTOR_ATTEMPTS=3,setup.DOCTOR_ATTEMPTS_CRIT=5,setup.DRILL_SERGEANT_ATTEMPTS=5,setup.DRILL_SERGEANT_ATTEMPTS_CRIT=5,setup.LEADER_MONEY=500,setup.LEADER_MONEY_CRIT=700,setup.MYSTIC_MAX_BOON=5,setup.MYSTIC_MAX_BOON_CRIT=10,setup.MYSTIC_BOON_MULTI=.5,setup.MYSTIC_BOON_MULTI_CRIT=1,setup.MARKETER_ORDER_EXPIRATION=2,setup.MARKETER_CRIT_MULTIPLIER=1.5,setup.PIMP_PRESTIGE_MULTIPLIER=50,setup.PIMP_SLAVE_LIMIT=3,setup.PIMP_CRIT_MULTIPLIER=1.5,setup.MARKETER_CRIT_MULTIPLIER=1.5,setup.SCOUTDUTY_CRIT_MULTIPLIER=1.5,setup.PRESTIGESLAVE_SLAVE_VALUE_FOR_ONE_PRESTIGE=6*setup.MONEY_PER_SLAVER_WEEK,setup.VICELEADER_SKILL_MULTI=.12,setup.TRAINER_MAX_LEVEL=35,setup.TRAINER_CRIT_EXP_MULTI=1.7,setup.INSURER_MULTIS={failure:{proc:2/3,crit:1},disaster:{proc:1,crit:1.4}},setup.HISTORY_UNIT_MAX=100,setup.FAVOR_MAX=2e3,setup.FAVOR_EFFECT_THRESHOLDS=[300,600,900],setup.FAVOR_DECAY=[[250,1],[525,20],[800,50],[2e3,80]],setup.FAVOR_DECAY_RELATIONSHIP_MANAGER=[[800,0],[2e3,30]],setup.FAVOR_MASTER_EQUIPMENT_PROBABILITY_MEDIUM=.01,setup.FAVOR_MASTER_EQUIPMENT_PROBABILITY_HIGH=1,setup.FAVOR_RELATIONSHIP_MANAGER_COMPANY_EVERY=.33,setup.FAVOR_RELATIONSHIP_MANAGER_UPKEEPS=[200,800,1400,2e3,2800,3900,5700],setup.IRE_DCO_PAY=1e3,setup.IRE_DCO_PAY_CRIT=2e3,setup.CHILD_TRAIT_BACKGROUND_INHERIT_CHANCE=.25,setup.CHILD_TRAIT_NON_BACKGROUND_INHERIT_CHANCE=.33,setup.DIFFICULTY_SUCCESS_EXCESS_CRIT_CONVERSION=.25,setup.DIFFICULTY_FAILURE_EXCESS_DISASTER_CONVERSION=1,setup.DIFFICULTY_BASE_DISASTER_ELIMINATION_FRACTION=1,setup.DIFFICULTY_CRIT_CHANCE_TABLE=[0,.19,.36,.51,.64,.76,.86,.94,1],setup.DIFFICULTY_MAX_LEVEL=100,setup.DIFFICULTY_BASE_STAT_SUM_PER_LEVEL=4.6,setup.DIFFICULTY_LV0_STAT=27,setup.ITEM_MARKET_ALCHEMIST_POTION_MARKUP=5,setup.ITEM_PRICE_LOW=1e3,setup.ITEM_PRICE_NORMAL=5e3,setup.ITEM_PRICE_GOOD=1e4,setup.ITEM_PRICE_MASTER=2e4,setup.DECK_SUBDECKS=4,setup.RARITY_COMMON_FREQUENCY=16,setup.RARITY_UNCOMMON_FREQUENCY=8,setup.RARITY_RARE_FREQUENCY=4,setup.RARITY_EPIC_FREQUENCY=2,setup.RARITY_LEGENDARY_FREQUENCY=1,setup.RARITY_NEVER_FREQUENCY=0,setup.DECK_DRAW_RETRIES_QUEST=200,setup.DECK_DRAW_RETRIES_EVENT=200,setup.UNIT_POOL_PER_TRAITS_AVERAGE_COMMON=3,setup.UNIT_POOL_PER_TRAITS_AVERAGE_MEDIUM=.18,setup.UNIT_POOL_PER_TRAITS_AVERAGE_RARE=.02,setup.UNIT_POOL_PER_TRAITS_AVERAGE_UNICORN=.002,setup.UNIT_POOL_PER_TRAITS_MIN=1,setup.UNIT_POOL_PER_TRAITS_MAX=5,setup.UNIT_POOL_SKILL_TRAITS_AVERAGE_COMMON=.075,setup.UNIT_POOL_SKILL_TRAITS_AVERAGE_MEDIUM=.075,setup.UNIT_POOL_SKILL_TRAITS_AVERAGE_RARE=.015,setup.UNIT_POOL_SKILL_TRAITS_AVERAGE_UNICORN=.0015,setup.UNIT_POOL_SKILL_TRAITS_MIN=0,setup.UNIT_POOL_SKILL_TRAITS_MAX=setup.TRAIT_MAX_HAVE.skill,setup.UNIT_POOL_PHYS_TRAITS_AVERAGE_COMMON=.25,setup.UNIT_POOL_PHYS_TRAITS_AVERAGE_MEDIUM=.05,setup.UNIT_POOL_PHYS_TRAITS_AVERAGE_RARE=.01,setup.UNIT_POOL_PHYS_TRAITS_AVERAGE_UNICORN=.001,setup.POOL_BG_COMMON_1=1,setup.POOL_BG_UNCOMMON_2=.5,setup.POOL_BG_RARE_3=.2,setup.POOL_BG_EPIC_4=.1,setup.POOL_BG_LEGENDARY_5=.05,setup.POOL_BG_MYTHIC_6=.01,setup.POOL_BG_ULTRA_7=.001,setup.POOL_BG_FINAL_8=1e-4,setup.POOL_BG_IMPOSSIBLE_9=1e-5,setup.POOL_PER_COMMON_1=.5,setup.POOL_PER_UNCOMMON_2=.2,setup.POOL_PER_RARE_3=.1,setup.POOL_PER_EPIC_4=.05,setup.POOL_PER_LEGENDARY_5=.01,setup.PARTY_MAX=100,setup.ROOM_MAX_SKILL_BOOST=12,setup.ROOM_BONUS_SKILL_BONUS_DEFAULT=10,setup.ROOM_DECORATION_BONUS=.5,setup.ROOM_DECORATION_BONUS_MAIN=2,setup.FORTGRID_WIDTH=24,setup.FORTGRID_EXTRA_TILE_MULTIPLIER=1.25,setup.MAX_TILE_INSIDE=0,setup.MAX_TILE_OUTSIDE=0,setup.FORTGRID_INDOOR_HEIGHT_INIT=4,setup.FORTGRID_OUTDOOR_HEIGHT_INIT=2,setup.FORTGRID_TILE_SIZE=32,setup.FORTGRID_RELOCATE_PRICE_PER_TILE=20,setup.FORTGRID_NEAR_DISTANCE=10,setup.FORT_SLAVER_CAPACITY_PER_LODGING=2,setup.FORT_SLAVE_CAPACITY_PER_CELL=8,setup.FORT_GUEST_ROOM_CAPACITY_PER_LEVEL=4,setup.SLAVER_COUNT_MINIMUM=5,setup.RETIRE_RERECRUIT_COST_MONEY=1e4,setup.RETIRE_RERECRUIT_AFK_WEEKS=100,setup.LIVING_UNICORN_PREFERENCE=1e5,setup.LIVING_RARE_PREFERENCE=1e3,setup.LIVING_UNCOMMON_PREFERENCE=100,setup.LIVING_COMMON_PREFERENCE=1,setup.LIVING_MORECOMMON_PREFERENCE=.1,setup.LIVING_VERYCOMMON_PREFERENCE=.01,setup.LIVING_EXTREMELYCOMMON_PREFERENCE=.001,setup.NEW_GAME_PLUS_SLAVERS=3,setup.NEW_GAME_PLUS_SLAVES=3,setup.NEW_GAME_PLUS_BASE_QUIT_CHANCE=.4,setup.NEW_GAME_PLUS_QUIT_CHANCE={per_slow:-.2,per_smart:.2,per_brave:.1,per_cautious:-.1,per_aggressive:.1,per_calm:-.1,per_proud:.2,per_humble:-.2,per_direct:-.1,per_sly:.1,per_active:0,per_studious:0,per_loner:.2,per_gregarious:-.2,per_frugal:.1,per_lavish:-.1,per_independent:.3,per_loyal:-.3,per_attentive:-.1,per_dreamy:.1,per_stubborn:-.2,per_curious:.2,per_cruel:.1,per_kind:-.1,per_serious:0,per_playful:0,per_logical:0,per_empath:0,per_chaste:0,per_lustful:0,per_sexaddict:0,per_dominant:.2,per_submissive:-.2,per_masochistic:0,per_lunatic:.2,per_evil:.1,per_honorable:-.1},setup.NEW_GAME_PLUS_BASE_SUCCESS_CHANCE=.6,setup.NEW_GAME_PLUS_NEW_LEADER_SUCCESS_CHANCE={per_slow:-.2,per_smart:.2,per_brave:-.1,per_cautious:.1,per_aggressive:0,per_calm:0,per_proud:.1,per_humble:.1,per_direct:0,per_sly:.1,per_active:0,per_studious:0,per_loner:-.1,per_gregarious:.1,per_frugal:.1,per_lavish:-.1,per_independent:-.1,per_loyal:.1,per_attentive:.1,per_dreamy:-.1,per_stubborn:0,per_curious:0,per_cruel:0,per_kind:0,per_serious:0,per_playful:0,per_logical:.1,per_empath:-.1,per_chaste:0,per_lustful:0,per_sexaddict:-.1,per_dominant:.2,per_submissive:.2,per_masochistic:-.3,per_lunatic:-.1,per_evil:.1,per_honorable:-.1,join_junior:-.3},setup.ACTIVITY_CHANCE=.9,setup.ACTIVITY_MAX_ATTEMPT_PER_RARITY=10,setup.ACTIVITY_CHANCE_MULTIPLIER_CRIT_TRAITS=[1,2.5,4,5,6,7,8,9,10],setup.ACTIVITY_CHANCE_MULTIPLIER_DISASTER_TRAITS=[1,.4,.1,.03,.005,1e-4,0],setup.CONTENT_CREATOR_TYPES=["event","quest","opportunity","activity","interaction"],setup.is_itch_io=function(){return Story.has("ItchIoOnlyPassage")},setup.COMPUTE_APPROXIMATE_VALUE_REPS=100,setup.COMPUTE_APPROXIMATE_VALUE_MULTIPLIER=1.1,setup.initState=function(){if(this.gInitDone)throw Error("State already initialized");this.varstore=new setup.VarStore,this.statistics=new setup.Statistics,this.settings=new setup.Settings,this.notification=new setup.Notification,this.calendar=new setup.Calendar,this.inventory=new setup.Inventory,this.hospital=new setup.Hospital,this.friendship=new setup.Friendship,this.family=new setup.Family,this.trauma=new setup.Trauma,this.favor=new setup.Favor,this.ire=new setup.Ire,this.menufilter=new setup.MenuFilter,this.retiredlist=new setup.RetiredList,this.skillboost=new setup.SkillBoost,this.titlelist=new setup.TitleList,this.roomlist=new setup.RoomList,this.fortgrid=new setup.FortGrid,this.gFortGridControl=null;{this.company={};for(const i of Object.values(setup.companytemplate))new setup.Company(i.key,i);this.company.player.name=this.company.player.getName()}this.team={},this.Team_keygen=1,this.party={},this.Party_keygen=1,this.partylist=new setup.PartyList,this.unit={},this.Unit_keygen=1,this.unitimage=new setup.UnitImage;{this.unitgroup_unit_keys={};for(const i of Object.values(setup.unitgroup))i instanceof setup.UnitGroup&&i.resetUnitGroupUnitKeys()}this.equipmentset={},this.EquipmentSet_keygen=1,this.armory=new setup.Armory,this.armory.newEquipmentSet(),this.market={},new setup.MarketUnit("slavermarket","New Slavers Candidates","unit",setup.job.slaver),new setup.MarketUnit("slavemarket","Temporary Slave Pens","unit",setup.job.slave),new setup.MarketUnit("initslavermarket","Initial Slavers","unit",setup.job.slaver),new setup.MarketEquipment("equipmentmarket","Buy Equipment"),new setup.MarketItem("itemmarket","Market"),this.contact={},this.Contact_keygen=1,this.contactlist=new setup.ContactList,this.duty={},this.Duty_keygen=1,this.dutylist=new setup.DutyList,this.buildinginstance={},this.BuildingInstance_keygen=1,this.roominstance={},this.RoomInstance_keygen=1,this.slaveorder={},this.SlaveOrder_keygen=1,this.slaveorderlist=new setup.SlaveOrderList,this.opportunityinstance={},this.OpportunityInstance_keygen=1,this.opportunitylist=new setup.OpportunityList,this.fort={},new setup.Fort("player","Player's Fort",4),this.questinstance={},this.QuestInstance_keygen=1,this.questgen=new setup.QuestGen,this.eventpool=new setup.EventPool,this.activityinstance={},this.ActivityInstance_keygen=1,this.activitylist=new setup.ActivityList,this.bedchamber={},this.Bedchamber_keygen=1,this.bedchamberlist=new setup.BedchamberList,this.interaction_cooldowns={},this.leave=new setup.Leave,this.bodyshift=new setup.Bodyshift,this.deck={},this.cache=new setup.Cache,this.fortgrid.initialize();{const i=this.fort.player.build(setup.buildingtemplate.questoffice);i.rotate90anticlockwise(),this.fortgrid.relocateRoom(i,{row:-3,col:this.fortgrid.getWidth()/2-6})}this.gInitDone=!0},setup.initEstablishBase=function(){const i=State.variables.fortgrid;if(!(State.variables.gDebug&&State.variables.fort.player.isHasBuilding(setup.buildingtemplate.constructionoffice))){const e=State.variables.fort.player.build(setup.buildingtemplate.constructionoffice);e.rotate90anticlockwise(),i.relocateRoom(e,{row:1,col:0})}if(!(State.variables.gDebug&&State.variables.fort.player.isHasBuilding(setup.buildingtemplate.lodgings))){const e=State.variables.fort.player.build(setup.buildingtemplate.lodgings);e.rotate180(),i.relocateRoom(e,{row:-2,col:State.variables.fortgrid.getWidth()/2+2});const t=State.variables.fort.player.getBuilding(setup.buildingtemplate.lodgings),a=t.upgrade();i.relocateRoom(a,{row:-3,col:i.getWidth()/2-9});const r=t.upgrade();r.rotate180(),i.relocateRoom(r,{row:-2,col:State.variables.fortgrid.getWidth()/2+8})}},setup.initSetup=function(){setup.ContentImage.initalize();{setup.SexUtil.SexSanityChecks(),this.sexaction=[];let i=0;for(const e of setup.SexAction.getAllSexActions()){const t=Object.create(e.prototype);i+=1,t.key=i,this.sexaction.push(t)}}},setup.Bodyshift=(Yi=class extends setup.TwineClass{constructor(){super(),this.unit_bodyswap_map={}}deleteUnit(e){if(e.key in this.unit_bodyswap_map){const t=this.getBody(e);delete this.unit_bodyswap_map[e.key],t.checkDelete()}}registerBodyshifter(e,t){if(e.key in this.unit_bodyswap_map)throw new Error(`unit ${e.key} is already a bodyshifter!`);this.unit_bodyswap_map[e.key]=t.key,setup.qc.PerkChoice("unit",setup.trait.perk_unstable_bodyshifter,!0).apply(setup.costUnitHelper(e))}getBody(e){if(!(e.key in this.unit_bodyswap_map))throw new Error(`unit ${e.key} is not a bodyshifter!`);return SugarCube.State.variables.unit[this.unit_bodyswap_map[e.key]]}bodyshift(e){e.key in this.unit_bodyswap_map||new Error(`unit ${e.key} is not a bodyshifter!`);const t=this.getBody(e);State.variables.notification.disable(),setup.qcImpl.Bodyswap.doBodySwap(e,t),State.variables.notification.enable()}isBodyshifter(e){return e.key in this.unit_bodyswap_map}isSpareBody(e){return Object.values(this.unit_bodyswap_map).includes(e.key)}},o(Yi,"Bodyshift"),Yi),setup.BuildingInstance=(Ji=class extends setup.TwineClass{constructor(e){if(super(),this.key=State.variables.BuildingInstance_keygen,State.variables.BuildingInstance_keygen+=1,this.template_key=e.key,this.level=0,this.fort_key=null,this.key in State.variables.buildinginstance)throw new Error(`Building ${this.key} already exists`);State.variables.buildinginstance[this.key]=this,this.upgrade()}delete(){delete State.variables.buildinginstance[this.key]}getName(){return this.getTemplate().getName()}getFort(){return State.variables.fort[this.fort_key]}getLevel(){return this.level}getTemplate(){return setup.buildingtemplate[this.template_key]}isHasUpgrade(){let e=this.getTemplate();return this.level<e.getMaxLevel()}getUpgradeCost(){return this.getTemplate().getCost(this.level)}getUpgradePrerequisite(){return this.getTemplate().getPrerequisite(this.level)}isUpgradable(){let e=this.getTemplate();return this.level>=e.getMaxLevel()?!1:e.isBuildable(this.level)}getUpgradeRoom(){const e=this.getTemplate().getSubRoomTemplate();return e?new setup.RoomInstance({template:e}):null}upgrade(e){!e&&this.getLevel()>0&&(e=this.getUpgradeRoom()),this.level&&State.variables.statistics.add("buildings_upgraded",1),State.variables.fort.player.addUpgrade();let t=this.getTemplate();t.payCosts(this.level),this.level+=1;let a=t.getOnBuild();return a&&a.length>=this.level&&setup.RestrictionLib.applyAll(a[this.level-1],this),this.level>1&&setup.notify(`<<successtext 'Upgraded'>>: ${this.rep()} to level ${this.level}`),e}downgrade(){if(this.level<=1)throw new Error("Level too low!");this.level-=1,State.variables.fort.player.removeUpgrade(),setup.notify(`<<dangertext 'Downgraded'>>: ${this.rep()} to level ${this.level}`)}getTitleRep(){return this.getName()}rep(){return setup.repMessage(this,"buildingcardkey")}},o(Ji,"BuildingInstance"),Ji),setup.BuildingTemplate=(Wi=class extends setup.TwineClass{constructor({key:e,name:t,tags:a,description_passage:r,costs:s,restrictions:n,on_build:l,main_room_template_key:u,sub_room_template_key:h}){if(super(),this.key=e,this.name=t,this.tags=a,!Array.isArray(a))throw new Error(`${e} building tags must be array`);for(let c=0;c<a.length;++c)if(!(a[c]in setup.BUILDING_TAGS))throw new Error(`Building ${e} tag ${a[c]} not recognized`);if(a.filter(c=>setup.BUILDING_TAGS[c].type=="type").length!=1)throw new Error(`Building ${e} must have exactly one type tag`);if(this.tags.sort(),this.description_passage=r,this.costs=s,this.prerequisites=n,s.length!=n.length)throw new Error(`Cost and prereq of ${e} differs in length`);l?this.on_build=l:this.on_build=[],this.main_room_template_key=u,this.sub_room_template_key=h;for(const c of[u,h])if(c){const d=setup.roomtemplate[c];if(!d)throw new Error(`Not found room with key ${d}!`);d.building_template_key=this.key}if(e in setup.buildingtemplate)throw new Error(`Company ${e} already exists`);setup.buildingtemplate[e]=this}getMainRoomTemplate(){return setup.roomtemplate[this.main_room_template_key]}getSubRoomTemplate(){return this.sub_room_template_key?setup.roomtemplate[this.sub_room_template_key]:null}getDescriptionPassage(){return this.description_passage}getTags(){return this.tags}getOnBuildForLevel(e){return this.on_build&&this.on_build.length>e?this.on_build[e]:[]}getOnBuild(){return this.on_build}getMaxLevel(){return this.costs.length}getName(){return this.name}getCost(e){return e?this.costs[e]:this.costs[0]}getPrerequisite(e){return e?this.prerequisites[e]:this.prerequisites[0]}rep(){return setup.repMessage(this,"buildingtemplatecardkey")}isBuildable(e){if(e||(e=0),!e&&State.variables.fort.player.countBuildings(this)>=1)return!1;if(e<0||e>=this.costs.length)throw new Error("weird current level");let t=this.getCost(e).concat(this.getPrerequisite(e));for(let a=0;a<t.length;++a)if(!t[a].isOk())return!1;return!0}payCosts(e){if(e<0||e>=this.costs.length)throw new Error("weird level");let t=this.getCost(e);setup.RestrictionLib.applyAll(t)}isHidden(){if(State.variables.fort.player.isHasBuilding(this))return!0;if(this.key==setup.buildingtemplate.greathall.key||this.key==setup.buildingtemplate.veteranhall.key&&State.variables.fort.player.isHasBuilding("greathall"))return!1;const e=this.getPrerequisite(0);for(const t of e)if(t instanceof setup.qresImpl.Building&&!t.isOk()||t instanceof setup.qresImpl.HasItem&&!t.isOk())return!0;return!1}static getLodgingsCost(e){const t=[[setup.qc.Money(-e)],[setup.qc.Money(-300)],[setup.qc.Money(-400)],[setup.qc.Money(-500)],[setup.qc.Money(-800)],[setup.qc.Money(-1e3)],[setup.qc.Money(-2e3)],[setup.qc.Money(-5e3)],[setup.qc.Money(-1e4)],[setup.qc.Money(-5e4)],[setup.qc.Money(-5e5)],[setup.qc.Money(-5e6)],[setup.qc.Money(-2e7)],[setup.qc.Money(-5e7)],[setup.qc.Money(-12e7)]];return e==0&&(t[0]=[],t[1]=[],t[2]=[]),t}static getLodgingsRestrictions(){return[[],[],[],[setup.qres.Building("greathall")],[],[],[],[setup.qres.Building("veteranhall")],[],[],[],[],[],[],[]]}static getDecorationCosts(e){return[[setup.qc.Money(-500)],[setup.qc.Money(-1e3)],[setup.qc.Money(-2e3)],[setup.qc.Money(-4e3)],[setup.qc.Money(-8e3)],[setup.qc.Money(-16e3)],[setup.qc.Money(-32e3)],[setup.qc.Money(-64e3)],[setup.qc.Money(-128e3)],[setup.qc.Money(-256e3)]]}static getDecorationRestrictions(e){return[[setup.qres.Building("landscapingoffice")],[],[],[],[],[],[],[],[],[]]}},o(Wi,"BuildingTemplate"),Wi),setup.Cache=(Qi=class extends setup.TwineClass{constructor(){super(),this.cache={}}set(e,t,a){e in this.cache||(this.cache[e]={}),this.cache[e][t]=a}has(e,t){return e in this.cache&&t in this.cache[e]}get(e,t){return this.has(e,t)?this.cache[e][t]:null}clear(e,t){if(!(e in this.cache)||!(t in this.cache[e]))return null;delete this.cache[e][t]}clearAll(){this.cache={}}},o(Qi,"Cache"),Qi);const $v=class $v extends setup.TwineClass{constructor(e,t,a,r,s,n){if(super(),this.TYPE=null,!e)throw new Error("quest key cannot be null");if(this.key=e,t==null)throw new Error(`Name of quest ${e} cannot be null`);if(this.name=t,this.author=setup.QuestTemplate.parseAuthorInfo(a),!Array.isArray(r))throw new Error(`Tags of quest ${e} must be an array. E.g., ['transformation']. Put [] for no tags.`);this.tags=r,this.tags.sort((l,u)=>{const h=Object.keys(setup.QUESTTAGS).indexOf(l),p=Object.keys(setup.QUESTTAGS).indexOf(u);return h-p});for(let l=0;l<r.length;++l)if(!(r[l]in setup.QUESTTAGS))throw new Error(`${l}-th tag (${r[l]}) of quest ${e} not recognized. Please check spelling and compare with the tags in src/scripts/classes/quest/questtags.js`);this.actor_unitgroup_key_map,s?this.actor_unitgroup_key_map=setup.ActorHelper.parseMap(s):this.actor_unitgroup_key_map={},this.difficulty=n}getTemplate(){return null}getAuthor(){return this.author}getTags(){return this.tags}getDifficulty(){return this.difficulty}getName(){return this.name}getActorUnitGroups(){return setup.ActorHelper.parseUnitGroups(this.actor_unitgroup_key_map)}getActorSubraces(){const e=setup.TraitHelper.getAllTraitsOfTags(["subrace"]),t=this.getActorUnitGroups(),a={};for(const r of Object.values(t))if(r instanceof setup.UnitGroup){const s=r.getUnitPools(),n={};for(const l of s){const u=l[0];let h=null;for(const p of e)if(u.key.startsWith(p.key)){h=p;break}h&&(n[h.key]=!0)}Object.keys(n).length==1&&(a[Object.keys(n)[0]]=!0)}return Object.keys(a).map(r=>setup.trait[r])}getActorResultJob(e){return null}};o($v,"ContentTemplate");let De=$v;setup.Calendar=(Zi=class extends setup.TwineClass{constructor(){super(),this.week=1,this.last_week_of={},this.cooldowns={}}getWeek(){return this.week}advanceWeek(){this.week+=1,this.seed&&delete this.seed;for(const e in this.cooldowns)for(const t in this.cooldowns[e])this.cooldowns[e][t]-=1,this.cooldowns[e][t]<=0&&delete this.cooldowns[e][t]}setCooldown(e,t){this.cooldowns[e.TYPE]||(this.cooldowns[e.TYPE]={}),this.cooldowns[e.TYPE][e.key]=t,t<=0&&delete this.cooldowns[e.TYPE][e.key],State.variables.gDebug&&setup.notify(`DEBUG: ${e.TYPE} ${e.key} is on cooldown for ${t} weeks.`)}getCooldown(e){return this.cooldowns[e.TYPE]&&this.cooldowns[e.TYPE][e.key]||0}isOnCooldown(e){return!!this.getCooldown(e)}record(e){let t=e.TYPE;if(!t)throw new Error(`object must have type to be recorded: ${e}`);t in this.last_week_of||(this.last_week_of[t]={}),this.last_week_of[t][e.key]=this.getWeek()}getLastWeekOf(e){let t=e.TYPE;if(!t)throw new Error(`object must have type to be get last week of'd: ${e}`);return!(t in this.last_week_of)||!(e.key in this.last_week_of[t])?-setup.INFINITY:this.last_week_of[t][e.key]}getSeed(){return this.seed?this.seed:(this.seed=1+Math.floor(Math.random()*999999997),this.seed)}},o(Zi,"Calendar"),Zi),setup.Company=(Xi=class extends setup.TwineClass{constructor(e,t){super(),this.key=e,this.template_key=t.key,this.name=null,this.money=0,this.unit_keys=[],this.team_keys=[],this.quest_keys=[],this.ignored_quest_template_keys={},this.prestige=0,this.is_favor_active=!0,e in State.variables.company||(State.variables.company[e]=this)}rep(){return setup.repMessage(this,"companycardkey")}isFavorActive(){return this.is_favor_active}toggleIsFavorActive(){this.is_favor_active=!this.is_favor_active}getTemplate(){return setup.companytemplate[this.template_key]}getName(){return this.name?this.name:this.getTemplate().getName()}getFort(){return State.variables.fort.player}getMaxUnitOfJob(e){return this.getFort().getMaxUnitOfJob(e)}isCanAddUnitWithJob(e){let t=this.getUnits({job:e}),a=this.getMaxUnitOfJob(e);return t.length<a}addPrestige(e){if(e==0)return;this.prestige+=e;let t="";e<0&&(t="Lost"),e>0&&(t="Gained"),setup.notify(t+` <<prestige ${e}>>`),State.variables.statistics.setMax("prestige_max",this.getPrestige())}getPrestige(){return this.prestige}getTotalWages(){let e=0;return this.getSlavers().forEach(t=>e+=t.getWage()),e}addQuest(e){this.quest_keys.unshift(e.key),State.variables.statistics.setMax("quest_max_simultaneous_have",this.quest_keys.length),State.variables.statistics.setMax("quest_max_get_level",e.getTemplate().getDifficulty().getLevel()),State.variables.statistics.add("quest_obtained",1),e.getTemplate().getTags().includes("veteran")&&State.variables.statistics.add("quest_obtained_veteran",1)}archiveQuest(e){this.quest_keys=this.quest_keys.filter(t=>t!=e.key),setup.queueDelete(e,"questinstance")}ignoreQuestTemplate(e){if(e.key in this.ignored_quest_template_keys)throw new Error(`Quest ${e.key} is already ignored`);this.ignored_quest_template_keys[e.key]=!0}unignoreQuestTemplate(e){if(!(e.key in this.ignored_quest_template_keys))throw new Error(`Quest ${e.key} is not ignored`);delete this.ignored_quest_template_keys[e.key]}isIgnored(e){return e.key in this.ignored_quest_template_keys}getOpenQuests(){let e=this.getQuests(),t=[];for(let a=0;a<e.length;++a)e[a].getTeam()||t.push(e[a]);return t}getQuests(e){let t=[];for(let a=0;a<this.quest_keys.length;++a){let r=State.variables.questinstance[this.quest_keys[a]];e&&e.tag&&!r.getTemplate().getTags().includes(e.tag)||e&&e.isfree&&r.getTeam()||e&&e.isassigned&&!r.getTeam()||t.push(r)}if(e&&e.sort)if(e.sort=="level")t.sort((a,r)=>r.getTemplate().getDifficulty().getLevel()-a.getTemplate().getDifficulty().getLevel());else if(e.sort=="levelup")t.sort((a,r)=>a.getTemplate().getDifficulty().getLevel()-r.getTemplate().getDifficulty().getLevel());else if(e.sort=="deadline")t.sort((a,r)=>a.getWeeksUntilExpired()-r.getWeeksUntilExpired());else if(e.sort=="deadlineup")t.sort((a,r)=>r.getWeeksUntilExpired()-a.getWeeksUntilExpired());else if(e.sort=="duration")t.sort((a,r)=>r.getTemplate().getWeeks()-a.getTemplate().getWeeks());else if(e.sort=="durationup")t.sort((a,r)=>a.getTemplate().getWeeks()-r.getTemplate().getWeeks());else throw new Error(`Unrecognized sort option: ${e.sort}`);return t}getFinishedQuestIfAny(){let e=this.getQuests();for(let t=0;t<e.length;++t){let a=e[t];if(a.isFinished()&&!a.isFinalized())return a}return null}expireQuests(){let e=[],t=this.getQuests();for(let a=0;a<t.length;++a){let r=t[a];r.isExpired()&&(r.expire(),e.push(r))}return e}getMaxTeams(){return 3*this.getMaxActiveTeams()}getMaxActiveTeams(){return State.variables.fort.player.isHasBuilding(setup.buildingtemplate.missioncontrol)?State.variables.fort.player.getBuilding(setup.buildingtemplate.missioncontrol).getLevel()+1:1}addTeam(e){this.team_keys.push(e.key)}removeTeam(e){if(!this.team_keys.includes(e.key))throw new Error(`Team ${e.key} not found`);this.team_keys=this.team_keys.filter(t=>t!=e.key)}getDeployableTeams(){return this.getMaxActiveTeams()-this.getTeams().filter(e=>e.getQuest()).length}isCanDeployTeam(){return this.getDeployableTeams()>0}getTeams(){let e=[];return this.team_keys.forEach(t=>{e.push(State.variables.team[t])}),e}addUnit(e,t){if(e.isYourCompany())throw new Error("Cannot add unit already in your company");let a=e.getCompany();a&&a.removeUnit(e);let r=e.getUnitGroup();if(r&&r.removeUnit(e),e.job_key=t.key,e.company_key=this.key,this.unit_keys.push(e.key),State.variables.statistics.setMax("slavers_max",this.getUnits({job:setup.job.slaver}).length),State.variables.statistics.setMax("slaves_max",this.getUnits({job:setup.job.slave}).length),t==setup.job.slaver?State.variables.statistics.add("slavers_hired",1):t==setup.job.slave&&State.variables.statistics.add("slaves_hired",1),t==setup.job.slaver){setup.notify("a|Rep a|have joined your company!",{a:e});let s="joined your company!";e.getOrigin()&&(s=`${s} Before joining, a|rep ${e.getOrigin()}`),e.addHistory(s)}else if(t==setup.job.slave){setup.notify("You enslave a|rep",{a:e});let s="a|is enslaved by your company.";e.getOrigin()&&(s=`${s} Before being enslaved, a|rep ${e.getOrigin()}`),e.addHistory(s)}e.resetCache()}removeUnit(e){if(!this.unit_keys.includes(e.key))throw new Error("Unit not found");if(e==State.variables.unit.player)throw new Error("Player character is removed from the game. Should not happen");e.isSlaver()?State.variables.statistics.add("slavers_lost",1):e.isSlave()&&State.variables.statistics.add("slaves_lost",1),e.isHasTrait(setup.trait.curse_demise1)&&(e.decreaseTrait(setup.trait.curse_demise1.getTraitGroup()),setup.notify("a|Rep took some of the company's money with a|them as a|they leave",{a:e}),this.substractMoney(setup.CURSE_DEMISE_LOST_MONEY));let t=State.variables.friendship.getFriendships(e);const a=State.variables.friendship.getLover(e);let r=[];for(let p=0;p<t.length;++p){let c=t[p][0];if(c.isSlaver())if(c==a)r.push([c,setup.TRAUMA_LOVERS_GONE,"lover"]);else{let d=t[p][1];for(let g=0;g<setup.TRAUMA_REMOVED_DURATION.length;++g){let m=setup.TRAUMA_REMOVED_DURATION[g][0],f=setup.TRAUMA_REMOVED_DURATION[g][1];if(d>=m[0]&&d<=m[1]){f&&r.push([c,f,d]);break}}}}let s=State.variables.hospital.getInjury(e);s&&State.variables.hospital.healUnit(e,s);let n=e.getEquipmentSet();n&&n.unequip();let l=e.getTeam();l&&l.removeUnit(e);const u=e.getParty();u&&u.removeUnit(e);let h=e.getDuty();h&&h.unassignUnit();for(const p of e.getOwnedBedchambers())p.setSlaver(State.variables.unit.player);State.variables.activitylist.removeUnitActivity(e),e.company_key=null,e.job_key=setup.job.unemployed.key,this.unit_keys=this.unit_keys.filter(p=>p!=e.key);for(let p=0;p<r.length;++p){let c=r[p][0],d=r[p][1];const g=setup.Trauma.getRelationshipTraumaAdjustment(c);d=Math.round(d*g);let m=r[p][2];m=="lover"?(setup.notify("The loss of a|rep weighs heavily on their lover b|rep...",{a:e,b:c}),State.variables.trauma.traumatize(c,d)):d>0?(setup.notify(`The loss of a|rep weighs heavily on their <<tfriendtitle ${m}>> b|rep...`,{a:e,b:c}),State.variables.trauma.traumatize(c,d)):d<0&&(setup.notify(`The loss of a|rep motivates their <<tfriendtitle ${m}>> b|rep...`,{a:e,b:c}),State.variables.trauma.boonize(c,-d))}setup.notify("a|Rep a|have left your company",{a:e}),e.resetCache(),e.checkDelete()}addMoneyNudged(e){this.addMoney(setup.nudgeMoney(e))}addMoney(e){if(!Number.isInteger(e))throw new Error("Money amount is not an integer");e!=0&&(e<0?this.substractMoney(-e):(this.money+=e,setup.notify(`Gained <<money ${e}>>`)),State.variables.statistics.setMax("money_max",this.getMoney()),State.variables.statistics.setMax("money_max_gain",e))}substractMoney(e){if(!Number.isInteger(e))throw new Error("Money amount is not an integer");e!=0&&(e<0?this.addMoney(-e):(this.money-=e,setup.notify(`Lost <<moneyloss ${e}>>`)),State.variables.statistics.setMax("money_max_lose",e))}getMoney(){return this.money}getUnits(e,t){let a=[];return e||(e={}),this.unit_keys.forEach(r=>{if(!(r in State.variables.unit))throw new Error(`unit ${r} not found`);let s=State.variables.unit[r];"job"in e&&e.job&&s.getJob()!=e.job||e.no_team&&s.team_key||e.available&&!s.isAvailable()||e.injured&&!State.variables.hospital.isInjured(s)||e.notinjured&&State.variables.hospital.isInjured(s)||e.home&&!s.isHome()||e.on_duty&&!s.getDuty()||e.usable_by_you&&!s.isUsableBy(State.variables.unit.player)||e.tag&&!s.isHasTag(e.tag)||e.title&&!s.isHasTitle(setup.title[e.title])||a.push(s)}),t=="name"&&a.sort(setup.Unit_CmpName),t=="job"&&a.sort(setup.Unit_CmpJob),t==null&&a.sort(setup.Unit_CmpDefault),a}getSlavers(){return this.getUnits({job:setup.job.slaver})}getSlaves(){return this.getUnits({job:setup.job.slave})}getFavorEffects(){return this.getTemplate().getFavorEffects()}getDescriptionPassage(){return this.getTemplate().getDescriptionPassage()}},o(Xi,"Company"),Xi),setup.CompanyTemplate=(er=class extends setup.TwineClass{constructor(e,t,a,r){if(super(),r.length!=setup.FAVOR_EFFECT_THRESHOLDS.length)throw new Error(`${e} company favor effect has incorrect length of ${r.length}`);this.key=e,this.name=t,this.favor_effects=r,this.description_passage=a,e in setup.companytemplate||(setup.companytemplate[e]=this)}getName(){return this.name}getFavorEffects(){return this.favor_effects}getDescriptionPassage(){return this.description_passage}},o(er,"CompanyTemplate"),er),setup.Favor=(tr=class extends setup.TwineClass{constructor(){super(),this.company_favor_map={},this.managed_company_keys=[]}getManagedCompanies(){const e=this.getMaxManagedCompanies(),t=[],a=this.getAllManagedCompanies();for(let r=0;r<a.length&&!(r>=e);++r){const s=a[r];t.push(s)}return t}getAllManagedCompanies(){return this.managed_company_keys.map(e=>State.variables.company[e])}addManagedCompany(e){this.managed_company_keys.push(e.key)}removeManagedCompany(e){if(!this.managed_company_keys.includes(e.key))throw new Error(`${e.key} not found in remove managed companies`);this.managed_company_keys=this.managed_company_keys.filter(t=>t!=e.key)}getMaxManagedCompanies(){const e=State.variables.dutylist.getDuty("relationshipmanager");if(!e)return 0;const t=e.computeChance();return Math.min(setup.FAVOR_RELATIONSHIP_MANAGER_UPKEEPS.length,Math.ceil(t/setup.FAVOR_RELATIONSHIP_MANAGER_COMPANY_EVERY))}getRelationshipManagerUpkeep(){const e=this.getManagedCompanies().length;return e?setup.FAVOR_RELATIONSHIP_MANAGER_UPKEEPS[e-1]:0}adjustFavor(e,t){e.key in this.company_favor_map||(this.company_favor_map[e.key]=0);const a=this.company_favor_map[e.key];return this.company_favor_map[e.key]+=t,this.company_favor_map[e.key]=Math.max(this.company_favor_map[e.key],0),this.company_favor_map[e.key]=Math.min(this.company_favor_map[e.key],setup.FAVOR_MAX),this.company_favor_map[e.key]-a}getFavor(e){return e.key in this.company_favor_map?this.company_favor_map[e.key]:0}isCompanyKnown(e){return e.key in this.company_favor_map||State.variables.ire._isCompanyKnown(e)}advanceWeek(){for(const t in this.company_favor_map){const a=State.variables.company[t],r=this.company_favor_map[t];if(a.isFavorActive()){for(let s=setup.FAVOR_EFFECT_THRESHOLDS.length-1;s>=0;--s)if(r>=setup.FAVOR_EFFECT_THRESHOLDS[s]){const n=a.getFavorEffects()[s];setup.RestrictionLib.applyAll(n,a);break}}}for(const t in this.company_favor_map){const a=State.variables.company[t];this.adjustFavor(a,-this.getDecay(a))}const e=this.getRelationshipManagerUpkeep();if(e){const t=State.variables.dutylist.getDuty("relationshipmanager"),a=this.getManagedCompanies().length;setup.notify(`${setup.capitalize(t.repYourDutyRep())} spent <<money ${e}>> this week managing relationship with ${a} companies.`)}}getDecay(e){const t=this.getFavor(e);let[a,r]=[0,0],[s,n]=[0,0],l=setup.FAVOR_DECAY;this.getManagedCompanies().includes(e)&&(l=setup.FAVOR_DECAY_RELATIONSHIP_MANAGER);for(let h=0;h<l.length;++h){const[p,c]=l[h];if(t<=p){[s,n]=[p,c],h&&([a,r]=l[h-1]);break}}let u=n;return t-u>=a?u:Math.max(r,t-a)}static fromMoney(e){return Math.round(e/20)}},o(tr,"Favor"),tr),setup.Fort=(ar=class extends setup.TwineClass{constructor(e,t,a){if(super(),this.key=e,this.name=t,this.base_max_buildings=a,this.building_keys=[],this.template_key_to_building_key={},this.ignored_building_template_key={},this.upgrades=0,e in State.variables.fort)throw new Error(`Fort ${e} already exists`);State.variables.fort[e]=this}isTemplateIgnored(e){return e.key in this.ignored_building_template_key}ignoreTemplate(e){this.ignored_building_template_key[e.key]=!0}unignoreTemplate(e){delete this.ignored_building_template_key[e.key]}rep(){return this.getName()}getUpgrades(){return this.upgrades}addUpgrade(){this.upgrades+=1}removeUpgrade(){this.upgrades-=1}isTrainingUnlocked(e){let t=[];e.getJob()==setup.job.slaver?t=["deepritualchamber","surgery","temple","treatmentroom"]:e.getJob()==setup.job.slave&&(t=["trainingchamber","ritualchamber","biolab","temple","treatmentroom"]);for(const a of t)if(this.isHasBuilding(setup.buildingtemplate[a]))return!0;return!1}getBuilding(e){if(!e)throw new Error("Missing building in getBuilding");return e.key in this.template_key_to_building_key?State.variables.buildinginstance[this.template_key_to_building_key[e.key]]:null}getName(){return this.name}getMaxUnitOfJob(e){if(e==setup.job.slaver){let t=0;return this.isHasBuilding(setup.buildingtemplate.lodgings)?t=this.getBuilding(setup.buildingtemplate.lodgings).getLevel():t=3,t*setup.FORT_SLAVER_CAPACITY_PER_LODGING}else if(e==setup.job.slave){let t=0;if(this.isHasBuilding(setup.buildingtemplate.dungeons)){t+=setup.FORT_SLAVE_CAPACITY_PER_CELL;let a=this.getBuilding(setup.buildingtemplate.dungeons).getLevel()-1;t+=a*setup.FORT_SLAVE_CAPACITY_PER_CELL}return t}else throw new Error(`weird job ${e.key}`)}countBuildings(e){return this.isHasBuilding(e)?1:0}isHasBuilding(e,t){const a=setup.selfOrObject(e,setup.buildingtemplate),r=this.getBuilding(a);return r?t?r.getLevel()>=t:!0:!1}getBuildingsCount(){return this.building_keys.length}getBuildings(e){let t=[],a=null;e&&"tag"in e&&(a=e.tag);for(let r=0;r<this.building_keys.length;++r){let s=State.variables.buildinginstance[this.building_keys[r]];e&&"template"in e&&s.getTemplate()!=e.template||a&&!s.getTemplate().getTags().includes(a)||t.push(s)}return t}getBuildRoom(e){const t=e.getMainRoomTemplate();return t?new setup.RoomInstance({template:t}):null}build(e,t){if(t||(t=this.getBuildRoom(e)),State.variables.statistics.add("buildings_built",1),e.key in this.template_key_to_building_key)throw new Error(`Building ${e.key} already built?`);let a=new setup.BuildingInstance(e);if(this.building_keys.push(a.key),a.fort_key)throw new Error("Building already has a fort?");return a.fort_key=this.key,this.template_key_to_building_key[e.key]=a.key,setup.notify(`<<successtext 'New improvement'>>: ${a.rep()}`),t}remove(e){delete this.template_key_to_building_key[e.template_key],this.building_keys=this.building_keys.filter(t=>t!=e.key)}},o(ar,"Fort"),ar),setup.FRIENDSHIP_MAX_FRIENDSHIP=1e3,setup.FRIENDSHIP_MIN_FRIENDSHIP=-1e3,setup.FRIENDSHIP_MAX_DECAY=setup.FRIENDSHIP_MAX_FRIENDSHIP/2,setup.FRIENDSHIP_MIN_DECAY=setup.FRIENDSHIP_MIN_FRIENDSHIP/2,setup.FRIENDSHIP_DECAY=1,setup.LOVERS_HOOKUP_FRIENDSHIP=750,setup.LOVERS_HOOKUP_BANTER_CHANCE=.5,setup.LOVERS_BREAKUP_FRIENDSHIP=250,setup.LOVERS_BREAKUP_FRIENDSHIP_PENALTY=1e3,setup.LOVERS_LOST_BREAKUP_WEEKS=10,setup.FRIENDSHIP_TRAIT_SLAVE_CARE=["bg_slave","bg_healer","bg_priest","per_kind","per_honorable","per_humble","per_dominant","magic_light","magic_light_master"],setup.FRIENDSHIP_TRAIT_SLAVE_ABUSE=["bg_slaver","bg_raider","bg_mist","per_cruel","per_submissive","per_proud","per_evil","magic_dark","magic_dark_master"],setup.Friendship=(ir=class extends setup.TwineClass{constructor(){super(),this.friendship_map={},this.best_friend={},this.is_lovers={},this.lover_timer={}}deleteUnit(e){let t=e.key;delete this.friendship_map[t],delete this.best_friend[t],delete this.is_lovers[t],delete this.lover_timer[t];for(let a in this.friendship_map)delete this.friendship_map[a][t];for(let a in this.best_friend)this.best_friend[a]==t&&(this.best_friend[a]=null,this.is_lovers[a]=!1,delete this.lover_timer[a],this._recomputeBestFriend(State.variables.unit[a]))}_recomputeBestFriend(e,t,a){if(!(e.key in this.friendship_map))if(a)this._doAdjustFriendship(e,t,0),this._doAdjustFriendship(t,e,0);else return;if(a&&!t)throw new Error(`No preference unit for setting lover for ${e.key}!`);let r=null,s=null;if(a)r=t.key;else{for(let n in this.friendship_map[e.key]){if(State.variables.unit[n].getJob()==setup.job.slave)continue;let l=Math.abs(this.friendship_map[e.key][n]);(!s||l>s)&&(s=l,r=n)}if(t&&t.isSlaver()){let n=Math.abs(this.getFriendship(e,t));n&&(!s||n>s)&&(s=n,r=t.key)}}if(r)e.key in this.best_friend||(this.best_friend[e.key]=null,this.is_lovers[e.key]=null,delete this.lover_timer[e.key]),this.best_friend[e.key]=r,this.is_lovers[e.key]=!!a;else{if(a)throw new Error(`set as lover failed for ${e.key} and ${t.key}!`);e.key in this.best_friend&&delete this.best_friend[e.key]}e.resetCache()}getBestFriend(e){return e.key in this.best_friend?State.variables.unit[this.best_friend[e.key]]:null}getLover(e){return this.isLoversWithBestFriend(e)?this.getBestFriend(e):null}isLoversWithBestFriend(e){return!!this.is_lovers[e.key]}deleteFriendship(e,t){e.key in this.friendship_map&&t.key in this.friendship_map[e.key]&&(e.getLover()==t&&(delete this.is_lovers[e.key],delete this.is_lovers[t.key],delete this.lover_timer[e.key],delete this.lover_timer[t.key]),delete this.friendship_map[e.key][t.key],delete this.friendship_map[t.key][e.key],this._recomputeBestFriend(e,this.getBestFriend(e),this.isLoversWithBestFriend(e)),this._recomputeBestFriend(t,this.getBestFriend(t),this.isLoversWithBestFriend(t)))}adjustFriendship(e,t,a){const r=this._doAdjustFriendship(e,t,a);return this._doAdjustFriendship(t,e,a),this._recomputeBestFriend(e,this.getBestFriend(e),this.isLoversWithBestFriend(e)),this._recomputeBestFriend(t,this.getBestFriend(t),this.isLoversWithBestFriend(t)),r}_doAdjustFriendship(e,t,a){e.key in this.friendship_map||(this.friendship_map[e.key]={}),t.key in this.friendship_map[e.key]||(this.friendship_map[e.key][t.key]=0);const r=this.friendship_map[e.key][t.key];this.friendship_map[e.key][t.key]=Math.max(Math.min(r+a,setup.FRIENDSHIP_MAX_FRIENDSHIP),setup.FRIENDSHIP_MIN_FRIENDSHIP);const s=this.friendship_map[e.key][t.key];return s==0&&delete this.friendship_map[e.key][t.key],e.resetCache(),t.resetCache(),s-r}getFriendship(e,t){return!(e.key in this.friendship_map)||!(t.key in this.friendship_map[e.key])?0:this.friendship_map[e.key][t.key]}getCompatibility(e,t){let a=0,r=0;if(e.getSubrace()==t.getSubrace()&&(a+=1),e.getJob()!=t.getJob()&&(r+=1),t.getJob()==setup.job.slave){for(let u=0;u<setup.FRIENDSHIP_TRAIT_SLAVE_ABUSE.length;++u)e.isHasTraitExact(setup.trait[setup.FRIENDSHIP_TRAIT_SLAVE_ABUSE[u]])&&++r;for(let u=0;u<setup.FRIENDSHIP_TRAIT_SLAVE_CARE.length;++u)e.isHasTraitExact(setup.trait[setup.FRIENDSHIP_TRAIT_SLAVE_CARE[u]])&&++a}const s=setup.Unit.getConflictingPerTraits(e,t);r+=s.length;const n=setup.Unit.getSamePerTraits(e,t);a+=n.length;let l=t.getBedchamber();return l&&l.getSlaver()==e&&(a+=l.getKindness(),r+=l.getCruelty()),[a,r]}getFriendships(e){if(!(e.key in this.friendship_map))return[];let t=this.friendship_map[e.key],a=[];for(let r in t)a.push([State.variables.unit[r],t[r]]);return a.sort((r,s)=>-Math.abs(r[1])+Math.abs(s[1])),a}isCanChangeLoversStatus(e){return e.isYourCompany()?e.isHome():!0}advanceWeek(){for(let e in this.friendship_map){let t=this.friendship_map[e],a=Object.keys(t);for(let r=0;r<a.length;++r){let s=a[r],n=t[s];if(n>setup.FRIENDSHIP_MAX_DECAY||n<setup.FRIENDSHIP_MIN_DECAY)continue;let l=Math.min(setup.FRIENDSHIP_DECAY,Math.abs(n));n>0&&(l*=-1),this.adjustFriendship(State.variables.unit[e],State.variables.unit[s],l)}}for(let e in this.friendship_map){const t=State.variables.unit[e],a=this.getLover(t);a&&!t.isYou()&&!a.isYou()&&this.getFriendship(t,a)<setup.LOVERS_BREAKUP_FRIENDSHIP&&this.isCanChangeLoversStatus(t)&&this.isCanChangeLoversStatus(a)&&this.breakup(t,a)}for(let e of Object.keys(this.friendship_map)){const t=State.variables.unit[e],a=this.getLover(t);a?a.isSlaver()?delete this.lover_timer[e]:(e in this.lover_timer||(this.lover_timer[e]=0),this.lover_timer[e]+=1,(a.isSlave()||this.lover_timer[e]>=setup.LOVERS_LOST_BREAKUP_WEEKS)&&(this.breakup(t,a),delete this.lover_timer[e])):(delete this.is_lovers[e],delete this.lover_timer[e])}}breakup(e,t){if(this.getLover(e)){(e.isYourCompany()||t.isYourCompany())&&setup.notify("a|rep and b|rep and <<dangertextlite 'broke up'>>...",{a:e,b:t});for(const r of[e,t]){let s=setup.LOVERS_BREAKUP_TRAUMA_DURATION;const n=setup.Trauma.getRelationshipTraumaAdjustment(r);s=Math.round(s*n),s>0&&setup.qc.TraumatizeRandom("unit",s).apply(setup.costUnitHelper(r))}const a=setup.LOVERS_BREAKUP_FRIENDSHIP_PENALTY*setup.Trauma.getBreakupAdjustment(e,t);this.adjustFriendship(e,t,-a)}delete this.is_lovers[e.key],delete this.is_lovers[t.key],delete this.lover_timer[e.key],delete this.lover_timer[t.key],e.resetCache(),t.resetCache()}hookup(e,t){if(this.getLover(e)!=t){if(this.is_lovers[e.key])throw new Error(`Unit ${e.key} is already lovers with another!`);if(this.is_lovers[t.key])throw new Error(`Unit ${t.key} is already lovers with another!`);this._recomputeBestFriend(e,t,!0),this._recomputeBestFriend(t,e,!0),this.getLover(e)&&(e.isYourCompany()||t.isYourCompany())&&setup.notify("a|rep and b|rep become <<successtextlite 'lovers'>>...",{a:e,b:t}),e.resetCache(),t.resetCache()}}isCanBecomeLovers(e,t){return!(e.getLover()||t.getLover()||!e.isSlaver()||!t.isSlaver()||!this.isCanChangeLoversStatus(e)||!this.isCanChangeLoversStatus(t)||this.getFriendship(e,t)<setup.LOVERS_HOOKUP_FRIENDSHIP||!State.variables.settings.isCanBecomeLovers(e.getGender(),t.getGender())||State.variables.family.getRelation(e,t))}static rep(e){let t=e[0],a=e[1];return`${t.rep()}: <<friendship ${a}>>`}static loversIcon(){return setup.repImgIcon(setup.Unit.LOVERS_IMAGE_URL,"Lovers")}},o(ir,"Friendship"),ir),setup.Hospital=(rr=class extends setup.TwineClass{constructor(){super(),this.unit_injury_map={}}deleteUnit(e){delete this.unit_injury_map[e.key]}injureUnit(e,t){if(e.isSlaver()?(State.variables.statistics.add("injury_slaver_count",1),State.variables.statistics.add("injury_slaver_week_sum",t)):e.isSlave()&&(State.variables.statistics.add("injury_slave_count",1),State.variables.statistics.add("injury_slave_week_sum",t)),t==null&&(t=1),!(t<=0)){{let a=0;for(;a+setup.CURSE_INJURY_WEEKS<=(setup.CURSE_INJURY_MULTIPLIER-1)*t&&e.isHasTrait(setup.trait.curse_weakness1);)a+=setup.CURSE_INJURY_WEEKS,e.decreaseTrait(setup.trait.curse_weakness1.getTraitGroup());t+=a,a&&e.isYourCompany()&&setup.notify(`a|Reps Curse of Weakness adds ${a} extra weeks of injuries`,{a:e});let r=0;for(;t&&e.isHasTrait(setup.trait.blessing_protection1);){let s=Math.min(t,setup.BLESSING_INJURY_WEEKS);r+=s,t-=s,e.decreaseTrait(setup.trait.blessing_protection1.getTraitGroup())}r&&e.isYourCompany()&&setup.notify(`a|Reps Blessing of Injury prevents ${r} weeks of injuries`,{a:e})}t&&(e.key in this.unit_injury_map||(this.unit_injury_map[e.key]=0),this.unit_injury_map[e.key]+=t,e.isYourCompany()&&(setup.notify(`a|Rep a|is <<dangertext 'injured'>> for ${t} week${t!==1?"s":""}.`,{a:e}),e.isSlaver()?(State.variables.statistics.setMax("injury_slaver_week_max",this.getInjury(e)),State.variables.statistics.setMax("injury_slaver_simultaneous",State.variables.company.player.getUnits({job:setup.job.slaver,injured:!0}).length)):e.isSlave()&&(State.variables.statistics.setMax("injury_slave_week_max",this.getInjury(e)),State.variables.statistics.setMax("injury_slave_simultaneous",State.variables.company.player.getUnits({job:setup.job.slave,injured:!0}).length))))}}healUnit(e,t){e.key in this.unit_injury_map&&(t==null&&(t=1),this.unit_injury_map[e.key]-=t,this.unit_injury_map[e.key]<=0&&(delete this.unit_injury_map[e.key],e.isYourCompany()&&setup.notify("a|Rep a|have <<successtext 'recovered'>> from injuries.",{a:e})))}healRandom(){let e=State.variables.company.player.getUnits({injured:!0});if(e.length){let t=setup.rng.choice(e);return this.healUnit(t),t}return null}advanceWeek(){let e=Object.keys(this.unit_injury_map);for(let a=0;a<e.length;++a){let r=State.variables.unit[e[a]];r?this.healUnit(r):delete this.unit_injury_map[e[a]]}let t=State.variables.dutylist.getDuty("doctor");if(t){let a=0,r=setup.DOCTOR_ATTEMPTS;t.getProc()=="crit"&&(r=setup.DOCTOR_ATTEMPTS_CRIT);for(let s=0;s<r;++s){let n=t.getProc();(n=="proc"||n=="crit")&&this.healRandom()&&(a+=1)}a&&setup.notify(`${setup.capitalize(t.repYourDutyRep())} helps heal ${a} weeks of injuries`)}}isInjured(e){return this.getInjury(e)>0}getInjury(e){return e.key in this.unit_injury_map?!e.isYourCompany()&&!e.getMarket()?(this.healUnit(e,setup.INFINITY),0):this.unit_injury_map[e.key]:0}},o(rr,"Hospital"),rr),setup.Ire=(sr=class extends setup.TwineClass{constructor(){super(),this.company_ire_map={}}adjustIre(e,t){e.key in this.company_ire_map||(this.company_ire_map[e.key]=0);const a=this.company_ire_map[e.key];return this.company_ire_map[e.key]+=t,this.company_ire_map[e.key]=Math.max(this.company_ire_map[e.key],0),this.company_ire_map[e.key]-a}getIre(e){return e.key in this.company_ire_map?this.company_ire_map[e.key]:0}getIreDisplay(e){const t=this.getIre(e);return t==0?setup.DOM.toString(setup.DOM.Text.success("No grievances")):t<4?setup.DOM.toString(setup.DOM.Text.successlite("Very few grievances")):t<8?"Have disagreements with your company":t<12?setup.DOM.toString(setup.DOM.Text.dangerlite("Bears a grudge against your company")):t<16?setup.DOM.toString(setup.DOM.Text.dangerlite("Vengeful against your company")):t<20?setup.DOM.toString(setup.DOM.Text.danger("Almost at a breaking point! Get ready for retaliation")):setup.DOM.toString(setup.DOM.Text.danger("To Arms! This company will sabotage you very soon"))}_isCompanyKnown(e){return e.key in this.company_ire_map}},o(sr,"Ire"),sr),setup.Leave=(nr=class extends setup.TwineClass{constructor(){super(),this.unit_leave_map={}}deleteUnit(e){e.key in this.unit_leave_map&&delete this.unit_leave_map[e.key]}leave(e,t,a){if(e.key in this.unit_leave_map)throw new Error(`Unit ${e.key} is already on leave!`);if(a!==void 0&&a<=0)throw new Error("duration of leave cannot be 0 or negative");if(this.unit_leave_map[e.key]={duration_left:a,reason:t},e.isYourCompany()){let r="";const s=this.getLeaveReason(e);a?r=`a|Rep ${s}, and will be unavailable for ${a} weeks.`:r=`a|Rep ${s}, and will be unavailable for some time.`,setup.notify(r,{a:e})}}return(e){e.key in this.unit_leave_map&&(delete this.unit_leave_map[e.key],e.isYourCompany()&&setup.notify("a|Rep a|is now available again.",{a:e}))}isOnLeave(e){return e.key in this.unit_leave_map}isLeaveDurationUnknown(e){return e.key in this.unit_leave_map?!this.unit_leave_map[e.key].duration_left:0}getRemainingLeaveDuration(e){if(!(e.key in this.unit_leave_map))return 0;if(this.isLeaveDurationUnknown(e))throw new Error("remaining duration unknown");return this.unit_leave_map[e.key].duration_left}getLeaveReason(e){if(!(e.key in this.unit_leave_map))throw new Error("unit not on leave and has no reason");return setup.Text.replaceUnitMacros(this.unit_leave_map[e.key].reason,{a:e})}advanceWeek(){for(const e of Object.keys(this.unit_leave_map))this.unit_leave_map[e].duration_left&&(this.unit_leave_map[e].duration_left-=1,this.unit_leave_map[e].duration_left<=0&&this.return(State.variables.unit[e]))}},o(nr,"Leave"),nr),setup.keyOrSelf=function(i){return setup.isString(i)?i:i.key},setup.selfOrObject=function(i,e){if(typeof i=="string"){if(!(i in e))throw new Error(`${i} not found in ${e}!`);return e[i]}else return i},setup.copyProperties=function(i,e){Object.keys(e).forEach(function(t){i[t]=clone(e[t])})},setup.nameIfAny=function(i){return i&&"getName"in i?i.getName():null},setup.isString=function(i){return Object.prototype.toString.call(i)==="[object String]"},setup.escapeJsString=function(i){return i.split("\\").join("\\\\").split("'").join("\\'").split('"').join('\\"')},setup.capitalize=function(i){return i.substr(0,1).toUpperCase()+i.substr(1)};const bi=/(\b[a-z](?!\s))/g;setup.capitalizeWords=function(i){return i.replace(bi,e=>e.toUpperCase())},setup.title_case=function(i){return i.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})};const aw=/[&<>"']/g,iw={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};setup.escapeHtml=function(i){return i.replace(aw,e=>iw[e])},setup.resolveImageUrl=function(i){return window.IMAGES&&window.IMAGES[i]||i},setup.repImg=function({imagepath:i,tooltip_content:e,tooltip_noclick:t,extra_class:a}){const r=`<img src="${setup.escapeHtml(setup.resolveImageUrl(i))}" />`;if(e||a){const s=t?" data-tooltip-noclick":"";return`<span ${e?`data-tooltip="${setup.escapeHtml(e)}" ${s}`:""} ${a?`class="${a}"`:""}>${r}</span>`}else return r},setup.repImgIcon=function(i,e){return setup.repImg({imagepath:i,tooltip_content:e,extra_class:"trait"})},setup.repMessage=function(i,e,t,a,r){return setup.repMessageDict({instance:i,macroname:e,icontext:t,message:a})},setup.repMessageDict=function({instance:i,macroname:e,icontext:t,message:a,text_class:r}){a||(a=i.getName());let s=t||"";return s+=`<span data-tooltip="<<${e} '${i.key}' 1>>" data-tooltip-wide>`,s+=`<a class="replink ${r||""}">${a}</a>`,s+="</span>",s},setup.getKeyFromName=function(i,e,t){let a=i.replace(/\W/g,"_").toLowerCase().replace(/_+/g,"_"),r=a;if(t)return r;let s=1;for(;r in e;)s+=1,r=`${a}${s}`;return r},setup.getUnitPlayerLevelDifficulty=function(){const i=Math.min(State.variables.unit.player.getLevel(),setup.LEVEL_PLATEAU);return setup.qdiff[`normal${i}`]},setup.lowLevelMoneyMulti=function(){const i=setup.getUnitPlayerLevelDifficulty(),e=setup.qdiff[`normal${setup.LEVEL_PLATEAU}`];return i.getMoney()/e.getMoney()},setup.nudgeMoney=function(i){const e=setup.MONEY_NUDGE;let t=Math.random()*e;return Math.random()<.5&&(t*=-1),Math.round(i*(1+t))},setup.swapValues=function(i,e,t){const a=i[e];i[e]=i[t],i[t]=a},setup.isAbsoluteUrl=function(i){return/^(?:\/|[a-z]+:\/\/)/.test(i)},setup.runSugarCubeCommand=function(i){new Wikifier(null,i)},setup.runSugarCubeCommandAndGetOutput=function(i){const e=document.createDocumentFragment();return new Wikifier(e,i),setup.DOM.toString(e)},setup.querySelectorRelative=function(i,e){const t=[...e.matchAll(/\s*\</g)],a=t.length?t[t.length-1].index+t[t.length-1][0].length:0,r=e.substr(a).trim();for(let s=0;s<t.length&&i;++s)i=i.parentElement;return r.length&&(r.startsWith("#")?i=document.querySelector(r):i&&(i=$(i).find(r).get(0))),i||null},setup.evalJsPath=function(i,e,t,a){const r=[...i.matchAll(/(\.?[$\w_]+|\[\d+\])/g)];!e&&r.length&&r[0][1].startsWith("$")&&(e=State.variables,r[0][1]=r[0][1].substr(1)),!e&&r.length&&r[0][1].startsWith("_")&&(e=State.temporary,r[0][1]=r[0][1].substr(1));let s=null;t&&r.length&&(s=r.pop());for(const n of r){let l=n[1];if(l.startsWith("[")){if(!Array.isArray(e))throw new Error(`Invalid JS path '${i}', expected array but found ${typeof e}`);e=e[+l.substr(1,l.length-2)]}else e=e[l.startsWith(".")?l.substr(1):l]}if(t&&s){let n=s[1];n.startsWith("[")?e[+n.substr(1,n.length-2)]=a:e[n.startsWith(".")?n.substr(1):n]=a}return e},setup.evalJsPathAssign=function(i,e,t){return setup.evalJsPath(i,e,!0,t)},setup.costUnitHelper=function(i,e){const t={getActorUnit:o(()=>i,"getActorUnit")};return e&&(t.getName=()=>e),t},setup.costUnitHelperDict=function(i,e){const t={getActorUnit:o(a=>i[a],"getActorUnit")};return e&&(t.getName=()=>e),t},setup.deepCopy=function(i){return JSON.parse(JSON.stringify(i))},setup.allPermutations=function(i,e){if(i==0)return[[]];if(i>e.length)return[];const t=[];for(let a=0;a<e.length;++a){const r=e.filter(s=>!0);r.splice(a,1);for(const s of setup.allPermutations(i-1,r))t.push([e[a]].concat(s))}return t};const rw="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiCiAgIHdpZHRoPSI2MDAiCiAgIGhlaWdodD0iNDUwIgogICB2aWV3Qm94PSIwIDAgNjAwIDQ1MCIKICAgdmVyc2lvbj0iMS4xIgogICBpZD0ic3ZnOCI+CiAgPHN0eWxlCiAgICAgaWQ9InN0eWxlcyI+LnJlZ2lvbjpob3ZlciB7IG9wYWNpdHk6IDE7IH0KLnJlZ2lvbiB7IHN0cm9rZTogbm9uZTsgZmlsbDogcmdiYSgyNTUsMjU1LDAsMC4xNSk7IG9wYWNpdHk6IDA7IHRyYW5zaXRpb246IG9wYWNpdHkgMC4yNXM7IGZpbHRlcjogdXJsKCNyZWdpb24tYmx1cikgfQouRURJVE9SX1NUWUxFUyAucmVnaW9uIHsgc3Ryb2tlOiBub25lOyBmaWxsOiBibGFjazsgb3BhY2l0eTogMC4yNTsgZmlsdGVyOiBub25lIH0KPC9zdHlsZT4KICA8ZGVmcwogICAgIGlkPSJkZWZzIiAvPgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YSI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgICA8ZGM6dGl0bGU+PC9kYzp0aXRsZT4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGZpbHRlcgogICAgIGlkPSJyZWdpb24tYmx1ciIKICAgICB4PSItNTAlIgogICAgIHk9Ii01MCUiCiAgICAgd2lkdGg9IjIwMCUiCiAgICAgaGVpZ2h0PSIyMDAlIj4KICAgIDxmZUdhdXNzaWFuQmx1cgogICAgICAgc3RkRGV2aWF0aW9uPSI1IgogICAgICAgaWQ9ImZlR2F1c3NpYW5CbHVyNiIgLz4KICA8L2ZpbHRlcj4KICA8ZwogICAgIGlkPSJ3b3JsZG1hcCIKICAgICBjbGFzcz0iRURJVE9SX1NUWUxFUyI+CiAgICA8aW1hZ2UKICAgICAgIHhsaW5rOmhyZWY9Ii4uJTVDLi4lNUNkaXN0JTVDaW1nJTVDbm9lbWJlZCU1Q21hcC5qcGciCiAgICAgICB5PSIwIgogICAgICAgeD0iMCIKICAgICAgIGlkPSJtYXBpbWFnZSIKICAgICAgIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiCiAgICAgICBoZWlnaHQ9IjQ1MCIKICAgICAgIHdpZHRoPSI2MDAiIC8+CiAgICA8cGF0aAogICAgICAgaWQ9InJlZ2lvbl9kZXNlcnQiCiAgICAgICBkYXRhLXRvb2x0aXA9IiZsdDsmbHQ7bG9yZWNhcmRrZXkgJ3JlZ2lvbl9kZXNlcnQnJmd0OyZndDsiCiAgICAgICBkYXRhLXRvb2x0aXAtZGlzdGFuY2U9IjAiCiAgICAgICBkPSJtIDQzMy4wNTg1MywxNDQuODg3OTYgYyA1NS42Njg1MiwtMjMuMTc1OTUgMTcwLjY5NTQ0LC0xOC4xOTM3NiAxNjguODY0NDksLTIzIHYgMzAyLjY1ODUyIGMgMCwwIC02NC44NTU5MSwtMjYuNzk1NiAtODIuODAwOTEsLTc5LjUzNjkgLTEyLjA3MjA5LC0zNS40ODA1MSAtNjAuNjcwNDksLTYuNDQzNCAtNzUuODIzODUsLTMwLjgxNjY1IEMgNDI0LjU1NDYsMjg0LjA0NDkyIDM4My4zODI0MiwxNzQuMzk1NjUgNDMzLjA1ODUzLDE0NC44ODc5NiBaIgogICAgICAgY2xhc3M9InJlZ2lvbiIgLz4KICAgIDxwYXRoCiAgICAgICBpZD0icmVnaW9uX3ZhbGUiCiAgICAgICBkYXRhLXRvb2x0aXA9IiZsdDsmbHQ7bG9yZWNhcmRrZXkgJ3JlZ2lvbl92YWxlJyZndDsmZ3Q7IgogICAgICAgZGF0YS10b29sdGlwLWRpc3RhbmNlPSIwIgogICAgICAgZD0ibSAxMTIsMCAzNTYuNzQxMTUsLTAuMTg5Njk0MjcgYyAwLDAgLTEzLjczODczLDc1LjY5ODc5NzI3IC00Myw5My43NDYwMTAyNyBDIDM1NS41NjU0NSwxMzYuODM3OTYgMjUyLjA0MiwxMjIuMTYzIDE3OC41NDc3Nyw4NC43OTI4NjQgMTQ2LjUyMDY4LDY4LjUwNzgyIDExMiwwIDExMiwwIFoiCiAgICAgICBjbGFzcz0icmVnaW9uIiAvPgogICAgPHBhdGgKICAgICAgIGlkPSJyZWdpb25fc2VhIgogICAgICAgZGF0YS10b29sdGlwPSImbHQ7Jmx0O2xvcmVjYXJka2V5ICdyZWdpb25fc2VhJyZndDsmZ3Q7IgogICAgICAgZGF0YS10b29sdGlwLWRpc3RhbmNlPSIwIgogICAgICAgZD0ibSAxLDI0Ny42NzkwOCBjIDkuNjI2NDYsLTE0Ljc5NTkgMjUuNjM1NDg4LC0yMi4xNjI0OCAyNy40NTk3NiwtOC45MDgxNiAxOC4zMDA0OTEsMTMyLjk2Mjk5IDgyLjIzODMzLDEzNy43NTAyNSA2Ny40NzMyMzcsOTUuMjA5MDkgLTIuMzMyNTE5LC02LjcyMDQ1IC0xOS41NDE2MjcsLTQuOTg5NzEgLTE4Ljg1NTY1OSwtMjkuNTc5NjMgMC40ODg5NzgsLTE3LjUyODM5IDIyLjU0MTU5MSwwLjcwMDYgOS43NjYyNzcsLTMyLjM1NDMyIC01LjA3MzcwMywtMTMuMTI3NzMgNC4xNTI5MTYsLTU2LjY3MzUzIDI2Ljg0ODEwNSwtNzQuMzkxNzYgMTQuNzgyODcsLTExLjU0MTA0IDU2LjQ3OTI1LDUuMTE1MzMgNzAuOTc0ODYsMTMuMjI3NzYgMTkuNzI0NjYsMTEuMDM4ODUgNTkuNDE0MjYsOTAuNzY0ODUgNzEuMDM4ODEsMTA3LjY0OTIxIDM0LjE3ODY4LDQ5LjY0MzY2IDQ2LjUzNjQ0LC0xLjYyNDI2IDYwLjQ2MjA3LDEzLjMyNzk4IDEyLjQ0NzQ2LDEzLjM2NTEgOTguNDczNjMsMjMuMDM1NzMgNzcuODgyNzksNDAuNjI1MyAtMjEuMzc5MTUsMTguMjYyOTkgNzYuNjA1Niw3MC4yOTEzMyA2My45ODQ0Nyw3Ny41MTU0NSBIIDAgWiIKICAgICAgIGNsYXNzPSJyZWdpb24iCiAgICAgICBzdHlsZT0ic3Ryb2tlLXdpZHRoOjAuOTYyOTk0IiAvPgogICAgPHBhdGgKICAgICAgIGlkPSJsb2NhdGlvbl9mb3J0IgogICAgICAgZGF0YS10b29sdGlwPSImbHQ7Jmx0O2xvcmVjYXJka2V5ICdsb2NhdGlvbl9mb3J0JyZndDsmZ3Q7IgogICAgICAgZGF0YS10b29sdGlwLWRpc3RhbmNlPSIwIgogICAgICAgZD0ibSAxNzMuMzE2MjIsMTA0LjE3OTQ3IGMgMTguNjYwNDIsLTE4LjY2MDQxNyA2MC41MDkwMywtMTguNjYwNDE3IDc5LjE2OTQ1LDAgMTkuMjI3MjYsMTkuMjI3MjYgMTkuMjI3MjYsNjIuMzQ3MTEgMCw4MS41NzQzNyAtMTguNjYwNDIsMTguNjYwNDIgLTYwLjUwOTAzLDE4LjY2MDQyIC03OS4xNjk0NSwwIC0xOS4yMjcyNiwtMTkuMjI3MjYgLTE5LjIyNzI2LC02Mi4zNDcxMSAwLC04MS41NzQzNyB6IgogICAgICAgY2xhc3M9InJlZ2lvbiIgLz4KICAgIDxwYXRoCiAgICAgICBpZD0icmVnaW9uX2NpdHkiCiAgICAgICBkYXRhLXRvb2x0aXA9IiZsdDsmbHQ7bG9yZWNhcmRrZXkgJ3JlZ2lvbl9jaXR5JyZndDsmZ3Q7IgogICAgICAgZGF0YS10b29sdGlwLWRpc3RhbmNlPSIwIgogICAgICAgZD0ibSAyMDkuMjMyNzUsMjE3Ljg3OTAxIGMgNDAuODY3NjIsLTMxLjQyNDkzIDgyLjMxNDM5LC0zNS4zMTQwMSAxMjMuMTgyMDIsLTMuODg5MDggMzMuMDY0NzcsMjUuNDI0OTYgMTE3LjI4MjE4LDUyLjYyMjQxIDQ0LjkwMTI4LDEyNi4yNTM3OSAtOTIuMzU5MTQsOTMuOTU0NzYgLTIwNS45NzAyLC04MC44MDIwNyAtMTY4LjA4MzMsLTEyMi4zNjQ3MSB6IgogICAgICAgY2xhc3M9InJlZ2lvbiIKICAgICAgIHN0eWxlPSJzdHJva2Utd2lkdGg6MC45NjU2OTciIC8+CiAgICA8cGF0aAogICAgICAgaWQ9InJlZ2lvbl9mb3Jlc3QiCiAgICAgICBkYXRhLXRvb2x0aXA9IiZsdDsmbHQ7bG9yZWNhcmRrZXkgJ3JlZ2lvbl9mb3Jlc3QnJmd0OyZndDsiCiAgICAgICBkYXRhLXRvb2x0aXAtZGlzdGFuY2U9IjAiCiAgICAgICBkPSJtIDAuNDgxNTU2NTksLTAuMDM0NDQgYyAwLDAgODguNjcxNjU1NDEsNS44NDQ4MDc5IDExNi4zMzk3NDM0MSwzNy40NTkwMSAxNy45NjQ4OCwyMC41MjcwOTIgNTMuMDM2MDEsMTM4LjgxODg0IDQuNjg4NjYsMTY5LjA3NzAxIEMgODkuMDU1MDI4LDIyNi44MTM0OSAxNDYuNjg1MDIsMzQ2LjQ0NjAyIDk2LjY2NzgyMiwzNjAuMjMzOTMgOS43OTk2NDY5LDM4NC4xODAzMSAzOS41NzE0NjUsMzEzLjkzMTY0IDAuNDgxNTU2NTksMjQ4LjAzMjczIFoiCiAgICAgICBjbGFzcz0icmVnaW9uIiAvPgogIDwvZz4KPC9zdmc+Cg==";setup.Lore=(ti=class extends setup.TwineClass{constructor(e,t,a,r){if(super(),this.key=e,this.tags=a,this.name=t,this.description_passage=`LORE_${e}`,this.restrictions=r,!Story.has(this.description_passage))throw new Error(`Passage ${this.description_passage} not found for lore ${e}!`);if(e in setup.lore)throw new Error(`Duplicate lore ${e}`);setup.lore[e]=this}getName(){return this.name}getTags(){return this.tags}getDescriptionPassage(){return this.description_passage}getRestrictions(){return this.restrictions}isVisible(){return setup.RestrictionLib.isPrerequisitesSatisfied(null,this.getRestrictions())}rep(e){return e?setup.repMessage(this,"lorecardkey",void 0,this.getName().toUpperFirst()):setup.repMessage(this,"lorecardkey")}static repLore(e,t){const a=setup.lore[e];if(!a)throw new Error(`Lore ${e} not found!`);return a.rep(t)}},o(ti,"Lore"),y(ti,"WORLDMAP_REGIONS_SVG",rw.replace("EDITOR_STYLES","EDITOR_STYLES_DISABLED").replace('xlink:href="..%5C..%5Cdist%5Cimg%5Cnoembed%5Cmap.jpg"',`xlink:href="${setup.escapeHtml(setup.resolveImageUrl("img/noembed/map.jpg"))}"`)),ti),setup.Notification=(or=class extends setup.TwineClass{constructor(){super(),this.notifications=[],this.to_be_deleted=[],this.delete_next=[],this.disabled_semaphore=0}disable(){this.disabled_semaphore+=1}enable(){if(this.disabled_semaphore-=1,this.disabled_semaphore<0)throw new Error("Disabled semaphore cannot be negative!")}isDisabled(){return this.disabled_semaphore>0}popAll(){if(this.isDisabled())return[];let e=this.notifications;return this.notifications=[],e}addNotification(e){this.isDisabled()||this.notifications.push(e)}deleteAll(){for(let e=0;e<this.delete_next.length;++e){let t=this.delete_next[e],a=State.variables[t.container_name][t.key];a&&a.delete()}this.delete_next=this.to_be_deleted,this.to_be_deleted=[]}},o(or,"Notification"),or),setup.notify=function(i,e){let t;e?t=setup.Text.replaceUnitMacros(i,e):t=i,State.variables.notification.addNotification(t)},setup.queueDelete=function(i,e){if(!(e in State.variables))throw new Error(`Unknown ${e} for queueDelete`);State.variables.notification.to_be_deleted.push({key:i.key,container_name:e})},setup.Settings=(Zt=class extends setup.TwineClass{constructor(){super(),this.bannedtags={},this.gender_preference={slave:"neutral",slaver:"neutral"},this.other_gender_preference="neutral";for(let e of setup.TagHelper.getAllTagsOfType("quest","fetish"))this.bannedtags[e]=!1;this.autosave_interval=5,this.hidequestdescription=!1,this.hideeventdescription=!1,this.animatedtooltips=!0,this.summarizeunitskills=!1,this.challengemode=!1,this.hideskintraits=!1,this.unitactionautoassign=!0,this.unsortedskills=!1,this.unitimagefull=!1,this.hidequestoutcome=!1,this.mobilemode=!1,this.hidecontentimages=!1,this.rightsidebar="unit",this.lovers_mf=!0,this.lovers_mm=!0,this.lovers_ff=!0,this.inline_icon=!1,this.inline_color=!0,this.inline_font=!1,this.disabled_sex_actions={}}static difficulty_to_human(e){return e in setup.Settings.DIFFICULTIES?setup.Settings.DIFFICULTIES[e]:setup.Settings.DIFFICULTY_DEFAULT}getDifficultyHumanReadable(){return setup.Settings.difficulty_to_human(this.challengemode)}shouldAutosave(e){return this.autosave_interval<=0?!1:this.autosave_interval==1?!0:e%this.autosave_interval==1}isCanBecomeLovers(e,t){return e==t?e==setup.trait.gender_male?this.lovers_mm:this.lovers_ff:this.lovers_mf}isSexActionDisabled(e){return e.constructor.name in this.disabled_sex_actions}toggleSexActionDisabled(e){const t=e.constructor.name;this.isSexActionDisabled(e)?delete this.disabled_sex_actions[t]:this.disabled_sex_actions[t]=!0}getGenderRandom(e){let t=this.getGenderPreference(e),a=t.retries,r="gender_female";for(Math.random()<.5&&(r="gender_male");a&&r!=t.trait_key;){if(Math.random()<.5){r=t.trait_key;break}--a}return setup.trait[r]}getGenderPreference(e){let t=this.other_gender_preference;if(e){if(!(e.key in this.gender_preference))throw new Error(`Unknown job for gender pref: ${e.key}`);t=this.gender_preference[e.key]}if(!(t in setup.SETTINGS_GENDER_PREFERENCE))throw new Error("Unknown gender preferences");return setup.SETTINGS_GENDER_PREFERENCE[t]}getBannedTags(){let e=[];for(let t in this.bannedtags)this.bannedtags[t]&&e.push(t);return e}isBanned(e){let t=this.getBannedTags();for(let a=0;a<e.length;++a)if(t.includes(e[a]))return!0;return!1}},o(Zt,"Settings"),y(Zt,"DIFFICULTY_DEFAULT","Standard"),y(Zt,"DIFFICULTIES",{unfair:"Unfair",impossible:"Impossible"}),Zt),setup.SETTINGS_GENDER_PREFERENCE={allfemale:{name:"Almost all females",trait_key:"gender_female",retries:20},mostfemale:{name:"Mostly females (around 95%)",trait_key:"gender_female",retries:3},female:{name:"Leaning towards female (around 75%)",trait_key:"gender_female",retries:1},neutral:{name:"Equal male/female ratio",trait_key:"gender_male",retries:0},male:{name:"Leaning towards male (around 75%)",trait_key:"gender_male",retries:1},mostmale:{name:"Mostly males (around 95%)",trait_key:"gender_male",retries:3},allmale:{name:"Almost all males",trait_key:"gender_male",retries:20}},setup.SkillHelper={},setup.Skill=(lr=class extends setup.TwineClass{constructor(e,t,a){if(super(),this.key=setup.skill.length,this.keyword=e,this.name=t,this.description=a,e in setup.skill)throw new Error(`Duplicate role ${e}`);setup.skill[e]=this,setup.skill.push(this)}getName(){return this.name}getDescription(){return this.description}getImage(){return this.keyword=="social"?"img/role/sc.svg":`img/role/${this.keyword}.svg`}getImageRep(){return setup.repImgIcon(this.getImage())}rep(){return setup.repImgIcon(this.getImage(),`<<tooltipskill '${this.key}'>>`)}repPositive(){return`<span class='skillcardglow'>${this.rep()}</span>`}static translate(e){if(Array.isArray(e)){if(e.length!=setup.skill.length)throw new Error(`${e} length not correct`);return e}let t=Array(setup.skill.length).fill(0);for(let a in e){if(!(a in setup.skill))throw new Error(`Unrecognized skill: ${a}`);let r=setup.skill[a];t[r.key]=e[a]}return t}static makeEmptySkills(){return Array(setup.skill.length).fill(0)}},o(lr,"Skill"),lr),setup.SkillHelper.explainSkillMods=function(i,e,t){let a=setup.Skill.translate(i),r=[],s=" x ";t&&(s=" ");for(let n=0;n<a.length;++n)if(a[n]){let l=setup.skill[n].rep();e&&(l=setup.skill[n].getName());let u="";a[n]>0&&(u="+");let h=Math.round(a[n]*100),p=1;h%10&&(p=2);let c=`${u}${(h/100).toFixed(p)}`;e||(u=="+"?c=setup.DOM.toString(setup.DOM.Text.successlite(c)):c.startsWith("-")&&(c=setup.DOM.toString(setup.DOM.Text.dangerlite(c)))),r.push(`${c}${s}${l}`)}return r.join("")},setup.SkillHelper.explainSkillModsShort=function(i,e,t){let a=setup.Skill.translate(i),r=[];for(let s=0;s<a.length;++s)if(a[s]){let n=setup.skill[s].rep();e&&(n=setup.skill[s].getName()),t&&t.getSkillFocuses().includes(setup.skill[s])&&(n=`${setup.skill[s].repPositive()}`),r.push(`${n}`);for(let l=2;l<=a[s]+1e-7;++l)r.push(`${n}`)}return r.join("")},setup.SkillHelper.explainSkillWithAdditive=function(i,e){const t=e.rep(),a=State.variables.skillboost.getBoosts(i)[e.key],r=i.getSkillsBase()[e.key],s=i.getSkillsAdd()[e.key];let n;a?n=setup.DOM.toString(setup.DOM.Text.infolite(`${r}`)):n=`${r}`;let l="";s>0?l+=setup.DOM.toString(setup.DOM.Text.successlite(`+${s}`)):s<0&&(l+=setup.DOM.toString(setup.DOM.Text.dangerlite(`-${-s}`)));const u=`<<unitskillcardkey "${i.key}" ${e.key}>>`;if(State.variables.settings.summarizeunitskills){let h=`${i.getSkill(e)}`;return a>0&&s>=0?h=setup.DOM.toString(setup.DOM.Text.infolite(h)):s>0?h=setup.DOM.toString(setup.DOM.Text.successlite(h)):s<0&&(h=setup.DOM.toString(setup.DOM.Text.dangerlite(h))),`<span data-tooltip='${u}'>${h}</span> ${t}`}else return`<span data-tooltip='${u}'>${n}${l}</span> ${t}`},setup.SkillHelper.explainSkillsWithAdditives=function(i){const e=i.getSkillsBase(!0);let t=[];for(let a=0;a<e.length;++a)e[a]&&t.push(setup.SkillHelper.explainSkillWithAdditive(i,setup.skill[a]));return t.join("")},setup.SkillHelper.explainSkills=function(i,e,t){const a=setup.Skill.translate(i),r=[];for(let s=0;s<a.length;++s)if(a[s]){let n=setup.skill[s].rep();e&&(n=setup.skill[s].getName());let l;t?l=a[s].toFixed(1):l=Math.round(a[s]),r.push(`${l} ${n}`)}return r.join("")},setup.SkillHelper.explainSkillsCopy=function(i){let e=setup.Skill.translate(i),t="";for(let a=0;a<e.length;++a)if(e[a]){let r=setup.skill[a];for(let s=0;s<e[a];++s)t+=r.rep()}return t},setup.Skill_Cmp=function(i,e){return i.key<e.key?-1:i.key>e.key?1:0},setup.Skill.skillCheckCompare=function(i,e,t){let a=i.getSkill(t),r=e.getSkill(t),s=3,n=0;for(let l=0;l<s;++l){let u=a/2+Math.random()*(a/2),h=r/2+Math.random()*(r/2);u>h&&(n+=1)}return n==3?2:n==2?1:n==1?-1:-2},setup.SkillBoost=(ur=class extends setup.TwineClass{constructor(){super(),this.unit_key_to_skill_boosts={}}deleteUnit(e){delete this.unit_key_to_skill_boosts[e.key]}_getUnitBoosts(e){return e.key in this.unit_key_to_skill_boosts?this.unit_key_to_skill_boosts[e.key]:null}isHasBoost(e,t){const a=this._getUnitBoosts(e);return!!a&&!!a[t.key]}isHasAnyBoost(e){return!!this._getUnitBoosts(e)}getBoost(e,t){const a=this._getUnitBoosts(e);return a?a[t.key]:0}getBoosts(e){const t=this._getUnitBoosts(e);return t||Array(setup.skill.length).fill(0)}_adjustBoost(e,t,a){e.key in this.unit_key_to_skill_boosts||(this.unit_key_to_skill_boosts[e.key]=Array(setup.skill.length).fill(0)),this.unit_key_to_skill_boosts[e.key][t.key]+=a,e.resetCache()}_decaySkills(e){const t=[];for(const a of setup.skill){const s=this.getBoost(e,a)*setup.SKILL_BOOST_DECAY_RATE;Math.random()<s&&(this._adjustBoost(e,a,-1),t.push(a))}return t}addBoost(e,t){const a=this._decaySkills(e);e.isYourCompany()&&a.length&&setup.notify(`Due to having too many boosts, some of ${e.isYou()?"your":`${e.rep()}'s`}
         skill boosts have decayed: ${a.map(r=>r.rep())}
         <<include 'SkillBoostHelpText'>>
        `,{a:e}),this._adjustBoost(e,t,1),e.isYourCompany()&&setup.notify(`a|Reps ${t.rep()} has been permanently boosted
         <<include 'SkillBoostHelpText'>>
         by 1`,{a:e})}},o(ur,"SkillBoost"),ur),setup.Speech=(hr=class extends setup.TwineClass{constructor(e,t,a,r){if(super(),!e)throw new Error("null key for speech");if(this.key=e,!t)throw new Error(`null name for speech ${e}`);if(this.name=t,!a)throw new Error(`null description for speech ${e}`);this.description=a,this.trait_keys=[];for(let s=0;s<r.length;++s)this.trait_keys.push(r[s].key);if(e in setup.speech)throw new Error(`Speech ${e} duplicated`);setup.speech[e]=this}getDescription(){return this.description}getName(){return this.name}computeScore(e){let t=0;for(let a=0;a<this.trait_keys.length;++a){let r=setup.trait[this.trait_keys[a]];e.isHasTraitExact(r)&&++t}return t}getAdverbs(){return setup.SPEECH_ADVERBS[this.key]}rep(){return this.getName()}},o(hr,"Speech"),hr),setup.Statistics=(pr=class extends setup.TwineClass{constructor(){super(),this.money_max=0,this.money_max_gain=0,this.money_max_lose=0,this.prestige_max=0,this.quest_obtained=0,this.quest_obtained_veteran=0,this.quest_done_veteran=0,this.quest_max_simultaneous_have=0,this.quest_crit=0,this.quest_success=0,this.quest_failure=0,this.quest_disaster=0,this.quest_max_get_level=0,this.quest_max_took_level=0,this.opportunity_obtained=0,this.opportunity_answered=0,this.slavers_hired=0,this.slavers_max=0,this.slavers_lost=0,this.slavers_offered=0,this.slaves_hired=0,this.slaves_max=0,this.slaves_lost=0,this.slaves_offered=0,this.banters=0,this.interactions_slaver=0,this.interactions_slave=0,this.corruptions_slaver=0,this.corruptions_slave=0,this.purifications_slaver=0,this.purifications_slave=0,this.items_obtained=0,this.items_bought=0,this.items_lost=0,this.items_sold=0,this.items_offered=0,this.equipment_bought=0,this.equipment_offered=0,this.buildings_built=0,this.buildings_upgraded=0,this.slave_order_obtained=0,this.slave_order_fulfilled=0,this.slave_order_money_max=0,this.slave_order_money_sum=0,this.slave_order_slave_value_max=0,this.contact_obtained=0,this.injury_slaver_count=0,this.injury_slave_count=0,this.injury_slaver_week_sum=0,this.injury_slave_week_sum=0,this.injury_slaver_week_max=0,this.injury_slave_week_max=0,this.injury_slaver_simultaneous=0,this.injury_slave_simultaneous=0,this.trauma_count=0,this.trauma_week_max=0,this.trauma_week_sum=0,this.boon_count=0,this.boon_week_max=0,this.boon_week_sum=0,this.events=0,this.new_game_plus_count=0,this.quest_history={},this.regalixir_completed_previous_games=!1,this.questpool_scouted={},this.acquired_item_keys={},this.alchemist_item_keys={}}acquireItem(e){this.acquired_item_keys[e.key]=!0}putInAlchemistShop(e){this.alchemist_item_keys[e.key]=!0}isItemAcquired(e){return this.acquired_item_keys[e.key]}isItemInAlchemistShop(e){return this.alchemist_item_keys[e.key]}isHasSuccess(e){if(e.key in this.quest_history){const t=this.quest_history[e.key];return"crit"in t||"success"in t}return!1}addScoutedQuest(e){e.key in this.questpool_scouted||(this.questpool_scouted[e.key]=0),this.questpool_scouted[e.key]+=1}getScoutedQuestsCount(e){return this.questpool_scouted[e.key]||0}setQuestResult(e,t){e.key in this.quest_history||(this.quest_history[e.key]={}),this.quest_history[e.key][t]=!0}get(e){return e in this?this[e]:`Missing ${e} for get`}add(e,t){if(!(e in this))return`Missing ${e} for add`;if(t==null||t==null)return"Missing amt for add";this[e]+=t}setMax(e,t){if(!(e in this))return`Missing ${e} for setmax`;this[e]=Math.max(this[e],t)}},o(pr,"Statistics"),pr);const sw=["accepting","adventurous","affable","afraid","agile","aggressive","amber","ambitious","amiable","amicable","angry","annoying","aquamarine","arctic","arid","ash","asphalt","auburn","auspicious","average","avocado","azure","bare","basic","beige","bent","big","bisque","bitter","black","blaring","blazing","blistering","blocky","blue","bold","bone","booming","bordeaux","boxy","brass","brave","breezy","bright","brilliant","broad","bronze","brown","brutal","brute","burgundy","burning","callous","calm","camel","canary","caramel","careful","cautious","celeste","cerulean","chalky","champagne","charcoal","charitable","charming","chartreuse","cheerful","chestnut","chewy","chill","chilly","chocolate","chunky","citron","claret","clean","clear","clever","cloudy","coal","cobalt","coffee","cold","colorful","compact","complex","complicated","connected","convoluted","cool","coral","corn","courtly","crabby","crazy","cream","creamy","creative","crimson","crispy","cross","cruel","crunchy","cuddly","curious","cyan","damp","daring","dark","deafening","deep","denim","demonic","descriptive","desert","devout","diachronic","direct","drab","dry","dull","eager","easy","ebony","ecru","elaborate","elegant","elvish","emerald","energetic","excited","express","exotic","faded","faint","fancy","fast","fat","feral","feldspar","ferocious","figurative","flat","foggy","forgiving","free","freezing","friendly","frigid","frosty","fuchsia","full","funny","furious","generative","generous","genteel","gentle","giant","glad","glossy","glowing","glum","gold","graceful","grating","gray","greasy","great","green","grim","gritty","grouchy","grumpy","happy","hard","hasty","heartless","heather","helpful","honest","hot","huge","humane","humble","humid","humongous","hushed","icy","immediate","immense","impulsive","independent","indigo","indulgent","instant","intense","intricate","inventive","ivory","jet","jolly","jovial","khaki","kind","large","late","lazy","lenient","light","lime","lithe","little","lively","livid","lonely","long","loud","loyal","mad","magenta","marked","maroon","massive","matte","medium","meek","merciless","merry","messy","mighty","mild","miniature","mint","moist","molten","muffled","muscular","mute","muted","narrow","navy","neat","nervous","nice","nimble","nippy","noisy","obliging","obnoxious","obvious","odious","oily","olive","orange","ornery","overcast","pale","pallid","patient","piercing","pink","plain","pleasant","plum","pointed","poky","polite","prompt","proper","proud","pure","purple","quick","quiet","radiant","rainy","rapid","red","refined","regular","relaxed","religious","respectful","roaring","rosy","round","rounded","rowdy","rude","rust","sad","salmon","salty","savage","savory","scalding","scared","searing","seething","selfish","sensitive","serious","shiny","short","shrewd","shy","sienna","silent","silly","silver","simple","sizzling","skinny","sleek","slim","slow","sluggish","small","smart","smoggy","snow","snowy","soft","solid","sophisticated","sour","speedy","spicy","spry","steel","stern","straight","strong","stubborn","sunny","suspicious","sweet","swift","synchronic","tall","tan","tangy","tart","taxonomic","teal","tempestuous","tender","tense","thick","thin","thundering","timid","tiny","tomato","tough","tranquil","trusting","underground","unproductive","upbeat","urbane","vain","vibrant","vicious","violent","violet","vivid","wan","warm","wary","weary","weathered","were","white","wide","windy","wintry","wise","witty","wolvish","worn","worried","yellow","zesty"],nw=["aardvark","abbey","academy","acorn","administrator","agate","agent","albatross","alfalfa","alignment","alligator","alloy","aluminum","amberjack","ambush","analyst","anchovy","angel","angler","apparition","apple","apricot","aqueduct","arch","archer","architect","arena","armory","aroma","arrow","arrowroot","assistant","associate","athlete","avocado","avocet","axe","axel","ayu","backpack","badger","badminton","bag","bagel","baggage","bakery","ball","bamboo","banana","bank","banquette","barbel","barbette","bark","barn","barracks","barracuda","barrage","barrel","base","basil","basin","basket","bass","bassoon","bastion","bat","batter","battery","bay","bayonet","beaker","bean","beans","bear","beef","beer","bell","bench","berry","betta","bicycle","bike","bin","biscuit","bismuth","bison","blade","blockade","blowfish","boa","bocaccio","bocce","bongo","bookcase","bookshelf","bottle","bourbon","bow","bowl","box","brandy","brass","breach","bread","breakout","bridge","briefcase","bronze","broth","brush","bucket","bud","budgie","buffalo","buffet","bugle","bulb","bulwark","bunker","burbot","bureau","burger","bush","butter","buyer","cabana","cabinet","cactus","cadence","cafe","cake","can","canal","canary","candy","canister","cannon","canoe","cantaloupe","canteen","capitol","caramel","caribou","carp","carrier","carton","case","cask","casket","castle","catch","caviar","cayenne","celesta","cello","chair","chaise","chalet","charge","chateau","cheese","cheetah","cherry","chest","chick","chickadee","chicken","chili","chimpanzee","chives","chocolate","chrome","chutney","cider","cilantro","cinnamon","citadel","citron","citrus","civet","clarinet","cleats","clerk","clover","club","coach","cobbler","cobra","cockatiel","cockatoo","cocoa","coconut","cod","coffee","coffer","cognac","column","commander","compete","comptroller","consultant","container","controller","cookie","cooler","coordinator","coot","copper","cordon","coriander","cork","corolla","cottage","couch","cougar","cover","covey","coyote","crate","cream","credenza","crew","cricket","crocodile","croissant","crow","crumble","crypt","cube","cuckoo","cuisine","cumin","curd","curry","cycle","cyclist","cymbal","dam","dart","darter","date","defense","defilade","demon","demonkin","designer","dessert","developer","diamond","dill","dingo","directive","director","dish","distance","dive","diver","dome","dove","dragonkin","drawbridge","drawer","drill","drink","drum","duck","eagle","echelon","eel","eggs","element","elf","elk","emerald","emrasure","enfilade","engineer","entree","envelope","executive","exercise","extraction","facilitator","factory","falcon","fencing","fennel","fern","field","fig","file","filet","finch","fish","fitness","flamingo","flank","flask","flora","flounder","flour","flower","flute","foie gras","folder","food","forest","formation","fort","fortress","fossa","foundry","fowl","fox","frisbee","front","fruit","futon","gallery","game","garage","garden","garlic","gazebo","gear","ghost","ghoul","gin","ginger","glass","glaze","goal","goalie","goat","gold","goldfinch","golf","golfer","gong","goose","grain","grape","graphite","grass","grill","grouper","grouse","grove","guard","guava","guide","guitar","gym","gymnast","haddock","halberd","halibut","halite","hall","hamburger","harp","hawk","head","helmet","herb","heron","herring","hockey","holder","home","honey","hoop","hoops","horn","horseradish","hospital","hostel","hotel","human","hutch","ice","infantry","infield","inning","instructor","interval","iron","ivy","jackal","jackdaw","jaguar","jail","jar","javelin","jay","jog","judo","jug","juice","jump","jumper","jungle","juniper","karate","kayak","keep","kelp","kestrel","ketchup","kiosk","kitchen","kite","kiwi","knife","komodo","kudzu","laboratory","lacrosse","lamb","lard","lark","lead","leaf","league","lemon","leopard","levee","liason","library","lighthouse","lily","lime","lion","liqueur","liquor","lizardkin","locker","lodge","loon","lose","loser","loveseat","luge","luggage","lynx","macaw","mace","mackerel","magpie","major","mallet","mamba","manager","mandrill","mango","manor","margarine","marimba","marina","marinade","market","marlin","martin","mat","mayo","mayonnaise","meat","medal","melee","melon","mercury","milk","mill","mint","miso","mitt","moat","monastery","monitor","monument","mosque","moss","motel","mousse","move","muffin","mulberry","mullet","museum","mushroom","mustard","nectar","nectarine","neko","net","nickel","noodle","nut","nutmeg","oboe","observatory","ocelot","offense","officer","oil","olive","olympics","omelette","onion","orange","orc","orchestrator","oregano","osprey","ostrich","otter","ottoman","out","outpost","outwork","owl","packet","paddle","pagoda","palace","palisade","palm","pan","papaya","paprika","parakeet","parrot","parsley","pasta","paste","pastry","pavilion","peach","pear","pelican","penguin","pepper","perch","pesto","petal","petrel","phalanx","phantasm","phantom","pheasant","piano","piccolo","pie","pigeon","pike","pineapple","pintail","pitch","pizza","planner","plant","plate","platinum","play","player","plum","pocket","pod","pole","pollen","pollock","polo","poltergeist","pool","pork","post","pot","pouch","pouf","poutine","prison","producer","prune","puck","pudding","puffin","purse","python","quail","quarter","quartz","quetzal","quiver","rabbit","race","racer","rack","raclette","raid","rail","raisin","rank","raspberry","ravelin","raven","ray","razorbill","recipe","recon","rectory","redoubt","referee","refinery","relay","relish","remoulade","representative","resin","restaurant","retreat","rhea","rice","ride","rink","road","rook","root","rosemary","rout","row","rower","rum","sack","sage","sail","salad","salamander","salmon","salsa","salt","sandwich","sap","sardine","satchel","sauce","sauerkraut","sax","scallop","school","score","scotch","scuba","seasoning","sectional","seed","serval","sesame","settee","shark","shed","shoot","shrike","shrine","shrub","sideboard","siege","silo","silver","skate","ski","skier","skillet","skirmish","skua","skylark","slalom","sled","sledder","snapper","snare","snipe","snowboard","soccer","soda","sofa","sole","sortie","soul","soup","soy","sparrow","spear","specialist","specter","spice","spine","spirit","spook","spore","sport","sprite","sprout","squash","sriracha","stable","stadium","stalk","starling","station","steak","steel","stem","step","stew","stick","stockade","stool","store","stork","strategist","string","sugar","suitcase","supervisor","surfer","surrender","swallow","swift","swim","swimmer","sword","syrup","tag","tambourine","tanager","tangerine","target","tarragon","tartar","taste","tea","team","technician","tee","temple","tennis","tequila","theater","thorn","throw","thrush","thyme","tie","tiger","tigerkin","tilapia","timpani","tin","titanium","toast","tote","toucan","tower","trainer","tray","tree","trench","triangle","triathlon","trombone","trout","trumpet","trunk","tub","tuba","tube","tuna","tungsten","tunnel","turkey","turmeric","turret","twig","umpire","urn","vase","vault","veal","vein","venison","viaduct","vial","vibes","vine","vinegar","viola","violin","viper","vodka","volley","vulture","waffle","walk","wall","warbler","watchtower","water","weed","weight","werewolf","wheat","whisky","win","wine","winner","winning","withdrawal","wok","wolf","wolverine","wood","wraith","wrestler","writer","xylophone","yak","yeast","yogurt","zinc"],ow={male_first:o(()=>setup.rng.choice(setup.NAME_fantasy_male_first_name),"male_first"),female_first:o(()=>setup.rng.choice(setup.NAME_fantasy_female_first_name),"female_first"),surname:o(()=>setup.rng.choice(setup.NAME_fantasy_surname),"surname")},lw={male_first:o(()=>setup.rng.choice(setup.NAME_norse_male_first_name),"male_first"),female_first:o(()=>setup.rng.choice(setup.NAME_norse_female_first_name),"female_first"),surname:o(()=>setup.rng.choice(setup.NAME_norse_surname),"surname")},uw={male_first:o(()=>setup.rng.choice(setup.NAME_werewolf_male_first_name),"male_first"),female_first:o(()=>setup.rng.choice(setup.NAME_werewolf_female_first_name),"female_first"),surname:o(()=>setup.rng.choice(setup.NAME_norse_surname),"surname")},hw={male_first:o(()=>setup.rng.choice(setup.NAME_arabic_male_first_name),"male_first"),female_first:o(()=>setup.rng.choice(setup.NAME_arabic_female_first_name),"female_first"),surname:o(()=>setup.rng.choice(setup.NAME_arabic_surname),"surname")},pw={male_first:o(()=>setup.rng.choice(setup.NAME_japanese_male_first_name),"male_first"),female_first:o(()=>setup.rng.choice(setup.NAME_japanese_female_first_name),"female_first"),surname:o(()=>setup.rng.choice(setup.NAME_japanese_surname),"surname")},jT={male_first:o(()=>setup.rng.choice(setup.NAME_neko_male_first_name),"male_first"),female_first:o(()=>setup.rng.choice(setup.NAME_neko_female_first_name),"female_first"),surname:o(()=>setup.rng.choice(setup.NAME_neko_surname),"surname")},KT={male_first:o(()=>setup.rng.choice(setup.NAME_elf_male_first_name),"male_first"),female_first:o(()=>setup.rng.choice(setup.NAME_elf_female_first_name),"female_first"),surname:o(()=>setup.NAME_elf_surname(),"surname")},cw={male_first:o(()=>setup.rng.choice(setup.NAME_drow_male_first_name),"male_first"),female_first:o(()=>setup.rng.choice(setup.NAME_drow_female_first_name),"female_first"),surname:o(()=>setup.rng.choice(setup.NAME_drow_surname),"surname")},dw={male_first:o(()=>setup.rng.choice(setup.NAME_orc_male_first_name),"male_first"),female_first:o(()=>setup.rng.choice(setup.NAME_orc_female_first_name),"female_first"),surname:o(()=>setup.rng.choice(setup.NAME_orc_surname),"surname")},gw={male_first:o(()=>setup.rng.choice(setup.NAME_demonkin_male_first_name),"male_first"),female_first:o(()=>setup.rng.choice(setup.NAME_demonkin_female_first_name),"female_first"),surname:o(()=>setup.rng.choice(setup.NAME_demonkin_surname),"surname")},mw={male_first:o(()=>setup.NAME_kobold_male_first_name(),"male_first"),female_first:o(()=>setup.NAME_kobold_female_first_name(),"female_first"),surname:o(()=>setup.NAME_kobold_surname(),"surname")},fw={male_first:o(()=>setup.rng.choice(setup.NAME_lizardkin_male_first_name),"male_first"),female_first:o(()=>setup.rng.choice(setup.NAME_lizardkin_female_first_name),"female_first"),surname:o(()=>"","surname")},bw={male_first:o(()=>setup.NAME_dragonkin_male_first_name(),"male_first"),female_first:o(()=>setup.NAME_dragonkin_female_first_name(),"female_first"),surname:o(()=>"","surname")},yw={male_first:o(()=>setup.NAME_demon_male_first_name(),"male_first"),female_first:o(()=>setup.NAME_demon_female_first_name(),"female_first"),surname:o(()=>"","surname")},kw={male_first:o(()=>setup.NAME_angel_male_first_name(),"male_first"),female_first:o(()=>setup.NAME_angel_female_first_name(),"female_first"),surname:o(()=>"","surname")};function VT(i){let e=ow;i.includes(setup.trait.subrace_angel)?e=kw:i.includes(setup.trait.subrace_humanvale)?e=lw:i.includes(setup.trait.subrace_humandesert)?e=hw:i.includes(setup.trait.subrace_humansea)?e=pw:i.includes(setup.trait.subrace_werewolf)?e=uw:i.includes(setup.trait.subrace_elf)?e=KT:i.includes(setup.trait.subrace_drow)?e=cw:i.includes(setup.trait.subrace_fairy)?e=KT:i.includes(setup.trait.subrace_neko)||i.includes(setup.trait.subrace_tigerkin)?e=jT:i.includes(setup.trait.subrace_orc)?e=dw:i.includes(setup.trait.subrace_dragonkin)?e=bw:i.includes(setup.trait.subrace_lizardkin)?e=fw:i.includes(setup.trait.subrace_kobold)?e=mw:i.includes(setup.trait.subrace_demon)?e=yw:i.includes(setup.trait.subrace_demonkin)&&(e=gw);let t=e.surname(),a=null;if(i.includes(setup.trait.gender_male)&&(a=e.male_first()),i.includes(setup.trait.gender_female)&&(a=e.female_first()),!a)throw console.log(i),new Error("Gender not found");return[a,t]}o(VT,"generateUnitName");function YT(){return`${setup.capitalize(setup.rng.choice(sw))} ${setup.capitalize(setup.rng.choice(nw))}`}o(YT,"generateTeamName"),setup.Team=(cr=class extends setup.TwineClass{constructor(){if(super(),this.key=State.variables.Team_keygen,State.variables.Team_keygen+=1,this.name=`Team ${YT()}`,this.unit_keys=[],this.quest_key=null,this.key in State.variables.team)throw new Error(`Team ${this.key} duplicated`);State.variables.team[this.key]=this}delete(){delete State.variables.team[this.key]}checkDelete(){setup.queueDelete(this,"team")}isBusy(){if(this.quest_key)return!0;let e=this.getUnits();for(let t=0;t<e.length;++t)if(!e[t].isAvailable())return!0;return!1}isReady(){if(this.isBusy())return!1;let e=0,t=this.getUnits();for(let a=0;a<t.length;++a)t[a].isSlaver()&&++e;return e>=3}rep(){return setup.repMessage(this,"teamcardkey")}getName(){return this.name}setQuest(e){if(this.quest_key)throw new Error("Team already have a quest");this.quest_key=e.key;let t=this.getUnits();for(let a=0;a<t.length;++a){let r=t[a];if(r.quest_key||r.opportunity_key)throw new Error("Unit already associated with a quest or opportunity");r.quest_key=e.key}}removeQuest(e){if(!this.quest_key)throw new Error("Team does not have a quest");if(this.quest_key!=e.key)throw new Error("Wrong quest");this.quest_key=null;let t=this.getUnits();for(let a=0;a<t.length;++a){let r=t[a];if(!r.quest_key)throw new Error("Unit not on a quest");if(r.quest_key!=e.key)throw new Error("Wrong quest");r.quest_key=null}}addUnit(e){if(e.getTeam())throw new Error(`${e.name} already in team ${e.team_key}`);this.unit_keys.push(e.key),e.team_key=this.key}_removeUnitAssociation(e){e.team_key==this.key&&(e.team_key=null)}removeUnit(e){if(!this.unit_keys.includes(e.key))throw new Error(`${e.name} not in this team`);this.unit_keys=this.unit_keys.filter(t=>t!=e.key),this._removeUnitAssociation(e)}unsetUnits(){for(const e of this.getUnits())this._removeUnitAssociation(e)}disband(){for(const e of this.getUnits())this.removeUnit(e);State.variables.company.player.removeTeam(this),this.checkDelete()}getUnits(){return this.unit_keys.map(e=>State.variables.unit[e])}getQuest(){return State.variables.questinstance[this.quest_key]}},o(cr,"Team"),cr),setup.Trauma=(dr=class extends setup.TwineClass{constructor(){super(),this.unit_traumas={}}deleteUnit(e){let t=e.key;t in this.unit_traumas&&delete this.unit_traumas[t]}adjustTrauma(e,t,a){if(!t.getTags().includes("temporary"))throw new Error(`Can only adjust temporary traits, ${t.key} not a temporary trait`);if(a>0&&t.isHasTag("trauma")){let l=0;for(;l+setup.CURSE_TRAUMA_WEEKS<=(setup.CURSE_TRAUMA_MULTIPLIER-1)*a&&e.isHasTrait(setup.trait.curse_madness1);)l+=setup.CURSE_TRAUMA_WEEKS,e.decreaseTrait(setup.trait.curse_madness1.getTraitGroup());a+=l,l&&e.isYourCompany()&&setup.notify(`a|Reps Curse of Madness adds ${l} extra weeks of trauma`,{a:e});let u=0;for(;a>0&&e.isHasTrait(setup.trait.blessing_sanity1);){let h=Math.min(a,setup.BLESSING_TRAUMA_WEEKS);u+=h,a-=h,e.decreaseTrait(setup.trait.blessing_sanity1.getTraitGroup())}u&&e.isYourCompany()&&setup.notify(`a|Reps Blessing of Sanity prevents ${u} weeks of trauma`,{a:e})}if(!a)return;e.isSlaver()&&a>0&&(t.getTags().includes("trauma")?(State.variables.statistics.add("trauma_count",1),State.variables.statistics.add("trauma_week_sum",a)):t.getTags().includes("boon")&&(State.variables.statistics.add("boon_count",1),State.variables.statistics.add("boon_week_sum",a)));let r=e.key;r in this.unit_traumas||(this.unit_traumas[r]={});let s=this.unit_traumas[r],n=t.key;if(!(n in s)){if(a>0&&e.isYourCompany()){const l=setup.Text.replaceUnitMacros("a|Rep temporarily a|gain ",{a:e});setup.notify(`${l} ${t.rep()}`)}s[n]=0}if(s[n]+=a,e.isSlaver()&&(t.getTags().includes("trauma")?State.variables.statistics.setMax("trauma_week_max",s[n]):t.getTags().includes("boon")&&State.variables.statistics.setMax("boon_week_max",s[n])),s[n]<=0){if(e.isYourCompany()){const l=setup.Text.replaceUnitMacros("a|Rep a|lose",{a:e});setup.notify(`${l} ${t.rep()}`)}delete s[n]}e.resetCache()}_unitSkillSampleWeighted(e){const t=e.getSkills(!0),a=[];for(let r=0;r<t.length;++r)a.push([setup.skill[r],t[r]]);return setup.rng.sampleArray(a,!0)}traumatize(e,t){let r=`trauma_${this._unitSkillSampleWeighted(e).keyword}`,s=setup.trait[r];this.adjustTrauma(e,s,t)}boonize(e,t){let r=`boon_${this._unitSkillSampleWeighted(e).keyword}`,s=setup.trait[r];if(e.isYourCompany()&&t>=1){const n=State.variables.dutylist.getDuty(setup.dutytemplate.mystic);if(n){const l=n.getProc();if(l=="proc"||l=="crit"){let u=setup.MYSTIC_BOON_MULTI,h=setup.MYSTIC_MAX_BOON;l=="crit"&&(u=setup.MYSTIC_BOON_MULTI_CRIT,h=setup.MYSTIC_MAX_BOON_CRIT);const p=Math.min(Math.round(t*u),h);p&&(setup.notify(`${setup.capitalize(n.repYourDutyRep())} adds ${p} extra weeks of boon`),t+=p)}}}this.adjustTrauma(e,s,t)}healTrauma(e,t){for(let a=0;a<t;++a){let s=this.getTraits(e).filter(l=>l.getTags().includes("trauma"));if(!s.length)return;let n=setup.rng.choice(s);this.adjustTrauma(e,n,-1)}}advanceWeek(){for(let e in this.unit_traumas){let t=State.variables.unit[e],a=Object.keys(this.unit_traumas[e]);for(let r=0;r<a.length;++r)this.adjustTrauma(t,setup.trait[a[r]],-1)}}getTraitsWithDurations(e){let t=e.key;if(!(t in this.unit_traumas))return[];let a=[];for(let r in this.unit_traumas[t])a.push([setup.trait[r],this.unit_traumas[t][r]]);return a}getTraits(e){let t=e.key;if(!(t in this.unit_traumas))return[];let a=[];for(let r in this.unit_traumas[t])a.push(setup.trait[r]);return a}static _getRelationshipTraumaAdjustmentRaw(e){let t=0;for(const a in setup.TRAUMA_TRAIT_ADJUST)e.isHasTraitExact(setup.trait[a])&&(t+=setup.TRAUMA_TRAIT_ADJUST[a]);return t}static getRelationshipTraumaAdjustment(e){let t=1+setup.Trauma._getRelationshipTraumaAdjustmentRaw(e);return t=Math.max(t,0),t}static getBreakupAdjustment(e,t){const a=setup.Trauma._getRelationshipTraumaAdjustmentRaw(e),r=setup.Trauma._getRelationshipTraumaAdjustmentRaw(t);let s=1-a-r;return s=Math.max(s,0),s}},o(dr,"Trauma"),dr),setup.VarStore=(gr=class extends setup.TwineClass{constructor(){super(),this.vars={},this.vars_deadline={}}set(e,t,a){this.vars[e]=t,this.vars_deadline[e]=a,State.variables.gDebug&&setup.notify(`DEBUG: variable ${e} is set to ${t}${a!=-1?` for ${a} weeks`:""}`)}get(e){return e in this.vars?this.vars[e]:null}remove(e){if(e in this.vars){if(delete this.vars[e],!(e in this.vars_deadline))throw new Error(`${e} not found in vars deadline`);delete this.vars_deadline[e],State.variables.gDebug&&setup.notify(`DEBUG: variable ${e} is unset`)}else State.variables.gDebug&&setup.notify(`DEBUG: variable ${e} was attempted to be unset, but it's already unset`)}advanceWeek(){let e=Object.keys(this.vars_deadline);for(let t=0;t<e.length;++t){let a=e[t];this.vars_deadline[a]-=1,this.vars_deadline[a]||this.remove(a)}}},o(gr,"VarStore"),gr);const vw=o((i,e)=>i===e,"equalFn"),Sw=Symbol("solid-track"),Gf={equals:vw};let JT=e_;const Kt=1,qf=2,WT={owned:null,cleanups:null,context:null,owner:null};var xe=null;let Ry=null,Tw=null,Me=null,$e=null,gt=null,zf=0;function Ff(i,e){const t=Me,a=xe,r=i.length===0,s=e===void 0?a:e,n=r?WT:{owned:null,cleanups:null,context:s?s.context:null,owner:s},l=r?i:()=>i(()=>mt(()=>tf(n)));xe=n,Me=null;try{return ef(l,!0)}finally{Me=t,xe=a}}o(Ff,"createRoot");function Se(i,e){e=e?Object.assign({},Gf,e):Gf;const t={value:i,observers:null,observerSlots:null,comparator:e.equals||void 0},a=o(r=>(typeof r=="function"&&(r=r(t.value)),XT(t,r)),"setter");return[ZT.bind(t),a]}o(Se,"createSignal");function _e(i,e,t){const a=Ey(i,e,!1,Kt);Xm(a)}o(_e,"createRenderEffect");function QT(i,e,t){JT=Rw;const a=Ey(i,e,!1,Kt);a.user=!0,gt?gt.push(a):Xm(a)}o(QT,"createEffect");function Fe(i,e,t){t=t?Object.assign({},Gf,t):Gf;const a=Ey(i,e,!0,0);return a.observers=null,a.observerSlots=null,a.comparator=t.equals||void 0,Xm(a),ZT.bind(a)}o(Fe,"createMemo");function mt(i){if(Me===null)return i();const e=Me;Me=null;try{return i()}finally{Me=e}}o(mt,"untrack");function _w(i){return xe===null||(xe.cleanups===null?xe.cleanups=[i]:xe.cleanups.push(i)),i}o(_w,"onCleanup");function Aw(i){const e=Fe(i),t=Fe(()=>xy(e()));return t.toArray=()=>{const a=t();return Array.isArray(a)?a:a!=null?[a]:[]},t}o(Aw,"children");function ZT(){if(this.sources&&this.state)if(this.state===Kt)Xm(this);else{const i=$e;$e=null,ef(()=>Kf(this),!1),$e=i}if(Me){const i=this.observers?this.observers.length:0;Me.sources?(Me.sources.push(this),Me.sourceSlots.push(i)):(Me.sources=[this],Me.sourceSlots=[i]),this.observers?(this.observers.push(Me),this.observerSlots.push(Me.sources.length-1)):(this.observers=[Me],this.observerSlots=[Me.sources.length-1])}return this.value}o(ZT,"readSignal");function XT(i,e,t){let a=i.value;return(!i.comparator||!i.comparator(a,e))&&(i.value=e,i.observers&&i.observers.length&&ef(()=>{for(let r=0;r<i.observers.length;r+=1){const s=i.observers[r],n=Ry&&Ry.running;n&&Ry.disposed.has(s),(n?!s.tState:!s.state)&&(s.pure?$e.push(s):gt.push(s),s.observers&&t_(s)),n||(s.state=Kt)}if($e.length>1e6)throw $e=[],new Error},!1)),e}o(XT,"writeSignal");function Xm(i){if(!i.fn)return;tf(i);const e=zf;Mw(i,i.value,e)}o(Xm,"updateComputation");function Mw(i,e,t){let a;const r=xe,s=Me;Me=xe=i;try{a=i.fn(e)}catch(n){return i.pure&&(i.state=Kt,i.owned&&i.owned.forEach(tf),i.owned=null),i.updatedAt=t+1,a_(n)}finally{Me=s,xe=r}(!i.updatedAt||i.updatedAt<=t)&&(i.updatedAt!=null&&"observers"in i?XT(i,a):i.value=a,i.updatedAt=t)}o(Mw,"runComputation");function Ey(i,e,t,a=Kt,r){const s={fn:i,state:a,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:xe,context:xe?xe.context:null,pure:t};return xe===null||xe!==WT&&(xe.owned?xe.owned.push(s):xe.owned=[s]),s}o(Ey,"createComputation");function jf(i){if(i.state===0)return;if(i.state===qf)return Kf(i);if(i.suspense&&mt(i.suspense.inFallback))return i.suspense.effects.push(i);const e=[i];for(;(i=i.owner)&&(!i.updatedAt||i.updatedAt<zf);)i.state&&e.push(i);for(let t=e.length-1;t>=0;t--)if(i=e[t],i.state===Kt)Xm(i);else if(i.state===qf){const a=$e;$e=null,ef(()=>Kf(i,e[0]),!1),$e=a}}o(jf,"runTop");function ef(i,e){if($e)return i();let t=!1;e||($e=[]),gt?t=!0:gt=[],zf++;try{const a=i();return ww(t),a}catch(a){t||(gt=null),$e=null,a_(a)}}o(ef,"runUpdates");function ww(i){if($e&&(e_($e),$e=null),i)return;const e=gt;gt=null,e.length&&ef(()=>JT(e),!1)}o(ww,"completeUpdates");function e_(i){for(let e=0;e<i.length;e++)jf(i[e])}o(e_,"runQueue");function Rw(i){let e,t=0;for(e=0;e<i.length;e++){const a=i[e];a.user?i[t++]=a:jf(a)}for(e=0;e<t;e++)jf(i[e])}o(Rw,"runUserEffects");function Kf(i,e){i.state=0;for(let t=0;t<i.sources.length;t+=1){const a=i.sources[t];if(a.sources){const r=a.state;r===Kt?a!==e&&(!a.updatedAt||a.updatedAt<zf)&&jf(a):r===qf&&Kf(a,e)}}}o(Kf,"lookUpstream");function t_(i){for(let e=0;e<i.observers.length;e+=1){const t=i.observers[e];t.state||(t.state=qf,t.pure?$e.push(t):gt.push(t),t.observers&&t_(t))}}o(t_,"markDownstream");function tf(i){let e;if(i.sources)for(;i.sources.length;){const t=i.sources.pop(),a=i.sourceSlots.pop(),r=t.observers;if(r&&r.length){const s=r.pop(),n=t.observerSlots.pop();a<r.length&&(s.sourceSlots[n]=a,r[a]=s,t.observerSlots[a]=n)}}if(i.tOwned){for(e=i.tOwned.length-1;e>=0;e--)tf(i.tOwned[e]);delete i.tOwned}if(i.owned){for(e=i.owned.length-1;e>=0;e--)tf(i.owned[e]);i.owned=null}if(i.cleanups){for(e=i.cleanups.length-1;e>=0;e--)i.cleanups[e]();i.cleanups=null}i.state=0}o(tf,"cleanNode");function Ew(i){return i instanceof Error?i:new Error(typeof i=="string"?i:"Unknown error",{cause:i})}o(Ew,"castError");function a_(i,e=xe){throw Ew(i)}o(a_,"handleError");function xy(i){if(typeof i=="function"&&!i.length)return xy(i());if(Array.isArray(i)){const e=[];for(let t=0;t<i.length;t++){const a=xy(i[t]);Array.isArray(a)?e.push.apply(e,a):e.push(a)}return e}return i}o(xy,"resolveChildren");const xw=Symbol("fallback");function i_(i){for(let e=0;e<i.length;e++)i[e]()}o(i_,"dispose");function Dw(i,e,t={}){let a=[],r=[],s=[],n=0,l=e.length>1?[]:null;return _w(()=>i_(s)),()=>{let u=i()||[],h=u.length,p,c;return u[Sw],mt(()=>{let g,m,f,b,v,S,M,k,_;if(h===0)n!==0&&(i_(s),s=[],a=[],r=[],n=0,l&&(l=[])),t.fallback&&(a=[xw],r[0]=Ff(T=>(s[0]=T,t.fallback())),n=1);else if(n===0){for(r=new Array(h),c=0;c<h;c++)a[c]=u[c],r[c]=Ff(d);n=h}else{for(f=new Array(h),b=new Array(h),l&&(v=new Array(h)),S=0,M=Math.min(n,h);S<M&&a[S]===u[S];S++);for(M=n-1,k=h-1;M>=S&&k>=S&&a[M]===u[k];M--,k--)f[k]=r[M],b[k]=s[M],l&&(v[k]=l[M]);for(g=new Map,m=new Array(k+1),c=k;c>=S;c--)_=u[c],p=g.get(_),m[c]=p===void 0?-1:p,g.set(_,c);for(p=S;p<=M;p++)_=a[p],c=g.get(_),c!==void 0&&c!==-1?(f[c]=r[p],b[c]=s[p],l&&(v[c]=l[p]),c=m[c],g.set(_,c)):s[p]();for(c=S;c<h;c++)c in f?(r[c]=f[c],s[c]=b[c],l&&(l[c]=v[c],l[c](c))):r[c]=Ff(d);r=r.slice(0,n=h),a=u.slice(0)}return r});function d(g){if(s[c]=g,l){const[m,f]=Se(c);return l[c]=f,e(u[c],m)}return e(u[c])}o(d,"mapper")}}o(Dw,"mapArray");function B(i,e){return mt(()=>i(e||{}))}o(B,"createComponent");const r_=o(i=>`Stale read from <${i}>.`,"narrowedError");function Vt(i){const e="fallback"in i&&{fallback:o(()=>i.fallback,"fallback")};return Fe(Dw(()=>i.each,i.children,e||void 0))}o(Vt,"For");function fe(i){const e=i.keyed,t=Fe(()=>i.when,void 0,{equals:o((a,r)=>e?a===r:!a==!r,"equals")});return Fe(()=>{const a=t();if(a){const r=i.children;return typeof r=="function"&&r.length>0?mt(()=>r(e?a:()=>{if(!mt(t))throw r_("Show");return i.when})):r}return i.fallback},void 0,void 0)}o(fe,"Show");function Iw(i){let e=!1;const t=o((s,n)=>(e?s[1]===n[1]:!s[1]==!n[1])&&s[2]===n[2],"equals"),a=Aw(()=>i.children),r=Fe(()=>{let s=a();Array.isArray(s)||(s=[s]);for(let n=0;n<s.length;n++){const l=s[n].when;if(l)return e=!!s[n].keyed,[n,l,s[n]]}return[-1]},void 0,{equals:t});return Fe(()=>{const[s,n,l]=r();if(s<0)return i.fallback;const u=l.children;return typeof u=="function"&&u.length>0?mt(()=>u(e?n:()=>{if(mt(r)[0]!==s)throw r_("Match");return l.when})):u},void 0,void 0)}o(Iw,"Switch");function s_(i){return i}o(s_,"Match");function $w(i,e,t){let a=t.length,r=e.length,s=a,n=0,l=0,u=e[r-1].nextSibling,h=null;for(;n<r||l<s;){if(e[n]===t[l]){n++,l++;continue}for(;e[r-1]===t[s-1];)r--,s--;if(r===n){const p=s<a?l?t[l-1].nextSibling:t[s-l]:u;for(;l<s;)i.insertBefore(t[l++],p)}else if(s===l)for(;n<r;)(!h||!h.has(e[n]))&&e[n].remove(),n++;else if(e[n]===t[s-1]&&t[l]===e[r-1]){const p=e[--r].nextSibling;i.insertBefore(t[l++],e[n++].nextSibling),i.insertBefore(t[--s],p),e[r]=t[s]}else{if(!h){h=new Map;let c=l;for(;c<s;)h.set(t[c],c++)}const p=h.get(e[n]);if(p!=null)if(l<p&&p<s){let c=n,d=1,g;for(;++c<r&&c<s&&!((g=h.get(e[c]))==null||g!==p+d);)d++;if(d>p-l){const m=e[n];for(;l<p;)i.insertBefore(t[l++],m)}else i.replaceChild(t[l++],e[n++])}else n++;else e[n++].remove()}}}o($w,"reconcileArrays");const n_="_$DX_DELEGATE";function o_(i,e,t,a={}){let r;return Ff(s=>{r=s,e===document?i():L(e,i(),e.firstChild?null:void 0,t)},a.owner),()=>{r(),e.textContent=""}}o(o_,"render$1");function Y(i,e,t){let a;const r=o(()=>{const n=document.createElement("template");return n.innerHTML=i,n.content.firstChild},"create"),s=o(()=>(a||(a=r())).cloneNode(!0),"fn");return s.cloneNode=s,s}o(Y,"template");function l_(i,e=window.document){const t=e[n_]||(e[n_]=new Set);for(let a=0,r=i.length;a<r;a++){const s=i[a];t.has(s)||(t.add(s),e.addEventListener(s,Cw))}}o(l_,"delegateEvents");function Dy(i,e,t){t==null?i.removeAttribute(e):i.setAttribute(e,t)}o(Dy,"setAttribute");function lt(i,e){e==null?i.removeAttribute("class"):i.className=e}o(lt,"className");function Ow(i,e,t){if(!e)return t?Dy(i,"style"):e;const a=i.style;if(typeof e=="string")return a.cssText=e;typeof t=="string"&&(a.cssText=t=void 0),t||(t={}),e||(e={});let r,s;for(s in t)e[s]==null&&a.removeProperty(s),delete t[s];for(s in e)r=e[s],r!==t[s]&&(a.setProperty(s,r),t[s]=r);return t}o(Ow,"style");function u_(i,e,t){return mt(()=>i(e,t))}o(u_,"use");function L(i,e,t,a){if(t!==void 0&&!a&&(a=[]),typeof e!="function")return Vf(i,e,a,t);_e(r=>Vf(i,e(),r,t),a)}o(L,"insert");function Cw(i){let e=i.target;const t=`$$${i.type}`,a=i.target,r=i.currentTarget,s=o(u=>Object.defineProperty(i,"target",{configurable:!0,value:u}),"retarget"),n=o(()=>{const u=e[t];if(u&&!e.disabled){const h=e[`${t}Data`];if(h!==void 0?u.call(e,h,i):u.call(e,i),i.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(i.target)&&s(e.host),!0},"handleNode"),l=o(()=>{for(;n()&&(e=e._$host||e.parentNode||e.host););},"walkUpTree");if(Object.defineProperty(i,"currentTarget",{configurable:!0,get(){return e||document}}),i.composedPath){const u=i.composedPath();s(u[0]);for(let h=0;h<u.length-2&&(e=u[h],!!n());h++){if(e._$host){e=e._$host,l();break}if(e.parentNode===r)break}}else l();s(a)}o(Cw,"eventHandler");function Vf(i,e,t,a,r){for(;typeof t=="function";)t=t();if(e===t)return t;const s=typeof e,n=a!==void 0;if(i=n&&t[0]&&t[0].parentNode||i,s==="string"||s==="number"){if(s==="number"&&(e=e.toString(),e===t))return t;if(n){let l=t[0];l&&l.nodeType===3?l.data!==e&&(l.data=e):l=document.createTextNode(e),t=yi(i,t,a,l)}else t!==""&&typeof t=="string"?t=i.firstChild.data=e:t=i.textContent=e}else if(e==null||s==="boolean")t=yi(i,t,a);else{if(s==="function")return _e(()=>{let l=e();for(;typeof l=="function";)l=l();t=Vf(i,l,t,a)}),()=>t;if(Array.isArray(e)){const l=[],u=t&&Array.isArray(t);if(Iy(l,e,t,r))return _e(()=>t=Vf(i,l,t,a,!0)),()=>t;if(l.length===0){if(t=yi(i,t,a),n)return t}else u?t.length===0?h_(i,l,a):$w(i,t,l):(t&&yi(i),h_(i,l));t=l}else if(e.nodeType){if(Array.isArray(t)){if(n)return t=yi(i,t,a,e);yi(i,t,null,e)}else t==null||t===""||!i.firstChild?i.appendChild(e):i.replaceChild(e,i.firstChild);t=e}}return t}o(Vf,"insertExpression");function Iy(i,e,t,a){let r=!1;for(let s=0,n=e.length;s<n;s++){let l=e[s],u=t&&t[i.length],h;if(!(l==null||l===!0||l===!1))if((h=typeof l)=="object"&&l.nodeType)i.push(l);else if(Array.isArray(l))r=Iy(i,l,u)||r;else if(h==="function")if(a){for(;typeof l=="function";)l=l();r=Iy(i,Array.isArray(l)?l:[l],Array.isArray(u)?u:[u])||r}else i.push(l),r=!0;else{const p=String(l);u&&u.nodeType===3&&u.data===p?i.push(u):i.push(document.createTextNode(p))}}return r}o(Iy,"normalizeIncomingArray");function h_(i,e,t=null){for(let a=0,r=e.length;a<r;a++)i.insertBefore(e[a],t)}o(h_,"appendNodes");function yi(i,e,t,a){if(t===void 0)return i.textContent="";const r=a||document.createTextNode("");if(e.length){let s=!1;for(let n=e.length-1;n>=0;n--){const l=e[n];if(r!==l){const u=l.parentNode===i;!s&&!n?u?i.replaceChild(r,l):i.insertBefore(r,t):u&&l.remove()}else s=!0}}else i.insertBefore(r,t);return[r]}o(yi,"cleanChildren"),setup.DOM={},setup.DOM.Card={},setup.DOM.Menu={},setup.DOM.Roster={},setup.DOM.Util={},setup.DOM.Quest={},setup.DOM.Components={};function p_(i){if(!i)return document.createDocumentFragment();if(i instanceof Node)return i;if(i instanceof Function)return setup.DOM.renderComponent(i);if(Array.isArray(i)){const t=document.createDocumentFragment();for(const a of i)t.appendChild(p_(a));return t}const e=document.createElement("template");return e.innerHTML=String(i),e.content}o(p_,"toDOM"),setup.DOM.toDOM=p_,setup.DOM.create=function(i,e,t){const a=document.createElement(i);if(e)for(const r of Object.keys(e)){let s=e[r];s!==void 0&&(s instanceof Function?a.addEventListener(r,s,!1):(Array.isArray(s)?s=s.join(" "):typeof s=="object"&&(s=Object.entries(s).map(n=>n.join(": ")).join("; ")),a.setAttribute(r,String(s))))}return t&&a.appendChild(setup.DOM.toDOM(t)),a},setup.DOM.createRefreshable=function(i,e,t,a){const r=setup.DOM.create(i,e);return r._render_callback=t,a?setTimeout(()=>setup.DOM.refresh(r),1):setup.DOM.refresh(r),r},setup.DOM.renderComponent=function(i,e){const t=document.createElement("div");return o_(()=>B(i,e||{}),t),t},setup.DOM.renderComponentInto=function(i,e,t){o_(()=>B(e,t||{}),i)},setup.DOM.refresh=function(i){let e;Array.isArray(i)?e=i:typeof i=="string"?e=document.querySelectorAll(i):e=[i];for(const t of e){const a=t._render_callback;if(a){t.textContent="";const r=setup.DOM.toDOM(a());t.appendChild(r)}}};function c_(i,e,...t){let a=!1,r=e[0]||"";for(let n=1;n<e.length;++n)typeof t[n-1]=="string"||typeof t[n-1]=="number"?r+=t[n-1].toString():(r+=`<div data--tbd="${n-1}"></div>`,a=!0),r+=e[n];let s;if(i?(s=document.createDocumentFragment(),new Wikifier(s,setup.DevToolHelper.stripNewLine(r))):s=setup.DOM.toDOM(r),a){const n=s.querySelectorAll("[data--tbd]");for(const l of n){const u=+l.getAttribute("data--tbd");l.parentNode.replaceChild(setup.DOM.toDOM(t[u]),l)}}return s}o(c_,"inflate"),window.html=setup.DOM.html=(i,...e)=>c_(!1,i,...e),window.twee=setup.DOM.twee=(i,...e)=>c_(!0,i,...e),setup.DOM.toString=function(i){if(!i)return"";if(setup.isString(i)||typeof i=="number")return i.toString();if("outerHTML"in i)return i.outerHTML;let e=document.createElement("span");return e.appendChild(i),e.innerHTML};let za=new Map,Pw=["eunuch","eucalyptus","eugenics","eulogy","euphemism","euphony","euphoria","eureka","european","euphemistic","euphonic","euphoric","euphemistically","euphonically","euphorically","heir","heiress","herb","homage","honesty","honor","honour","hour","honest","honorous","honestly","hourly","one","ouija","once","ubiquitous","ugandan","ukrainian","unanimous","unicameral","unified","unique","unisex","universal","university","urinal","urological","useful","useless","usurious","usurped","utilitarian","utopic","ubiquitously","unanimously","unicamerally","uniquely","universally","urologically","usefully","uselessly","usuriously"],Lw=["a","an"],Uw=/[aeiou8]/i,Nw=/[A-Z]+$/,Hw=/[UFHLMNRSX]/,Bw=/[.,\/#!$%\^&\*;:{}=\-_`~()]/g;function d_(i){return i==="a"?"an":"a"}o(d_,"_switch");function Gw(i,e){return Nw.test(i)&&Hw.test(i.first())?d_(e):!1}o(Gw,"_isAcronym");function qw(i,e){return Pw.includes(i.toLowerCase())?d_(e):!1}o(qw,"_isDefaultIrregular");function g_(i,e,t){let a;if(State.length>0)throw a="cannot add article override -> needs to be run in StoryInit special passage or earlier",new Error(a);if(!e||typeof e!="string")throw a="cannot add article override -> invalid word",new Error(a);if(i&&typeof i=="string"&&(i=i.toLowerCase().trim()),!Lw.includes(i))throw a='cannot add article override -> invalid article, must be "a" or "an"',new Error(a);e=e.trim(),t?za.set(e,{article:i,caseSensitive:!!t}):za.set(e.toLowerCase(),{article:i,caseSensitive:!!t})}o(g_,"addOverride");function zw(i){i=i.trim();let e=i.toLowerCase();if(za.has(e)||za.has(i)){let t=za.get(e)||za.get(i);return t.caseSensitive&&!za.has(i)?null:t.article}return null}o(zw,"_checkOverrides");function Fw(i){let e;return Uw.test(i.first())?e="an":e="a",qw(i,e)||Gw(i,e)||e}o(Fw,"_checkVowels");function $y(i){if(!i||typeof i!="string")return;let e=i.trim().split(" ")[0].trim();return e=e.replace(Bw,""),zw(e)||Fw(e)}o($y,"find");function Oy(i,e){if(!i||typeof i!="string")return i;let t=$y(i);return(e?t.toUpperFirst():t)+" "+i}o(Oy,"article"),setup.Article=Oy,setup.ArticleOnly=$y,setup.articles={find:$y,output:Oy,override:g_},Macro.add("setarticle",{handler:o(function(){let i=g_(this.args[0],this.args[1],this.args[2]);i&&typeof i=="string"&&this.error(i)},"handler")}),Macro.add(["a","an","A","An"],{handler:o(function(){let i=this.name.first()===this.name.first().toUpperCase();this.output.append(Oy(String(this.args[0]),i))},"handler")}),setup.messageMacro={},setup.messageMacro.default="Help";const jw=/^(\w+)=(.*)$/;Macro.add("message",{tags:null,handler:o(function(){const i=this.payload[0].contents,e=$(document.createElement("span")),t=$(document.createElement(this.args.includes("btn")?"button":"a"));let a=null,r=null;const s={};for(const u of this.args){if(typeof u!="string")continue;const h=u.match(jw);h?s[h[1]]=h[2]:u!=="btn"&&(a?r=u:a=u)}a=a||setup.messageMacro.default,s.class&&t.addClass(s.class);const n=s.target;r=r||(a==="(+)"?"()":a);let l=n?null:$(document.createElement("span"));t.wiki(a).ariaClick(this.createShadowWrapper(function(){if(!l&&n){l=$(document.createElement("span"));const u=setup.querySelectorRelative(e.get(0),n);u&&$(u).append(l)}l&&(e.hasClass("open")?(r!==a&&t.empty().wiki(a),l.css("display","none").empty()):(r!==a&&t.empty().wiki(r),l.css("display","block").wiki(i)),e.toggleClass("open"))})),e.attr("id","macro-"+this.name+"-"+this.args.join("").replace(/[^A-Za-z0-9]/g,"")).addClass("message-text").append(t),l&&e.append(l),e.appendTo(this.output)},"handler")}),setup.ArgType={String:"string",Number:"number",Boolean:"boolean",Unknown:"unknown",Actor:"actor",Company:"company",Item:"item"};const j=setup.ArgType,Q=[j.Actor];function m_(i){for(;typeof setup.MACROS_METADATA[i]=="string";)i=setup.MACROS_METADATA[i];return i}o(m_,"resolveMacroName"),setup.getMacroMetadata=function(i){return setup.MACROS_METADATA[m_(i)]},setup.getMacroAliases=function(i){return i=m_(i),[i,...Object.keys(setup.MACROS_METADATA).filter(e=>setup.MACROS_METADATA[e]===i)]},setup.MACROS_METADATA={set:{info:"Sets the value of a variable",args:null},unset:{info:"Clears the value of a variable",args:null},run:{info:"Executes a javascript expression",args:null},include:{info:"Renders the contents of the specified Twine passage",args:[j.String]},print:{info:"Renders twee code stored in a variable",args:null},"=":"print","-":"print",button:{info:"Renders a button with the given text, executing the contained twee asynchronously when clicked",args:[j.String]},link:{info:"Renders a link with the given text, executing the contained twee asynchronously when clicked",args:[j.String]},if:{info:"Renders text/code conditionally depending on a condition",args:null},else:"if",elseif:"if",switch:{info:"Renders text/code conditionally depending on the value of an expression",args:null},case:"switch",default:"switch",for:{info:"Loops over the items of a list or an object",args:null},continue:{info:'Jumps to the next iteration of a "for" loop',args:[]},break:{info:'Breaks out of a "for" loop',args:[]},addclass:{info:"Adds the CSS class(es) passed as second argument to the HTML elements matching the selector specified as first argument",args:[j.String,j.String]},removeclass:{info:"Removes the CSS class(es) passed as second argument from the HTML elements matching the selector specified as first argument",args:[j.String,j.String]},toggleclass:{info:"Toggles the CSS class(es) passed as second argument at the HTML elements matching the selector specified as first argument",args:[j.String,j.String]},replace:{info:"Replaces the content of the elements matching the specified selector, by a render of the twee code contained inside this macro call",args:[j.String,j.String]},nobr:void 0,capture:null,remember:null,forget:null,script:null,silently:null,type:null,display:null,checkbox:null,cycle:null,listbox:null,linkappend:null,linkprepend:null,linkreplace:null,numberbox:null,textbox:null,radiobutton:null,textarea:null,click:null,actions:null,back:null,return:null,choice:null,copy:null,append:null,prepend:null,remove:null,audio:null,cacheaudio:null,createaudiogroup:null,createplaylist:null,masteraudio:null,playlist:null,removeaudiogroup:null,removeplaylist:null,waitforaudio:null,setplaylist:null,stopallaudio:null,goto:null,repeat:null,stop:null,timed:null,widget:null,a:{info:"Renders the correct article (<b>a/an</b>) for the specified word",args:[j.String]},an:"a",A:"a",An:"a",image:{info:"Renders an image by the given path. Supports images embedded in the game code (e.g. trait icons)",args:[j.String]},pronounload:{info:"Assigns to the variable passed as second parameter, an object containing the pronouns for the specified actor",args:[j.Actor,j.Unknown]},message:{info:'Renders an "spoiler tag", i.e. a clickable link (text passed as first argument) that toggles the visibility of the contained code',args:[[j.String],[j.String,j.String]]},exp:{info:"Renders a value stylized as a Friendship amount",args:[j.Number]},friendship:{info:"Renders a value stylized as a Friendship amount",args:[j.Number]},prestige:{info:"Renders a value stylized as a Prestige amount",args:[j.Number]},money:{info:"Renders a value stylized as a money amount: green if positive, red if negative",args:[j.Number]},moneyloss:{info:"Renders a value stylized as a money amount. Opposite of 'money' macro: red if positive, green if negative",args:[j.Number]},successtext:{info:"Renders a green text",args:[j.String]},successtextlite:{info:"Renders a light green text",args:[j.String]},dangertext:{info:"Renders a red text",args:[j.String]},dangertextlite:{info:"Renders a light red text",args:[j.String]},warning:{info:"Renders a warning text",args:[j.String]},rep:{info:"Represents an actor or entity name along with small icons for busy/idle status, skill focuses, etc",args:[[j.Actor],[j.Company],[j.Item]]},Rep:{info:"Bob / Alice / You",args:[j.Actor]},reps:{info:"Bob's / Alice's / your",args:[j.Actor]},Reps:{info:"Bob's / Alice's / Your",args:[j.Actor]},yourrep:{info:"your evil slaver Bob / you",args:[j.Actor]},Yourrep:{info:"Your evil slaver Bob / You",args:[j.Actor]},theslaver:{info:"the slaver / the slave / you",args:[j.Actor]},Theslaver:{info:"The slaver / The slave / You",args:[j.Actor]},therace:{info:"the neko / you",args:[j.Actor]},Therace:{info:"The Neko / You",args:[j.Actor]},nameof:{info:"Prints the name of the unit, in bold, without tooltips",args:[[j.Actor],[j.Company]]},name:{info:"Prints the name of the unit. Unlike &lt;&lt;rep&gt;&gt;, no tooltip is shown",args:[[j.Actor],[j.Company]]},levelof:{info:"Prints the level of the unit",args:[j.Number]},titlelow:{info:'Prints the title of the unit, e.g., "generalist"',args:Q},titlefull:null,bantertext:null,tfriendtitle:null,tfriendslave:null,uequipslot:{info:"Prints the equipment worn on this slot. E.g., The drink spilled on your &lt;&lt;ueqeuipslot $unit.player 'legs'&gt;&gt;",args:[j.Actor,j.String]},ufriend:{info:"Print the friendship status between two units, e.g., friend, acquaintance, or rival",args:[j.Actor,j.Actor]},utheirrel:{info:"Print 'their relationship', e.g.: 'his friend' or 'her father'",args:[j.Actor,j.Actor]},unamerel:{info:"Print 'name's relationship', e.g.: 'Bob's sister' or 'Bob's friend'",args:[j.Actor,j.Actor]},ubody:{info:"Print 'muscular body' or 'furry body'",args:Q},ubodyall:{info:"Print 'muscular body covered with leather armor' or 'furry body covered in nothing'",args:Q},ucleavage:{info:"Print flat cleavage or pec cleavage",args:Q},ubreasts:{info:"Print 'giant breasts' or 'tiny breasts'",args:Q},ubreastsall:{info:"Print 'giant breasts with equipment' or 'tiny breasts with equipment'",args:Q},unipples:{info:"Print 'nipples'",args:Q},unipplesall:{info:"Print 'nipples with a piercing'",args:Q},uflavor:{info:"Print the bodypart full flavor text, if it has any. Example, &lt;&lt;uflavor $unit.player 'wings'&gt;&gt; will print the wing's flavor text if the unit has wings",args:[j.Actor,j.String]},uequipment:{info:"Print equipment description, e.g., 'bondage slutty armor' or 'valuable combat armor'",args:Q},ubantertraining:null,uadjphys:{info:"Print a physical adjective, e.g., 'muscular'",args:Q},uadjper:{info:"Print a personality adjective, e.g., 'naughty'",args:Q},urace:{info:"Outputs the name of the actor's race",args:Q},uhomeland:{info:"Outputs the region homeland of the actor, e.g., Eastern Deserts or The Mist",args:Q},uweapon:{info:"Prints the unit's weapon, e.g., 'sword' or 'Excalibur'",args:Q},uaweapon:{info:"Prints the unit's weapon, with an article. E.g., 'a sword' or 'an axe'",args:Q},uadj:{info:"Prints an adjective from the unit, e.g., 'naughty' or 'tall'",args:Q},uadjgood:{info:"Prints a positive adjective of the unit, e.g., 'smart'",args:Q},uadjbad:{info:"Prints a negative adjective of the unit, e.g., 'stupid'",args:Q},uadv:{info:"Prints an adverb of the unit, e.g., 'calmly'",args:Q},uadvcare:{info:"Prints an adverb of the unit suitable for caring for a unit, e.g., 'gently, generously' but not `cruelly, violently`",args:Q},uadvabuse:{info:"Prints an adverb of the unit suitable for abusing / attacking a unit, e.g., 'violently, evilly' but not `kindly, generously`",args:Q},ustriptorso:{info:"Prints a sentence where the unit strips down from their upper body equipment, if any",args:Q},ustriplegs:{info:"Prints a sentence where the unit strips down from their lower body equipment, if any",args:Q},ustripanus:{info:"Prints a sentence where the unit pulls whatever is filling their anus, if any",args:Q},ustripgenital:{info:"Prints a sentence where the unit pulls whatever is filling their vagina or blocking their dildo, if any",args:Q},ustripvagina:{info:"Prints a sentence where the unit pulls whatever is filling their vagina, if any",args:Q},ustripdick:{info:"Prints a sentence where the unit pulls whatever equipped on their dick, if any",args:Q},ustripnipple:{info:"Prints a sentence where the unit pulls whatever equipped on their nipples, if any",args:Q},ustripmouth:{info:"Prints a sentence where the unit pulls whatever equipped on their mouth, if any",args:Q},uslaverstripall:{info:"Prints a sentence where the unit strips everything if any",args:Q},uyoustripanus:null,upunishreason:{info:"Prints a half-sentence giving a reason for punishing unit. Example use: 'You punish Bob because &lt;&lt;upunishreason $g.bob&gt;&gt;'",args:Q},upraisenoun:{info:"Prints a praise-able noun of the actor. E.g., bravery, or handsomeness",args:Q},uinsultnoun:{info:"Prints a insult-able noun of the actor. E.g., foolishness, or stupidity",args:Q},uhobbyverb:{info:"Prints a verb about the unit's hobby. E.g., reminiscing about his past, or cooking",args:Q},ustripshirtand:{info:"E.g., 'strips his shirt and'. Returns empty string if not wearing shirt",args:Q},ustrippantsand:{info:"E.g., 'strips his pants and'. Returns empty string if not wearing pants",args:Q},ustripmouthand:{info:"E.g., 'unfasten his gag and'. Returns empty string if not wearing mouth",args:Q},ustripeyesand:{info:"E.g., 'removes his blindfold and'. Returns empty string if not wearing eyes",args:Q},ustripanusand:{info:"E.g., 'pull out his buttplug and'. Returns empty string if not wearing anus",args:Q},ustripgenitaland:{info:"E.g., 'unlock his chastity cage and'. Returns empty string if not wearing genital",args:Q},ustripequipmentand:{info:"E.g., 'strips his armor and'. Returns empty string if naked",args:Q},uneedrescue:{info:"Prints a sentence hinting that you ned to rescue unit with a Rescuer. Example: '&lt;&lt;uneedrescue $g.bob&gt;&gt;, before worse things happen'",args:Q},urescuenow:{info:"Prints a sentence hinting that you ned to rescue unit now. Example: '&lt;&lt;uneedrescue $g.bob&gt;&gt; at once'",args:Q},ubodyswap:{info:"Prints a sentence describing the transformations that the first unit undergoes to become the second unit",args:[j.Actor,j.Actor]},uinsultrape:{info:"Gives a speech where the first unit insults the second unit during a rape",args:[j.Actor,j.Actor]},unitcard:{info:"Prints the unit card of this unit",args:Q},upetwhine:{info:"Prints a full dialogue about a pet humanlike whining.",args:Q},setarticle:null,icon:null,await:null,codeeditor:null,foctimed:null,focwidget:null,focmove:null,focreturn:null,focgoto:null,focsavestategoto:null,foclink:null,refreshable:null,"refreshable-refresh":null,onevent:null,devmacroinfo:null,devcodeeditorpreview:null,twinehelptext:null,devtoolreturnbutton:null,devtoolchoosetitle:null,devquestroles:null,devactorall:null,devactor:null,devactordefault:null,loadinteractioncommon:null,bantercarddetails:null,bantercard:null,bedchambercard:null,bedchambercardkey:null,buildingcardupgradelink:null,buildingcardcompact:null,buildingcard:null,buildingcardkey:null,buildingtemplatecardbuildlink:null,buildingtemplatecardload:null,buildingtemplatecardcompact:null,buildingtemplatecard:null,buildingtemplatecardkey:null,companycard:null,companycardkey:null,contactcard:null,contactcardkey:null,costcard:null,requirementcard:null,criteriacard:null,criteriatraitlist:null,dutycard:null,dutycardkey:null,equipmentcard:null,equipmentcardkey:null,equipmentsetcard:null,equipmentsetcardkey:null,equipmentpoolcard:null,equipmentpoolcardkey:null,loadimage:null,loadimagecredits:null,injurycardinner:null,injurycard:null,injurycardkey:null,interactionpool:null,itemcard:null,itemcardkey:null,itempoolcard:null,itempoolcardkey:null,jobcard:null,notificationcard:null,notificationscard:null,opportunitycard:null,opportunitycardkey:null,questcard:null,questcardkey:null,questauthorcardtext:null,questauthorcard:null,questvarload:null,selectunit:null,tooltipskill:null,skillcardglowkey:null,slaveordercard:null,slaveordercardkey:null,tagcard:null,teamcard:null,teamcardkey:null,titlecard:null,titlecardkey:null,tooltiptrait:null,traitcard:null,negtraitcard:null,negtraitcardkey:null,traitcardglow:null,traitcardkeyglow:null,unitactioncard:null,unitactioncardkey:null,unitactionlist:null,unitcardkey:null,unitdescription:null,unitpoolcard:null,unitpoolcardkey:null,unitgroupcard:null,unitgroupcardkey:null,tooltipunit:null,loadnotification:null,loadmenutopdata:null,refreshmenu:null,loadmenu:null};const Ie={he:["he","him","his","his","himself","He","Him","His","His","Himself","husband","man","boy","son","master","handsomeness","hard","soft","lord","butler","incubus","bachelor","prince","father","male","lad","men","king","Master","guy","handsome"],she:["she","her","her","hers","herself","She","Her","Her","Hers","Herself","wife","woman","girl","daughter","mistress","beauty","wet","dry","lady","maid","succubus","maiden","princess","mother","female","lass","women","queen","Mistress","girl","beautiful"],it:["it","it","its","its","itself","It","It","Its","Its","Itself","partner","person","child","child","master","beauty","aroused","unaroused","lord","servant","demon","person","noble","parent","male","guy","people","royal","Master","guy","attractive"],one:["one","one","one's","one's","oneself","One","One","One's","One's","Oneself","partner","someone","a child","a child","a master","beauty","aroused","unaroused","lord","servant","demons","person","noble","parent","male","guy","people","royal","Master","guy","attractive"],they:["they","them","their","theirs","themself","They","Them","Their","Theirs","Themselves","wife","woman","girl","daughter","mistress","beauty","wet","dry","lady","maid","succubus","maiden","princess","mother","female","lass","women","queen","Mistress","guy","attractive"],you:["you","you","your","yours","yourself","You","You","Your","Yours","Yourself"]},f_=o((i,e)=>i.isYou()&&Ie.you.length>e?"you":i.isFemale()?"she":"he","getBasePronoun"),b_=o(i=>setup.isString(i)?State.variables.unit[i]:i,"getRelevantCharacter");function Kw(i,e,t){i.appendChild(document.createTextNode(Ie[f_(b_(e),t)][t]))}o(Kw,"internalOutput$3");function N(i,e){if(typeof e=="string")Macro.add(i,e),setup.MACROS_METADATA[i]=e;else{const t=e;Macro.add(i,{handler(){Kw(this.output,this.args[0],t)}}),setup.MACROS_METADATA[i]={info:`Renders as "<b>${Ie.he[t]}</b>" or "<b>${Ie.she[t]}</b>" depending on the actor's gender`,args:Q}}}o(N,"Macro_add"),N("they",0),N("them",1),N("their",2),N("theirs",3),N("themselves",4),N("They",5),N("Them",6),N("Their",7),N("Theirs",8),N("Themselves",9),N("wife",10),N("woman",11),N("girl",12),N("daughter",13),N("mistress",14),N("beauty",15),N("wet",16),N("dry",17),N("lady",18),N("maid",19),N("succubus",20),N("maiden",21),N("princess",22),N("mother",23),N("female",24),N("lass",25),N("women",26),N("queen",27),N("Mistress",28),N("guy",29),N("beautiful",30),N("he","they"),N("He","They"),N("she","they"),N("She","They"),N("herhim","them"),N("Herhim","Them"),N("herhis","their"),N("Herhis","Their"),N("hershis","theirs"),N("Hershis","Theirs"),N("himself","themselves"),N("herself","themselves"),N("themself","themselves"),N("Himself","Themselves"),N("Herself","Themselves"),N("Themself","Themselves"),N("husband","wife"),N("man","woman"),N("boy","girl"),N("child","girl"),N("son","daughter"),N("master","mistress"),N("hard","wet"),N("soft","dry"),N("lord","lady"),N("butler","maid"),N("incubus","succubus"),N("bachelor","maiden"),N("prince","princess"),N("father","mother"),N("male","female"),N("lad","lass"),N("men","women"),N("king","queen"),N("Master","Mistress"),N("handsome","beautiful"),Macro.add("pronounload",{handler(){let i=this.args[0],e=this.args[1];setup.DOM.pronounload(i,e)}}),Macro.add("attach",{skipArgs:!0,handler(){if(this.args.full.length===0)return this.error("no expression specified");let i;try{i=Scripting.evalJavaScript(this.args.full)}catch(e){return console.error(`Bad evaluation of <<attach ${this.args.full}>>`,e),this.error(`bad evaluation: ${e instanceof Error?e.message:e}`)}i&&this.output.append(setup.DOM.toDOM(i))}}),Macro.add("await",{tags:null,handler(){const i=this.payload[0].contents,e=this.args[0],t=$(document.createElement("span"));e.then&&e.then(this.createShadowWrapper(function(){t.wiki(i)})),t.appendTo(this.output)}});function Vw(i,e,t,a){return t.createShadowWrapper(()=>{i.empty(),i.wiki(setup.Text.replaceUnitMacros(e,a));const r=setup.DOM.Card.notifications();i.append(r)})}o(Vw,"replaceContainerContentCallback"),Macro.add("choose",{skipArgs:["optif"],tags:["opt","optif"],handler(){const i=this.payload.length;if(i===1)return this.error("no choices specified");if(this.payload[0].args.length)throw new Error("<<choose>> takes no arguments");const e=[],t=jQuery(document.createElement("div")),a=jQuery(document.createElement("div"));a.wiki(setup.Text.replaceUnitMacros(this.payload[0].contents)),t.append(a);const r=State.variables.g;let s=!1;for(let n=1;n<i;++n){if(this.payload[n].name=="opt"&&this.payload[n].args.length!=1)throw new Error("<<opt>> within <<choose>> must take exactly one argument");if(s){if(this.payload[n].name=="optif")throw new Error("<<optif>> cannot be consecutive");s=!1;continue}if(this.payload[n].name=="optif")Scripting.evalJavaScript(this.payload[n].args.full)||(s=!0);else{const l=html`
          <div>
            ${setup.DOM.Nav.button(setup.DOM.Util.twine(this.payload[n].args[0]),Vw(t,this.payload[n].contents,this,r))}
          </div>
        `;t.append($(l))}}e.push(t.get(0)),this.output.append(setup.DOM.create("div",{},e))}});function A({text:i,cssclass:e,checked:t,clickonly:a,callback:r,children:s,tooltip:n,is_no_close:l}){let u="";t!=null&&(t?u='<i class="sfa sfa-check"></i> ':u='<i class="sfa sfa-check-empty"></i> ');let h=!1;const p=n?`data-tooltip="${setup.escapeHtml(n)}"`:"";let c=$(document.createElement("span"));typeof i=="string"?c.wiki(setup.DevToolHelper.stripNewLine(i)):c.get(0).append(i);const d=$(`<div><span ${p} class='menu-span'>${u}${c.html()}</span></div>`);if(d.on("mouseenter",function(m){if(h)return;if(this._generatemenuitems){const b=$(this.lastElementChild);b.empty();const v=this._generatemenuitems();for(const S of v)S.appendTo(b)}const f=this.children[1];if(f instanceof HTMLElement){const b=d.get(0).getBoundingClientRect(),v=f.getBoundingClientRect();b.right+v.width>.95*window.innerWidth?d.addClass("menu-left"):d.removeClass("menu-left"),!a&&f.style.display&&(f.style.display="")}}),a&&d.addClass("menu-clickonly"),e&&d.addClass(e),s){const m=$("<nav></nav>");if(s instanceof Function)d.get(0)._generatemenuitems=s,m.appendTo(d);else if(s.length){for(const f of s)f.appendTo(m);m.appendTo(d)}}const g=d.children().first();return g.on("mousedown",m=>{m.preventDefault()}),g.on("click",m=>{if(m.preventDefault(),a){if(h)return;const f=m.target.closest(".menu-clickonly"),b=f&&f.children[1];b instanceof HTMLElement&&(b.style.display="block",h=!0,setTimeout(function(){$(window).one("click",function(v){b.style.display="",h=!1})},1))}if(r){if(!l){let f=m.target;for(;f.parentElement;){if(f.parentElement.classList.contains("menu")){f.lastElementChild.style.display="none";break}f=f.parentElement}}r()}}),d}o(A,"menuItem");function de(i){return i.cssclass="submenu-filter-title",A(i)}o(de,"menuItemTitle");function P(i){return i.cssclass="submenu-filter-text",A(i)}o(P,"menuItemText");function Oe(i){return i.cssclass="submenu-danger",A(i)}o(Oe,"menuItemDanger");function I(i){return i.cssclass="submenu-action",A(i)}o(I,"menuItemAction");function be(i){return i.clickonly=!0,i.text='<i class="sfa sfa-ellipsis-vert"></i>',A(i)}o(be,"menuItemExtras");function q(i){const e=document.activeElement;e&&(e.classList.contains("macro-codeeditor-jar")?(document.execCommand("insertHTML",!1,setup.escapeHtml(i)),e.dispatchEvent(new KeyboardEvent("keyup",{key:" "}))):e instanceof HTMLTextAreaElement&&document.execCommand("insertText",!1,i))}o(q,"insertTextIntoEditor");function Ve(i,e){if(i.length===0)return"";let t=`<<if ${i[0]}>>

`;for(let a=1;a<i.length;++a)t+=`<<elseif ${i[a]}>>

`;return e&&(t+=`<<else>>

`),t+=`<</if>>
`}o(Ve,"makeIfElseBlocks");function ft(i){if(i==0)return"";let e="";for(let t=0;t<i;++t)e+=`<<${t?"elseif":"if"} $gQuest.getSeed() % ${i} == ${t}>>

`;return e+=`<</if>>
`,e}o(ft,"makeGetSeedBlocks");function Yw(i){if(i.length===0)return"";let e="";for(let t=0;t<i.length;++t)e+=`<<if ${i[t]}>>

`,e+=`<</if>>
`;return e}o(Yw,"makeIfBlocks");const Jw=[{text:"Bob / Alice / you",output:o(i=>`<<rep ${i}>>`,"output"),tooltip:`Replaced by the unit's name, unless the actor is you, in which case it is replaced by "you" (in lower case).`},{text:"Bob / Alice / You",output:o(i=>`<<Rep ${i}>>`,"output"),tooltip:`Replaced by the unit's name, unless the actor is you, in which case it is replaced by "You" (in upper case).`},{text:"Bob's / Alice's / your",output:o(i=>`<<reps ${i}>>`,"output"),tooltip:`Replaced by the unit's name plus "'", unless the actor is you, in which case it is replaced by "your" (in lower case).`},{text:"Bob's / Alice's / Your",output:o(i=>`<<Reps ${i}>>`,"output"),tooltip:`Replaced by the unit's name plus "'", unless the actor is you, in which case it is replaced by "Your" (in upper case).`},{text:"your evil slaver Bob / you",output:o(i=>`<<yourrep ${i}>>`,"output"),tooltip:'Replaced by "your [adjective] [job] [name]", unless the unit is you, in which case it is replaced by "you" (in lower case)."'},{text:"Your evil slaver Bob / You",output:o(i=>`<<Yourrep ${i}>>`,"output"),tooltip:'Replaced by "Your [adjective] [job] [name]", unless the unit is you, in which case it is replaced by "You" (in upper case)."'},{text:"the slaver / the slave / you",output:o(i=>`<<theslaver ${i}>>`,"output"),tooltip:'Replaced by "the [job]", unless the actor is you, in which case it is replaced by "you" (in lower case).'},{text:"The slaver / The slave / You",output:o(i=>`<<Theslaver ${i}>>`,"output"),tooltip:'Replaced by "The [job]", unless the actor is you, in which case it is replaced by "You" (in upper case).'},{text:"the neko / you",output:o(i=>`<<therace ${i}>>`,"output"),tooltip:'Replaced by "the [race]", unless the actor is you, in which case it is replaced by "you" (in lower case).'},{text:"The neko / You",output:o(i=>`<<Therace ${i}>>`,"output"),tooltip:'Replaced by "The [race]", unless the actor is you, in which case it is replaced by "You" (in upper case).'},{text:"Name (e.g., Bob)",output:o(i=>`<<name ${i}>>`,"output"),tooltip:"Replaced by the unit's name, even if the actor is you."},{text:"Equipment (e.g., bondage armor)",output:o(i=>`<<uequipment ${i}>>`,"output"),tooltip:`Replaced by a short summary of the unit's gear, e.g., "slutty leather armor".`},{text:"Unit card",output:o(i=>`<<unitcard ${i} 1>>`,"output"),tooltip:"Shows the unit's details as a card. Useful for showing details of NPCs, whose stats are hidden by default."}],Ww=[{replace:!0,text:"is / are",output:o(i=>`${i}|is`,"output"),tooltip:'Replaced by "is", unless the actor is you, then replaced by "are".  For example, "&lt;&lt;rep &#36;g.a &gt;&gt; a|is having fun" will either become "Bob is having fun" or "You are having fun".'},{replace:!0,text:"a|was / were",output:o(i=>`${i}|was`,"output"),tooltip:'Replaced by "was", unless the actor is you, then replaced by "were".  For example, "&lt;&lt;rep &#36;g.a &gt;&gt; a|was drunk" will either become "Bob was drunk" or "You were drunk".'},{replace:!0,text:"kiss / kisses (works for all verb)",output:o(i=>`${i}|kiss`,"output"),tooltip:'Replaced by the present simple tense form of "kiss", unless the actor is you, then replaced by just "kiss".  For example, "&lt;&lt;rep &#36;g.a &gt;&gt; a|kiss a bird" will either become "Bob kisses a bird" or "You kiss a bird". There are no past tense counterpart of this, since past tense works the same way for both "Bob" and you.'},{text:"Hobby verb (e.g., lifting weights)",output:o(i=>`<<uhobbyverb ${i}>>`,"output"),tooltip:'Replaced by a verb describing the hobby of the actor in present continuous term, sometimes with an object. For example, this can become "lifting weights", "eating", or "sleeping lazily under the tree".'}],Qw=[{text:"Race (e.g., werewolf)",output:o(i=>`<<urace ${i}>>`,"output"),tooltip:`Replaced by the unit's race, e.g, "werewolf" or "elf".`},{text:"Homeland (e.g., Western Forests)",output:o(i=>`<<uhomeland ${i}>>`,"output"),tooltip:`Replaced by the unit's homeland, e.g, "City of Lucgate" or "Western Forests".`},{text:"Praisable noun (e.g., creativity)",output:o(i=>`<<upraisenoun ${i}>>`,"output"),tooltip:"Replaced by a noun describing something that people can praise the actor for."},{text:"Insultable noun (e.g., stupidity)",output:o(i=>`<<uinsultnoun ${i}>>`,"output"),tooltip:"Replaced by a noun describing something that people can insult the actor for."}],Zw=[{text:"adverb (e.g., boldly)",output:o(i=>`<<uadv ${i}>>`,"output"),tooltip:"Replaced by a random adverb suitable for the actor."},{text:"adjective (e.g., strong or smart)",output:o(i=>`<<uadj ${i}>>`,"output"),tooltip:"Replaced by a random adjective suitable for the actor."},{text:"physical adjective (e.g., strong or tough)",output:o(i=>`<<uadjphys ${i}>>`,"output"),tooltip:"Replaced by a random physical adjective suitable for the actor."},{text:"praisable adjective (e.g., smart or brave)",output:o(i=>`<<uadjgood ${i}>>`,"output"),tooltip:"Replaced by a random praisable adjective suitable for the actor."},{text:"insultable adjective (e.g., dumb or careless)",output:o(i=>`<<uadjbad ${i}>>`,"output"),tooltip:"Replaced by a random insultable adjective suitable for the actor."},{text:"caring adverb (e.g., gently or silently)",output:o(i=>`<<uadvcare ${i}>>`,"output"),tooltip:`Replaced by a random adjective suitable for the actor that is appropriate for taking care of others. For example, "gently" or "silently" could appear, but "cruelly" or "violently" won't appear.`},{text:"abusive adverb (e.g., cruelly or violently)",output:o(i=>`<<uadvabuse ${i}>>`,"output"),tooltip:`Replaced by a random adjective suitable for the actor that is appropriate for abusing or attacking others. For example, "violently" or "decisively" could appear, but "kindly" or "gently" won't appear.`}],Xw=[{text:"he / she / you",output:o(i=>`<<they ${i}>>`,"output"),tooltip:'Replaced by he or she, unless the actor is you, then replaced by "you". An uppercase version of this exists too (&lt;&lt;They&gt;&gt; instead of &lt;&lt;they&gt;&gt;)'},{text:"him / her / you",output:o(i=>`<<them ${i}>>`,"output"),tooltip:'Replaced by him or her, unless the actor is you, then replaced by "you". An uppercase version of this exists too (&lt;&lt;Them&gt;&gt; instead of &lt;&lt;them&gt;&gt;)'},{text:"his / her / your",output:o(i=>`<<their ${i}>>`,"output"),tooltip:'Replaced by his or her, unless the actor is you, then replaced by "your". An uppercase version of this exists too (&lt;&lt;Their&gt;&gt; instead of &lt;&lt;their&gt;&gt;)'},{text:"his / hers / yours",output:o(i=>`<<theirs ${i}>>`,"output"),tooltip:'Replaced by his or hers, unless the actor is you, then replaced by "yours". An uppercase version of this exists too (&lt;&lt;Theirs&gt;&gt; instead of &lt;&lt;theirs&gt;&gt;)'},{text:"himself / herself / yourself",output:o(i=>`<<themselves ${i}>>`,"output"),tooltip:'Replaced by himself or herself, unless the actor is you, then replaced by "yourself". An uppercase version of this exists too (&lt;&lt;Themselves&gt;&gt; instead of &lt;&lt;themselves&gt;&gt;)'},{text:"man / woman",output:o(i=>`<<woman ${i}>>`,"output"),tooltip:"Replaced by man or woman depending on the actor's gender."},{text:"boy / girl",output:o(i=>`<<girl ${i}>>`,"output"),tooltip:"Replaced by boy or girl depending on the actor's gender."},{text:"master / mistress",output:o(i=>`<<mistress ${i}>>`,"output"),tooltip:"Replaced by master or mistress depending on the actor's gender."},{text:"lord / lady",output:o(i=>`<<lady ${i}>>`,"output"),tooltip:"Replaced by lord or lady depending on the actor's gender."},{text:"father / mother",output:o(i=>`<<mother ${i}>>`,"output"),tooltip:"Replaced by father or mother depending on the actor's gender."},{text:"son / daughter",output:o(i=>`<<daughter ${i}>>`,"output"),tooltip:"Replaced by son or daughter depending on the actor's gender."},{text:"butler / maid",output:o(i=>`<<maid ${i}>>`,"output"),tooltip:"Replaced by butler or maid depending on the actor's gender."},{text:"guy / girl",output:o(i=>`<<guy ${i}>>`,"output"),tooltip:"Replaced by guy or girl depending on the actor's gender."}],eR=[{text:"head",output:o(i=>`<<uhead ${i}>>`,"output")},{text:"face (e.g., handsome face)",output:o(i=>`<<uface ${i}>>`,"output")},{text:"mouth (e.g., muzzle)",output:o(i=>`<<umouth ${i}>>`,"output")},{text:"eyes (e.g., draconic eyes)",output:o(i=>`<<ueyes ${i}>>`,"output")},{text:"ears (e.g., pointy ears)",output:o(i=>`<<uears ${i}>>`,"output")}],tR=[{text:"breasts (e.g., huge breasts or manly pecs)",output:o(i=>`<<ubreasts ${i}>>`,"output")},{text:"nipples",output:o(i=>`<<unipples ${i}>>`,"output")},{text:"cleavage",output:o(i=>`<<ucleavage ${i}>>`,"output")},{text:"torso (e.g., muscular body)",output:o(i=>`<<utorso ${i}>>`,"output")},{text:"belly / abs (e.g., thin stomach or sixpacks)",output:o(i=>`<<ubelly ${i}>>`,"output")},{text:"neck (e.g., thick neck)",output:o(i=>`<<uneck ${i}>>`,"output")},{text:"back (e.g., muscular back)",output:o(i=>`<<uback ${i}>>`,"output")},{text:"wings (e.g., draconic wings)",output:o(i=>`<<uwings ${i}>>`,"output")},{text:"skin (e.g., fur or green skin)",output:o(i=>`<<uskin ${i}>>`,"output")},{text:"waist (e.g., thin waist)",output:o(i=>`<<uwaist ${i}>>`,"output")}],aR=[{text:"arms (e.g., muscular arms)",output:o(i=>`<<uarms ${i}>>`,"output")},{text:"hands (e.g., paws)",output:o(i=>`<<uhands ${i}>>`,"output")},{text:"hand (e.g., paw)",output:o(i=>`<<uhand ${i}>>`,"output")},{text:"legs (e.g., muscular legs)",output:o(i=>`<<ulegs ${i}>>`,"output")},{text:"feet (e.g., digitigrade feet)",output:o(i=>`<<ufeet ${i}>>`,"output")}],iR=[{text:"genitals (e.g., vagina or dick)",output:o(i=>`<<ugenital ${i}>>`,"output")},{text:"dick (e.g., large dick)",output:o(i=>`<<udick ${i}>>`,"output")},{text:"dick / strap-on",output:o(i=>`<<udickorstrap ${i}>>`,"output"),tooltip:'Will either become a "dick" or "large dick" if the unit has a dick, or "strap-on" or "fake dick" otherwise.'},{text:"balls (e.g., large balls)",output:o(i=>`<<uballs ${i}>>`,"output")},{text:"vagina (e.g., loose vagina)",output:o(i=>`<<uvagina ${i}>>`,"output")},{text:"anus (e.g., cavernous anus)",output:o(i=>`<<uanus ${i}>>`,"output")},{text:"hole (e.g., tight vagina or loose anus)",output:o(i=>`<<uhole ${i}>>`,"output"),tooltip:'Will become a "vagina" if the unit has one, or "anus" otherwise'},{text:"tail (e.g., draconic tail)",output:o(i=>`<<utail ${i}>>`,"output")},{text:"cum / pussyjuice",output:o(i=>`<<ucum ${i}>>`,"output"),tooltip:'Becomes "cum" if the unit has a dick, or "pussyjuice" otherwise'}],rR=[{text:"weapon (e.g., Axe)",output:o(i=>`<<uweapon ${i}>>`,"output")},{text:"head (e.g., Helmet)",output:o(i=>`<<uequipslot ${i} 'head'>>`,"output"),tooltip:`Becomes the unit's head equipment if they are wearing one, or just "head" if nothing is worn`},{text:"neck (e.g., Cape)",output:o(i=>`<<uequipslot ${i} 'neck'>>`,"output"),tooltip:`Becomes the unit's neck equipment if they are wearing one, or just "neck" if nothing is worn`},{text:"torso (e.g., Armor)",output:o(i=>`<<uequipslot ${i} 'torso'>>`,"output"),tooltip:`Becomes the unit's torso equipment if they are wearing one, or just "torso" if nothing is worn`},{text:"arms (e.g., Gloves)",output:o(i=>`<<uequipslot ${i} 'arms'>>`,"output"),tooltip:`Becomes the unit's arms equipment if they are wearing one, or just "arms" if nothing is worn`},{text:"legs (e.g., Pants)",output:o(i=>`<<uequipslot ${i} 'legs'>>`,"output"),tooltip:`Becomes the unit's legs equipment if they are wearing one, or just "legs" if nothing is worn`},{text:"feet (e.g., Boots)",output:o(i=>`<<uequipslot ${i} 'feet'>>`,"output"),tooltip:`Becomes the unit's feet equipment if they are wearing one, or just "feet" if nothing is worn`},{text:"eyes (e.g., Glasses)",output:o(i=>`<<uequipslot ${i} 'eyes'>>`,"output"),tooltip:`Becomes the unit's eyes equipment if they are wearing one, or just "eyes" if nothing is worn`},{text:"mouth (e.g., Ballgag)",output:o(i=>`<<uequipslot ${i} 'mouth'>>`,"output"),tooltip:`Becomes the unit's mouth equipment if they are wearing one, or just "mouth" if nothing is worn`},{text:"nipple (e.g., Nipple chains)",output:o(i=>`<<uequipslot ${i} 'nipple'>>`,"output"),tooltip:`Becomes the unit's nipple equipment if they are wearing one, or just "nipple" if nothing is worn`},{text:"rear (e.g., Buttplug)",output:o(i=>`<<uequipslot ${i} 'rear'>>`,"output"),tooltip:`Becomes the unit's rear equipment if they are wearing one, or just "rear" if nothing is worn`},{text:"genital (e.g., Chastity Cage)",output:o(i=>`<<uequipslot ${i} 'genital'>>`,"output"),tooltip:`Becomes the unit's genital equipment if they are wearing one, or just "dick" or "vagina" if nothing is worn`},{text:"summary (e.g., armor)",output:o(i=>`<<uequipment ${i}>>`,"output"),tooltip:"Describes a rough summary of the unit's entire gear."}],sR=[{text:"strips his shirt and",output:o(i=>`<<ustripshirtand ${i}>>`,"output"),tooltip:'If the unit is wearing something covering their torso, this will become "strips his [torso equipment] and". Otherwise, this is replaced by an empty string "".'},{text:"strips his pants and",output:o(i=>`<<ustrippantsand ${i}>>`,"output"),tooltip:'If the unit is wearing something covering their genitals, this will become "strips his [leg equipment / rear equipment] and". Otherwise, this is replaced by an empty string "".'},{text:"remove his blindfold and",output:o(i=>`<<ustripeyesand ${i}>>`,"output"),tooltip:'If the unit is wearing something covering their eyes, this will become "strips his [eyes equipment] and". Otherwise, this is replaced by an empty string "".'},{text:"unfasten his gag and",output:o(i=>`<<ustripmouthand ${i}>>`,"output"),tooltip:'If the unit is wearing something covering their mouth, this will become "remove/unfasten their [mouth equipment] and". Otherwise, this is replaced by an empty string "".'},{text:"pull out his buttplug and",output:o(i=>`<<ustripanusand ${i}>>`,"output"),tooltip:'If the unit is wearing something preventing the use of their anus, this will become "remove/their [rear equipment] and". Otherwise, this is replaced by an empty string "".'},{text:"pull out her dildo / unlock their chastity and",output:o(i=>`<<ustripgenitaland ${i}>>`,"output"),tooltip:'If the unit is wearing something preventing the use of their vagina OR their dick, this will become "remove/pull out [genital equipment] and". Otherwise, this is replaced by an empty string "".'},{text:"strips his armor and",output:o(i=>`<<ustripequipmentand ${i}>>`,"output"),tooltip:'If the unit is wearing something, this will become "strips his armor and". Otherwise, this is replaced by an empty string "".'}],nR=[{text:"punish reason (e.g., Bob disobeyed)",output:o(i=>`<<upunishreason ${i}>>`,"output"),tooltip:'Returns a half sentence describing something the actor can be punished for. For example, "You punish Bob because &lt;&lt;upunishreason &#36;.bob &gt;&gt;." can become "You punish Bob because Bob showed signs of deviance."'},{text:"Your rescuer can rescue Bob",output:o(i=>`<<uneedrescue ${i}>>`,"output"),tooltip:'Returns a half sentence describing how you could potentially rescue the actor. This is meant to describe units who are lost, but can still be rescued by the rescuer. The half sentence is meant to be completed by appending more text at the end. For example, "&lt;&lt;uneedrescue &#36;.bob &gt;&gt; before worse things come to pass." can become "Your Rescuer should get to work and rescue Bob before worse things come to pass."'},{text:"You need to rescue Bob now",output:o(i=>`<<urescuenow ${i}>>`,"output"),tooltip:'Returns a half sentence describing how you need to rescue the actor fast. This is meant to describe units who are lost but can be immediately rescued. The half sentence is meant to be completed by appending more text at the end. For example, "&lt;&lt;urescuenow &#36;.bob &gt;&gt; before they got transformed into a full slut." can become "You need to rescue Bob now before they got transformed into a full slut."'}],oR=[{text:"Create speech bubble",output:o(i=>`<<dialogue ${i}>>
Hey boss
<</dialogue>>`,"output"),tooltip:"Create a speech bubble that will appear in the text. The actor is meant to be the person speaking the text."},{text:"Your nickname from a slaver (e.g., boss)",output:o(i=>`<<unickname ${i}>>`,"output"),tooltip:"How the actor likes to call you"},{text:"Your (bad) nickname from a slaver (e.g., bitch)",output:o(i=>`<<unicknamebad ${i}>>`,"output"),tooltip:"How the actor likes to insultingly call you. There is also a variant where the actor has a bad nickname for another actor: &lt;&lt;unicknamebad &#36;.a &#36;.b&gt;&gt; is how a calls b insultingly"},{text:"Hey boss,",output:o(i=>`<<ugreetingshort ${i}>>`,"output"),tooltip:'Returns a half sentence describing an actor greeting you. Meant to be completed by adding more to the end, for example, "&lt;&lt;ugreetingshort &#36;.bob&gt;&gt; do you want some of these chocolate?".'},{text:"Hey boss, how are you?",output:o(i=>`<<ugreetingfull ${i}>>`,"output"),tooltip:"Returns a full sentence describing an actor greeting you. Can alternatively receive two parameters, where the second parameter is the master."},{text:"Hey boss, sorry a bit busy right now",output:o(i=>`<<ubusyshort ${i}>>`,"output"),tooltip:'Returns a half sentence describing an actor greeting you, but being busy with something and trying to refuse your company. Meant to be completed by either adding period or adding more sentence to the end, for example, "&lt;&lt;ubusyshort &#36;.bob&gt;&gt; cooking.".'},{text:"Mmmphhhh!!",output:o(i=>`<<ugaggeddiscomfort ${i}>>`,"output"),tooltip:"Returns a muffled speech from the actor being in discomfort"},{text:"Mmphh...mmph~",output:o(i=>`<<ugaggedpleasure ${i}>>`,"output"),tooltip:"Returns a muffled speech from the actor being in pleasure"}],lR=[{text:"Yes, master.",output:o(i=>`<<uyesmaster ${i}>>`,"output"),tooltip:"Returns a full sentence describing an slave obeying their master."},{text:"Yelp...! (pet whine)",output:o(i=>`<<upetwhine ${i}>>`,"output"),tooltip:"Returns a full dialogue describing the unit whining like a pet."}],uR=[{text:"Has dick?",output:o(i=>Ve([`${i}.isHasDick()`],!0),"output"),tooltip:"Conditional based on whether the actor has dick or vagina"},{text:"Has tail?",output:o(i=>Ve([`${i}.isHasTail()`],!0),"output"),tooltip:"Conditional based on whether the actor has some kind of tail"},{text:"Has wings?",output:o(i=>Ve([`${i}.isHasWings()`],!0),"output"),tooltip:"Conditional based on whether the actor has some kind of wings"},{text:"Has something covering genitals?",tooltip:"Get the item covering their genitals and optionally condition on it.",output:o(i=>`<<set _cover = ${i}.getGenitalCovering()>>
<<if _cover>>
  <<Reps ${i}>> <<ugenital ${i}>> is covered by <<their ${i}>> <<rep _cover>>.
  <<They ${i}>> <<ustrippantsand ${i}>> let <<their ${i}>> <<ugenital ${i}>>
  get some fresh air.
<<else>>
  <<Reps ${i}>> <<ugenital ${i}>> is bare and available for all to see.
<</if>>`,"output")},{text:"Has something covering chest / breasts?",tooltip:"Get the item covering their chest / breasts and optionally condition on it.",output:o(i=>`<<set _cover = ${i}.getChestCovering()>>
<<if _cover>>
  <<Reps ${i}>> <<ubreasts ${i}>> are covered by <<their ${i}>> <<rep _cover>>.
  <<They ${i}>> <<ustripshirtand ${i}>> let <<their ${i}>> <<ubreasts ${i}>>
  get some fresh air.
<<else>>
  <<Reps ${i}>> <<ubreasts ${i}>> is bare and available for all to see.
<</if>>`,"output")}],hR=[{text:"Submissive?",output:o(i=>Ve([`${i}.isSubmissive()`],!0),"output"),tooltip:"Conditional based on whether the actor is submissive either via the submissive trait or via slave training"},{text:"Dominant?",output:o(i=>Ve([`${i}.isDominant()`],!0),"output"),tooltip:"Conditional based on whether the actor has the dominant trait"},{text:"Masochistic?",output:o(i=>Ve([`${i}.isMasochistic()`],!0),"output"),tooltip:"Conditional based on whether the actor is masochistic either via the masochist trait or via slave training"},{text:"In chastity?",output:o(i=>Ve([`${i}.isInChastity()`],!0),"output"),tooltip:"Conditional based on whether the actor is in a dick chastity"}],pR=[{replace:!0,text:"Injure",tooltip:'Injures actor. Change the injury duration by changing the number inside "setup.qc.Injury()"',output:o(i=>`<<run setup.qc.Injury('${i}', 1).apply($gQuest)>>`,"output")},{replace:!0,text:"Traumatize",tooltip:'Traumatize actor. Change the duration by changing the number inside "setup.qc.TraumatizeRandom()"',output:o(i=>`<<run setup.qc.TraumatizeRandom('${i}', 5).apply($gQuest)>>`,"output")},{replace:!0,text:"Boonize",tooltip:'Give an actor a random boon. Change the duration by changing the number inside "setup.qc.TraumatizeRandom()"',output:o(i=>`<<run setup.qc.BoonizeRandom('${i}', 5).apply($gQuest)>>`,"output")},{replace:!0,text:"Corrupt",tooltip:"Randomly corrupt an actor",output:o(i=>`<<run setup.qc.Corrupt('${i}').apply($gQuest)>>`,"output")},{replace:!0,text:"Bless",tooltip:"Give an actor a random blessing",output:o(i=>`<<run setup.qc.Blessing('${i}', 1).apply($gQuest)>>`,"output")},{replace:!0,text:"Curse",tooltip:"Give an actor a random curse",output:o(i=>`<<run setup.qc.Blessing('${i}', 1, null, true).apply($gQuest)>>`,"output")},{replace:!0,text:"Friendship with you",tooltip:'Actor gain some friendship with you. Change the number inside the "setup.qc.FriendshipWithYou" to change the amount',output:o(i=>`<<run setup.qc.FriendshipWithYou('${i}', 50).apply($gQuest)>>`,"output")},{replace:!0,text:"Rivalry with you",tooltip:'Actor gain some rivalry with you. Change the number inside the "setup.qc.FriendshipWithYou" to change the amount',output:o(i=>`<<run setup.qc.FriendshipWithYou('${i}', -50).apply($gQuest)>>`,"output")}];function af(i){return i==="Player"?i:"<i>"+i+"</i>"}o(af,"makeActorLabel");function Yf(){const e=State.variables.dtquest.getUnitCriterias();return Object.keys(e).map(t=>`$g.${t}`).join(", ")}o(Yf,"getRoleTexts");function ki(i){return"["+i.map(e=>`'${e.key}'`).join(", ")+"]"}o(ki,"getTraitArrayText");function cR(i){function e(r){let s=[];for(const n of r){let l=[];for(const[u,h]of setup.DevToolHelper.getActors()){let p=h;if(n.replace)if(h.startsWith("$g."))p=h.substr(3);else if(h=="$unit.player")p="U";else throw new Error(`Unknown actor: ${h}`);l.push(A({text:af(u),cssclass:"submenu-actor",callback:o(()=>q(n.output(p)),"callback")}))}s.push(A({text:n.text,children:l,tooltip:n.tooltip}))}return s}o(e,"makeActorMenu");function t(){let r=[];return State.variables.devtooltype=="quest"&&(r=[A({text:"If any role...",tooltip:"Conditions that any one of the units going on the quest satisfy something",children:o(()=>[A({text:"If any role has ONE trait...",tooltip:"Conditional based on whether any one of the actors going on this quest has a certain trait, and return the actor. This can be used to setup so that the actor with the certain trait will speak up or participate in the text.",callback:o(()=>{i(setup.DevToolHelper.pickTraits()).then(s=>{if(s&&s.length){const n=Yf();for(const l of s)q(`<<set _unit = setup.selectUnit([${n}], {trait: '${l.key}'})>>
`),q(`<<if _unit>>
<<Rep _unit>> had trait ${l.key}

<</if>>

`)}})},"callback")}),A({text:"If any role has ANY trait...",tooltip:"Conditional based on whether any one of the actors going on this quest has a ANY of a set of traits, and return the actor.",callback:o(()=>{i(setup.DevToolHelper.pickTraits()).then(s=>{s&&s.length&&(q(`<<set _unit = setup.selectUnit([${Yf()}], {anytrait: ${ki(s)}})>>`),q(`
<<if _unit>>
<<Rep _unit>> had one of these traits: ${ki(s)}
<<else>>
No unit has any one of the traits above.
<</if>>`))})},"callback")}),A({text:"If any role has NO trait...",tooltip:"Conditional based on whether any one of the actors going on this quest has NONE of a set of traits, and return the actor.",callback:o(()=>{i(setup.DevToolHelper.pickTraits()).then(s=>{s&&s.length&&(q(`<<set _unit = setup.selectUnit([${Yf()}], {notrait: ${ki(s)}})>>`),q(`
<<if _unit>>
<<Rep _unit>> had NONE of these traits: ${ki(s)}
<<else>>
No unit has any NONE of the traits above.
<</if>>`))})},"callback")}),A({text:"If any role has ALL trait...",tooltip:"Conditional based on whether any one of the actors going on this quest has ALL of a set of traits, and return the actor.",callback:o(()=>{i(setup.DevToolHelper.pickTraits()).then(s=>{s&&s.length&&(q(`<<set _unit = setup.selectUnit([${Yf()}], {alltrait: ${ki(s)}})>>`),q(`
<<if _unit>>
<<Rep _unit>> had ALL of these traits: ${ki(s)}
<<else>>
No unit has ALL of the traits above.
<</if>>`))})},"callback")}),A({text:"If you are on the quest...",tooltip:"Conditional based on whether the player character is going on the quest",callback:o(()=>{const n=State.variables.dtquest.getUnitCriterias(),l=[];for(const c of Object.keys(n))l.push(`<<if !$g.${c}.isYou()>><<run _notyou.push($g.${c})>><</if>>`);const u=[],h=[];for(let c=0;c<Object.keys(n).length-1;++c)h.push(`<<set _o${c+1} = _notyou[${c}]>>`),u.push(`<<rep _o${c+1}>>`);const p=Object.keys(n).map(c=>`$g.${c}.isYou()`).join(" or ");q(`<<if ${p}>>

    <<set _notyou = []>>
    ${l.join(`
`)}
    ${h.join(`
`)}

    You are going on the quest.
    The other units on the quest are:
    ${u.join(", ")}.

    <<else>>
    You are not going on the quest.

    <</if>>`)},"callback")})],"children")})]),r}o(t,"genIfAnyRole");const a=[A({text:"Subject",children:o(()=>e(Jw),"children"),tooltip:"Substitutes subjects of a sentence"}),A({text:"Verb",children:o(()=>e(Ww),"children"),tooltip:"Substitutes verb of a sentence"}),A({text:"Noun",children:o(()=>e(Qw),"children"),tooltip:"Substitutes noun in a sentence"}),A({text:"Terms",children:o(()=>e(Zw),"children"),tooltip:"Adjectives and adverbs"}),A({text:"Pronouns",children:o(()=>e(Xw),"children"),tooltip:"Gender-specific pronouns and words"}),A({text:"Body",tooltip:"Expand an actor's bodypart, e.g., adding large to body or loose to anus",children:o(()=>[A({text:"Nethers",children:o(()=>e(iR),"children")}),A({text:"Limbs",children:o(()=>e(aR),"children")}),A({text:"Upper body",children:o(()=>e(tR),"children")}),A({text:"Head",children:o(()=>e(eR),"children")})],"children")}),A({text:"Equipment",tooltip:"Becomes the unit's equipment, if it is wearing one, otherwise becomes the bodypart",children:o(()=>e(rR),"children")}),A({text:"Sentence",tooltip:"Generate non-dialogue sentences or half-sentences",children:o(()=>[A({text:"Strip",tooltip:"Various sentences for stripping out of an equipment",children:o(()=>e(sR),"children")}),...e(nR)],"children")}),A({text:"Dialogue",tooltip:"Generate sentences or half sentences suitable inside some dialogue",children:o(()=>[A({text:"Slave dialogue",tooltip:"Dialogues fit for a slave",children:e(lR)}),...e(oR)],"children")}),A({text:"If actor",tooltip:"Conditionals based on a property of an actor. For example, this can be used to generate unique text if the actor satisfies a certain condition like having a dick or being submissive",children:o(()=>[...t(),A({text:"Has...",tooltip:"Conditional based whether the unit has something",children:o(()=>e(uR),"children")}),A({text:"Has trait...",tooltip:"Conditional based whether the unit has some trait(s)",children:o(()=>[A({text:"Has a trait (not stackable)?",tooltip:"Conditional text based on which trait the unit possess. When a unit has multiple of the traits, only the first one will be picked for generating the sentence.",children:o(()=>setup.DevToolHelper.getActors().map(([r,s])=>A({text:af(r),cssclass:"submenu-actor",callback:o(()=>{i(setup.DevToolHelper.pickTraits()).then(n=>{n&&n.length&&q(Ve(n.map(l=>`${s}.isHasTrait('${l.key}')`),!0))})},"callback")})),"children")}),A({text:"Has a trait (stackable)?",tooltip:"Conditional based on which trait the unit possess. When a unit has multiple of the traits, all sentences will be generated.",children:o(()=>setup.DevToolHelper.getActors().map(([r,s])=>A({text:af(r),cssclass:"submenu-actor",callback:o(()=>{i(setup.DevToolHelper.pickTraits()).then(n=>{n&&n.length&&q(Yw(n.map(l=>`${s}.isHasTrait('${l.key}')`)))})},"callback")})),"children")}),A({text:"Has ALL these traits?",tooltip:"Conditional based on whether unit possess all of these traits.",children:o(()=>setup.DevToolHelper.getActors().map(([r,s])=>A({text:af(r),cssclass:"submenu-actor",callback:o(()=>{i(setup.DevToolHelper.pickTraits()).then(n=>{n&&n.length&&q(Ve([`${s}.isHasTraitsExact([${n.map(l=>`"${l.key}"`).join(", ")}])`],!0))})},"callback")})),"children")}),A({text:"Has ANY of these traits?",tooltip:"Conditional based on whether unit possess ANY of these traits. Unlike the above, this will only generate two outcomes: have any one, or dont have all of them.",children:o(()=>setup.DevToolHelper.getActors().map(([r,s])=>A({text:af(r),cssclass:"submenu-actor",callback:o(()=>{i(setup.DevToolHelper.pickTraits()).then(n=>{n&&n.length&&q(Ve([`${s}.isHasAnyTraitExact([${n.map(l=>`"${l.key}"`).join(", ")}])`],!0))})},"callback")})),"children")})],"children")}),...e(hR),...e([{text:"Has general personality?",tooltip:"Conditional based on the unit's general personality. A unit's personality is based on their traits, and a unit has exactly one of the five possible personalities: friendly, bold, cool, witty, or debauched. A friendly slaver is easygoing, and occasionally meek. A bold slaver is prideful, boastful, and sometimes aggressive. A cool slaver is aloof, doesn't talk much, and occasionally antisocial. A witty slaver is clever, humorous, and enjoys good entertainment. A debauched slaver is lusty, depraved, and sometimes evil.",output:o(r=>{const s=Object.values(setup.speech).map(n=>`${r}.getSpeech() == setup.speech.${n.key}`);return Ve(s,!1)},"output")},{text:"Hails from?",tooltip:"Conditional based on which region the unit originally hails from",output:o(r=>Ve(Object.keys(setup.Text.Race.REGIONS).map(s=>`${r}.getHomeland() == setup.Text.Race.REGIONS.${s}`),!0),"output")}])],"children")}),A({text:"Non-Actor",tooltip:"Macros that generate things unrelated to actors in the quest",children:o(()=>[A({text:"Company",tooltip:"Prints a company name with tooltips",callback:o(()=>{i(setup.DevToolHelper.pickCompany()).then(r=>{r&&q(`<<rep $company.${r.key}>>`)})},"callback")}),A({text:"Trait",tooltip:"Prints a trait with tooltips",callback:o(()=>{i(setup.DevToolHelper.pickTrait()).then(r=>{r&&q(`<<rep setup.trait.${r.key}>>`)})},"callback")}),A({text:"Building",tooltip:"Prints a building name with tooltips",callback:o(()=>{i(setup.DevToolHelper.pickBuilding()).then(r=>{r&&q(`<<rep setup.buildingtemplate.${r.key}>>`)})},"callback")}),A({text:"Item",tooltip:"Prints an item name with tooltips",callback:o(()=>{i(setup.DevToolHelper.pickItem()).then(r=>{r&&q(`<<rep setup.item.${r.key}>>`)})},"callback")}),A({text:"Equipment",tooltip:"Prints an equipment name with tooltips",callback:o(()=>{i(setup.DevToolHelper.pickEquipment()).then(r=>{r&&q(`<<rep setup.equipment.${r.key}>>`)})},"callback")}),A({text:"Lore",tooltip:"Prints a lore item with tooltips",callback:o(()=>{i(setup.DevToolHelper.pickLore()).then(r=>{r&&q(`<<lore ${r.key}>>`)})},"callback")}),A({text:'Set variable """_u""" to any slaver',tooltip:"Setups a variable to be any slaver within your company, with a bigger preference towards your vice leader and your on-duty slavers. This can be used to generate a unit that can comments on various situations without actually partaking in the content itself.",callback:o(()=>{q("<<set _u = setup.getAnySlaver()>>")},"callback")}),A({text:'Random noun (e.g., "bananas")',tooltip:"Replaced with a random topic noun",callback:o(()=>{q("<<topic>>")},"callback")}),A({text:"Slaver on a certain duty",tooltip:"Set a variable to be the slaver on a particular duty, if any",callback:o(()=>{i(setup.DevToolHelper.pickDutyTemplate()).then(r=>{r&&q(`<<set _u = setup.getUnit({duty: '${r.key}'})>>
<<if _u>>
<<Rep _u>> is your ${r.getName()}.
<<else>>
You do not have a ${r.getName()}.
<</if>>`)})},"callback")})],"children")}),A({text:"Formatting",tooltip:"Related to text formatting",children:o(()=>[A({text:"Money",tooltip:"Formats a money amount. The example formats 2000g",callback:o(()=>{q("<<money 2000>>")},"callback")}),A({text:"Favor",tooltip:"Formats a favor amount. The example formats 15.0 favor. Note that the amount is multiplied by 10 inside the code.",callback:o(()=>{q("<<favor 150>>")},"callback")}),A({text:"Font",tooltip:"Create a segment of text using race font. You can also use a font name instead.",children:o(()=>setup.TraitHelper.getAllTraitsOfTags(["subrace"]).map(r=>A({text:r.rep(),callback:o(()=>{q(`<<font '${r.key}'>>
  Type your sentence here!
<</font>>`)},"callback")})),"children")}),A({text:"Font size",tooltip:"Create a segment of text using a different font size.",children:o(()=>[12,16,20,24,28,32,48,64,128].map(s=>A({text:`${s}px`,callback:o(()=>{q(`<<fontsize ${s}>>
    Type your sentence here!
  <</fontsize>>`)},"callback")})),"children")}),A({text:"Letter card",tooltip:"Creates a text segment styled to look like a written letter.",callback:o(()=>{q(`<div class='lettercard'>
<p>
Dear <<name $unit.player>>,
</p>
<p>
Goodbye,
</p>
<p>
Your most ardent admirer
</p>
</div>`)},"callback")}),A({text:"Highlight green + bold",tooltip:"Highlights a text in green and bold it",callback:o(()=>{q('<<successtext "i am green">>')},"callback")}),A({text:"Highlight green",tooltip:"Highlights a text in green",callback:o(()=>{q('<<successtextlite "i am green">>')},"callback")}),A({text:"Highlight red",tooltip:"Highlights a text in red",callback:o(()=>{q('<<dangertextlite "i am red">>')},"callback")}),A({text:"Highlight red + bold",tooltip:"Highlights a text in red and bold it",callback:o(()=>{q('<<dangertext "i am red">>')},"callback")})],"children")})];return State.variables.devtooltype!="interaction"&&a.push(A({text:"Conditionals",tooltip:"Allowing you to show different texts depending on certain non-actor-related conditions",children:o(()=>{const r=[A({text:"If building exists...",tooltip:"Conditionals based on whether you already built a certain building",callback:o(()=>{i(setup.DevToolHelper.pickBuilding()).then(s=>{s&&q(`<<if $fort.player.isHasBuilding("${s.key}")>>
You have the building.
<<else>>
You do not have the building.
<</if>>`)})},"callback")}),A({text:"If you have item...",tooltip:"Conditionals based on whether you already have a certain item",callback:o(()=>{i(setup.DevToolHelper.pickItem()).then(s=>{s&&q(`<<if $inventory.isHasItem("${s.key}")>>
You have the item.
<<else>>
You do not have the item.
<</if>>`)})},"callback")}),A({text:"If variable...",tooltip:"Conditionals based on the value of a certain variable that might have been set by earlier quests / events",children:[A({text:"If variable equals",tooltip:"Whether the variable is equal some value",callback:o(()=>{q(`<<if setup.qres.VarEqual("variable_name", "1").isOk($gQuest)>>
Variable variable_name is equal to 1
<<else>>
Variable variable_name is not equal to 1
<</if>>`)},"callback")}),A({text:"If variable is greater or equal to",tooltip:"Whether the variable value is greater or equal some value",callback:o(()=>{q(`<<if setup.qres.VarGte("variable_name", 2).isOk($gQuest)>>
Variable variable_name is greater than or equal to 2
<<else>>
Variable variable_name is not greater than or equal to 2
<</if>>`)},"callback")}),A({text:"If variable is unset",tooltip:"Whether the variable is not set",callback:o(()=>{q(`<<if setup.qres.VarNull("variable_name").isOk($gQuest)>>
Variable variable_name is not set
<<else>>
Variable variable_name is set
<</if>>`)},"callback")})]})];return State.variables.devtooltype=="quest"&&(r.push(A({text:"If... outcomes",tooltip:"Conditionals based on the quest outcome. For example, you can use this to generate special tests on a critical success.",callback:o(()=>{q(Ve(["$gOutcome == 'crit'","$gOutcome == 'success'","$gOutcome == 'failure'","$gOutcome == 'disaster'"]))},"callback")})),r.push(A({text:"If ever successfully completed this quest",tooltip:"Conditionals based on whether you've completed (success or critical) on this quest in the past before",callback:o(()=>{q(`<<if setup.qres.QuestDone().isOk($gQuest)>>
  You have completed this quest in the past.
<<else>>
  You have never completed this quest in the past.
<</if>>`)},"callback")}))),r.push(A({text:"If... seed",tooltip:"Conditionals based on the quest's randomly picked seed. This effectively is a random choice out of the number of outcomes you pick.",children:[A({text:"2 outcomes",callback:o(()=>{q(ft(2))},"callback")}),A({text:"3 outcomes",callback:o(()=>{q(ft(3))},"callback")}),A({text:"4 outcomes",callback:o(()=>{q(ft(4))},"callback")}),A({text:"5 outcomes",callback:o(()=>{q(ft(5))},"callback")}),A({text:"6 outcomes",callback:o(()=>{q(ft(6))},"callback")}),A({text:"7 outcomes",callback:o(()=>{q(ft(7))},"callback")}),A({text:"8 outcomes",callback:o(()=>{q(ft(8))},"callback")}),A({text:"9 outcomes",callback:o(()=>{q(ft(9))},"callback")}),A({text:"10 outcomes",callback:o(()=>{q(ft(10))},"callback")})]})),r},"children")}),A({text:"Advanced",tooltip:"Advanced features for complex cases",children:o(()=>[A({text:"Inline effect...",tooltip:"Gives gameplay effect inside the text",children:[A({text:"Actor-related",tooltip:"Actor gains some gameplay effect such as a curse or trauma",children:o(()=>e(pR),"children")}),A({text:"Gain/Lose money",tooltip:'Gain/Lose some money. You can adjust the numbers by changing the number inside the "setup.qc.Money()". Negative amount means losing money.',callback:o(()=>{q("<<run setup.qc.Money(1000).apply($gQuest)>>")},"callback")}),A({text:"Gain item/equipment",tooltip:"Gain an item or an equipment.",children:[A({text:"Gain an item",callback:o(()=>{i(setup.DevToolHelper.pickItem()).then(r=>{r&&q(`<<run setup.qc.Item('${r.key}').apply($gQuest)>>`)})},"callback")}),A({text:"Gain a random item",tooltip:"Gives a random item out of a pool of items",callback:o(()=>{i(setup.DevToolHelper.pickItemPool()).then(r=>{r&&q(`<<run setup.qc.ItemPool('${r.key}').apply($gQuest)>>`)})},"callback")}),A({text:"Gain an equipment",callback:o(()=>{i(setup.DevToolHelper.pickEquipment()).then(r=>{r&&q(`<<run setup.qc.EquipmentDirect('${r.key}').apply($gQuest)>>`)})},"callback")}),A({text:"Gain a random equipment",tooltip:"Gives a random equipment out of a pool of equipments",callback:o(()=>{i(setup.DevToolHelper.pickEquipmentPool()).then(r=>{r&&q(`<<run setup.qc.Equipment('${r.key}').apply($gQuest)>>`)})},"callback")})]}),A({text:"Gain favor",tooltip:'Gain favor with some company. You can adjust the numbers by changing the number inside the "setup.qc.Favor()".',callback:o(()=>{i(setup.DevToolHelper.pickCompany()).then(r=>{r&&q(`<<run setup.qc.Favor('${r.key}', 25).apply($gQuest)>>`)})},"callback")}),A({text:"Gain ire",tooltip:'Gain ire with some company. You can adjust the numbers by changing the number inside the "setup.qc.Ire()".',callback:o(()=>{i(setup.DevToolHelper.pickCompany()).then(r=>{r&&q(`<<run setup.qc.Ire('${r.key}', 2).apply($gQuest)>>`)})},"callback")}),A({text:"Advanced",children:o(()=>[A({text:"Set variable value",tooltip:'Set the value of a certain variable to a certain number. This example sets the value of "put_variable_name_here" to 5 forever (the forever is represented by the "-1")',callback:o(()=>{q("<<run setup.qc.VarSet('put_variable_name_here', '5', -1).apply($gQuest)>>")},"callback")}),A({text:"Increase variable value",tooltip:'Increase the value of a certain variable by a certain amount. This example INCREASE the value of "put_variable_name_here" to 3 forever (the forever is represented by the "-1"). For example, if it was "2" before, then it becomes "5". If it was not defined before, then it becomes "3".',callback:o(()=>{q("<<run setup.qc.VarAdd('put_variable_name_here', '3', -1).apply($gQuest)>>")},"callback")}),A({text:"Delete variable",tooltip:"Unsets the value of a certain variable.",callback:o(()=>{q("<<run setup.qc.VarRemove('put_variable_name_here').apply($gQuest)>>")},"callback")})],"children")})]}),A({text:"Inline choice...",tooltip:"Gives the player an OPTIONAL choice with effects. Usually combined with inline effects",callback:o(()=>{q(`<<choose>>
<<opt "Option 1">>

This text appears when you click option 1.

<<opt "Option 2">>

You can add even more options by adding more of the opt macros.

<<optif $unit.player.isMale()>>
<<opt "Option 3 only appears if the player is male">>

This is an example of a conditional option that will only be displayed when
a certain condition is satisfied.
In this example, this option will not be displayed if the player is female.

<</choose>>
`)},"callback")}),A({text:"Get unit in your company...",tooltip:"Allows you to select a non-actor unit among units in your company",callback:o(()=>{q(`<<set _u = setup.getUnit({
  /* Delete entries that you do not need: */

  /* only pick units of this job. Leaving this empty allow picking NPCs. Possible options: 'slaver', 'slave' */
  job: 'slaver',

  /* unit must have this specific tag. */
  tag: 'unittagname',

  /* unit must have the title with this title key */
  title: 'quest_slave_leader_of_the_company_0',

  /* unit must be available to go on some quest. Note that on duty units are eligible */
  available: true,

  /* unit is chosen at random from all possible units that satisfy these conditions */
  random: true,

  /* unit must have ALL of these traits. */
  alltraits: ['per_cruel', 'per_evil', ],

  /* unit must have ANY of these traits. */
  anytraits: ['muscle_verystrong', 'muscle_extremelystrong', 'tough_tough', ],

  /* unit cannot be the player character */
  notyou: true,

  /* unit must be injured */
  injured: true,

  /* will return the unit that has maximum skill at this skill, among all eligible units */
  skill_max: setup.skill.arcane,
})>>

<<if _u>>
  <<Rep _u>> tells you to continue writing the quest.
<<else>>
  <<missingunitquest>>
<</if>>
`)},"callback")}),A({text:"Unit required for this mission is no longer available",tooltip:"Give a generic message telling player that a certain quest is no longer complete-able because you are missing a unit",callback:o(()=>{q("<<missingunitquest>>")},"callback")})],"children")})),a}o(cR,"generateCodeEditorToolbarItems");var We=typeof window<"u"?window:null,Cy=We===null,rf=Cy?void 0:We.document,it="addEventListener",rt="removeEventListener",Py="getBoundingClientRect",sf="_a",st="_b",bt="_c",Jf="horizontal",nt=o(function(){return!1},"NOOP"),dR=Cy?"calc":["","-webkit-","-moz-","-o-"].filter(function(i){var e=rf.createElement("div");return e.style.cssText="width:"+i+"calc(9px)",!!e.style.length}).shift()+"calc",y_=o(function(i){return typeof i=="string"||i instanceof String},"isString"),k_=o(function(i){if(y_(i)){var e=rf.querySelector(i);if(!e)throw new Error("Selector "+i+" did not match a DOM element");return e}return i},"elementOrSelector"),Ce=o(function(i,e,t){var a=i[e];return a!==void 0?a:t},"getOption"),Wf=o(function(i,e,t,a){if(e){if(a==="end")return 0;if(a==="center")return i/2}else if(t){if(a==="start")return 0;if(a==="center")return i/2}return i},"getGutterSize"),gR=o(function(i,e){var t=rf.createElement("div");return t.className="gutter gutter-"+e,t},"defaultGutterFn"),mR=o(function(i,e,t){var a={};return y_(e)?a[i]=e:a[i]=dR+"("+e+"% - "+t+"px)",a},"defaultElementStyleFn"),fR=o(function(i,e){var t;return t={},t[i]=e+"px",t},"defaultGutterStyleFn"),bR=o(function(i,e){if(e===void 0&&(e={}),Cy)return{};var t=i,a,r,s,n,l,u;Array.from&&(t=Array.from(t));var h=k_(t[0]),p=h.parentNode,c=getComputedStyle?getComputedStyle(p):null,d=c?c.flexDirection:null,g=Ce(e,"sizes")||t.map(function(){return 100/t.length}),m=Ce(e,"minSize",100),f=Array.isArray(m)?m:t.map(function(){return m}),b=Ce(e,"maxSize",1/0),v=Array.isArray(b)?b:t.map(function(){return b}),S=Ce(e,"expandToMin",!1),M=Ce(e,"gutterSize",10),k=Ce(e,"gutterAlign","center"),_=Ce(e,"snapOffset",30),T=Array.isArray(_)?_:t.map(function(){return _}),E=Ce(e,"dragInterval",1),x=Ce(e,"direction",Jf),W=Ce(e,"cursor",x===Jf?"col-resize":"row-resize"),X=Ce(e,"gutter",gR),se=Ce(e,"elementStyle",mR),ae=Ce(e,"gutterStyle",fR);x===Jf?(a="width",r="clientX",s="left",n="right",l="clientWidth"):x==="vertical"&&(a="height",r="clientY",s="top",n="bottom",l="clientHeight");function V(C,R,D,z){var ke=se(a,R,D,z);Object.keys(ke).forEach(function(ge){C.style[ge]=ke[ge]})}o(V,"setElementSize");function re(C,R,D){var z=ae(a,R,D);Object.keys(z).forEach(function(ke){C.style[ke]=z[ke]})}o(re,"setGutterSize");function H(){return u.map(function(C){return C.size})}o(H,"getSizes");function G(C){return"touches"in C?C.touches[0][r]:C[r]}o(G,"getMousePosition");function J(C){var R=u[this.a],D=u[this.b],z=R.size+D.size;R.size=C/this.size*z,D.size=z-C/this.size*z,V(R.element,R.size,this[st],R.i),V(D.element,D.size,this[bt],D.i)}o(J,"adjust");function ce(C){var R,D=u[this.a],z=u[this.b];this.dragging&&(R=G(C)-this.start+(this[st]-this.dragOffset),E>1&&(R=Math.round(R/E)*E),R<=D.minSize+D.snapOffset+this[st]?R=D.minSize+this[st]:R>=this.size-(z.minSize+z.snapOffset+this[bt])&&(R=this.size-(z.minSize+this[bt])),R>=D.maxSize-D.snapOffset+this[st]?R=D.maxSize+this[st]:R<=this.size-(z.maxSize-z.snapOffset+this[bt])&&(R=this.size-(z.maxSize+this[bt])),J.call(this,R),Ce(e,"onDrag",nt)(H()))}o(ce,"drag");function Re(){var C=u[this.a].element,R=u[this.b].element,D=C[Py](),z=R[Py]();this.size=D[a]+z[a]+this[st]+this[bt],this.start=D[s],this.end=D[n]}o(Re,"calculateSizes");function Ae(C){if(!getComputedStyle)return null;var R=getComputedStyle(C);if(!R)return null;var D=C[l];return D===0?null:(x===Jf?D-=parseFloat(R.paddingLeft)+parseFloat(R.paddingRight):D-=parseFloat(R.paddingTop)+parseFloat(R.paddingBottom),D)}o(Ae,"innerSize");function ve(C){var R=Ae(p);if(R===null||f.reduce(function(ge,F){return ge+F},0)>R)return C;var D=0,z=[],ke=C.map(function(ge,F){var U=R*ge/100,Z=Wf(M,F===0,F===C.length-1,k),le=f[F]+Z;return U<le?(D+=le-U,z.push(0),le):(z.push(U-le),U)});return D===0?C:ke.map(function(ge,F){var U=ge;if(D>0&&z[F]-D>0){var Z=Math.min(D,z[F]-D);D-=Z,U=ge-Z}return U/R*100})}o(ve,"trimToMin");function Ee(){var C=this,R=u[C.a].element,D=u[C.b].element;C.dragging&&Ce(e,"onDragEnd",nt)(H()),C.dragging=!1,We[rt]("mouseup",C.stop),We[rt]("touchend",C.stop),We[rt]("touchcancel",C.stop),We[rt]("mousemove",C.move),We[rt]("touchmove",C.move),C.stop=null,C.move=null,R[rt]("selectstart",nt),R[rt]("dragstart",nt),D[rt]("selectstart",nt),D[rt]("dragstart",nt),R.style.userSelect="",R.style.webkitUserSelect="",R.style.MozUserSelect="",R.style.pointerEvents="",D.style.userSelect="",D.style.webkitUserSelect="",D.style.MozUserSelect="",D.style.pointerEvents="",C.gutter.style.cursor="",C.parent.style.cursor="",rf.body.style.cursor=""}o(Ee,"stopDragging");function ue(C){if(!("button"in C&&C.button!==0)){var R=this,D=u[R.a].element,z=u[R.b].element;R.dragging||Ce(e,"onDragStart",nt)(H()),C.preventDefault(),R.dragging=!0,R.move=ce.bind(R),R.stop=Ee.bind(R),We[it]("mouseup",R.stop),We[it]("touchend",R.stop),We[it]("touchcancel",R.stop),We[it]("mousemove",R.move),We[it]("touchmove",R.move),D[it]("selectstart",nt),D[it]("dragstart",nt),z[it]("selectstart",nt),z[it]("dragstart",nt),D.style.userSelect="none",D.style.webkitUserSelect="none",D.style.MozUserSelect="none",D.style.pointerEvents="none",z.style.userSelect="none",z.style.webkitUserSelect="none",z.style.MozUserSelect="none",z.style.pointerEvents="none",R.gutter.style.cursor=W,R.parent.style.cursor=W,rf.body.style.cursor=W,Re.call(R),R.dragOffset=G(C)-R.end}}o(ue,"startDragging"),g=ve(g);var ie=[];u=t.map(function(C,R){var D={element:k_(C),size:g[R],minSize:f[R],maxSize:v[R],snapOffset:T[R],i:R},z;if(R>0&&(z={a:R-1,b:R,dragging:!1,direction:x,parent:p},z[st]=Wf(M,R-1===0,!1,k),z[bt]=Wf(M,!1,R===t.length-1,k),d==="row-reverse"||d==="column-reverse")){var ke=z.a;z.a=z.b,z.b=ke}if(R>0){var ge=X(R,x,D.element);re(ge,M,R),z[sf]=ue.bind(z),ge[it]("mousedown",z[sf]),ge[it]("touchstart",z[sf]),p.insertBefore(ge,D.element),z.gutter=ge}return V(D.element,D.size,Wf(M,R===0,R===t.length-1,k),R),R>0&&ie.push(z),D});function ne(C){var R=C.i===ie.length,D=R?ie[C.i-1]:ie[C.i];Re.call(D);var z=R?D.size-C.minSize-D[bt]:C.minSize+D[st];J.call(D,z)}o(ne,"adjustToMin"),u.forEach(function(C){var R=C.element[Py]()[a];R<C.minSize&&(S?ne(C):C.minSize=R)});function ye(C){var R=ve(C);R.forEach(function(D,z){if(z>0){var ke=ie[z-1],ge=u[ke.a],F=u[ke.b];ge.size=R[z-1],F.size=D,V(ge.element,ge.size,ke[st],ge.i),V(F.element,F.size,ke[bt],F.i)}})}o(ye,"setSizes");function Ne(C,R){ie.forEach(function(D){if(R!==!0?D.parent.removeChild(D.gutter):(D.gutter[rt]("mousedown",D[sf]),D.gutter[rt]("touchstart",D[sf])),C!==!0){var z=se(a,D.a.size,D[st]);Object.keys(z).forEach(function(ke){u[D.a].element.style[ke]="",u[D.b].element.style[ke]=""})}})}return o(Ne,"destroy"),{setSizes:ye,getSizes:H,collapse:o(function(R){ne(u[R])},"collapse"),destroy:Ne,parent:p,pairs:ie}},"Split");function Ly({error_details:i,continue_callback:e,is_retain_key:t}){const a=[];i.length?a.push(html`
      <p>
        We have detected the following formatting errors:
      </p>
    `):a.push(html`
    <p>
      Test is completed! No fatal errors found, but there may be textual errors.
      Please check the javascript console (Ctrl + Shift + J) for leftover errors.
    </p>
    `);for(const r of i){a.push(html`
      <hr/>
      <div><b>${r.title}</b></div>
    `);for(const s of r.errors)a.push(html`
        <div>
          Line <b>${s.line}</b>: ${setup.escapeHtml(s.error)}
        </div>
        <small>
          <pre>
            ${setup.escapeHtml(s.context)}
          </pre>
        </small>
      `)}e&&a.push(html`
      <hr/>
      <div>
        Since this is a beta feature, you can ignore these errors and continue if you wish:
      </div>
      <div>
        ${setup.DOM.Nav.button("Ignore these errors and continue",()=>{Dialog.close(),e(t)})}
      </div>
    `),setup.Dialogs.open({title:"Errors encountered",content:setup.DOM.create("div",{},a)})}o(Ly,"display_errors");function v_(i){const e=State.variables,t=e.devtooltype,a=e.dtquest;if(t=="quest"){const r=a,s=Object.keys(r.getUnitCriterias()).filter(n=>r.getActorResultJob(n)==setup.job.slaver).length||1;for(const n of Object.keys(r.getUnitCriterias()))r.unit_criteria_map[n].offsetmod=3/s;i&&r.old_key?e.qkey=r.old_key:e.qkey=setup.getKeyFromName(r.name,setup.questtemplate,i),e.qfilename=`${e.qkey}.twee`,e.qpassagesetup=`QuestSetup_${e.qkey}`,e.qpassagedesc=`Quest_${e.qkey}`,e.qpassageoutcomes=[`Quest_${e.qkey}Crit`,`Quest_${e.qkey}Success`,`Quest_${e.qkey}Failure`,`Quest_${e.qkey}Disaster`],setup.runSugarCubeCommand("<<goto 'QGCreate'>>")}else if(t=="opportunity"){const r=a;e.okey=setup.getKeyFromName(r.name,setup.opportunitytemplate,i),e.qfilename=`${e.okey}.twee`,e.opassagesetup=`OpportunitySetup_${e.okey}`,e.opassagedesc=`Opportunity_${e.okey}`,setup.runSugarCubeCommand("<<goto 'OGCreate'>>")}else if(t=="event"){const r=a;e.ekey=setup.getKeyFromName(r.name,setup.event,i),e.qfilename=`${e.ekey}.twee`,e.epassagesetup=`EventSetup_${e.ekey}`,e.epassagedesc=`Event_${e.ekey}`,setup.runSugarCubeCommand("<<goto 'EGCreate'>>")}else if(t=="interaction"){const r=a;e.ikey=setup.getKeyFromName(r.name,setup.interaction,i),e.qfilename=`${e.ikey}.twee`,e.ipassagesetup=`InteractionSetup_${e.ikey}`,e.ipassagedesc=`Interaction_${e.ikey}`,setup.runSugarCubeCommand("<<goto 'IGCreate'>>")}else if(t=="activity"){const r=a;e.akey=setup.getKeyFromName(r.name,setup.activitytemplate,i),e.qfilename=`${e.akey}.twee`,e.apassagesetup=`ActivitySetup_${e.akey}`,e.apassagedesc=`Activity_${e.akey}`,setup.runSugarCubeCommand("<<goto 'AGCreate'>>")}else throw new Error(`Unrecognized devtooltype: ${t}`)}o(v_,"continue_callback");function S_(i,e){const t=[];for(const a in i){const r=i[a],s=setup.beautifyTwine(r);if(s.errors.length&&t.push({title:a,errors:s.errors}),!s.errors.length&&e){const n=e[a];n.obj[n.field]=s.text}}return t}o(S_,"get_errors_from_texts_to_check"),setup.DOM.Menu.devtoolverifycreate=function(i){const e=State.variables,t=e.devtooltype,a={},r={};if(t=="quest"){a.Description=e.qdesc,r.Description={obj:e,field:"qdesc"};for(let n=0;n<setup.QUEST_OUTCOMES.length;++n){const l=`Outcome ${setup.QUEST_OUTCOMES[n]}`;a[l]=e.qoutcomedesc[n],r[l]={obj:e.qoutcomedesc,field:n}}}else if(t=="opportunity"){const n=e.dtquest;a.Description=e.odesc,r.Description={obj:e,field:"odesc"};for(let l=0;l<n.options.length;++l){const u=`Option Title #${l+1}`;if(a[u]=e.ooptiontitle[l],r[u]={obj:e.ooptiontitle,field:l},e.ooptiondesc[l]){const h=`Option Description #${l+1}`;a[h]=e.ooptiondesc[l],r[h]={obj:e.ooptiondesc,field:l}}}}else if(t=="event")a.Description=e.edesc,r.Description={obj:e,field:"edesc"};else if(t=="interaction")a.Description=e.idesc,r.Description={obj:e,field:"idesc"};else if(t=="activity"){const n=e.dtquest;for(let l=0;l<n.dialogues.length;++l)for(const u in n.dialogues[l].texts)for(let h=0;h<n.dialogues[l].texts[u].length;++h){const p=`Variant #${h+1} of Dialogue #${l+1} for ${u}`;a[p]=n.dialogues[l].texts[u][h],r[p]={obj:n.dialogues[l].texts[u],field:h}}}else throw new Error(`Unrecognized dev tool type: ${t}`);const s=S_(a,r);s.length?Ly({error_details:s,continue_callback:v_,is_retain_key:i}):v_(i)};let T_=null;function yR(){return T_||(T_=new Promise((i,e)=>dt(["./js/devtool.js"],t=>i(t[0]))).then(i=>i.initializeCodeJar()))}o(yR,"loadCodeJar"),Macro.add("codeeditor",{handler(){if(!this.args.length)return this.error("no variable name specified");if(typeof this.args[0]!="string")return this.error("variable name argument is not a string");const i=this.args[0].trim();if(i[0]!=="$"&&i[0]!=="_")return this.error(`variable name "${this.args[0]}" is missing its sigil ($ or _)`);const e=this.args[1]||"";let t=!1,a=null;const r=$(`
      <div class="macro-codeeditor">
        <header class="macro-codeeditor-toolbar disabled">
          <div class="macro-codeeditor-toolbar-on menu toolbar"></div>
          <div class="macro-codeeditor-toolbar-off">
            <div style="flex-grow: 1"></div>
            <a class="macro-codeeditor-toggleimplbtn">(toggle editor)</a>
          </div>
        </header>
        <div class="macro-codeeditor-fallback" style="display: none">
          <textarea rows="8" tabindex="0"></textarea>
        </div>
        <div class="macro-codeeditor-main">
          <div class="macro-codeeditor-split">
            <div class="macro-codeeditor-codepane">
              <div class="macro-codeeditor-togglepreviewbtn"><i></i></div>
              <div class="macro-codeeditor-jar language-twee3">Loading...</div>
            </div>
            <div class="macro-codeeditor-previewpane" style="display: none">
              <header>
                <div>Output preview</div>
                <a class="macro-codeeditor-previewbtn">
                  <i class="sfa sfa-arrows-cw"></i>
                  Refresh
                </a>
              </header>
              <div>
                <div>
                  <div class="graytext">Press [<i class="sfa sfa-arrows-cw"></i> Refresh] to preview</div>
                  <div class="graytext">Press [<i class="sfa sfa-right-open"></i>] to hide</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    `),s=o(_=>{const T=t?h.get(0):null,E=T?[T.selectionStart,T.selectionEnd]:a.saveSelection();return _.then(x=>(n.trigger("focus"),T?(T.selectionStart=E[0],T.selectionEnd=E[1]):a.restoreSelection(E),x))},"retainEditorFocus"),n=r.find(".macro-codeeditor-jar"),l=r.find(".macro-codeeditor-fallback"),u=r.find(".macro-codeeditor-main"),h=r.find("textarea"),p=r.find(".macro-codeeditor-toggleimplbtn"),c=r.find(".macro-codeeditor-togglepreviewbtn"),d=r.find(".macro-codeeditor-previewbtn"),g=r.find("> header"),m=r.find(".macro-codeeditor-codepane"),f=r.find(".macro-codeeditor-previewpane");let b;function v(){const _=f.children().last();_.empty(),_.wiki(`<<devcodeeditorpreview ${i} '${i}'>>`)}o(v,"refreshPreview");function S(_){_?g.removeClass("disabled"):g.addClass("disabled")}o(S,"setToolbarEnabled");function M(_){_?(b||(b=bR([m.get(0),f.get(0)],{sizes:[60,40],minSize:[200,100]})),f.show(),c.children().attr("class","sfa sfa-right-open")):(b&&(b.destroy(),b=null),f.hide(),c.children().attr("class","sfa sfa-left-open"))}o(M,"setPreviewPaneVisible"),d.on("click.macros",function(){v()}),c.on("click.macros",function(){M(!b)});function k(_){t=_,u.css("display",t?"none":"block"),l.css("display",t?"block":"none"),p.text(t?"(switch to advanced editor)":"(switch to simple editor)");const T=State.getVar(i);t?h.val(T):a&&a.updateCode(T)}o(k,"setUseFallback"),p.on("click.macros",function(){k(!t)}),h.on("change.macros",this.createShadowWrapper(function(){t&&State.setVar(i,this.value)})),n.on("focus",()=>!t&&S(!0)),n.on("blur",()=>!t&&S(!1)),h.on("focus",()=>t&&S(!0)),h.on("blur",()=>t&&S(!1));{const _=cR(s);_.push(A({text:"Tools",tooltip:"Various tools to help you write your content",children:o(()=>[A({text:"Auto-indent and check brackets",tooltip:"Automatically indentis your twine code based on the macros and html tags",callback:o(()=>{const E=a.toString(),x=setup.beautifyTwine(E);a.updateCode(x.text),x.errors.length&&Ly({error_details:[{title:"Custom",errors:x.errors}]})},"callback")}),A({text:"Set a temporary variable",tooltip:"This gives an example how you can use temporary variables to make writing easier. For example, you can use it to refer to a certain drink that depends on the unit's trait.",callback:o(()=>{q(`<<set _food = 'bread'>>
<<set $g.character = $unit.player>>
<<if $unit.player.isHasTrait('per_frugal')>>
  <<set _drink = 'water'>>
<<else>>
  <<set _drink = 'wine'>>
<</if>>
<p>
  <<Rep $g.character>> character|eat <<their $g.character>> <<= _food>> accompanied with a sip of <<= _drink>>.
</p>
`)},"callback")})],"children")})),_.push(A({text:'<i class="sfa sfa-cog"></i>',children:o(()=>[A({checked:!t,text:"Advanced editor",callback:o(()=>k(!t),"callback")}),A({checked:!!$(document.body).hasClass("codeeditor-simple"),text:"Simplified mode",callback:o(()=>$(document.body).toggleClass("codeeditor-simple"),"callback")})],"children")}));const T=r.find(".menu");for(const E of _)E.appendTo(T)}State.setVar(i,e),r.appendTo(this.output),yR().then(({Prism:_,CodeJar:T})=>{a=T(n.get(0),_.highlightElement,{tab:" ".repeat(2),spellcheck:!0,addClosing:!1}),a.onUpdate(E=>{State.setVar(i,E)}),k(!1),M(!0)},_=>{console.warn("Failed to load CodeJar-based code editor:",_),p.css("display","none"),k(!0)})}}),Macro.add("dangertext",{handler:o(function(){this.output.append(setup.DOM.Text.danger(this.args[0]))},"handler")}),Macro.add("dangertextlite",{handler:o(function(){this.output.append(setup.DOM.Text.dangerlite(this.args[0]))},"handler")}),Macro.add("dialogue",{tags:null,handler(){if(this.args.length===0)return this.error("no actor specified");const i=this.args[0];if(!(i instanceof setup.Unit))return this.error("First argument of <<dialogue>> must be a unit");const e=this.payload[0].contents,t=setup.DOM.Card.dialogue({unit:i,dialogue:e,content_image:this.args[1]});this.output.append(t)}}),Macro.add("uequipslot",{handler:o(function(){let i=$(document.createElement("span")),e=this.args[0];setup.isString(e)&&(e=State.variables.unit[e]);let t=this.args[1];if(!(t in setup.equipmentslot))throw new Error(`unrecognized slot key: ${t} for uequipslot`);let a=setup.Text.Unit.Equipment.getEquipmentAt(e,setup.equipmentslot[t]);a?i.wiki(a.rep()):i.wiki(`<<u${t} "${e.key}">>`),i.appendTo(this.output)},"handler")}),Macro.add("exp",{handler:o(function(){let i=$(document.createTextNode(String(this.args[0])+" exp")),e=$(document.createElement("span"));e.addClass("expspan"),e.append(i),e.appendTo(this.output)},"handler")}),Macro.add("favor",{handler:o(function(){this.output.append(setup.DOM.Util.favor(Number(this.args[0])))},"handler")});function __(i,e){const t=e().map(r=>r.toString()),a=i.querySelectorAll("[data-filter-key]");for(const r of a){const s=r.getAttribute("data-filter-key"),n=t.indexOf(s.toString()),l=$(r);n!==-1?(l.show(),l.css("order",String(n))):l.hide()}}o(__,"updateFilterable$1"),Macro.add("filterable",{tags:null,handler(){const i=new Wikifier(null,"<div></div>"),e=$(i.output.firstElementChild);e.addClass("filterable"),e.wiki(this.payload[0].contents),this.args.length>0&&e.data("filterable-callback",this.args[0]),this.args.length>1&&e.attr("id",this.args[1]),__(e.get(0),this.args[0]),e.appendTo(this.output)}}),Macro.add("filterable-refresh",{handler(){var s;const i=this.args[0];if(!i)return;const e=(s=this.parent)==null?void 0:s.output,t=setup.querySelectorRelative(e,i);if(!t)return;const r=$(t).data("filterable-callback");r&&__(t,r)}}),Macro.add("filtertoolbarinternal",{handler(){if(!this.args.length)return this.error("no menu specified for toolbar");const i=this.args[0];if(!(i in setup.MenuFilter._MENUS))return this.error(`menu ${i} not found`);const e=$('<div class="menu toolbar"></div>'),t=State.variables.menufilter.getMenuFilterToolbarRender(i,this.args[1]);for(const a of t)a.appendTo(e);e.appendTo(this.output)}}),Macro.add("displaymenuitem",{handler(){if(!this.args.length)return this.error("no menu item specified for displaymenuitem");const i=$('<div class="menu toolbar"></div>');for(const e of this.args[0])e.appendTo(i);i.appendTo(this.output)}}),Macro.add("foctimed",{tags:null,handler(){const i=this.payload[0].contents,e=$(document.createElement("span"));let t=i;State.temporary.foctimed_is_tooltip||(t=`<<timed ${this.args.raw}>>${i}<</timed>>`),e.wiki(t),e.appendTo(this.output)}}),Macro.add("focwidget",{tags:null,handler(){if(this.args.length===0)return this.error("no widget name specified");const i=this.args[0];if(Macro.has(i)){if(!Macro.get(i).isWidget)return this.error(`cannot clobber existing macro "${i}"`);Macro.delete(i)}try{Macro.add(i,{isWidget:!0,handler:function(e){return function(){let t;try{State.variables.hasOwnProperty("args")&&(t=State.variables.args),State.variables.args=[...this.args],State.variables.args.raw=this.args.raw,State.variables.args.full=this.args.full,this.addShadow("$args");const a=document.createDocumentFragment();new Wikifier(a,e),this.output.appendChild(a)}catch(a){return this.error(`cannot execute widget: ${a.message}`)}finally{typeof t<"u"?State.variables.args=t:delete State.variables.args}}}(this.payload[0].contents)})}catch(e){return this.error(`cannot create widget macro "${i}": ${e.message}`)}}}),Macro.add("focwidgetpayload",{tags:null,handler(){if(this.args.length===0)return this.error("no widget name specified");const i=this.args[0];if(Macro.has(i)){if(!Macro.get(i).isWidget)return this.error(`cannot clobber existing macro "${i}"`);Macro.delete(i)}try{Macro.add(i,{tags:null,isWidget:!0,handler:function(e){return function(){let t;try{State.variables.hasOwnProperty("args")&&(t=State.variables.args),State.variables.args=[...this.args],State.variables.args.raw=this.args.raw,State.variables.args.full=this.args.full,State.variables.args.payload=this.payload[0].contents,this.addShadow("$args");const a=document.createDocumentFragment();new Wikifier(a,e),this.output.appendChild(a)}catch(a){return this.error(`cannot execute widget: ${a.message}`)}finally{typeof t<"u"?State.variables.args=t:delete State.variables.args}}}(this.payload[0].contents)})}catch(e){return this.error(`cannot create widget macro "${i}": ${e.message}`)}}}),Macro.add("font",{tags:null,handler(){if(this.args.length!=1)throw new Error(`<<font>> takes exactly one argument, but ${this.args.length} found`);if(this.payload.length!=1)throw new Error("<<font>> takes exactly one payload");const i=this.args[0];let e;i in setup.trait?e=`class="text-${i}"`:e=`style="font-family: '${i}', cursive;"`;const t=this.payload[0].contents;this.output.append(html`<span ${e}>${setup.DOM.Util.twine(t)}</span>`)}}),Macro.add("fontsize",{tags:null,handler(){if(this.args.length!=1)throw new Error(`<<fontsize>> takes exactly one argument, but ${this.args.length} found`);if(this.payload.length!=1)throw new Error("<<fontsize>> takes exactly one payload");const e=`style="font-size: ${this.args[0]}px;"`,t=this.payload[0].contents;this.output.append(html`<span ${e}>${setup.DOM.Util.twine(t)}</span>`)}}),Macro.add("friendship",{handler:o(function(){this.output.append(setup.DOM.Util.friendship(Number(this.args[0]),this.args[1]))},"handler")}),Macro.add("levelof",{handler:o(function(){this.output.append(setup.DOM.Util.level(this.args[0].getLevel()))},"handler")}),Macro.add("money",{handler:o(function(){this.output.append(setup.DOM.Util.money(Number(this.args[0])))},"handler")}),Macro.add("moneyloss",{handler:o(function(){this.output.append(setup.DOM.Util.moneyloss(Number(this.args[0])))},"handler")}),Macro.add("nameof",{handler:o(function(){this.output.append(setup.DOM.Util.namebold(this.args[0]))},"handler")}),Macro.add("name",{handler:o(function(){this.output.append(setup.DOM.Util.name(this.args[0]))},"handler")}),Macro.add("Name",{handler:o(function(){this.output.append(setup.DOM.Util.name(this.args[0]))},"handler")}),setup.DOM.Nav={};function Yt(i,e){const t=document.getElementById("allcontainer");if(!t||i)t||(State.variables.gOldPassage=State.passage),setTimeout(()=>Engine.play("MainLoop"),Engine.minDomActionDelay);else{State.history[State.activeIndex].variables=State.variables;const a=State.variables.gPassage,r=Story.get(a),s=$(t);if(s.empty(),r)s.wiki(r.processText());else throw new Error(`Passage "${r}" does not exist`);setup.runSugarCubeCommand("<<refreshmenu>>"),e&&(document.body.scrollTop=document.documentElement.scrollTop=0)}}o(Yt,"reload");function A_(i,e,t,a){return setup.DOM.create(i,{click:o(()=>{t(),a&&(State.variables.gOldPassage=State.variables.gPassage,State.variables.gPassage=a,Yt(!1,State.variables.gPassage!=State.variables.gOldPassage))},"click")},e)}o(A_,"makeLink"),setup.DOM.Nav.link=function(i,e,t){if(t&&!Story.has(t))throw new Error(`Passage ${t} not found for <<foclink>>`);return A_("a",i,e,t)},setup.DOM.Nav.button=function(i,e,t){if(t&&!Story.has(t))throw new Error(`Passage ${t} not found for <<focbutton>>`);return A_("button",i,e,t)},setup.DOM.Nav.move=function(i,e){if(!Story.has(e))throw new Error(`Passage ${e} not found for <<focreturn>>`);return setup.DOM.create("a",{click(){State.variables.gOldPassage=State.variables.gPassage,State.variables.gPassage=e,Yt(!1,State.variables.gPassage!=State.variables.gOldPassage)}},i)},setup.DOM.Nav.return=function(i){return setup.DOM.create("a",{click(){setup.DOM.Nav.gotoreturn()}},i)},setup.DOM.Nav.goto=function(i,e){if(i&&!Story.has(i))throw new Error(`Passage ${i} not found for <<focreturn>>`);i&&(State.variables.gOldPassage=State.variables.gPassage,State.variables.gPassage=i);let t=!1;i&&State.variables.gPassage!=State.variables.gOldPassage&&(t=!0),Yt(e,t)},setup.DOM.Nav.gotoreturn=function(){[State.variables.gOldPassage,State.variables.gPassage]=[State.variables.gPassage,State.variables.gOldPassage],Yt(!1,State.variables.gPassage!=State.variables.gOldPassage)},setup.DOM.Nav.linkExternal=function(i,e){return html`<a href="${setup.escapeHtml(e)}" target="_blank">${i}</a>`},setup.DOM.Nav.topLeftNavigation=function(i){if(State.variables.gMenuVisible)throw new Error("Cannot have top left navigation when gMenuVisible is turned on.");setTimeout(()=>{setup.DOM.Helper.replace("#topleftnavigation",setup.DOM.create("span",{class:"press_on_space"},i))},1)},setup.DOM.Nav.url=function(i,e){return setup.DOM.create("a",{target:"_blank",class:"link-external",href:e,tabindex:"0"},i)},Macro.add(["focmove","focreturn"],{handler:o(function(){if(this.name=="focreturn"){if(this.args.length!=1)throw new Error(`Incorrect length of arguments for <<focreturn>>: must have exactly 1 element but ${this.args.length} found`)}else{if(this.args.length!=2)throw new Error("<<focmove>> must have 2 arguments but 1 found");if(!Story.has(this.args[1]))throw new Error(`Passage ${this.args[1]} not found for <<focreturn>>`)}let i=jQuery(document.createElement("a"));const e=this.name,t=this.args;i.on("click",this.createShadowWrapper(()=>{e=="focreturn"?[State.variables.gOldPassage,State.variables.gPassage]=[State.variables.gPassage,State.variables.gOldPassage]:(State.variables.gOldPassage=State.variables.gPassage,State.variables.gPassage=t[1]),Yt(!1,State.variables.gPassage!=State.variables.gOldPassage)})),i.wiki(this.args[0]),i.appendTo(this.output)},"handler")}),Macro.add(["focgoto","focsavestategoto"],{handler:o(function(){if(this.args.length==1&&!Story.has(this.args[0]))throw new Error(`Passage ${this.args[0]} not found for <<${this.name}>>`);const i=this.args[0];i&&(State.variables.gOldPassage=State.variables.gPassage,State.variables.gPassage=i);let e=!1;this.args.length==1&&State.variables.gPassage!=State.variables.gOldPassage&&(e=!0),Yt(this.name=="focsavestategoto",e)},"handler")}),Macro.add(["foclink","focbutton"],{tags:null,handler:o(function(){if(this.args.length<1||this.args.length>2)throw new Error(`Incorrect length of arguments for <<${this.name}>>: must have 1-2 elements but ${this.args.length} found`);if(this.args.length==2&&!Story.has(this.args[1]))throw new Error(`Passage ${this.args[1]} not found for <<${this.name}>>`);let i="a";this.name=="focbutton"&&(i="button");let e=jQuery(document.createElement(i));const t=this.payload,a=this.args;e.on("click",this.createShadowWrapper(()=>{setup.runSugarCubeCommand(t[0].contents),a.length!=1&&(State.variables.gOldPassage=State.variables.gPassage,State.variables.gPassage=a[1],Yt(!1,State.variables.gPassage!=State.variables.gOldPassage))})),e.wiki(this.args[0]),e.appendTo(this.output)},"handler")}),Macro.add("onevent",{tags:["onevent-callback"],handler(){const i=this.output.children.length;if(new Wikifier(this.output,this.payload[0].contents.trim()),this.output.children.length-i>1)throw new Error("<<onevent>> macro expects a single element as its child");const e=this.output.children[i],t=this.args[0],a=this.payload.length>1?this.payload[1].contents:null;t&&a&&e&&$(e).on(t+".refreshable",this.createShadowWrapper(function(r){r.currentTarget&&"value"in r.currentTarget&&(State.temporary.value=r.currentTarget.value),new Wikifier(null,a)}))}}),Macro.add("prestige",{handler:o(function(){let i=$(document.createTextNode(String(this.args[0])+" prestige")),e=$(document.createElement("span"));e.addClass("prestigespan"),Number(this.args[0])>0&&e.addClass("prestigespanplus"),Number(this.args[0])<0&&e.addClass("prestigespanmin"),e.append(i),e.appendTo(this.output)},"handler")}),Macro.add("printreplace",{handler:o(function(){const i=setup.DOM.Util.replaceUnitInFragment(setup.DOM.Util.twine(this.args[0]));this.output.append(i)},"handler")}),Macro.add("printtext",{handler:o(function(){$(document.createTextNode(this.args[0])).appendTo(this.output)},"handler")}),Macro.add("refreshable",{tags:null,handler(){const i=new Wikifier(null,`<div ${this.args.full}></div>`),e=$(i.output.firstElementChild);e.addClass("refreshable");const t=this.payload[0].contents;t&&(e.data("refreshable-renderer",this.createShadowWrapper(function(){e.empty(),e.wiki(t)})),e.wiki(t)),e.appendTo(this.output)}}),Macro.add("refreshable-refresh",{handler(){var s;let i=this.args[0];i||(i=".refreshable");const e=(s=this.parent)==null?void 0:s.output,t=setup.querySelectorRelative(e,i);if(!t)return;const r=$(t).data("refreshable-renderer");r&&r()}});function vi(i){return setup.DOM.Util.unitRep(i)}o(vi,"unitRep"),Macro.add("rep",{handler:o(function(){const i=$(document.createElement("span"));if(this.args[0]instanceof setup.Unit){const e=vi(this.args[0]);i.wiki(e)}else i.wiki(this.args[0].rep(this.args[1]));i.appendTo(this.output)},"handler")}),Macro.add("Rep",{handler:o(function(){const i=$(document.createElement("span"));if(this.args[0]instanceof setup.Unit){let e=vi(this.args[0]);e=="you"&&(e="You"),i.wiki(e)}else i.wiki(this.args[0].rep(this.args[1]));i.appendTo(this.output)},"handler")}),Macro.add("reps",{handler:o(function(){const i=$(document.createElement("span"));let e=vi(this.args[0]);e=="you"?e="your":e=`${e}'s`,i.wiki(e),i.appendTo(this.output)},"handler")}),Macro.add("Reps",{handler:o(function(){const i=$(document.createElement("span"));let e=vi(this.args[0]);e=="you"?e="Your":e=`${e}'s`,i.wiki(e),i.appendTo(this.output)},"handler")}),Macro.add("repall",{handler:o(function(){const i=$(document.createElement("span"));i.wiki(this.args[0].map(e=>e.rep()).join("")),i.appendTo(this.output)},"handler")});function M_(i){return setup.DOM.Util.yourRep(i)}o(M_,"yourRep"),Macro.add("yourrep",{handler:o(function(){const i=$(document.createElement("span"));i.wiki(M_(this.args[0])),i.appendTo(this.output)},"handler")}),Macro.add("Yourrep",{handler:o(function(){const i=$(document.createElement("span"));i.wiki(setup.capitalize(M_(this.args[0]))),i.appendTo(this.output)},"handler")});function w_(i){return vi(i)!="you"?`the ${i.getJob().getName().toLowerCase()}`:"you"}o(w_,"theSlaver"),Macro.add("theslaver",{handler:o(function(){const i=$(document.createElement("span"));i.wiki(w_(this.args[0])),i.appendTo(this.output)},"handler")}),Macro.add("Theslaver",{handler:o(function(){const i=$(document.createElement("span"));i.wiki(setup.capitalize(w_(this.args[0]))),i.appendTo(this.output)},"handler")});function R_(i){return vi(i)!="you"?setup.Text.replaceUnitMacros("the a|race",{a:i}):"you"}o(R_,"theRace"),Macro.add("therace",{handler:o(function(){const i=$(document.createElement("span"));i.wiki(R_(this.args[0])),i.appendTo(this.output)},"handler")}),Macro.add("Therace",{handler:o(function(){const i=$(document.createElement("span"));i.wiki(setup.capitalize(R_(this.args[0]))),i.appendTo(this.output)},"handler")}),Macro.add("successtext",{handler:o(function(){this.output.append(setup.DOM.Text.success(this.args[0]))},"handler")}),Macro.add("successtextlite",{handler:o(function(){this.output.append(setup.DOM.Text.successlite(this.args[0]))},"handler")}),Macro.add("titlelow",{handler:o(function(){$(document.createTextNode(String(this.args[0].getTitle().toLowerCase()))).appendTo(this.output)},"handler")}),Macro.add("titlefull",{handler:o(function(){let e=`${setup.Text.Unit.Trait.adjectiveRandom(this.args[0])} ${this.args[0].getTitle().toLowerCase()}`;$(document.createTextNode(String(e))).appendTo(this.output)},"handler")}),setup.NAME_angel_female_first_name=function(){const i=["adr","aer","ahr","ambr","am","han","arar","avel","aver","azaz","arch","aur","ar","azr","arch","aur","barach","eloh","cass","celest","cher","criss","triss","camm","kem","kam","kham","dan","dard","ere","gabr","jibr","gadr","handran","han","har","zadk","jeh","jerahm","joph","kerub","kir","kush","kris","krist","lel","luc","mar","matr","mich","mik","mur","nan","nith","nur","pahal","penem","phan","poy","pur","rag","randgr","azr","raz","rem","sach","sar","selaph","seraph","sim","shams","ten","ur","uz","uzz","veh","arak","arar","armar","art","asb","bel","cam","carm","cher","dadr","elel","gardr","hadran","nathan","ophan","oph","prav","pur","ram","raph","rikb","sabr","sarath","sever","shamn","sidr","tam","tur","veh","zin","lys"],e=["isha","iela","aala","ela","aela","eila","eala","iala","eola","iola","aeli","inne","uela","issa","ina","angel","ia","ica","elette","eilette","angela","ique","elia","ilia","ienne","alette"];let t=setup.rng.choice(i),a=setup.rng.choice(e);return setup.capitalize(`${t}${a}`)},setup.NAME_angel_male_first_name=function(){const i=["abadd","abath","adr","ahr","ambr","am","an","han","araf","arar","azaz","arch","ar","azr","aur","barach","eloh","carn","cass","cher","cam","kem","kam","kham","dan","dard","ere","gabr","jibr","gadr","godr","handran","han","har","harshm","hesed","zadk","israf","jegud","jeh","jeq","jerahm","joph","kerub","kir","kush","lel","luc","mar","mebah","met","metatr","mich","mik","mikh","mur","nan","nith","nur","pahal","penem","phan","poy","pur","qaphs","rag","azr","israf","raz","rem","sach","sam","sandalph","sar","selaph","seraph","sim","shams","ten","tazphq","ur","uz","uzz","veh","zachar","zadk","tzadk","zeph","zaphk","zoph","abat","algib","anan","arak","arar","armar","art","asb","barach","baraq","batar","bezal","cam","chazaq","cher","dadr","elel","gardr","hadran","hashm","hofn","jegud","jerem","kephar","kokab","malakb","nathan","ophan","oph","prav","pur","raduer","raf","ram","raph","reg","rigard","rikb","sabr","sahaq","sarath","shamn","sidr","tam","tur","veh","yom","zaq","zephan"],e=["arr","iel","iman","ello","ael","aelos","uel","uelo","ielo","im","ubim","ail","eil","eal","iah","ial","aiel","iol","oel","eilos","aelo","aeli"];let t=setup.rng.choice(i),a=setup.rng.choice(e);return setup.capitalize(`${t}${a}`)},setup.NAME_arabic_female_first_name=["Aabidah","Aabirah","Aabish","Aadab","Aadila","Aaeedah","Aaeesha","Aafia","Aafiya","Aafreeda","Aafreen","Aaidah","Aairah","Aakifah","Aala","Aalaa","Aaleyah","Aalia","Aalimah","Aaliyah","Aamaal","Aamal","Aamanee","Aamilah","Aaminah","Aamira","Aamirah","Aanifatimahkhatoon","Aanisah","Aaqilah","Aara","Aarifah","Aasia","Aasimah","Aatifa","Aatikah","Aatiqah","Aatirah","Aazeen","Abal","Abasah","Abda","Abdia","Abdulbasit","Abeedah","Abeela","Abeer","Abeera","Abeerah","Abia","Abida","Abidah","Abir","Abla","Ablaa","Ablah","Abqurah","Abra","Abrar","Ada","Adab","Adara","Adawiyah","Adeeba","Adeela","Adeelah","Adeena","Adeeva","Adiba","Adifaah","Adila","Adilah","Adla","Adn","Afaf","Afeefa","Afeerah","Afia","Afifa","Afifah","Afiyah","Afizah","Afnan","Afra","Afraa","Afrah","Afreen","Afroza","Afroze","Afsa","Afsana","Afshan","Afsheen","Afya","Ahd","Ahdia","Ahlam","Aida","Aidah","Aighar","Aila","Aimal","Aimen","Ain","Ainalsaba","Aini","Aisha","Aishah","Aiya","Aiyla","Aiza","Aizah","Ajeebah","Ajlal","Ajradah","Ajwa","Akia","Akifah","Akilah","Akleema","Ala","Alaia","Alayna","Aleemah","Aleena","Aleesa","Aleeza","Alesha","Alhena","Alia","Aliah","Alika","Alima","Alimah","Alina","Alishaba","Alishba","Aliyah","Aliyyah","Aliza","Alleyah","Alma","Almaas","Almas","Alraaz","Altaf","Aludra","Alvina","Alya","Alzahra","Alzubra","Amah","Amal","Amala","Amalia","Aman","Amana","Amani","Amany","Amara","Amatullah","Amaya","Ambar","Ambareen","Amber","Ambereen","Ambreen","Ameena","Ameenah","Ameera","Ameerah","Amel","Amelia","Amena","Amilah","Amima","Amina","Aminah","Amineh","Amira","Amirah","Amjad","Ammara","Ammarah","Amna","Amra","Amrah","Amreen","Amsah","Amtullah","Ana","Anaan","Anah","Anam","Anan","Anaum","Anbar","Anbarin","Andaleeb","Andalib","Andlib","Aneeqa","Aneesa","Aneesah","Aneezah","Angbin","Anida","Anika","Anila","Anisa","Anisah","Anisha","Aniya","Anja","Anjum","Anmar","Annam","Anniyah","Anousha","Anum","Anwaar","Anwar","Anwara","Anya","Aqeela","Aqeelah","Aqilah","Aqsa","Ara","Aram","Areebah","Areej","Aresha","Arfa","Ariana","Aribah","Arij","Arisha","Arissa","Arjumand","Aroob","Aroosa","Aroush","Arsala","Arub","Arva","Arwa","Arya","Aryisha","Arzo","Arzoo","Arzu","Asalah","Asbah","Asfa","Asfia","Asfiya","Ashadieeyah","Ashalina","Ashbah","Asheeyana","Ashika","Ashwaq","Asifa","Asil","Asilah","Asili","Asima","Asimah","Asiya","Asiyah","Asli","Asma","Asmaa","Asmara","Asmat","Asna","Asra","Asrar","Asriyah","Ateefa","Ateeqah","Ateeyah","Athilah","Athir","Athmah","Atia","Atifa","Atifah","Atika","Atikah","Atiqah","Atiya","Atiyah","Atyaf","Awa","Awatif","Aya","Ayaana","Ayaat","Ayah","Ayan","Ayana","Ayat","Ayeh","Ayesha","Ayishah","Aymen","Ayra","Aysha","Ayshah","Azadeh","Azeemah","Azeeza","Azhaar","Azhar","Aziman","Aziz","Aziza","Azizah","Azka","Azma","Azmina","Azra","Azraa","Azza","Azzah","Azzahra","Badia","Badiah","Badiyah","Badra","Badriya","Badriyah","Badriyyah","Baha","Bahaa","Bahar","Baheera","Bahij","Bahijah","Bahira","Bahirah","Bahiya","Bahiyaa","Bahiyah","Bahiyyah","Bahriyahalaabidah","Bakht","Bakhtawar","Balqees","Balqis","Balsam","Ban","Banafsha","Banan","Banujah","Baraaa","Baraah","Baraka","Barakah","Bareerah","Bariah","Barika","Barirah","Barrah","Barzah","Basaaria","Basbas","Baseema","Bashair","Basheera","Bashirah","Basilah","Basimah","Basinah","Basma","Basmah","Basoos","Batinah","Batool","Batrisyia","Batul","Bayan","Baysan","Bazilah","Beena","Beenish","Benazir","Benzair","Bilqees","Bilqis","Binesh","Binish","Birrah","Bisar","Bisharah","Bisma","Budur","Buhaisah","Buhaysah","Buhayyah","Buhjah","Buhthah","Bunanah","Buqayrah","Burdah","Busayrah","Bushra","Bushrah","Busr","Busrah","Buthainah","Buthayna","Buthaynah","Cala","Cantara","Chaman","Chanda","Chandni","Daania","Daanya","Dad","Dafiyah","Dahab","Dahma","Dalal","Daleela","Daliya","Daliyah","Daneen","Daniya","Daniyah","Darakhshaan","Darakhshan","Daria","Dawlatkhatoon","Deeba","Deema","Dema","Dhakirah","Dhakiyah","Dhuha","Dhuka","Dilshadkhatoon","Dimah","Dina","Diqrah","Diyanah","Doaa","Dua","Duaa","Dubaah","Duha","Dujanah","Dunia","Dunya","Dunyana","Durar","Durdanah","Durrah","Durriyah","Eiliyah","Eimaan","Eiman","Eliza","Elma","Eman","Enisa","Eraj","Erina","Ermina","Erum","Eshaal","Eshal","Eshmaal","Ezzah","Fadeelah","Fadheela","Fadila","Fadilah","Fadiyah","Fadwa","Fadwah","Fadyaa","Faeezah","Faekah","Fahada","Fahdah","Faheemah","Fahima","Fahimah","Fahmida","Faiha","Faiqa","Faiqah","Fairuzah","Faiza","Faizah","Fajr","Fakeehah","Fakhirah","Fakhra","Fakhriyah","Fakhtah","Fakihah","Falak","Falaknaz","Falaq","Falisha","Famya","Fanan","Faqirah","Fara","Farah","Faraza","Fareeda","Fareedah","Fareeha","Fareess","Farha","Farhah","Farhana","Farhanah","Farhat","Farheen","Farhiya","Faria","Fariah","Farida","Faridah","Fariha","Farihah","Farisha","Fariza","Farizah","Farkhandah","Farqad","Farwa","Farwah","Faryal","Faryat","Farzana","Farzeen","Faseehah","Faseelah","Fateenah","Fatheha","Fathi","Fathima","Fathiya","Fathiyah","Fatiha","Fatihah","Fatim","Fatima","Fatimah","Fatin","Fatinah","Fatma","Fauzia","Fawz","Fawza","Fawzah","Fawzia","Fawziya","Fawziyah","Fawziyyah","Fayha","Fayruz","Fazia","Fazluna","Fazzilet","Feerozah","Feiyaz","Fellah","Femida","Fida","Fiddah","Fikriya","Fikriyah","Fir","Firdaus","Firdaws","Firdoos","Firdous","Firdowsa","Firyal","Fiza","Forhana","Fozia","Foziah","Fudayl","Furat","Furayah","Fusaylah","Fuseelah","Futun","Gazala","Ghaada","Ghaaliya","Ghadah","Ghadir","Ghalibah","Ghaliyah","Ghaneemah","Ghania","Ghaniyah","Gharam","Ghareebah","Ghayda","Ghaydaa","Ghazal","Ghazala","Ghazalah","Ghaziyah","Ghitbah","Ghizlan","Ghufayrah","Ghufran","Ghumaysa","Ghunwah","Ghunyah","Ghusoon","Ghusun","Ghuzayyah","Gulbano","Gulerana","Haadiya","Haajar","Haala","Hababah","Habeeba","Habiba","Habibah","Haboos","Hadeel","Hadeeqa","Hadeeqah","Hadhirah","Hadil","Hadiya","Hadiyah","Hadiyyah","Hafa","Hafeezah","Hafizah","Hafsa","Hafsa/ucha","Hafsah","Hafthah","Haifa","Haiza","Hajar","Hajjah","Hajna","Hajrah","Hakimah","Hala","Halah","Haleema","Halima","Halimah","Hamamah","Hamdiyah","Hameeda","Hamidah","Hamnah","Hamra","Hana","Hanan","Haneefa","Haneefah","Hanfa","Haniah","Hanifa","Hanifah","Hanin","Haniya","Haniyah","Haniyyah","Hannah","Hannan","Hareem","Haseena","Hasibah","Hasinah","Hasna","Hasnah","Hawa","Hawadah","Hawazin","Hawra","Hawwa","Hayaam","Hayah","Hayam","Hayat","Hayed","Hayfa","Hayrah","Hayud","Hazar","Hazimah","Haziqah","Hazirah","Heba","Heela","Hena","Henna","Hessa","Heyam","Hiba","Hibah","Hibatallah","Hibatullah","Hibba","Hibbah","Hidayah","Hidiyah","Hifza","Hijab","Hijrah","Hikmah","Hikmat","Hilwana","Hind","Hindah","Hira","Hirah","Hiyam","Hoda","Hodan","Hooda","Hoor","Hooria","Hooriya","Hooriyah","Horia","Hubab","Hubayshah","Hubba","Huda","Hudun","Hujaymah","Hujayrah","Hukaymah","Hulyah","Huma","Humaira","Humairah","Humaydah","Humayrah","Humera","Humra","Hunaidah","Hunaydah","Hur","Huriyah","Huriyyah","Hurya","Husn","Husna","Husniya","Husniyah","Hutun","Huwaidah","Huwaydah","Iba","Ibadah","Ibthaj","Ibtihaaj","Ibtihaj","Ibtihal","Ibtisam","Idhar","Iffah","Iffat","Ifra","Iftikar","Iftikhar","Iftin","Ifza","Ijabo","Ijaz","Ijlal","Ikhlas","Ikraam","Ikram","Ikramiya","Ilaaf","Ilhaam","Ilham","Ilhan","Ilm","Ilmeeyat","Iman","Imani","Imsaal","Imthithal","Imtihal","Imtithal","Inaam","Inaaya","Inam","Inan","Inas","Inaya","Inayah","Inayat","Inga","Insaf","Insha","Intessar","Intisaar","Intisar","Iqra","Iraj","Iram","Irem","Irsa","Irum","Isa","Isad","Isaf","Isar","Isbah","Isha","Ishaal","Ishfaq","Ishraq","Isir","Isma","Ismah","Ismat","Isra","Istabraq","Istilah","Itab","Itaf","Ithar","Itidal","Itimad","Izdihaar","Izdihar","Izma","Izzah","Izzah(izzat","Izzannisa","Jabalah","Jabeen","Jabirah","Jabrayah","Jada","Jadwa","Jahaan","Jahan","Jahanaara","Jahanara","Jahankhatoon","Jahdamah","Jahida","Jahmyyllah","Jaiyana","Jala","Jalilah","Jameela","Jameelah","Jameena","Jamia","Jamila","Jamilah","Jammana","Jana","Janaan","Janan","Jannah","Jannat","Jaseena","Jasmin","Jasmina","Jasrah","Javairea","Jawa","Jawahir","Jawharah","Jawl","Jawna","Jaza","Jazeera","Jazira","Jaziya","Jehaan","Jehan","Jemimah","Jenna","Jennah","Jessenia","Jian","Jihan","Jilan","Jinan","Johara","Jud","Judamah","Judi","Juhainah","Juhanah","Juhaynah","Jumaana","Juman","Jumanah","Jumaymah","Jumaynah","Jun","Junah","Junainah","Junnut","Juwairiyah","Juwan","Juwariyah","Juwayriyah","Kabirah","Kadshah","Kaheesha","Kainat","Kaleemah","Kali","Kalila","Kalima","Kalsoom","Kaltham","Kamaliyah","Kamilah","Kaneez","Kanval","Kanwal","Kanz","Kanza","Kanzah","Karam","Karawan","Kardawiyah","Kareema","Karida","Karima","Karimah","Kas","Kashifah","Kashish","Kathirah","Kaukab","Kausar","Kawakib","Kawkab","Kawthar","Kayan","Kaysah","Kehara","Kehkashan","Khadeeja","Khadija","Khadijah","Khadra","Khairah","Khairiya","Khalida","Khalidah","Khalilah","Khalisah","Khansa","Kharqa","Khatera","Khatira","Khatoon","Khawlah","Khayrah","Khayriyah","Khayriyyah","Khazanah","Khidrah","Khitam","Khudrah","Khulaybah","Khulood","Khulud","Khusbakht","Khuwaylah","Khuzama","Khuzamah","Kifah","Kiswar","Koila","Komal","Komila","Kuaybah","Kuhaylah","Kulthoom","Kulthum","Kulus","Kunza","Kuratulain","Kuwaysah","Kwairah","Kyda","Laaibah","Laaiqah","Labeebah","Labibah","Laiba","Laila","Laiqa","Lama","Lamah","Lamees","Lamiah","Lamis","Lamisa","Lamisah","Lamiya","Lamya","Lana","Lanika","Laraib","Lashirah","Lateefa","Latifa","Latifah","Layali","Layan","Layla","Layyah","Lazim","Leem","Leen","Leena","Leila","Leilah","Leyla","Liba","Lina","Linah","Liyana","Lubaaba","Lubab","Lubabah","Luban","Lubanah","Lubena","Lublubah","Lubna","Luja","Lujain","Lujaina","Lujayn","Lulu","Luluah","Lulwa","Luma","Luna","Lunah","Lutfiyah","Maab","Maahnoor","Maali","Maassama","Mada","Madaniyah","Madeeha","Madhat","Madhia","Madia","Madiha","Madihah","Maha","Mahabbah","Mahasin","Mahbasah","Mahbubah","Mahdiya","Mahdiyah","Maheen","Maheera","Mahek","Mahfuzah","Mahibah","Mahirah","Mahjabeen","Mahneera","Mahneerah","Mahnoor","Mahreen","Mahrosh","Mahrukh","Mahtob","Mahum","Mahveen","Mahvish","Mahwish","Mahwush","Maida","Maimoona","Maira","Mais","Maisa","Maisah","Maisarah","Maisha","Maizah","Majida","Majidah","Makaarim","Makarim","Makhtooma","Makhtoonah","Makkiyah","Maladh","Malaika","Malaikah","Malak","Malakah","Malayeka","Maleehah","Maliha","Malika","Malikah","Malmal","Manaal","Manaar","Manab","Manahel","Manahil","Manal","Manar","Manfoosah","Manha","Manhalah","Mansurah","Maqboolah","Maraam","Marah","Maram","Mardhiah","Marhabah","Maria","Mariam","Maridah","Mariya","Mariyah","Marjanah","Marnia","Marwa","Marwah","Maryam","Maryum","Marzuqah","Masabeeh","Masahir","Masarrah","Mashaal","Mashal","Mashel","Mashoodah","Masooma","Masoomah","Masouda","Mastura","Masudah","Masumah","Mateenah","Mawaddah","Mawahib","Mawara","Mawiya","Mawiyah","May","Maya","Mayameen","Mayeda","Maymunah","Mays","Maysa","Maysaa","Maysam","Maysan","Maysarah","Maysoon","Maysun","Mayyada","Mayyadah","Mayyasah","Maznah","Mazneen","Medina","Meem","Meena","Mehak","Mehek","Meher","Meheroon","Meherunissa","Mehjabeen","Mehmuda","Mehnaz","Mehndi","Mehnoor","Mehr","Mehreen","Mehriban","Mehrish","Mehrnaz","Mehrunisa","Mehvesh","Mehvish","Mehwish","Memoona","Menaal","Mersiha","Mevish","Meymona","Midhaa","Midhah","Mina","Minaal","Minal","Minnah","Mirah","Misba","Misha","Mishael","Mishall","Mishel","Miskeenah","Mobena","Mohaddisa","Mohga","Mohsina","Momina","Mona","Monera","Mouna","Mounia","Mounira","Muazah","Muazzaz","Mubarakah","Mubashirah","Mubassirah","Mubeenah","Mubin","Mufeeda","Mufiah","Mufidah","Muhibbah","Muhja","Muhjah","Muhsinah","Muizza","Mukarram","Mukhlisah","Mumayyaz","Mumina","Muminah","Muna","Munawar","Munawwar","Munazzah","Muneeba","Muneera","Muneerah","Munerah","Muneza","Muniba","Munira","Munirah","Munisa","Munisah","Munize","Muntaha","Muqadaas","Muqbalah","Murdiyyah","Murjanah","Murshidah","Muruj","Musaddiqah","Musaykah","Musheera","Mushira","Mushirah","Muskaan","Muskan","Muslimah","Musn","Musnah","Mussah","Mussaret","Mustaeenah","Mutahharah","Mutazah","Muyassar","Muzaynah","Muznah","Myiesha","Myreen","Mysha","Naailah","Naairah","Naajidah","Naazneen","Naba","Nabeeha","Nabeela","Nabeelah","Nabiha","Nabihah","Nabijah","Nabila","Nabilah","Nada","Nadeeda","Nadeen","Nadesh","Nadia","Nadidah","Nadimah","Nadira","Nadirah","Nadiyah","Nadra","Nadwa","Nadwah","Nadyne","Naeema","Naeemah","Nafeesa","Nafeesah","Nafesa","Nafiah","Nafisah","Naflah","Nageen","Nageenah","Nagheen","Nagina","Nahal","Naheed","Naheeda","Nahid","Nahida","Nahidah","Nahla","Nahlah","Nahleejah","Naifah","Naila","Nailah","Naima","Naimah","Nain","Naina","Najaah","Najaf","Najah","Najat","Najdah","Najeeba","Najibah","Najidah","Najihah","Najiyah","Najla","Najma","Najmah","Najmiyyah","Najwa","Najya","Nakhat","Nakia","Namar","Namra","Namyla","Naqeebah","Naraiman","Nargis","Narjis","Narmin","Naseeka","Naseemah","Naseerah","Nasha","Nasheed","Nasheelah","Nashema","Nashida","Nashirah","Nashita","Nashitah","Nashmia","Nashwa","Nasifah","Nasiha","Nasihah","Nasim","Nasimah","Nasira","Nasirah","Nasmah","Nasra","Nasreen","Nasrin","Nasrullah","Natara","Natasha","Nathifa","Naureen","Naurus","Naushaba","Nausheen","Naushin","Naveda","Naveen","Navil","Nawal","Nawar","Naweed","Nawel","Nawlah","Nawrah","Nawwal","Nawwar","Nayila","Nayyab","Nayyirah","Nazaaha","Nazahah","Nazanin","Nazeefah","Nazeeha","Nazeera","Nazeerah","Nazia","Nazihah","Nazimah","Nazindah","Nazirah","Nazish","Nazli","Nazma","Nazmin","Nazneen","Nazraana","Nazuk","Neelam","Neelofer","Neeshad","Neeya","Neha","Nejat","Nelam","Nelofar","Nesrin","Nevaeh","Nibaal","Nibal","Nibras","Nida","Nidaa","Nidda","Nigar","Nighat","Nihad","Nihal","Nija","Nijah","Nilofar","Nilofer","Nimaat","Nimah","Nimat","Nimerah","Nimra","Nimrah","Nina","Nisa","Nisha","Nishat","Nisreen","Nisrin","Nissa","Niyaf","Nojood","Noor","Noorah","Nooralhaya","Noorie","Nooriya","Noorjahan","Noorjehan","Noorulann","Nora","Norah","Noreen","Norhan","Noriza","Noshaba","Nosheen","Nouf","Noureen","Nuaymah","Nudar","Nudbah","Nudhar","Nudrat","Nuha","Nuhaa","Nujud","Numa","Nunah","Nur","Nura","Nurah","Nuralhuda","Nurayda","Nuriya","Nuriyah","Nurjenna","Nuryn","Nusaibah","Nusaybah","Nusrah","Nusrat","Nuwairah","Nuwayla","Nuwaylah","Nuwayrah","Nuwwar","Nuwwarrah","Nuzhah","Nuzhat","Nyasia","Nyla","Ojala","Omera","Pakeezah","Parinda","Pariza","Parveen","Parvina","Qabalah","Qabilah","Qabool","Qadr","Qadriyah","Qadriyyah","Qailah","Qamar","Qamayr","Qameer","Qaniah","Qaraah","Qarasafahl","Qareebah","Qasoomah","Qaylah","Qaymayriyah","Qaysar","Qindeel","Qirat","Qisaf","Qismah","Qiyyama","Quadriyyah","Qubilah","Quddusiyyah","Qudsiyah","Quraybah","Qurratulain","Qurratulayn","Qutaylah","Qutayyah","Raaida","Raameen","Raawiya","Rabab","Rabail","Rabbiya","Rabeea","Rabia","Rabiah","Rabitah","Rabiya","Rabiyah","Radeyah","Radhia","Radhiya","Radhwaa","Radiyah","Radwa","Raeesah","Rafa","Rafah","Rafal","Rafat","Rafeeqah","Rafia","Rafiah","Rafida","Rafidah","Rafif","Rafiqah","Raghad","Raghda","Raghibah","Raghidah","Raha","Rahaf","Raheemah","Rahila","Rahilah","Rahimah","Rahiq","Rahma","Rahmaa","Rahmah","Raidah","Raifah","Raihana","Raima","Raina","Raiqah","Raitah","Raja","Rajiyah","Rameen","Rameesha","Ramia","Ramidha","Ramisa","Ramlah","Ramsha","Ramzia","Ramziyah","Rana","Rand","Randa","Raneem","Rani","Rania","Ranim","Raniya","Raniyah","Ranya","Rasha","Rashad","Rasheeda","Rasheedah","Rashida","Rashidah","Rasmiyah","Raudzah","Rawah","Rawdah","Rawdha","Rawhah","Rawhiyah","Rawiah","Rayann","Rayhanah","Rayna","Rayya","Rayyaa","Razaan","Razaana","Razaanah","Razan","Razia","Reeha","Reeham","Reem","Reema","Reena","Reham","Rehana","Rehemat","Reja","Reshma","Reyah","Reyhana","Rida","Rifaat","Rifat","Rifaya","Riffat","Rihab","Riham","Rihana","Rija","Rijja","Rim","Rima","Rimsha","Rinaaz","Rizqin","Rizwana","Robina","Roha","Rohaan","Roma","Romana","Romeesa","Rona","Roshini","Roshni","Roushana","Rua","Ruaa","Rubaa","Rubaba","Rubadah","Rubi","Rubina","Rubiya","Rudainah","Rudaynah","Rufaidah","Rufaydah","Ruhab","Ruhee","Ruhi","Ruhina","Rukan","Rukayat","Rukhsaar","Rukhsana","Rukhsar","Ruksana","Ruksha","Rumailah","Rumaisa","Rumaithah","Rumana","Rumaylah","Rumaythah","Rumeha","Ruqaya","Ruqayya","Ruqayyah","Ruquaiya","Rushd","Rushda","Ruwaidah","Ruwaydah","Ruyah","Saabira","Saadia","Saadiya","Saaedah","Saaleha","Saaliha","Saamiya","Saara","Saarah","Saba","Sabaa","Sabah","Sabahat","Sabburah","Sabeegah","Sabeen","Sabeeyah","Sabiha","Sabihah","Sabina","Sabiqah","Sabirah","Sabr","Sabreen","Sabrin","Sabriyah","Sabuhi","Sadad","Sadaf","Sadah","Sadia","Sadiah","Sadiqa","Sadiqah","Sadiyah","Sadoof","Saeedah","Safa","Safaa","Safeerah","Saffanah","Saffiya","Safia","Safiya","Safiyya","Safiyyah","Safoorah","Safun","Safwah","Safwana","Sageda","Sagheerah","Sahar","Saharish","Sahibah","Sahirah","Sahla","Sahlah","Sahrish","Saibah","Saida","Saidah","Saihah","Saila","Saima","Saimah","Saiqa","Saira","Sairah","Sairish","Saja","Sajidah","Sakeena","Sakeenah","Sakina","Sakinah","Saleema","Saleemah","Saleena","Salifah","Salihah","Salikah","Salimah","Salma","Salmaa","Salsabeel","Salsabil","Salwa","Samaa","Samaah","Samah","Samaira","Samar","Samara","Samarah","Samawah","Sameea","Sameeha","Sameen","Sameena","Sameenah","Sameera","Sameh","Samera","Sameya","Samia","Samiah","Samihah","Samina","Samira","Samirah","Samiun","Samiya","Samiyah","Sammar","Samra","Samrah","Samrina","Sana","Sanaa","Sanam","Sanari","Sanaubar","Sanika","Saniya","Saniyah","Saniyya","Sanjeedah","Sara","Sarah","Sarina","Sarish","Sarra","Sarrinah","Sarwari","Sarwat","Sarwath","Sauda","Savaira","Sawdah","Sawsan","Sayyidah","Seem","Seemeen","Seerat","Seham","Seher","Sehr","Sehrish","Selina","Senada","Senait","Sfiyah","Shabana","Shabeehah","Shabina","Shabnam","Shadan","Shadha","Shadhaa","Shadhiyah","Shadiyah","Shadmani","Shafana","Shafaq","Shafath","Shafeeqah","Shafia","Shafiah","Shafiqah","Shagufta","Shahada","Shahana","Shaharun","Shahd","Shahed","Shaheema","Shaheena","Shaheenah","Shaheerah","Shahida","Shahidah","Shahina","Shahirah","Shahla","Shahlah","Shahmeen","Shahnaaz","Shahnaz","Shahnoor","Shahrazad","Shahreen","Shahzaadee","Shahzana","Shaila","Shaima","Shairah","Shaista","Shaistah","Shajarah","Shajeeah","Shakeelah","Shakila","Shakirah","Shakurah","Shalimar","Shama","Shamailah","Shamama","Shamamah","Shameemah","Shameena","Shamila","Shamilah","Shamim","Shamima","Shamis","Shamoodah","Shams","Shamsa","Shamsia","Shanaz","Shanika","Shanum","Shanza","Shanzay","Shanze","Shaqeeqah","Sharayah","Shareefa","Shareekah","Shareen","Sharifah","Shariqah","Sharleez","Sharmeen","Sharmin","Shasmeen","Shatha","Shawq","Shayla","Shayma","Shaymaa","Shazana","Shazfa","Shazia","Shazmah","Shazmin","Shazneen","Sheema","Sheen","Sheenaz","Shehla","Shehrbano","Shehzadi","Sheila","Shellah","Sherana","Shereen","Sherrifah","Sheyla","Sheza","Shezan","Shifa","Shihaam","Shillan","Shimah","Shimaz","Shireen","Shiya","Shiyam","Shiza","Shua","Shuba","Shudun","Shuhrah","Shujana","Shukrah","Shukriyah","Shumaila","Shumaisiya","Shumaylah","Shumaysah","Shurafa","Shurooq","Shuruq","Shyreen","Sibaal","Sibal","Siddiqa","Siddiqah","Siddra","Sidra","Sidrah","Sihaam","Siham","Simah","Simra","Simrah","Sirah","Sireen","Sirin","Sitarah","Sitwat","Sobia","Sofia","Soha","Sohana","Somaya","Sonia","Sophia","Soraiya","Soraya","Sorfina","Souad","Souhayla","Suad","Subaha","Subayah","Subbiha","Subhaan","Subhah","Subhiyah","Subuhi","Suda","Sudi","Sufia","Sughra","Suha","Suhailah","Suhaimah","Suhair","Suhana","Suhaylah","Suhaymah","Suhayr","Suheera","Suja","Sukaina","Sukainah","Sukaynah","Sulafah","Sultana","Sultanah","Sulthana","Sumaira","Sumaiya","Sumaiyah","Sumanah","Sumara","Sumayra","Sumayrah","Sumaytah","Sumayyah","Sumbul","Sumera","Sumia","Sumiya","Sumlina","Summar","Summaya","Summayyah","Sumnah","Sumra","Sumrah","Sunbul","Sundas","Sundus","Sunya","Sura","Suraa","Suraiya","Suraya","Surraya","Suwaydah","Suwera","Swiyyah","Taabeer","Taahira","Taalah","Taalia","Tabalah","Tabassum","Tabinda","Tafida","Taghrid","Tahani","Tahera","Tahfeem","Tahira","Tahirah","Tahiyah","Tahiyat","Tahlibah","Tahseenah","Taibah","Taima","Takiyah","Tala","Talah","Talibah","Tamadur","Tamanna","Tamara","Tameemah","Tanisha","Tanweer","Tanzeela","Tanzila","Taqiyah","Taqwa","Taqwaa","Tara","Tariqah","Tarub","Tasavur","Taseefa","Tasheen","Taskeen","Tasleem","Tasliymah","Tasneam","Tasneem","Tasnim","Tatheer","Tawbah","Taybah","Tayma","Tayyibah","Tazeen","Tazim","Tazkia","Tazmeen","Tehmeed","Tehreem","Tehzeeb","Thabitah","Thahera","Thaminah","Thana","Thanaa","Thara","Tharaa","Tharwah","Tharya","Thashin","Thawab","Thoraya","Thubaytah","Thufailah","Thuml","Thuraiya","Thurayya","Thuwaibah","Thuwaybah","Tibah","Tisha","Tooba","Toufika","Tuba","Tubaa","Tubassum","Tufaylah","Tulayhah","Tumadur","Tuqa","Tuqaa","Ubaab","Ubab","Ubah","Udaysah","Ugbaad","Uhud","Ujala","Ula","Ulfah","Umaiza","Umamah","Umaymah","Umaynah","Umayrah","Ummayyah","Ummekulsum","Ummkalthum","Ummkulthum","Umnia","Umniyah","Unaysah","Unaza","Unsa","Uroosa","Urshia","Usaimah","Usaymah","Ushna","Uswa","Utaybah","Uwaisah","Uwaysah","Uzma","Valiqa","Vardah","Varisha","Waajidah","Wabisa","Wad","Wadha","Wadhaa","Wadiah","Wafa","Wafaa","Wafeeqa","Wafeeqah","Wafiqah","Wafiyah","Wafiza","Wagma","Wahabah","Wahbiyah","Wahibah","Wahida","Wahidah","Wahuj","Wajahat","Wajd","Wajihah","Wakeelah","Wala","Walaa","Walidah","Walihah","Waliyah","Walladah","Wania","Waniya","Warda","Wardah","Wareesha","Warizah","Warqa","Warqaa","Warsan","Waseefah","Waseemah","Wasfiyah","Washma","Wasifah","Wasilah","Wasimah","Wasna","Watiaa","Wazeera","Wiam","Wid","Widaad","Widad","Wifaq","Wijdan","Wisaal","Wisaam","Wisal","Wisam","Wiyyam","Wordah","Wurud","Yafiah","Yakootah","Yalina","Yalqoot","Yamamah","Yamha","Yamina","Yaminah","Yara","Yarah","Yasirah","Yasmeen","Yasmeenah","Yasmin","Yasmina","Yasmine","Yasna","Yassaman","Yelda","Yumn","Yumna","Yumnah","Yusayrah","Yusra","Yusraa","Yusriyah","Yusur","Zaafirah","Zaahirah","Zaara","Zaeemah","Zafeerah","Zafirah","Zafreen","Zahabiya","Zahara","Zaheen","Zaheerah","Zahidah","Zahira","Zahirah","Zahra","Zahraa","Zahrah","Zahwah","Zaida","Zain","Zaina","Zainab","Zairah","Zaiton","Zakia","Zakirah","Zakiyah","Zalfa","Zameelah","Zameena","Zamrud","Zanubiya","Zanyah","Zara","Zareen","Zareena","Zareenah","Zarifah","Zarina","Zariya","Zariyah","Zarmina","Zarqa","Zarrah","Zartaj","Zayaan","Zayba","Zayn","Zaynab","Zaynah","Zaytoon","Zaytoonah","Zeba","Zeena","Zeenat","Zehna","Zehra","Zenia","Zerina","Zhalay","Zinah","Zinat","Zineta","Zinneerah","Ziyan","Zoeya","Zoha","Zoharin","Zohha","Zohra","Zohura","Zonira","Zorah","Zoufishan","Zoya","Zubaidah","Zubaria","Zubash","Zubaydah","Zubdah","Zubi","Zuha","Zuhaa","Zuhaira","Zuharah","Zuhayra","Zuhera","Zuhra","Zuhrah","Zuhur","Zulaykha","Zulekha","Zulfa","Zulfah","Zumurrud","Zumzum","Zunairah","Zynah","Zyva"],setup.NAME_arabic_male_first_name=["Aaban","Aabid","Aadil","Aahil","Aalam","Aalee","Aalim","Aamil","Aamir","Aaqib","Aaqil","Aarif","Aariz","Aaryan","Aashif","Aashir","Aasif","Aasim","Aatif","Aaus","Aayan","Aazim","Abaan","Abbas","Abbud","Abbudin","Abdal","Abdalala","Abdel","Abdul","Abdulaalee","Abduladheem","Abduladl","Abdulafuw","Abdulahad","Abdulaleem","Abdulalim","Abdulaliyy","Abdulawwal","Abdulazeez","Abdulazim","Abdulaziz","Abdulbaaqi","Abdulbaari","Abdulbaasit","Abdulbadee","Abdulbadi","Abdulbaith","Abdulbaqi","Abdulbari","Abdulbarr","Abdulbaseer","Abdulbasir","Abdulbasit","Abdulbatin","Abduldhahir","Abdulfattah","Abdulghafaar","Abdulghaffar","Abdulghafoor","Abdulghafur","Abdulghani","Abdulhadi","Abdulhafeedh","Abdulhafeez","Abdulhafiz","Abdulhakam","Abdulhakeem","Abdulhakim","Abdulhaleem","Abdulhalim","Abdulhameed","Abdulhamid","Abdulhannan","Abdulhaq","Abdulhaqq","Abdulhaseeb","Abdulhasib","Abdulhayy","Abduljabaar","Abduljabbar","Abduljaleel","Abduljalil","Abduljawwad","Abdulkabir","Abdulkareem","Abdulkarim","Abdulkhabir","Abdulkhaliq","Abdullah","Abdullateef","Abdullatif","Abdulmaajid","Abdulmaalik","Abdulmajeed","Abdulmajid","Abdulmalik","Abdulmani","Abdulmannan","Abdulmateen","Abdulmatin","Abdulmubdee","Abdulmubdi","Abdulmueed","Abdulmueid","Abdulmughni","Abdulmuhaimin","Abdulmuhaymin","Abdulmuhsi","Abdulmuhsin","Abdulmuhyee","Abdulmuhyi","Abdulmuid","Abdulmuiz","Abdulmuizz","Abdulmujeeb","Abdulmujib","Abdulmumin","Abdulmunim","Abdulmuntaqim","Abdulmuqaddim","Abdulmuqeet","Abdulmuqsit","Abdulmuqtadir","Abdulmusawwir","Abdulmutaal","Abdulmutaalee","Abdulmuti","Abdulmuzanni","Abdulnafi","Abdulnaseer","Abdulnasir","Abdulnasser","Abdulnoor","Abdulnur","Abdulqaadir","Abdulqadeer","Abdulqadir","Abdulqahaar","Abdulqahhar","Abdulqaiyoum","Abdulqawi","Abdulqayyum","Abdulquddus","Abdulqudoos","Abdulraafi","Abdulrabb","Abdulrafi","Abdulraheem","Abdulrahim","Abdulrahman","Abdulraqib","Abdulrasheed","Abdulrashid","Abdulrauf","Abdulrazzaq","Abdulsabur","Abdulsalam","Abdulsamad","Abdulsami","Abdulsattar","Abdulshahid","Abdulshakur","Abdultawwab","Abdulwaajid","Abdulwaali","Abdulwadood","Abdulwadud","Abdulwahhab","Abdulwahid","Abdulwajid","Abdulwakil","Abdulwali","Abdulwaliy","Abdulwarith","Abdulwasi","Abdulzahir","Abdurraheem","Abdurrahman","Abdurraqeeb","Abdurrasheed","Abdurrashid","Abdurrauf","Abdurrazzaq","Abdus","Abdushshahid","Abdussabour","Abdussabur","Abdussalaam","Abdussamad","Abdussameei","Abdussami","Abdussattar","Abdusshafi","Abdusshaheed","Abdusshakur","Abdussubbooh","Abid","Abidin","Abisali","Abrad","Abrar","Abrash","Absi","Abthi","Abualkhayr","Abubakr","Abulhassan","Abyad","Abyan","Abzari","Adam","Adan","Adawi","Adbulqawi","Adeeb","Adeel","Adeem","Adel","Adham","Adheem","Adib","Adil","Adiy","Adl","Adli","Adnan","Aduzzahir","Adyan","Afaaq","Afeef","Affan","Afham","Afif","Afiq","Aflah","Afraz","Afruz","Aftaab","Aftab","Afzal","Agharr","Ahab","Ahad","Ahmad","Ahmar","Ahmed","Ahnaf","Ahsan","Ahwas","Ahyan","Ahzab","Aidan","Aidh","Aijaz","Aiman","Aizat","Ajer","Ajib","Ajlah","Ajmal","Akbar","Akdas","Akeem","Akhas","Akhdan","Akhfash","Akhlaq","Akhtar","Akif","Akil","Akmal","Akram","Ala","Alaaldin","Alabbas","Aladdin","Albara","Alhakam","Alharith","Alhasan","Alhusain","Alhusayn","Ali","Alim","Aliyy","Almahdi","Alman","Almir","Alsafi","Altaf","Altair","Altamash","Altayyib","Altijani","Altufail","Altufayl","Amaan","Amaar","Amam","Amayr","Ameen","Ameer","Amer","Amid","Amin","Amir","Amjad","Ammaar","Ammar","Amr","Amro","Anas","Anasah","Aneeq","Anees","Aniq","Anis","Anjam","Ansar","Antarah","Anwaar","Anwar","Anzar","Aqdas","Aqeel","Aqeil","Aqil","Arbaaz","Arbab","Areeb","Areez","Arfan","Arham","Arif","Arish","Armaan","Arman","Arqam","Arsal","Arsalaan","Arsh","Arshad","Arshaq","Arslan","Artah","Aryan","Asad","Asadel","Asar","Asbagh","Asbat","Aseed","Asfar","Asgar","Asghar","Ashaath","Ashar","Ashaz","Asher","Ashfaq","Ashik","Ashim","Ashmaan","Ashmath","Ashraf","Asif","Asim","Aslam","Asrar","Aswad","Ata","Ataa","Ataallah","Ataalrahman","Ataubaq","Ateeb","Athar","Athazaz","Athier","Athil","Athir","Atif","Atik","Atiq","Attiq","Awad","Awf","Awn","Aws","Awwab","Ayaan","Ayaaz","Ayaz","Aybak","Aydin","Ayham","Aymaan","Ayman","Ayoob","Ayser","Ayub","Ayyash","Ayyub","Aza","Azaan","Azab","Azad","Azeem","Azfer","Azhar","Azim","Aziz","Azlan","Azmat","Azraq","Azraqi","Azzam","Baahir","Baasim","Babar","Baber","Badi","Badialzaman","Badr","Badraldin","Badri","Baha","Bahaaldin","Bahij","Bahir","Bahiyyaldin","Bakr","Bakri","Baligh","Bandar","Baqar","Baqir","Barakah","Barir","Barkat","Barr","Barraq","Basel","Basem","Bashaar","Bashar","Basharat","Bashir","Bashshar","Basil","Basim","Basir","Bassam","Batal","Bayhas","Bazaan","Bazam","Behzad","Bilal","Bishr","Boulos","Budail","Budayl","Bulhut","Burak","Burayd","Burhaan","Burhan","Bushr","Butrus","Daamin","Daanish","Dabbah","Dabir","Daghfal","Dakhil","Dameer","Damurah","Dani","Daniel","Danish","Daniyal","Darim","Darwish","Daud","Dawid","Dawlah","Dawoud","Dawud","Dayyan","Dean","Deen","Dhakir","Dhakiy","Dhakwan","Dhiya","Dhulfiqar","Dilawar","Dildar","Dinar","Dirar","Diya","Diyaaldin","Diyari","Dizhwar","Duha","Duqaq","Ehan","Ehsaas","Ehsan","Eijaz","Eisa","Ejaz","Elamin","Emran","Faaiz","Faakhir","Faaris","Faaz","Fadi","Fadil","Fadl","Fadlallah","Faeq","Fahad","Fahd","Faheem","Fahim","Fahmi","Fahyim","Faik","Faiq","Faisal","Faiyaz","Faiz","Faizaan","Faizan","Fajaruddin","Fajer","Fakeeh","Fakhir","Fakhr","Fakhraldin","Fakhri","Fakhrul","Fakhry","Fakih","Falah","Falih","Faqeeh","Farafisa","Faraj","Farasat","Faraz","Fardeen","Fareed","Fareeq","Farees","Farhan","Farid","Fariq","Faris","Farooq","Farouk","Farraj","Farrukh","Faruq","Fasahat","Faseeh","Fateen","Fateh","Fath","Fathi","Fatih","Fatik","Fatin","Fattah","Fawad","Fawwaz","Fawz","Fawzan","Fawzi","Fayaaz","Fayd","Fayek","Faysal","Fayyad","Fayzan","Fazal","Fazan","Feroz","Ferran","Fida","Fiddah","Fidyan","Fikri","Firas","Firoz","Fizan","Fouad","Fuad","Fudail","Fujai","Furozh","Fuwad","Fuzail","Gamal","Gamali","Ghaith","Ghali","Ghalib","Ghanem","Ghanim","Ghannam","Ghasaan","Ghassan","Ghauth","Ghawth","Ghayoor","Ghayth","Ghazalan","Ghazanfar","Ghazawan","Ghazi","Ghazwan","Ghazzal","Ghiyath","Ghufran","Ghulam","Ghunayn","Ghusharib","Ghusun","Ghutayf","Gohar","Gulab","Gulfam","Gulshan","Gulzar","Haadee","Haaris","Haashir","Haaziq","Habbab","Habeebullah","Habib","Habis","Hadad","Haddad","Hadee","Hadi","Hadid","Hafid","Hafiz","Hafs","Haider","Haikal","Haitham","Haji","Hajib","Hajjaj","Hakeem","Hakem","Hakim","Haleef","Haleem","Halim","Hallaj","Halwani","Hamal","Hamas","Hamd","Hamdan","Hamdhy","Hamdi","Hameem","Hami","Hamid","Hamim","Hammad","Hammam","Hamood","Hamza","Hamzah","Hana","Hanai","Hanash","Hanbal","Haneef","Hani","Hanif","Hanifah","Hannad","Haq","Haris","Harisah","Harith","Haroon","Haroun","Harun","Hasan","Haseeb","Haseen","Hasham","Hashid","Hashim","Hashir","Hashmat","Hasib","Hasnain","Hassan","Hatib","Hatim","Hawshab","Hayaat","Haydar","Hayder","Haytham","Hayyam","Hayyan","Hazim","Haziq","Hesam","Hibah","Hibbaan","Hidayat","Hilal","Hilel","Hilmi","Himayat","Hisham","Hissan","Hooman","Hosaam","Houd","Houda","Hubaab","Hud","Hudad","Hudhafah","Hudhaifah","Hudhayfah","Hujayyah","Hujjat","Humaid","Humair","Humam","Humayl","Humayun","Humd","Humza","Hurairah","Hurayth","Hurmat","Hurrah","Husain","Husam","Husamaldin","Husayn","Husni","Hussain","Hussein","Huthayfa","Huzaifah","Huzayfah","Huzayl","Ibaad","Ibn","Ibrahim","Id","Idris","Iftikhar","Ihab","Ihsan","Ihtesham","Ihtiram","Ihtisham","Ihtsham","Ijaz","Ijli","Ikrimah","Ilan","Ilias","Ilifat","Ilyas","Imaad","Imaan","Imad","Imadaldin","Imam","Imran","Imtiaz","Imtiyaz","Inaam","Inam","Inayat","Iniat","Insaf","Intaj","Intikhab","Intizar","Iqbal","Iqraam","Iqrit","Iqtidar","Irfan","Isa","Isam","Ishaq","Ishrat","Ishtiyaq","Iskandar","Islam","Ismah","Ismail","Israr","Issam","Issar","Istakhri","Ithaar","Itimad","Iyaad","Iyaas","Iyad","Iyas","Izaan","Izyan","Izz","Izzaldin","Izzat","Jaan","Jabalah","Jabbar","Jabir","Jabr","Jad","Jadallah","Jafar","Jaffer","Jahangir","Jahanzeb","Jahdami","Jahdari","Jahiz","Jahm","Jal","Jalal","Jalalaldin","Jaleel","Jalees","Jalil","Jamal","Jamalaldin","Jameel","Jamesha","Jamil","Jan","Jaraah","Jareer","Jari","Jarir","Jariyah","Jarood","Jarrar","Jasim","Jasmir","Jauhar","Jaul","Jaun","Javed","Javeed","Javier","Jawad","Jawdah","Jawdan","Jawhar","Jazib","Jazlaan","Jeelan","Jibran","Jibril","Jihad","Jiyad","Juayl","Jubair","Jubayr","Juhaym","Jul","Juma","Jumah","Jumanah","Jummal","Jumuah","Junaid","Junayd","Jundub","Juthamah","Juwain","Juwayn","Kaamil","Kaashif","Kabeer","Kabir","Kadar","Kadeen","Kadeer","Kadin","Kadir","Kafeel","Kahil","Kaiser","Kajji","Kalbi","Kaleem","Kaleema","Kalil","Kaliq","Kamal","Kameel","Kamil","Kamran","Karam","Kardal","Kareef","Kareem","Karif","Karim","Kasam","Kaseeb","Kaseem","Kashan","Kashif","Kasib","Kasim","Kateb","Katib","Kawkab","Kawthar","Kaysan","Kazi","Kazim","Kedar","Keyaan","Khadim","Khafid","Khairaldin","Khairi","Khairy","Khalaf","Khalam","Khaldoon","Khaldun","Khaled","Khaleed","Khaleel","Khaleeq","Khalid","Khalifah","Khalil","Khalilalallah","Khalis","Khallad","Kharijah","Khasib","Khateeb","Khatib","Khawar","Khayaam","Khayr","Khayri","Khayyat","Khazin","Khidash","Khidr","Khirash","Khoury","Khubaib","Khubayb","Khulayd","Khulus","Khunays","Khuram","Khuraymah","Khurram","Khursheed","Khurshid","Khushbakht","Khushtar","Khuzaimah","Khuzaymah","Kifayat","Kinza","Kishwar","Kurayb","Kutaiba","Labeeb","Labib","Lablab","Lahiah","Laiq","Laith","Lajlaj","Laqeet","Lateef","Latif","Layth","Liban","Limazah","Liyaqat","Luay","Lubaid","Lubayd","Luqman","Lut","Lutf","Lutfi","Maaz","Mabad","Mad","Madani","Madiyan","Madyan","Mahad","Mahaz","Mahbeer","Mahbub","Mahd","Mahdi","Maher","Mahfuj","Mahfuz","Mahir","Mahja","Mahjub","Mahmoud","Mahmud","Mahrus","Maimun","Main","Majd","Majdaldin","Majdi","Majdy","Majid","Makhdoom","Makin","Makki","Malih","Malik","Mamdouh","Mamduh","Mamoon","Mamun","Man","Mandhur","Mansoor","Mansur","Manzar","Manzoor","Maqbool","Maqil","Marghoob","Marghub","Marid","Marudeen","Maruf","Marwan","Marzuq","Masarrat","Mashal","Mashhood","Mashhud","Mashhur","Mashkoor","Masood","Masoud","Masroor","Masrur","Masud","Masum","Masun","Mateen","Matloob","Mawsil","Maymun","Maysarah","Mazhar","Mazin","Mehboob","Mehtab","Mekka","Mensur","Miftah","Mihran","Mihyar","Mika","Mikail","Mimar","Minhaj","Miqdad","Miraj","Mirsab","Misbah","Mishaal","Mishal","Miskeen","Mistah","Miyaz","Moazzam","Mobeen","Moeenuddin","Moeez","Moemen","Mohammed","Mohid","Mohsin","Mokbul","Moosa","Mostafa","Motasim","Motaz","Mounir","Mourad","Muadh","Muafa","Mualla","Muallim","Muammar","Muammer","Muawiyah","Muawwiz","Muayyad","Muballigh","Mubarak","Mubaraq","Mubashir","Mubassir","Mubeen","Mubid","Mubin","Mudabbir","Mudar","Mudasir","Mudasser","Muddaththir","Mueen","Mueez","Mufaddal","Mufakkir","Mufallah","Mufeed","Mufid","Muflih","Mufti","Mughith","Muhab","Muhafiz","Muhaimin","Muhair","Muhajir","Muhammad","Muhanna","Muhannad","Muhanned","Muharrem","Muhayr","Muhdee","Muheet","Muhib","Muhibb","Muhriz","Muhsin","Muhtadi","Muhtashim","Muhyialdin","Muin","Muinuddeen","Muiz","Muizz","Mujab","Mujaddid","Mujahid","Mujazziz","Mujeeb","Mujibur","Mujtaba","Mukarram","Mukhlis","Mukhtar","Mukthadir","Mulayl","Mulham","Mulhim","Mumin","Mummar","Mumtaz","Munaf","Munahid","Munawwar","Mundhir","Muneeb","Muneer","Munib","Munif","Munir","Munis","Munjid","Munkadir","Munqad","Munsif","Muntasir","Muntazir","Munzir","Muqaddas","Muqatadir","Muqbil","Muqtasid","Murabbi","Murad","Mursal","Murshid","Murtaad","Murtada","Murtadaa","Murtadhy","Murtadi","Murtaza","Musa","Musab","Musad","Musaddiq","Musaid","Museeb","Musharraf","Musheer","Mushfiq","Mushir","Mushtaq","Muslih","Muslim","Mussarrat","Mustaeen","Mustafa","Mustafeed","Mustahsan","Mustajab","Mustakim","Mustaneer","Mustaqeem","Mustatab","Muta","Mutahhir","Mutashim","Mutasim","Mutawalli","Mutawassit","Mutayyib","Mutazz","Muthanna","Muti","Muttaqi","Muttee","Muwaffaq","Muyassar","Muzaffar","Muzakkir","Muzammil","Muzhir","Muzzammil","Naadir","Nabeel","Nabhan","Nabigh","Nabighah","Nabih","Nabil","Nadeem","Nadhir","Nadim","Nadir","Nadr","Naeem","Nafasat","Nafees","Nafi","Nafis","Nahid","Naib","Naif","Nail","Naim","Najair","Najam","Najeeb","Najeed","Naji","Najib","Najid","Najih","Najjar","Najm","Najmaldin","Naman","Nameer","Namik","Namir","Naqeeb","Naqi","Naqid","Naqqaash","Naseef","Naseem","Naseer","Nashah","Nashat","Nashit","Nashwan","Nasib","Nasif","Nasih","Nasim","Nasir","Nasiraldin","Nasmi","Nasr","Nasri","Nasser","Nasuh","Natiq","Naushad","Naveed","Navid","Nawaf","Nawaz","Nawfal","Nawwaf","Nayab","Nayif","Nazakat","Nazar","Nazeef","Nazeeh","Nazeem","Nazeer","Nazih","Nazim","Nazir","Nazmi","Nehan","Nibras","Nidal","Nihal","Nijad","Nimr","Nishaaj","Nithar","Niyaz","Nizam","Nizar","Nizzar","Noman","Nooh","Noor","Noorali","Noori","Noraiz","Nour","Noureddine","Nuaim","Nuaym","Nubaid","Nuh","Nuhaid","Nuhayd","Numair","Numan","Nur","Nuraldin","Nuraz","Nurdeen","Nurfirdaus","Nuri","Nurulqiblatayn","Nusayb","Nusayr","Nusrah","Nusrat","Obaid","Omair","Omar","Osama","Owais","Parsa","Parvez","Pervaiz","Qaadir","Qabeel","Qadar","Qadeer","Qadi","Qadim","Qahtan","Qaim","Qais","Qamar","Qani","Qanit","Qareeb","Qaseem","Qasid","Qasif","Qasim","Qatadah","Qawee","Qays","Quadir","Qudamah","Qudoos","Qurban","Qusay","Qutaibah","Qutaybah","Qutb","Qutuz","Raahil","Raamis","Raamiz","Raashid","Rabah","Rabar","Rabbani","Rabee","Rabi","Rabiah","Rabit","Radi","Raees","Rafan","Rafay","Rafee","Rafeek","Rafi","Rafid","Rafik","Rafiq","Ragheb","Raghib","Raghid","Rahat","Raheel","Raheesh","Rahil","Rahim","Rahman","Rahmat","Raid","Raif","Raihan","Rais","Raiyan","Raja","Rajaa","Rajab","Raji","Rajih","Rakeem","Rakhshan","Rakin","Ramadan","Rameez","Rami","Ramih","Ramin","Ramiz","Ramzi","Rani","Raonar","Raquib","Raseem","Rashad","Rashdan","Rasheed","Rashid","Rasil","Rasin","Rasmi","Rasool","Rasul","Ratib","Rauf","Rawahah","Rawdah","Rawh","Rayan","Rayees","Rayhaan","Rayhan","Rayn","Rayyan","Raza","Razam","Razeen","Razin","Reda","Rehan","Rehma","Rehmatullah","Reza","Riaz","Rida","Ridha","Ridwan","Rifaah","Rihab","Risay","Riyad","Riyadh","Riyasat","Rizq","Rizwan","Robeel","Rohail","Roshan","Rowel","Ruhi","Rukanah","Rushd","Rushdi","Ruwaid","Ruwayd","Ruwayfi","Saad","Saadah","Saadat","Saafir","Saahir","Saaiq","Saal","Saaqib","Sab","Sabbir","Sabeeh","Sabeer","Sabih","Sabil","Sabiq","Sabir","Sabri","Sabur","Saburah","Sad","Sadad","Sadaldin","Sadan","Sadaqat","Sadeed","Sadeem","Sadid","Sadik","Sadiq","Sadit","Sadun","Saeed","Safdar","Safeenah","Safeer","Saffar","Safi","Safiy","Safiyaldin","Safiyallah","Safiyy","Safuh","Safulislam","Safwah","Safwan","Safwat","Sagheer","Sahab","Sahar","Saheim","Sahib","Sahil","Sahir","Sahl","Sahm","Sahmir","Saib","Said","Saif","Saifaldin","Saifan","Saifulazman","Saim","Sair","Sairah","Saji","Sajid","Sajjad","Sakhawat","Sakhr","Sakhrah","Salaahddinn","Salaam","Salah","Salahaldin","Salam","Salamah","Salamat","Salar","Saleel","Saleem","Saleh","Salif","Salih","Salik","Salim","Salman","Salsaal","Salsal","Salt","Sameed","Sameer","Sameh","Sami","Samih","Samir","Samit","Samman","Sanaullah","Sanawbar","Saood","Saqer","Saqib","Saqr","Sarab","Sarfaraz","Sarfraz","Sarim","Sariyah","Sarmad","Sarosh","Sarwar","Sati","Saud","Sawa","Sawad","Sawlat","Sawwaf","Sayf","Sayfiyy","Sayhan","Sayid","Sayyar","Sayyid","Seema","Seif","Shaaf","Shaariq","Shabaan","Shabab","Shabah","Shaban","Shabaz","Shabb","Shabbeer","Shabbir","Shabeeh","Shabib","Shad","Shadab","Shadan","Shadeed","Shadhin","Shadi","Shadin","Shafaat","Shafee","Shafeeq","Shafi","Shafin","Shafiq","Shafiulla","Shafqat","Shah","Shahab","Shahadat","Shahan","Shaharyar","Shahbaz","Shaheed","Shaheem","Shaheen","Shaheer","Shahid","Shahin","Shahir","Shahnawaz","Shahrukh","Shahrul","Shahzad","Shahzaib","Shahzor","Shairyaar","Shajee","Shakeel","Shakib","Shakir","Shallal","Shamal","Shamas","Shameel","Shameem","Shamel","Shamil","Shamim","Shammyn","Shams","Shamsaldin","Shamshad","Shamsheer","Shamsideen","Shamsulhaq","Shan","Shaqeeq","Sharaf","Sharafat","Sharaheel","Shareef","Shareek","Sharif","Sharifudin","Shariq","Sharique","Sharjeel","Shaukat","Shawaiz","Shawqi","Shayaan","Shayan","Shaybah","Shazad","Shazeb","Shaziya","Shehran","Shehroze","Shehryaar","Shehyar","Shehzaad","Sheraz","Sheryar","Shibli","Shifa","Shihab","Shihabaldin","Shihad","Shiraz","Shoaib","Shuaa","Shuaib","Shuayb","Shuja","Shukri","Shumayl","Shuneal","Shurahbeel","Shurayh","Shuraym","Siddiq","Sifet","Sikandar","Silah","Simak","Sinan","Siraj","Sirajaldin","Siwar","Sofian","Sohaib","Sohail","Souffian","Subhan","Subhi","Sufyan","Suhaan","Suhaib","Suhail","Suhaim","Suhayb","Suhayl","Suhaym","Suheb","Sulaiman","Sulayk","Sulayman","Sultaan","Sultan","Sumayya","Sumrah","Suoud","Suraqah","Surayj","Surur","Suud","Suwaybit","Suwayd","Sydeek","Syed","Taanish","Taban","Tabassum","Tabish","Taha","Tahawwur","Taheem","Tahir","Tahmeed","Tahmid","Tahoor","Tahseen","Tahsin","Taimallah","Taimur","Taj","Tajaldin","Tajammal","Tajammul","Tajudinn","Talal","Talat","Talha","Talhah","Tali","Talib","Tamam","Tameem","Tameez","Tamim","Tamir","Tamkeen","Tammam","Tanim","Tanveer","Tanwir","Taqiy","Taqiyy","Tarannum","Tareef","Tarif","Tariq","Tasadduq","Tasawwar","Taseen","Taslim","Tasneen","Taufiq","Tauqeer","Tawbah","Tawfeeq","Tawfiq","Tawhid","Tawoos","Tawseef","Taymallah","Taymullah","Taymur","Taysir","Tayyab","Tayyib","Tazeem","Tazneem","Tehseen","Thabit","Thalabah","Thaman","Thamar","Thamer","Thamir","Thaqaf","Thaqib","Tharwat","Thauban","Thawab","Thawban","Thayer","Thumamah","Tihami","Tobias","Toqeer","Tufayl","Tulayb","Tunveer","Turhan","Ubadah","Ubaid","Ubaidah","Ubayd","Ubaydah","Ubaydullah","Ubayy","Udail","Uday","Udayl","Uhban","Ulfat","Umair","Umar","Umarah","Umayr","Umayyah","Umran","Unais","Unal","Unays","Uqbah","Urfee","Urooj","Urwah","Usaim","Usama","Usamah","Usayd","Usaym","Usman","Utbah","Uthal","Uthman","Uwayam","Uzair","Uzayr","Waail","Waddah","Wadi","Wadid","Wafa","Wafeeq","Wafi","Wafiq","Wahab","Wahb","Wahban","Waheed","Wahhab","Wahhaj","Wahib","Wahid","Wail","Wais","Waiz","Wajdaan","Wajdi","Wajeeh","Wajid","Wajih","Wakalat","Wakeel","Wakil","Waleed","Wali","Walid","Walif","Waliuddin","Waliyaldin","Waliyallah","Waqaar","Waqar","Waqas","Waqqas","Ward","Wasay","Waseem","Wasif","Wasil","Wasim","Watheq","Wazir","Wildan","Wisam","Yafi","Yaghnam","Yahya","Yaman","Yameen","Yaqeen","Yaqoot","Yaqub","Yar","Yasar","Yaseen","Yasin","Yasir","Yasser","Yathrib","Yawar","Yawer","Yazan","Yazeed","Yazid","Yoonus","Youssef","Yuhannis","Yunus","Yusef","Yushua","Yusr","Yusri","Yusuf","Zackariya","Zaeem","Zafar","Zafir","Zafrul","Zaheer","Zahi","Zahid","Zahir","Zaid","Zaigham","Zaighum","Zaim","Zain","Zair","Zakar","Zakariya","Zakariyya","Zaki","Zakir","Zakwan","Zaky","Zaman","Zameer","Zamil","Zarar","Zarif","Zaroon","Zarrar","Zayan","Zayb","Zayd","Zayer","Zayn","Zebadiyah","Zeeshan","Zeeya","Zeyad","Zia","Ziad","Ziaud","Zishan","Ziyad","Zohaib","Zohair","Zubair","Zubayr","Zuehb","Zufar","Zuhaib","Zuhair","Zuhayr","Zuhoor","Zulaym","Zulfaqar","Zulfiqar","Zulqarnain","Zunnoon","Zuti"],setup.NAME_arabic_surname=["Abaza","Abbas","Abbas-Ghulam","Abdul-Hafeez","Abdul-Qadir","Abelzada","Abid","Abou","Abu","Afaq","Afnan","Aftab","Ahmed","Ahmed-Mohammad","Ahmed-Shoiab","Ahmed-Zaheer","Ahrari","Ahsan","Aizazuddin","Akhlaqi","Akhtar","Akil","Akram","Akwal","Al-Amri","Al-Ansar","Al-Asmari","Al-Bihmardi","Al-Dalharni","Al-Daye","Al-Deayea","Al-Dosari","Al-Dossadi","Al-Dossari","Al-Dwairan","Al-Farran","Al-Fayyoumi","Al-Habash","Al-Halou","Al-Hardi","Al-Hareem","Al-Jaber","Al-Jahani","Al-Jahni","Al-Jurr","Al-Karachi","Al-Khlaiwi","Al-Masaari","Al-Masri","Al-Mawalhad","Al-Mehalel","Al-Mowaled","Al-Mubi","Al-Mukhtar","Al-Mutadee","Al-Muwalid","Al-Nubi","Al-Owairan","Al-Razi","Al-Sabah","Al-Sahaf","Al-Shahid-Mahmood","Al-Shahrani","Al-Shammari","Al-Sharani","Al-Talavi","Al-Taleqani","Al-Temiyat","Al-Thynniyan","Al-Yaldai","Al-Zeid","Al-bin-Bagheri","Al-bin-Doleh","Al-rhul-Ghias","Al-ul-Yazdi","Ala","Alam","Algosaubi","Ali","Ali-Sadiq","Alielle","Alim-ud-Din","Alkhaiwani","Altaf","Alzeshi","Amer","Ameri","Amin","Amini","Amir","Amirsadeghi","Ammini","Amouzegar","Amuzgar","Andoni","Ansari","Anvari","Anwar","Ardabili","Arfa","Arif","Armanjani","Asad","Asgapur","Ashrafy","Asif","Asir","Aslam-Mohammad","At-Fara","Atef","Atta-ur-Rahman","Avarigan","Awji","Azizi","Azmat","Ba'albaki","Bahamdan","Bahonar-bin-Laden","Bakahasab","Bakhtavar","Bakhtiar","Bani-Sadr","Baraheri","Baraniq","Bari","Bazargan","Berri","Billah","Bin","Butt","Cedmain","Conele","Daei","Dalvand","Dastghayb","Davisadr","Derre","Dhabihiyan","Diba","Dihmubidi","Dihqani","Dilawar","Doka","Dulabi","Ebtehaj","Eftekhari","Elahi","Elena","Elouahabu","Epinard","Estili","Estilidaei","Ettehadieh","Fahandizh","Fakir","Faraj","Farooq","Farrakhan","Fasihuddin","Fatemi","Fazal-Mahmood","Fida","Florelle","Forrughi","Gaffari","Garoussi","Ghatary","Ghazali-Ghulam","Ghiardelli","Ghurani","Gul","Gul-Mahomed","Habibi","Hafeez","Haji","Hallin","Hamed","Hami","Hanif","Haqiqat","Haqiqatju","Haseeb","Hejazi","Hijaz","Hisami","Homayoun","Hoveyda","Husain","Hushmand","Hussain","Ibadulla","Ijaz","Ikram","Imami","Imran","Imtiaz","Inshan","Intikhab","Inzamam-al-Haq","Iqbal","Iravan-bin-Mahood","Ishraqi","Ismail","Izadi","Jafari","Jahangir","Jahanpur","Jalili","Javadi","Javed","Jayhoon-Ahmed","Jerine","Kamal","Kanasani","Karbaschi","Kardar","Karim","Kazemi","Kazimi","Keshuapad","Khadim","Khakpour","Khalid","Khamenei","Khan","Khandil","Khani","Khanlary","Khatami","Khomeini","Khushkhu","Khuzayn","Kordiyeh","Lavergne","Leki","Lemaitre","Longtemps","Madani","Madari","Mahallati-Al-Bin","Mahdavi-Kia","Mahmood","Mahmudi","Mahmudnizhad","Mahomed","Majid","Majidi","Malik","Mansur","Maqsood","Maradi","Maro","Masood","Mazlum","Mehani","Mehr","Meshkat","Miandad","Mihdizadih","Minavand","Misbahi","Moham","Mohammad","Mohsin","Morel","Mossadegh","Moullai","Mu'ini","Mualimi","Muhammadi","Mulla","Mumtaz","Mumtazi","Muqimi","Musavi","Mushtaq","Mushtaq-bin-Mohammad","Mutlaq","Na'imi","Najafi","Nakisa","Nasim-ul-Ghani","Nasir","Nasiri","Naushad-Ali","Nawaz","Nazar","Nazari","Nemazi","Nezam","Niaz","Nirumand","Nissar","Norouzi","Nouri","Pahlavi","Pakravan","Pashazadeh","Pervej","Qashqai","Qazai","Qoli","Rabani","Raboud","Radji","Rafigdoost","Rahimi","Rajida","Rana","Rawhani","Raza","Razmara","Reyahni","Reynaud","Roohizadegan","Rostom","Sabbah","Sabet","Sabiri","Sadiqi","Saeed-Ahmed","Sajjad","Salahuddin","Salam-ud-din","Saleh","Salim","Salimpour","Sanjabi","Sarfraz","Sesnit","Shafaq","Shafquat","Shah","Shahriar","Shahy","Shakoor","Shakra","Shariat-bin-Laden","Shariati","Sharudi","Shia-Agil","Shinji","Shirazi","Shouaa","Shuja-ud-Din","Siham","Siyavushi","Solaimani","Somayli","Sotoudeh","Stictal","Sulimani","Sumech","Surur","Syed","Tabatabai-al-Rhul","Talaqani","Talebi","Taloet","Taanari","Tu'wha","Vafa'i","Vahdat","Waqar","Wasim","Wazir","Yaldai","Yaqtin","Younis","Za'irpur","Zahed","Zahedi","Zanjani","Zarincheh","Ziya-al-Ghulam","Zuabi","Zubromawi","ZulfikarAbedzadeh","af-Ahmus","af-Angilia","af-Armin","af-Ashora","af-Azik","af-Bazra","af-Davood","af-Dometri","af-Dushana","af-Ebdoh","af-Ganet","af-Ghada","af-Guyeline","af-Haba","af-Hafza","af-Hazifah","af-Hisham","af-Islah","af-Izla","af-Jahi","af-Kardyn","af-Karra","af-Katayoun","af-Kimiya","af-Mahala","af-Mubdi","af-Naifa","af-Nazila","af-Owlin","af-Qerik","af-Ramand","af-Rasha","af-Tasa","af-Whyrdh","al-Akir","al-Antiphyllos","al-Azif","al-Belkarth","al-Glessa","al-Hallen","al-Hallin","al-Hallin's","al-Hallins","al-Hllins","al-Miran","al-Morwha","al-Myrkwasa","al-Natedan","al-Ojwambu","al-Sahhah","al-Tahud","al-Tava","at-Abbas","at-Ajwan","at-Amjad","at-Baqar","at-Bergama","at-Dolmir","at-Dorcolm","at-Ebdoh","at-Fada","at-Gamati","at-Ganet","at-Gar","at-Ginal","at-Glina","at-Halma","at-Hassef","at-Hawraz","at-Hollus","at-Housel","at-Jafra","at-Jehat","at-Kalan","at-Karim","at-Khorajah","at-Makela","at-Mardeen","at-Marimah","at-Morad","at-Naruk","at-Nazdar","at-Nazim","at-Ordzan","at-Pawan","at-Pykel","at-Renazh","at-Rusa","at-Sadil","at-Sal","at-Salan","at-Sentinel","at-Shadal","at-Tamina","at-Wardiya","at-Warhpal","at-Werzhan","at-Wildur","at-Yashar"],setup.NAME_demon_female_first_name=function(){const i=["Aag","Karg","Ulthu","Alur","Khark","Urz","Arak","Krau","Uti","Az","Kriv","Uznid","Azik","Kuaz","Virn","Bral","Kudu","Vlaaj","Braz","Luri","Vlag","Bruh","Mulk","Vlash","Draan","Nau","Vluk","Drulg","Nid","Vluzak","Guz","Ninj","Vraz","Haug","Nul","Vulk","Idru","Nym","Xau","Jhaal","Ranag","Xid","Jid","Rilthu","Xul","Jiu","Ruk","Xuraj","Jur","Rulk","Zauv","Jurg","Ruz","Zug","Jurz","Saag","Zuldu","Kaaz","Skaur","Zuv","Pand","Mer"],e=["anil","bau","diu","dusla","giu","ija","izil","jiul","lihyl","lin","lyrr","nalu","rhyl","rula","skiu","sula","ulla","xhiu","zihyl","ziu","emonia","eonia"];let t=setup.rng.choice(i),a=setup.rng.choice(e);return`${t}${a}`},setup.NAME_demon_male_first_name=function(){const i=["Aag","Alur","Arak","Az","Azik","Bral","Braz","Bruh","Draan","Dja","Drulg","Guz","Haug","Idru","Iozu","Jarr","Jhaal","Jid","Jiu","Jur","Jurg","Jurz","Kaaz","Karg","Khark","Krau","Kriv","Kuaz","Kudu","Luri","Mulk","Nau","Nid","Ninj","Nul","Nym","Ranag","Rilthu","Ruk","Rulk","Ruz","Saag","Skaur","Ulthu","Urz","Uti","Uznid","Virn","Vlaaj","Vlag","Vlash","Vluk","Vluzak","Vraz","Vulk","Xau","Xid","Xul","Xuraj","Zauv","Zandad","Zatal","Zug","Zuldu","Zuv","Kkroh"],e=["arag","axus","bru","drul","inu","rohziz","lank","lun","lurr","lurug","nal","odeus","rul","ruzuk","salk","sul","suruk","ull","undak","uvik","xulg","zu","zuk","zzunth","zachar","biicus"];let t=setup.rng.choice(i),a=setup.rng.choice(e);return`${t}${a}`},setup.NAME_demonkin_female_first_name=["Adeo","Affyria","Afloth","Afvari","Agate","Agnemeia","Akata","Akta","Anakis","Angata","Ariwala","Armara","Astaro","Awe","Aym","Azza","Barasatii","Beleth","Belpione","Brell","Brianne","Brixori","Brolsgerbwd","Bryseis","Bune","Carmen","Carrion","Cataclysmia","Clorsatari","Codaermet","Creborys","Cregrea","Crephi","Crezis","Criella","Dagoria","Damaia","Dasolis","Daxori","Decarabia","Dekamma","Dicra","Digrea","Dimqine","Domitia","Doragren","Dorethau","Dorkaria","Dorlaia","Doshia","Dredaza","Drulshasa","Dylora","Ea","Eamaia","Enduring","Ephae","Excellence","Fatahala","Flakk","Flawed","Fremeia","Gadrah","Gadreel","Gangatru","Gati","Gomory","Griborys","Grifirith","Grynkx","Hacari","Hecat","Heleina","Hislypsis","Hisseis","Hoonzo-Gann","Hope","Hrelvesuu","Huntress","Ideation","Iniseis","Insolis","Io","Iritra","Ishte","Jansa","Jezebeth","Kalhiri","Kali","Kallista","Kasdeya","Keriayn","Kixathi","Krixanti","Kvotai","Lachira","Lelista","Lenise","Lerissa","Levatra","Levki","Levphi","Lilith","Lilseis","Lilwure","Lyranth","Lyssieth","Makaria","Malaia","Manea","Manise","Markosian","Marluxene","Marlypsis","Marqine","Marruz","Mastema","Mati","Mavari","Mecretia","Milvia","Misspira","Mithpione","Mithseis","Naamah","Nahala","Natdani","Natdoris","Navine","Nefirith","Nelrene","Nemeia","Nenarei","Nerazakan","Nericia","Nethwala","Nija","Nikalia","Nikaela","Nomo-Rerak","Nuzara","Obtorgren","Ontagoor","Orianna","Osah","Pesmine","Pesxori","Pesza","Phelaia","Phelith","Piety","Precious","Prosperine","Purah","Pyra","Qufaris","Qumeia","Quuphis","Quza","Rain","Raynia","Rayyaima","Rayzara","Relentless","Reverence","Rieta","Rifirith","Rihala","Riki","Ripione","Rodoris","Ronirith","Ronobe","Ronwe","Rykuna","Sadoris","Salista","Samantia","Sanctity","Sarcyra","Seddit","Seere","Sekhmet","Semyaza","Shapione","Shava","Shax","Shayaifa","Siess","Skalhexx","Sorath","Squale","Stela","Sthorha","Sunshine","Szekesnarana","Taebod","Tenerife","Tephra","Termina","Thrasotin","Traya","Trilvath","Udico","Ukaezai","Ulfri","Urata","Uzza","Vapula","Varnish","Velark","Velavia","Veldoris","Venissia","Vepar","Verin","Vika","Vintev","Vonshala","Wonshala","Xorolagora","Xotosvel","Yoracyra","Yoratish","Yunise","Yuza","Yx","Zaidi","Zaihala","Zaphi","Zazes","Zeffij","Zenaida","Zethaya"],setup.NAME_demonkin_male_first_name=["Abad","Aetrut","Aetxikas","Ahrim","Akezel","Akmen","Akmenos","Amkaos","Amnon","Andmenos","Andram","Andrius","Andshoon","Andxikas","Anhaedra","Ankhus","Aranrai","Archar","Archidius","Arkadi","Arkdos","Arkreus","Arkron","Armarius","Armillius","Aruz","Arxes","Arzer","Astar","Atris","Balam","Balmoloch","Barakas","Baremon","Barxus","Bathin","Bogtro","Caim","Calderax","Carilius","Carvius","Casmir","Casxes","Cavian","Cenereth","Chant","Cheer","Chem","Cherish","Chorum","Cimer","Corynax","Cressel","Dacian","Daelius","Daktivus","Damaceus","Damadius","Damakos","Damxik","Danrok","Decimeth","Demedor","Demerian","Demis","Dharrut","Dias","Dogas","Dolor","Dregas","Druitularg","Dynachus","Ebral","Ecstasy","Ekemon","Ekris","Elord","End","Entekkar","Erakos","Erunas","Esteem","Euron","Fenriz","Forcas","Garemon","Garros","Garshoom","Garthos","Gatanas","Gloom","Gnilokelo","Grassus","Grel","Grexev","Gueira","Guelius","Guezer","Guxes","Habor","Hadu","Halius","Heleph","Historoth","Horchar","Hzu-Hakan","Iados","Ibomez","Ifriz","Imago","Incirion","Kaemon","Kagrot","Kairon","Kaixire","Kaixus","Kalaradian","Kamien","Kamus","Karnon","Karreus","Kathutet","Kazarvel","Kazimir","Kehothar","Kelax","Ketkarkux","Khash-Ti","Kilmenos","Kilrai","Kilvius","Kkhrogo","Koscis","Koszer","Kothutuilk","Krazzt","Krosogar","Kyngogurth","Kzandro","Leucis","Lokeira","Machem","Maetheus","Maleichar","Malfias","Malivus","Mamnen","Mantus","Marbas","Marchion","Mavdos","Mavil","Melech","Menerus","Merihim","Methats","Modean","Mordai","Mormo","Morthos","Morxikas","Morxius","Namazeus","Nariam","Nazenaechar","Nensis","Nicor","Nirgel","Obb","Odd","Oriax","Orthe","Ozira","Ozmong","Pahtrok","Paymon","Pelaios","Prismeus","Purson","Pyranikus","Qemuel","Raam","Ralrus","Ralxire","Ralxus","Ranyu","Rathine","Razortail","Reive","Rimmon","Riparius","Rolthus","Salchar","Sammal","Sejanus","Seris","Severian","Shareus","Sharis","Siege","Sirakas","Sirron","Skachar","Skamos","Skaxius","Skoorn","Skoria","Solace","Solkyn","Stegakyx","Suffer","Sumeer","Syken","Tachnim","Tanchelm","Tarkatix","Tarkus","Tethren","Thamuz","Therai","Tholiakke","Thrasotin","Thymeros","Thynerias","Thyrakir","Timtem","Torgo-Rix","Torment","Trickery","Tuzunkykz","Ukkawoon","Uldun","Urius","Urxik","Urxus","Utt","Vaekar","Vaius","Valafar","Valcis","Valira","Valron","Valxikas","Vassago","Velehk","Verkynvayl","Vregas","Vyrotesn","Wadracki","Waltore","Weary","Woe","Xalxorkig","Xappan","Xarmenos","Xarxes","Xerek","Yera","Ykal","Zepar","Zephan","Zerer","Zerrai","Zeth","Zevon","Zexxil","Zolgar","Zorron","Zusiak","Zuvumion","Zzedenkathik"],setup.NAME_demonkin_surname=["Ballard","Bedrich","Benak","Benvolio","Carnavon","Celik","Cerma","Copperhearth","Demir","Dirke","Donoghan","Drumwind","Eleftheriou","Erbil","Ereghast","Evermead","Falken","Fallenbridge","Faringray","Fryft","Girgis","Goldrudder","Gomec","Griswold","Hackshield","Hamlin","Hartman","Huba","Incubore","Iscitan","Janda","Jeras","Kirca","Kreel","Kroft","Krynt","Lavant","Leyten","Lynchfield","Madian","Mansur","Meklan","Moonridge","Muhtar","Navaren","Netheridge","Ningyan","Norris","Oakenheart","Onstingim","Oyal","Ozdemir","Paradas","Pekkan","PieterIscalon","Polat","Ratley","Redraven","Rigirre","Rockharvest","Sahin","Samm","Sarzan","Sawalha","Talandro","Targana","Thom","Torzalan","Vadu","Varcona","Varzand","Vrye","Welfer","Wendell","Wilxes","Wintermere","Zatchet","Admon","Amarzian","Ambershard","Ambert","Anlow","Arkalis","Biljon","Blackboard","Brada","Cuttlescar","Dalkon","Demoneye","Dhrur","Eandro","Fletcher","Flykick","Gullscream","Hyden","Ibrarvi","Jabran","Kaya","Lanik","Mubarak","Nacarra","Novak","Ongald","Paradas","Pyncion","Quentin","Ryber","Sain","Sevendeath","Sevenson","Talfen","Thom","Umbermoor","Vinan","Volar","Witchth","Wolfram","Yilmaz"],setup.NAME_dragonkin_female_first_name=function(){const i=["Abra","Har","Phrixu","Adastra","Helio","Porphyro","Adra","Huro","Pyra","Anca","Iul","Rhada","Andra","Jalan","Rhe","Arag","Jarzem","Rhodo","Archo","Jazra","Rau","Atra","Jurga","Sar","Bar","Keruxa","Sarcu","Bara","Kralka","Sarda","Beru","Lazulo","Scarva","Bhakri","Majuri","Sidereo","Bia","Malacho","Skhia","Bra","Mar","Sulchru","Brado","Marmora","Tchalcedo","Brima","Melkar","Tchazar","Cadra","Orgra","Trocho","Chro","Ouro","Vra","Chryso","Perido","Zalar","Glau","Phoro","Zerul","Nafaa","Naha","Mir","Naas","Joorah","Maar","Yolna","Alex"],e=["bradaxis","calchaxis","cordaxis","lagonis","malaxis","manthysa","mordaxis","nadralix","naluxis","neriaxis","phylaxis","voraxis","vorunga","xenoris","zuthraxis","zzebraxis","zzemalis","bazia","borossa","mandrossa","viir","thurna","strasza","laarum","rahmaar","grontiid","laamnir"];let t=setup.rng.choice(i),a=setup.rng.choice(e);return`${t}${a}`},setup.NAME_dragonkin_male_first_name=function(){const i=["Abra","Adastra","Adra","Aether","Al","Anca","Andra","Arag","Archo","Atra","Bah","Bar","Bara","Beru","Bhakri","Bia","Bra","Brado","Brima","Cadra","Chro","Chryso","Dur","Glau","Har","Helio","Huro","Iul","Jalan","Jarzem","Jazra","Jurga","Kaal","Keruxa","Kralka","Kro","Kru","Laat","Lazulo","Lokke","Majuri","Malacho","Mar","Marmora","Melkar","Mu","Odah","Orgra","Ouro","Paar","Perido","Phoro","Phrixu","Porphyro","Pyra","Rau","Relo","Rhada","Rhe","Rhodo","Sah","Sar","Sarcu","Sarda","Scarva","Sidereo","Skhia","Sulchru","Sur","Tchalcedo","Tchazar","Thur","Ti","Trocho","Viin","Vos","Vra","Vul","Yah","Zalar","Zerul","Iozu"],e=["amat","bazius","boros","bradax","calchax","cordax","duin","fahlaar","fire","fiir","gliiv","grondu","jotnaak","kunaak","lagon","lilargus","lokdaan","loknir","lokzin","malax","mandros","manthys","mordax","mulnir","nadral","nahkriin","nalux","neriax","nikiv","phylax","roniir","rotaar","rotnax","selok","sulhah","thurnax","thuryol","tiiz","turuth","viing","viintaas","vokun","vorax","vorung","vulon","xenor","ziikrel","zuthrax","zzebrax","zzemal"];let t=setup.rng.choice(i),a=setup.rng.choice(e);return`${t}${a}`},setup.NAME_drow_female_first_name=["Aamela","Aamrila","Aarela","Adansa","Adosa","Adosi","Adrasi","Adrullu","Adrusu","Adryn","Aduri","Aerona","Aeyne","Alalura","Alaru","Alarvyne","Alavani","Alavesa","Aldyna","Aldyne","Alenus","Aleri","Alfe","Alicon","Alli","Alma","Almise","Almse","Almsi","Aloie","Alonisea","Alsal","Alurami","Aluri","Alurue","Alvela","Alveno","Alves","Alvesi","Alvila","Alvura","Alya","Alynu","Amila","Amili","Anaba","Andalin","Andilan","Andilo","Andilu","Ane","Aneyda","Angahran","Angharal","Ani","Anila","Anis","Anisa","Anise","Aphia","Aralosea","Aralosi","Aramea","Aranea","Arara","Arela","Areyne","Arilu","Arisa","Arns","Arnsa","Arnsi","Aroarise","Artisa","Arvama","Arvamea","Arvela","Arvena","Arvso","Aryne","Aryni","Aryvena","Aspera","Athesa","Athesie","Aurona","Avoni","Avrusa","Aymillo","Badala","Badama","Badami","Badila","Badilia","Bala","Balaru","Balen","Baleni","Balsa","Balsia","Balynu","Bameli","Bameni","Banda","Barenziah","Bedena","Bedenea","Bedyna","Bedynea","Bedyni","Bekfrydde","Bela","Belderi","Belera","Beleru","Belosi","Belya","Benae","Bendyni","Bera","Berada","Berari","Berela","Betina","Bevene","Bevin","Beyte","Bidia","Bidsa","Bidsi","Biiri","Bili","Bilsa","Binayne","Birama","Birila","Bivala","Bivale","Bivessa","Blivisi","Boderi","Boderia","Bodsa","Boldrisa","Bolnora","Bothisii","Bralsa","Bralsea","Bralsi","Brara","Brasla","Bravaria","Bravora","Breda","Bredami","Bredasu","Brela","Brelaca","Brelayne","Brelda","Brelyn","Brelyna","Brelynd","Brema","Brerayne","Breva","Brevasu","Brevosi","Brildraso","Brilnosu","Bronosa","Burila","Buronii","Butheli","Byla","Cadiva","Cindiri","Cloya","Daela","Dala","Dalami","Daliina","Dalmi","Dalnorea","Dalora","Dalsa","Dalse","Dalsi","Dalyne","Damisi","Danaronea","Danasi","Dandea","Dandera","Dandrii","Dandynea","Danis","Danoso","Danso","Darane","Dareru","Dariili","Darili","Daroso","Darva","Darvala","Darvame","Darvasa","Darvynea","Dasila","Dathlyn","Davela","Davilia","Dayas","Daymi","Dayna","Daynali","Daynas","Daynasa","Daynea","Dayni","Daynil","Daynila","Daynillo","Delatha","Deldasa","Deldri","Deldrise","Delmene","Delte","Delyna","Dematah","Deminah","Denu","Derami","Derana","Derar","Derayna","Deria","Dervera","Diina","Dilami","Dileni","Dileno","Dilvene","Dilyne","Dinara","Dinaria","Dinere","Dinuro","Dinya","Dira","Diradeni","Dirara","Diren","Direnna","Dirilu","Dithisi","Dolmesa","Dolsa","Dolsia","Dolvara","Dolvasie","Domesea","Domi","Donta","Dorisa","Dorynu","Dothasi","Dovesi","Dovrosi","Dradas","Drala","Dralane","Dralasa","Dralcea","Dralia","Dralisi","Dralora","Dralosa","Dralsea","Draramu","Drarana","Drarayne","Dratha","Drathyra","Dravusa","Dravynea","Drayna","Dredena","Dredyni","Drelasa","Drelyne","Drendrisa","Dreska","Dreveni","Dreyen","Dreyla","Drilame","Driloru","Drireri","Drissa","Drivanas","Drolora","Drorayni","Drulene","Drurile","Duldresi","Dulnea","Dunveril","Durena","Duroni","Earila","Edrasa","Edrisi","Edryn","Edryno","Edrys","Edwina","Eldrasea","Eldri","Eldrilu","Elitai","Elmera","Elmussa","Elneri","Elvali","Elvasea","Elvasia","Elyna","Elynea","Elynisi","Elynu","Endase","Endroni","Enura","Eralane","Eraldine","Erdyno","Erila","Erirvase","Erivase","Ernse","Eroni","Ervesa","Ervona","Ervyla","Ervyna","Ervyni","Ervynu","Ethal","Ethasi","Evesa","Evessa","Evilu","Evisi","Evylu","Fadase","Fadile","Falan","Falanu","Falena","Falora","Faltha","Falura","Famdii","Famyne","Fanasa","Fanisea","Fanuse","Faral","Faralenu","Farare","Faras","Farayn","Farena","Faric","Farona","Farusea","Faryon","Farys","Fathasa","Fathusa","Favani","Favel","Favela","Favilea","Favise","Favona","Fealu","Fedrasa","Fedura","Feduria","Felara","Feldrasa","Feldrelo","Feldsii","Felisa","Felmena","Felmina","Felsa","Felsu","Fenila","Feralea","Ferdyn","Ferena","Ferili","Ferise","Ferone","Ferva","Fervsea","Ferynu","Fethesena","Fevasa","Fevila","Feyne","Fieria","Fieryra","Filu","Folsi","Folvalie","Fomesa","Fonari","Fonas","Fondryn","Foni","Fonira","Forvse","Furoni","Furu","Fyrayn","Fyrona","Gabriella","Gadasu","Gadela","Gadeneri","Gadila","Gadsi","Gadyni","Galas","Galasa","Galdal","Galdas","Galdsa","Galeri","Galero","Galisa","Galore","Galori","Galotha","Galsa","Galsi","Galsu","Galuro","Galvene","Galviso","Galyn","Gami","Gamyne","Gandela","Gandilla","Gandosa","Garalo","Garas","Gariasa","Garil","Garila","Garyne","Gelaa","Gelana","Gelii","Gena","Gilse","Ginadura","Gindrala","Gindur","Girara","Girva","Girvani","Girynu","Glistel","Godyna","Golana","Golena","Golmerea","Golveso","Golvy","Golvyni","Gomeso","Gorenea","Gorili","Gorven","Grona","Guldrise","Gulena","Gulvilie","Gureryne","Guroanii","Guronii","Gynisi","Hadrill","Hala","Haleneri","Hanala","Hanu","Helma","Helseth","Hlana","Hlaren","Hlava","Hlavora","Hlendrisa","Hlenia","Hlethena","Hlevala","Hlireni","Hlisi","Hlodala","Hlura","Holdala","Idari","Idera","Idesa","Idrasa","Idren","Idrenia","Idrenie","Idria","Idronea","Idroni","Idroso","Idula","Ienasa","Ienase","Ienaso","Iirila","Ildari","Ildrasai-daro","Ilmani","Ilmeni","Ilmyna","Indra","Indrasa","Indrasi","Indrela","Indrele","Indriian","Indririi","Inera","Ineria","Inisa","Inise","Iriana","Irileth","Irna","Irvama","Irvina","Irvsie","Iry","Isabeau","Ithrini","Ivaynel","Ivela","Iveri","Ivramia","Ivramie","Ivrisa","Ivrosa","Jenassa","Jinrisa","Kalara","Kalina","Karliah","Kireth","Kylia","Ladrasa","Lalis","Lathisa","Lauravenya","Laureva","Leaneth","Lena","Leyla","Lirielle","Lirona","Livisii","Llaalamu","Llaalsa","Llaami","Llaari","Llandrale","Llandreri","Llarara","Llarevis","Llaros","Llarusea","Llasi","Llathasa","Llathise","Llathyno","Llavana","Llavane","Llavelea","Llavesa","Llaynasa","Llayne","Lledsa","Lledsea","Llemisa","Llensi","Llerusa","Llevana","Llirala","Llivas","Llivia","Llondresa","Llorayna","Llotha","Llunela","Lodyna","Lolethys","Lorara","Lorolu","Louna","Luaffyn","Luranor","Luryne","Madayna","Madaynu","Madrale","Madrana","Madria","Madura","Maedini","Maeli","Maera","Malarel","Malori","Malsa","Malsia","Malven","Malvi","Malyani","Mamyne","Manara","Manse","Manwe","Maralie","Marasa","Maren","Marena","Mari","Mariia","Marila","Marilia","Marise","Marlyn","Maronii","Marwyn","Mathesa","Medila","Medilia","Medresi","Mehra","Melila","Melisi","Melsu","Meluria","Melvona","Melvuli","Melvure","Mensa","Meralyn","Meralys","Meram","Merarii","Meriath","Merilar","Merona","Methulu","Meva","Mevrenea","Mevura","Mevure","Miara","Midiri","Midrasi","Midura","Miiga","Miirist","Milara","Milesa","Milia","Milore","Miluru","Milva","Milvela","Milvonu","Milyne","Minara","Minasi","Mindeli","Mindelyn","Mirasa","Miraso","Mireli","Mirili","Mirise","Mirnelea","Mirnsa","Mirri","Mirusu","Mivani","Mivanu","Mivryna","Morami","Mornsu","Moroni","Morusu","Morvani","Movisa","Muldroni","Mulvi","Mulvise","Mulvisie","Mundrila","Murela","Muvrulea","Muvulrea","Mylis","Myn","Myvryna","Nadene","Nadie","Nalami","Nalasa","Nali","Nalmila","Nalsia","Nalsie","Nalvilie","Nalvyna","Nandri","Nara","Nardhil","Nareb","Nareen","Naresa","Narese","Narile","Narilii","Narisa","Nartisa","Nartise","Naryu","Nashyv","Nathala","Nathyne","Nedeni","Nedi","Nedrasa","Nela","Nelmia","Nelmyne","Neloren","Nelso","Nelvana","Nendrii","Nendryl","Nephothal","Nerari","Neria","Nerile","Nerise","Nervana","Nervyna","Nerys","Nevama","Nevena","Nevrasa","Nevrila","Nevusa","Neyna","Nida","Nidara","Nidryne","Nila","Nileno","Nilera","Nilonii","Niluva","Nilvyn","Nilyne","Nina","Ninave","Ninla","Nirasa","Nireli","Nirelia","Nivama","Nivene","Nodryn","Noldrasi","Norasa","Noreni","Nothas","Nothasea","Noveni","Novrynea","Nudryn","Nuleno","Nulwrila","Nurara","Nurisea","Nurona","Nurvyna","Nuula","Odesa","Odrasa","Odrys","Odyna","Olvyia","Olvyne","Omesu","Orama","Orani","Orara","Orea","Orero","Orona","Orvana","Orvona","Oryla","Qyss","Radene","Radrase","Rala","Ralasa","Raldenu","Ralsa","Ralsynilsa","Ramalii","Ramavel","Rami","Ramila","Ramu","Rana","Rania","Ranis","Ranosa","Ranyna","Rarili","Rarusi","Rarusu","Rarvela","Rathisa","Rathyne","Ravani","Ravania","Ravel","Ravela","Raven","Ravila","Ravoso","Rayna","Raynasa","Raynil","Raynila","Rela","Relamu","Reldsii","Relenila","Relmerea","Relmeria","Relmyna","Relosa","Relvese","Remasa","Rena","Rendrasa","Renkathi","Rerilie","Rernel","Reron","Rerynea","Resetta","Revisii","Reynel","Reynis","Rianor","Ridena","Ridinna","Riina","Riinsi","Rila","Rilasi","Rilvase","Rinori","Riray","Riraynea","Rironi","Ris","Risa","Rolasa","Rudrasa","Runethyne","Rurvyn","Ruthrisu","Ruvali","Ruvene","Ryna","Saalu","Sadal","Sadela","Sadelia","Salama","Salima","Salina","Salora","Salori","Salver","Saly","Salyni","Samtri","Sanas","Sanaso","Sarun","Saruse","Satha","Sathasa","Sathdira","Satheri","Sathi","Sathryn","Satyana","Sava","Saveri","Savesea","Savi","Savila","Savile","Sayla","Sayne","Sedris","Sedura","Sedyni","Sehlena","Sela","Selveni","Selvura","Sem","Semoa","Sen","Sena","Senise","Seraali","Serana","Serila","Seritath","Sernsi","Servyna","Seryna","Seryne","Sethan","Sethesi","Sethisa","Sevame","Sevisa","Sevy","Sevyni","Seyne","Seyrena","Shelethys","Shiralas","Shra","Sia","Siid","Siila","Silen","Sirari","Sirili","Sirilu","Sivisia","Sodra","Sodrara","Solryn","Sondryn","Sorosi","Sovali","Sovi","Sovisa","Suldreni","Suldrini","Surii","Suronii","Sursi","Suvaris","Sydra","Synda","Tadara","Tadera","Taderi","Tadrose","Taelu","Talama","Talamu","Talare","Talari","Talmeni","Talmsa","Talsi","Talsyne","Taluri","Taluro","Talvini","Tama","Tamira","Tanar","Tanasa","Tandasea","Tanisa","Tanisie","Tanusea","Tarani","Tarania","Tarvili","Tavilu","Tavya","Tavynu","Tedas","Tedoran","Tedysa","Telare","Teldyni","Teleri","Telura","Temisa","Tenara","Tenaru","Tendren","Tenisi","Terenu","Tereri","Teril","Ternu","Teroni","Teruise","Teryne","Tevynni","Thalurea","Thavere","Thelama","Thelsa","Thelvamu","Thera","Therana","Thilse","Thovasi","Thurisea","Tifosi","Tildsi","Tilena","Tilenra","Tilisu","Tilore","Tilse","Tilu","Tinaso","Tirasie","Tirele","Tirvina","Tivela","Tolisi","Tolmera","Tolvasa","Tolvise","Tolvone","Tonas","Tonasi","Toranu","Torasa","Torosi","Tovisa","Traldrisa","Trayna","Traynili","Trayniria","Tredare","Tredere","Tremona","Trerayna","Triev","Trili","Trivura","Tumsa","Tunila","Tuvene","Tuvenie","Tuveso","Udrasi","Ulene","Ulenea","Uleni","Ulmesi","Ulmiso","Ulvena","Ulveni","Ulyne","Ulyno","Undena","Unila","Urada","Urandile","Urani","Urava","Uravasa","Urene","Uresa","Ureso","Urila","Urili","Urnsi","Urona","Urrila","Urtisa","Urtiso","Uryne","Uthisii","Uupse","Uvisea","Uvoo","Vadeni","Vadramea","Vadusa","Vadyne","Vaireno","Vala","Valasa","Valesu","Valveli","Valvesu","Valvosa","Valyia","Valyn","Valyne","Vamoni","Varasa","Varenu","Variah","Varila","Varona","Varoni","Varvsa","Vaveli","Vayne","Vedelea","Vedyne","Velanda","Velas","Veldrana","Velsa","Velyna","Venae","Venasa","Vendrela","Venoni","Veran","Veranim","Verara","Veresa","Verilu","Vermethys","Veru","Vess","Vethisa","Vevrana","Veya","Vila","Vilasti","Vilrani","Vilvyni","Vim","Vindamea","Vinden","Vindyne","Vireveri","Viruse","Visthina","Vivyne","Vlaasti","Vlesyl","Voldsea","Volene","Volmyni","Volyn","Voneri","Vrali","Vuldronu","Vulyne","Vuri","Vurila","Wren","Xand","Yakin","Zaristesi"],setup.NAME_drow_male_first_name=["Aanthis","Adaves","Adavos","Adil","Adol","Adon","Adondasi","Adosi","Adovon","Adras","Adren","Adrerel","Adril","Aeren","Alam","Alamdos","Alanil","Alarel","Alberic","Aldam","Aldryn","Alds","Alexadrin","Almas","Almerel","Alms","Alnas","Alonas","Alval","Alvan","Alven","Alvis","Alvon","Alvor","Alvos","Alvur","Ambarys","Amil","Anas","Andel","Anden","Anderin","Andilo","Andril","Anel","Anes","Angaredhel","Angaril","Angarthal","Ano","Anral","Anylos","Anyn","Aras","Arayni","Arelos","Arelvam","Aren","Arendil","Areth","Arethan","Arethil","Arilen","Arith","Arnas","Arns","Aroa","Aron","Aronel","Aroni","Aroth","Arsyn","Arvel","Arven","Arver","Arverus","Arvin","Arvs","Arvyn","Arvys","Aryo","Aryon","Ashur","Athal","Athanas","Athanden","Athando","Athelyn","Ather","Athires","Athis","Athones","Athyn","Aval","Avo","Avon","Avos","Avron","Avrus","Avus","Avys","Aymar","Azaron","Baem","Baladar","Baladas","Baldan","Balen","Balir","Balis","Balras","Balver","Balves","Balvos","Balyn","Balynor","Banden","Bando","Banor","Banus","Barayin","Baren","Barilzar","Baros","Barusi","Barusil","Barvyn","Barys","Bedal","Beivis","Belas","Beldrose","Beldun","Belmyne","Belos","Belron","Belronen","Bels","Belvin","Belvis","Belvo","Belyn","Benar","Benaril","Beneran","Benus","Beranzen","Beraren","Berel","Berela","Berol","Beron","Bertis","Bervaso","Bervon","Bervyn","Bethes","Bevadar","Beyta","Biiril","Bildren","Bilen","Bilos","Bilotan","Birer","Bivale","Bodsa","Bolay","Bolayn","Boler","Bolnor","Bolor","Bols","Bolvus","Bolvyn","Bolyn","Bongond","Boran","Boril","Boryn","Borynil","Bothus","Bovis","Bovoril","Bradil","Bradyn","Braladar","Bralas","Bralen","Bralis","Bralos","Brals","Bralyn","Brander","Brara","Brarayni","Bratheru","Brathus","Bravosi","Bravosil","Bravynor","Braynas","Brelan","Brelar","Breleros","Brelo","Brelyn","Brerama","Brethas","Brethis","Breves","Brevs","Breynis","Breyns","Breynshad","Brilnosu","Brilyn","Briras","Brivan","Broder","Broris","Brothes","Buram","Cadsu","Calden","Casimir","Cason","Charadin","Cylben","Da'ravis","Daeril","Dalam","Dalarn","Daldur","Daledan","Dalen","Dalim","Dalin","Dalmil","Dalmir","Dalomar","Dalos","Dalosil","Dals","Dalvus","Dalyn","Danaat","Danar","Dandras","Dandril","Danel","Daneras","Danir","Danmon","Danus","Danys","Daral","Daras","Daren","Daris","Darlas","Darns","Daroder","Dartis","Daru","Darvam","Darvasen","Darvynil","Daryn","Dastas","Dather","Dathus","Davak","Davas","Davenas","Davis","Davur","Daynas","Daynes","Daynil","Dedaenc","Dedaenil","Dedras","Del","Deleren","Delmon","Delmus","Delos","Delvam","Delvoni","Dendras","Denthis","Denus","Deras","Dethis","Dethisam","Dethresa","Deval","Devas","Diendus","Diiril","Dilmus","Dils","Dinor","Diram","Direr","Dirver","Dithis","Div","Divayth","Dohna","Dolmyn","Dolnus","Dolril","Dolyn","Dondos","Donen","Donus","Doril","Dovor","Dovres","Dovyn","Dralas","Dralnas","Drals","Dralval","Dram","Dramis","Dranas","Drandryn","Dranos","Dranoth","Drarayne","Drarel","Draren","Draron","Drarus","Draryn","Drathas","Drathus","Drathyn","Draval","Dravasa","Dravil","Dravin","Dredase","Drel","Drelas","Drelayn","Drelden","Drelis","Drels","Drelse","Drelyth","Drerel","Drevis","Dreynis","Dreynos","Dreyns","Dridas","Dridyn","Drinar","Drival","Drivas","Drodos","Drondar","Dronos","Drores","Droval","Drovas","Drovos","Drulis","Druls","Drulvan","Dubdil","Duldrar","Dulenil","Dulmon","Dulvis","Dunel","Dural","Durel","Duren","Durodir","Dururo","Duryn","Dyleso","Dylyn","Dynus","Eanen","Edd","Edras","Edril","Eithyna","Elam","Eldil","Eldrar","Elethus","Elms","Elmussa","Elo","Elvas","Elvil","Enar","Endar","Endril","Endris","Endryn","Endul","Eno","Enrith","Enthis","Erandur","Eraven","Erebil","Erene","Erer","Ereven","Eris","Ernil","Erns","Eron","Eronor","Eronos","Erranenen","Ervas","Erver","Ervis","Ethenen","Ethes","Ethyan","Ethys","Eurnus","Evis","Evo","Evos","Evul","Fadar","Faderi","Fadren","Falam","Falas","Faldrus","Falen","Falseth","Falso","Falvel","Falvis","Fanvyn","Farvam","Farvyn","Farwil","Faryl","Fathis","Favar","Favas","Favel","Faven","Faver","Faves","Fedar","Fedris","Felas","Felayn","Felen","Felisi","Felrar","Felsen","Felvan","Felvos","Felvyn","Femer","Fendel","Fendell","Fendros","Fendryn","Fennus","Fenus","Feran","Feranos","Ferasi","Ferele","Feril","Ferul","Feruren","Fervas","Fervyn","Fethis","Fevris","Fevus","Fevyn","Firon","Folayn","Folms","Foloros","Folvys","Folyni","Fons","Fonus","Forven","Foryn","Fothas","Fothyna","Foves","Fovus","Frathen","Furen","Furil","Furon","Fyrayn","Gadayn","Gaden","Gadris","Gaelion","Galam","Galar","Galdres","Galdrus","Galen","Galgalah","Galiel","Galis","Galmis","Galmon","Galms","Galos","Gals","Galtis","Galur","Gamin","Ganalyn","Ganthis","Ganus","Garan","Garen","Garer","Garil","Garis","Garisa","Garnas","Garvas","Garvs","Garyn","Gathal","Gavas","Gavesu","Gavis","Gavros","Gavryn","Gedras","Gedsar","Geldis","Gelds","Gendyn","Geril","Geron","Gerren","Gethan","Gethis","Gidain","Gidar","Giden","Giiril","Gilan","Gilas","Gilasi","Gilen","Gilmyn","Gils","Gilur","Gilvas","Gilyan","Gilyn","Gilyne","Gindas","Ginur","Girano","Giras","Giren","Giron","Giruss","Girvas","Giryn","Golar","Goldyn","Goler","Gols","Golun","Golven","Goralas","Goras","Gordol","Goren","Goris","Goron","Gorour","Gorvas","Gorverys","Gorvyn","Gothren","Goval","Govar","Goveled","Govil","Govyth","Gragus","Grell","Gulmon","Guls","Gural","Gureryne","Guril","Hadril","Haladir","Haldyn","Halseth","Hamen","Harlin","Harvyn","Hekvid","Helseth","Hennus","Hervil","Hiath","Hilan","Hladvyr","Hlanas","Hlarei","Hlaren","Hlaril","Hlaroi","Hlen","Hlenil","Hlenir","Hleras","Hleseth","Hloris","Hloval","Hort","Idras","Idrono","Idros","Ienas","Ildos","Iledas","Ilem","Ilen","Ilet","Ilvar","Ilvel","Ilver","Indaryn","Inelyn","Iner","Irarak","Iraruk","Irasil","Irer","Ireril","Irvalam","Irver","Irvir","Irvulil","Ithis","Ivulan","Ivulen","Jiub","Jubesil","Kallin","Kanat","Kareth","Kilao","Kiliban","Knudvarr","Kovan","Krem","Krilat","Kura","Kylius","Larilvor","Larthas","Lassen","Len","Lenam","Lendras","Lenel","Liam","Liiril","Lirtis","Llaalam","Llaals","Llaarar","Lladrelo","Llanas","Llandras","Llandres","Llandris","Llandryn","Llanel","Llanvyn","Llarar","Llarel","Llaren","Llaro","Llarol","Llavam","Llenus","Lleran","Llerar","Lleras","Lleril","Lleris","Llero","Llether","Llevas","Llevel","Llevule","Lliram","Lliros","Lliryn","Llivam","Llivas","Lloden","Llodus","Llonas","Llondryn","Llonvyn","Lloros","Llovyn","Llovys","Lludyn","Llurour","Lluther","Lorgresil","Loryvn","Luren","Maddu","Madov","Madran","Madras","Madres","Madrus","Madsu","Malan","Malar","Maldus","Malkur","Mallam","Mallas","Malni","Mals","Malthyr","Malur","Maluril","Malyn","Manabi","Mandran","Mandur","Mandyn","Manel","Maner","Manis","Manolos","Manore","Manos","Manyn","Maras","Marasar","Marayn","Maril","Marolos","Maros","Martos","Marvor","Marvyn","Maryl","Mastrius","Mathin","Mathis","Mathyn","Mavis","Mavon","Mavus","Medar","Meden","Meder","Mednil","Medyn","Mehra","Mehran","Mel","Melar","Meldras","Melil","Mels","Melur","Mendyn","Menus","Merail","Meram","Merano","Merdyndril","Meril","Merlisi","Mertis","Mertisi","Mervis","Mervs","Meryn","Methal","Methas","Mevel","Meven","Mevil","Mevilis","Mevis","Midar","Midari","Miil","Milam","Milar","Mils","Milyn","Miner","Miron","Mirvon","Mithorpa","Mivam","Mivul","Modryn","Modyn","Mondran","Mondrar","Mondros","Monis","Monynen","Movis","Mrilen","Mrylav","Mudyn","Mullas","Munbi","Murdyn","Muriil","Muril","Murilam","Murilen","Muron","Muronad","Muvis","Myl","Naddu","Nadras","Nads","Naldyn","Nalis","Nalman","Nalmen","Nalosi","Naloso","Nals","Nalur","Nam","Naral","Nardhil","Nardis","Naril","Naris","Narivys","Naro","Narsis","Nartise","Narvyn","Naryni","Nathyn","Navam","Navanu","Navil","Navlos","Navren","Neldris","Nelmil","Nelos","Neloth","Nels","Nelvon","Nelyn","Nemyn","Nen","Nerandas","Nerathren","Nerer","Neron","Nethis","Nethyn","Nevam","Nevil","Nevon","Nevos","Nevosi","Niden","Niil","Nil","Nilas","Nilos","Nilphas","Nilthis","Nilus","Nilvys","Ninbael","Niras","Nirm","Nival","Nivan","Nivel","Nivis","Nivos","Noris","Norivin","Norus","Novor","Novos","Numyn","Nurov","Odral","Odril","Odron","Oisig","Oldis","Olleg","Olyn","Omin","Ondar","Ondras","Ondres","Orini","Ornis","Orns","Orrnar","Orval","Orvas","Othloth","Othrelos","Othreloth","Ovis","Palbatan","Quell","Raddu","Ral","Raladas","Ralam","Ralden","Raldis","Ralds","Ralen","Raleth","Ralim","Ralis","Ralmyn","Raloro","Ralos","Ralsa","Ralvas","Ralver","Ralyn","Ranes","Ranor","Ranso","Rararyn","Raril","Raryn","Raston","Rathal","Ravam","Raviso","Ravlan","Ravos","Ravyn","Raynil","Raynilie","Raynor","Redas","Redvayn","Relam","Relas","Relen","Relms","Relmus","Relnus","Rels","Relur","Relvic","Relyn","Remas","Remyon","Ren","Renam","Rendil","Renli","Rennus","Renos","Renthis","Renus","Renvis","Reraryn","Rernel","Reron","Rervam","Revus","Revyn","Reynis","Rhavil","Ridras","Riidras","Riivel","Rilas","Rilaso","Rilen","Rilorns","Rilos","Rilus","Rilver","Rilyn","Rindral","Rirnas","Rirns","Rithlen","Riud","Rivame","Rivyn","Rol","Rolis","Rols","Rolver","Romlyn","Roner","Roneril","Ronervi","Rornas","Rothis","Rovone","Rulantaril","Ruram","Rythe","Sadas","Saden","Sadis","Sadryn","Saelin","Saevyr","Salas","Salen","Salin","Salvas","Salver","Salyn","Samel","Sanas","Sanvyn","Sanvyno","Saras","Sarathram","Sarayn","Saril","Saris","Sarthis","Sarvil","Sarvilen","Sarvlos","Sarvur","Saryn","Saryne","Saryvn","Sathas","Sathis","Sathram","Savarak","Savor","Savos","Savur","Savure","Sedam","Seden","Sedrane","Seldus","Selenor","Seler","Selman","Selmen","Seltin","Selvil","Sen","Senar","Sendel","Sendet","Sendus","Sendust","Senil","Seras","Serer","Sero","Seron","Serul","Servos","Seryn","Sethesi","Sethrin","Sevan","Sevilo","Sevilon","Sevros","Sevus","Seythen","Shashev","Shishiv","Shulki","Sil","Sildras","Silir","Sivan","Slitter","Slythe","Sodres","Solvar","Sondas","Soris","Sortis","Sovor","Stlennius","Strav","Sulen","Sulis","Sunel","Sur","Surilen","Suron","Surond","Suryn","Suryvn","Suvaris","Suvryn","Svadstar","Sylvain","Syndelius","Tadaran","Tadas","Tadis","Talam","Taldyn","Talis","Talmis","Talms","Talnus","Talres","Talso","Talvas","Talvenyl","Talvur","Talym","Tamthis","Tandram","Tanel","Tanur","Tanuro","Tanval","Tarar","Tarel","Taren","Tarer","Taril","Tarir","Taron","Taros","Tarrent","Tarvus","Tarvyn","Tarvynil","Tatenni","Taumas","Taume","Taves","Tavis","Tedras","Tedrel","Tedril","Tedryn","Tedryni","Tedur","Tel","Telbaril","Teldryn","Teldryni","Telis","Tels","Telvon","Temis","Tendir","Tendren","Tendris","Tendyn","Tennus","Tens","Tenval","Terer","Teres","Terilar","Teris","Tervur","Tethal","Tethis","Tethyno","Tevyn","Thadar","Thaden","Thalas","Thandon","Thanelen","Thanelon","Thanethen","Thanusel","Tharas","Tharer","Tharys","Thathas","Thauraver","Thauravil","Theldyn","Thervam","Thiile","Thiran","Thirvam","Thole","Tholer","Thoryn","Threval","Threvul","Thrush","Thys","Tidras","Tidros","Tidyn","Tiiril","Tilanos","Tinos","Tiram","Tiras","Tirer","Tireso","Tiril","Tirnur","Tirvel","Tivam","Toldendos","Tolendir","Tolendos","Tolendros","Toris","Torolon","Torvayn","Tovas","Tralas","Tralayn","Tramerel","Traven","Traylan","Tredyn","Trelam","Trelon","Trels","Trendrus","Treram","Treras","Trevyn","Trilam","Trivon","Trivus","Tryvilis","Tullas","Tuls","Tunus","Turath","Turil","Turnol","Turon","Turril","Turseth","Tythis","Ulen","Ulms","Ulran","Ultis","Ultus","Ulverin","Ulves","Ulvil","Ulvilo","Ulvon","Ulyn","Unel","Uradras","Uradris","Ureval","Urilis","Urnel","Urvan","Urvel","Urven","Uryn","Urynnar","Uthrel","Uvele","Uvren","Vadelen","Vaden","Vadethes","Vadinil","Vadrik","Vaelin","Valdam","Valds","Valec","Valen","Valeyn","Valin","Vals","Vamen","Vanel","Vanryth","Varam","Varel","Vares","Varis","Varlyn","Varon","Varryn","Vartis","Varvir","Varvur","Vatola","Vatollia","Vaval","Vaves","Vavil","Vavran","Vedam","Vedra","Vedran","Velam","Velis","Velms","Velvul","Velyn","Ven","Venali","Vendil","Vendras","Veneval","Venthin","Venthis","Veren","Veros","Vevos","Vevul","Viiron","Vilms","Vilval","Vilyn","Vinder","Viras","Viros","Virvyn","Vitollia","Vivos","Vivrun","Vivul","Vobend","Vodryn","Volm","Vonden","Vonos","Vorar","Vorir","Voruse","Vother","Vrayden","Vunal","Vunden","Vurdras","Vurvyn","Vuval","Vuvil","Wiliban","Wyndelius","Yeveth","Yurilas","Zahshur","Zanil","Zanon","Zimmeron"],setup.NAME_drow_surname=["Adas","Adlaron","Adram","Adrano","Adren","Adryn","Adus","Alam","Alan","Alar","Alari","Alas","Alasien","Alen","Alor","Althranis","Alver","Alvor","Amori","Amurith","Andalor","Andaren","Andarys","Andavel","Andoren","Andoril","Andothan","Andral","Andrani","Andrelo","Andrilo","Androm","Andromo","Androthi","Andules","Apo","Aradil","Aralen","Aralor","Aram","Arano","Aravel","Arelas","Areleth","Areloth","Aren","Arendis","Arenim","Ares","Areth","Arethan","Arinith","Arns","Aron","Arona","Arothan","Arovyn","Arval","Arvu","Athelvis","Athin","Athones","Athram","Athrys","Avani","Avayn","Avel","Avilo","Bail","Baldan","Balen","Balu","Balur","Balvel","Bandas","Bandu","Baram","Barelo","Baren","Baro","Barus","Baryon","Barys","Bavani","Bedas","Belaal","Belan","Belaram","Belas","Belavel","Belden","Beldros","Beleram","Beleran","Beloren","Bels","Belvani","Belvayn","Belvilo","Bemis","Benelas","Beneran","Benethran","Beni","Beran","Berathi","Bereloth","Beren","Berendas","Berendus","Berer","Berethi","Bero","Berothran","Beryon","Bethalas","Bethendas","Bethrano","Bethrimo","Bradyn","Braryn","Braven","Brenos","Brenur","Brilyn","Carvaren","Dalas","Dalen","Dalis","Dalo","Dalobar","Dalomo","Dals","Dalvani","Dalvel","Dalvilu","Damori","Danoran","Daral","Daram","Darano","Dareel","Daren","Darenim","Darethi","Darethran","Darithran","Darothren","Darothril","Darvel","Daryon","Darys","Dathren","Daveleth","Davor","Davus","Dawari","Daynes","Delenu","Delms","Deltis","Delvi","Demnevanni","Deras","Derith","Devani","Diina","Dilmyn","Dobar","Dolovas","Doran","Doren","Doronil","Dorvayn","Douar","Doves","Drad","Dradas","Drados","Dral","Dralas","Dralayn","Dralen","Dralno","Drals","Dran","Drarara","Drath","Drathen","Dredayn","Dredil","Drel","Drelas","Drelen","Dreleth","Dreloth","Dren","Drenduf","Drenim","Dres","Dreth","Drethan","Driler","Drilvi","Drin","Drinith","Drivam","Drobar","Drolan","Drolnor","Drom","Drora","Droryn","Droth","Drothan","Drothas","Drothro","Drurel","Duleri","Dulfass","Dulni","Dulo","Duro","Elarven","Eldri","Elenil","Elval","Elvul","Enakenar","Ertis","Esen","Evos","Evosa","Fadas","Fadras","Falaal","Falandas","Falas","Falavel","Falen","Falos","Fals","Falvani","Falvel","Famori","Fandas","Faralen","Faram","Farandas","Farano","Faravel","Farelas","Fareloth","Faren","Farethan","Farethi","Farothran","Farr","Farys","Fatheran","Fathryon","Fathyron","Favani","Favel","Favelnim","Faveran","Fedos","Felas","Felder","Fels","Fendyn","Fenrila","Fererus","Fevur","Firuth","Flan","Folvyn","Furari","Fyr","Gadar","Galen","Gals","Garer","Garil","Garvon","Gatharian","Gathram","Gavos","Gavyn","Gethanol","Gidran","Gilaram","Gilvani","Gilvayn","Gilveni","Gilvilo","Gilvio","Gimalvel","Gimayn","Gimothran","Gindu","Ginith","Giral","Giralvel","Girando","Girano","Giravel","Girendas","Girethi","Girith","Girothran","Girvayne","Giryon","Githendas","Githirith","Githrano","Givyn","Gobor","Golathyn","Gols","Goran","Gorvas","Gothren","Grulathil","Guls","Guvron","Hardil","Hedoren","Hedran","Heladren","Helan","Helas","Helbathil","Heleran","Helni","Helothan","Helothran","Helothren","Henim","Heran","Herandus","Heredon","Hereloth","Herendas","Herethi","Herothran","Hlaalo","Hlaalu","Hlaano","Hlan","Hlando","Hlandu","Hlaran","Hlarar","Hlaren","Hlarys","Hlas","Hlavel","Hledas","Hledri","Hlen","Hler","Hlervu","Hloran","Idren","Ienith","Ienth","Ildram","Illoro","Ilnith","Imayn","Imyam","Imyan","Indalen","Indaram","Indaren","Indarys","Indavel","Indobar","Indoran","Indoril","Indothan","Indules","Inlador","Inladori","Irano","Irathi","Irethi","Jaxilsu","Kren","Lathdar","Lathoril","Ledd","Lem","Lenith","Lerano","Lirvu","Lladri","Llandresil","Llandu","Llanith","Llaram","Llarvys","Llarys","Lledas","Llendo","Llendu","Llenim","Lleran","Llerayn","Llervi","Llervu","Lleryn","Llethan","Llethro","Lliran","Lloran","Lloryn","Llothan","Llothas","Llothri","Lonavo","Lythandas","Madalas","Madalvel","Madryon","Malas","Malena","Maleran","Maloren","Malrom","Malvayn","Malvulis","Manas","Manel","Mano","Manothrel","Maralvel","Marano","Mareloth","Maren","Marethi","Marvayn","Marvel","Marvos","Maryon","Marys","Mathendis","Mavandes","Mavani","Mels","Menas","Mencele","Merobar","Merys","Mevel","Milar","Milo","Mirel","Mobaner","Molor","Moorsmith","Moran","Moren","Morvayn","Moryon","Mothran","Mothren","Mothryon","Nadram","Nadus","Nalyn","Naram","Naros","Nasyal","Navur","Nedalor","Nedaren","Neladren","Nelaram","Nelas","Nelenim","Neleth","Neloren","Nelvani","Nelvayn","Nelvilo","Nerandas","Nerano","Nerathren","Nerendas","Nerethi","Nerothan","Nerothren","Nerus","Nervion","Nethalen","Nethan","Nethri","Nilem","Nilvon","Nirith","Nirvayn","Nithryon","Nolar","Nolvon","Noramil","Norvalo","Norvayn","Norvayne","Nothro","Nothryon","Nox","Nulen","Nyrandil","Ofemalen","Oldrethi","Oloth","Omalas","Omalen","Omalor","Omani","Omaren","Omarys","Omavel","Omellian","Omobar","Omoran","Omoren","Omoril","Omothan","Ondyn","Onmar","Onthim","Orain","Orelu","Oren","Orenim","Ores","Orethi","Oreyn","Oril","Orn","Orthil","Othan","Otheri","Othral","Othralas","Othralen","Othralor","Othran","Othrelas","Othreleth","Othreloth","Othren","Othrenim","Othril","Othrobar","Quintella","R'enar","Radarys","Radas","Radathren","Radobar","Radus","Ralaal","Ralas","Raledran","Ralen","Ralethran","Raloran","Ralren","Ralvani","Ralvas","Ralvayn","Ralvel","Ramarys","Ramoran","Ramori","Ramothran","Randaro","Randas","Raram","Rathri","Rathryon","Ravel","Raviro","Rayveth","Redas","Redoran","Redoril","Redothan","Redothril","Reladren","Relarys","Relas","Relavel","Reledran","Relenim","Releth","Relnim","Reloren","Reloro","Reloth","Relthren","Relvani","Relvi","Rend","Rendar","Rendas","Rendo","Reni","Renim","Renimus","Reram","Rervam","Resvalyn","Rethandus","Rethelas","Rethul","Reyas","Rii","Rilvayn","Rindo","Rindu","Rinith","Rithari","Rivul","Rols","Romalen","Romandas","Romari","Romavel","Romayn","Romoran","Romoren","Romori","Romothran","Romothren","Rondas","Ronen","Rothalen","Rothalnim","Rothalor","Rothan","Rothandus","Rothari","Rotheloth","Rotheran","Rothrano","Rothren","Rurvyn","Ryon","Sadalas","Sadalvel","Sadas","Sadoro","Sadralo","Sadrano","Sadreno","Sadris","Sadryon","Sadrys","Sadus","Sala","Salam","Salandas","Salaren","Salaron","Salas","Salavel","Salen","Salenim","Salmyn","Salobar","Salor","Salothan","Salvani","Salvi","Salvilo","Samandas","Samori","Sandras","Sandus","Sanil","Saram","Sarandas","Sarandus","Sarathram","Sareloth","Sarethan","Sarethi","Sari","Sarinith","Sarobar","Sarothran","Sarothren","Sarothril","Sarvani","Sarvayn","Saryoni","Sarys","Sasamsi","Sathendas","Sathis","Sathren","Sathryon","Savani","Savel","Saveoro","Savil","Sedarys","Sedas","Sedrethi","Sedri","Selandas","Selaren","Selaro","Selarys","Selas","Seles","Selos","Seloth","Selothan","Selvani","Selvayn","Selvilo","Sendas","Sendrul","Sendu","Senim","Senoril","Seralas","Seran","Serano","Serelnim","Serethran","Seri","Seringi","Sero","Serothan","Seruli","Serven","Seryiil","Sethan","Sethandas","Sethandus","Sethran","Sethri","Severin","Shandasi","Sildreth","Skaliz","Sonoril","Surishpi","Suth","Svadstar","Svel","Talds","Tedala","Tedalen","Tedas","Teddalennu","Tedran","Telandas","Telas","Telem","Telendas","Telleno","Telmon","Telnim","Telvani","Telvanni","Telvayn","Teneran","Teran","Terandas","Terano","Teri","Teria","Terilu","Tervayn","Thadus","Thalas","Thalor","Thando","Thanlen","Tharam","Tharen","Tharvi","Tharyon","Tharys","Thelas","Thelis","Theloth","Theman","Thendas","Thendur","Thenim","Theran","Therayn","Therethi","Thervayn","Thilandas","Thilarvel","Thimalvel","Thindo","Thiralas","Thirandus","Thireloth","Thirith","Thirothan","Thirvayn","Tilvur","Tistar","Tobor","Trandel","Tunel","Tures","Tyravel","Ulen","Uleni","Ules","Ulessen","Ulom","Ulvel","Ulven","Ulver","Urano","Urns","Urvon","Urvyn","Uvalas","Uvalen","Uvalor","Uvandrys","Uvani","Uvaram","Uvayn","Uvelas","Uveleth","Uvenim","Uveran","Uvirith","Uvulas","Vadryon","Valaai","Valas","Valen","Valno","Valor","Valos","Valyn","Vamori","Vando","Vandram","Vandril","Varam","Varen","Vari","Varo","Varyon","Varyoni","Varys","Vashi","Vavas","Vavyn","Vedaren","Vedas","Vedralu","Vedran","Vedrano","Velador","Velar","Velendas","Veleth","Velni","Veloren","Veloth","Velothi","Velothren","Velothril","Ven","Vendil","Vendu","Venim","Veralas","Veralor","Veran","Verano","Verelas","Veren","Verendas","Verenim","Verethi","Veri","Verilnith","Verobar","Verothan","Viake","Vian","Vibato","Vidron","Vilas","Vildan","Vinden","Viri","Virian","Virith","Vlaren","Volek","Volos","Voren","Voung","Vox","Vules","Yahaz"],setup.NAME_elf_female_first_name=["Aamela","Aamrila","Aarela","Adagwen","Adandora","Adanrel","Adansa","Adosi","Adrasi","Adrullu","Adrusu","Adryn","Aduri","Adwihill","Aedion","Aedwora","Aenwyn","Aeranir","Aerchith","Aerin","Aerledirre","Aerona","Aerwaen","Aeyne","Agafos","Agilrin","Agilruin","Aglaril","Agraein","Ahlora","Ahrendue","Aicarya","Ainamee","Ainare","Aineien","Aladess","Alaglossa","Alais","Alalura","Alanaire","Alandare","Alandil","Alandis","Alangil","Alanne","Alanwe","Alareth","Alaru","Alarvyne","Alavani","Alavesa","Alawen","Alcalime","Alcardawe","Alcildilwe","Alcorana","Aldamaire","Aldanya","Aldarenya","Aldermil","Aldeth","Aldewe","Aldimonwe","Aldononde","Aldunie","Alduril","Aldurlde","Aldyna","Aldyne","Alea","Aleanneth","Alenus","Aleri","Alerume","Alfe","Alicon","Alinisse","Alirfire","Alisewen","Allanwen","Allena","Alli","Alma","Almise","Almithara","Almse","Almsi","Aloie","Alonisea","Alque","Alquufwe","Alsal","Altansawen","Altha","Althel","Althoth","Althuviel","Altininde","Altoririe","Alurami","Alurue","Alvaerele","Alvela","Alveno","Alves","Alvesi","Alvila","Alvura","Alwaen","Alwe","Alwinarwe","Alya","Alyndra","Alynu","Amaleera","Amariel","Ambarel","Ambaril","Amila","Amili","Amilya","Aminore","Amirmil","Amlaruil","Amrael","Amridil","Anaba","Analande","Anara","Anaril","Anarzee","Andalin","Andalore","Andenyerinwe","Andewen","Andilan","Andilo","Andilu","Andiryewen","Andorie","Andoriel","Andragil","Andrathel","Ane","Anedhel","Anenale","Anenwen","Anenya","Anerel","Aneyda","Angahran","Angalanwen","Angalsama","Anganirne","Anganrith","Angelenwen","Angeniel","Angharal","Anglith","Angorwe","Angranel","Angrel","Angren","Angrineth","Angrond","Angwe","Ani","Ania","Aniama","Aniaste","Aniel","Anila","Anildalin","Aninwe","Aniralda","Anirione","Anirmelda","Anirne","Anirwe","Anirwen","Anis","Anisa","Anise","Annagail","Annarth","Annathiel","Annedhi","Anredith","Anrel","Anriel","Antomine","Anuriel","Anurlan","Anwelore","Anwulsawen","Aphia","Aradhel","Aradraen","Aralosea","Aralosi","Araltil","Aramea","Aramil","Aramriel","Aranalda","Aranea","Aranecarne","Araneth","Arangaer","Aranias","Arannelya","Aranorne","Arantale","Aranwen","Arara","Arathel","Arawe","Arawen","Arawende","Arcimil","Ardaline","Ardalure","Ardarume","Ardhil","Ardwen","Aredhel","Arela","Areldur","Arenwe","Aressea","Areyne","Arfaire","Arfanwe","Arfire","Arfiril","Arfolasse","Arielimnda","Ariente","Arilu","Arisa","Arithiel","Arivanya","Arnarne","Arnarra","Arns","Arnsa","Arnsi","Arnurdurwe","Arnure","Arnuulle","Arnyeana","Aroarise","Arocil","Aroliel","Arowende","Arquen","Artaste","Arteril","Arterome","Arthwiien","Artilonwe","Artinaire","Artiranwen","Artisa","Artuwe","Arufinwe","Arvama","Arvamea","Arvela","Arvena","Arvso","Arwolquen","Aryarie","Aryne","Aryni","Aryvena","Astalwen","Astante","Astanya","Asteril","Astewen","Astilme","Astirhil","Astorne","Astuwae","Athemel","Athesa","Athesie","Atheval","Athirion","Athuviel","Atildel","Atofir","Atraena","Aurelinwae","Aurona","Avarya","Avinaire","Avinisse","Avoni","Avrusa","Axilya","Aymillo","Ayrenn","Azarari","Badala","Badama","Badila","Badilia","Baham","Bala","Balen","Baleni","Balia","Balsa","Balsia","Balynu","Bameli","Bameni","Banda","Barenziah","Bathrone","Bauril","Baurin","Bedena","Bedenea","Bedyna","Bedynea","Bedyni","Belane","Belardirwe","Belarin","Belderi","Belera","Beleru","Beleval","Bellaluna","Belosi","Belwanril","Belwen","Belwinan","Belya","Bendyni","Benieth","Bera","Berada","Berari","Berela","Berisse","Berwen","Berwentha","Berwiria","Betina","Bevene","Bevin","Beyte","Bidia","Bidsa","Bidsi","Biiri","Bili","Bilsa","Binayne","Birama","Birila","Birwaen","Bivala","Bivale","Bivessa","Blivisi","Boderi","Boderia","Bodsa","Boldrisa","Bolnora","Bondileth","Boriel","Borogilmith","Boroneth","Borwaegal","Borwaeneth","Borwen","Bothiel","Bothisii","Bowenas","Br'itsa","Braerindra","Bralsa","Bralsea","Bralsi","Brara","Bravaria","Bravora","Breda","Bredami","Bredasu","Bredrel","Brela","Brelaca","Brelas","Brelayne","Brelda","Brelenel","Brelinith","Brelondith","Breloth","Brelyn","Brelyna","Brelynd","Brema","Brendil","Brerayne","Breva","Brevasu","Brevosi","Brildraso","Brilnosu","Brithril","Bronosa","Burila","Buronii","Butheli","Byla","Cadiva","Caerthynna","Calanye","Calanyese","Calawende","Calendir","Calenethel","Calircarya","Calirririe","Calithil","Calmaninde","Calulgwen","Camaisse","Camalanwe","Camaldetuile","Camandil","Camenwen","Camilonwe","Caminalda","Caminarne","Camore","Camyaale","Canaale","Canda","Candangarilde","Candariel","Candion","Cangwen","Caniel","Canirne","Caragwen","Carahil","Caraleth","Caralith","Caranande","Caranith","Caranwel","Caranya","Cararilde","Carawen","Carellon","Carfinwen","Cariel","Carilasse","Carillda","Carimalda","Caritaale","Carterril","Cartirinque","Cartorrel","Carwen","Carwengil","Casiama","Casorlaure","Castarnisse","Castewe","Castyaarne","Catannie","Catonnel","Cayliss","Celanarth","Celaranith","Celegil","Celorien","Celria","Celwen","Cemaria","Cenrathil","Cerethriath","Cerunsawen","Cerwaenor","Cerweriell","Cerwil","Ceryolminwe","Ceryra","Chandrelle","Chomylla","Ciinderel","Ciindewal","Ciindil","Ciindirre","Ciirenas","Ciireriath","Ciirillie","Cimalire","Cindanwe","Cindiri","Cinwiril","Ciralinde","Ciramaire","Cirantille","Ciranya","Circone","Cirenwe","Cirithiel","Cirode","Cirtaarie","Cirtelcare","Cirterisse","Cirunra","Cirwedh","Ciryelda","Claire","Cloya","Colaagwen","Colanwe","Colaste","Colelsawen","Colerdawen","Colinra","Connalenwe","Connulsewen","Connynque","Coradri","Corelanya","Corerine","Culanwe","Cularalda","Cularime","Culast","Culdandil","Culdansea","Culdilgwe","Culdulquen","Culuire","Culumaire","Culydil","Cumangwe","Cumanya","Curilma","Curime","Curinaire","Curinwe","Curorne","Cursare","Curwe","Cuunel","Cwynoniel","Cygaenir","Cygwen","Cygwenn","Cyithrel","Daela","Dagail","Dailalleth","Dailedrith","Dailinir","Dailinthil","Dailirwen","Dailithil","Dairaegal","Dairihill","Dala","Dalami","Dalaneth","Daliina","Dalmi","Dalnorea","Dalora","Dalsa","Dalse","Dalsi","Dalyne","Damisi","Danaronea","Danasi","Dandea","Dandera","Dandra","Dandrii","Dandynea","Danis","Danoso","Danso","Darahawn","Darane","Daraneth","Daratrine","Dareru","Dariili","Darili","Daroso","Darunia","Darva","Darvala","Darvame","Darvasa","Darvynea","Dasila","Dathlyn","Davela","Davilia","Dayagwen","Dayas","Dayidril","Daymi","Dayna","Daynali","Daynas","Dayni","Daynil","Daynillo","Degail","Degethel","Degil","Delatha","Deldasa","Deldri","Deldrise","Delmene","Delshandra","Delte","Delyna","Dematah","Deminah","Dennilwen","Denninel","Denu","Derami","Derana","Derar","Derayna","Deria","Dervera","Dessidela","Deularla","Dhaunayne","Diina","Dilami","Dileni","Dileno","Dilvene","Dilyne","Dinara","Dinaria","Dinere","Dinuro","Dinwenel","Dinya","Dira","Diradeni","Dirara","Diren","Dirilu","Dirwendel","Distel","Dithisi","Doldoniel","Dolian","Dolirdor","Dollian","Dollinith","Dolmesa","Dolsa","Dolsia","Dolvara","Dolvasie","Dolwinora","Domesea","Domi","Dondreth","Dondrinir","Dondrothel","Doneth","Donganiel","Dongenan","Donglanel","Donnaelain","Donnanel","Donnenir","Donniel","Donriel","Donta","Doralin","Doralineth","Dorathil","Dorendir","Doriel","Dorisa","Dorynu","Dothasi","Dothiel","Dothriel","Dothruviel","Dovesi","Dovrosi","Dradas","Drala","Dralane","Dralasa","Dralcea","Dralisi","Dralora","Dralosa","Dralsea","Draramu","Drarana","Drarayne","Dratha","Drathyra","Drauginas","Dravusa","Dravynea","Drayna","Dredena","Dredhedil","Dredhwen","Dredyni","Drelasa","Drelliane","Drelyne","Drendrisa","Dreska","Dreveni","Dreyen","Dreyla","Drilame","Driloru","Drireri","Drissa","Drivanas","Drolora","Drorayni","Drulene","Drurile","Duldresi","Dulnea","Dunveril","Durena","Duroni","Eafifwe","Eafinme","Ealaren","Ealonwe","Ealurme","Earana","Earfogwe","Earila","Earlanorwe","Earnaana","Earnaire","Earnona","Earrona","Earyaorne","Earyawaen","Edelle","Edherien","Edrasa","Edrisi","Edryn","Edryno","Edrys","Edwina","Efreghar","Egilrineth","Eilayne","Eilelmil","Eilonewen","Eilonwy","Eindel","Einnel","Einrel","Einriel","Eiola","Eirika","Elaasare","Elagaer","Elanalue","Elanande","Elanas","Elandora","Elanduya","Elanecarne","Elanere","Elanil","Elaninwe","Elannie","Elante","Elantelle","Elanwe","Elanya","Elaraama","Elarril","Elasha","Elayel","Eldafire","Eldenyarasse","Eldrasea","Eldri","Eldrilu","Eldwen","Eldyeisse","Elegnan","Elendare","Elendarie","Elengil","Elenwen","Elenya","Elerdel","Elethien","Elirwen","Elitai","Elmera","Elmussa","Elmyra","Elneri","Eloen","Eloimaya","Elondore","Elorwen","Elphaniel","Elphinia","Elphiniel","Elphirion","Elphiron","Elquisa","Elragail","Elriniel","Elruin","Elsaril","Elsenia","Elsonia","Elsoreth","Elsynia","Elvali","Elvasea","Elvasia","Elwalama","Elwilinta","Elyna","Elynea","Elynisi","Elynu","Emalith","Emanir","Emdoline","Emdolye","Emelin","Emerel","Eminaire","Eminalime","Eminelya","Eminwe","Emolwen","Emoneth","Emuin","Enalde","Enda","Endaldilwe","Endalle","Endannie","Endarande","Endaraste","Endarie","Endartirinque","Endase","Endetuile","Endilale","Endolale","Endoriell","Endrith","Endriwen","Endroni","Enduinas","Eneriell","Engail","Enginaire","Engitaale","Englornith","Enielin","Eniras","Enlorien","Enruvie","Enura","Eralane","Eraldil","Eralian","Eralin","Eraneth","Eranwen","Eraril","Erathrin","Erdyno","Erelin","Erelruin","Erila","Erille","Erilthel","Erilthil","Erinel","Erinquen","Erirvase","Erissare","Erivase","Erluramar","Ernandel","Ernethel","Ernethiel","Ernse","Eroni","Errafinwe","Erralle","Erranil","Errannie","Errataale","Errawen","Erriisse","Erronfaire","Erronwe","Ervesa","Ervona","Ervyla","Ervyna","Ervyni","Ervynu","Erwin","Erwurlde","Esolarne","Essaneth","Essilion","Essonarth","Essoriel","Esta","Estalenya","Estelin","Estilion","Estilldo","Estinan","Estirdalin","Estoril","Estre","Esyae","Ethal","Ethasi","Ethrandora","Ethrel","Ethril","Eveli","Evesa","Evessa","Evilu","Evisi","Evylu","Fadase","Fadile","Faedre","Faedridil","Faenir","Faenor","Faire","Fairencarne","Fairenwen","Fairwen","Falan","Falanu","Faldethil","Faldiniel","Falen","Falena","Falenas","Falicia","Falion","Falora","Falphirion","Faltha","Falura","Famdii","Famyne","Fanadis","Fanasa","Fanayell","Fandir","Fangil","Faniriel","Fanisea","Fanrel","Fanuse","Fanuwende","Fanwenlle","Fanwilhil","Fanwunine","Fanwyearie","Fanyeor","Fara","Faraine","Faral","Faralda","Faralenu","Farandare","Faraniel","Faranya","Farare","Fararilde","Faras","Farena","Farenlith","Faric","Fariel","Farilme","Farirale","Faritaale","Faritirinque","Farona","Farowel","Farril","Faruin","Farusea","Farwelayne","Farwen","Farwenya","Farwewa","Farwilwen","Farwunte","Faryan","Faryon","Farys","Fathasa","Fathusa","Fauridil","Fauril","Faurinthil","Faurwin","Favani","Favel","Favela","Favilea","Favise","Favona","Fayadess","Fayagwen","Fayena","Fayilien","Fealu","Fedrasa","Fedura","Feduria","Felanwe","Felariel","Felawen","Feldrasa","Feldrelo","Feldsii","Felisa","Felmena","Felmina","Felsa","Felsu","Fenewen","Fenila","Feralea","Ferdyn","Ferena","Ferise","Ferone","Ferva","Fervsea","Ferynu","Fethesena","Fevasa","Fevila","Feyne","Fiabess","Fieria","Fieryra","Filauria","Filbeneth","Filberel","Filedh","Filenarth","Filoneth","Filu","Finandawen","Finde","Findredil","Fingil","Fingrathel","Finnegil","Finnethil","Finnorieth","Finoriell","Fintilorwe","Finyedalin","Firalboreth","Firaldaale","Firanarth","Firathil","Firchel","Firenteril","Firgelin","Firgiel","Firien","Firilanya","Firiliril","Firilnisse","Firinore","Firion","Firlaalin","Firlarmil","Firneril","Fironel","Firorore","Firtarcil","Firtoldirwe","Firtorel","Firtoril","Firuin","Firwin","Firyate","Fisinwe","Fistalime","Fistalle","Fistamanwe","Fistelle","Flaniethe","Flanneth","Floriele","Folsi","Folvalie","Fomesa","Fonari","Fonas","Fondryn","Foni","Fonira","Forvse","Frenenora","Frenidela","Frenillas","Frenith","Freyvene","Furoni","Furu","Fyrayn","Fyrona","Gabriella","Gadasu","Gadela","Gadeneri","Gadila","Gadsi","Gadyni","Gaette","Gaireth","Galas","Galasa","Galathil","Galathril","Galbedir","Galbenel","Galdal","Galdas","Galdiir","Galdini","Galdsa","Galeneth","Galereth","Galeri","Galero","Galerond","Galesse","Galethril","Galilarlel","Galisa","Galore","Galori","Galotha","Galsi","Galsu","Galthel","Galuro","Galvene","Galviso","Galyn","Gami","Gananith","Gandalith","Gandela","Gandilla","Gandosa","Ganduin","Gannel","Ganniel","Ganorith","Ganredhel","Ganrenan","Ganwen","Garaengrin","Garalo","Garamiel","Garanel","Garas","Garel","Gariasa","Gariel","Garil","Garila","Garimmir","Garion","Garniel","Garwiril","Garwiruin","Garyne","Gathewen","Gathiel","Gathion","Gathraenor","Gathviel","Gathwen","Gaylia","Gelaa","Gelana","Geldaeniel","Geldirel","Gelduin","Gelii","Gelthedh","Gelthiras","Gelthorieth","Gelur","Gena","Genboril","Gendinora","Genraeniel","Genriel","Genrunarel","Genthel","Geoffrise","Gerethel","Gerinien","Gerwen","Gerwerdel","Gerweruin","Gethawen","Gialene","Gilbonel","Gilbonil","Gildan","Gilinora","Gilradil","Gilraen","Gilriian","Gilse","Ginadura","Gindothel","Gindrala","Gindur","Ginereth","Giniel","Giningil","Girara","Girnalin","Girnileth","Girninan","Girriian","Girva","Girvani","Girynu","Githiril","Githriian","Glaras","Glardel","Glardir","Glarin","Glathel","Glenora","Glistel","Glooredel","Gloraneth","Glordil","Glothorien","Gluineth","Godyna","Golana","Golena","Golmerea","Golveso","Golvy","Golvyni","Gomeso","Gorenea","Gorili","Gorven","Gosellaneth","Gothemril","Grenedel","Grildoriel","Grona","Guilenarne","Guilenarth","Guileval","Guilion","Guldrise","Gulena","Gulvilie","Gureryne","Guroanii","Guronii","Gwaerarth","Gwaering","Gwendis","Gwenieth","Gwenuinas","Gweyr","Gynisi","Hacathra","Hadrill","Haenamil","Haenelisse","Haera","Haeruana","Hala","Halaema","Haleneri","Halsinan","Hanala","Hanerye","Hangaerin","Haniana","Hannayel","Hanriian","Hantaari","Hanthaerin","Hanu","Hanursae","Hanyarie","Haranwe","Hariell","Harmolith","Harowen","Hasathil","Hasiwen","Helenaere","Helende","Helma","Helseth","Henarine","Henarsare","Henenme","Henilien","Heniquarenwe","Henoreth","Henriel","Henrinora","Henunewe","Heragaeth","Heranwen","Herdor","Herenia","Heron","Heruwende","Hession","Hinwenl","Hiranesse","Hirume","Hlana","Hlaren","Hlava","Hlavora","Hlendrisa","Hlenia","Hlethena","Hlevala","Hlidara","Hlireni","Hlisi","Hlodala","Hlura","Holithel","Huundel","Huunel","Huurel","Huurwen","Hyna","Hynendirre","Iachilla","Iannianith","Ianwaen","Idari","Idera","Idesa","Idradriel","Idrasa","Idren","Idrenia","Idrenie","Idria","Idrolian","Idronea","Idronel","Idroni","Idroso","Idrothiel","Idula","Ienasa","Ienase","Ienaso","Iindewen","Iinel","Iingail","Iirdel","Iirdilin","Iirenir","Iirenoore","Iirila","Iirond","Iirwaen","Iladawen","Ilalinwe","Ildari","Ildrasai-daro","Ilemin","Ilmadia","Ilmani","Ilmeni","Ilmyna","Ilunsare","Imare","Imiril","Imriel","Inalion","Inarala","Inare","Indalinwe","Indanas","Indel","Indinael","Indithil","Indra","Indradriel","Indrasa","Indraseth","Indrasi","Indrathel","Indrel","Indrela","Indrele","Indrenan","Indriian","Indririi","Inera","Ineria","Ingaril","Inglin","Ingrarthel","Iniel","Inisa","Inise","Innuwae","Inril","Inulale","Inzoliah","Irdan","Iriana","Irien","Irileth","Irinwe","Irinwen","Irna","Irvama","Irvsie","Irwaen","Irwiraen","Iry","Isabeau","Isilynor","Isunie","Ithrini","Ivaynel","Ivela","Iveri","Ivramia","Ivramie","Ivrisa","Ivrosa","Iythronel","Jeardra","Jenassa","Jinrisa","Jofra","Kaale","Kaalys","Kalara","Kalina","Karethys","Karinith","Karinnarre","Karliah","Kasula","Katariah","Kathariel","Keishara","Kethryllia","Kianra","Kilisia","Kireth","Kirstaleth","Kirstar","Kirstenreth","Kirsty","Kuna","Kylia","Laanari","Laanestii","Laaneth","Ladrasa","Laen","Laenafil","Laeneval","Laenriian","Laenril","Laeranir","Laerinir","Laerion","Laeriwene","Laeryll","Laindilaure","Lainirdawen","Lairinque","Lairiwene","Lalis","Lamoldaire","Lamolime","Lananwe","Lanarie","Landare","Lanelte","Lanende","Langwe","Laniriel","Lanirsare","Lanitaale","Lantelcare","Lantilwe","Lanwaen","Lara","Larafil","Laralthir","Laranalda","Laranieth","Larasel","Larchelas","Lareika","Larfanwe","Larirmindil","Larnatille","Larweneth","Laryaril","Latamenwe","Latelisse","Lathisa","Lathriel","Latidawe","Lauravenya","Laureva","Lauriel","Lembien","Lena","Lenaninwe","Lendonarin","Lendurwy","Lerangalion","Leyla","Lianedirre","Lianorien","Lienalel","Lienanarth","Lienenarth","Lienil","Liennas","Liette","Lilaneth","Lilatha","Lilawen","Liluth","Linaanque","Linaarie","Linatoril","Lindafwe","Lindarrel","Linguvale","Linilwe","Linimondil","Linulyia","Linwen","Lionora","Liranaire","Lireore","Lirielle","Lirinwen","Lirona","Lirunmil","Little Leaf","Livisii","Lixiss","Llaalamu","Llaalsa","Llaami","Llaari","Llandrale","Llandreri","Llarara","Llarevis","Llaros","Llarusea","Llasi","Llathasa","Llathise","Llathyno","Llavana","Llavane","Llavelea","Llavesa","Llaynasa","Llayne","Lledsa","Lledsea","Llemisa","Llensi","Llerusa","Llevana","Lliae","Llirala","Llivas","Llivia","Llondresa","Llorayna","Llotha","Llunela","Lobelathel","Lodyna","Lolethys","Lorading","Lorais","Lorana","Lorara","Lorchel","Lorhiel","Lorin","Lorne","Lorolu","Lorregil","Lorthodaer","Lorumel","Lorurmend","Lorwen","Lothiel","Louna","Luaffyn","Lura","Luranor","Luryne","Lymsleia","Lyndis","Lyra","Lyre","Lywen","Maalamenwe","Madayna","Madaynu","Madrale","Madrana","Madria","Madura","Maedini","Maelanrith","Maeli","Maelin","Maera","Mahlia","Malangwe","Malanie","Malaniel","Malanwen","Malarel","Malareth","Maldetuile","Malesse","Malfinir","Malioneth","Maliren","Malori","Malsa","Malven","Malwen","Malyani","Mamyne","Manara","Mandalime","Mandil","Mandilin","Mangitaale","Manse","Manwe","Mara","Maralie","Marasa","Maren","Marena","Mari","Mariel","Mariia","Marila","Marilia","Marineth","Marinora","Marise","Maritawen","Marlyn","Marona","Maronii","Marwyn","Mastengwe","Mathesa","Medila","Medora","Medresi","Mehlin","Melbethil","Meldaril","Meleril","Meleriless","Melila","Melisi","Mell","Melledh","Mellieth","Melothil","Melrethel","Melsu","Meluria","Meluririe","Melvona","Melvuli","Melvure","Melylin","Menaelion","Menaste","Mendarie","Mendil","Mendredhil","Mendreval","Menelin","Mengaer","Mengilwaen","Meninel","Mennel","Menninia","Mennir","Mensa","Menwendel","Menwirchel","Meralyn","Meralys","Meram","Meratille","Merenfire","Meriath","Merilar","Merona","Methredhel","Methulu","Meva","Mevrenea","Mevura","Mevure","Miara","Midiri","Midrasi","Midura","Miiga","Miirist","Milara","Milbereth","Milesa","Milia","Miliril","Millenith","Millia","Milore","Miluru","Milva","Milvela","Milvonu","Milyne","Minaelion","Minalcil","Minantille","Minasi","Mincarione","Mindeli","Mindelyn","Mindileth","Mindirin","Mindora","Mindoril","Minelmawen","Miniel","Minique","Minolewen","Minonel","Minorne","Minriel","Minrion","Minwe","Minwerdil","Minwolhil","Minworiel","Miranrel","Miranya","Mirasa","Miraso","Mireli","Mirie","Mirili","Mirise","Mirkalinde","Mirkrand","Mirnarie","Mirnelea","Mirnsa","Mirondil","Mirri","Mirusu","Mithen","Mivani","Mivryna","Molamiel","Molenaniel","Moleras","Molriel","Molwen","Moneriel","Morami","Morgiah","Morgwais","Morna","Mornsu","Moroni","Morusu","Morvani","Motistaari","Movisa","Muldroni","Mulvi","Mulvise","Mulvisie","Mundrila","Munya","Murela","Muurine","Muvrulea","Muvulrea","Mylis","Myn","Myvryna","Naalielir","Naaniel","Naarendras","Naarifin","Nadene","Nadie","Nael","Naeldil","Naerion","Naeronel","Naerorien","Naeruuna","Naesala","Naire","Naireorwe","Nairume","Nalami","Nalargwen","Nalasa","Nalcarya","Nalia","Nalinril","Nalirsewen","Nallion","Nallorwen","Nalmila","Nalsie","Nalvilie","Nalvyna","Nalyarie","Namolduure","Namolelcare","Namradis","Namriel","Nandri","Nara","Nardhil","Nareb","Nareen","Naresa","Narese","Naridir","Narile","Narilii","Narinarth","Narinia","Narion","Narirasi","Narisa","Nartisa","Nartise","Narwaawende","Narwende","Narwin","Naryu","Nashyv","Natareth","Natesse","Nathala","Nathien","Nathyne","Nauviemil","Nedeni","Nedi","Nedrasa","Nela","Nelandare","Nelanya","Nelmia","Nelmyne","Neloren","Nelso","Nelvana","Nenaarie","Nendirume","Nendrii","Nendryl","Nenime","Nenya","Nephenee","Nephothal","Nerari","Neria","Nerile","Nerise","Nerussa","Nervana","Nervyna","Nerys","Nesaawy","Nesaranwe","Nesilhil","Nestaarie","Nesullinwe","Nesulmawen","Nesunte","Nesyesawen","Netanwe","Nevama","Nevena","Nevrasa","Nevrila","Nevusa","Neyna","Nida","Nidara","Nidryne","Nielaenor","Nielas","Nien","Nienornith","Nienras","Nieth","Niiranil","Nila","Nilara","Nilawen","Nilbedel","Nilbethil","Nilenarth","Nilenir","Nileno","Nilera","Niliendras","Nilioniel","Nilleth","Nilliel","Nilonii","Niluva","Nilvyn","Nilwen","Nimanir","Nimare","Niminthil","Nimphaneth","Nimriel","Nimriell","Nimriian","Nina","Ninave","Nindenel","Ninla","Ninriledh","Ninwin","Nirai","Niralenwe","Niralin","Niranda","Niraniel","Niranye","Nirasa","Niraselya","Nireli","Nirelia","Niriel","Nirihill","Nirilrel","Nirinwe","Nirite","Niruin","Nirya","Niryerie","Nirywy","Nistel","Nistyniel","Nithelin","Nithenoel","Nithiel","Nitholeth","Nithonda","Nithriel","Nivama","Nivene","Nivenor","Nivrel","Nivriian","Nivrilin","Nodryn","Noldathil","Noldrasi","Nolenowen","Nolinare","Nolinore","Nolunbarel","Nolyemal","Nona","Nonde","Noninririe","Norasa","Norasea","Noreni","Norerama","Norraneth","Norrareth","Norriel","Norweras","Norwess","Norwifinn","Noryariel","Nothas","Nothasea","Nothemril","Noveni","Novrynea","Nudryn","Nuleno","Nulwrila","Nuranyawen","Nurara","Nurisea","Nurofire","Nurome","Nurona","Nurvyna","Nurwuuisse","Nushala","Nuula","Nyna","Odesa","Odrasa","Odrys","Odyna","Ohlinonde","Oholdirel","Ohtandilwe","Ohtantaril","Ohtarona","Ohtesse","Ohtowen","Oimifwe","Oinara","Oiomiralewen","Oiomonwe","Olnewil","Olorime","Olvyia","Olvyne","Olwanenya","Omesu","Ondineth","Onglorien","Orabess","Orama","Oraneth","Orani","Orara","Orarelwe","Orchelith","Orea","Orelnque","Orenwen","Orero","Oriadess","Orianel","Ornandel","Ornenya","Orninlusea","Ornuune","Ornyenque","Orona","Oruude","Orvana","Orvona","Orwinora","Oryla","Palith","Palonirya","Pamolinwe","Pamolwe","Pamuusare","Panaaime","Pandetuile","Panersewen","Panreth","Panyra","Paranarth","Parenel","Pariel","Parwaen","Parwen","Parwinel","Peliah","Penardil","Penewen","Pengaenion","Penglithil","Pennifen","Penolore","Penunorwe","Peregrine","Peruin","Phelorna","Phyrra","Pinanande","Pishna","Pyria","Quen","Quendia","Quenyas","Querertoril","Quertasse","Queryaiel","Queryarie","Queryelin","Qyss","Radene","Radras","Radrase","Radreth","Raelys","Rala","Ralaenglin","Ralai","Ralasa","Ralayell","Raldenu","Ralerdhil","Ralion","Rallion","Ralsa","Ralsynilsa","Ramavel","Rami","Ramila","Ramu","Rana","Ranais","Ranaline","Rangil","Rania","Ranis","Ranneth","Ranniel","Rannonda","Ranosa","Ranwe","Ranyna","Rarili","Rarusi","Rarusu","Rarvela","Rathiain","Rathisa","Rathornith","Rathril","Rathyne","Ravani","Ravania","Ravel","Ravela","Raven","Ravila","Ravoso","Rayna","Raynasa","Rayniir","Raynil","Raynila","Raynineth","Raynorien","Rela","Relamu","Reldith","Reldsii","Relenila","Relmerea","Relmeria","Relmyna","Relosa","Relulae","Relvese","Remasa","Rena","Rendorien","Rendrasa","Renduril","Renenfwe","Renkathi","Rerilie","Rernel","Reron","Rerynea","Resetta","Revisii","Reynel","Reynis","Rialanith","Rialilrin","Rianor","Ridena","Ridinna","Riian","Riinsi","Rila","Rilasi","Rilineth","Rilvase","Rinallie","Rinareth","Rindelma","Rindirre","Rinedel","Riniswin","Rinori","Rinwinne","Rinyayewen","Rinyde","Riray","Riraynea","Rironi","Ris","Risa","Rithros","Rodaeril","Rolasa","Ronarith","Ronawe","Rondalinwe","Rondellinwe","Ronuril","Ronwerquen","Ronwiramwen","Ronyadil","Rothariel","Rubrae","Rudrasa","Ruma","Runaldilwe","Runare","Rundirwe","Runethyne","Runwyenisse","Rurvyn","Ruthrisu","Ruvali","Ruvene","Ryna","Saalu","Sadal","Sadela","Sadelia","Salama","Saleia","Salelale","Saleorne","Salerne","Salima","Salina","Salora","Salori","Salver","Saly","Salyni","Samia","Samtri","Sanas","Sanaso","Sangur","Sanithil","Sarah","Sarandel","Sarfinaire","Saria","Sariandi","Sariel","Sarion","Saronithel","Sarralthir","Sarrothiel","Saruse","Satha","Sathasa","Sathdira","Satheri","Sathryn","Satyana","Sava","Saveri","Savesea","Savi","Savila","Savile","Sawen","Sayla","Sayne","Sedris","Sedura","Sedyni","Sehlena","Sela","Selandilwen","Seldine","Selene","Sellineth","Selveni","Selvura","Selynia","Sem","Semoa","Sen","Sena","Sendel","Sendranir","Sendrasa","Senise","Seraali","Serana","Serchel","Serenarth","Serfinilonwe","Serila","Seritath","Seritenya","Seritir","Sernsi","Servyna","Serwin","Serwuin","Seryna","Seryne","Sethan","Sethel","Sethesi","Sethisa","Sevame","Sevisa","Sevy","Sevyni","Seyne","Seyrena","Shadowmoon","Shalana","Shandalar","Shanyrria","Sheedra","Shelethys","Shiralas","Shra","Sia","Siid","Siila","Silen","Silhansa","Siltalaure","Siltamaire","Silurie","Sinarril","Siniaritaale","Sinien","Sintilfalion","Siramanwe","Sirari","Sirerale","Sireril","Sirili","Sirilonwe","Sirilu","Sirinaire","Sirinduure","Sirinque","Siriwen","Siroria","Sirreth","Sivisia","Sodra","Sodrara","Soliania","Solryn","Sondaale","Sondryn","Sonlonwe","Sontaire","Sorcalin","Sorfinilon","Sorosi","Sortarione","Sorvayel","Sovali","Sovi","Sovisa","Suldreni","Suldrini","Surii","Suriwen","Suronii","Sursi","Suvaris","Syalleth","Syl","Sylthendel","Symrustar","Synda","Syndra","Taalinrel","Taalorde","Taanuire","Taanwae","Taanya","Taari","Taarie","Taarsare","Taaruraire","Tadara","Tadera","Taderi","Tadrose","Taelu","Taeruumawen","Talama","Talamu","Talare","Talari","Talirinde","Talmeni","Talmsa","Talolayne","Talsi","Talsyne","Taltaarie","Talulma","Taluri","Taluro","Talvini","Talwelin","Talwullaure","Tama","Tambare","Tamira","Tanaame","Tanar","Tanasa","Tandasea","Tandilwe","Tanellinwe","Tanelwen","Tanerline","Tanisa","Tanisie","Tanusea","Taralin","Tarani","Tarania","Tarerane","Tarie","Tarinwe","Tarvili","Tarwanme","Tarwen","Tavilu","Tavya","Tavynu","Tedas","Tedoran","Tedysa","Telaendril","Telalril","Telandil","Telare","Telarnel","Telarniel","Teldrelwe","Teldulsewen","Teldwennisse","Teldwifwen","Teldyni","Teleri","Teliwen","Tellanil","Telona","Telorinwe","Telorinwen","Telura","Telwyaarie","Telyasawen","Temanlinwe","Temelin","Temerlda","Temisa","Tenara","Tenaru","Tendinwe","Tendren","Tenduldirel","Tenisi","Tenwinril","Tenyemanwe","Tenyeminwe","Teralaure","Teraniel","Teranya","Teraseldil","Terenu","Tereri","Teriinwe","Teril","Termanwe","Ternu","Teromawen","Teroni","Terorne","Teruise","Teryani","Teryne","Tevynni","Thaedil","Thaedothiel","Thael","Thaelion","Thaeliwaen","Thaellin","Thaelril","Thaenaneth","Thaendil","Thaeniril","Thaenor","Thaeraen","Thaereledh","Thaeril","Thaerin","Thaesse","Thaleth","Thalfin","Thalie","Thalienglas","Thaliwen","Thallioniel","Thalorel","Thaloril","Thalrel","Thalrinel","Thalurea","Thamenarth","Thaminiel","Thamraen","Thamriel","Thamrin","Thanael","Thara","Thariel","Tharuin","Thavere","Thelama","Thelsa","Thelvamu","Thera","Therana","Thiirchel","Thiirel","Thiirion","Thiirril","Thilse","Thorelir","Thovasi","Thralin","Thranarel","Thranileith","Thurisea","Tifosi","Tilalime","Tilanfire","Tildri","Tildsi","Tilena","Tilenra","Tilinarie","Tilisu","Tilore","Tilortil","Tilse","Tilu","Tinaso","Tindoria","Tindwode","Tindwuu","Tindwyfwe","Tinegwen","Tinimanwe","Tirasie","Tirele","Tirvina","Tirwin","Tirwortil","Tivela","Tolisi","Tolmera","Tolvasa","Tolvise","Tolvone","Tonas","Tonasi","Toranu","Torasa","Torosi","Tovisa","Traldrisa","Trayna","Traynili","Trayniria","Trea","Tredare","Tredere","Tremona","Trerayna","Trili","Trivura","Tsarra","Tuinden","Tumsa","Tundanarne","Tundulsawen","Tunila","Turala","Turalla","Turqualie","Turquenwen","Tuvene","Tuvenie","Tuveso","Udrasi","Ulandra","Ulene","Ulenea","Uleni","Ulladhel","Ulmesi","Ulmiso","Ulumir","Ulvena","Ulveni","Ulyne","Ulyno","Umbarile","Umbarume","Umbuudalin","Undaisse","Undena","Undeya","Undowolrinde","Undwelda","Undwinisse","Undwinwe","Undwyalie","Unila","Unordirwe","Unwalwy","Unwoltil","Unwudil","Unwulfwe","Uraacil","Urada","Urandile","Urani","Urava","Uravasa","Urcelia","Urena","Urene","Uresa","Ureso","Urien","Urila","Urildil","Urili","Urmicca","Urnsi","Urona","Urrila","Urtisa","Urtiso","Urwaninwe","Urwende","Uryaamo","Uryne","Uthisii","Uudilwen","Uunniel","Uunril","Uupse","Uurdhel","Uurwaen","Uurwaerion","Uurwen","Uvisea","Uvoo","Vaaryafwe","Vadeni","Vadramea","Vadusa","Vadyne","Vaelede","Vaeridil","Vaerunne","Vaerwyae","Vaerwyeien","Vairaame","Vaireno","Vairyehil","Vala","Valacarya","Valana","Valasa","Valaste","Valenn","Valenwe","Valesu","Valie","Valinwe","Valla","Valowende","Valsirenn","Valullinwe","Valveli","Valvesu","Valvosa","Valyia","Valyn","Valyne","Vamoni","Vantorwen","Varasa","Varenu","Varfundore","Variah","Varila","Varona","Varoni","Vartilonwen","Varulae","Varumil","Varustante","Varvsa","Varwenra","Vastarie","Vatisse","Vaveli","Vayne","Vedelea","Vedyne","Velanda","Velandare","Velas","Velatosse","Veldrana","Velelya","Velsa","Velya","Velyna","Venae","Venasa","Vendrela","Vendyne","Venoni","Veran","Veranim","Veranquel","Verara","Veraye","Verilu","Vermethys","Veru","Vess","Vesteldore","Vestele","Vethisa","Vevrana","Veya","Vhasla","Viansola","Viessa","Vila","Vilasti","Vilrani","Vilvyni","Vilya","Vim","Vinafwe","Vindamea","Vindare","Vinden","Vindilween","Vindyne","Vinelore","Vintenwen","Vinuuririe","Vinwinarin","Viraninde","Virenderil","Vireveri","Virurarie","Viruse","Virwen","Virwillaure","Visthina","Vivyne","Vlaasti","Vlandra","Vlesyl","Voldsea","Volene","Volmyni","Volunidai","Volyn","Voneri","Vrali","Vuldronu","Vulyne","Vuri","Vurila","Wendirre","Wendlain","Wenridil","Whisper","Wren","Wylandriah","Wynnter","Xand","Yaereene","Yakin","Yalorasse","Yaremanwe","Yarmia","Zaristesi","Zifri"],setup.NAME_elf_male_first_name=["Aanthis","Adamir","Adaves","Adavos","Adil","Adol","Adon","Adondasi","Adosi","Adovon","Adragros","Adren","Adrerel","Adril","Adwien","Aenedhel","Aengaer","Aengoth","Aengvar","Aengvir","Aenthalor","Aenthannir","Aeradan","Aerchelas","Aeren","Aering","Aerolor","Aesmer","Aesril","Agandaur","Agarond","Agilgor","Aginlas","Aglion","Agolas","Agular","Agwodir","Aicaano","Aicantar","Aicessar","Aiden","Ailluin","Aimon","Ainaame","Aiwin","Alabyran","Alam","Alamar","Alander","Alanil","Alarel","Alarnon","Alberic","Aldam","Aldaril","Aldarnen","Alderdon","Aldimion","Aldolin","Aldor","Aldos","Aldotarel","Aldryn","Alds","Alduin","Alendis","Alexadrin","Aliir","Allimir","Almas","Almerel","Almion","Almon","Alms","Alnas","Alonas","Alosrin","Alphrennor","Alphrost","Alrdorion","Althaedal","Altholmir","Alturco","Alval","Alvan","Alveleg","Alven","Alvis","Alvon","Alvor","Alvos","Alvur","Amaalmo","Amballicil","Ambalor","Ambaran","Ambarys","Ambucilion","Amil","Aminyon","Amlion","Amlundar","Amragor","Amreval","Amring","Amyril","Anarenen","Anarume","Anas","Ancalmo","Ancano","Ancarion","Ancarive","Ancelhros","Ancemen","Ancolcalion","Anconath","Ancotar","Andame","Andel","Anden","Anderferion","Anderin","Andil","Andilo","Andoriel","Andranon","Andresalmo","Andril","Andrilion","Andrinlor","Andulalion","Andur","Anel","Anfalen","Angalmo","Angamar","Angardil","Angaredhel","Angaril","Angarthal","Angedreth","Angeron","Angiente","Angilor","Anginil","Anglalas","Anglalos","Anglas","Anglenthor","Anglor","Anglorn","Ango","Angolin","Angoril","Anguilon","Anirlo","Anlyth","Ano","Anoriath","Anquen","Anral","Anruin","Antarandur","Anthelion","Antur","Anyn","Anyon","Aonus","Aracar","Aragoth","Aralem","Aralyon","Aranath","Arannir","Arantar","Arartar","Aras","Arathel","Arathor","Arayni","Arbane","Arcarin","Ardorin","Areldil","Areldur","Arelian","Arelmo","Arelos","Arelvam","Aren","Arendil","Arengo","Arengur","Arenion","Arenthil","Areth","Arethan","Arethil","Arfanel","Arganar","Arilen","Arillas","Arindur","Aringoth","Arith","Arkved","Armion","Arnas","Aroa","Aron","Arondil","Aronel","Aroni","Aronil","Aroth","Arrille","Arrimoril","Arsyn","Arterion","Arthor","Arunen","Arvel","Arven","Arver","Arverus","Arvin","Arvs","Arvyn","Aryamo","Aryo","Aryon","Ascal","Ashur","Asliel","Astor","Atalmo","Ateldil","Athal","Athanas","Athanden","Athando","Athellor","Athelyn","Ather","Athires","Athis","Athones","Athraedal","Athragar","Athrahgor","Athrelor","Athyn","Atirion","Aval","Avirel","Avos","Avron","Avrus","Avys","Ayen","Aymar","Aywin","Azareth","Azaron","Baem","Baenelros","Baenlin","Baeralorn","Baladar","Baladas","Balen","Balir","Balithil","Balras","Balver","Balves","Balvos","Balyn","Balynor","Banden","Bando","Banor","Banus","Baradras","Barayin","Baren","Barilzar","Baronas","Baros","Barothlas","Barulor","Barusi","Barvyn","Barys","Basth","Bastheladir","Bayenor","Bedal","Behelir","Beivis","Belas","Beldrose","Beldun","Belegond","Bellas","Bellulor","Belmyne","Belos","Belron","Belronen","Bels","Belvin","Belvis","Belvo","Belyn","Benar","Benaril","Bendralas","Benduin","Beneran","Benus","Beraren","Berdonion","Beredalmo","Berel","Berela","Berengeval","Berithor","Berol","Beron","Berrilidon","Berthor","Bertis","Bervaso","Bervyn","Bethes","Bevadar","Beyta","Biiril","Bildren","Bilen","Bilos","Bilotan","Birer","Bivale","Blanchete","Bodring","Bodsa","Bolay","Bolayn","Bolefin","Bolelos","Boler","Bolin","Bolion","Bolnor","Bolor","Bolrin","Bols","Bolvus","Bolvyn","Bolwagon","Bolwing","Bolwunor","Bolyn","Bongond","Boran","Borcholim","Borchon","Borelril","Boril","Borogas","Borwiian","Boryn","Borynil","Bothus","Bovis","Bovoril","Bradil","Bradyn","Bragor","Braladar","Bralas","Bralen","Bralis","Brallion","Bralthahawn","Bralyn","Brander","Brara","Brarayni","Bratheru","Brathus","Bravosi","Bravosil","Bravynor","Braynas","Bredragon","Bredromathor","Bredros","Breduin","Brelan","Brelar","Breleros","Brellin","Brelo","Brelor","Brelyn","Brengas","Brengolin","Brengor","Brenor","Brerama","Brethas","Brethis","Breves","Brevs","Breynis","Breynshad","Brilnosu","Brilyn","Briminor","Brimlagoth","Brimlirdor","Brimlor","Brinthir","Briras","Brithaur","Brithroth","Brivan","Broder","Brodras","Brogomir","Brolmir","Brolthiath","Broris","Brothes","Buram","Burrfoot","Caalore","Caalorne","Caano","Cadsu","Caeleneth","Caelin","Caenlilmith","Caenlin","Caenlorn","Caentholrin","Caerel","Caerllelfin","Caerllin","Cainar","Calabenn","Calanor","Calastil","Calbalion","Calcamar","Calcelmo","Caldandien","Caldartur","Caldelnalin","Calden","Caldien","Caldil","Caledeen","Calenus","Calibar","Calindil","Calion","Calondil","Calpelion","Calpion","Calpydir","Calthindor","Calunorril","Caluurion","Camaano","Camarelur","Camarino","Cantadir","Canthion","Canuldil","Carandial","Carecalmo","Carindon","Carmion","Carnirrimo","Caryarel","Casimir","Cason","Cassirion","Cathras","Caurtil","Ceborn","Cebroon","Celan","Celarus","Celedaen","Celegorn","Celelruin","Celinar","Celonron","Celthalion","Cendalor","Cenirond","Cerulye","Charadin","Cimerhros","Cingaer","Cingarfin","Cingor","Cingunor","Cinildil","Cinnar","Cinosarion","Cintuumetil","Cinucil","Ciradir","Ciral","Cirandur","Circimure","Cirdur","Cirendur","Cirglion","Ciricollo","Cirimion","Cirion","Cirithor","Cirmo","Cirnean","Cirodros","Cironire","Cirorlin","Cirthile","Cirtor","Ciryarel","Ciryefarion","Clenalgor","Clendil","Clenegor","Cluhurach","Colinyarion","Colmorion","Colotarion","Coluldorn","Condalin","Connak","Coreyon","Corimin","Corirmorion","Coristir","Cornar","Cororrond","Corunorion","Corvus","Cruethys","Cuilacelmo","Cuilalme","Cuileril","Cuinanthon","Cuinur","Cun","Cunendor","Cunodir","Curandil","Curinure","Curissil","Curtaarimon","Curtaros","Curvanen","Cylben","Da'ravis","Daalinden","Daenilroth","Daenlin","Daeril","Dakath","Dalam","Daldur","Daledan","Dalen","Dalim","Dalin","Dalmil","Dalmir","Dalodir","Dalomar","Dalos","Dalosil","Dalrelvir","Dalrithor","Dals","Dalvus","Dalyn","Danaat","Danar","Dandos","Dandras","Dandril","Danel","Daneras","Dangor","Danir","Danmon","Danrithri","Danus","Danys","Daral","Daras","Dardalmoth","Dardir","Daren","Darlas","Darns","Daroder","Dartis","Daru","Darvam","Darvasen","Daryn","Dastas","Dathangil","Dather","Dathidor","Dathus","Davak","Davas","Davenas","Davis","Davur","Daynas","Daynes","Daynil","Dedaenc","Dedaenil","Dedras","Del","Deleren","Delmon","Delmus","Delos","Delvam","Delvoni","Dendras","Denegor","Dennir","Dennithel","Dennoroth","Denrin","Denthis","Denus","Deras","Deregor","Deros","Derveglor","Dervenin","Dessathiel","Dethis","Dethisam","Dethresa","Deval","Devas","Diendus","Diiril","Dilmus","Dils","Dindom","Dinor","Diram","Diranor","Dirchanor","Dirdelas","Dirding","Dirver","Dithis","Div","Divayth","Dohna","Dolilas","Dollarthor","Dolmyn","Dolnus","Dolril","Dolyn","Domillas","Donallir","Dondir","Dondos","Donen","Donthengeval","Donus","Doradrin","Doralon","Doranar","Dordanion","Doril","Dorinlas","Dorodir","Dorondor","Dovor","Dovres","Dovyn","Draeg","Dralas","Drallin","Dralnas","Drals","Dralval","Dram","Dramis","Drandryn","Dranos","Dranoth","Drarayne","Drarel","Draren","Draron","Drarus","Draryn","Drathus","Drathyn","Drauginor","Draugorin","Drauldolim","Draulduin","Draval","Dravasa","Dravil","Dravin","Dredase","Drel","Drelas","Drelayn","Drelden","Drelis","Drels","Drelse","Drelyth","Drerel","Drevis","Dreynis","Dreynos","Dridas","Dridyn","Drilalfin","Drimrin","Drinar","Drinlin","Drinroth","Drivas","Drodos","Drondar","Dronos","Drores","Droval","Drovas","Drovos","Drulis","Druls","Drulvan","Dubdil","Duldrar","Dulenil","Dulmon","Dunel","Duperil","Dural","Durel","Durell","Duren","Durodir","Dururo","Duryn","Dyleso","Dynus","Ealcil","Eancar","Eanen","Eanidore","Eanor","Eanurlemar","Earamon","Earanyon","Eardir","Earelcar","Earenwe","Earil","Earmil","Earomar","Earos","Earran","Earrastel","Earunlad","Edalor","Edd","Edeleg","Edhelas","Edheldor","Edhelfin","Edhelorn","Edhelruin","Edhelvir","Edorfin","Edras","Edril","Edrin","Edthas","Edundor","Egannor","Egarfin","Egelnor","Egelrin","Egenor","Egenthor","Eghanar","Egidnor","Egidrin","Egilas","Eginir","Eginthoril","Eglabenn","Egolor","Egranor","Eguroth","Ehran","Eithyna","Elaldor","Elam","Elanaldur","Elanar","Elanir","Elanninur","Elberoth","Eldamil","Eldecil","Eldellar","Elderhros","Elderien","Eldhon","Eldil","Eldinaran","Eldrar","Eldumoril","Eldyme","Elebor","Elegal","Eleril","Elethir","Elethlin","Elethus","Elhalem","Elhul","Elidor","Elikar","Elilor","Eliras","Ellacalion","Ellidoril","Ellimil","Ellisar","Elms","Elneandil","Elo","Elodinar","Elolir","Elonde","Elondil","Elonthor","Eloroth","Elphregor","Elpion","Elrindir","Elseer","Elthras","Elundur","Elurmeril","Elurtalmo","Elvas","Elvil","Elwintinar","Emderil","Emecelmo","Emonarel","Enaring","Enathorn","Enathras","Endar","Endaron","Endarwe","Endocar","Endrast","Endregail","Endril","Endring","Endris","Endrothir","Endryn","Endul","Enelon","Enethrin","Engaenir","Engaer","Engiroth","Englor","Engor","Engorm","Engulion","Enilroth","Enodoril","Enoring","Enrion","Enrith","Entelator","Enthilin","Enthir","Enthis","Enthonor","Enthoras","Enthorin","Enulyanar","Envaril","Eraaman","Eraamion","Eradan","Eraegaer","Eralgor","Eralorn","Eraman","Eranamo","Eranas","Erancar","Erandur","Eranion","Erannin","Eraros","Erasmo","Erator","Eraven","Erdelan","Erebil","Eremind","Erendil","Erene","Erengor","Erer","Ereven","Eridor","Erimroth","Eringor","Eris","Ernil","Erns","Eroan","Erodir","Erolndil","Erolquen","Eron","Eronor","Eronos","Eronthor","Erothel","Erradan","Errandil","Erranenen","Erthaenir","Erthalmoth","Erthas","Erthelgor","Erthonor","Erthor","Ertucalion","Erudil","Erundil","Erunien","Erunor","Erval","Ervalir","Ervas","Erver","Eryarion","Eryeril","Erymil","Eryon","Esaranir","Esladir","Eslendore","Eslion","Essaldur","Estaamo","Esteltin","Esterdel","Estertarian","Estormo","Esulo","Esunil","Esuren","Ethes","Ethgin","Ethlinor","Ethodan","Ethruin","Ethyan","Ethys","Ettrian","Eurnus","Evindal","Evis","Evo","Evos","Evul","Fabanil","Fadar","Faderi","Fadren","Faeldal","Faelemar","Faelian","Faendal","Faenegor","Faengongorn","Faenir","Faenlidor","Faenlolras","Faenthundor","Faerelos","Faerin","Faerorin","Faidur","Faindor","Fainertil","Fainorume","Fairimo","Faladil","Falahawn","Falam","Falanaamo","Falandamil","Falarel","Falas","Falcar","Faldaleb","Faldan","Faldrus","Falelros","Falen","Falion","Falordilmo","Falseth","Falso","Falthalorn","Falutur","Falvel","Falvis","Famronion","Fandil","Fandilol","Fangilmir","Fanildil","Faninmandon","Fannariel","Fanorne","Fanvyn","Fanwedil","Fanyarel","Faradan","Faralan","Faralos","Farandor","Faranwenn","Farcaano","Fardel","Farethor","Fargoth","Farmeldo","Farmir","Farmolbrian","Farmorion","Farthagal","Farthalem","Farulnor","Farvam","Farvyn","Farwil","Faryl","Fasaran","Fasarel","Fasendil","Fasion","Fastor","Fasundil","Faulannor","Faulbor","Fauleroth","Faulgor","Faulor","Faurchon","Faurinar","Favar","Favas","Favel","Faven","Faver","Faves","Fealote","Fedar","Feladir","Felaern","Felarian","Felas","Felayn","Felen","Felisi","Felrar","Felsen","Felvan","Felvos","Felvyn","Femer","Fenanaral","Fenarcalmo","Fenderil","Fendinmin","Fendros","Fendryn","Fengrin","Fenlil","Fennus","Fenoromir","Fenteladir","Fenton","Fenus","Feran","Feranos","Ferasi","Feredir","Ferele","Feril","Ferlaatelmo","Ferlion","Ferlulril","Ferlurnire","Ferordomas","Ferul","Feruren","Fervas","Fervyn","Fethis","Fevris","Fevus","Fevyn","Fhaornik","Fiirenanar","Fiirenir","Fiiriel","Fiirofalion","Filalmoth","Filbolrel","Fildir","Filingaer","Fillin","Filmian","Filuntol","Fimmion","Fimrimion","Findarninur","Findelorn","Findir","Findircalmo","Findor","Findulain","Findun","Finedrin","Finemo","Fingaenion","Fingor","Finlas","Finnalir","Finonas","Fintholor","Finunval","Finvir","Finyedion","Firaelion","Firagaer","Firamo","Firavar","Fireluin","Firen","Firisar","Firolbor","Firolmoth","Firon","Fironthor","Firras","Firruldoril","Firthaedal","Firtirantar","Firuin","Fithragaer","Fithrolon","Folayn","Foldor","Folilas","Folmar","Folmon","Folms","Foloros","Folvys","Folyni","Fonalor","Fongidor","Fongoth","Fons","Fonus","Foral","Fordan","Forelfin","Forinor","Foroch","Forolon","Forongon","Foronir","Forthor","Forven","Foryn","Fothas","Fothyna","Foves","Fovus","Fradion","Frathen","Furen","Furil","Furlarros","Furon","Fyrayn","Gadayn","Gadinas","Gadnalon","Gadnor","Gadris","Gaedil","Gael","Gaeldol","Gaelion","Gaelthagar","Gaenengeval","Gaenennor","Gaenor","Gaerthgorn","Gaerthidrin","Gaerthir","Galalrimon","Galalron","Galam","Galandir","Galar","Galbor","Galdilin","Galdres","Galdrus","Galen","Galenwe","Galfinar","Galgalah","Galiel","Galirlmo","Galis","Galithor","Galmelor","Galmir","Galmis","Galmon","Galms","Galolion","Galondorn","Galriel","Gals","Galthonor","Galthragoth","Galulaben","Galur","Gamin","Ganalyn","Gandalor","Gandonion","Ganolon","Ganthis","Ganus","Ganwidrin","Garan","Garenas","Garer","Garis","Garisa","Garnas","Garvas","Garvs","Garyn","Gathal","Gavas","Gavesu","Gavis","Gavros","Gavryn","Gazalem","Gazunil","Gedras","Gedsar","Gelabenn","Geldis","Gelds","Gelebros","Gelephor","Gelin","Gelthior","Gendyn","Geril","Geron","Gerren","Gerrick","Gerrilgor","Gethan","Gethis","Gidain","Gidar","Giden","Giiril","Gilan","Gilanbor","Gilas","Gilasi","Gilen","Gilgondorin","Gilien","Gilmyn","Gilragaith","Gilur","Gilvas","Gilyan","Gilyn","Gilyne","Gindas","Ginion","Ginthor","Ginur","Giralon","Girano","Giras","Giravel","Girduin","Giren","Girin","Giron","Giruss","Girvas","Giryn","Glaatol","Gladroon","Glalongoth","Glalor","Glamran","Glanil","Glanir","Glanongor","Glanoyar","Glarthir","Glathor","Glathras","Glaugluin","Glauloroth","Glaum","Glaurilas","Glaurolin","Glenadir","Glinthinar","Glirion","Gloldor","Glolmir","Glolor","Glonagoth","Glongor","Glonnir","Glooring","Gloorolros","Gloron","Glothor","Gluin","Godadras","Godros","Golar","Goldyn","Goler","Goll","Golor","Gols","Golun","Golven","Gomlor","Gonlas","Goralas","Goralgor","Goras","Gorchalas","Gordol","Goren","Gorendir","Gorinir","Goris","Goron","Gorour","Gorulbor","Gorvas","Gorverys","Gorvyn","Gothrarth","Gothren","Gothrongor","Goval","Govar","Govil","Govyth","Gragus","Grell","Grendis","Grohanar","Guillaume","Gulmon","Guls","Gundalas","Gural","Gureryne","Guril","Gwaegalir","Gwael","Gwaerinbor","Gwagoth","Gwannas","Gwannor","Gwanolrin","Gwarolgor","Gwilandor","Gwilgoth","Gwilin","Gwilir","Gwilon","Gwinadras","Gwinas","Gwindebros","Gwindir","Gwinengur","Gwingelruin","Gwingeval","Gwinir","Gwinithor","Gwinolas","Gwinor","Gwiras","Gwiroth","Gyrnasse","Hadelar","Hadendor","Hadnilion","Hadran","Hadras","Hadril","Hagaelion","Hagaer","Hagwin","Haladir","Halalin","Haldinil","Haldoril","Haldyn","Halelmathras","Halidur","Halimorion","Halindor","Halinirya","Halino","Halion","Halordil","Halridor","Halronion","Halseth","Hamen","Hamevion","Hanelaon","Hanil","Hanilan","Haraenion","Haras","Hareglor","Harin","Harinlor","Harlin","Haron","Hartmin","Harvyn","Harwion","Hastos","Hasudel","Haymon","Hecalindil","Hecerinde","Hednor","Hegaer","Hegor","Hekvid","Helaran","Heldil","Helemil","Helirmaryon","Helmir","Helondanbor","Helpirion","Helseth","Heluin","Heluumar","Henaamo","Henandan","Henantier","Henaril","Hendare","Hendaril","Hendil","Henendor","Hengolar","Hengolir","Henlandon","Hennus","Henodras","Henyon","Heralbor","Heratir","Hererquen","Hervarion","Hervetole","Hervil","Heryemo","Heryndel","Hesolmo","Hiath","Hidellith","Hilan","Hinaamo","Hindaril","Hingaron","Hingor","Hirenariel","Hirtel","Hiryadrion","Hladvyr","Hlanas","Hlarei","Hlaren","Hlaril","Hlaroi","Hlen","Hlenil","Hlenir","Hleras","Hleryn","Hleseth","Hloris","Hloval","Honditar","Hort","Hunder","Hundolin","Hunindir","Hurdalas","Hurgedor","Hurolas","Hurthinnor","Hyalan","Hyamir","Hyandorril","Hyarnarenquar","Hydalion","Hyircil","Hymonim","Hyurmir","Iachesis","Icarian","Idras","Idreloth","Idrono","Idros","Ilaatysar","Ilanoras","Ildos","Iledas","Ilem","Ilen","Ilermarin","Ilet","Ilimitar","Ilindhar","Iliphar","Illmildil","Ilmindil","Ilmiril","Ilmure","Ilring","Ilrune","Ilthring","Ilvar","Ilvel","Ilver","Ilwen","Imedril","Indaenir","Indaryn","Indelor","Indiir","Indilgalion","Indilure","Indinor","Indinroth","Indolor","Indralir","Indrelor","Indring","Indure","Indyen","Ineldhel","Inenborn","Iner","Ingamircil","Inganar","Inganirnei","Ingarlas","Ingatalmo","Ingeromir","Ingunnen","Inialos","Inluin","Iradal","Iralundore","Iramo","Irarak","Iraruk","Irasil","Irer","Irielis","Iroroon","Irver","Irvir","Irvulil","Isinborn","Isiraamo","Itaalel","Iteldil","Itermerel","Ithanarth","Ithgagon","Ithis","Itumil","Iulidul","Ivulan","Ivulen","Iwelien","Jannalor","Jiub","Jorildyn","Josidiah","Jovron","Jubesil","Juppar","Kael","Kallin","Kanat","Kardryn","Kareth","Keletheryl","Kelurm","Kelurmend","Kendel","Kerninn","Khatar","Khidell","Khuumal","Kiirion","Kilao","Kiliban","Kolvar","Kornalus","Kovan","Krem","Krilat","Kronin","Kuornos","Kura","Kylius","Ladrelas","Laelrion","Lagrethor","Landomas","Landorganil","Landorume","Landuyas","Lanelor","Lanilian","Lanrian","Laronen","Larthas","Laruumorien","Laryantil","Lassen","Lataryon","Lathlaeril","Laurosse","Layedril","Ledronor","Legimir","Legodir","Lelorion","Lemring","Lemrongorn","Len","Lenahawn","Lenam","Lenarmen","Lendetelmo","Lendilndorion","Lendras","Lenel","Lenendore","Lengaer","Lenolin","Lenonion","Lenor","Lenoril","Lenranas","Lentidorn","Lenwe","Lerangor","Lereluin","Lerinyon","Lermilcilion","Lermion","Lernuvaril","Lernyelel","Lestadir","Leythen","Lhoris","Liam","Liiril","Lilthelfin","Lilthidrin","Linaaldel","Linalion","Lindel","Linenare","Lingarmoril","Lingonir","Linormo","Linuudilmo","Linwe","Linwenvar","Linwirmion","Linyon","Lirendel","Lirtis","Lisagnor","Lisdebar","Lisondor","Lisotel","Listallel","Listinandil","Litaagonir","Litarion","Lithindur","Lithnilian","Lithodor","Lithyyorion","Lituudrahil","Llaalam","Llaals","Llaarar","Lladrelo","Llanas","Llandras","Llandres","Llandris","Llandryn","Llanel","Llanvyn","Llarar","Llarel","Llaren","Llaro","Llarol","Llavam","Llenus","Lleran","Lleras","Lleril","Lleris","Llero","Llether","Llevas","Llevel","Llevule","Lliram","Lliros","Lliryn","Llivam","Llivas","Lloden","Llodus","Llonas","Llondryn","Llonvyn","Lloros","Llovyn","Llovys","Lludyn","Llurour","Lluther","Llynth","Loncano","Lonor","Loraaldel","Lorcalin","Lorchon","Lorfolas","Lorfolros","Lorgresil","Loriel","Lorimil","Lorion","Lorirlemil","Loryvn","Lowindor","Luinillcar","Luren","Lyklor","Lylim","Lyrin","Lythelus","Macamir","Maddu","Madov","Madran","Madras","Madres","Madruin","Madrus","Madsu","Maendir","Maenlin","Maenlorn","Maenrin","Maenthanaras","Maeral","Maeroth","Magaelion","Maglir","Maiele","Malan","Malar","Malborn","Malbuin","Maldur","Maldus","Malgawn","Malgor","Malgorin","Malgoth","Malin","Malinor","Malion","Malionar","Malirndon","Malkur","Mallam","Mallas","Malni","Malon","Mals","Malthagros","Malthor","Malthyr","Malur","Maluril","Malvasian","Malvir","Malyn","Manabi","Manacar","Manalmir","Mandir","Mandolion","Mandor","Mandran","Manduntare","Mandur","Mandyn","Manel","Manenlir","Maner","Mangaer","Mangeth","Mangildril","Mangonas","Manilbor","Manis","Mankar","Mannimarco","Manolos","Manore","Manroth","Manthir","Manyn","Marantar","Maras","Marasar","Marayn","Marbarin","Marenil","Maril","Marilrin","Marinmar","Marolos","Maros","Marostaale","Marthine","Martos","Maruin","Marvyn","Maryl","Mastrius","Mathal","Mathin","Mathis","Mathragor","Mathralfin","Mathyn","Mavis","Mavon","Mavus","Meanen","Medar","Meden","Meder","Mednil","Medyn","Megail","Mehra","Mehran","Mel","Melandrach","Melar","Melaran","Melas","Meldil","Meldon","Meldor","Meldras","Meleras","Melil","Melinfel","Melleron","Melluin","Mels","Melur","Meluuran","Menaldinion","Mendol","Mendros","Mendyn","Menelras","Meneval","Mengerlas","Mengonir","Menorfin","Menthorn","Menuldhel","Menus","Merail","Meram","Merandil","Merano","Mercano","Merdyndril","Meredil","Merethrin","Meril","Merildor","Merion","Merlisi","Merormo","Mertheriel","Mertis","Mertisi","Mervis","Mervs","Meryaran","Meryn","Meryon","Methal","Methas","Methring","Mevel","Meven","Mevil","Mevilis","Mevis","Midalmo","Midar","Midari","Miil","Milam","Milar","Milerond","Milgangor","Milion","Millabenn","Milmendien","Milmilin","Mils","Milwalin","Milyn","Minan","Minangor","Mindil","Minducil","Minedhel","Miner","Mingaenir","Mingalion","Minglos","Mingonor","Mingor","Minthelir","Miratar","Mirchanas","Mirdinnarian","Miremonwe","Mirilir","Mirionil","Mirnor","Miron","Miruin","Mirulon","Mirvon","Missun","Mithorpa","Mivam","Mivul","Mjahlar","Modorin","Modradil","Modryn","Modyn","Molacar","Molanor","Molirstamil","Mollimo","Mollorn","Mollyon","Molostroi","Mondrar","Mondros","Monennor","Monganar","Mongon","Mongor","Mongoth","Monis","Monormil","Monthadan","Monvaras","Monwe","Moraelyn","Moranarg","Morelrubel","Morimbar","Mormalion","Mormeril","Mornandil","Mornurdur","Mororurg","Morth","Morthelos","Morthil","Mossanon","Movis","Mrilen","Mrylav","Mudyn","Mullas","Mulvarion","Munbi","Muramil","Murarel","Murderil","Muriil","Muril","Murilam","Murilen","Muron","Muronad","Muvis","Myl","Myrddin","Myriil","Mythanthar","Naalirnenil","Naanelore","Naanirfalion","Naarcaano","Naaril","Naarwe","Naddu","Nadonil","Nadras","Nads","Naemon","Nafarion","Nafiryaamo","Nafyeyor","Naglanor","Nagledrin","Nalbor","Naldyn","Nalguin","Nalion","Nalis","Nallelfin","Nallore","Nalman","Nalmen","Nalosi","Naloso","Nals","Nalthenlir","Nalur","Nam","Namorimon","Namornen","Nande","Nandelle","Nanormanar","Nanthenas","Nanwen","Naral","Naramin","Naranbar","Narandor","Nardhil","Nardis","Naris","Naritalmo","Narivys","Naro","Narsis","Narvyn","Narwundhel","Naryni","Naryon","Nathyn","Navam","Navanu","Navil","Navlos","Navren","Nedaegaer","Nedhelas","Nedhelfin","Nedhellas","Nedhelorn","Nednor","Nedoril","Nedras","Nedrin","Nedtharond","Nedthion","Negaelion","Nelacar","Neldris","Nelerien","Nelgorn","Nelguar","Nelinar","Nelissil","Nellor","Nelmil","Nelos","Neloth","Nels","Nelulin","Nelundahin","Nelvon","Nelyn","Nemalarian","Nemfarion","Nemuutian","Nemyn","Nen","Nenaron","Nenaronald","Nendaer","Nendahin","Nendilir","Nengenil","Nentimo","Nentirona","Nenvalion","Neramo","Nerandas","Nerantar","Nerassil","Nerathren","Nerdorion","Nerellanvir","Nerer","Nergor","Nerien","Nerien'eth","Neron","Neronnir","Netalcar","Nethis","Nethrin","Nethyn","Nevam","Nevil","Nevon","Nevos","Nevosi","Niden","Nidras","Niil","Nil","Nilaendril","Nilarion","Nilas","Nildedrin","Nilding","Nildolnorne","Nilos","Nilphas","Nilthis","Nilus","Nilvys","Ninbael","Nindir","Ninglenel","Ninglos","Ningor","Ninguldhon","Niraegaer","Niramo","Niras","Nirelon","Nirm","Nirolos","Nironor","Nirthindor","Nirthongoth","Niruin","Nirulmo","Nirunar","Nival","Nivan","Nivel","Nivis","Nivos","Nocare","Nocerren","Noculvon","Noldir","Nolonir","Nolontar","Nolulnarian","Nomefanya","Nongiruin","Nonvarel","Nopos","Norarubel","Nordinor","Norfando","Norion","Norionil","Norirtil","Noris","Norivin","Norunduil","Norus","Norvir","Noryon","Nothilgor","Nothirvir","Nothrelras","Nothrolion","Novor","Novos","Nremyn","Nuleros","Nulion","Nulurin","Nuluufarya","Numithir","Numyn","Nunaacil","Nunalhros","Nunelneandil","Nunorbel","Nurelion","Nurov","Nuulehtel","Nuulion","Nuvondo","Nyderion","Nym","Nyvorlas","Obenion","Obentor","Ocando","Ocandur","Ocanim","Ocato","Odral","Odreth","Odrethin","Odril","Odron","Oenel","Ogarendir","Ohartalmo","Ohmonir","Ohtimbar","Ohtimir","Oisig","Olahanar","Olanbrim","Olarion","Olaurae","Oldis","Olincilion","Olleg","Ollion","Olquamir","Olquar","Oltimbar","Olunandon","Olyn","Omin","Ondar","Ondendil","Ondicantar","Ondindil","Ondolemar","Ondras","Ondres","Ondunlmo","Ongalion","Onglor","Onglorn","Opylemil","Oradel","Oranron","Orben","Orbinor","Orchelor","Orchelos","Orchenas","Orchendor","Orchinar","Orcholin","Ording","Orenthel","Orini","Orinol","Orintur","Orist","Ormil","Ormilus","Ormurrel","Orninlur","Ornis","Orns","Oromin","Orquan","Orrnar","Orthalon","Orthanron","Orthelos","Orthenir","Orthonor","Orthorn","Orthoron","Orval","Orvas","Orym","Osalmil","Ostion","Othloth","Othrelos","Othreloth","Ovis","Ozul","Palbatan","Palomir","Pamyedalin","Panamar","Pandermalion","Panuncil","Parenonas","Parmanir","Parmbarel","Parmion","Parmtilir","Pegasai","Pegebor","Pegolos","Pelaltor","Pelidil","Pelladil","Pelleas","Pelleren","Pelorrah","Penanmindil","Penindur","Peninya","Peragon","Peras","Perinor","Perranas","Phaendar","Phraan","Pircalmo","Piringamen","Piromir","Pirondil","Pirtar","Piruyamo","Pleufan","Polinus","Pondomir","Qamor","Qamtir","Qoramir","Qorwynn","Qualion","Quanomil","Quaranir","Quaranon","Quarantar","Quarintil","Quarmuuril","Quaronaldil","Quelilmor","Quell","Queryarel","Quodel","Quomin","Quorarion","Quynn","Raddu","Raen","Raendor","Rafel","Ragalvir","Ral","Raladas","Ralalorn","Ralam","Ralden","Raldis","Ralds","Raleth","Ralim","Ralis","Ralmyn","Ralondel","Raloro","Ralos","Ralsa","Ralvas","Ralyn","Ramsi","Randor","Ranedor","Ranes","Raniluin","Ranor","Ranso","Rararyn","Raril","Raryn","Raston","Rathal","Rathilmith","Ravam","Raven","Raviso","Ravlan","Ravos","Ravyn","Raynil","Raynilie","Raynor","Redas","Redvayn","Regring","Relam","Relas","Relen","Relequen","Rellus","Relms","Relmus","Relnus","Rels","Relur","Relvic","Relyn","Remas","Remyon","Ren","Renam","Rendarion","Rendil","Renli","Rennus","Renos","Renthis","Renus","Renvis","Reraryn","Rernel","Reron","Rervam","Respen","Rethelmir","Rethrin","Revus","Revyn","Reynis","Rhavil","Rhys","Ridras","Riidras","Riivel","Rilas","Rilaso","Rilding","Rilen","Rilion","Rilitar","Rilorns","Rilos","Riluaneth","Rilus","Rilver","Rilyn","Riminil","Riminor","Rimintil","Rindir","Rindral","Rindulath","Rininion","Rinlir","Rirnas","Rirns","Rithanion","Rithlen","Rithrannir","Riud","Rivame","Rivenar","Rivyn","Rodaegaer","Rodring","Rol","Rolalmoth","Rolancano","Roland","Rolandor","Rolding","Roldofin","Rolerandur","Rolindor","Rolion","Rolis","Rollin","Rolon","Rols","Roltilmo","Rolumdel","Rolver","Rolves","Rolvyn","Romlyn","Ronahanar,","Rondor","Rondrin","Roner","Roneril","Ronervi","Ronolin","Ronthil","Rornas","Rothis","Rothondothrin","Rothraenion","Rovone","Rulanir","Rulantaril","Rulenliondil","Ruliel","Rulindil","Rulistil","Rullenyorion","Rullincil","Rullordril","Rullunar","Rulnannariel","Rulnerdomas","Rulninmir","Rulorn","Rulotar","Rultarion","Ruluril","Rumare","Rumlerrubel","Runil","Ruram","Rurelion","Ruucaramil","Ruurifin","Ruuvitar","Ruvyn","Ryain","Rythe","S'ephen","Sadas","Saden","Sadis","Sadryn","Saelin","Saevyr","Salahanar","Salalin","Salas","Saldaer","Saldir","Saldus","Salen","Salgaer","Salin","Salmo","Salvas","Salver","Salyn","Samblar","Samel","Sanamen","Sanarel","Sandaenion","Sanderion","Sanessalmo","Sanodil","Sanonor","Sanvyn","Sanvyno","Sanyon","Sarandil","Saras","Sarathram","Sarayn","Saril","Saris","Sarmionor","Sarodor","Sarohanar","Sarolion","Saromir","Sarthis","Sarvil","Sarvilen","Sarvlos","Sarvur","Saryn","Saryne","Saryvn","Sathas","Sathis","Sathram","Savarak","Savor","Savos","Savur","Savure","Sawoyewen","Seanwen","Sedam","Seden","Sedrane","Seldus","Seler","Selman","Selmen","Seltin","Selvil","Semial","Semiral","Sen","Senar","Sendel","Sendet","Sendus","Sendust","Senil","Seras","Serer","Seridur","Sero","Seron","Serul","Servos","Seryn","Sethesi","Sethrin","Sevan","Sevilirion","Sevilo","Sevilon","Sevus","Seythen","Shaguniel","Shashev","Shaundyl","Shishiv","Shulki","Sil","Sildras","Silir","Silolthon","Silvanir","Simohil","Sinaldurion","Sincano","Sincantar","Sinderion","Siniel","Sinithrel","Sinren","Sintaananil","Sinyaramen","Sinyaruton","Sinyon","Sircantir","Sirdor","Sivan","Skelos","Slitter","Slythe","Sodres","Soltarian","Solvar","Sondas","Sorangarion","Soraperil","Soraturil","Soravil","Sorcalin","Sorderion","Soriel","Soris","Soritirmo","Sorondil","Sorriel","Sortam","Sortis","Sortuuya","Soryenil","Sott","Sovor","Squan","Stlennius","Strav","Sul","Sulen","Sulimir","Sulis","Sumiril","Sunantor","Sunel","Sununturil","Sur","Surerndur","Surilen","Surolmoril","Suron","Surond","Suryn","Suryvn","Suurelbrim","Suurootan","Suvaris","Suvryn","Svadstar","Sylch","Sylvain","Symmachus","Syndelius","Syndus","Tadaran","Tadas","Tadis","Taegen","Talambarel","Taldyn","Talendil","Talerion","Talinturil","Talinus","Talmis","Talmo","Talms","Talnus","Talomar","Talonir","Talqua","Talres","Talso","Talvas","Talvenyl","Talviah","Talvur","Talym","Tamthis","Tanacar","Tanamo","Tandemen","Tandil","Tandram","Tanel","Tangarion","Taningamen","Tanion","Taniril","Tanorian","Tanulad","Tanulldel","Tanulnyon","Tanur","Tanuro","Tanval","Taralqua","Tarar","Taredinion","Tarel","Taren","Tarer","Tarhiel","Taril","Tarir","Tarma","Tarmimn","Tarmultur","Tarnamir","Tarnarrubel","Taron","Taros","Tarqualaite","Tarrent","Tarvus","Tarvyn","Tarvynil","Taryetinar","Tatenni","Taumas","Taume","Taurilfin","Taurimind","Tauryon","Taves","Tavis","Tedras","Tedrel","Tedril","Tedryn","Tedryni","Tedur","Tehlmar","Telacar","Telbaril","Telbincamo","Teldigaran","Teldryn","Teldryni","Teldur","Telenger","Telinturco","Telis","Telmiltarion","Telomure","Telonde","Telonil","Telonre","Telorsar","Tels","Telultur","Telvon","Telyneyan","Temis","Tendil","Tendir","Tendirrion","Tendren","Tendris","Tendyederion","Tendyn","Tenirtel","Tenlethon","Tennus","Tens","Tenunil","Tenval","Tenvaril","Terer","Teres","Terilar","Teris","Tervur","Tesenmolin","Tessilstar","Tessorthon","Tesurcarion","Tethal","Tethis","Tethyno","Tevyn","Thadar","Thaden","Thadon","Thaer","Thalanil","Thalas","Thandon","Thanelen","Thanelon","Thanethen","Thanusel","Tharer","Tharys","Thathas","Thauraver","Thauravil","Thaurron","Thavil","Theldyn","Thelerodor","Thenley","Theodred","Thervam","Thetathor","Thiile","Thiingelien","Thiran","Thirvam","Thodothor","Tholbor","Tholdaegal","Tholdegil","Tholdinlor","Thole","Tholer","Tholerthorn","Thollebros","Thollidor","Thollunil","Thololin","Tholongor","Tholor","Tholralem","Thongonor","Thonoras","Thorianion","Thorinor","Thoromlallor","Thoron","Thorongil","Thoronir","Thoronor","Thoryn","Thragaer","Thragnor","Thrandion","Thrangirfin","Thranor","Thraul","Threval","Threvul","Thrush","Thulendor","Thundermaul","Thurindil","Thys","Tidras","Tidros","Tidyn","Tiiril","Tilanos","Tilarion","Tilcalar","Tildannire","Tildanyorion","Tildinbrim","Tildur","Tilmanar","Tilmo","Tilnygaran","Timion","Timiwe","Tinaducil","Tinos","Tinzen","Tiram","Tiras","Tirer","Tireso","Tiril","Tirnur","Tirvel","Tirwlurion","Tivam","Tolendir","Tolendos","Toris","Torolon","Torvayn","Tovas","Traeliorn","Tragrim","Tralas","Tralayn","Trallilrion","Tralor","Tramerel","Traven","Traylan","Trechtus","Tredyn","Trelam","Trelano","Trelon","Trels","Trendrus","Treram","Treras","Trevyn","Triandal","Trilam","Trilion","Trivon","Trivus","Tryvilis","Tuindal","Tuinorion","Tuinvitar","Tuinylerion","Tullas","Tuls","Tumande","Tumbadoril","Tumbaril","Tumbomelion","Tuminderion","Tumindil","Tunengore","Tunus","Turath","Turnol","Turon","Turril","Turseth","Tusamircil","Tusoril","Tuundir","Tuunnir","Tyermaillin","Tymonir","Tythis","Ulando","Ularfire","Ulcellore","Ulcunariel","Uldwin","Ulen","Ulmion","Ulms","Ulonron","Ulphroth","Ulran","Ultholon","Ulthorn","Ultis","Ultus","Ulundil","Ulverin","Ulves","Ulvil","Ulvon","Ulvul","Ulwaen","Ulwemir","Ulwithor","Ulymen","Ulyn","Umbacano","Umbelmion","Umbendon","Ummanor","Undil","Unel","Ungaedal","Ungalin","Ungarion","Ungeleb","Ungenor","Ungiras","Ungolim","Ungrendor","Ungrien","Uradras","Uradris","Uranyon","Urcelmo","Urene","Ureval","Uricantar","Urilis","Urlurlarion","Urluudomas","Urnel","Urralosl","Urunil","Urvan","Urvel","Urven","Uryando","Uryn","Urynnar","Uthrel","Uulafalmil","Uulernil","Uulion","Uungor","Uuras","Uurkar","Uvele","Uvren","Uwedrin","Vaalyun","Vadelen","Vaden","Vadethes","Vadinil","Vadrik","Vaelin","Vaerelel","Vairabrian","Vairalmil","Valando","Valano","Valdam","Valderyorian","Valds","Valec","Valen","Valeyn","Valiano","Valik","Valin","Valindor","Valion","Valmir","Valnalmarin","Valnil","Valnurion","Valorone","Valrendil","Vals","Valtarion","Valtir","Valtuumetil","Valunben","Vamen","Vanando","Vancano","Vancecarion","Vancoldalion","Vandalion","Vander","Vanderil","Vandoril","Vandulyar","Vanel","Vanendil","Vanirion","Vanryth","Vanus","Varafalmil","Varalladan","Varam","Varel","Vareldur","Varen","Vares","Varfandur","Varis","Varlyn","Varon","Varryn","Vartis","Varvir","Varvur","Vatola","Vatollia","Vatonyamil","Vaves","Vavil","Vavran","Vedam","Vedra","Vedran","Velam","Velis","Velms","Velvul","Velyn","Venali","Venayen","Vendil","Vendras","Venerien","Veneval","Venthin","Venthis","Verandis","Veren","Veros","Vesstan","Vevos","Vevul","Viarmo","Vicmond","Viiron","Viivitar","Vilms","Vilur","Vilval","Vilyn","Vincalmo","Vincano","Vinder","Vindur","Vinenoldil","Vingalmo","Vinganirne","Vingarion","Viras","Virgeraurd","Viros","Virumariel","Virvyn","Vitollia","Vivos","Vivrun","Vivul","Vobend","Vodryn","Volanaro","Vole","Volm","Vonden","Vonos","Voranil","Voranyarin","Vorar","Vorian","Vorir","Vorundil","Voruse","Vother","Vrithilin","Vuhon","Vulluin","Vulmon","Vunal","Vunden","Vurdras","Vurvyn","Vuval","Vuvil","Wailimo","Wilhem","Wiliban","Wirande","Wyndelius","Xalph","Xhalth","Xiomara","Yakov","Yanaril","Yancol","Yanniss","Yannod","Yannodil","Yarelion","Yarmondur","Yarnar","Yeveth","Yonadus","Yurilas","Yvondir","Zahshur","Zanil","Zanon","Zerutti","Zimmeron"],setup.NAME_elf_surname=function(){const i=["Amber","Auror","Azure","Arrow","Bear","Bee","Bird","Black","Blade","Blue","Bow","Branch","Bramble","Breeze","Briar","Bright","Broad","Claw","Clouds","Dark","Dawn","Dew","Dream","Dusk","Eagle","Earth","Even","Ever","Fair","Fall","Fallow","Far","Feather","Fern","Fire","Floral","Flutter","Forest","Frost","Glade","Gray","Green","Grove","Hide","High","Hush","Ill","Iron","Ivy","Jade","Keen","Kind","Lake","Leaf","Light","Long","Lun","Mane","Maple","Meadow","Mist","Moon","Morning","Moss","Night","North","Oak","Oaken","Pale","Pine","Pure","Rage","Rain","Rapid","Raven","Reed","Ren","River","Root","Sea","Shade","Shadow","Shady","Shimmer","Silent","Silver","Sin","Sky","Snow","Soft","Song","South","Spell","Spirit","Spring","Stag","Star","Still","Storm","Strong","Summer","Sun","Sweet","Swift","Talon","Thorn","Toxic","Tree","True","Way","Whisper","White","Wild","Willow","Wind","Winter","Wish","Wolf","Wood",,],e=["blaze","bloom","born","bough","bow","branch","break","breeze","brook","caller","catcher","claw","cloud","crest","dale","dancer","dawn","deep","dew","dweller","elm","eye","fall","fang","feather","feral","flight","fly","forest","fury","gale","glade","glaive","gleam","glen","glenn","glide","grass","grip","grove","guard","hammer","haven","heart","hollow","horn","hunter","keeper","lake","lance","leaf","light","line","loam","mane","mantle","meld","mere","might","mist","moon","mother","night","oak","path","piercer","pool","quiver","rage","rain","rest","rise","river","run","rune","runner","scar","scribe","seeker","shade","shadow","shaper","shard","shine","shot","shrike","sight","singer","sky","sniper","soar","song","speaker","spear","spring","spyre","stalker","star","steel","step","storm","stride","strider","strike","stryke","talon","tender","thistle","thorn","tree","vale","walker","warder","watcher","water","weather","weave","weaver","well","whisper","widow","willow","wind","wing","wisp","wood"];let t=setup.rng.choice(i),a=setup.rng.choice(e);return`${t}${a}`},setup.NAME_fantasy_female_first_name=["Abitius","Abor","Accius","Acicius","Acilius","Acques","Adelais","Adelaisa","Adele","Adelie","Adeline","Adelle","Adiel","Adrard","Adraria","Adrianne","Adrienne","Adrognese","Aelva","Aelynn","Aeresius","Aerius","Aethelred","Afranius","Afronia","Agata","Agrippina","Agrudilius","Ahetotis","Aia","Ajac","Alainne","Alana","Alarice","Albarnian","Albus","Albutian","Albuttian","Alcedonia","Alessandra","Alexandra","Alexia","Alexine","Alfena","Alison","Alleius","Allene","Allice","Allysin","Aloin","Alona","Alouette","Althene","Alyenore","Alyssa","Alyze","Ama","Amatius","Ambrelie","Ambustus","Amedee","Amelia","Amelie","Amiulusus","Amnis","Amora","Amphia","An","Anabeth","Anastasie","Ancharia","Ancois","Ancrus","Andre","Andree","Andronicus","Andrya","Andus","Angeline","Angier","Angius","Aniele","Aniette","Annabelle","Annaline","Annalise","Annalysse","Annag","Anne","Anne-Marie","Annelette","Annese","Annius","Antabolis","Antias","Antoinetta","Antonius","Antys","Anya","Apinia","Apronia","Arabelle","Arbella","Arcadia","Arcineaux","Ardeline","Ardile","Aren","Arenara","Aretino","Ariane","Arianna","Aric","Arie","Ariela","Arielle","Arienne","Arius","Arlettie","Arlie","Armandine","Armelle","Armina","Arminus","Arne","Arnora","Arria","Arriana","Artellian","Arthe","Artoria","Artorius","Arzhela","Asellus","Ashtah","Asina","Asirel","Asteria","Astia","Astinia","Astrid","Ateia","Attius","Aubrey","Auctor","Audania","Augusta","Augustelle","Augustina","Augustine","Auline","Aumilie","Aurelie","Auria","Aurilie","Aurine","Aurmine","Aurore","Aurorelle","Aurrus","Aurunceia","Autrus","Aveberl","Avidius","Aviera","Avresa","Axelle","Axius","Az","Babette","Babineaux","Baenius","Balbus","Barbara","Barbarosa","Barbise","Beanique","Beatrice","Beauchamp","Beddi","Belene","Belette","Beliene","Beline","Bellamont","Belle","Belline","Bellucia","Beluelle","Berene","Berengere","Bergi","Bernadette","Berne","Bernice","Bernique","Berrice","Bielle","Biene","Bienne","Bierles","Bincal","Binlay","Birian","Blackwell","Blakeley","Blanche","Blandia","Blatta","Blonia","Blynnie","Bothela","Bracques","Bradus","Branck","Brea","Brela","Brelenel","Brendou","Brenlynne","Breywenne","Brigette","Britta","Broad","Broder","Broles","Brolus","Bronsila","Brunile","Brunna","Brunwyn","Brussiner","Bruttia","Brutya","Buca","Buntara","Burtilius","Caelia","Caepo","Caerellia","Caerellius","Caesennius","Cairine","Caldana","Caledonia","Calesse","Calidia","Calidius","Callia","Callice","Callidus","Callonus","Calus","Calussa","Calvisius","Calvus","Camilla","Campano","Candice","Candidus","Candile","Cania","Canne","Canodia","Cantaber","Capius","Caprenia","Capucine","Carbo","Carcette","Carena","Cargas","Caria","Carine","Caristiana","Carius","Carlier","Carlinus","Carlotta","Carmana","Carmyne","Caro","Caroline","Caronique","Cartia","Carvain","Cassandre","Cassia","Cassiana","Casta","Catanius","Catia","Catiotus","Catius","Catraso","Caudinus","Caula","Caydeire","Cayleigh","Cecia","Cecile","Cedus","Celata","Celence","Celestine","Celia","Celiane","Celice","Celina","Ceno","Censoria","Censorinus","Cerunia","Cesabelle","Chana","Channitte","Chantale","Chantisse","Charascel","Charien","Charlisse","Charlotte","Charloux","Charmel","Charmela","Chatelle","Chenius","Chental","Cherese","Cheryline","Cheynoslin","Chriane","Chriditte","Christelle","Ciara","Cidathia","Cienne","Ciirta","Cinda","Cines","Cinia","Cinna","Cipia","Cipius","Civello","Claevius","Clairene","Clanler","Clara","Clarelda","Clarisse","Claudelle","Claudette","Claudie","Claudine","Clilias","Clinius","Clodianus","Closcius","Clotylda","Clovine","Clutumnus","Cnisia","Coletta","Colette","Colollius","Colus","Conciatius","Concordia","Condaris","Conician","Constance","Coquina","Corgine","Corrium","Corvus","Cosades","Cosma","Cossus","Coventina","Craetia","Crunus","Crus","Cullian","Curatius","Curio","Cyndique","Cyrille","Dabienne","Dag","Daighre","Dalomax","Dame","Dannus","Darcielle","Darelliun","Darene","Daria","Darya","Decanius","Decimius","Delighre","Delitian","Delphine","Demara","Denian","Denile","Denille","Denyse","Derella","Dergius","Derius","Deryvyra","Desele","Desidenius","Dessire","Desticus","Desyree","Dhalana","Diabelle","Dianette","Didatus","Didiane","Diel","Dirdre","Dolbanitte","Dominique","Dominitia","Don","Donella","Dori","Dorothea","Dorothique","Dorys","Douar","Dovice","Draconis","Dralgoner","Drienne","Dru","Drusilla","Dufrain","Duilis","Dumania","Duronia","Duronius","Dynari","Eardwulf","Edana","Edda","Edelinne","Edeonore","Edilitte","Edona","Edwinna","Eesamelle","Egnatius","Eirdre","Elain","Elara","Elbert","Elin","Elisa","Elivette","Ella","Ellina","Elodie","Eloe","Elona","Elvira","Elvyrie","Elysette","Emabeth","Emelia","Emilie","Ence","Endario","Endre","Endyra","Ennia","Entius","Eola","Ephine","Eponis","Equitius","Erelie","Erendette","Ergalla","Erina","Erind","Erisia","Erith","Erline","Ernarde","Ernella","Escalette","Esdeline","Esdrecus","Eselde","Esmie","Essagan","Estayne","Estelle","Estelline","Estevie","Etira","Ettiene","Etty","Eubella","Eudeline","Eugenie","Evanine","Eveline","Evicus","Evolitte","Evveline","Fabrelle","Facian","Falco","Faleria","Falette","Falhut","Falice","Falisse","Fallaise","Falvius","Famalius","Familius","Fammana","Fanis","Fanriene","Farlivere","Farr","Fauseius","Faustina","Favonius","Felande","Felannus","Felycie","Felyse","Fentula","Festinius","Fianna","Fidenas","Fiesque","Filius","Flacassia","Flaccus","Flaenia","Flaeus","Flarugrius","Flavonius","Flavus","Flonius","Floria","Floriane","Florine","Florinna","Florius","Fortis","Fortisa","Fortunatus","Fralinie","Fralmoton","Fralvia","Franara","Franc","Francine","Frasoric","Frelausa","Frenck","Frernis","Freyda","Frieda","Fruscia","Fulbenus","Fulcinius","Furia","Furotis","Gabenagus","Gabinia","Gabrialle","Gabrielle","Gaea","Gaelle","Gaelora","Gaetane","Galena","Galenus","Galien","Gallenus","Galynne","Ganduin","Ganise","Ganna","Garrana","Gavinius","Gawey","Gedanis","Gemain","Gemma","Gene","Genevelle","Genevret","Genis","Genvieve","Geonette","Geontene","Georgia","Georick","Geralda","Gerielle","Germia","Germonde","Gernand","Gernis","Gervaise","Gessica","Gette","Geves","Gianna","Gilbara","Gilelle","Gilfre","Gine","Giordano","Gisele","Glendora","Gloria","Gloriosus","Glycias","Goldwine","Goneld","Gracchanus","Grace","Granette","Grania","Gratius","Gratus","Gravius","Green","Gregori","Grigitte","Grip","Grivette","Grol","Gruiand","Grum","Guendeline","Gulitte","Gurges","Gwen","Gwenaelle","Gwenifyr","Gwynienne","Gwynnifer","Gwyssa","Gyna","Hadrianus","Hanotepelus","Hanus","Harbert","Harmevus","Harsinia","Hastien","Hateria","Hayn","Hel","Heladren","Helainie","Helane","Helenette","Helenus","Helese","Helwyn","Hendrice","Henneque","Henona","Henriette","Henrisa","Hereld","Herennius","Herius","Herminia","Herrick","Hers","Hersus","Hertarian","Hervemina","Hester","Hez","Hilaria","Hiriel","Hodge","Hoff","Horatius","Horulia","Hosidius","Hosidus","Huguette","Hulotte","Icolana","Idolus","Idonea","Ileana","Ilise","Illia","Illvina","Imbel","Ina","Indara","Ines","Ingride","Inian","Inirisi","Iraldine","Irene","Isa","Isabeau","Isabelle","Isabeth","Isara","Isobel","Ita","Iulus","Jacquebeth","Jacqueline","Janavynn","Janese","Janeve","Janille","Janise","Janne","Jannus","Jano","Janona","Janonia","Jantus","Jarol","Jastal","Jastia","Jastira","Javierre","Javolia","Jeanard","Jeanette","Jeanne","Jeannelle","Jeannie","Jeannine","Jeberilie","Jehanne","Jehannette","Jeline","Jemane","Jend","Jenna","Jenseric","Jeranus","Jes","Jirich","Jo","Jodoin","Joelle","Jolie","Jolvanne","Josienne","Jucanis","Julalanie","Julienne","Juline","Julisa","Julitta","Jullalian","Julus","Junius","Jurard","Jurisa","Jusanne","Jyllia","Kaie","Katrine","Kestral","Ketrique","Kirbatha","Konia","Krisandra","LaRouche","Labouche","Lachance","Lacherie","Ladia","Laeca","Laecinnius","Laelette","Laelippe","Laelyn","Laenius","Laetille","Laetonius","Laftrius","Lalaine","Lalatia","Lalelius","Lanarette","Lanier","Lannus","Lantoinette","Laranette","Lariane","Larienna","Larina","Lassinia","Laul","Lauran","Lauranne","Lauravieve","Laure","Laurina","Lavinia","Leana","Leila","Leland","Lelles","Lemonds","Lencolia","Lenka","Leonara","Leone","Leonique","Leonora","Leontille","Leontiulonus","Leoriane","Leotelli","Lerus","Lessa","Leticia","Lex","Lexi","Lexille","Liane","Lielle","Liisan","Lila","Lily","Limax","Limren","Linane","Linele","Lionne","Liore","Liric","Lisanne","Lisette","Lisolda","Litte","Livelle","Livia","Lizabet","Lleraya","Loche","Lodys","Logellus","Lollia","Lonel","Longus","Loran","Loreius","Lorene","Loriel","Louarde","Louise","Loulou","Lovidicus","Luce","Luceline","Lucete","Lucette","Lucia","Luciana","Lucienne","Lucille","Lucina","Ludivine","Lunia","Lurgette","Luseph","Lusius","Lydi","Lyna","Lynie","Lyra","Lysaux","Lyse","Lysse","Mabilete","Maborel","Mabrel","Maccius","Macile","Macrina","Macro","Madach","Madena","Madenn","Madisone","Maelle","Maelys","Maenius","Maesa","Magali","Magia","Magius","Mahlene","Malene","Maline","Mallius","Malvina","Malyna","Mamula","Mananius","Manis","Mannick","Manone","Mantedius","Maraennius","Marana","Marane","Marara","Marcele","Marcella","Marcelle","Marcellus","Marcellyne","Marcelyn","Marciele","Marcrina","Marelie","Maretta","Margaux","Margerelle","Margine","Margot","Margrette","Marguerite","Maria","Marian","Mariana","Maric","Marie","Marien","Marienne","Mariette","Marieve","Marisette","Marius","Marlena","Maro","Marquardt","Marquerite","Marthe","Marthine","Martina","Martinne","Maryse","Masolaude","Masoriane","Mastien","Maston","Mathelle","Matia","Matilde","Matius","Matreinace","Maul","Maulinie","Maurard","Maxille","Maxime","Maximus","Maya","Mayla","Mede","Medilus","Medya","Melanie","Melie","Melisande","Melissaeia","Melita","Melodie","Melynie","Mena","Menanius","Mene","Mercius","Merian","Meric","Mero","Merowald","Mervial","Mervilda","Metrick","Mevavius","Mevureius","Michel","Michelia","Michelle","Mico","Mido","Mila","Milielle","Millona","Milvan","Minerva","Minette","Minone","Miquela","Mira","Mirabelle","Miramel","Miranda","Miroleine","Mizou","Mochveda","Modhna","Molly","Mon","Mona","Monet","Moniel","Monrius","Montrose","Mor","Morgane","Moria","Mornardl","Morrigh","Motierre","Moumou","Muazzaz","Muco","Muiri","Munia","Muriel","Murielle","Murrius","Musilchiotus","Muspidius","Mussillius","Mylenne","Myriame","Naborius","Nadine","Nak'tah","Nana","Nanette","Nanoyra","Nanus","Narina","Nasica","Naspia","Nathans","Naudet","Navale","Nebia","Nemarc","Nemic","Neomi","Nermarc","Nerva","Nessa","Nestal","Nicolene","Nicoline","Nigilius","Nin","Ninette","Nirol","Noebelle","Noemi","Noemie","Nonenamwen","Nonius","Nor","Norine","Normina","Northwode","Novatian","Nuccius","Nuccusius","Nuncius","Nurese","Nyna","Nyrona","Oclatinus","Octavinua","Odyle","Ofelia","Oges","Oholin","Olcinius","Olivia","Olivie","Olo","Olyna","Olyve","Ondrisa","Opel","Ophelia","Opsius","Orania","Oranius","Orguerite","Oriane","Orice","Orius","Osanna","Osianne","Ostorius","Otha","Otiustiris","Ottus","Ouida","Pabla","Palenix","Palielle","Pallia","Pania","Panoit","Pantea","Papius","Parisse","Patneim","Pelagia","Pelelius","Pelena","Pellecia","Pelletus","Peltrasius","Peneles","Pepi","Peregrina","Perennia","Perrick","Petellia","Petilia","Petilius","Petit","Petreia","Petrille","Pevengius","Phebe","Phiencel","Philippa","Phillida","Philulanie","Phirrienele","Phoebe","Phylgaux","Pictor","Pierette","Pierielle","Piernette","Pierrie","Pietine","Pinder","Pista","Plalocius","Planicus","Platorius","Plavius","Plebo","Plinius","Polus","Ponius","Pontanian","Pontifio","Popillius","Posuceius","Praxedes","Prelius","Prentus","Previa","Pritia","Prolyssa","Proximus","Pullo","Pundus","Puruseius","Pyline","Pyn","Pyppe","Quarra","Quaspus","Quettius","Quillet","Quintilius","Quintin","Quirin","Rachel","Raelyn","Raelynn","Raelynne","Raen","Raesa","Raman","Rane","Ranius","Rato","Ratt","Rebecca","Redhands","Regina","Reine","Reinette","Reliana","Remelie","Rena","Renardine","Renault","Renee","Renoit","Restita","Retene","Reyna","Reynelle","Reynine","Rhealt","Rhiada","Ria","Rian","Riane","Rianne","Richton","Rielle","Rienus","Rilian","Rinelle","Rirne","Riscel","Rochelle","Rokrya","Rolston","Romaire","Romana","Rona","Ronela","Ronyssa","Rosaldine","Rosalia","Rosalie","Rosalyn","Rosamund","Roscius","Roselle","Rosentia","Rosentius","Rosette","Rosine","Rostorard","Roulena","Roumiet","Roxanne","Roxy","Rozenn","Rozette","Ruccia","Rufus","Rulician","Runellius","Rusia","Rusonius","Ryva","Sabina","Sabine","Sabinette","Sabrina","Sabrine","Sabyssa","Saccus","Sachine","Safia","Sallustius","Salonia","Salvarus","Salvitto","Sandire","Sandrine","Sanga","Sara","Saravith","Sarmosia","Sash","Savinie","Scaeva","Scerius","Schlera","Scinia","Scribonia","Secunia","Segolene","Sek","Sele","Selena","Seline","Selone","Selvia","Senarel","Senna","Sentulus","Senyan","Seraphyne","Serine","Serpe","Sertorius","Sestius","Sette","Severa","Severia","Severine","Sextius","Shaelle","Shalia","Shillin","Shorrin","Sialius","Sibassius","Sibellec","Sibylla","Signus","Silana","Silanus","Silver","Silvia","Simplicia","Sintieve","Siro","Sirone","Siruliulus","Sko","Skul","Solea","Solinthia","Sorcha","Sorenshield","Sorine","Sosia","Sovelle","Spurius","Statlilia","Statlilius","Stedrine","Stegine","Stephange","Stephie","Stieve","Sulla","Surane","Suriel","Susane","Sybille","Sybilline","Sylbenitte","Sylla","Syloria","Sylvie","Tabakah","Taern","Tahla","Tailas","Talanian","Talara","Tappo","Tertia","Thais","Thayer","Themond","Theonique","Theophilia","Thierry","Thonine","Thraccenia","Thylvie","Tilelle","Tilwald","Tiragrius","Tituleius","Torquatus","Tragus","Trasius","Traven","Trebatius","Trebellius","Tremelle","Tremellia","Tricer","Trog","Truiand","Truptor","Tucca","Tuecille","Tullius","Tunifus","Turrianus","Tussaud","Tustin","Uaile","Umbranox","Una","Urgelian","Urgusiso","Ursanne","Ursuline","Urthinius","Urtius","Urvie","Urvien","Uulentanus","Vala","Valarie","Valentine","Valeriane","Valerie","Valerine","Valerius","Valessa","Valga","Valius","Valodius","Valtieri","Valus","Valyrie","Vandacia","Vanin","Vanne","Vant","Vantinius","Varga","Varian","Varisse","Varo","Varrid","Varro","Vassinus","Vaudrie","Vautrine","Ve","Vedius","Velain","Velvus","Vendi","Vendicci","Verene","Vergilus","Verm","Veroine","Veronica","Veronique","Versien","Vesnia","Vesuius","Vette","Vex","Vianis","Viatrix Celata","Viatrix","Viccia","Viciulus","Victoire","Victrice","Viducia","Viera","Viernis","Vigdis","Vilbia","Vilena","Villea","Vincelle","Vinicia","Vinicius","Vinipter","Viola","Violette","Viralaine","Vireche","Virgile","Virgilus","Viria","Virmaulese","Visanne","Vistra","Vitache","Vitellia","Vitellius","Vittelli","Vittoria","Vivian","Vivienne","Vivonne","Vlindrel","Vlinorman","Voada","Voj","Volrina","Vonius","Vopiscus","Vulpin","Vunnis","Vyctarine","Vyctorelle","Vyctoria","Vylie","Wavrick","Whitestrake","Wirich","Wotrus","Xandria","Yag","Yasmine","Ye","Ygerne","Ylanie","Ysabel","Ysabeth","Ysanne","Ysarne","Ysausa","Ysciele","Yseline","Yvara","Yvayne","Yveline","Yvelle","Yveque","Yvienne","Yvon","Zeli","Zelie","Zephyrine","Zinadia","Zinedine","Zizou","Zoe","Zouzou","Zyssa","Aafte","Aalfte","Aalina","Aaline","Aalis","Aaliz","Aaltje","Aals","Aalz","Aanor","Ababilia","Abarne","Abauntza","Abbatissa","Abbelina","Abelie","Abelota","Abte","Acelina","Achaia","Achethe","Achradina","Actae","Act","Ada","Adala","Adalberta","Adaleide","Adalheid","Adalheidis","Adalind","Adalindis","Adaliz","Adallinda","Adallindis","Adalmut","Adalrada","Adaltrude","Adaltrutis","Adaluuidis","Adalwara","Adalwif","Adda","Addela","Ade","Adeia","Adela","Adelaide","Adelaidis","Adelais","Adeldreda","Adelena","Adelheid","Adelheidis","Adelicia","Adelid","Adelie","Adelin","Adelina","Adeline","Adelisa","Adeliz","Adeliza","Adeltrudis","Adelysia","Adeodata","Adere","Adhela","Adhelina","Adila","Admiranda","Adonie","Adula","Aduna","Adwala","Adte","Aebbe","Aedelflete","Aeditha","Aediva","Aedon","Aegiolea","Aegle","Aeileua","Aeilgyuu","Aeldid","Aeldiet","Aeldit","Aeleis","Aelesia","Aelffled","Aelfgiuee","Aelfgiva","Aelfgyd","Aelfled","Aelfleda","Aelfryth","Aelgytha","Aelienor","Aelina","Aelis","Aelisia","Aelive","Aelizia","Aelueua","Aenor","Aerope","Aes","Aeschine","Aetheldreda","Aethelfleada","Aethelind","Aethelinda","Aethelthryth","Aetheria","Aethre","Agace","Agacia","Agacie","Agamede","Aganippe","Agape","Agapia","Agarista","Agas","Agase","Agate","Agatha","Agathonice","Agath","Agave","Agentrudis","Aggie","Agglethrudis","Aginaga","Agirre","Aglaia","Aglaurus","Agnella","Agnesot","Agneta","Agnetis","Agnus","Agote","Agurne","Agurtzane","Ahelis","Ahelissa","Aiago","Aiala","Aicelina","Aicusa","Aiglante","Aiglente","Aiglentine","Aikaterine","Ailda","Aildreda","Ailed","Aileth","Aileua","Aileve","Ailfled","Ailhiet","Ailid","Ailiet","Ailith","Ailitha","Ailiue","Ailiva","Ailleda","Ailleth","Ailletha","Ailliva","Ailova","Ailufa","Aimie","Ainara","Ainhoa","Ainize","Ainoa","Aintza","Aintzane","Aintzile","Aintzine","Ainuesa","Aiora","Aisone","Aithra","Aitziber","Aizeti","Aizkorri","Aizpea","Aka","Akelda","Akenehi","Aketa","Akorda","Ala","Alaine","Alainne","Alais","Alaitz","Alazas","Alazne","Alba","Albelenda","Alberad","Alberadis","Albie","Albizua","Albrad","Albrade","Albray","Albreda","Albree","Albruga","Alburch","Alburg","Alcandre","Alcestis","Alcippe","Alcmene","Alcyone","Alda","Alded","Aldet","Aldeth","Aldgid","Aldguda","Aldgudana","Aldgyth","Aldid","Aldiet","Aldieth","Aldietha","Aldis","Aldith","Alditha","Aldiva","Aldiytha","Aldruth","Alduara","Alduenza","Aldus","Aldusa","Alduse","Aldyet","Aldyt","Aleidis","Aleire","Alemene","Aleneite","Alesandese","Alesia","Alesone","Alesta","Aleusa","Alexandra","Alexandria","Alfgarda","Alfild","Alfled","Alfleda","Alflent","Alflet","Alfleta","Alfreda","Algaia","Algyva","Alhflaed","Alhflead","Alia","Alianor","Alianora","Alice","Alicen","Alicia","Alid","Alienor","Alienora","Alina","Aline","Alis","Alisaundre","Alisceon","Alise","Alison","Alisone","Alisoun","Aliss","Alissende","Alith","Aliua","Aliva","Aliz","Alize","Alkain","Alkmena","Allemande","Allie","Allison","Alma","Almika","Almt","Almuth","Almuza","Aloa","Alodia","Alot","Alote","Alpaida","Alpais","Alse","Alsneta","Alson","Althaea","Althaia","Althea","Altzagarate","Alueua","Alueue","Aluina","Aluinnia","Aluiua","Alverat","Alvered","Alveua","Alveva","Alviua","Alviva","Alycie","Alyna","Alyon","Alys","Alyson","Alysone","Alyva","Ama","Amabil","Amabili","Amabilia","Amabilis","Amabilla","Amabillia","Amable","Amaduena","Amagoia","Amaia","Amalasuintha","Amalberga","Amalberta","Amalbirga","Amalfrida","Amalfriede","Amalgunde","Amalone","Amalur","Amane","Amarhyllis","Amata","Amathea","Amatheia","Amatza","Ambra","Amee","Ameis","Amelia","Amelina","Ameline","Amelinne","Amellia","Amelot","Amelyn","Ameria","Amestrin","Amestris","Amets","Ametza","Amfelice","Amfelisia","Amflis","Amflisa","Amflisia","Amia","Amiable","Amic","Amica","Amicabilis","Amicia","Amicie","Amie","Amilamia","Amilia","Amiot","Amira","Amis","Amiscia","Amisia","Amke","Ammij","Ammio","Ammy","Amoltrud","Amparo","Amphelice","Amphelicia","Amphillis","Amphithoe","Amphitrite","Ampinomene","Amplias","Amulberga","Amuna","Amya","Amycia","Amye","Amyfelyse","Anabel","Anabell","Anabella","Anabill","Anabilla","Anabille","Anabul","Anachorita","Anaeaxi","Anaiansi","Anais","Anastas","Anastase","Anastasia","Anastatia","Anaurra","Anchoret","Anchoretta","Ancret","Ancreta","Ancrett","Ande","Anderazu","Andere","Anderexo","Anderkina","Andia","Andikona","Andion","Andolie","Andone","Andonine","Andre","Andrea","Andregoto","Andrekina","Andremisa","Andreva","Andrezuria","Andrie","Andromeda","Ane","Anese","Anesot","Anestasia","Anfelisa","Anfelise","Angaret","Angel","Angela","Angelet","Angelu","Angnes","Angnet","Anis","Aniz","Ankerita","Ankharet","Anna","Annabele","Annabell","Annabella","Annabelle","Annable","Annais","Annaple","Annas","Anne","Anneis","Annes","Annestas","Anneyce","Anneys","Anneyse","Annice","Annina","Annis","Annise","Annke","Annor","Annora","Annot","Annys","Anora","Anoz","Ansa","Anselda","Ansere","Ansgard","Ansitruda","Anstes","Anstey","Anstice","Anstis","Anstiss","Anstruda","Antehe","Anteia","Antheia","Anthoinette","Anthousa","Anthusa","Anticleia","Antigone","Antiochis","Antiope","Antipatra","Antje","Antonia","Antxone","Antziasko","Anunciacion","Anyes","Anysia","Anzoy","Ans","Apain","Apala","Apeline","Aplin","Apoline","Appa","Applin","Appolina","Appollonia","Apseudes","Araba","Arabella","Arabia","Arable","Aragundia","Araitz","Arama","Arana","Arandon","Arantxa","Arantza","Arantzazu","Araoz","Arbeiza","Arbekoa","Arbell","Arbella","Arburua","Areagne","Areitio","Areria","Arete","Arethusa","Argeia","Argentea","Argentina","Argi","Argie","Argiloain","Ariadne","Arianna","Arie","Arima","Arisbe","Aristonike","Aristophane","Ariturri","Aritzaga","Aritzeta","Arkija","Arlas","Arlette","Arluzea","Armedaa","Armentaria","Armigil","Armola","Arnaude","Arnotegi","Aroha","Arraitz","Arrako","Arrate","Arrazubi","Arrene","Arreo","Arriaka","Arrieta","Arrigorria","Arriluzea","Arritokieta","Arrixaka","Arrizabalaga","Arrosa","Arsinoe","Artaynta","Artazostra","Artea","Artederreta","Artemidora","Artemisia","Artiga","Artiza","Artizar","Artystone","Artzanegi","Artzeina","Arnzazu","Asa","Ascelina","Asceline","Ascelinne","Ascelot","Aschilt","Ascilia","Ashena","Asiturri","Askoa","Aspasia","Asselyna","Assuncion","Astera","Astrid","Astyoche","Astyocheia","Atalanta","Atallo","Athala","Athanasia","Athela","Athelesia","Atheleys","Athelflead","Athelina","Athelinda","Athelis","Athelisa","Athelisia","Athelyna","Athis","Atilda","Atossa","Atotz","Atsegie","Atxarte","At","Aua","Auacyn","Aubere","Aubirge","Aubourc","Aubreda","Aubrey","Aude","Audiarda","Audofleda","Audrey","Audry","Audrye","Auekin","Auelin","Auelina","Auelyna","Auge","Augo","Augustina","Auic","Auice","Auicia","Auin","Auina","Auisia","Auizia","Aunflis","Aunphelice","Aurela","Aurelia","Aureliana","Aurelne","Auria","Auriana","Aurildis","Auriol","Auriola","Aurkene","Austie","Austorga","Austrechildis","Autonoe","Auxesia","Ava","Avacyn","Aveis","Avekin","Avelina","Aveline","Avelot","Avelyn","Averell","Averil","Averill","Aveza","Avice","Avicia","Avila","Avilina","Avin","Avina","Avis","Avoca","Avril","Awdrie","Awhina","Axiothea","Axpe","Ayala","Aye","Ayla","Ayled","Ayleth","Aylett","Ayliua","Aylofa","Aylufa","Aylyetta","Ayzebel","Azella","Azitain","Baano","Bab","Babbe","Babcock","Babel","Babesne","Babeth","Babetta","Babitt","Bable","Babs","Badelota","Badia","Baiakua","Bakarne","Bakene","Baldechildis","Balere","Baltelda","Balthechildis","Balthildis","Bar","Barazorda","Barbara","Barbary","Barbata","Barbe","Barber","Barberella","Barberry","Barbery","Barbeta","Barbetta","Barbie","Barbot","Barbota","Barria","Barrika","Barsine","Bartholomette","Bartje","Basaba","Basagaitz","Basalgo","Basandre","Basiane","Basilea","Basilia","Basilie","Basilina","Basill","Basilla","Basille","Basina","Bassilly","Baucis","Baudegundis","Baufte","Bauin","Bauke","Bausanne","Bauteut","Bava","Bavacin","Bavin","Bea","Beat","Beatasis","Beaten","Beatrice","Beatricia","Beatricie","Beatricis","Beatrix","Beattie","Beatty","Beautrice","Bechte","Becke","Becok","Bedaio","Bedeluue","Bee","Begga","Begoa","Begona","Belanda","Belaskita","Belate","Belegardis","Bellisente","Beloke","Beltzane","Bena","Bencelina","Benet","Bengoa","Bengoara","Bengolarrea","Benigna","Bennitt","Benoite","Beraza","Berberana","Berehta","Berenda","Berenga","Berengaria","Berenike","Berezi","Bergard","Bergundis","Berhta","Beriungis","Berna","Bernadette","Bernewief","Bernewif","Berta","Bertaida","Berte","Bertha","Berthildis","Berthlenda","Bertildis","Bertliana","Bertrada","Bertruda","Bertswinda","Berzijana","Bete","Betiko","Betisa","Betje","Betlindis","Beton","Betrice","Betrys","Betryse","Betteresse","Bettin","Bettina","Bettrice","Bettris","Bettrys","Betune","Bianca","Bibie","Bidane","Biddy","Biedeluue","Bihotz","Bikarregi","Bilda","Bingene","Binhildis","Biolarra","Bioti","Bito","Bittore","Bittori","Bitxi","Bitxilore","Bixenta","Bizkaia","Bizkargi","Bitris","Bitrix","Bitriz","Bitron","Blanch","Blanchette","Blanchia","Blaunche","Blench","Blissot","Blitekin","Blitha","Blonde","Bobila","Boime","Boke","Boltiarda","Bonajoia","Bonassias","Bonne","Bonoque","Bore","Boukje","Bova","Boviardis","Bragwayn","Brangwayna","Brangwine","Branwyne","Braya","Brechtje","Bride","Bridget","Brigette","Brigida","Brigit","Brigitta","Brise","Briseis","Brune","Brunehaut","Brunisente","Brunissende","Bryde","Buiondo","Burgondo","Burgundefara","Burtzea","Bytzel","Byzantia","Batriz","Brengre","Caenis","Caesaria","Caleope","Calla","Callianeira","Callianessa","Calliphana","Calypso","Camilla","Campana","Canace","Candida","Carmel","Cassander","Cassandre","Cassandry","Casse","Castianiera","Catarine","Catel","Catelin","Cateline","Catella","Catelot","Caterina","Caterine","Catering","Catharine","Catherine","Catherne","Catin","Catlin","Caton","Catrina","Cattern","Cattle","Cecely","Cecelya","Cecelyna","Cecil","Cecili","Cecilia","Cecilie","Cecille","Cecillia","Cecy","Ceday","Celestine","Celestria","Celia","Celina","Cervella","Cesarea","Chantal","Charis","Charito","Charity","Childebertana","Chione","Chiore","Chloe","Chloris","Chlotichhilda","Chlotsuintha","Chlo","Chrisoogone","Christina","Chryse","Chryseida","Chryseis","Chrysothemis","Chuna","Chunegundis","Chydleluve","Cicely","Cicilia","Cicily","Cilia","Cilissa","Cilla","Circe","Cisse","Cissie","Cissota","Clamancia","Clara","Clarae","Claramunda","Clarcia","Clarell","Claremonde","Clariandra","Claribel","Clarice","Claricia","Claricie","Clarimond","Clariscia","Clarissa","Clarisse","Claritia","Clarrie","Clarry","Clarugge","Clemencia","Clemency","Clemenicia","Clemens","Clementia","Clementina","Clementine","Cler","Cleremunda","Clericia","Climence","Clio","Clodauuiua","Clothild","Clotrada","Clymence","Clymene","Clymere","Colecta","Coleite","Colet","Coleta","Colett","Coletta","Colina","Colleite","Collette","Colubra","Columba","Colte","Comito","Concepcion","Condors","Conegont","Conegundis","Conegunt","Consolantia","Constancia","Constantia","Constantina","Constanza","Contzel","Corinne","Corythia","Coulombe","Crapahildis","Cratais","Cresseid","Cressid","Creusa","Crisa","Criseida","Criseyde","Cristehildis","Cristemburga","Cristemia","Cristyne","Ctimene","Cunegund","Cunegundis","Cus","Cuss","Cussata","Cust","Custa","Custanc","Custance","Custancia","Custans","Custe","Custins","Cvenild","Cybele","Cycalye","Cycly","Cydippe","Cymodoce","Cymothoe","Cyneburga","Cyniburg","Cyra","Cyrene","Cyrilla","Cythereia","Cytheris","Dadin","Dagarada","Damaris","Damaspia","Dameta","Dametta","Damia","Damiane","Damisona","Dana","Danburga","Dania","Darklis","Decima","Deianeira","Deineira","Deio","Deiphobe","Deipyle","Delias","Deloys","Demetria","Demophile","Demuth","Denis","Dennet","Denote","Deonisia","Deonysia","Desdemona","Desiderata","Desirata","Destasia","Dever","Dexamene","Diamanda","Diana","Dianeme","Dido","Didyma","Diene","Dilli","Dillo","Dinae","Dinah","Diomede","Dione","Dionis","Dionisia","Dionycia","Dionysia","Diot","Diota","Dirce","Dirtje","Disdemona","Distira","Doda","Dodda","Dodie","Dodo","Dolichena","Doll","Dolly","Dolore","Dolores","Doltza","Domeka","Domentzia","Dominica","Dominixe","Dominy","Domnica","Domnola","Donada","Donata","Donetzine","Doniantsu","Donianzu","Donnet","Dora","Dorate","Dorathea","Dorathia","Dorcas","Doreen","Dorette","Doria","Doris","Dorleta","Dorothea","Dorthy","Dorythye","Dore","Dot","Dota","Dothy","Doto","Dottie","Douce","Doue","Dousabel","Dousable","Douset","Dousin","Douze","Dowsabel","Dowse","Dowzable","Drosis","Drueta","Drusilla","Drypetis","Duce","Duda","Dulanto","Dulcia","Dulcibella","Dulcie","Dulcinea","Duleia","Dunixe","Durilda","Dusa","Dussabel","Dussabele","Duszabell","Duua","Duva","Duze","Dyana","Dynamene","Dyonisia","Dyonisya","Dyot","Dyota","Ead","Eadburga","Eadgithu","Eadgyth","Eadgytha","Eadida","Eadie","Eadita","Eadu","Earthelinda","Eberhild","Ebertana","Eburhild","Eburhilt","Eda","Edan","Edborough","Edburga","Edda","Edde","Edden","Eddiva","Eddiz","Eddusa","Ede","Edeberga","Edeborg","Eded","Edekin","Edelin","Edelina","Edeline","Edelinne","Edelot","Eden","Ederne","Ederra","Edeua","Edeva","Edged","Edgida","Edgidia","Edgyth","Edgyue","Edhida","Edhiva","Edid","Edied","Ediet","Edihe","Edila","Edine","Edit","Editha","Edithe","Ediua","Ediva","Ediz","Edney","Edolina","Edon","Edonea","Edony","Edume","Edurne","Edurtzeta","Edus","Edy","Edytha","Edyva","Effam","Effemy","Effie","Effim","Effum","Eflead","Ega","Egecin","Egelina","Egeluuara","Egeria","Egesburga","Egesloga","Egiarte","Egilior","Egina","Eglantine","Eglentina","Eglentine","Eguene","Eguzki","Eguzkie","Ehgelhild","Ehgeluuara","Eider","Eidita","Eidothee","Eilaria","Eileithyia","Eileua","Eileue","Eileve","Eilieue","Eimde","Ejte","Ekhie","Ela","Elaia","Elaine","Elaisse","Elana","Elaria","Elayne","Elcmene","Eldid","Eldit","Elduara","Eleanora","Electra","Elen","Elena","Elene","Eleua","Elewisa","Elewys","Eleyn","Eleyne","Elfgifu","Elflet","Elfleta","Elfred","Elfrid","Elfrida","Elftrudis","Elgiva","Elia","Elianor","Elianora","Elicia","Elin","Elinor","Elinora","Elisabete","Elison","Elisot","Elisota","Elixabete","Elixane","Elizabeth","Elizamendi","Elizmendi","Elkano","Ella","Ellaire","Ellen","Ellene","Ellenor","Ellerete","Ellice","Ellie","Ellin","Ellot","Ellota","Ellyn","Elmerich","Eloisa","Eloise","Elorriaga","Elota","Elpir","Else","Elsebeth","Elske","Elueua","Eluiua","Eluiue","Eluned","Elurreta","Eluska","Eluyua","Elveva","Elvina","Elwisia","Elyenora","Elyne","Elysande","Elysant","Elyscia","Ema","Emayn","Emblem","Emblema","Emblen","Emblin","Emblyn","Emecin","Emelenine","Emelin","Emelina","Emeline","Emelisse","Emelnie","Emelot","Emelote","Emeloth","Emeludt","Emelye","Emelyn","Emelyne","Emengar","Emenjart","Emeny","Emeria","Emerita","Emerlee","Emersende","Emery","Emilia","Emlin","Emlyn","Emm","Emma","Emmanaia","Emme","Emmelina","Emmeline","Emmet","Emmete","Emmony","Emmot","Emmota","Emmote","Emoni","Emonie","Emony","Emota","Emulea","Emy","Emylyna","Enara","Encarnacion","Endeis","Endera","Enea","Eneka","Eneritz","Engelberga","Engelgard","Engelsuit","Engeluuara","Engelwara","Engle","Enmeline","Enna","Enota","Enyo","Eormengard","Eormengild","Eos","Epham","Epicaste","Epicelena","Epiphania","Eppie","Erchantrudis","Erchembrog","Erdaie","Erdie","Erdoitza","Erdotza","Erdoza","Ereleuva","Erelieva","Erembour","Erembourc","Eremburgis","Ereprad","Erguia","Eriboea","Erica","Eriete","Erigone","Erika","Eriopis","Eriphyle","Eris","Erisenda","Erkembrog","Erkenbrog","Erkenburoc","Erkenrad","Erkuden","Erlea","Erma","Ermandrud","Ermbourg","Ermecin","Ermegarde","Ermegardis","Ermengard","Ermengarda","Ermengarde","Ermengardis","Ermengart","Ermenjart","Ermentrudis","Ermessenda","Ermeswindis","Ermie","Ermin","Ermina","Ermingard","Erminia","Ermisenda","Ermua","Ernio","Erniobe","Erpsuid","Erramune","Erramusa","Errasti","Erregina","Erremulluri","Errictruda","Errita","Erromane","Errosali","Erroz","Errukine","Erta","Esa","Eschina","Eschiva","Esclairmonde","Esclamonde","Esclarmonde","Esdeline","Eskarne","Eskolunbe","Esozi","Esperte","Espoz","Esquiva","Essylt","Estebeni","Estibalitz","Estibaliz","Estienne","Estrangia","Estrelda","Estrilda","Estrildis","Estrill","Estrilld","Etfled","Ethel","Ethelchif","Etheldred","Etheldritha","Ethelenda","Ethelgard","Ethelgarda","Ethelia","Etorne","Etxano","Etxauarren","Eucarpia","Eudeline","Eudocia","Eudokia","Eudoxia","Eue","Euerloga","Eufamie","Eufemia","Eufemie","Eufemma","Eufemme","Eufemmia","Eufiama","Eufrata","Eugenia","Eulari","Eularia","Eunate","Eunice","Eunisia","Euodias","Eupham","Euphame","Eupheme","Euphemia","Euphrasia","Euphro","Euphrosyne","Euria","Eurildis","Eurohildis","Europa","Eurycleia","Eurydike","Eurynome","Eusa","Eusebia","Eustachia","Eustacia","Evadne","Evantia","Evelina","Evelyn","Evemy","Everelda","Evereldis","Everild","Everilda","Everildis","Everill","Evfemia","Ewfame","Extranea","Ezkurra","Ezozia","Eztegune","Fabia","Fabiana","Fabiola","Fabrisse","Fara","Farahilda","Fastrada","Fede","Feentje","Feike","Felica","Felice","Felicia","Felis","Felise","Felisia","Femmota","Fermina","Fieke","Filisia","Fillida","Fillon","Fillys","Fina","Finepopla","Flavia","Fleurie","Flo","Flora","Flore","Florence","Florencia","Florentia","Florentxi","Floria","Florie","Florina","Florion","Florymonde","Floss","Flossie","Flouerana","Flour","Flourie","Flur","Flurekin","Fluri","Focktje","Folclind","Folclinda","Folcrada","Folcuuara","Folgarda","Folsuindis","Folsuuendis","Fordola","Fortlifh","Fortunata","Fousafia","Foy","Francesca","Francesse","Francis","Franqueite","Frantsesa","Frantxa","Frantziska","Frauuara","Freadeyweed","Fredeburgis","Fredegonde","Frederada","Fredeuuara","Frediswitha","Frethegard","Frethesuinda","Frethesuindis","Fridayweed","Fridegundis","Fridesuenda","Frideswid","Fridewiga","Fridiswed","Fridiswid","Fridswed","Frisburgis","Frithelinda","Frithswith","Frouuin","Frouuina","Fruitutsu","Fryswyde","Fye","Gaatha","Gabone","Gabrielia","Gace","Gadea","Gaenor","Gailan","Gailana","Gaillarde","Gainko","Galatea","Galiene","Galienne","Ganleya","Ganor","Garaie","Garaitz","Garazi","Garbi","Garbie","Garbikunde","Garbine","Garden","Gardotza","Garoa","Garralda","Garrastazu","Garthrite","Gartrett","Gartrite","Gartrude","Gartzene","Gatty","Gatzarieta","Gaude","Gaunlaya","Gaunliena","Gauzia","Gaxi","Gaxuxa","Gaynore","Gazelu","Gazeta","Gaztain","Geaxi","Gebke","Geelte","Geerta","Geertje","Geertke","Geila","Gelduuara","Gele","Gelen","Gelleia","Gemma","Geneva","Genevieve","Genofeva","Gentile","Gentzane","Georgia","Geraxane","Gerbaga","Gerberga","Gerburg","Geredrudis","Geretrudis","Gerharde","Gerhild","Gerlent","Gerlinda","Germainne","Germana","Geroa","Gersenda","Gersendis","Gersuenda","Gersuinda","Gersvinda","Gert","Gertie","Gertje","Gertrud","Gertruda","Gertrudis","Gerty","Geruuara","Gesa","Geske","Gethrude","Geua","Geue","Geuecok","Geva","Gileite","Gilia","Giliana","Giliane","Gill","Gille","Gilleis","Gilleite","Gillian","Gillie","Gillot","Gillota","Gilly","Gilte","Ginnade","Giona","Gipuzkoa","Giraude","Gisela","Gisella","Giselle","Gisellee","Gisila","Gisla","Gismon","Giso","Gixane","Gladuse","Glauce","Glismoda","Glismodis","Glyke","Godalinda","Godeca","Godecin","Godefe","Godelda","Godeleve","Godelif","Godelinda","Godeliva","Godelive","Godeue","Godeva","Godgeua","Godgiua","Godgiva","Godid","Godildis","Godise","Godit","Goditha","Godiuia","Godleue","Godleva","Goduia","Godusa","Goduse","Goduuara","Godyf","Goiatz","Goikiria","Goikoana","Goiuria","Goizane","Goizargi","Goldeheve","Goldgeofu","Goldgeve","Goldhuie","Goldyeua","Goldyeue","Goldyva","Goldyve","Golla","Gonilda","Gonnild","Gonnilda","Gonnora","Gonora","Gonore","Goodeth","Goodeve","Goodife","Gorane","Goratze","Gordia","Gordiana","Gorgo","Gorostitza","Gorria","Gorritiz","Gorriza","Gothuuera","Goto","Gotzone","Gozo","Grace","Gracia","Gracye","Graeca","Gratianne","Graxi","Grazide","Grece","Grecia","Grecie","Grede","Gredechin","Gregoria","Gresilda","Greta","Grete","Gretje","Gricia","Grietje","Grimuuara","Grisegond","Grisel","Griseldis","Grishild","Grisigion","Grisogonia","Grissall","Grissecon","Grissel","Grissell","Grizel","Grizzel","Guanor","Guda","Gude","Gudeliva","Gudula","Gudule","Gudytha","Gueanor","Guener","Guenevere","Guiborc","Guibourc","Guillemete","Guillemette","Guillote","Guiote","Gumhild","Gundesvinda","Gundichild","Gundiperga","Gundrada","Gundrea","Gunel","Gunild","Gunilda","Gunne","Gunnell","Gunneuare","Gunnild","Gunnilda","Gunnilde","Gunnildes","Gunnilla","Gunnilt","Gunnora","Gunnore","Gunnota","Gunnote","Gunora","Gunwar","Gunware","Guodhelda","Guodlia","Gure","Gurutze","Gurutzeta","Guruzne","Gwenhevare","Gwenore","Gyel","Gygaea","Gylle","Gyly","Gynuara","Gyszel","Hadaken","Hadewidis","Hadwis","Hadwisa","Hadwise","Haidee","Haize","Halie","Hana","Hanneli","Hanni","Haouys","Haoys","Harbona","Harmke","Harmodias","Harmonia","Harriet","Harsent","Harwara","Haueis","Haurramari","Haute","Havisa","Hawis","Hawisa","Hawise","Hawisia","Hawys","Hawyse","Hazeca","Hecuba","Hedewigis","Hedheue","Hegazti","Hegelina","Heidi","Heidindrudis","Heilewif","Heilewis","Heilewisa","Heilswinda","Hekabe","Hekaline","Hekate","Helchen","Heldeburga","Hele","Heleanor","Helena","Helene","Heletradana","Heleuuidis","Helevisa","Helewidis","Helewis","Helewisa","Helewise","Helewys","Helewyse","Heleyne","Helga","Helice","Helike","Helinda","Heliodora","Helis","Helisende","Helisent","Helissent","Helissente","Hellanike","Helle","Helmech","Helmet","Helmeth","Heloise","Helouys","Heloys","Heloyson","Heltrada","Helueua","Helvynya","Helysoune","Helyssent","Hema","Hemin","Hemke","Hengelsenda","Heni","Herden","Herdin","Herena","Herenborg","Herenfrida","Herleva","Herleve","Herlinda","Herlindis","Hermana","Hermelinda","Hermengarda","Hermengart","Hermenjart","Hermesent","Hermessent","Hermine","Hermineite","Hermione","Herophile","Hersent","Hesione","Hesse","Hesychia","Hette","Hextilda","Hiart","Hida","Hiemke","Hientje","Hilaera","Hilargi","Hildberta","Hildborg","Hildcardis","Hilde","Hildeberga","Hildeburg","Hildeburgis","Hildegard","Hildegarde","Hildegardis","Hildegund","Hildelana","Hildemunda","Hildeswindis","Hildeth","Hildeuuara","Hildeuuif","Hildewara","Hildewif","Hildeyerd","Hildiard","Hilditha","Hildithe","Hildrada","Hildwara","Hildyard","Hiliard","Hilith","Hilka","Hilke","Hillaria","Hillda","Hille","Hiltrude","Hinauri","Hine","Hinemoa","Hinte","Hippodameia","Hippodamia","Hippolyta","Hira","Hirmenlind","Hismena","Hodiern","Hodierna","Hodierne","Hoki","Honnor","Honor","Honorata","Honoria","Honors","Honorte","Honore","Horenga","Hostaruuara","Houde","Hruodgarda","Hruotberta","Hua","Hugolinae","Hugone","Huguete","Huguette","Hunila","Hursell","Hutaosa","Hylda","Hylde","Hyldeiard","Hyolent","Hypsipyle","Hyrmina","Hysode","Hyssmaye","Iaera","Iaione","Ianeira","Ianessa","Ianthe","Ianuaria","Ibabe","Ibane","Ibernalo","Ibone","Ida","Idasgarda","Ide","Idemay","Ideny","Ideslef","Idesuuif","Ideswif","Idisiardis","Idoia","Idoibaltzaga","Idone","Idonia","Idony","Idurre","Iera","Igaratza","Igone","Igotz","Ihintza","Ikerne","Ikomar","Ikuska","Ilaria","Ilazkie","Ilene","Ilia","Iligardia","Illaria","Iloz","Imagantia","Imaigne","Imania","Imanie","Imayn","Imayne","Imblen","Imedia","Imelda","Imeyna","Imicina","Imma","Imme","Immine","Imte","Imyne","Infe","Ingaret","Ingaretta","Ingela","Ingelswindis","Ingeltrude","Ingeltrudis","Ingeluuara","Ingelwara","Ingerith","Ingrede","Inmaculada","Ino","Ioar","Iodberta","Iola","Iolanthe","Iole","Iolitha","Iomene","Ione","Ionna","Ionnia","Ionnina","Iphianassa","Iphigenia","Iphimedeia","Iphis","Iphitheme","Ipuza","Iragarte","Iraia","Irakusne","Irantzu","Irati","Iratxe","Irene","Iriberri","Iride","Irihapeti","Iris","Iristain","Iriuela","Irmele","Irmengard","Irmenhild","Irmenlind","Irua","Irune","Iruri","Irutxeta","Isa","Isadora","Isamaya","Isard","Isasi","Isata","Isaut","Isburch","Iseldis","Iselota","Isemay","Isemeine","Iseuda","Iseult","Iseut","Ismanna","Ismeina","Ismena","Ismene","Ismenia","Ismey","Isold","Isolde","Isolt","Isot","Isota","Isott","Isotta","Isouda","Issa","Issat","Isurieta","Isylte","Italia","Italica","Itoiz","Itsasne","Itsaso","Iturrieta","Iturrisantu","Itxaro","Itxaso","Itzal","Itzia","Itziar","Iuetta","Iuette","Iuliana","Iuotte","Iurre","Iustina","Ivetta","Ivette","Ixone","Izaga","Izar","Izaro","Izaskun","Izazkun","Izett","Izorne","Izot","Jacotte","Jaione","Jantje","Jasone","Jauregi","Jehanne","Jeike","Jeliana","Jellfte","Jelyan","Jenefer","Jeneuer","Jenningtje","Jeromia","Jervaise","Jesmaine","Jesmond","Jessamine","Jessimond","Jesusa","Jezebel","Jilfte","Jill","Jismond","Jivete","Joana","Joanna","Jocasta","Jocea","Jocey","Jocosa","Jodoca","Johi","Joia","Joie","Joiha","Jokie","Joleicia","Jolenta","Jolicia","Jone","Jordan","Josebe","Josephine","Josiane","Josina","Josse","Jossy","Josune","Jourdenete","Joveta","Joxepa","Joya","Joye","Joyeuse","Joyse","Judda","Juelina","Juet","Juete","Juetta","Jugatx","Juheta","Juhota","Juicea","Juicia","Julene","Julian","Juliana","Juliane","Julie","Julienne","Juliet","Juliote","Julitta","Julyan","June","Jurdana","Jurre","Justina","Juwete","Juye","Kaithren","Kalare","Kallisto","Kallixeina","Kalotte","Karin","Karine","Karitate","Karmele","Kassandra","Kat","Katalin","Katana","Kate","Katelin","Katelina","Kateline","Katerin","Katerina","Katerine","Katering","Kateryn","Kateryna","Kateryne","Katharina","Katharine","Katherin","Katherine","Katherne","Katheryn","Katheryne","Kathren","Kathrine","Katina","Katixa","Katja","Katrina","Katrine","Katring","Katryne","Kattalin","Katte","Kea","Keina","Kemma","Kephissa","Kharmion","Khloris","Khle","Kiena","Kiles","Kima","Kimbery","Kinborough","Kinburga","Kineburga","Kinna","Kistie","Kitt","Kitty","Kizkitza","Kizzy","Kleio","Kleopatra","Klymene","Klytemnestra","Knellste","Kodes","Koldobike","Kontxesi","Kontzeziona","Kordel","Kordula","Koritto","Koru","Kor","Krabelin","Kriemhild","Kungund","Kuni","Kupe","Kupie","Kydilla","Kymme","Kyneburg","Kynna","Kynthia","Kypris","Kyra","Kytte","Labda","Labinia","Ladina","Laetitia","Lagliua","Laguia","Laguntzane","Laida","Lais","Lalage","Lall","Lally","Lamia","Lamiaran","Lamindao","Lamke","Lampetie","Lampito","Landa","Landburuga","Landerra","Landgarda","Landrada","Langhuie","Langiva","Langlaua","Langlif","Lanike","Lanthildis","Lantuuara","Laodameia","Laodamia","Laodice","Laothoe","Larraintzar","Larraitz","Larrara","Larrauri","Larraza","Lasagain","Lasarte","Lasthena","Latona","Latsari","Latxe","Laua","Laura","Laurana","Laurente","Laurentia","Laureola","Lauretia","Lauretta","Lavena","Lavin","Lavina","Lebdrudis","Lece","Lecelin","Lecelina","Lecenta","Lecia","Lecie","Leda","Leddinga","Lede","Lefchild","Leffeda","Leffquen","Lefled","Lefleda","Lefquen","Lefquena","Lefquene","Lefquenn","Lefqwen","Lefwen","Lefwenna","Legarda","Legarra","Legendika","Legundia","Leioar","Leire","Leitz","Lekaretxe","Lena","Leocadia","Leofwena","Leogife","Leolina","Leonina","Leontia","Leorin","Lerate","Lerden","Letasu","Lete","Letia","Letice","Leticia","Leto","Letoys","Letselina","Lett","Lette","Lettice","Lettie","Letty","Letyce","Leucothea","Leucotho","Leueiua","Leuekin","Leuerun","Leueua","Leueue","Leuieua","Leuild","Leuiua","Leurona","Leurun","Leuruna","Leuuich","Leveva","Lewana","Lewen","Lewena","Lexuri","Lezaeta","Lezana","Lezeta","Lia","Liana","Liaueld","Libourc","Licia","Lictina","Lide","Lidiardis","Liecia","Liedrada","Liefhun","Lieftet","Lientje","Liepmayt","Lierni","Lieste","Lietgarda","Lietgardis","Lietuuif","Lieuuara","Liffild","Lifgarda","Ligarda","Lige","Lili","Lilura","Limnoreia","Lina","Linda","Lindi","Linet","Linette","Linnet","Linniue","Linota","Linyeve","Linyive","Liobgytha","Liobsynde","Liodburga","Liodgard","Liodrada","Lion","Lioness","Lirain","Lisia","Litburh","Litgardis","Litiardis","Liuete","Liueua","Liuilda","Liuitha","Liuiua","Liutgarde","Livid","Livith","Lizarazu","Lohitzune","Loinaz","Lois","Lootje","Lopene","Lora","Lore","Lorella","Lorencete","Loreta","Lorete","Loretta","Lorie","Lota","Louisa","Louve","Loverun","Loza","Lubias","Lubje","Lubke","Lucardis","Luce","Lucete","Lucette","Lucey","Luciana","Lucie","Lucina","Lucque","Lucy","Luffechild","Lugardis","Luilda","Luixa","Lukene","Lumka","Lumke","Luned","Lunet","Lunete","Lur","Lutisse","Luuechild","Lynette","Lyneue","Lyonnete","Lype","Lyra","Lyse","Lyveva","Maarrieta","Mab","Mabbe","Mabel","Mabell","Mabella","Mabet","Mabil","Mabila","Mabile","Mabileite","Mabilete","Mabiley","Mabilia","Mabilie","Mabill","Mabilla","Mabillae","Mabillia","Mabin","Mable","Mabley","Mably","Mabot","Mabota","Mabs","Mabyle","Macedonia","Machtildis","Mactilda","Mactildis","Madelgarde","Madelrada","Madge","Madhalberta","Maeonia","Maera","Maerwynn","Mag","Mage","Magg","Magge","Maggie","Maggot","Maggote","Maghenyld","Maghtild","Magot","Magota","Magote","Magott","Magthildis","Magtildis","Magy","Mahald","Mahalt","Mahats","Mahaud","Mahault","Mahaut","Mahenyld","Maheut","Mahhild","Mahina","Mahthild","Mahthildis","Maia","Maialen","Maiandria","Maider","Maike","Maiken","Mairangi","Mairenni","Maisie","Maitagarri","Maitane","Maite","Maiteder","Maitena","Makatza","Malasintha","Malasuintha","Maldea","Malen","Manel","Maneld","Mania","Manild","Manna","Mantzia","Map","Marabel","Marama","Margar","Margaret","Margareta","Margarete","Margarett","Margarette","Margaria","Margarit","Margarita","Margat","Margeria","Margerie","Margerye","Marget","Margetta","Margoret","Margot","Margrat","Margreit","Margret","Margriet","Margue","Marguerin","Marguerite","Margueritte","Marguerot","Margyt","Mari","Maria","Mariaka","Maribella","Marider","Marilena","Mariora","Mariorie","Mariory","Maritxu","Marjer","Marjeria","Marjoria","Marjorie","Marjory","Markaret","Markuuara","Marlies","Maronne","Marozia","Marpessa","Marquise","Marrory","Marsilia","Martha","Martie","Martine","Martixa","Martxelie","Mary","Maryell","Masawa","Masticana","Matasuntha","Mathe","Matheld","Mathena","Mathila","Mathild","Mathildis","Matild","Matilde","Matildis","Matill","Matilldis","Matillis","Mattie","Matty","Matxalen","Maud","Maude","Maughtild","Mauld","Maura","Mauriana","Maut","Mautild","Mawd","Mawde","Mawt","Maxencia","Maximina","Maynild","Maysant","Maysaunt","Mazelina","Meaka","Mechtild","Meckil","Medea","Medesicaste","Meemte","Meg","Megaera","Megara","Megare","Megaris","Mege","Megenberta","Megendrod","Megenhelda","Megenlind","Megenlioba","Megensind","Megensinda","Megenuuara","Megethia","Megge","Meggot","Megy","Mehenilda","Meifte","Meinburg","Meinnelda","Meinsent","Meinswindis","Meisent","Meite","Melania","Melanie","Melantho","Meldred","Melicent","Melisant","Melisenda","Melisent","Melisentia","Melissa","Melissent","Melita","Melite","Melodia","Melodie","Melusine","Menborch","Mendi","Mendia","Mendiete","Mendigaa","Menelaia","Menga","Mengarde","Menica","Menosa","Mentzia","Meraud","Mere","Merewen","Merewina","Merget","Mergret","Merhild","Meriall","Meriel","Merilda","Merope","Merwenna","Meryall","Meryld","Methdin","Methild","Methildis","Metis","Metriche","Metylda","Michaela","Michile","Mientje","Mikele","Milagros","Milborough","Milbrer","Milburegh","Milburew","Milburga","Milburh","Milbury","Milcentia","Mildthryth","Milesent","Milessent","Milia","Milicent","Milicenta","Milisandia","Milisant","Milisendis","Milisent","Milla","Mille","Millesant","Millesenta","Milo","Milto","Mina","Minervina","Miniain","Minicea","Minna","Minnota","Mique","Mira","Mirabell","Mirabella","Mirabelle","Mirabilis","Mirabillla","Mirable","Mirari","Mirella","Miren","Mirentxu","Miriald","Miriel","Miriela","Mirield","Mirielda","Mirielis","Miriella","Miriild","Mirils","Missa","Mitri","Mitxoleta","Moder","Moderte","Modesty","Moe","Mog","Mogg","Mogge","Mogota","Mohaut","Molara","Mold","Molde","Molora","Molpadia","Molt","Monette","Monima","Monime","Monlora","Montagne","Moolde","Mopp","Moppe","Moschia","Mott","Motte","Moude","Moulde","Moysant","Moysent","Munia","Muno","Munondoa","Muntsaratz","Murgindueta","Murie","Muriel","Muriele","Muriella","Murienne","Murina","Muruzabal","Muskilda","Muskoa","Muxika","Mydrede","Mykale","Mylecent","Mylisant","Mylla","Mylle","Myrine","Nabarne","Nabarra","Nafarroa","Nagore","Nahikari","Naiara","Nane","Nantechildis","Naroa","Natividad","Nausicaa","Nazubal","Neaera","Negu","Nekane","Nell","Nellie","Nelly","Nemerte","Nephele","Nerea","Nereida","Nesaea","Nest","Nesta","Ngaio","Ngawai","Nicasia","Nichola","Nicholaa","Nichole","Nicholina","Nicia","Nicol","Nicola","Nicolaa","Nicole","Nicopolis","Nidlebis","Niesenn","Nieves","Nikaia","Nikasepolis","Niko","Nikole","Niobe","Niree","Noblete","Nog","Nogga","Nogge","Nonna","Nora","Nordrada","Norma","Nunile","Nycaise","Nyra","Nyree","Nyrie","Nysa","Ockje","Oda","Odala","Odburga","Odela","Odelina","Odgiva","Odguda","Odgudana","Odiern","Odierna","Odierne","Odila","Odile","Odilia","Odlenda","Odolina","Odriana","Oenone","Ogiva","Oianko","Oiartza","Oibar","Oihana","Oihane","Oilandoi","Oinaze","Oitane","Oitia","Oka","Okon","Olaia","Olaiz","Olalla","Olar","Olaria","Olartia","Olatz","Olburgis","Olga","Olif","Oliff","Olimpias","Olite","Oliua","Olive","Olivet","Olivia","Ollano","Olleta","Ollett","Olligtie","Oloriz","Olyff","Olyffe","Olympias","Olyve","Omphale","Onditz","Ondiz","Oneka","Onintza","Onora","Opakua","Optata","Orabell","Orabella","Orabilia","Orabilis","Orabla","Orable","Orbaiz","Ordizia","Oreithuia","Oreithyia","Orella","Orenge","Orengia","Oreute","Organa","Oria","Oriabel","Oriande","Oriante","Orieldis","Oriholt","Oriold","Oriolda","Oriolt","Orithyia","Oriz","Oro","Oroitze","Ororbia","Orose","Orrao","Orreaga","Orsina","Orsola","Orthia","Orzuri","Osabide","Osakun","Osane","Osasune","Osgarda","Osgiua","Osina","Osith","Ositha","Oskia","Osteriz","Osthryd","Ostrogotho","Ostryd","Ostrythe","Osyth","Otberta","Otgiua","Otgiva","Otilia","Otonia","Otsana","Otsanda","Ottavia","Ottilia","Otzaurte","Ourse","Oydela","Pacchild","Palatina","Pales","Pandonia","Pandwyna","Panope","Panora","Panpoxa","Pantxike Patxi","Pare","Parezi","Parise","Parisete","Parmys","Parnel","Parnell","Paronel","Parthenia","Parthenope","Parysatis","Pasara","Pasiphae","Paskalin","Pasques","Passara","Passerose","Pateria","Paternain","Patricia","Patty","Pauee","Paui","Pauie","Paula","Pauli","Paulina","Paveya","Paveye","Paz","Pechel","Peg","Peggy","Pelela","Pelopia","Peneli","Penelope","Penne","Pentecost","Pentecouste","Penthesilea","Percalus","Pereite","Perialla","Periboea","Pericleia","Pernel","Pernella","Pernelle","Pero","Peronel","Peronele","Peronell","Peronelle","Perrete","Perronele","Perronnele","Perronnelle","Perrote","Perse","Persephone","Persis","Pertesia","Pertxenta","Pervica","Pervinca","Peryna","Peta","Peternel","Peternell","Peternella","Petje","Petrona","Petronel","Petronella","Petronilla","Petronille","Petronyl","Phaedra","Phaedre","Phaedyme","Phaethusa","Phaia","Pharahildis","Phelipote","Phelis","Phemie","Pherenike","Pheretima","Pherusa","Phigaleia","Philea","Philinna","Philip","Philippe","Philles","Phillice","Phillida","Phillip","Philomache","Philomela","Philomena","Philona","Philota","Phoebe","Phratagune","Phryne","Phylace","Phylia","Phyllis","Phylo","Phylomedusa","Pia","Piedad","Pilar","Pilare","Pipa","Pippa","Pizkunde","Placencia","Placidia","Placidina","Pleasant","Pleasaunce","Plectrudis","Plente","Plesance","Plesancia","Plesantia","Plesencia","Podarge","Pogge","Poggy","Poko","Polly","Polycaste","Polydamna","Polydora","Polymede","Polyxena","Pompeiana","Popelina","Poyo","Pozne","Praeiecta","Preciosa","Precious","Presentacion","Primaveira","Primeveire","Printza","Proba","Probina","Procne","Procris","Prone","Pronle","Proseria","Protezy","Prothasey","Prothesia","Proto","Protogonia","Prudencia","Prudentia","Prudie","Prue","Psamathe","Psyche","Pueyo","Purificacion","Purissimma","Purnelle","Purnle","Putiputi","Puy","Pylia","Pypa","Pyrrha","Pythias","Quenburga","Quenell","Queneua","Quenild","Quenilda","Quenill","Quenilla","Queniua","Quenyeve","Quenylda","Quynel","Qwinhild","Ra","Radagundis","Radborg","Radburg","Radburgis","Radegund","Radeken","Radgert","Radlia","Radogund","Radsuinda","Rainilda","Rainildis","Raisa","Ramburga","Rametta","Ramona","Rangi","Rante","Rata","Rechemay","Reenste","Reeste","Regana","Regenburuga","Regenelda","Regenlind","Regenset","Reginsuint","Regneuuig","Regula","Reimerich","Reine","Reinewif","Reingard","Reingardis","Reingart","Reingaud","Reingod","Reinhedis","Reinne","Reinsuent","Relindis","Remedios","Renata","Renburgis","Renilla","Rennewief","Rerte","Resli","Reta","Rewa","Rewi","Reyna","Reyne","Rhea","Rhene","Rhoda","Rhode","Rhodope","Riberta","Richardyne","Richelda","Richemeya","Richenda","Richenza","Richessa","Richil","Richild","Richildis","Richill","Richmal","Richoard","Richolda","Riclindis","Ricolda","Ricsuinda","Rieke","Rikild","Rikilda","Rikilde","Rikildis","Rikmai","Rinelt","Rinilda","Rinne","Rinnett","Rixenda","Rixende","Roana","Roberge","Rochilda","Rodburga","Rodelinda","Rodgarda","Rodgardae","Roes","Roese","Roesia","Roesli","Rofsind","Rogerete","Roheis","Roheisa","Roheisia","Rohese","Rohesia","Rohez","Roimata","Roisia","Rokilda","Roos","Rosa","Rosalind","Rosalinda","Rosaline","Rosamond","Rosamund","Rosamunda","Rosario","Rose","Roseaman","Roseia","Rosemond","Rosemonde","Rosemunda","Roslindis","Rosomon","Rossamond","Roste","Roswitha","Rotburga","Rothaide","Rothais","Rothin","Rotlenda","Rotrude","Rotrudis","Rousse","Roxane","Royce","Roysa","Royse","Roysia","Rozeman","Rubea","Ruothilde","Rupe","Rustica","Rusticana","Rychyld","Rykeld","Sabbe","Sabie","Sabin","Sabine","Saby","Sabyn","Saethrith","Saethryda","Sagarduia","Sagari","Sageua","Sageue","Sahats","Saieua","Saintisme","Saints","Saioa","Saiua","Salerna","Sallurtegi","Saloua","Salove","Salvianella","Samke","Sanceline","Sancha","Sanche","Sanctia","Santutxo","Sappho","Sarke","Sayeua","Sayeva","Sayntes","Sayua","Scholace","Scholast","Science","Sciencia","Scientia","Scolacia","Scolastica","Scylla","Sebasteia","Seburg","Seburga","Seburuh","Secile","Sedaina","Sedania","Sedehanna","Sedemai","Sedemaiden","Sedemode","Sedille","Sedilon","Seghuie","Seheve","Seiua","Sela","Selinah","Seloua","Seloue","Selova","Seluue","Sely","Semele","Semera","Sence","Sens","Senses","Serena","Sergia","Seuar","Seuare","Sewenna","Seyiua","Seyua","Sib","Sibb","Sibba","Sibbe","Sibbet","Sibbly","Sibbot","Sibel","Sibeli","Sibell","Sibella","Sibely","Sibil","Sibile","Sibilia","Sibilie","Sibilla","Sibley","Sibli","Sibly","Siborch","Sibota","Sibri","Sibry","Siburg","Sibyll","Sibylla","Sicillia","Siddon","Sidney","Sidonia","Sidonie","Sieber","Sierida","Sieverte","Sigarda","Sigberta","Sigeberta","Sigeburgis","Sigerith","Sigethrod","Sigiburgis","Silke","Sillina","Silva","Similce","Sina","Sindonia","Sira","Sirida","Siscella","Sisilla","Sisley","Sisse","Sissota","Sisygambis","Sjante","Snelburch","Soberich","Sofie","Soiartze","Sokorri","Sol","Soledad","Sona","Sonja","Sophia","Sophoniba","Sophonisba","Sophonsiba","Sorauren","Sorkunde","Sorne","Soskao","Sotera","Soterraa","Souplice","Speio","Splendora","Sreda","Stacia","Stamburc","Stanborw","Stanburch","Stangiva","Stanguie","Stanhilda","Stanild","Stanilde","Stanuie","Stanyue","Stateira","Stenburch","Stephanie","Stheneboea","Stientje","Stilleuuara","Stina","Stonild","Stonilda","Stonildi","Stratonice","Strilleburg","Sueta","Sueteluue","Suitburgis","Sungyve","Sunigilda","Sunilda","Sunna","Sunngifu","Susanna","Swale","Swantje","Sweteloue","Swetelove","Swethyna","Swetiue","Swetyene","Swetyne","Syagria","Syardis","Sybbly","Sybby","Sybell","Sybil","Sybill","Sybilla","Sybille","Sybyle","Sybyll","Sybyly","Sycily","Syele","Synnove","Sysley","Syslye","Sdillon","Tacey","Tacia","Tacye","Taggett","Taggy","Taiaroa","Talaitha","Tamati","Tatje","Tawhaki","Tece","Tecmessa","Tede","Telephassa","Teresa","Terese","Tetradia","Tetxa","Teudsindis","Thais","Thalassa","Thaleia","Thalke","Thancuuara","Thangustella","Thea","Theaduuara","Theano","Thebe","Thedela","Theeste","Theldred","Theldry","Thelma","Themis","Theocharista","Theodananda","Theodelinda","Theoderada","Theodora","Theodoracis","Theodosia","Theodotis","Theognosia","Theophane","Theophania","Theophano","Theresa","Thessala","Thessalonike","Thetis","Theutberga","Thidela","Thieda","Thietgarda","Thietuuich","Thietwara","Thiodsind","Thiodsuinda","Thisbe","Thiudigotho","Thiutuuara","Thomassa","Thomassia","Tho","Thosa","Thrasborg","Thrudberga","Thyia","Tice","Ticekin","Tiece","Tiecelin","Tiecia","Tiede","Tietlenda","Tietza","Tilda","Till","Tilla","Tille","Tillie","Tillot","Tillota","Tillote","Tilly","Timandra","Timo","Tina","Tiwho","Tice","Tjabbend","Tjalde","Toda","Toi","Toloo","Tomyris","Tonna","Toto","Trhutborgana","Trinidad","Trissie","Trixie","Truda","Trudi","Trudlinde","True","Truffeni","Trutilda","Tryphena","Tryphosa","Tui","Tungia","Turi","Txori","Tyecelin","Tyeceline","Tyro","Tyce","Ualdburg","Ualdethruda","Uba","Ubaga","Ubarriaran","Uda","Udaberri","Udala","Udane","Udara","Udazken","Udelina","Udeline","Udiarraga","Udoz","Ueremund","Uerenburoc","Uga","Ugarte","Uiburgis","Uindborog","Uinebarga","Uireda","Ula","Ulfhild","Ulgarda","Uli","Ulia","Ulveva","Unice","Untza","Untzizu","Uoldolberta","Uraburu","Uralde","Urbe","Urcy","Urdaiaga","Urdie","Urdina","Uriarte","Uribarri","Urie","Uriz","Urkia","Uronea","Urraka","Urrategi","Urrea","Urreturre","Urretxa","Urrexola","Urrialdo","Urroz","Ursaly","Ursel","Urseley","Ursell","Ursola","Urtune","Urtza","Urtzumu","Uschi","Usmene","Usoa","Usue","Usune","Utsune","Uzuri","Vadamerca","Valdamerca","Vanora","Veleda","Veneranda","Verena","Vesta","Vigilantia","Vigilia","Violante","Violet","Violetta","Violette","Visitacion","Vitula","Vivian","Viviana","Vivien","Vivienne","Vreneli","Vreni","Vrowecin","Vualdberta","Vualdedruda","Vualdetruda","Vuifken","Vuinetberta","Vuissance","Vuiuechin","Wackrill","Waerburg","Waitohi","Waldburg","Waldrada","Wander","Wannore","Wannour","Wantelien","Wantliana","Warehild","Watcelina","Wavin","Wea","Wealdburg","Wealhburg","Weertje","Wekerild","Wemke","Wendel","Wenefreda","Wenthelen","Wentiliana","Werburg","Werburga","Werburgh","Werbyrgh","Wereburga","Whetu","Wibke","Wiblind","Wiburge","Wiburgis","Wiemda","Wifhildis","Wihted","Wilberga","Wilgefortis","Wilgeva","Willelda","Willelma","Willesuindis","Wilmetta","Wilmke","Wilmot","Wimarc","Wimarca","Winefred","Winifred","Winnifred","Wivecin","Wivin","Wlbergis","Wlbgis","Wlfeuua","Wlfildis","Wlgert","Wlueth","Wluiaa","Wluiua","Wluyua","Wlveva","Wocbke","Wofled","Wolfleda","Wolueua","Wolueue","Woluiua","Wubcke","Wulfhilda","Wulfhildis","Wulfiue","Wulfled","Wulfleda","Wulfrueua","Wuluefa","Wuluethia","Wulueua","Wuluiua","Wuluiue","Wulvela","Wulvella","Wulveva","Wulveve","Wulviva","Wulwiua","Wumke","Wyberg","Wybir","Wybur","Wyburgh","Wynifreed","Xabadin","Xanthe","Xanthippe","Xantippe","Xaxi","Xemein","Xene","Xenophile","Ximena","Xixili","Xoramen","Yayone","Yda","Ydany","Ydeneye","Ydenia","Ydon","Ydonea","Yera","Yfame","Ylaire","Ylaria","Yllaria","Ymanie","Ymanya","Ymanye","Ymeisna","Ymenia","Ynstauncia","Yolande","Yolant","Yootha","Yordana","Younice","Yrmengardis","Ysane","Ysemay","Ysenda","Yseult","Yseulte","Ysmay","Ysmeina","Ysmena","Ysmene","Ysolt","Ysopa","Ysoria","Ysoude","Ysout","Yulene","Yvette","Yzebel","Zabal","Zabaleta","Zaballa","Zaloa","Zamartze","Zandua","Zarala","Zeberiogana","Zelai","Zelina","Zelizi","Zenobia","Zerran","Zikuaga","Zilia","Ziortza","Zita","Zoe","Zohartze","Zorione","Zuberoa","Zubia","Zufiaurre","Zuhaitz","Zumadoia","Zumalburu","Zuri","Zuria","Zuriaa","Zurie","Zuza","Zuzene","Zwaante"],setup.NAME_fantasy_male_first_name=["Aalart","Aalef","Aalot","Abantes","Abarrotz","Abas","Abascantus","Abbo","Abdalonymus","Abderos","Abel","Abelard","Aberardus","Aberius","Aberkios","Aberri","Abimilki","Abisme","Ablabius","Ablerus","Abnur","Abramius","Abreas","Abronychus","Absolard","Absolet","Absolon","Abundanitus","Abydos","Acaeus","Acamus","Accalia","Acelin","Acessamenus","Acestes","Achane","Achard","Achart","Achene","Achestan","Achibert","Achila","Achille","Achololim","Acilius","Acindynus","Aclepiades","Acot","Acrisias","Acrisius","Acroneos","Actor","Acun","Acur","Adair","Adalard","Adalbero","Adalbert","Adalbrecht","Adaldag","Adalfuns","Adalhard","Adaloald","Adam","Adame","Adamus","Adeber","Adei","Adeimanthos","Adel","Adelard","Adelardus","Adelchis","Adelphius","Adelredus","Adelroth","Adelstan","Adeluin","Adelulf","Adenot","Aderlard","Adestan","Adhmar","Adistair","Adlard","Admago","Admetos","Adnot","Adon","Adonato","Adonatus","Adranus","Adrastos","Adrastus","Adred","Adrestus","Adri","Adrian","Adrianus","Adric","Adrien","Adrone","Adso","Adstan","Adur","Adventus","Adwig","Aeaces","Aebondeius","Aeduin","Aeduuard","Aeduuin","Aega","Aegaeon","Aegelmaer","Aegicoros","Aegidius","Aegisthes","Aegon","Aeilmar","Aeimnestos","Aeldredus","Aeldret","Aelfraed","Aelgar","Aelger","Aelmar","Aelmer","Aeluin","Aeluuin","Aelwin","Aenesidemos","Aeolus","Aerin","Aeropus","Aeschreas","Aesculapius","Aesepus","Aeson","Aesop","Aetes","Aethelmaer","Aethelraed","Aethon","Aetion","Aetios","Aetis","Aetolos","Afer","Agamedes","Agamemnon","Aganbold","Agapenor","Agapetus","Agapias","Agapius","Agastrophos","Agathocles","Agathon","Agbal","Ageio","Agelaus","Agenor","Ager","Agesilaus","Agetos","Agid","Agila","Agilbert","Agilof","Agilulf","Agin","Agino","Agis","Agius","Agiwulf","Agnellus","Agnien","Agobard","Agosti","Agoztar","Agrias","Agrius","Agriwulf","Agrudilius","Agu","Ahala","Ahthari","Ahu","Aiantes","Aias","Aide","Aidoingus","Aiert","Aigeus","Aignen","Aigo","Aigulf","Ailbert","Ailbric","Ailbriht","Ailex","Aillard","Ailmar","Ailmer","Ailred","Ailuin","Ailwin","Ailwinus","Aimar","Aime","Aimeri","Aimeric","Aimeriguet","Aimery","Ainethach","Aingeru","Aintza","Aioro","Aire","Airopos","Aischylos","Aistan","Aistulf","Aita","Aithanarid","Aitor","Aitzol","Ajac","Akadios","Akamas","Aketza","Aktis","Aktor","Akuhata","Alabane","Alahis","Alain","Alainon","Alaird","Alaire","Alana","Alane","Alanus","Alaon","Alar","Alarabi","Alard","Alarge","Alaric","Alaricus","Alart","Alastor","Alatheus","Alatz","Alaviv","Alazas","Albec","Albecius","Alberi","Alberic","Albericus","Albert","Albertus","Albgast","Albi","Albin","Albinus","Albirich","Alboin","Albrict","Alcaeos","Alcandros","Alcher","Alcides","Alcimos","Alcinous","Alcmaion","Alcman","Alcock","Alcon","Aldebrand","Aldemund","Alderan","Aldin","Aldis","Aldo","Aldouin","Aldredus","Aldret","Alduin","Aldun","Aldus","Aldyn","Aleaume","Aleaumin","Alec","Aleck","Alector","Alein","Alektryon","Aleron","Alerot","Alesace","Alesander","Alesaunder","Alessio","Alestan","Alethius","Aleuas","Alewyn","Alex","Alexain","Alexandir","Alexandros","Alexarchos","Alexias","Alexis","Alexon","Alextus","Aleyn","Aleyne","Alezan","Alberich","Alfan","Alfonce","Alfred","Alfredus","Algar","Alger","Algor","Aliaume","Alica","Alick","Aligern","Alimahus","Alinon","Alisander","Alisandre","Alisaunder","Alistair","Alix","Alixandre","Alizaunder","Alkamenos","Alkestis","Alketas","Alkibiades","Alkides","Alkimachos","Alkiphron","Alkmaion","Alla","Allan","Allande","Allen","Alleyn","Allian","Allowin","Allunen","Almanzor","Almer","Almeric","Almericus","Alo","Alodet","Alodie","Aloeus","Alois","Alots","Aloys","Aloysius","Alphaeus","Alphaury","Alpheos","Alphesiboeus","Alphios","Alphonse","Alphonsins","Alret","Alsandre","Altes","Altus","Altzibar","Aluer","Aluerad","Aluerd","Alueredus","Alured","Aluredus","Aluret","Aluuin","Aluuine","Alvar","Alvaren","Alvere","Alvery","Alvredus","Alvuin","Alwinus","Alwyn","Alwyne","Alyattes","Alyaume","Alypius","Alysandir","Amable","Amadeus","Amal","Amalaric","Amalric","Amalrich","Amalricus","Amalvis","Amand","Amanieu","Amantius","Amarinceus","Amator","Amatus","Amaud","Amaund","Amauri","Amaurri","Amaury","Ambe","Amberic","Ambrico","Ambricus","Ambroise","Ambrosius","Ambroys","Ambure","Ame","Ameinias","Ameinokles","Amelus","Amer","Americ","Americus","Amery","Ames","Ametz","Amfrid","Amfridus","Amiable","Amiantos","Amias","Amiberl","Amiel","Amigart","Amils","Amiot","Amirrutzes","Amis","Amisius","Ammianus","Amminus","Ammius","Ammonianus","Amo","Amohia","Amompharetos","Amopaon","Ampelius","Amphiaraos","Amphidamos","Amphimachos","Amphimnestus","Amphinomous","Amphion","Amphios","Amphitrion","Ampho","Amuruza","Amyas","Amyntas","Amyntor","Amyon","Amyris","Amythaon","Amlien","Anabesineos","Anacharsis","Anafrid","Anagastes","Anaia","Anakletos","Anakoz","Anakreon","Anartz","Anastasios","Anastasius","Anatole","Anatolicus","Anatolius","Anaut","Anaxagoras","Anaxandridas","Anaxandrides","Anaxandros","Anaxarchos","Anaxilaus","Anaximander","Anaximenes","Anaxis","Anaxos","Ancelin","Ancelm","Ancelmus","Ancelot","Ancharia","Anchialus","Anchier","Anchimolios","Anchises","Anchitel","Ancurio","Ancus","Andagis","Andbert","Ander","Andhari","Andima","Andoitz","Andokides","Andolin","Andoni","Andraemon","Andrash","Andre","Andrea","Andreas","Andrec","Andreu","Andrew","Andries","Androbulos","Androche","Androcles","Androdamos","Androgeus","Androne","Andronicus","Aner","Aneristos","Anfroi","Anfroy","Angegisis","Angilbart","Angilbert","Angius","Angof","Anianus","Anicius","Aniketos","Anisodoros","Anixi","Anketel","Anketil","Anketin","Anko","Annibal","Anno","Anquetil","Anquetin","Anschetillus","Anschitillus","Anscoul","Ansegisel","Ansehelm","Anseis","Anselet","Ansell","Ansellus","Anselm","Anselme","Anselmet","Anselmus","Ansfroi","Ansgor","Ansgot","Anshelmus","Ansiau","Ansila","Ansis","Anskar","Ansketil","Anskettell","Ansobert","Ansout","Ansprand","Anstill","Ansure","Antaeus","Antagoras","Antemion","Antenor","Anter","Anthelme","Anthemion","Anthemius","Anthimus","Anthon","Anthonius","Antichares","Antidoros","Antigenes","Antigonos","Antikles","Antilochus","Antinous","Antiochus","Antipatris","Antipatros","Antiphales","Antiphones","Antiphus","Antisthenes","Antoine","Antoinne","Anton","Antoni","Antonin","Antonius Tone","Antonius","Antony","Antoynel","Antso","Antton","Antus","Antxoka","Antyaume","Anysus","Anytos","Anytus","Aoric","Apahida","Apal","Apat","Apelles","Apellicon","Aphaurin","Aphidnos","Aphren","Api","Apisaon","Apollodoros","Apollophanes","Apollos","Appius","Aquila","Aquillius","Arabante","Arabo","Araimfres","Aralar","Arano","Aranold","Arapeta","Aratus","Aratz","Arbert","Arbitio","Arbogast","Arbogastes","Arcadius","Arcas","Arcavius","Arcebaldus","Arcenbaldus","Arcesilaus","Archagoras","Archambaud","Archel","Archelaos","Archembald","Archeptolemus","Archesilaus","Archestratidas","Archetel","Archil","Archilochus","Archimbalt","Archimbert","Archimbide","Archytas","Arcidamus","Arcturus","Arculf","Ardabur","Ardaric","Ardoin","Areilycus","Areisius","Areithous","Arentus","Arenvald","Aresin","Aresti","Aretino","Argades","Argaeus","Argaith","Argi","Argider","Argina","Argoitz","Argos","Ariald","Ariaric","Aribert","Arichis","Aridolis","Arimir","Arioald","Arion","Aripert","Ariphron","Aristaeus","Aristagoras","Aristaios","Aristandros","Aristarchos","Aristarchus","Aristides","Aristion","Aristippus","Aristoboulos","Aristobulus","Aristocles","Aristocypros","Aristodemos","Aristogeiton","Aristomachos","Ariston","Aristonous","Aristonymos","Aristophanes","Aristophantes","Aristos","Aristotles","Aristoxenus","Ariulcabor","Arius","Arixo","Arlowe","Armand","Armando","Armant","Armatus","Armel","Armenius","Armentarius","Armin","Armine","Arminel","Armundus","Arnaitz","Arnald","Arnaldus","Arnalt","Arnand","Arnas","Arnaud","Arnaut","Arnegis","Arnegliscus","Arnet","Arniel","Arnitole","Arnoald","Arnold","Arnoldus","Arnoth","Arnott","Arnoul","Arnould","Arnousten","Arnulf","Arnwald","Arold","Arotza","Arphevic","Arquitius","Arrabaios","Arrats","Arrianus","Arridaios","Arrinis","Arrosko","Arsaphius","Arsenios","Arsenius","Arsieu","Artaud","Artavasdas","Artemas","Artemidoros","Artemios","Artemisthenes","Arter","Arther","Artheur","Arthur","Arthurius","Arthurus","Artizar","Artor","Artorius","Artos","Artur","Arturus","Artus","Artzai","Artzeiz","Arvandus","Arvide","Arybbas","Asasthenes","Asbad","Asbadus","Ascalaphus","Ascalo","Ascanius","Ascelin","Ascelyn","Aschetel","Aschetil","Aschetin","Aschines","Ascila","Asdrubal","Asentzio","Ashtus","Asiagenus","Asier","Asius","Askell","Asketel","Asketin","Asklepios","Asonides","Asopodoros","Asopus","Aspar","Asphalion","Aspuanis","Assaraeus","Asselin","Astacos","Astav","Astegal","Astell","Aster","Asteri","Asterion","Asterius","Asteropaeus","Astien","Astigar","Astin","Astius","Astor","Astorge","Astrabacus","Astyanax","Atacinus","Atarrabi","Atarratze","Ataulf","Ataulph","Athalaric","Athalwolf","Athamas","Athanagild","Athanaric","Athanin","Atharid","Athaulf","Athel","Athelard","Athelardus","Athelstan","Athelston","Athenades","Athenaeus","Athenion","Athenodorus","Atilus","Atiphates","Atratinus","Atreus","Atrius","Atrometos","Atroque","Atseden","Attaginas","Attaginos","Attalos","Attelivupis","Attrebus","Atymnius","Atys","Atze","Atzo","Aubaud","Aubelet","Auberi","Aubert","Aubertin","Aubery","Aubin","Aubinnet","Aubour","Aubray","Aubri","Aubry","Audax","Aude","Audegar","Audemar","Audenian","Audens","Audila","Audo","Audoen","Audoenus","Audoin","Audomar","Audoneus","Audouin","Audramnus","Audri","Augebert","Augias","Auglard","Auguinare","Augurius","August","Augustinus","Auiphion","Auletes","Aunger","Aunius","Aunsellus","Aurel","Aurius","Aurken","Aurre","Aurri","Ausout","Austin","Austinus","Austyn","Autesion","Autgar","Authari","Autodikos","Autolycus","Autolykos","Automedon","Autonous","Auveray","Auvere","Auver","Auvrai","Auxitius","Auxkin","Aveberl","Avenel","Avent","Aventus","Averardus","Averay","Avere","Averet","Averey","Averio","Averitt","Avery","Avidius","Avienus","Avila","Axular","Axylus","Aylard","Aylbricht","Aylewynus","Aylmer","Aylmerus","Aymar","Aymer","Aymeri","Aymie","Aymon","Ayol","Azeari","Azelinus","Azer","Azeus","Azibar","Aznar","Azorius","Azshalku","Aztore","Azubeli","Azur","Azzo","Azmar","Baalhaan","Babai","Babylas","Bacauda","Bacchides","Bacchios","Bacchylides","Bacenor","Bacis","Bacola","Baderon","Badouim","Badua","Baduaruis","Baduila","Baerius","Baiardo","Baiarte","Baiona","Bakar","Baladi","Balan","Balasi","Baldavin","Baldemarus","Baldewin","Baldewyn","Baldewyne","Baldric","Balduin","Baldwyn","Balendin","Baleren","Balesio","Balian","Baligant","Balik","Balin","Balius","Bangin","Banning","Banyrick","Baptiste","Baragon","Barat","Barates","Baraxil","Barbaros","Bardas","Bardin","Bardo","Bardol","Bardolf","Bardolphus","Bardulphus","Barea","Baret","Barjot","Barnabe","Barnand","Barnard","Barnet","Barnier","Baro","Barret","Barrett","Barthel","Bartholomeus","Barthlemy","Bartram","Bartrem","Baryctor","Basajaun","Basan","Basbrun","Basequin","Basile","Basileides","Basileios","Basiliakos","Basilides","Basilien","Basilius","Basill","Baso","Bassianus","Bastien","Basuin","Basyle","Baszone","Bathyaes","Batsuen","Batzas","Baudet","Baudkin","Baudoin","Baudouin","Baudoyn","Baudry","Baugulf","Baurion","Bausan","Baut","Bauto","Bavo","Bawden","Bayard","Baynard","Baza","Bazil","Bazkoare","Bazzo","Beat","Beatus","Beaubel","Beaudonnier","Beaudouin","Beaunois","Bedastair","Begnaud","Begon","Begue","Behe","Beila","Bela","Belasko","Belchimac","Belethor","Belic","Belin","Belos","Beltxe","Beltza","Benat","Bendis","Bendt","Bendu","Bendy","Benedick","Benedictus","Benedicus","Beneger","Beneoit","Beneoite","Benet","Benett","Beneyt","Benger","Benild","Benjamin","Benjamund","Benjamyn","Benkamin","Bennet","Benoet","Benoiet","Benoist","Benoit","Benry","Benunius","Benoit","Beppolenus","Berahthraben","Beran","Berart","Berasko","Berbiz","Berchar","Berdaitz","Berdoi","Bereditte","Beremundo","Berend","Berengar","Berengarius","Berengerius","Berengerus","Berengier","Berhdoldus","Berhtolf","Beric","Berico","Berig","Berimud","Berimund","Berin","Beringaer","Beringer","Berinhard","Berjamund","Bernar","Bernard","Bernardine","Bernardus","Bernart","Bernat","Bernier","Berno","Bero","Beroald","Beroldus","Berolt","Berriotxoa","Bert","Bertaut","Bertelis","Berteram","Berthaire","Berthar","Berthomieu","Bertie","Bertilo","Bertin","Bertol","Bertramus","Bertran","Bertrand","Bertrannus","Bertrant","Bertulf","Berwelfus","Beryn","Besgun","Bessa","Bessas","Bessi","Besso","Betadur","Betan","Beti","Betin","Betto","Betyn","Beuca","Beucad","Beuve","Beuves","Beves","Bevon","Bezilo","Bianor","Bias","Bibianus","Biche","Bidari","Bide","Bidun","Bigelis","Bihar","Bikendi","Bilbo","Bilimer","Bilintx","Billebaut","Bingen","Binizo","Bion","Birard","Birila","Birinus","Birjaio","Bisaltes","Bisinus","Bistrand","Biton","Bittor","Bitxintxo","Bixente","Bixintxo","Bizi","Bladi","Blaise","Blaive","Blancandrin","Blandus","Blanko","Blasius","Blathyllos","Blaze","Blithe","Blubamka","Blutmund","Bob","Bobbie","Bobby","Bobo","Bobs","Bochard","Bodenolf","Bodkin","Bodo","Bodolev","Bodoloff","Bodwine","Boethius","Boethus","Boeuf","Bohle","Boiorix","Boje","Boltof","Bomilcar","Bon-Ami","Boneface","Bonifacius","Bonifatius","Bonne","Bonyface","Boodes","Borani","Borchert","Bordat","Borjes","Bortzaioriz","Borus","Boso","Bostar","Boter","Botolfe","Botolph","Botulf","Bouchard","Bouke","Bovo","Bradon","Braga","Braig","Brandila","Brandish","Brantome","Bremman","Bretonnet","Brianus","Briareus","Briarus","Bric","Brice","Bricet","Briceus","Bricot","Brielus","Brien","Brienus","Brinarch","Brison","Britius","Brocard","Broder","Brotch","Bruc","Bruccius","Brucetus","Brucus","Bruiant","Brulo","Brune","Brunile","Bruno","Brunte","Bruscius","Bruscus","Brussec","Bruyant","Bryan","Bryant","Bryennius","Brygos","Bucoli","Bulis","Buneau","Burcanius","Burchard","Burconius","Burel","Burgundus","Burkardus","Burnel","Burni","Burrhus","Burutzagi","Buselin","Butacidas","Butilin","Butlilinus","Bnezet","Bri","Caccian","Caccino","Cadwell","Caecilus","Caecus","Cahusque","Caine","Caitarius","Caius","Calatus","Calden","Calixte","Calixto","Callimachus","Callimorphus","Callinicus","Calogerus","Calopodius","Calvario","Calvus","Canbeus","Canctunian","Candac","Cannabas","Cannabaudes","Canollot","Cantacuzenes","Cantier","Canute","Canutus","Caoiss","Capiton","Cappi","Caprenius","Capuel","Carbo","Carellus","Carenos","Carinus","Carius","Carle","Carloman","Carlon","Carmalo","Carneades","Carnius","Carodus","Carolus","Carpophorus","Carpus","Carthalo","Cartrus","Casambus","Caschin","Casimir","Casjen","Caspar","Cassius","Cassyon","Casta","Castellan","Castinus","Castor","Castus","Catullus","Cavortius","Cavot","Ceas","Cebriones","Cedran","Cedus","Celag","Celann","Celarion","Celeas","Celnard","Celsus","Centho","Centule","Cephalos","Cepheus","Cephissos","Cerularius","Cesamund","Cethegus","Ceubasnus","Ceufroy","Ceyx","Chabrias","Chacili","Chaeremon","Chaero","Chairophon","Chal","Chalcodon","Chalcon","Chalie","Chalin","Challemmeinne","Challemoinne","Challes","Chantot","Charax","Charegiselus","Chares","Charibert","Charidemos","Charilaus","Charillos","Charle","Charlebert","Charlemayn","Charlemic","Charlemund","Charleric","Charles","Charlet","Charlot","Charlys","Charmides","Charon","Charopos","Charques","Chartain","Chatbert","Chazili","Cheiron","Cheldric","Chenric","Chernubles","Chersis","Chervain","Chik","Chilbudius","Childebert","Childebrand","Childeric","Chileos","Chilon","Chilperic","Chindasuinth","Chlodmer","Chlodovech","Chlodowig","Chlotar","Choerilos","Choeros","Chonrad","Chremes","Chremon","Chremonides","Chretzo","Chrezzo","Chrismin","Chrisogon","Christoboulus","Christoph","Christophe","Christophorus","Chrodegang","Chromis","Chromius","Chroniates","Chrysaor","Chryses","Chrysippos","Chrysogones","Chrysogonus","Chrysolorus","Churley","Chustaffus","Cicero","Cidius","Ciel","Cilix","Cimbar","Cimber","Cimon","Cineas","Cinyras","Ciprianus","Cirges","Cisses","Cisseus","Clagius","Clair","Clairac","Clanius","Clarebald","Clarembald","Clarembaut","Claren","Clarenbald","Clarien","Clarifant","Clarin","Clarus","Clasomo","Claude","Claudien","Claudius","Claumin","Clavides","Cleades","Cleandros","Cleathes","Clecentor","Cleisthenes","Clem","Clemens","Clement","Cleobulus","Cleodaeos","Cleombrotos","Cleomenes","Cleon","Cleonicus","Cleonymus","Cleph","Clerebald","Clerenbald","Clibergus","Climborin","Climent","Climenon","Clinias","Clinton","Clisthenes","Clodomir","Clonius","Clotaire","Clothair","Clovis","Clyment","Clymenon","Clytius","Clytomedes","Cniva","Cnivida","Cnoethos","Cobbo","Cobon","Cocistian","Codros","Codus","Coenus","Coeranus","Coes","Coirtene","Cois","Colbert","Colby","Colias","Colin","Collatinus","Colluthus","Colwin","Comentas","Comentiolus","Cometas","Comitas","Comitiolus","Compicius","Conandus","Conanus","Conayn","Condier","Condrenn","Connor","Conon","Constans","Constantianus","Constantinianus","Constantinus","Constantius","Contar","Contumeliorus","Copreus","Coravel","Corbinian","Corbyn","Cordier","Cordius","Cordylion","Corentin","Corintthac","Corippus","Coris","Cornel","Cornelius","Cornelys","Corney","Coronos","Corpulus","Corrick","Corrudus","Cortoran","Corvus","Corwyn","Corydallos","Corydon","Cosh","Cosmas","Cosmus","Cosnach","Costaine","Costan","Costane","Costetine","Costin","Coumyn","Courtois","Cozard","Craig","Crassius","Crathis","Cratinus","Cratippus","Crenard","Crendal","Crescentius","Crescius","Cresconius","Cressant","Cressin","Cretheus","Crethon","Cretines","Crios","Crispian","Crispianus","Crispin","Crispinian","Crispinianus","Crispinus","Crispus","Cristianus","Crocus","Croesus","Cronos","Crotila","Crottus","Crulius","Crpin","Cteatus","Ctesippus","Cudbert","Cudbriht","Cuddey","Cuddie","Cuddy","Cunigast","Cunimund","Cunius","Cuno","Cunradus","Cuphagoras","Curincpert","Curnard","Curteis","Curtice","Cuthbrid","Cyberniskos","Cycnus","Cylon","Cynaegiros","Cyncus","Cyneas","Cyniscus","Cynric","Cyntoine","Cyon","Cyprian","Cypselos","Cyr","Cyrenios","Cyriack","Cyricus","Cyril","Cyrila","Cyrill","Cyronin","Cytorissos","Con","Dabi","Dacele","Dadaces","Dado","Daedalos","Daetor","Dagilo","Dagobert","Dailus","Daimbert","Dalan","Dalenc","Dalfin","Dalmas","Dalmatius","Daluce","Damard","Damasippus","Damasithymos","Damasos","Damastor","Damasus","Damian","Damianos","Damianus","Damien","Damiskos","Dammo","Damoetas","Damon","Danaos","Danaus","Danders","Danel","Danforth","Daniel","Danielus","Danje","Danor","Dantoine","Danual","Danus","Danwyche","Dapamort","Daphis","Daphnis","Darcy","Dardanus","Dares","Daribert","Daric","Dariel","Darius","Darko","Darlliun","Daro","Darrel","Darren","Darric","Darryn","Darvell","Daufari","Daufer","David","Davide","Davier","Davos","Davyd","Debentien","Decalus","Decanus","Decentius","Decius","Decke","Decmitius","Decumus","Dederic","Dederich","Dederick","Dedericus","Deenes","Deenys","Degaine","Degaratien","Degarre","Degore","Dei","Deigenhardus","Deinias","Deinokrates","Deinomenes","Deiotones","Deiphobus","Deiphonous","Deipylus","Delacourt","Delane","Delion","Delven","Delvin","Demades","Demaratos","Demarmenos","Demas","Demeas","Demetrios","Democedes","Democon","Demodocus","Demokrates","Demoleon","Demonax","Demonous","Demophlos","Demosthenes","Denel","Denes","Denisot","Dennet","Dennie","Dennis","Denny","Denter","Denyse","Denysot","Deon","Depusanis","Derek","Derkylos","Derrell","Derric","Derrick","Deryk","Desideratus","Destaine","Destane","Detlef","Detritus","Deukalion","Deunoro","Deuterius","Deverak","Deveral","Dexicos","Dexion","Dexios","Dhalen","Diactorides","Diadromes","Diadumenus","Diagoras","Diagur","Dicaeus","Diccon","Dick","Dicke","Dicken","Dickie","Dickon","Dickory","Dicky","Didericus","Didier","Didymus","Diegotxe","Dieneces","Dieter","Diggin","Diggory","Digne","Digory","Dilan","Dilborn","Dimarus","Dimitri","Dinas","Diocles","Diodoros","Diodorus","Diokles","Diomedes","Dion","Dionisius","Dionysios","Dionysophanes","Dionysos","Diophantus","Diores","Diosconis","Dioscuros","Diotrephes","Dirge*","Dirk","Dismas","Distiratsu","Dithyrambos","Ditmarus","Ditwinus","Dmetor","Dob","Dobbin","Dobias","Dod","Dodd","Doddie","Doddy","Dodge","Dodo","Doete","Dolcettus","Dolfin","Dolleo","Dolon","Dolops","Domeka","Domentziolus","Domenyk","Domianus","Domiku","Dominic","Dominick","Dominicus","Dominix","Dominy","Domitius","Domnicus","Domninus","Domnitziolus","Donaldus","Donat","Donato","Donestan","Doneuuald","Donnel","Donnet","Donostia","Donston","Donus","Doolin","Dorand","Dore","Doreios","Doreius","Dorel","Dorian","Doriskos","Dorjes","Doros","Dorotheus","Doryssos","Dosithios","Dracien","Draga","Dran","Draninus","Draven","Drest","Dreu","Dreue","Dreues","Dreux","Drew","Drewett","Drimylos","Drivien","Dro-on","Droart","Droet","Drogo","Dromeus","Droserius","Drouet","Droyn","Dru","Drue","Druet","Druettus","Drugo","Drust","Drusus","Dryas","Dryops","Drystan","Dryston","Duach","Dubius","Ducetius","Duche","Duda","Dudic","Dudo","Dudon","Duihna","Dukker","Dulcissinuis","Dulcitius","Dump","Dumphey","Dumphry","Dumpty","Duncan","Dunestan","Dunimond","Dunius","Dunixi Denis","Duraeg","Durand","Durandus","Durant","Duris","Durus","Duvianus","Dydier","Dye","Dymas","Dymnos","Dynamius","Dyonisius","Dyric","Dyryke","Dyus","Eadmund","Eaduin","Eaduuard","Ealdred","Ealdwine","Ealis","Eate","Ebbo","Eberhardus","Ebermud","Eberwolf","Ebrardus","Ebrimud","Ebroin","Ebrulf","Eburhart","Eburris","Echekrates","Echelaos","Echemmon","Echemus","Echephron","Echepolus","Echestratos","Echeus","Eck","Eckardus","Ecke","Ecky","Edain","Ede","Edelstein","Eden","Eder","Edgar","Edgard","Edica","Edmod","Edmond","Edmund","Edmundus","Edon","Edorta","Edouard","Edred","Edreld","Edric","Edrien","Edryg","Eduard","Eduin","Eduinus","Edun","Edur","Eduuard","Eduuin","Eduuine","Edward","Edwardus","Edweg","Edzard","Ee","Eetion","Eggihard","Eggo","Egidius","Eginhardt","Eginolf","Egoi","Egoitz","Egon","Eguen","Eguerdi","Egun","Eguntsenti","Eguzki","Ehren","Eicke","Eicko","Eidhart","Eielt","Eiffe","Eigio","Eilert","Eilmer","Einhard","Einolfus","Eioneus","Eirenaios","Ekain","Ekaitz","Ekhi","Ekialde","Elasus","Elatos","Elatreus","Elazar","Elbert","Eldred","Elduin","Eleder","Eleon","Elephenor","Elexander","Elie","Ellande","Ellic","Elmar","Elmer","Eloic","Elorri","Elpenor","Elpides","Elpidius","Elshender","Eltrys","Eluard","Elured","Eluret","Elvin","Elysandre","Emambe","Emaurri","Emaus","Emax","Embrico","Emelricus","Emenon","Emercho","Emeric","Emerick","Emericus","Emery","Emicho","Emile","Emiliard","Emmandic","Emmanuel","Emme","Emmeran","Emmerard","Emmerich","Emnard","Emond","Emont","Emory","Emoryan","Empedocles","Enaut","Endemannus","Endemel","Endios","Endira","Endura","Endymion","Eneco","Enego","Eneko","Enekoitz","Eneto","Enetz","Engelard","Engelier","Engelke","Engenes","Engenouf","Engeram","Engeramus","Engerramet","Engerran","Engerrand","Engilbert","Enguerran","Enguerrand","Enion","Eniopus","Enjorran","Enjorren","Enmon","Ennaeus","Enne","Ennemond","Ennis","Enno","Ennoc","Ennodius","Ennomus","Ennychus","Enops","Enri","Enrick","Enurchus","Eos","Epaenetus","Epaphos","Epaphroditus","Epeigeus","Epeius","Ephialtes","Epicurus","Epicydes","Epikrates","Epimenes","Epiphanes","Epiphanius","Epistor","Epistrophos","Epitrophos","Epizelos","Epowlett","Eral","Eraric","Erart","Erasistratus","Eratosthenes","Eratostheres","Erauso","Erbogar","Ercanbald","Erchambaut","Erchebald","Erchembaut","Erchenbaldus","Erchinoald","Erechtheus","Ereinotz","Erengier","Eretmenus","Ereuthalion","Ergalla","Erginus","Ergiyios","Erichthonius","Ericus","Erind","Eriulf","Eriz","Erj","Erkenbaud","Erlantz","Erlembald","Ermanaric","Ermelandus","Ermenoldus","Ernald","Ernaldus","Ernand","Ernard","Ernaut","Erneis","Ernele","Ernest","Ernirus","Ernis","Ernisius","Ernold","Ernoldus","Ernolf","Ernoul","Ernoulet","Ernoullet","Ernst","Ernust","Erold","Erramu","Erramun","Errando","Errapel","Errolan","Erroman","Erruki","Ertaut","Ertius","Eru","Ervig","Erwin","Erxandros","Eryalus","Erysichton","Eryx","Eryximachos","Escabert","Escamel","Escremiz","Esdelot","Esdert","Esdrufus","Eshmunazar","Eskuin","Esme","Esmond","Espan","Espanelis","Esprevere","Esquier","Estebe","Esteve","Estien","Estienn","Estmond","Estorgan","Estout","Estramarin","Estne","Eteocles","Eteokles","Eteonous","Eteus","Ethelbert","Ethelmar","Ethian","Etiache","Etienne","Etira","Etor","Etxahun","Etxatxu","Etxeberri","Etxekopar","Etxepare","Euaemon","Eualcidas","Euanthes","Euarestos","Eubalus","Eubulus","Eucarpus","Euchenor","Eucleides","Eudaemon","Eude","Eudes","Eudon","Eudorus","Eudoxius","Eudoxsus","Eudoxus","Eudropin","Euenius","Euenor","Euenus","Eugal","Eugammon","Eugenios","Eugenius","Euhemenis","Euippus","Eukles","Eulalius","Eulampius","Eulogius","Eumaeus","Eumastas","Eumelus","Eumenes","Eumneus","Eumolpus","Euneas","Euonomos","Eupalinus","Eupatarius","Euphemius","Euphenes","Euphorbos","Euphorion","Euphratas","Euphronios","Euphronius","Eupolos","Euric","Euripides","Euryanax","Eurybates","Eurybiades","Eurycliedes","Eurydamus","Eurydemon","Eurydemos","Euryhus","Eurykrates","Eurykratides","Euryleon","Eurylochos","Eurymachos","Euryphon","Eurypylos","Eurystenes","Eurysthenes","Eurystheus","Eurysthios","Eurythion","Eurytos","Eusebius","Eusko","Eussorus","Eustache","Eustachius","Eustacius","Eustas","Eustathius","Eustochius","Eustratius","Eute","Eutha","Euthalius","Eutharic","Euthydemos","Euthynos","Eutolmius","Eutropios","Eutuches","Eutychianus","Eutychides","Eutychius","Eutychus","Euvrouin","Evaenetos","Evagoras","Evandros","Evanetus","Eve","Evelthon","Evenios","Evenon","Evenus","Everardus","Evert","Everwinus","Evien","Evinn","Evios","Evrardin","Evrart","Evrat","Evrouin","Evroul","Evroult","Ewmond","Ewstace","Exaduis","Exekias","Eylgar","Ezkerra","Eztebe","Fabianus","Fabien","Fabio","Fabius","Fabrice","Fabricius","Fabyan","Facco","Fadiko","Fadus","Faenus","Fagus","Fairman","Falco","Faldron","Fallard","Falx","Fameite","Famula","Famte","Fandus","Fangeaux","Faolan","Faolchu","Faramond","Faramund","Fardulf","Fareman","Faremanne","Faric","Farman","Farmanus","Farnobius","Faro","Faroald","Farrimond","Fastida","Fastred","Fato","Fauques","Faure","Fauseius","Fawkes","Fehde","Feletheus","Felipe","Felippe","Felippo","Felippot","Feliz","Felyse","Felyx","Fenas","Ferand","Ferant","Ferarilie","Ferentus","Feristyr","Fermin","Ferou","Ferrand","Ferrant","Ferri","Ferrum","Ferry","Fersio","Fersomeris","Fery","Festius","Festus","Feva","Fiebras","Fiehe","Fiepto","Fierelus","Filbert","Filibert","Filimer","Finious","Firman","Firmin","Firmine","Firminus","Firmo","Fitel","Fitellus","Fithian","Fizzilo","Flaccitheus","Flaccus","Flaco","Flambard","Flaminius","Flanbert","Flavian","Flodoard","Floouen","Florant","Florence","Florencius","Florenot","Florent","Florentinus","Florentius","Flori","Florian","Floridee","Floris","Florius","Florivet","Florus","Floyd","Fluellen","Flurry","Fluvant","Fluvius","Focke","Foke","Folc","Folcard","Folke","Folkert","Folkes","Folkher","Folkmod","Folmar","Fonteius","Fonten","Fontenot","Fontius","Formerio","Formosos","Forsard","Fortin","Fortis","Fortun","Foucaud","Foucaut","Foucher","Fouchier","Foulk","Foulque","Foulqueret","Fouquaut","Fouque","Fouqueret","Fouques","Fouquet","Fourcaut","Foursi","Fowke","Fralav","Franceis","Franceys","Francio","Franciscus","Franck","Franco","Francois","Francus","Francynak","Frankl","Franque","Franquet","Frantzes","Franz","Fraomanius","Fraunce","Fraunk","Fravitta","Fray","Fredegar","Frederic","Fredericus","Frederik","Frederuno","Freert","Fremin","Frencque","Frerich","Frery","Freskin","Fretela","Fridebertus","Fridebraht","Frideric","Fridericus","Fridigern","Fridolin","Fridugis","Fridurih","Frigeridus","Frilan","Frilo","Frinnius","Frithila","Frithuric","Fritigern","Frizkav","Frizwyr","Froila","Fromondin","Fromony","Frontarius","Frostien","Frubert","Fructosus","Frugo","Fuabal","Fuano","Fugues","Fulbert","Fulbertus","Fulchard","Fulcher","Fulco","Fulgentius","Fulk","Fulke","Fulko","Fullofaudes","Fulrad","Furius","Fyrmyn","Fderic","Fderyc","Gaban","Gabin","Gabirel","Gabo","Gabon","Gaboryan","Gabrielius","Gabrien","Gabryel","Gadaric","Gadayn","Gadfrid","Gaffer","Gagino","Gahariet","Gai","Gaiallard","Gaido","Gaidon","Gaifer","Gailen","Gaillard","Gaillart","Gainas","Gairbert","Gairebold","Gairhard","Gairovald","Gaiseric","Gaitzka","Gaius","Gaizka","Gaizkine","Gaizko","Galafe","Galafre","Gale","Galefridus","Galenus","Galeran","Galeren","Gales","Galfridus","Galien","Galindo","Galindus","Gallien","Gallienus","Gallinius","Gallivere","Gallus","Galoer","Galot","Galter","Galterius","Galtus","Gamelin","Gamelinus","Gamellus","Gamelus","Gammell","Gan","Ganciele","Ganelon","Ganet","Ganix","Ganymedes","Gar","Garaile","Garaona","Garbert","Garbrand","Gargrell","Garibald","Garikoitz","Garin","Garit","Garner","Garnet","Garnier","Garnot","Garnotin","Garoa","Garrat","Garratt","Garrelt","Garrett","Garrit","Garron","Garrus","Garsille","Garth","Gartxot","Gartzea","Gartzen","Gartzi","Garvey","Gascone","Gascot","Gaskon","Gaspar","Gasparien","Gastau","Gasteau","Gasteiz","Gastne","Gaston","Gau","Gauanes","Gauargi","Gaubert","Gauchier","Gaude","Gaudinus","Gaueko","Gaufrid","Gaufridus","Gaufroi","Gauguein","Gauldur","Gaumardas","Gaur","Gaut","Gautbehrt","Gautelen","Gauterit","Gauteron","Gautier","Gautzelin","Gauvain","Gauzelen","Gauzpert","Gaven","Gavienus","Gavin","Gavinus","Gavric","Gavros","Gawayne","Gawen","Gawin","Gawn","Gawne","Gawter","Gawyn","Gawyne","Gaxan","Gaylord","Gaztea","Gebahard","Geberic","Gebhard","Geboin","Gebun","Gedric","Geerd","Geertt","Geffe","Geffery","Geffrai","Geffray","Geffrei","Geffrey","Geffroi","Gefroi","Gefroy","Geike","Gelem","Geleon","Gelfradus","Gelimer","Gelis","Gellius","Gelo","Gelon","Gelther","Gelvin","Gemalfin","Gembert","Gemelle","Gemellus","Gemmel","Generidius","Genethlius","Gennadios","Gennadius","Gennove","Gentian","Gentien","Gento","Gentza","Geoff","Geoffrey","Geoffroi","Geofridus","Geon","Geonard","Geor","Geordie","George","Georgie","Georgius","Georgus","Georgy","Gepard","Gepelem","Ger","Gerald","Geraldo","Geraldus","Gerard","Gerardus","Gerasimos","Geraud","Gerazan","Gerbert","Gerbertus","Gerbodo","Gerbotho","Gerente","Gereon","Gerfast","Gergio","Gergori","Gerhardus","Gerhart","Geric","Gerich","Gerier","Gerin","Gerjet","Gerlach","Gerlacus","Gerland","Germanus","Gernand","Gernandus","Gernaud","Gerner","Gernier","Gero","Gerold","Geroldin","Geroldus","Gerolt","Gerontius","Gerould","Gerrald","Gerrart","Gerrit","Gerulf","Gerung","Geruntius","Gervais","Gervaise","Gervas","Gervasius","Gervassius","Gervesin","Gervesot","Gervis","Gervs","Gervse","Gerwald","Gesalec","Gesimund","Gessure","Getha","Getica","Geuffroi","Geve","Gevehard","Gian","Gib","Gibbon","Gibby","Gide","Gidie","Gieffrinnet","Gierry","Gifardus","Gifartus","Gifemund","Giff","Gifford","Gigo","Gil","Gilamu","Gilbard","Gilberd","Gilbert","Gilbertus","Gildon","Gile","Gilebert","Gilebertus","Gilebin","Gilen","Gilesindo","Gilet","Gilibertus","Gilius","Gill","Gillebertus","Gilles","Gillet","Gilliame","Gillius","Gillot","Gillotin","Gilmyn","Gilon","Gilonem","Gilot","Gilow","Gilpin","Gimmo","Ginus","Giorges","Giorgius","Giovanni","Gipp","Giradin","Giraldus","Girard","Girardus","Girars","Girart","Giraud","Giraudus","Giraut","Girbers","Giregilo","Giriaume","Girk","Giro","Giroldus","Girout","Giselberdus","Giseler","Gisfrid","Gisilbehrt","Gisilbert","Gislebertus","Giso","Gisulf","Gitienne","Gizon","Glabrio","Glallian","Glaubert","Glaukias","Glaukos","Glaumunt","Glauperaht","Glenroy","Gloriosus","Glover","Glycerius","Glycon","Gnipho","Goar","Gobelin","Gobert","Gobin","Goce","Gocelinus","Godafre","Godafried","Godard","Godart","Godbert","Goddas","Godebert","Godefray","Godefridus","Godefroi","Godefroy","Godefry","Godegisel","Godehard","Godeheard","Godelot","Godepert","Godesmannus","Godet","Godewinus","Godfery","Godfree","Godfreed","Godfrey","Godfry","Godichal","Godigisclus","Godila","Godilas","Godin","Godobald","Godohelm","Godscalcus","Goduin","Goduine","Godun","Godvynus","Goeuuin","Goffridus","Gogo","Goi","Goiaricus","Goin","Goisfrid","Goisfridus","Goiz","Goizeder","Goldin","Goldine","Golding","Goldkopf","Golduin","Goldwyn","Golias","Gomeric","Gomesano","Gondistair","Gonfroi","Gontier","Gora","Gorag","Gorbea","Gordias","Gordon","Gordyn","Goren","Gorgias","Gorgion","Gorgos","Gorgythion","Gorka","Gorosti","Gorri","Gosbert","Goscelin","Goscelinus","Gosfridus","Gotteschalk","Gottschalk","Gotwinus","Gotzon","Gotzstaf","Goubert","Goumelet","Gourdet","Gouththas","Gouzlim","Gozbert","Gozelinus","Gozolon","Graccus","Gracien","Gracyen","Graham","Gralam","Grancis","Grandeau","Granden","Grandoye","Granier","Granius","Grantham","Granville","Gratian","Grawo","Grefin","Greg","Grege","Gregoras","Gregorius","Gregory","Gregour","Grenville","Grifo","Grifon","Grigge","Grimald","Grimaldus","Grimbald","Grimbaldus","Grimbaud","Grimbol","Grimbold","Grimoald","Grimold","Gringoire","Gris","Grisigion","Grisigon","Grivier","Grobert","Grugues","Gryf","Gryllus","Gualter","Gualterius","Gualtier","Gualtierus","Guarin","Guarinet","Guarinus","Guarnier","Gudyn","Guenes","Gueri","Guerinnet","Guermont","Guernier","Guernon","Guernot","Gui","Guiart","Guibe","Guibert","Guibour","Guichard","Guido","Guigue","Guilhabert","Guilhem","Guilielm","Guillame","Guillaume","Guille","Guillelmus","Guillemaque","Guillemet","Guillemin","Guillemot","Guillot","Guillotin","Guimar","Guimart","Guimer","Guimond","Guineboud","Guinemant","Guinemanz","Guinemar","Guinemat","Guiot","Guiraud","Guiraudet","Guiscard","Guischard","Guitaut","Gumpert","Gundehar","Gundiok","Gundo","Gundoald","Gundobad","Gundobald","Gunnulf","Guntard","Gunter","Gunteric","Gunterius","Gunterus","Gunthar","Gunthigis","Guntmar","Guntramn","Guntramus","Gunutz","Gunzelinus","Gurgos","Gurutz","Gusso","Gutthikas","Gutxi","Guyat","Guybert","Guymar","Guymund","Guyon","Guyseph","Gurart","Gurin","Gwalter","Gwatkin","Gwychardus","Gwydo","Gy","Gyffard","Gylaw","Gylbard","Gylbarde","Gylbart","Gylippos","Gylis","Gylmyne","Gylys","Gyrard","Gyras","Gyron","Gyrtias","Haat","Hab","Habbe","Habbie","Habbo","Habreham","Hacon","Hacques","Hacun","Haderus","Hadubrand","Haemon","Hagarih","Hagen","Haggith","Hagias","Hagilo","Hagnon","Haguin","Haiete","Haimirich","Haimmon","Haimo","Haimona","Hairud","Haitz","Hal","Halar","Halebran","Halinard","Halisthertes","Halius","Halo","Haluin","Ham","Hamelen","Hamelin","Hameline","Hamelot","Hamelyn","Hamen","Hamett","Hamilax","Hamilcar","Hamiscora","Hamlet","Hamlin","Hamlyn","Hammond","Hamnet","Hamon","Hamond","Hamonet","Hampsicora","Hamund","Handi","Handyn","Hank","Hankin","Hann","Hannes","Hanni","Hannibal","Hannibalianus","Hanno","Hannon","Hano","Hanot","Hanry","Hans-Ruedi","Hapertus","Haquin","Harald","Haraldus","Harber","Harbert","Harbin","Harchier","Harde","Hardegin","Hardi","Harding","Hardouin","Harduinus","Hareld","Haribehrt","Hariberct","Hariman","Harimann","Haritz","Haritzeder","Hariwald","Hark","Harkaitz","Harm","Harman","Harmatidas","Harmocydes","Harmodios","Harmon","Haroldus","Harpagos","Harpalion","Harpalos","Harpernus","Harpocras","Harri","Harry","Hartmannus","Hartmudus","Hartmut","Hartz","Hary","Hascouf","Hasdrubal","Haskill","Hasphat","Hastrel","Hathrasil","Hats","Hauwe","Haveron","Hawkin","Haymo","Hayn","Hebert","Hecataeus","Hecelin","Hedlef","Hegesandros","Hegesistratos","Hegetoridas","Hegoi","Heibert","Heidolfus","Heimart","Heimeri","Heimerich","Heimon","Heine","Heinricus","Heinz","Heirax","Heiron","Hektor","Helain","Heldebald","Heldefredus","Helenos","Helfricus","Helgaud","Helgesippos","Helgot","Helicaon","Helinand","Heliodorus","Helios","Helisachar","Helladius","Helle","Helmhart","Helouyn","Heloynet","Helvius","Helvo","Hemarc","Hemart","Hemeri","Hemmet","Hemmo","Hemonnet","Hendereye","Hendry","Hene","Henffen","Henfrey","Henko","Hennabear","Hennsmann","Henricus","Henrien","Henriet","Henriot","Henseus","Hephaestos","Heraclius","Herakleides","Herakleitos","Heraklides","Heral","Herald","Herane","Herauso","Herbelot","Herbertus","Herbrand","Herchembaut","Herchier","Herculles","Herdir","Herebert","Herensuge","Hereuuard","Herewardus","Herewart","Heribehrt","Heribert","Heribrand","Herilo","Heriot","Herluin","Herman","Hermangild","Hermannus","Hermeias","Hermenfred","Hermenigild","Hermenion","Herment","Hermeros","Herminafrid","Hermippos","Hermogenes","Hermolaos","Hermolycus","Hermon","Hermongenes","Hermotimos","Hernais","Hernaudin","Hernaut","Hernays","Hernegliscus","Hernouet","Hero","Herodes","Herodianus","Herodion","Herold","Herolt","Heromenes","Heron","Herould","Herric","Herriot","Herry","Hertwicus","Heruuord","Herve","Hervetole","Herveus","Hervey","Hervi","Herviet","Hervisse","Hervoet","Hervouet","Hervy","Hescot","Hesdin","Heseph","Hetzkinus","Heude","Heudebrand","Heurle","Hew","Hewe","Hewelet","Hewelin","Hewerald","Hewet","Hewlett","Heymeri","Heymon","Hibai","Hibbe","Hibbo","Hicetaon","Hick","Hicket","Hickie","Hiero","Hieronymus","Hierot","Higg","Hilaire","Hildebad","Hildebald","Hildeberht","Hildebold","Hildebrand","Hildebrandus","Hildebrant","Hildebrondus","Hildegaud","Hildeprand","Hilderic","Hilderith","Hildibrand","Hildigis","Hilduin","Hilfert","Hilmagis","Hilo","Himel","Himerius","Himi","Himilco","Himnerith","Hincmar","Hinrich","Hipparchos","Hipparinos","Hippasus","Hippias","Hippocon","Hippoklides","Hippokratides","Hippolytos","Hippomachos","Hippomenes","Hippon","Hipponax","Hipponicus","Hipponous","Hippotas","Hippothous","Hippotion","Hique","Hiram","Hirrus","Hiruz","Hisarna","Hitch","Hitchcock","Hitz","Hitzeder","Hlodver","Hluodohari","Hluodowig","Hnaufridus","Hob","Hobard","Hobb","Hobbie","Hocequin","Hodei","Hodge","Hodgkin","Hohepa","Hoiples","Hokianga","Holbert","Holger","Holiver","Holo","Homeros","Hone","Honfroi","Honoratus","Honorius","Honor","Honot","Hootje","Hori","Horstle","Hosbertus","Hosebert","Hosmundus","Hosmunt","Hoster","Hotch","Hotu","Hotys","Hotz","Houdart","Houdin","Houdoin","Houdouyn","Houdet","How","Howard","Howkin","Hraban","Hremfing","Hroch","Hrodebert","Hrodgar","Hrodgaud","Hrodger","Hrodo","Hrodric","Hrodrich","Hrodulf","Hrotmar","Hrudolf","Hruodiger","Hruodland","Hruodpehrt","Huard","Huart","Hubard","Hubelet","Hubert","Hubertus","Hubie","Huchon","Hud","Hudd","Hudde","Hue","Huebald","Huelin","Huet","Huffie","Hugelin","Huget","Hugethun","Huggett","Huggin","Hugh","Hughes","Hughoc","Hugi","Hugin","Hugline","Hugo","Hugolinus","Hugon","Huguard","Hugubehrt","Hugubert","Hugue","Huguenin","Hugues","Huguet","Huidelon","Huidemar","Huirangi","Huitace","Hulbert","Hulmul","Humbert","Humfery","Humfredus","Humfrey","Humfridus","Humfrye","Humilis","Humius","Huml","Humph","Humpherus","Humphery","Humphrey","Humpty","Hunald","Hunberct","Huneric","Hunfray","Hunfrid","Hunfridus","Hunigild","Hunimund","Hunout","Hunulf","Hunumund","Huolo","Huon","Huoul","Hupertus","Hurien","Hurko","Hurmio","Huroin","Hurrey","Hustaz","Hutch","Hutchin","Hyakinthos","Hydatius","Hylas","Hyllos","Hyllus","Hypatius","Hypeirochus","Hypenor","Hyperenor","Hyperion","Hypsenor","Hyrcanus","Hyrtacus","Hyrtius","Hrique","Htouyn","Iacobus","Iakchos","Iaki","Ialmenes","Iambulus","Iamus","Ianto","Ianuarius","Iasos","Iatragoras","Iatrokles","Iban","Ibanolis","Ibar","Ibba","Ibon","Ibykos","Icarion","Icarius","Icarus","Idaeus","Idaios","Idaron","Idas","Idhdean","Idomeneus","Ieltxu","Ifebrand","Igleric","Igmund","Ignace","Ignatius","Ignobert","Igon","Ihazintu","Ihintza","Ihmel","Iigo","Ikatz","Iker","Ilari","Ilav","Ilazki","Ilberd","Ilbert","Ilbertus","Ildebad","Ildogesto","Ilend","Ilioneus","Ilixo","Illart","Illyrius","Ilnori","Ilus","Ilzo","Imanol","Imbart","Imbert","Imbertus","Imbrasus","Imbrex","Imbrius","Imbrus","Imedhnain","Imgelramus","Imninon","Impudius","Imus","Inachos","Inachus","Inaki","Inaros","Inautzi","Indar","Indartsu","Inge","Ingelram","Ingelramnus","Ingelrandus","Ingelrannus","Ingeram","Ingerame","Ingraham","Ingram","Ingramus","Ingran","Ingrannus","Inguma","Iniel","Inigo","Inius","Inko","Inna","Innocentius","Intxixu","Inwold","Iobates","Ioco","Iocundus","Iolaos","Iollas","Ion","Ionnacius","Ionnes","Iordanes","Ioritz","Ioseph","Iosephius","Iosephus","Iovinus","Iovivus","Ipar","Iparragirre","Iphiclus","Iphicrates","Iphikrates","Iphinous","Iphitos","Iphitus","Ipolitus","Ippolitus","Ippollitt","Iraitz","Iratian","Iratxo","Iratze","Iratzeder","Iraunkor","Irbran","Irenaeus","Irlav","Irnand","Irnerius","Irnfried","Iros","Irrintzi","Iruinea","Irus","Isaaces","Isaacius","Isagoras","Isambard","Isandros","Isauricus","Ischenous","Isembard","Isembart","Isemberd","Isembert","Isenbard","Isenbardus","Isidor","Isidoros","Isidorus","Ision","Ismaros","Ismenios","Iso","Isocrates","Isodemos","Isokrates","Isore","Istirus","Isusko","Itheus","Itius","Iturri","Itxaso","Itylus","Itys","Itzaina","Itziar","Iulianus","Iullus","Iulus","Ive","Ivo","Ivon","Ivone","Ivor","Ivote","Ivvanus","Ixaka","Ixidor","Ixona","Izaskun","Izotz","Iztal","Jabbe","Jabbo","Jabnit","Jac","Jacmund","Jacobo","Jacquelin","Jacques","Jadien","Jadier","Jaime","Jaizki","Jak","Jakarn","Jakben","Jakelin","Jakes","Jakobe","Jakue","Jal","Jangleu","Janius","Janpier","Janto","Januarius","Janus","Janvin","Japhet","Jaras","Jaretius","Jarnot","Jarto","Jarvis","Jasce","Jascien","Jasone","Jasper","Jatsu","Jauffre","Jaunti","Jaunzuria","Javad","Javiel","Javier","Jean","Jean-Jacques","Jean-Pierre","Jeanciele","Jeff","Jeffcock","Jeffery","Jeffroy","Jeffry","Jehan","Jeharraz","Jehaue","Jelde","Jellrich","Jellste","Jenico","Jep","Jeph","Jerall","Jeran","Jerard","Jeraud","Jeremi","Jeremie","Jerian","Jernald","Jeromec","Jerromec","Jervis","Jesper","Jessamy","Jevan","Jewell","Jhared","Jibbe","Jibbo","Jilde","Jim","Jimy","Jirolin","Jiv","Joannes","Job","Jobba","Joce","Jocelin","Jocelyn","Jocet","Joceus","Jocien","Jodocus","Joel","Joeli","Joffridus","Jofridus","Johan","Johannes","Joheric","John","Johun","Joile","Jokin","Jolanus","Joldewin","Jolin","Jolis","Jollan","Jollanus","Jollivet","Jolyon","Jonah","Jonas","Jonathas","Joncis","Jonus","Joofy","Jop","Joppa","Joppo","Jordanes","Jorden","Joren","Jorin","Joris","Jorvuld","Josce","Joscelin","Joscelyn","Josclyn","Joseba","Josepe","Joss","Josse","Jossen","Josson","Josu","Jouane","Jourdain","Jowan","Jowell","Jozeran","Joon","Juan","Juaneizu","Juango","Juantxiki","Juberic","Judbert","Jude","Judo","Juel","Juerg","Juillen","Julen","Jules","Julf","Julianus","Julien","Julyan","Jumel","Jupp","Jurdan","Jurfaret","Jurg","Jurgi","Jurke","Juste","Justianas","Justicius","Justicus","Justino","Kacili","Kadmos","Kaenach","Kaenas","Kaeneus","Kahu","Kahumanu","Kahutea","Kai","Kaiet","Kalchas","Kalesius","Kaletor","Kalhot","Kalin","Kalliaros","Kallias","Kallikles","Kallikrates","Kallimachos","Kallinicus","Kallinos","Kallipides","Kallipos","Kallisthenes","Kallon","Kameirus","Kamira","Kandaules","Kandaulo","Kannadis","Kantav","Kapaneus","Kapys","Kareem","Karipos","Karles","Karmel","Karolus","Karopophores","Kasen","Kaslowyn","Kasorayn","Kasos","Kassandros","Kastav","Kastus","Kasynac","Kasynak","Kathner","Kauldi","Kaunos","Kauric","Kaxen","Kebalinos","Kebes","Kekrops","Kelemen","Kellis","Kelmen","Kemen","Kenard","Kendrick","Keneweard","Kenewrec","Kennard","Kenric","Kenricus","Kenweard","Kenwrec","Keop","Keos","Kepa","Kephalon","Kephalos","Kerameikos","Kereama","Kerehi","Kerkyon","Kerrich","Keteus","Kevinne","Kilian","Kiliz","Kimetz","Kimon","Kip","Kirk","Kirphis","Kismi","Kittos","Klaes","Klaus","Kleitos","Kleobis","Kleomenes","Koert","Kohuru","Koines","Koinos","Koldo","Koldobika","Konon","Koob","Koragos","Korax","Kosmas","Krag","Krantor","Krasdore","Krateros","Kreon","Krinippos","Krino","Kristos","Kritias","Kritoboulos","Kritodemos","Kriton","Kroisos","Krokinos","Ktesiphon","Kuonrat","Kupe","Kurt","Kusko","Kyknos","Kynaegeiros","Kyrillos","Kyrios","Kyros","Kyrozis","Kyrtos","Labdacus","Labhraidh","Labotas","Lactanius","Lactucinus","Ladislaus","Laelius","Laertes","Laevinus","Lafele","Lagariman","Lagos","Lagot","Laiamicho","Laico","Lain","Laios","Lallo","Lamachos","Lambard","Lambekin","Lambelin","Lambequin","Lambert","Lambertus","Lambin","Lambkin","Lamissio","Lammert","Lampo","Lampon","Lampridius","Lampus","Lamus","Lancelet","Lancelin","Lancelot","Lancelyn","Landebert","Lander","Landico","Lando","Landoberct","Landri","Lanfranc","Langley","Lanie","Lanobert","Lanslet","Lantoine","Lanzo","Laodamas","Laodocus","Laogonus","Laomedon","Laphanes","Lapurdi","Larance","Larendi","Larenz","Larisus","Larkin","Laroche","Larra","Larrius","Lartaun","Lartigue","Larus","Laskaris","Lasos","Lasthenes","Lastur","Latinius","Lauaxeta","Laudus","Launce","Launceletus","Launcelot","Launobaudus","Launselot","Launus","Laureion","Laurencius","Laurent","Laurentius","Laurentzi","Laurgain","Lauric","Laurient","Laurin","Lawrence","Laythe","Lazare","Leagros","Leandros","Learchos","Leavold","Lebuin","Lecapenus","Leclaude","Ledger","Leert","Leferich","Leffeyne","Lefric","Lefrich","Lefricus","Lefuuinus","Lefwinus","Lefwyne","Leger","Lehen","Leheren","Lehior","Lehoi","Leicritus","Leigh","Leitus","Leizarraga","Lekubegi","Lel","Lemnus","Len","Lenet","Lennard","Lennoc","Lennor","Lentfridus","Leo","Leobert","Leobois","Leocedes","Leodegar","Leodes","Leofard","Leofricus","Leofuuin","Leofuuinus","Leoiar","Leon","Leonardus","Leonaud","Leonel","Leonhard","Leonidas","Leonidem","Leonnatos","Leono","Leontiades","Leontis","Leontius","Leoprepes","Leoric","Leotychides","Leouric","Leouuinus","Leovic","Leovigild","Ler","Lerexus","Leric","Lertxun","Leseph","Lestault","Lesuin","Letard","Lethos","Letreius","Leucippus","Leudbald","Leufred","Leufroy","Leukos","Leuric","Leutfrid","Leuthere","Leuuin","Leuuine","Leuvibild","Leveridge","Levin","Levus","Lewenhart","Lewin","Lewine","Lewis","Ley","Liafwine","Liam","Lichas","Licymnios","Lie","Liebte","Liellus","Lienart","Ligart","Ligier","Liher","Lijart","Linus","Liodes","Lion","Lionel","Lionet","Lisien","Listien","Liudhard","Liudolf","Liukardis","Liulf","Liutbald","Liutbalt","Liutpert","Liutprand","Liutward","Livianus","Livila","Livius","Lizar","Lizardi","Lice","Lo","Lodewicus","Loert","Lohitzun","Loiola","Lon","Longinus","Looys","Lope","Loramendi","Lorant","Lordi","Lore","Loren","Lorence","Lorencin","Lorens","Lorent","Lorenz","Lorgren","Lori","Lorrenz","Lort","Lothar","Louis","Loup","Loupel","Louth","Louve","Louveau","Louvel","Love","Lovel","Lovell","Loverich","Loverick","Lovet","Lowis","Lowrens","Lowrie","Loxias","Loys","Loyset","Luar","Lubbert","Luc","Lucan","Lucianus","Lucien","Lucretinaus","Ludewicus","Ludoldus","Ludovicus","Ludwig","Luhre","Luitfridus","Luitgarde","Luitpold","Luix","Luk","Luken","Luki","Lukos","Lul","Luli","Lulius","Lull","Lupandinus","Lupius","Luppe","Lureau","Lurelien","Lurio","Lurius","Luspinian","Lutet","Luther","Lutjen","Luven","Luzaide","Luzea","Lvfridus","Lyam","Lycaon","Lycaretos","Lycidas","Lycomedes","Lycophon","Lycophron","Lycoris","Lycurgos","Lycus","Lydus","Lyell","Lygdamis","Lykomedes","Lykon","Lynceus","Lyolf","Lyon","Lyonel","Lyonell","Lyonis","Lysagoras","Lysandros","Lysanios","Lysias","Lysikles","Lysimachos","Lysippos","Lysippus","Lysis","Lyulf","Lyulph","Lywel","Lal","Macar","Macarias","Macedonius","Machaon","Mactator","Madanach","Madulnus","Maecald","Maelgut","Maeon","Magahard","Maganhard","Maginfred","Maginrad","Maginulf","Magnentius","Mago","Maharbal","Mahond","Mahu","Mahutia","Maiandrios","Maillart","Maillet","Mainard","Mainardus","Mainet","Mainnet","Maiorga","Maiuel","Maixent","Majorian","Maju","Makarios","Malabayn","Malapallin","Malbert","Malcolinus","Malcolum","Malcude","Malculinus","Malculms","Malculmus","Maldred","Malduit","Maleos","Males","Malger","Malintus","Malise","Malkoran","Mallius","Mallobaudes","Mallus","Malo","Malpenix","Malpramis","Malprimis","Malquiant","Malun","Mamilus","Mamme","Mana","Manard","Manex","Manfred","Mangod","Manifred","Manilian","Manis","Manoa","Mansuetus","Mantes","Mantio","Mantios","Mantzio","Manu","Manzio","Maore","Mapen","Maraulf","Marbet","Marc","Marcel","Marcellinus","Marchel","Marcian","Marcion","Marcius","Marco","Marcomir","Marcoryan","Marcoul","Marcule","Marcurio","Marcus","Marganice","Margaris","Margus","Maricho","Maricus","Marin","Marinus","Marius","Marjaques","Marke","Markel","Marko","Markus","Marley","Marlo","Marmaduc","Marmaducus","Marmedoke","Marnes","Marnest","Maro","Maron","Marone","Marquardus","Marque","Marques","Marrec","Marsile","Marsilion","Marsus","Marsyas","Martel","Martelet","Marthanes","Martialis","Martin","Martine","Martinet","Martinianus","Martino","Martinus","Martlet","Martxel","Martxelin","Martxot","Martyn","Martyrius","Maruthus","Marwig","Marz","Maso","Masque","Masso","Mastor","Matai","Matei","Matfrid","Mathieu","Mathon","Mathos","Mathys","Matia","Matraien","Matthew","Matthias","Matthiaume","Matthieu","Mattin","Mattius","Matto","Matullus","Matus","Matxin","Matys","Maucolyn","Mauger","Maugis","Maukolum","Maul","Maule","Maulore","Maurentius","Maurianus","Maurice","Mauricius","Maurie","Maurin","Maurinus","Mauris","Maurus","Maury","Maus","Mausolos","Maxelot","Maxentius","Maxilien","Maxim","Maximian","Maximianus","Maximin","Maximinus","Maynard","Mazo","Mazuste","Mazzi","Mebestien","Mecilvus","Mecistes","Mecistios","Medallus","Meder","Mederi","Mederic","Medios","Medon","Medus","Meffridus","Megadates","Megakles","Megakreon","Megapenthes","Megareus","Megas","Megasthenes","Megathenes","Meges","Meginhard","Megistias","Megistus","Mehme","Meidias","Meiel","Meimert","Meine","Meinfridus","Meingotus","Melampos","Melampus","Melanippos","Melanthios","Melanthos","Melas","Melchert","Meleagros","Melegros","Meles","Meletius","Meliboeus","Melicertes","Mello","Melmer","Melmidoc","Melminius","Melus","Meme","Memnon","Menalcas","Menandros","Menares","Menas","Mendebal","Mendiko","Menekrates","Menelaos","Menestas","Menesthes","Menesthios","Menexinos","Mengotus","Menien","Menke","Menne","Mennte","Menoeces","Menoit","Menoitios","Mentes","Mentor","Merard","Merbal","Mercadier","Mercator","Mercer","Mercurius","Mercuro","Merick","Merien","Meriet","Merigot","Meriones","Mermadak","Mermerus","Merobaudes","Merops","Merovech","Merten","Merthierry","Merthyval","Merton","Mervin","Mervyn","Mesaulius","Mesthles","Metallo","Methodios","Methodius","Metilius","Metiochus","Meto","Meton","Metrobius","Metron","Metrophanes","Meuric","Meurik","Meurisse","Meurius","Meus","Mezzi","Michael","Michaelius","Michaniel","Michebert","Michele","Michell","Micholas","Micythos","Midas","Midylos","Miguel","Mihali","Mihi","Mikel","Mikelar","Mikelats","Mikeldi","Mikkos","Mikolas","Mikon","Milanion","Mile","Miles","Milet","Milian","Millengor","Milo","Milon","Milot","Miltiades","Mimke","Min","Ministes","Minos","Mintho","Miquiel","Mirande","Mirasal","Mirten","Misenus","Mittainne","Mitxaut","Mitxel","Mivier","Mnasyllus","Mnesiphilos","Mnester","Mnesus","Modaharius","Modares","Moeris","Mogel","Moliones","Molpagoras","Molvirian","Monoecus","Monomachus","Montanus","Montxo","Mopsius","Mopsus","Mor","Morcock","Morel","Mores","Moric","Moricius","Morin","Moris","Morise","Moriset","Morric","Morrice","Morris","Morry","Morsimus","Morten","Morvan","Morven","Morys","Moryse","Moschion","Moschus","Mourice","Muato","Mulius","Munche","Munderic","Mundo","Mundus","Munia","Munifrid","Munio","Munizo","Muran","Murberius","Murudius","Mus","Musaeus","Musaios","Musius","Musko","Musonius","Muttines","Mutu","Mydon","Mygdon","Myles","Mylo","Myn","Myrsinus","Myrto","Mys","Mdard","Nab","Nabar","Nadilo","Nagal","Nahia","Naimes","Naimon","Namanian","Namatius","Namus","Nanno","Narkissos","Naspis","Nastes","Natalinus","Natch","Nathaniel","Naubolus","Naukles","Naulabates","Nausithous","Nauteus","Nazares","Neal","Neale","Nearchos","Ned","Neddie","Neel","Neil","Nel","Nele","Neleos","Nell","Nellic","Nelpus","Nemesianus","Nemic","Nemus","Neokles","Neoptolemos","Neozzo","Nepas","Nepicius","Nepos","Nepotian","Neritos","Nermus","Nero","Nerus","Nestor","Ngakaukawa","Ngati","Nial","Niarchos","Nibelungus","Nicaise","Nicandros","Nicanor","Nicephorus","Nicetas","Nicetius","Nicholas","Nicholaus","Nichomachus","Nicias","Nicodromos","Nicolao","Nicolard","Nicolas","Nicolaus","Nicomachos","Nicon","Nidada","Nidungus","Niel","Nigelle","Nigellus","Nigidius","Nigs","Nihe","Nikandros","Nikanor","Nikasios","Nikeratos","Niketas","Nikias","Nikola","Nikomachos","Nikomedes","Nilas","Nilus","Nino","Nireus","Nirine","Nirtunus","Nisos","Nithard","Nitterius","Niuzilo","Nivelet","Noah","Nob","Noemon","Noe","Noleon","Noll","Nolly","Noloen","Nolus","Nombert","Nomion","Nompar","Nonnosus","Nonnus","Nonus","Norbert","Nordbert","Nordemann","Noster","Note","Nothon","Notker","Nott","Novatus","Nol","Nrio","Nullius","Numa","Nuno","Nute","Nutkin","Nutt","Nuxila","Nyctinus","Nygell","Nymphicus","Nymphodorus","Napolion","Nvelet","Obeko","Obert","Ocealus","Ochesius","Ochos","Ocke","Octarianus","Octavimus","Octieve","Octin","Octivien","Ocytos","Odaenathus","Odard","Odde","Oddo","Ode","Odei","Odger","Odibrand","Odinel","Odius","Odo","Odoin","Odol","Odon","Odotheus","Odouart","Odovacar","Odulf","Odvan","Odysseus","Oeagnus","Oecleus","Oedipus","Oenemaus","Oeneus","Oenomaus","Oenopion","Oenops","Oenus","Oger","Ogerius","Oggery","Oggod","Ogier","Oicles","Oidor","Oier","Oihan","Oihenarte","Oileas","Oinatz","Oinaz","Olarz","Olentzaro","Oliatos","Oliva","Olivere","Oliverus","Olivier","Olli","Ollier","Olly","Olo","Oltmann","Olus","Olver","Olvus","Olwin","Olybrius","Olympicus","Olympio","Olympiodorus","Olympius","Omer","Omerus","Omistyr","Omluag","Omont","Onamakritos","Onbera","Ondart","Ondre","Onesilos","Onesimos","Onesiphorus","Onetas","Onetor","Onfroi","Ongile","Onias","Onke","Onne","Onno","Onntje","Onomastos","Onri","Ontus","Onuphrius","Opacarius","Ophelestes","Opilano","Opilio","Opites","Ops","Orable","Orain","Orcus","Orderic","Orell","Orestes","Oresus","Orges","Oriabel","Oriabiaus","Oribasius","Origen","Orinthus","Orion","Oritius","Orius","Orixe","Orkatz","Orland","Ormax","Ormellius","Oroites","Oroitz","Orpheus","Orrard","Orrent","Orrick","Orsilochus","Orsiphantes","Orthaeus","Orthus","Orti","Ortle","Ortolfus","Ortwinus","Ortzi","Orvel","Orythroneus","Orzaize","Osasun","Osbarn","Osbern","Osbernus","Osbertus","Oscar","Oseberne","Osebertus","Osewold","Osgar","Osgarus","Oskarbi","Oskell","Osketel","Oskitz","Osman","Osment","Osmon","Osmond","Osmont","Osmundus","Osoitz","Ospetsu","Ospin","Ostadar","Ostargi","Ostots","Ostrogotha","Osuin","Osuuald","Osuualdus","Osuuol","Osuuold","Osuuoldus","Oswall","Oswell","Oswinus","Oswold","Oswyn","Otebon","Otelin","Otes","Othes","Othi","Otho","Othon","Othone","Othuel","Oti","Otis","Otius","Otker","Otois","Oton","Otreus","Otrynteus","Otsando","Otsoa","Otsoko","Ottie","Ottig","Otto","Otuel","Otus","Ouard","Oubelic","Oudart","Oudet","Oudin","Oudinet","Oudinnet","Ouein","Ouen","Ouin","Oure","Ourri","Ourson","Ouus","Ovida","Ovidius","Owain","Owayine","Owayne","Owen","Oweyn","Owin","Owine","Owini","Owun","Owyne","Oxarra","Oxel","Ozwell","Pablo","Pacatian","Pachymeres","Paen","Paeon","Pagane","Paganel","Paganus","Pagen","Pagomari","Paikea","Pain","Paios","Pair","Palaechthon","Palaemon","Palamas","Paldrin","Palladius","Pallans","Pallas","Palmys","Palque","Pammon","Pamphilus","Panaetios","Panaetius","Panares","Pancras","Pancratius","Pandaros","Pandion","Pandulf","Panionos","Panites","Pankratios","Pannet","Panpili","Pantagathus","Pantares","Panteleon","Panthous","Pantites","Pantzeska","Panuel","Panundus","Paolus","Paopeus","Paora","Papias","Papin","Paraebates","Paratius","Paratus","Parcin","Pardus","Parelle","Paris","Pariset","Parmenides","Parmenion","Parquier","Parsefal","Parsifal","Parthenius","Parthenopaeus","Parzifal","Pascal","Paschalis","Pascual","Pasion","Paskal","Pastor","Pataicos","Pate","Paterculus","Paterick","Paternus","Patey","Paton","Patraud","Patrice","Patricius","Patriz","Patrobas","Patrobus","Patroclus","Patron","Patrycke","Patsy","Pattin","Pattrik","Patxi Frantxizko","Patza","Paulaui","Paulemond","Paulin","Paulo","Paulus","Paur","Pausanius","Pavel","Pavo","Payn","Payne","Paynel","Pedaeus","Pedasus","Pedocles","Pegarius","Peirithous","Peiros","Peisandros","Peithon","Pelagius","Pelagon","Pelegon","Peleus","Peli","Pelias","Pelicles","Pelinal","Pelius","Pello","Pelonus","Pelopidas","Peneleos","Peneus","Pennus","Pentheus","Penthylos","Peolpidas","Pepin","Perceval","Percevale","Percheval","Percius","Percival","Percivale","Perctarit","Percy","Percyvallus","Percyvell","Perdikkas","Perdix","Peregrine","Peregrinus","Perenius","Periandros","Periclymenus","Perieeres","Perien","Perigenes","Perikles","Perimedes","Perimos","Periphas","Periphetes","Periscus","Peritas","Periumus","Perranas","Perrando","Perrine","Perrot","Perry","Persefall","Persivell","Perth","Peru","Peruanton","Perutxo","Peryn","Pes","Peteos","Petri","Petrigai","Petronas","Petronius","Petruche","Petrus","Peukestes","Peverel","Phaedo","Phaenippos","Phaeops","Phaestus","Phaidon","Phaidriades","Phaistyr","Phalanthus","Phalces","Phalinos","Phanagoras","Phancis","Phane","Phanes","Phanias","Phantias","Phareman","Pharnaces","Phausius","Phegeus","Pheidias","Pheidippides","Pheidon","Phelain","Phelibert","Phelipe","Phelipot","Phelippe","Phelippot","Pheliset","Phelyp","Phelypp","Phemius","Phereclus","Pherecydes","Pheres","Pheronactus","Phidias","Phigaleios","Phil","Philagrius","Philagros","Philaon","Philaretus","Philbert","Philcox","Phileas","Philemon","Philetor","Philibert","Philien","Philimac","Philiot","Philip","Philipon","Philipot","Philippe","Philippicus","Philippot","Philippus","Philiskos","Philistos","Philkin","Phillipos","Phillippus","Phillipus","Philocion","Philocrates","Philoctetes","Philocypros","Philoetius","Philogus","Philokles","Philokrates","Philolaos","Philologus","Philomen","Philomenes","Philometer","Philon","Philonikos","Philopoemon","Philostratos","Philostratus","Philotas","Philotectes","Philoxenos","Philoxenus","Philpoemon","Philpot","Phineus","Phinis","Phintias","Phipp","Phitelet","Phlaris","Phlegon","Phlios","Phoebammon","Phoenix","Phoibus","Phoinix","Phoitios","Phokas","Phokion","Phorbas","Phorcys","Phormion","Phormos","Photinus","Photius","Phrastus","Phrixus","Phrynichos","Phrynikos","Phrynon","Phylacus","Phylas","Phylypp","Phytheon","Phythian","Pi","Piarres","Piccolet","Picot","Pidytes","Pierjean","Pierrand","Pierrant","Pierre","Pierres","Pierric","Pierrie","Pigres","Piligrim","Pilou","Pilper","Pilus","Pinabel","Pinarus","Pinder","Piner","Pip","Piper","Pippin","Piri","Pirithoos","Pirmin","Pisistratos","Pistias","Pitama","Pitof","Pitro","Pittacos","Pittacus","Pittheus","Pius","Pixodarus","Pixot","Pizzo","Plades","Platiau","Plautis","Plautisanus","Plautus","Pleistarchos","Pleistos","Plitinius","Plutarch","Plutinus","Podaeleirus","Podaleirus","Podalinus","Podarces","Podargos","Podaroes","Podes","Poeas","Poecas","Poimen","Poince","Poincet","Polemion","Polentzi","Poliadas","Pollio","Polyas","Polybius","Polyctor","Polydectes","Polydeuces","Polydius","Polydoros","Polyeides","Polygonus","Polykleitos","Polykles","Polykritos","Polymedes","Polyneices","Polypemon","Polyperchon","Polyphemous","Polyphetes","Polyphontes","Polypoetes","Polyxeinus","Ponce","Poncet","Ponche","Ponteus","Popin","Popiniau","Poppa","Poppe","Poppens","Poppo","Porchier","Porcius","Porphyrios","Porphyrius","Porthippe","Poseidon","Posides","Posidonios","Postius","Potamius","Potamon","Potitus","Potkin","Poufille","Poz","Prades","Praesentinus","Praetextatus","Pratinos","Praxilaus","Praxin","Praxis","Praxiteles","Praxites","Prentus","Presebal","Prexinos","Priam","Priamon","Pricion","Primo","Principius","Prinetadas","Priscian","Priscus","Priskos","Probus","Processus","Procrustes","Proctus","Procyon","Proetus","Prokles","Prokopios","Prokrustes","Proreus","Protagoras","Protesilaus","Prothoenor","Prothous","Protogenes","Protus","Proventus","Proxenos","Prymneus","Prytanis","Ptolemaios","Ptolomaeus","Pudes","Puhi","Pupt","Pustula","Puvis","Pylades","Pylaemenes","Pylaeus","Pylartes","Pylas","Pylenor","Pyris","Pyrrhus","Pythagoras","Pytheas","Pythes","Pythios","Pythogenes","Quabin","Quan","Quatrius","Quenall","Quentin","Quentinius","Quentyn","Quintilius","Quintin","Quintinus","Quinton","Quintus","Quiston","Quito","Quiver","Raaf","Rab","Rabbie","Rabel","Radagaisus","Radamanthos","Radigis","Radoald","Radolf","Radulf","Radulfus","Raetus","Rafe","Raff","Raffo","Rafold","Raganald","Raganfrid","Raganhard","Raganher","Ragenald","Raginhart","Raginmund","Raginpert","Ragnfred","Ragon","Raguenel","Raguet","Rahd","Rahere","Rahier","Raignald","Raiimond","Raimbaud","Raimbaut","Raimer","Raimond","Raimund","Raimundus","Rainald","Rainaldus","Rainard","Rainerius","Rainerus","Rainier","Raitin","Raldan","Ralf","Rallaume","Rallus","Raman","Raminus","Ramis","Rammius","Rampo","Ran","Ranald","Rand","Randal","Randall","Randle","Randolph","Randoul","Randulfus","Randull","Randy","Rangi","Rankin","Rannulf","Rannulfus","Ranser","Ranulf","Ranulfus","Ranulph","Ranulphus","Raolet","Raolin","Raollet","Raollin","Raoul","Raoulet","Raoulin","Raphael","Rasequin","Ratchis","Ratier","Ratilo","Rauf","Rauffe","Raulf","Raullin","Raulyn","Rausimod","Rautio","Rauve","Ravo","Rawkin","Rawlin","Raxle","Raylen","Raymundus","Raynaldus","Rayner","Raynerus","Raynoldus","Razo","Reberio","Reburrus","Recared","Reccared","Recceswinth","Rechiar","Rechimund","Recitach","Redway","Reges","Reginald","Reginalde","Reginaldus","Reginar","Regino","Reglius","Regulus","Reignald","Reignolde","Reimfred","Reimond","Reimund","Reinald","Reinboldus","Reinfred","Reinfrid","Reinfridus","Reinhold","Reinold","Reinoldus","Reipert","Rekitach","Relien","Rellicus","Reman","Remert","Remfrey","Remi","Remia","Remic","Remier","Remir","Remismund","Remius","Remmer","Remon","Remondin","Remonnet","Remont","Renald","Renard","Renardou","Renart","Renaud","Renaudin","Renaut","Renchant","Renfred","Renfry","Renier","Renko","Reno","Renodet","Renoit","Renoldus","Renonys","Renost","Renouart","Renouf","Renout","Renwic","Reolus","Rerlas","Respa","Resse","Retemeris","Reto","Rewa","Rex","Rexus","Reymnd","Reynald","Reynard","Reynaud","Reyner","Reynfred","Reynfrey","Reynold","Reynoldus","Rhadamanthos","Rhesus","Rhexenor","Rhima","Ribald","Ribes","Ricard","Ricardus","Ricaud","Rich","Richal","Richard","Richarde","Richardin","Richardus","Richart","Richemanus","Richeut","Richie","Richier","Richion","Richomer","Richomeres","Richon","Ricimer","Rick","Rickert","Ricket","Ricohard","Ricon","Ricque","Rictiovarus","Rielus","Riente","Rikiar","Rimalus","Ringerus","Rionet","Ripertus","Rique","Riquebourc","Riquier","Ris","Riso","Rizon","Rob","Robard","Robbie","Rober","Robert","Roberto","Robertus","Robier","Robin","Robinet","Robion","Robyn","Rocelinus","Rocheric","Rodbertus","Rodednain","Roderic","Roderick","Rodmand","Rodney","Rodolf","Rodolph","Rodolphe","Roduulf","Rodynak","Rogatus","Rogeraud","Rogerin","Rogerius","Rogerus","Roget","Rogier","Rogolphe","Roguelin","Rohlbert","Roland","Rolandus","Rolant","Rolbert","Roley","Rolf","Rolfe","Rolft","Roliand","Rolland","Rollant","Rollin","Rollo","Rolph","Romain","Romainne","Romayne","Romuald","Ronald","Roncin","Rondach","Rongo","Roolf","Roricus","Roscelin","Rosser","Rostand","Rotari","Rotbert","Rotbertus","Rotgerius","Rothad","Rothari","Rotrou","Roucaud","Rouland","Roulant","Roule","Roulf","Roumain","Roumiet","Roussel","Rowland","Rowley","Ruald","Ruaud","Rubertus","Rudegerus","Rudesind","Rudolfus","Rufier","Rufin","Rufinus","Rufrius","Rufus","Ruisko","Runo","Ruran","Rurestian","Rusonius","Russell","Rusto","Ruthardus","Rychard","Rycharde","Ryder","Rgnier","Rmy","Saba","Sabas","Sabin","Sabinus","Sabyllos","Sadagares","Sadun","Saehon","Saenus","Saer","Saerus","Safrax","Sagar","Sagard","Sagarus","Saillot","Sainte","Salach","Salanius","Salano","Salanus","Salazar","Salbatore","Salicar","Salla","Salmoneus","Salomon","Salvianus","Sam","Samer","Sammis","Samo","Samson","Samuel","Sanctius","Sandaili","Sander","Sanders","Sandre","Sandrin","Sanduru","Sandy","Sangiban","Sanguin","Sansalas","Santi","Santikurtz","Santin","Santio","Santutxo","Santxo","Santxol","Saphrax","Saprius","Sarapammon","Sarilo","Sarpedon","Sarus","Sarvith","Sasoin","Satabus","Satordi","Satyros","Sauleius","Saulius","Saunder","Saundre","Savaric","Savary","Savilian","Savio","Savlian","Sawney","Sawnie","Saxo","Sayer","Scaevola","Scaios","Scamandius","Scamandrius","Scarius","Scelian","Schedius","Scholasticus","Sconea","Scylax","Scyllias","Scythas","Searl","Searle","Seaward","Sebastian","Sebastianus","Sebastos","Seber","Secundus","Sede","Segar","Segarus","Segeric","Seguin","Segunivus","Sehier","Sein","Seisames","Selagus","Selatse","Seldomus","Selenas","Selepos","Seleukos","Seliulus","Selle","Selles","Sellus","Seme","Semeno","Sendoa","Senebaut","Sengrat","Senilias","Senuthius","Septimus","Septius","Sequin","Serell","Serge","Sergerien","Sergianus","Sergius","Sergus","Seri","Serill","Serle","Serlo","Serlon","Sernays","Serrell","Serrien","Serrill","Servatius","Servius","Sesuldo","Seuuard","Seuuardus","Seven","Severin","Severinus","Severio","Severius","Severus","Sevestre","Sevrin","Sewal","Sewale","Sewallus","Seward","Sewell","Sextus","Shapur","Shilgen","Shipitbaal","Sibertus","Sibico","Sibilo","Siboldus","Sibragtus","Sibratus","Sicard","Sicho","Sicinnos","Sicre","Siculus","Sidimund","Sidonia","Siebrand","Siefke","Siegmyrth","Sifridus","Sigan","Sigebert","Sigenandus","Sigeric","Sigesar","Sigibald","Sigibert","Sigibuld","Sigilis","Sigismund","Sigisvult","Sikke","Silanos","Silanus","Silas","Silban","Silenos","Silius","Silus","Silvestre","Simine","Simmias","Simo","Simocatta","Simoisius","Simonides","Sindel","Sindila","Sindo","Sinibaldo","Sinis","Sinon","Sippas","Sirion","Sirollus","Sirom","Siromos","Sisbert","Sisebut","Sisenand","Sisyphus","Sitialius","Sito","Sittas","Situli","Sivis","Siwardus","Sjamme","Skiron","Smaragdus","Smindyrides","Smintheus","Snaracho","Snarung","Snato","Snazi","Soas","Socucius","Socus","Sohalet","Sohier","Soin","Soke","Solumor","Somutis","Sonnet","Soolet","Sophanes","Sophokles","Sorais","Soran","Soranus","Sorex","Sorexius","Sosibios","Sosicles","Sosigines","Sosil","Sosilus","Sosimenes","Sosipatros","Sosthenes","Sostias","Sostratos","Soter","Sotil","Souni","Speciosus","Spencer","Spertias","Speudon","Speusippos","Spinther","Spirodion","Staas","Stace","Stacey","Stachys","Stacius","Stacy","Stallo","Stantus","Starchari","Statius","Staubin","Stauracius","Stefan","Steffan","Steffen","Stentor","Stentus","Stenwick","Stephane","Stephen","Stephenn","Stephile","Sternis","Stesagoras","Stesanor","Stesilaus","Sthenelaus","Sthenelus","Stibbons","Stichius","Stielf","Stilicho","Stlubo","Stolos","Strabo","Strachys","Stral","Strastnoc","Strategius","Stratios","Straton","Strillian","Stromm","Strophantes","Strophius","Strymon","Sturgeon","Styriche","Su","Suatrius","Sueridus","Sugar","Suger","Sugoi","Suidbert","Suidger","Sulinus","Sulla","Sumar","Sunel","Sunericus","Sunnia","Sunno","Suntje","Suppo","Suriel","Surius","Surus","Sustrai","Sutler","Sweert","Swikerus","Swirt","Swittert","Syagricus","Syagrius","Syagros","Syennesis","Syhier","Sylon","Syloson","Sylvain","Sylvester","Sylvian","Symeon","Symeonius","Syndelius","Synesius","Synnolian","Syriack","Syward","Sywardus","Tacitus","Tadica","Tahm","Taiaho","Taig","Taillefer","Taillemache","Taine","Taino","Taki","Talaemenes","Talaos","Talaus","Talbot","Talebot","Tallo","Talon","Talos","Talthybios","Tame","Tamien","Taminal","Tamme","Tams","Tanais","Tanca","Tancard","Tancred","Tancrede","Tane","Tankard","Tappius","Tarchaniotes","Tarchon","Tardu","Tartalo","Tasellis","Tassart","Tassilo","Tassin","Tassot","Tato","Taua","Taunui","Taureas","Taurin","Taurinus","Tawno","Te Kori","Te","Tebaeus","Tebald","Tebaud","Tebbe","Tecton","Tedbaldus","Tedric","Teebald","Teias","Teiresias","Teja","Tekukuni","Telamon","Teldius","Telekles","Telemacho","Telemachos","Telemachus","Telephos","Telephus","Telesinus","Telesphorus","Telfour","Telines","Tellias","Tellis","Tello","Telrav","Telys","Tem","Temenos","Temuera","Tendao","Tenes","Tenny","Tenthredon","Teo","Teodbald","Teodric","Tere","Terek","Terenus","Tereus","Tericius","Terillos","Terrell","Terric","Terrick","Terricus","Terry","Tertius","Tertullian","Tescelin","Tetbald","Tetra","Tetramnestus","Tettrino","Teucer","Teukros","Teutamos","Teuthranes","Teuthras","Teutobod","Tevenot","Thalanius","Thales","Thaleus","Thalpius","Thalysios","Thancharat","Thancheri","Thancred","Thankmar","Tharuaro","Tharybis","Thaulos","Thaumastus","Theagenes","Theages","Theas","Theasides","Thebaldus","Thee","Thela","Themistius","Theobald","Theobaldus","Theocharistus","Theoclymnius","Theoctistus","Theocydes","Theodahad","Theodbald","Theodehad","Theodekles","Theodemar","Theodemer","Theoderic","Theodericus","Theoderid","Theodilacus","Theodo","Theodoracius","Theodore","Theodoretus","Theodoric","Theodoricus","Theodoros","Theodorus","Theodotus","Theodric","Theodulf","Theodulph","Theodulus","Theogenius","Theognis","Theomestor","Theomestros","Theon","Theopemptus","Theophanes","Theophile","Theophilius","Theophilus","Theophon","Theophrastos","Theophrastus","Theophylact","Theophylactus","Theophylaktos","Theopompos","Theopompus","Theopropides","Theoros","Theos","Theotimus","Theotpert","Theramenes","Theranis","Therapon","Theras","Therich","Thero","Theron","Therron","Thersandros","Therseandros","Thersilochus","Thersites","Thessalos","Thestor","Thetrard","Thettalos","Theudebert","Theudegisel","Theudegisklos","Theuderic","Theudis","Theudoald","Theudobald","Theutgaud","Theutlich","Theyo","Thibaud","Thibauld","Thibierry","Thibret","Thidrek","Thieme","Thiemmo","Thierri","Thierric","Thierry","Thietmar","Thilko","Thim","Thirkell","Thiudimir","Thiudorieks","Thibaut","Thoas","Thomas","Thomase","Thon","Thonyn","Thorald","Thorax","Thore","Thorismud","Thorismund","Thorkill","Thorley","Thorold","Thouche","Thon","Thrasamund","Thrasaric","Thrasidaios","Thrasilaus","Thrasius","Thrasybulos","Thrasyllus","Thrasymedes","Thraustila","Threspotus","Thrustanus","Thrystan","Thukydides","Thurstan","Thurstanus","Thurstin","Thybaudin","Thybaut","Thyestes","Thymoetes","Thymotes","Thyrsis","Thyrsos","Thodard","Tiaki","Tiakinga","Tib","Tibald","Tibalt","Tibaut","Tibbald","Tibbott","Tibost","Tibout","Tiburtius","Ticemius","Tiebaut","Tiele","Tienius","Tierri","Tiessot","Tika","Tildus","Timagenidas","Timagoras","Timais","Timanthes","Timasion","Timasitheus","Timesithius","Timm","Timmon","Timnes","Timo","Timoleon","Timon","Timonax","Timote","Timothee","Timotheus","Timoti","Timoxenos","Timozel","Tininnus","Tinnelt","Tinus","Tipi","Tiro","Tirrell","Tirynthius","Tisamenos","Tisandros","Tisias","Tithonius","Titormos","Titus","Tityrus","Tjalf","Tjark","Tlepolemus","Tmolus","Toa","Tobar","Todor","Tom","Toms","Topheric","Torleu","Torphin","Torquil","Torvic","Totakoxe","Totila","Tourvic","Toutius","Tractus","Traelius","Trafstila","Trano","Trapsta","Trasaric","Trasaricus","Trasimondo","Trebonius","Trechus","Trenus","Treves","Tribigild","Tribonianus","Tribunas","Trierre","Triopas","Triptolemus","Tristan","Tristian","Triston","Tristram","Triton","Troezenus","Trophimus","Trophnus","Tros","Trostheri","Trostila","Truhtilo","Trustan","Trustram","Trypho","Tryste","Trystrem","Tsiniuc","Tuaivi","Tufa","Tuluin","Turbertus","Turedus","Turgis","Turold","Turoldus","Turpin","Turquan","Turrianus","Turstan","Turstanus","Tursten","Turstin","Turstinus","Tuste","Tutain","Tuthul","Tutorius","Tuu","Tuyon","Txanton","Txaran","Txartiko","Txatxu","Txerran","Txeru","Txilar","Tximitx","Txindoki","Txomin","Txordon","Txurio","Tybalt","Tybaut","Tybost","Tybout","Tychaeus","Tydeides","Tydeus","Tymnes","Tynan","Tyndareus","Tyndarios","Tyon","Tyranus","Tyree","Tyrell","Tyrellius","Tyronius","Tzimisas","Tzittas","Tnjes","Ubarna","Ubben","Ubelteso","Ubendu","Ucalegon","Ucco","Uchered","Ucke","Uctred","Udalaitz","Udo","Udona","Uelert","Ueli","Ugaitz","Ughtred","Ugurtz","Ugutz","Uhin","Uhredus","Uhtred","Uidt","Ulert","Ulfert","Ulfilas","Ulger","Ulpius","Ulpt","Ulrich","Ulricus","Ulta","Uluric","Umea","Umfray","Umfrey","Umfridus","Umphrey","Unai","Unax","Unigild","Unila","Unimund","Uno","Unsenis","Untel","Uptet","Ur","Uraccen","Uraias","Uranius","Urbasa","Urbez","Urbicus","Urdaspal","Urdin","Urfon","Urian","Urianus","Uriel","Urien","Urki","Urko","Urre","Urritz","Urs","Urtats","Urti","Urtsin","Urtsua","Urtun","Urtungo","Urtzi","Uryene","Usquebald","Usquenot","Utheccan","Uwe","Uwen","Uzuri","Vaanes","Vacho","Vaford","Vagdvaraestus","Vala","Valamer","Valamir","Valandrus","Valantinus","Valaravans","Valcent","Valdebron","Valentinus","Valentois","Valgus","Valia","Vallis","Valter","Valton","Valus","Valvius","Vance","Vandalarius","Vandil","Vandorallen","Vane","Vannes","Vantus","Vantustius","Varaine","Varazes","Vardan","Varen","Varian","Varin","Varinus","Varnis","Varnius","Varocher","Varus","Vasacius","Vasesius","Vasey","Vauquelin","Vaurice","Vedast","Vedius","Veduco","Veitel","Velan","Velian","Velus","Velwyn","Ven","Venantius","Venarus","Vencobert","Venerandus","Ventilias","Venyse","Veranus","Verdrey","Verel","Verick","Verney","Veronard","Verrik","Verro","Verrus","Vertilvius","Vertrand","Verulus","Vetericus","Vetranio","Vetranis","Vettias","Viator","Vibius","Vic","Vicelin","Vicente","Vicmond","Victor","Victorinus","Victraud","Vidans","Videric","Vidigoia","Vidimir","Viel","Viennet","Vigilius","Vignac","Vigor","Vilhim","Viliame","Viliaris","Vilihame","Villiame","Vilum","Vince","Vincein","Vincenot","Vincent","Vincentius","Vincey","Vinice","Vinicius","Vinitharius","Vinnus","Viranus","Virgeraud","Virgile","Viro","Virus","Visetus","Visimar","Vital","Vitalianus","Vitalius","Vitel","Vitellus","Vithimiris","Vithmiris","Vitigis","Vitrus","Vittamar","Vitus","Vivianus","Vivien","Vlanarus","Vlanhonder","Vlarimil","Vocula","Vodunius","Volgo","Volusian","Vonius","Vontan","Vontus","Vorthag","Vulmar","Vultuulf","Vvillequin","Vyctor","Vyell","Vyric","Vyrois","Vzian","Waco","Waibilo","Waido","Waihoroi","Waimar","Waimiria","Waiofar","Waisale","Wala","Walahfrid","Walahmar","Walaric","Walchelim","Walchelin","Walcher","Waldef","Waldeof","Waldeve","Waldew","Waldhar","Waldhere","Waldibert","Waldief","Waldipert","Waldive","Waldolanus","Waldomar","Waleran Waleron","Walganus","Walhbert","Waliko","Walkelin","Walkelinus","Wallevus","Wallia","Wally","Waloco","Walpurga","Walt","Walterius","Walterus","Waltgaud","Wamba","Wandilo","Wandregisel","Wandregisilus","Wandrille","Warenheri","Warin","Wariner","Warinhari","Warinus","Warmann","Warnerius","Warnerus","Warrane","Warren","Warrenus","Wasili","Wat","Water","Watje","Watkin","Watkyn","Watt","Wattie","Watty","Wauter","Wazo","Wealdtheow","Wecelo","Weert","Weffel","Weidheri","Weila","Weinert","Weintje","Wella","Welp","Welpo","Wene","Wenert","Wercha","Wercrata","Werdo","Wergital","Werinbert","Werner","Wernerus","Wesh","Weylin","Wezilo","Whatahui","Wherehiko","Wibert","Wibil","Wichard","Wichmann","Widargelt","Widigast","Wido","Widogast","Widradus","Wiebrand","Wiebt","Wigandus","Wigayn","Wigo","Wigstan","Wihtred","Wikerus","Wilcke","Wilcock","Wilecoc","Wilfred","Wilhelm","Wilhelmus","Wiliam","Wiliame","Wilkes","Wilkie","Wilkin","Wilko","Will","Willahelm","Willamar","Willcock","Willehad","Willehelm","Willelm","Willelmus","Willem","Willet","William","Williame","Willibald","Willibrord","Willie","Willmot","Wilmot","Wilred","Wimarc","Wimark","Winebaud","Winguric","Winicho","Wintar","Wintherus","Wintri","Wirtje","Wiscar","Wiscard","Wischard","Wisgarus","Wistan","Wistanus","Withari","Withekindus","Witige","Wittigis","Wittiza","Wlfric","Wlfriche","Wlvricus","Wobias","Wocco","Woco","Wolkan","Woltje","Wortwinus","Wracwulf","Wuhkusto","Wulf","Wulfram","Wulfric","Wultgar","Wulurich","Wunnihad","Wurm","Wy","Wyat","Wyliame","Wylon","Wylymot","Wyman","Wymar","Wymarc","Wymare","Wymark","Wymer","Wymerus","Wymon","Wymond","Wymund","Wynkyn","Wynn","Wynster","Wyon","Wyschardus","Wystan","Xabat","Xabier","Xalbador","Xander","Xandier","Xantalen","Xanthippos","Xanthippus","Xanthos","Xanti","Xarles","Xavier","Xavippe","Xefe","Xenagoras","Xenokrates","Xenophanes","Xenophon","Ximun","Xiphilinus","Xofre","Xuban","Xurdin","Xuthos","Xuthus","Yanis","Ydevert","Ylbert","Ylvandre","Ymbert","Yncien","Yngerame","Yngwie","Yon","Ypolit","Ypolitus","Yric","Ysembert","Yugene","Yuli","Yvain","Yve","Yves","Yvet","Yvon","Yvone","Yvonnet","Yvonus","Ywain","Zabal","Zacharie","Zadornin","Zagreus","Zakhaleh","Zalbec","Zamolxis","Zaracas","Zarles","Zavierry","Zavour","Zebe","Zedrick","Zelanus","Zeledon","Zelimir","Zemarchus","Zenicetes","Zeno","Zenobius","Zenodoros","Zephyrinus","Zernin","Zeru","Zeruko","Zethus","Zeuxidamos","Zeuxis","Zibaran","Zigor","Zilar","Zindel","Zindelo","Zinnridi","Zinzo","Ziper","Zobe","Zohiartze","Zoil","Zoilus","Zoltan","Zorion","Zosimus","Zuhaitz","Zumar","Zunbeltz","Zuri","Zuriko","Zuzen","Zwentibold"],setup.NAME_fantasy_surname=["Aalart","Aarland","Aartse","Abalardi","Abaroa","Abbado","Abduvaliyev","Abeille","Aberasturi","Abineri","Abor","About","Abrahamse","Abrao","Abrassart","Abruzzi","Abse","Abt","Aburto","Accardo","Accola","Accornero","Achard","Acilius","Acker","Ackermann","Acklin","Acquaviva","Acques","Acuna","Adam","Addinell","Adelung","Adenauer","Adeney","Adler","Admand","Adriaens","Adriaenssens","Adrianszen","Adrognese","Advocat","Aehrenthal","Aertsen","Afiata","Agafitei","Agani","Agarand","Agare","Agassiz","Ageet","Ager","Agina","Aginaga","Agirre","Agius","Aglietti","Agnan","Agnelli","Agnolutto","Agosti","Agrudilius","Aguerre","Aguilar","Aguilon","Aguzzi","Ahala","Ahlmann","Ahmetaj","Ahmeti","Aiello","Aigner","Airde","Aixpuru","Aiza","Aizkibel","Ajello","Ajeti","Ajkler","Akaregi","Akordagoitia","Akutain","Alacoque","Aladr","Alagna","Alard","Alasia","Albani","Albarello","Albarnian","Albelin","Albergati","Alberigo","Alberro","Albers","Albert","Albertazzi","Alberti","Albertini","Albertoni","Albertrani","Albertse","Albertszen","Albertz","Albinus","Alboreto","Albouraie","Albrup","Albus","Albusel","Albutian","Aldair","Aldape","Aldobrandini","Alembert","Alemont","Ales","Alessi","Alevi","Alexandre","Alexopolous","Alexopoulos","Alextus","Alfieri","Alger","Alhmann","Alia","Alibali","Alicata","Aliee","Alielle","Alighero","Alighieri","Alii","Alikaj","Alinie","Alis","Aliti","Aliu","Aljie","Allard","Allaro","Allbach","Alloncle","Allori","Allucingoli","Allus","Allut","Aloette","Alois","Alphand","Altabani","Altaner","Altard","Althape","Althen","Althusser","Alti","Altichiero","Altichioro","Altien","Altieri","Altmann","Aluztiza","Alvares","Alves","Alvintzi","Alyea","Alzate","Alzen","Amable","Amadour","Amanar","Amann","Amati","Amato","Amberezzio","Ambre","Ambrogi","Ambrogiani","Ambustus","Ameche","Amedee","Amelotte","Amendola","Amerman","Amestoy","Ametxazurra","Amici","Amicis","Amico","Amiel","Amient","Amiez","Amiot","Amiti","Amlinger","Ammacapane","Ammanati","Ammianus","Amocacci","Amore","Amoruso","Amoudry","Ampre","Amstadter","Amlineau","Anagyrou","Anasagasti","Anastassiou","Ancel","Ancelet","Ancellotti","Ancent","Ancharia","Anchia","Anciaux","Ancois","Ancrus","Andikoetxea","Andrade","Andraka","Andras","Andreadis","Andreou","Andrese","Andretta","Andretti","Andretto","Andreu","Andreucci","Andriani","Andries","Andrieux","Andriolo","Andriopoulos","Andronicus","Andronikos","Andros","Androuchelli","Androupolos","Androutsos","Andrssy","Anelka","Anganuzzi","Angelico","Angelis","Angelomatis","Angelou","Angelova","Anger","Angerhausen","Angermann","Angermeier","Angius","Angloma","Angrand","Angrenny","Anguissola","Anhauser","Anibal","Anistonopoulos","Anjos","Annaert","Anninos","Annoni","Annunziato","Annunzio","Annus","Anouilh","Anquetil","Anschitz","Anseyving","Ansgot","Ansotegi","Antias","Antienne","Antieve","Antikatzides","Antoaneta","Antonatos","Antonelli","Antonescu","Antonioni","Antonious","Antoniszen","Antonius","Antonoli","Antonucci","Antoqana","Antuofermo","Antxustegi","Anzeray","Apaolaza","Apel","Apenzeller","Apers","Apinia","Apolloni","Apollonio","Appelmans","Aquilina","Aragazzi","Araico","Arambel","Arambillet","Arana","Aranaz","Aranburu","Arany","Aranzibia","Araoz","Arata","Aravena","Arbaugh","Arbelet","Arbez","Arbitus","Arbizu","Arbnori","Arbogasque","Arburua","Arcand","Arcangeli","Archibugi","Arcimboldo","Arcole","Arcos","Ardant","Ardinghi","Ardito","Ardizzone","Arduino","Arenaza","Arendse","Arendsz","Arendt","Arens","Arents","Arentz","Arestegi","Aresti","Aretxaga","Arf","Argelander","Argerich","Argo","Arguelles","Argyra","Aric","Arizeruan","Arizmandez","Ariztegi","Ariztondo","Arlt","Armannperg","Armborst","Armelini","Arminus","Arnaldi","Arnaud","Arnaut","Arndt","Arne","Arnim","Arnold","Arnoldi","Arnos","Aroca","Aroix","Arostegi","Arpad","Arpinon","Arquette","Arquilire","Arquitius","Arrablay","Arraiz","Arranz","Arrau","Arregi","Arretxe","Arriaga","Arrieta","Arrighi","Arrizabalaga","Arroita","Arroitajauregi","Arron","Arsenault","Artali","Artan","Artenie","Artetxebarria","Artoria","Artorius","Artundaga","Artunghi","Artz","Arundel","Arzel","Ascenge","Ascent","Aschenbach","Aschuill","Asculis","Ashcroft","Ashham","Ashtic","Ashton","Asiagenus","Asquebord","Assante","Asselin","Asselineau","Assemani","Assi","Assouad","Assouline","Assuerus","Asteasu","Asteinza","Astruc","Atela","Aten","Athanasiadis","Athanassiadi","Atilus","Atratinus","Atristain","Attene","Attilio","Atxabal","Atxaga","Aubarat","Auber","Auberdine","Aubert","Aubertin","Aubon","Aubry","Aucagne","Auch","Auctor","Audenaerde","Audenaert","Audiard","Auerbach","Auffrye","Aufort","Augendre","Auger","Augier","Auke","Aulenti","Auneil","Aungier","Auradou","Aurenche","Auria","Auric","Auriol","Aurrekoetxea","Aurunceia","Ausborn","Austerlitz","Autain","Authie","Auvray","Auzias","Avagour","Avanzi","Avanzo","Avau","Avellino","Averlino","Averoff","Avidius","Avogadro","Axelos","Axeritogarai","Axmann","Axpe","Ayarai","Ayatsbehers","Ayer","Ayers","Ayo","Azanza","Azarola","Azevedo","Azkona","Azkue","Azocar","Azor","Azuara","Azzopardi","Baal","Baans","Baatz","Babbel","Babel","Babiloine","Babin","Baboescu","Bacardi","Bacha","Bachand","Bachelin","Bacher","Bachert","Bacheva","Bachiler","Bachman","Bacht","Bachuijs","Bachus","Backeljauw","Backstadt","Backstedt","Bacqure","Badaloni","Badeau","Badem","Badeni","Badie","Badinter","Badoglio","Badouin","Badre","Baeker","Baelborne","Baert","Baertschi","Baetens","Baffi","Baggio","Bagio","Bagliani","Bagula","Bahn","Bahnsen","Baia","Baiano","Baier","Baigelman","Baignard","Baijot","Baille","Bailleul","Baillieu","Bainard","Baio","Baix","Bajraktari","Bajrami","Bajramovic","Bakaikoa","Bakel","Bakics","Bakirdzis","Bakogianni","Balakov","Balandier","Balani","Balanos","Balanque","Balassa","Balbo","Balbus","Balcescu","Balck","Baldaro","Baldato","Baldini","Balenziaga","Balerdi","Balev","Balibar","Baliol","Balitiu","Balk","Balla","Ballan","Ballanger","Ballard","Ballerat","Ballerini","Balleroy","Ballou","Ballu","Balsamo","Balsemao","Baltar","Baltistuzzi","Baltz","Baluze","Balzar","Balzer","Bambach","Banatoni","Banciu","Banckert","Banditelli","Banfi","Bangue","Banica","Banquet","Bant","Banta","Bantien","Barat","Barati","Baratta","Baratte","Barattin","Barbadori","Barbarigo","Barbe","Barberi","Barberie","Barberini","Barberino","Barbier","Barbieri","Barbieur","Barbirolli","Barbiusa","Barbo","Barbosa","Barbu","Barbusse","Barclay","Bardelli","Bardha","Bardhi","Bardi","Bardici","Bardot","Bardou","Bardulla","Bare","Bareau","Barentse","Barentstochter","Barentsze","Bargeron","Bari","Bariani","Barichello","Barinaga","Barkai","Barkentin","Barlini","Barna","Barneveld","Barnutiu","Barola","Baroncelli","Baronti","Barrachina","Barrenechea","Barres","Barret","Barreto","Barretti","Barrios","Barros","Barrutia","Bartels","Barth","Barthez","Barthis","Bartholds","Bartholdy","Bartholf","Barthou","Bartoccini","Bartok","Bartolf","Bartoli","Bartolini","Bartolone","Barturen","Baruffaldi","Bary","Basaglia","Basagoitia","Basalini","Basanez","Basile","Basirius","Baskaran","Basler","Basnage","Bassano","Basset","Bassiere","Bassis","Bastarretxea","Bastedo","Bastegieta","Bastiani","Bastida","Bastide","Bastnagel","Bastos","Basurto","Batchev","Batens","Bateu","Batiffol","Batistuta","Batlle","Batoni","Battaglia","Batte","Batticelli","Battistella","Battllori","Bauchennss","Baudart","Baudelaire","Baudendistel","Baudet","Baudouin","Baudry","Bauer","Baujot","Bauldry","Baumgaertel","Baumgart","Baumont","Baumschlager","Baune","Bauquemare","Baur","Baus","Bautain","Bauwens","Bavent","Baxterrika","Bayens","Bayerl","Bayerlein","Bayt","Bazhunaishvili","Bazignos","Bazille","Bazire","Bea","Beakes","Beal","Beam","Beanique","Beauchamp","Beauchaud","Beaufort","Beaumanoir","Beaumarchais","Beaumont","Beauregard","Beautell","Beauvais","Beauvallet","Becart","Beccatini","Becchetti","Becdelivre","Bechmann","Bechstein","Beck","Becker","Becot","Bedard","Bedel","Bedeschi","Bedurftig","Beduzzi","Beeldens","Beer","Beerbaum","Beeres","Begemann","Begerow","Begnaud","Behle","Behner","Behney","Behrendt","Behringer","Beimler","Beineix","Beirnaert","Beitia","Bejko","Bejta","Bek","Bekker","Beklea","Belaine","Belaram","Belchat","Belcour","Bele","Belet","Belgraver","Belkacem","Bellaits","Belland","Bellarmine","Bellecote","Bellier","Bellini","Belloi","Belloli","Belloq","Bellot","Belludi","Belmis","Belmon","Belmondo","Belododia","Beltrametti","Beltran","Bembo","Benarrivo","Benazi","Benda","Bendinelli","Benedettini","Benel","Benetti","Benetton","Benichou","Benincasa","Benizi","Bennarivo","Beno","Benoist","Benoit","Benoldi","Benscheidt","Benson","Bentele","Benth","Benyacs","Benz","Beobide","Berangere","Berard","Berardi","Berasategui","Beraza","Berbizier","Berchet","Berchoven","Bercovici","Berdan","Berden","Berens","Bergara","Berge","Bergen","Berger","Bergerat","Berghahn","Bergkamp","Bergomi","Bergonzi","Beringar","Beriou","Berisha","Berishaj","Berlinghieri","Berlinguer","Bermani","Bermont","Bernadaux","Bernadis","Bernadotte","Bernard","Bernardi","Bernasconi","Bernat","Berneker","Berneri","Berners","Bernhoffer","Bernier","Bernini","Bernires","Bernoldi","Bernotti","Bernstein","Berouche","Berri","Berriex","Berriz","Berruti","Bertault","Bertetto","Berthold","Bertholf","Berthome","Berti","Bertillon","Bertin","Bertoletti","Bertolini","Bertolucci","Bertoluchi","Berton","Bertone","Bertoni","Bertotten","Bertran","Berty","Bervoets","Berzevicky","Besanceney","Besaon","Bescanceny","Besonh","Bessa","Bessarion","Besse","Bessette","Bessi","Besson","Bessy","Bester","Beteille","Bethmann","Betker","Betrutti","Betsch","Bettinelli","Bettini","Bettiza","Beukema","Beul","Bevis","Beyer","Beyleveld","Beylier","Bezace","Bezons","Bezuyen","Bezzenberg","Biacchi","Bianchetti","Bianchi","Bianchini","Bianco","Biaram","Biavaschi","Bidaola","Bidaurreta","Biebow","Biedermeier","Biele","Bielenberg","Bielenstein","Bieler","Bienena","Bienne","Bierhoff","Bierles","Biestman","Bietak","Biez","Bigeard","Bigeois","Bigica","Bigot","Bihlmeyer","Bikandi","Bildostegi","Bilencourt","Billerey","Billius","Bills","Bimbenet","Binaghi","Binder","Binoche","Binus","Biondi","Birindelli","Birnbaum","Bisaillon","Bischoff","Bischoffshausen","Bislimi","Biteri","Bitschi","Bittenbinder","Bittinger","Bittner","Bizi","Bizos","Blacque","Blaga","Blagoev","Blaikie","Blakeley","Blakeny","Blaku","Blanc","Blancbaston","Blanchard","Blanche","Blanck","Blanco","Blandiana","Blangi","Blank","Blasser","Blassneck","Blauvelt","Blazsanyik","Bleekemolen","Bleeker","Bleneau","Blenker","Bleom","Blerinca","Blevigne","Bleyck","Bleyenberg","Bliche","Blijlevens","Blind","Blinkerhof","Bloch","Block","Bloeckner","Bloem","Blom","Blommaert","Blommen","Blondeau","Blondel","Bloodcaller","Bloodgood","Blosbeville","Blouet","Blouin","Blum","Blumberger","Blume","Bluteau","Blmel","Bo","Boas","Boazza","Bobbio","Bobo","Bobot","Bocande","Boccanegra","Boccanera","Boccapecci","Boccasino","Boccherini","Bocci","Bochette","Bochinsky","Bochur","Bock","Bockhold","Bocquet","Bocskay","Bodart","Bode","Bodei","Boden","Bodenheimer","Boderode","Body","Boeke","Boel","Boenne","Boertgens","Boerth","Boeuf","Boeyhaert","Boeykens","Bogaardt","Bogaert","Bogarde","Bogardus","Bogart","Bogen","Bogert","Bogliolo","Bogoescu","Bohland","Bohlen","Bohm","Bohman","Bohon","Bohringer","Boileau","Boirot","Bois","Boisellier","Boisivon","Boislevesque","Boissart","Boissel","Boitano","Boivin","Boja","Boje","Bojilov","Bojin","Bolam","Bolbec","Boldrini","Bolgheri","Bolla","Bollaert","Bollati","Bollens","Boller","Bolm","Bolognesi","Bologni","Bolsens","Bolsius","Bolssens","Bolzoni","Bombacci","Bomberger","Bommarito","Bompiano","Bonaccorsi","Bonacelli","Bonacieux","Bonaiceti","Bonaiuncta","Bonaly","Bonamoni","Bonamy","Bonauiti","Boncompagni","Bondeville","Bondoufle","Bonel","Bonelli","Bonello","Bonen","Bonenffant","Bonet","Boneta","Boneth","Bonfrere","Bongaert","Bonger","Bongert","Bonifacio","Bonizo","Bonn","Bonnard","Bonnat","Bonnefroy","Bonnel","Bonner","Bonneville","Bonnissel","Bonnot","Bonometti","Bonomi","Bontempi","Bontin","Bontoux","Bonvalet","Bonvoisin","Bony","Boodts","Boogaard","Boogert","Boome","Boomer","Boon","Boone","Bopurgin","Borain","Borbala","Borbokis","Borcellino","Bordeaux","Bordel","Bordelon","Borden","Bordier","Bordieu","Bordiga","Bordon","Bordreuil","Bordui","Bordurin","Borev","Bore","Borgeling","Borghese","Borghi","Borghini","Borgond","Bori","Borimirov","Bormann","Born","Boroi","Boros","Borot","Borreco","Borromeo","Borromini","Borsellino","Borunda","Boryn","Borly","Bos","Bosanquet","Bosc","Boscardin","Bosch","Boscocuro","Boshnjaku","Bosiet","Bosio","Bosler","Bosman","Bosquet","Bossard","Bosse","Bossicar","Bossoire","Bostel","Boteler","Botelho","Boterel","Botes","Botev","Botha","Boti","Botiglieri","Botin","Botsaris","Bottanet","Botte","Bottello","Bottesini","Botticelli","Bouchard","Bouchet","Bouchez","Bouchier","Boucquet","Boud","Boudin","Boudouani","Boudouris","Bougart","Bough","Bouic","Bouillon","Boulais","Boulange","Boulat","Boulez","Boulianne","Boulineau","Boulot-Tolle","Bourassa","Bourchier","Bourdekin","Bourdet","Bourdieu","Bourdin","Bourdy","Bourel","Bourelly","Bourgani","Bourgeat","Bourgeau","Bourgeoys","Bourget","Bourgoing","Bourgonje","Bourgouin","Bourlet","Bourneuf","Bourneville","Bourque","Boursier","Boursin","Bouscholte","Boussac","Boussod","Boutard","Boutayre","Boutellier","Bouteyre","Boutiette","Boutin","Boutron","Boutter","Bouvard","Bouvron","Bouwer","Bovie","Boyer","Boyette","Boymans","Bozon","Bozzetto","Braasch","Bracci","Bracciolini","Bracco","Bracher","Brack","Brackmann","Braconie","Braconnier","Bracquemond","Bradt","Bradwardine","Braem","Bragaghio","Bragantini","Bragger","Brai","Bramante","Bramati","Bran","Branca","Brancati","Branck","Branco","Brandi","Brandini","Brandl","Brando","Brandoni","Braschi","Brasco","Brassac","Brassard","Brasseur","Bratiano","Bratianu","Brattbakk","Braud","Braudel","Braun","Braund","Brauner","Braunsberger","Braunsteiner","Brazzi","Brebeuf","Brecht","Brechu","Bredder","Bredenbent","Brees","Bregar","Bregmestre","Bregonzi","Brehaut","Brehmer","Brehn","Breinlich","Breitling","Breitmayer","Brem","Brembilla","Bremini","Brendel","Brenden","Brenet","Brenner","Brennicke","Brentjens","Brereton","Brescia","Bresciani","Bretel","Breteuil","Breton","Bretteville","Breu","Breuer","Breughel","Breukink","Brevort","Breyandt","Breytenbach","Brezeanu","Brezin","Brezzi","Briane","Briatore","Briatori","Bridgette","Brimou","Brindal","Brink","Brinkerhoff","Brinon","Brion","Briot","Briouse","Briquet","Briqueville","Brissaud","Brissault","Brisson","Brits","Brix","Broc","Brocard","Broccoli","Brochard","Brochet","Broci","Brockhaus","Broeckaert","Broissia","Broles","Bronckhorst","Brosseau","Brott","Brouset","Broussard","Brousseau","Brout","Brouwer","Brouzet","Brower","Brozi","Brubaker","Bruc","Bruch","Bruckner","Brucy","Brugger","Brugmann","Brugmans","Bruhl","Bruhne","Bruijn","Brulois","Brune","Bruneau","Brunelleschi","Brunet","Brunetti","Bruni","Brunius","Brunn","Brunner","Bruno","Bruns","Brussiner","Bruttia","Brutya","Bruyas","Bruylant","Bruyn","Brys","Bryssinck","Brvedent","Brbeuf","Brton","Brck","Buanoroti","Bucci","Bucer","Buchalter","Buchert","Buchholz","Buchleitner","Buchner","Bucholtz","Buchon","Buci","Buder","Budi","Budo","Bud","Buelens","Buenaventura","Buettner","Bufi","Bugge","Buhle","Buhler","Buia","Buikema","Buisson","Bujold","Bukhalov","Buksbaum","Bulgarini","Bulli","Buma","Bumbescu","Bunge","Bunjaku","Bunul","Buon","Buonaiuti","Buonconte","Buozzi","Buque","Burchard","Burci","Burdg","Burgaleta","Burgdorf","Burger","Burghardt","Burghgraeve","Burgis","Burgoa","Burgsmuller","Burguet","Burian","Burin","Burkholder","Burm","Burmann","Burnstein","Buron","Burpo","Bursigni","Burti","Burtin","Burtis","Burty","Burville","Busald","Buscan","Busch","Buschmann","Busemann","Busenello","Buser","Bushaj","Bushati","Busnois","Buso","Busoni","Busquent","Buss","Bussotti","Busto","Butacu","Buttone","Buys","Buytaert","Buzaine","Buzoku","Buzzacarina","Bytygi","Brsony","Bthory","Bumer","Bhmer","Bttner","Cabal","Cabanel","Cabaner","Cabannes","Cabral","Cabrini","Cacadino","Cacaj","Caccianemici","Caccini","Caccio","Cacciola","Cachemaille","Cadaloba","Cadalora","Cadart","Cadeloro","Cadete","Cadiou","Cadiusus","Cadmus","Cadoni","Caecus","Caeiro","Caen","Caepo","Caetani","Cafagna","Cafasso","Cafu","Cagnat","Caillebotte","Caillet","Cailli","Caillot","Cailloux","Cailteux","Cairon","Cajani","Calabrese","Calabresi","Calado","Calandrini","Calasanz","Calatus","Calazzo","Caldeira","Calderara","Caledonia","Calens","Calhagen","Cali","Caliari","Calicchio","Califano","Calitz","Callaert","Callara","Callens","Callidus","Callier","Callonus","Callyn","Calmes","Calmette","Calo","Calogerus","Calosso","Cals","Calsivius","Calussa","Calvino","Calvisius","Calvocoressi","Calvus","Calza","Calzaghe","Calzolai","Camac","Camardiel","Cambarabero","Cambrai","Cambria","Camdessus","Camelot","Camenzind","Camerier","Camerman","Camoin","Camossi","Campagne","Campana","Campanaro","Campano","Campiche","Campigli","Campion","Campione","Campisi","Campo","Camporese","Campouyre","Camus","Cana","Canaigres","Canalo","Cananis","Canarica","Canavaro","Candela","Candeloro","Canepanova","Canessa","Canetti","Canfora","Canigiani","Canio","Canis","Cannavaro","Cannavo","Canne","Canniff","Cannizzaro","Cano","Canonica","Canonicca","Canouville","Canova","Cant","Cantaber","Cantacuzino","Cantagalli","Cantavalle","Cantillon","Cantimori","Cantone","Cap","Capano","Capasso","Capeci","Capellari","Capelle","Capelli","Capello","Capirossi","Capitanio","Capius","Capobianco","Capodistria","Cappaert","Cappeart","Cappelletti","Capponi","Caprara","Capraru","Caprenia","Caprenius","Capriati","Caprioglio","Capriotti","Capron","Capuana","Caracciolo","Caraccioni","Caradas","Carafa","Caraffa","Carala","Carandini","Carangi","Caratti","Caravaggio","Carbone","Carbonetti","Carboni","Carbonneau","Carbonnel","Carcani","Cardei","Cardenas","Cardia","Cardin","Cardinale","Cardon","Cardone","Cardonell","Carducci","Caredda","Caree","Carena","Caria","Carides","Carius","Cariveau","Carlier","Carlinus","Carlucci","Carme","Carmelengo","Carmitru","Carnascialli","Carnazza","Carnera","Carnet","Carnini","Carnossi","Carnot","Caro","Carolus","Caron","Carone","Carosi","Carotta","Carp","Carpaccio","Carparelli","Carpeaux","Carpeggiani","Carpegiani","Carpentier","Carpini","Carracci","Carrado","Carrara","Carrard","Carrat","Carraz","Carrere","Carsitien","Carta","Cartellieri","Carteret","Cartier","Caruso","Carvain","Carvalhal","Casabou","Casagrande","Casale","Casamonica","Casares","Cascarino","Cascio","Casetto","Casiraghi","Casjouw","Casoli","Caspers","Cassard","Cassatt","Cassel","Cassou","Castagna","Castagnary","Castaignade","Castang","Castano","Castel","Castelbranco","Castellanata","Castellani","Castellucio","Castelnuovo","Castelucci","Caster","Castets","Castiglione","Castille","Castillon","Castriota","Castro","Castronova","Castronovo","Catalactus","Catalani","Catanei","Catanzara","Catarain","Catarino","Catazara","Catellier","Catenacci","Cathoir","Catone","Catraso","Catreau","Cattaneo","Cattarinussi","Catteau","Catullus","Caubere","Caudinus","Caunter","Causier","Caussinade","Causs","Cavagnoud","Cavalcanti","Cavallaro","Cavalleri","Cavallini","Cavatta","Cavegn","Cavelier","Cavour","Cazalet","Cazalis","Cazenave","Cazenove","Ceauce","Cecchini","Cecere","Cecia","Cecon","Cedmain","Cedronelli","Cedus","Ceirans","Ceka","Cela","Celaj","Celaya","Celer","Celi","Cellini","Cely","Cenacchi","Cenci","Cencio","Cenghialta","Cennini","Ceno","Censier","Censoria","Censorinus","Centho","Ceran","Ceraolo","Cercignani","Ceresa","Cerfas","Cergend","Ceriani","Cernea","Cernuschi","Cerny","Cerone","Cerretti","Cervini","Cesaresco","Cesti","Cestini","Cetta","Cevaer","Chabert","Chaboche","Chabon","Chaboteaux","Chabrier","Chabroux","Chachere","Chacoliades","Chagas","Chaigneau","Chailly","Chakiris","Chalambaga","Challenge","Chambon","Chambriard","Chamorin","Champollion","Chamrond","Chandos","Chani","Channitte","Chanteur","Charbonneau","Charbonnier","Charchere","Chardon","Charis","Charisse","Charlerel","Charlier","Charmant","Charmax","Charno","Charpentier","Charrieres","Charriol","Charron","Charteris","Chartier","Chartoire","Chartrand","Chartres","Charzat","Chastagnol","Chastel","Chatard","Chatas","Chatelet","Chatellain","Chatillon","Chaudry","Chaumeau","Chauncy","Chaussinand","Chauveau","Chauvelier","Chauvet","Chauvry","Chavarria","Chavasse","Checchinato","Checcinato","Chechi","Cheda","Chenal","Cheney","Cheniaguine","Chennault","Cherbourg","Cherel","Cherier","Chernozemski","Chervenkov","Chesnais","Chesneau","Cheval","Chevalier","Chevenement","Chevillon","Chevit","Chevrier","Chiamulera","Chiappo","Chiaretti","Chiaromonte","Chiaudani","Chicchini","Chieregati","Chiesa","Chigi","Chili","Chinaglia","Chiostro","Chirila","Chirot","Chisca","Chissano","Chitul","Chocholi","Choiseux","Choquet","Choroleeva","Chretien","Chriane","Chrinitte","Chrirnis","Christ","Christen","Christinel","Christodoulou","Christoffel","Christos","Christova","Christus","Chuillier","Ciaccheri","Ciai","Ciampi","Ciappara","Ciappi","Ciaravella","Ciaro","Ciasca","Cibelli","Cicarelli","Ciccolella","Ciccoritti","Cid","Cienne","Ciftja","Cigala","Cilento","Ciliberto","Cimabue","Cimerman","Cimino","Cimmerman","Cinca","Cincebeaux","Cinelu","Cingolani","Cintra","Ciobotaru","Ciocca","Ciocchi","Cioches","Ciola","Ciolino","Ciora","Ciorbea","Ciottone","Cipia","Cipollini","Cipolloni","Cipriani","Cirese","Cirges","Ciriaco","Cirigliano","Cirilli","Cirolli","Citte","Citti","Ciuffo","Ciumak","Civetta","Cixous","Cizinski","Claar","Claes","Claesen","Claessen","Claessens","Claeys","Clairmonte","Clanius","Clap","Clapgut","Clareno","Claret","Clarici","Clarico","Clarissie","Classen","Classut","Claudio","Claus","Clauss","Clavarie","Clavell","Claverie","Claville","Cleach","Cleda","Clein","Cleine","Clemenceau","Clemens","Clement","Clementi","Clenen","Clerc","Clerico","Clerides","Clerinell","Clessens","Cleutinx","Clevenot","Cleyman","Cleyn","Cleys","Clijsters","Clinchamps","Clinius","Clodianus","Clouet","Clouseau","Cloutier","Clouzot","Clmencet","Cobaj","Cocciarella","Cochetel","Cocheteux","Cockelenberg","Cocteau","Cocu","Codoni","Codreanu","Coejeman","Coelho","Coers","Coerten","Coetsee","Coeur","Coeuroy","Coffier","Cogh","Cognasso","Cohendet","Coimbra","Cojocaru","Coliar","Collard","Collbras","Colleano","Colletti","Colleville","Collignon","Collina","Collonville","Collopy","Colombelles","Colombi","Colombieres","Colombo","Colonnese","Colpaert","Columbana","Columbo","Comaneci","Comay","Combe","Combes","Comeaga","Comeau","Commandeur","Comollo","Compagnoni","Comtois","Comyn","Conceico","Condaris","Condulmaro","Conegliano","Conele","Confalonieri","Conforto","Congonius","Conician","Conil","Coninx","Conrele","Consalvi","Consiglio","Constandouros","Constantinescu","Constantinis","Conta","Contaldo","Conte","Contencin","Conteville","Conti","Contini","Coolhaas","Cools","Coolssens","Cootzee","Coppenol","Coppens","Coppieters","Coppola","Coravel","Corbajram","Corbelli","Corbera","Corbet","Corbire","Corbon","Corbucca","Corcuera","Cordemans","Corelli","Corgine","Corigliano","Coriolano","Corleis","Corleone","Corlies","Cormeilles","Cornaro","Cornea","Corneilles","Corneja","Cornel","Cornelis","Cornelisda","Cornelissen","Cornelius","Cornell","Cornet","Corniel","Cornillac","Corone","Corosi","Corot","Corradini","Corrazzari","Correia","Correja","Corsi","Corsini","Cortesi","Cortesini","Corticelli","Corvinus","Corviser","Corvus","Coscia","Cosin","Cosini","Cosma","Cosmati","Cosmatos","Cosmescu","Cosmo","Cospito","Cossa","Cossiga","Cossus","Cossutta","Costa","Costache","Costacurta","Costanduros","Coste","Costi","Costocurta","Coteel","Cotichini","Cotsadis","Cottard","Cottaz","Cotti","Cottins","Cottolengo","Cottret","Cot","Couci","Couderc","Couer","Cougelet","Coulette","Coulon","Couloumbis","Coulouris","Countenain","Countenan","Couperie","Couperin","Couprie","Courbet","Courcelle","Courcelles","Courci","Courcon","Courcy","Courseume","Courshesne","Courtois","Cousin","Cousteau","Cousteix","Coustodis","Coutela","Coutenan","Couto","Coutourier","Couture","Couve","Covallini","Covi","Cozma","Craig Lescher","Crainic","Craon","Crapanzano","Crasson","Craxi","Cremer","Cresp","Crespi","Crespy","Cresson","Cretier","Creuzfeldt","Crevecoeur","Crisalli","Crisci","Cristea","Cristescu","Cristofoletto","Cristofolini","Cristostome","Crivelli","Criville","Croc","Croce","Croditier","Croix","Cronenburgh","Cronk","Croque","Cros","Crossette","Crouse","Crouter","Crowe","Cruel","Crus","Cruscellio","Cruse","Cruyff","Cruz","Csaba","Csapek","Csillac","Csillag","Csollang","Csollany","Csurgo","Cuattrin","Cueff","Cugey","Cugnon","Cugnoni","Cul de Louf","Culai","Culaj","Cullmann","Cumani","Cumin","Cunha","Cunk","Cuoco","Cupidon","Curatius","Curtayne","Curteys","Curti","Curutchet","Cusson","Cuthiliero","Cutitta","Cuttitta","Cuvier","Cuvilje","Cuyper","Cuza","Cuzzocrea","Cyper","Czako","Czene","Czingler","Czobor","Czudaj","Czanne","D'Amato","D'Annunzio","D'Argouges","D'Auvay","D'Auvrecher","D'Haenens","D'Hondt","D'Hooghe","D'Olieslager","D'elia","D'hauterive","D'onofrio","D'urso","Daboussier","Dabry","Dachev","Daci","Dacier","Dacourt","Daddi","Daelman","Daenis","Daens","Dafovska","Dagort","Dahm","Dahrendorf","Daigre","Dailland","Daillon","Dal Maistro","Dal Pane","Dal Soglio","Dal soglio","Daladier","Dalakis","Dalielle","Dalla villa","Dallaglio","Dallapiccola","Dalle","Dalling","Dallons","Dalot","Dalyngridge","Damasco","Damaske","Damaskinos","Damasso","Damiani","Damours","Dampier","Dancent","Dancescu","Dandieu","Danel","Danfrie","Daniel","Daniele","Danieli","Danise","Dankers","Danneville","Dano","Danssaert","Dantaine","Danvers","Danville","Daoustd","Dapper","Daranluz","Darcy","Dardai","Darell","Darkblood","Darlang","Darlliun","Daroczy","Darragon","Darraidou","Dary","Daschke","Dasmarinas","Dassu","Dater","Dati","Datini","Daubigny","Daubresse","Daudet","Daumier","Daumoinx","Daunay","Daunger","Dautane","Dautzenberg","Dautzenburg","Dauvergne","Daux","Dauzat","Davaux","Davids","Dazzi","DeBuke","Deak","Dealavallade","Deangelo","Deardorff","Debacker","Debaere","Debakker","Debavelaere","Deberg","Debeukelaer","Debeule","Debisschop","Deblieck","Deblock","Debock","Deboey","Deboos","Debot","Debove","Debruyn","Deburghraeve","Debusse","Debussy","Decaluwaert","Decaluwe","Decauwer","Decaux","Dechanet","Dechaume","Dechery","Dechy","Decker","Deckers","Declark","Decleene","Decleir","Declerck","Declercq","Decock","Deconinck","Deconserere","Decook","Decoteau","Decraen","Decugis","Dedauw","Dedecker","Dedej","Dedekind","Dedkind","Dedobbelaer","Dedrick","Dedycker","Defazio","Deferne","Deffenu","Deflandre","Deganello","Degas","Degeest","Degert","Deglau","Degols","Dehaene","Deharo","Dehert","Dehmel","Dehmer","Dehooge","Dejaeck","Dejong","Dejonghe","Dejti","Dekerf","Dekever","Dekker","Dekkers","Del Arco","Del Fra","Del Noce","Del Piero","Delacave","Delacroix","Delaet","Delaigue","Delair","Delaitre","Delalande","Delamater","Delamere","Delamontagne","Delannoy","Delaroux","Delatte","Delaune","Delavigne","Delecoeur","Delee","Delevoye","Deleyn","Delfs","Delicati","Deligiannis","Deligiorgis","Delivorias","Dellas","Delluc","Delmonico","Delnatte","Delogu","Delong","Delorm","Delorme","Delpech","Delporte","Delrusc","Delsemme","Delsupexhe","Deluguerre","Delvaux","Delvecchio","Demachi","Demaci","Demaere","Demaesschalck","Demaeyer","Demai","Deman","Demarie","Demartelaere","Demercastel","Demertzis","Demeulenaer","Demeuleneire","Demeurichy","Demeyer","Demilly","Demisovski","Demko","Demol","Demongeot","Demosthenous","Demunck","Demy","Den Bakker","Deneriaz","Deneuve","Deneye","Denhardt","Denian","Deniau","Denile","Denis","Denizot","Denk","Dennies","Dennysen","Denon","Denot","Dens","Denter","Denul","Deodato","Depaepe","Depoorter","Depraeter","Deprez","Depuysselaer","Depuysseleyr","Derain","Derame","Dercirent","Deridder","Derius","Derksen","Dernesch","Derock","Deroeck","Deroover","Derop","Deroulade","Derr","Derren","Desailly","Desanlis","Desarthe","Desbiens","Desboutin","Deschaepmeester","Deschamps","Deschepper","Deschu","Deshors","Desidenius","Desire","Desjardins","Desmares","Desmet","Desneux","Despatie","Dessaigne","Dessum","Destain","Destatte","Destefani","Desticus","Destine","Destot","Desutter","Detchenique","Detcheverry","Detelle","Detillo","Detonnelaere","Dettori","Deutscher","Devael","Devaluez","Devantier","Deverman","Devleeschouwer","Devogel","Devos","Devriendt","Devry","Dewaele","Dewalsch","Deweert","Dewees","Dewilde","Dewispelaere","Dewit","Dewitte","Dewreede","Dewulf","Dey","Deyaert","Deylaud","Deyoe","Dhamo","Dhenin","Dhinnin","Di Biagio","Di Caprio","Di Centa","Di Giovine","Di Grande","Di Iasio","Di Livio","Di Vittorio","Di natali","Di spina","Di tella","Diadoni","Dibello","Dibra","Dicharry","Dichio","Dida","Didatus","Didden","Diderot","Didier","Didomenico","Didricks","Diebus","Dieckmann","Dieing","Dielens","Dierickx","Dierman","Diesel","Dieskau","Dieterle","Dietou","Dietsch","Dietz","Dietzsch","Diffenderffer","Digby","Diliberto","Diligent","Dilillo","Dill","Dillhoff","Dimas","Dimaske","Dimiceli","Dimier","Dimir","Dimitrakos","Dimitriades","Dimitris","Dimitrof","Dimitrov","Dimitrova","Dimitru","Dimotsios","Dimov","Dimova","Dinas","Dindorf","Dinescu","Dinev","Dini","Diniz","Diole","Diomede","Diomedes","Dionisotti","Dionne","Dircks","Dirksdr","Disanti","Disegno","Disl","Dispagne","Distel","Dita","Ditschec","Dittmar","Ditton","Dittrich","Dive Beugelin","Divos","Doars","Dobbelaer","Dobbelaere","Dobellis","Dobos","Dobra","Dobre","Dobrogeanu","Docquier","Doczi","Dodos","Dodrescu","Doepker","Dohnanyi","Doillac","Doisne","Dol Hugue","Dolagaray","Dolder","Doleuze","Dolfini","Dolige","Dolmetsch","Dombi","Dombrecht","Domenche","Domingues","Dominicus","Donadoni","Donatello","Donatoni","Donciuex","Donckers","Donders","Donelli","Donini","Donis","Donizetti","Donnadieu","Donolon","Dontas","Donze","Donzelli","Doorn","Dopfer","Dor","Doran","Dorati","Dore","Doreau","Dorell","Doremus","Dorer","Dorfmeister","Doritsch","Dormier","Dorn","Dornacher","Dorner","Doroftei","Dorsile","Dorso","Dortene","Dos Santos","Dost","Dosti","Dostthaller","Dotchev","Dotto","Douai","Douar","Douare","Doublet","Doucet","Douer","Douie","Doull","Doumani","Doumen","Doumer","Dounev","Dourado","Doure","Dourthe","Douwesen","Doxiadis","Dozsa","Drabbe","Draeger","Drafondre","Dragomir","Dragus","Drasche","Drats","Drebbel","Dreekmann","Dreher","Dreifelds","Drescher","Dreschler","Dreshaj","Dret","Dreux","Drexel","Droette","Droge","Drotske","Drouet","Droullin","Druel","Drum","Druppers","DuBois","Duarte","Duba","Dubbeldam","Dubernel.","Dubertret","Dubois","Dubosc","Dubou","Dubroc","Ducat","Duccio","Duchatelet","Duchesneau","Duclos","Ducoton","Ducret","Ducros","Dudevant","Dudnic","Dudok","Duellet","Duerinckx","Dufaux","Dufay","Duffet","Dufoix","Dufont","Dufour","Dufourcq","Dufournet","Dufrene","Dufresne","Dugarry","Dugas","Dugot","Duguay","Duhamel","Duhr","Duisenderb","Duka","Dukakis","Dulroi","Dumarteene","Dumas","Dumay","Dumesnil","Dumitrescu","Dumont","Dunand","Dunga","Dupare","Dupasquier","Dupertuis","Duphot","Dupin","Duplan","Dupon","Dupouey","Dupray","Dupuiche","Duquenoy","Duquesne","Duran","Durand","Durandal","Durante","Duranty","Durerie","Duret","Durfee","Durieux","Durinck","Durjardin","Durje","Durkheim","Durlacher","Duront","Durot","Durufl","Durville","Dusant","Dutari","Dutheil","Duthuit","Dutil","Dutoit","Dutronc","Dutruel","Duval","Duvall","Duvillard","Duvis","Duvivier","Duyking","Duzant","Duse","Dvorzsak","Dyckman","Dyel","Dzaferi","Dziomba","Dprez","Dhl","Dmmler","Eberharter","Eberle","Ebersole","Ebner","Eby","Eccelino","Ecenarro","Eckener","Eckert","Eckhart","Eckhaus","Eckhel","Eckholdt","Eckstein","Economakis","Economou","Ecouland","Edelman","Edelmann","Edema","Eder","Edette","Edhino","Edier","Edilitte","Edrald","Edvrch","Eeckelaert","Ega","Egana","Egbertse","Egborts","Egerman","Egerszegi","Eggen","Egger","Egnatius","Egues","Ehle","Ehlers","Ehlinger","Ehmsperger","Ehrenburg","Ehrnsperger","Ehuletche","Eich","Eichendorf","Eichhorn","Eichmann","Eick","Eifert","Eigner","Eiguren","Eilts","Einaudi","Einbund","Einsidel","Einstein","Eirich","Eisler","Ekker","Elaric","Elbert","Elby","Elejalde","Eler","Elers","Elezi","Elgezabal","Eliade","Eliades","Elien","Elipandas","Elizalde","Ella","Elles","Ellinas","Ellioni","Elseneer","Elsesser","Elting","Eltingh","Emain","Emans","Emarie","Emarthe","Emax","Embich","Embil","Emden","Emery","Emiliani","Eminescu","Emini","Emory","Emperaire","Emrich","Enatarriaga","Enck","Endress","Endresz","Ene","Eneriz","Enescu","Engel","Engels","Engelsman","Engemann","Engerrand","Engl","Ennes","Ennis","Ennodius","Ensminger","Ensslin","Entremont","Eparvier","Ephine","Ephrussi","Epinard","Epke","Epkese","Eppstein","Equitius","Erasmus","Erb","Erbetto","Erdei","Erdmann","Ereau","Ereiwitz","Erelle","Eremitani","Ergalla","Ergend","Ergene","Erhardt","Erhart","Eriel","Erignac","Eriq","Erk","Erlang","Erler","Ermenault","Ermigarat","Ernarde","Ernaut","Erndt","Ernele","Ernst","Erondelle","Eronilde","Erquemboure","Errard","Errazti","Errea","Erregeers","Errekart","Erro","Ersler","Erstweiler","Ertl","Ertze","Eruzione","Escarzaga","Esch","Eschelm","Eschenbach","Escoubes","Escoutou","Escude","Escz","Esini","Eskibel","Esmery","Espec","Esposito","Esprit","Essig","Esteney","Esterhuysen","Esterl","Etanne","Etcheberry","Etelette","Etienne","Etsels","Ettenhoffer","Ettinger","Ettingshausen","Ettmuller","Eturaspe","Etxabeguren","Etxaurren","Etxazarreta","Etxebarne","Etxebarria","Etxegarai","Etxegorri","Etxeleku","Etxenike","Etxenoz","Etxeto","Eubel","Eudoxius","Eugenie","Euginie","Eugne","Evangelista","Evelyn","Eveque","Evers","Everse","Everts","Evertszen","Evigan","Evola","Evrard","Ewen","Ewig","Ewout","Exel","Eyheralde","Ezkarra","Ezkiaga","Etvs","Faas","Fabel","Fabre","Fabroni","Faby","Facchini","Faceby","Fachinetti","Facian","Faerber","Fagatti","Fagnini","Fah","Faille","Faintree","Fairfax","Fakaj","Falaise","Falatti","Falchonelli","Falck","Falco","Falcon","Falconieri","Falcoz","Faleille","Falkwind","Fallires","Fallmerayer","Falon","Falvius","Falvo","Familius","Fammeree","Famula","Fangio","Fantin","Fantini","Fantosme","Farakos","Farbman","Farentino","Farielle","Farinelli","Farkas","Farmand","Farnele","Farner","Farnese","Farr","Farro","Farry","Fasanaro","Fasch","Fasola","Fasoli","Fasquelle","Fass","Fassbaender","Fassbinder","Fassi","Fassnacht","Fatorini","Fattori","Fauche","Fauchlevent","Faucon","Fauconniere","Faulhaber","Fauner","Faure","Fauseius","Faust","Fausta","Fausti","Faustmann","Fausto","Faustus","Fauvel","Favour","Favre","Favreau","Favret","Fazekas","Fazio","Fazliu","Feake","Fecamp","Fede","Fedele","Feher","Fehrenbacher","Fei","Feiersinger","Feijo","Feimer","Feinblatt","Feistkorn","Feiter","Feitor","Feitz","Felbiger","Felder","Feldhahn","Feldrin","Felitti","Felix","Felke","Feller","Femia","Fen","Fenandre","Fendler","Fenner","Ferdinandus","Ferency","Ferga","Fergant","Fernandes","Fernau","Feroci","Feroulet","Ferques","Ferrara","Ferrari","Ferrario","Ferraris","Ferraro","Ferraroti","Ferrero","Ferretti","Ferri","Ferrier","Ferrieres","Ferrua","Ferschtman","Ferseur","Fersten","Fersyeur","Ferttet","Ferzetti","Fessler","Festa","Festius","Fesyeur","Fetscher","Fettas","Fette","Feu","Feuerstein","Fevre","Feydeau","Feynman","Fiacconi","Fibonacci","Ficher","Fichte","Fichter","Fidatof","Fidatov","Fidenas","Fiere","Fierens","Fiermonte","Fiers","Fies","Fiesco","Fiesole","Fieveris","Figini","Figo","Figueiredo","Figuiera","Figura","Filareta","Filarete","Filefo","Filho","Filion","Filipescu","Filipov","Filius","Fillinger","Finance","Fingerlos","Finiguerra","Fink","Finkbiner","Finley","Finocciaro","Finstock","Finucene","Fioravanti","Fiorelli","Fiorentino","Fiori","Fioroli","Fioupou","Fiquet","Firkusny","Fischer","Fischetti","Fischhauer","Fischhof","Fischler","Fisichella","Fissler","Fitipaldi","Fittipaldi","Fitzalan","Fitzherbert","Fitzhugh","Fitzroy","Fivet","Flaccus","Flaeus","Flambard","Flambeau","Flaubert","Flavigny","Fleck","Flegmann","Flesch","Fleury","Flicke","Fliegle","Fliehman","Flierboom","Floca","Flor","Florakis","Floray","Florea","Florent","Florido","Florimo","Florioli","Floris","Flory","Flotard","Fluitsma","Fo","Foa","Fobes","Foch","Focquet","Foerster","Fofo","Fogel","Foldenyi","Folena","Folet","Foletier","Folha","Foliot","Fonda","Fondaire","Fones","Fonnereau","Fontanesi","Fontang","Fontbonne","Fonteius","Fontemai","Fontenay","Fonteyre","Fontius","Fonzarelli","Fonzi","Fonzio","Foos","Foray","Forcella","Foree","Foreville","Forgacs","Forgeard","Forget","Forgch","Forissier","Fornasari","Forneris","Forquaist","Forqueray","Forquest","Fortichiari","Fortini","Fortis","Fortunato","Fortunatus","Foruria","Foshuer","Fossard","Fossati","Fostroy","Foubert","Foucan","Foucault","Foucher","Foucras","Fougeres","Foulon","Foulques","Fouques","Fouquet","Fourier","Fourneaux","Fournier","Foury","Foy","Fraenckel","Fraigneau","Fralinie","Framan","Frana","Francen","Franchescetti","Francheschini","Franchet","Franchi","Franchitti","Francillon","Francioni","Franciosa","Franck","Francolini","Frangilli","Frangipani","Franis","Franke","Frankenheimer","Frankenstein","Frankl","Franquemont","Frans","Franse","Fransse","Franssen","Franssens","Fransz","Frasheri","Frasoric","Frassetto","Frati","Frattasio","Frauenfelder","Frece","Frechette","Fredericks","Frederiks","Fredrick","Fredricks","Fredrickse","Fredrickszen","Freigang","Freindametz","Fremont","Fren","Frena","Freni","Frenkiel","Frenzel","Frequesse","Frernele","Frernis","Freschi","Fresi","Fresle","Freude","Freund","Frey","Fribois","Fried","Friedberg","Friedeck","Friedek","Friedel","Friedensburg","Friedjung","Friedlander","Friedmann","Frielinghaus","Fries","Friesinger","Frinck","Friquest","Frissyn","Fritsch","Fritsche","Friuli","Frizzini","Froberger","Froebel","Froehucher","Froelich","Frohlich","Froissart","Fromentin","Fromme","Frommel","Frondeville","Fruehwirt","Frugoni","Fruhwirth","Fruquest","Frutaz","Fruytier","Fruytiers","Fubini","Fuchillo","Fuchs","Fugard","Fugazzi","Fugosi","Fumon","Funck","Funicello","Funk","Funke","Furia","Furillo","Furio","Furlan","Furnival","Furnon","Fusar-Poli","Fuseli","Fuser","Futre","Fbre","Fnon","Frat","Fdes","Fster","Gabbiadini","Gabor","Gabriel","Gabrieli","Gabris","Gacaferi","Gachet","Gachevska","Gachot","Gaddi","Gaebler","Gael","Gaercroft","Gaering","Gaghiardi","Gagliardi","Gagnon","Gaigneur","Gaillard","Gainza","Galante","Galasso","Galatti","Galca","Galenus","Galetto","Galfione","Galica","Galilei","Galimberti","Galimuna","Gallastegui","Galle","Gallet","Galli","Galliano","Galliene","Gallieni","Gallina","Gallino","Galliott","Gallizio","Gallois","Galonopoulas","Galthie","Galuzzi","Galvanoni","Gamache","Gambachini","Gambetta","Gamelin","Gaminde","Gamossi","Gan","Ganborena","Gand","Gandiaga","Gandler","Gandolfi","Ganganelli","Gangoiti","Ganteaume","Gantois","Gaounon","Garafaio","Garaudy","Garavini","Garbaxosa","Garber","Garbrecht","Garcique","Gardella","Gardemeister","Gardenne","Gardini","Gareau","Garegnani","Gargallo","Gargiulo","Garibaldi","Garick","Garicoits","Gariel","Garin","Garinet","Garlaschelli","Garnerin","Garnier","Garoutte","Garrabrant","Garreau","Garro","Garrone","Garscroft","Garza","Garzelli","Garzoli","Gashi","Gasnault","Gaspar","Gaspard","Gasparini","Gasquet","Gassert","Gassinger","Gasso","Gassou","Gastenveld","Gatchevska","Gatien","Gatignol","Gatlinaro","Gatsioudis","Gatteaux","Gatzioudis","Gaubatz","Gaubeka","Gaubil","Gauci","Gaudernet","Gaudet","Gaudibert","Gaudry","Gaufi","Gaul","Gauliet","Gauliot","Gaultier","Gauthier","Gauthiot","Gautier","Gautreau","Gavallo","Gavendien","Gaveston","Gavonne","Gavrielides","Gay","Gayrard","Gazda","Gazdag","Gaztanaduy","Gecaj","Geccerelli","Gecsek","Gedanis","Geerlingh","Geert","Geertz","Geffroy","Geglein","Gehrig","Geiberger","Geier","Geilinger","Geingob","Geisheimer","Geiss","Geldmeyer","Geline","Gellhaus","Gelmetti","Gelves","Gemane","Gemelle","Genazzi","Gene","Generidius","Genevie","Geney","Genin","Gennadios","Gennari","Genovelis","Genovese","Gentile","Gentileschi","Gentili","Geonette","Geontene","Georence","George","Georgescu","Georghiev","Georghiou","Georghiu-Dej","Georgieva","Geornis","Gephart","Gerasch","Gerbeck","Gerber","Gerberich","Gerdollendorf","Gereke","Gerg","Gergieva","Gerhard","Gerhardt","Geric","Gericke","Gerieux","Gerlach","Germarc","Gernand","Gero","Geroe","Gerold","Gerosa","Gerratana","Gerrebrantse","Gerrikabeitia","Gerrikagoitia","Gerrits","Gerritsdr","Gerritse","Gerritzen","Gerryts","Gersek","Gerstaecker","Gertodtenhaupt","Gervex","Gery","Gesell","Geserer","Gesner","Gespeck","Gessel","Gessler","Gestor","Geswein","Getha","Gette","Gettelfinger","Geurts","Gevaert","Geves","Gevette","Gevont","Ghedina","Gheeraerts","Gherea","Ghezzi","Ghezzo","Ghiberti","Ghil","Ghinato","Ghini","Ghirlandaio","Ghislieri","Ghisolfi","Giacconi","Giacobone","Giacoletti","Giacomelli","Giacomini","Giaconi","Giammarttini","Giammona","Giancana","Gianini","Giannini","Giardina","Giardiola","Gibard","Gibernau","Gibilisco","Gibsch","Gidric","Gielen","Gier","Gies","Gietl","Gieysztor","Giffard","Gilardi","Gilbeau","Gilbert","Gilca","Gill","Gillain","Gillam","Gillard","Gillardin","Gillaumin","Gillemet","Gillenormand","Gillet","Gillette","Gillich","Gillis","Gilo","Gilpin","Gimbert","Gimelstob","Ginchev","Ginea","Giner","Ginis","Ginise","Ginola","Ginori","Ginsen","Gioachhini","Gioberti","Giocondi","Giolitti","Giorgiou","Giorlandino","Giot","Giovanelli","Giovannoni","Giradou","Girardelli","Girardin","Giraud","Gireaud","Girien","Girometta","Giron","Giroux","Giscard","Gislenus","Gisler","Gislinge","Gisze","Giuggioli","Giugharo","Giugino","Giuliani","Giusto","Gizikis","Gjika","Gjikokaj","Gjinali","Gjokaj","Glaber","Gladisch","Glaise","Glanville","Glass","Glauber","Gleber","Gleirscher","Gleitsch","Gleyre","Glezos","Gloriosus","Glotz","Glycias","Gnass","Gobbi","Gobert","Gobetti","Gobinet","Godard","Godart","Goddaert","Goddard","Goddat","Godefroy","Godet","Godignon","Godin","Godori","Goebel","Goehler","Goehr","Goellner","Goeman","Goenaga","Goenzc","Goermer","Goethals","Goethe","Goetschius","Goetschl","Goettinger","Goetz","Goetzer","Goffi","Goffin","Goga","Gogean","Gogele","Goggi","Gogny","Gogoasa","Gogos","Gohmann","Goia","Goikoetxea","Gois","Goitia","Gojenola","Golakov","Goldberger","Goldenberger","Golino","Goller","Golmard","Goltz","Gomberville","Gomboult","Gonatas","Goncourt","Gonse","Gonzago","Goosen","Goosens","Goossens","Gootblod","Gordini","Goretti","Gorie","Goro","Gorratchetegui","Gorriaran","Gorrindo","Gorstiaga","Gortana","Gorz","Goslar","Gossett","Gott","Gotti","Gottignie","Gottlieb","Gotxikoa","Goubau","Goubert","Gouel","Gougot","Goulaffre","Goulancourt","Goulandris","Goulet","Gounaris","Goupil","Gournai","Gouron","Gousetti","Gouteyron","Gouvenou","Gouverne","Goyette","Gozhita","Gozzoli","Graaf","Gracchanus","Gradi","Graf","Grai","Gramm","Gramsci","Grancagnola","Grancourt","Grand","Granda","Grande","Grandet","Grandin","Grandjean","Grandmont","Grandon","Grandsaerd","Granet","Granger","Grappasonni","Grassi","Grasso","Grasu","Grataloup","Gratien","Gratus","Graupnar","Grava","Gravel","Gravier","Grazdani","Graziadei","Grazioli","Grbech","Greco","Gregoretti","Gregorie","Greiner","Greiser","Grelot","Grentemesnil","Grenteville","Greslet","Grieco","Griem","Gries","Grieshop","Griesser","Griffin","Grignion","Grignon","Grill","Grillati","Grillmeier","Grillo","Grillon","Grillparzar","Grimaldi","Grimault","Grimme","Grimmette","Grimoult","Grisar","Grivas","Grob","Grobler","Groditje","Groebe","Groen","Groeneveldt","Groer","Groethuysen","Groezinger","Groff","Grogloth","Groisard","Groll","Grondin","Grony","Groos","Groote","Gros","Grosbelhomme","Grosjean","Gross","Grosskopf","Grossman","Grotefend","Grouchet","Groulart","Groulx","Group","Gruber","Grubo","Grueter","Gruev","Grul","Grumach","Grumel","Grumiaux","Grundherr","Grundmann","Grupa","Grupp","Gruppe","Gruppi","Gruson","Grbaut","Grn","Guadagnino","Guajira","Guaneri","Guariento","Guba","Gudereit","Guegan","Guendler","Guenier","Guentchev","Guenthner","Gueorgiev","Guepy","Guera","Guerat","Guerbois","Guerin","Guerini","Guernon","Gueron","Guerra","Guerrier","Guerrieri","Guesdon","Guggenberger","Gugler","Guglielmotti","Guiccardini","Guicciardini","Guichard","Guida","Guideville","Guidi","Guidolotti","Guidroz","Guidry","Guiffart","Guihard","Guilbert","Guildersleeve","Guillaut","Guillemani","Guillemet","Guillermin","Guillon","Guillot","Guims","Guinand","Guintcehv","Guiomar","Guiraud","Guissant","Guisset","Guistiniani","Guitry","Guivarch","Guizet","Guizot","Guldenschuh","Gulp","Gumy","Gunsche","Gunther","Guran","Gurges","Guridi","Gurka","Gurles","Gurnee","Gurney","Gurtrich","Gusa","Guschlbauer","Gusmeroli","Gustave","Gusti","Gutensohn","Guterres","Guth","Gutman","Gutsche","Guttfreund","Guttuso","Guylitte","Guyot","Guys","Gurard","Guribout","Gygax","Gyorffy","Gysbrechts","Gyselinck","Gyulai","Grom","Gza","Gbelbecker","Ggler","Ghler","Gller","Gtz","Gnter","Haacke","Haag","Haar","Haarhuis","Haas","Habe","Haberfeld","Haberlands","Habermas","Habig","Hachet","Hackenbroch","Hackl","Hadrianus","Haeck","Haeckle","Haefeli","Haertel","Haessler","Haeusl","Haeusler","Hafonstaangel","Hafte","Hagel","Hagelauer","Hageman","Hagen","Hagenlocher","Hagerman","Haghio","Hagi","Hagiorgiu","Hagner","Hahlo","Hahn","Hahne","Hahnel","Haider","Haight","Hainault","Hajdaraga","Hajdari","Hajdini","Hajiyanni","Halacre","Halara","Halard","Halder","Haldron","Halii","Halil","Halili","Haliti","Hall","Haller","Hall","Halmai","Halmer","Hals","Haltzel","Hamage","Hamann","Hambitzer","Hamiti","Hammerich","Hammerle","Hammerstein","Hammes","Hamoncourt","Hamori","Hampe","Hampel","Hamza","Hanchard","Hanekom","Hanequart","Hanfman","Hankiss","Hanl","Hannawald","Hanotel","Hanse","Hansen","Hansmeier","Hanssens","Happ","Hapsberg","Hara","Haraculamo","Harbert","Harcourt","Harden","Harding","Harend","Haring","Harman","Harmanse","Harmense","Harmse","Harnely","Harnish","Harnock","Harnoncourt","Harrer","Harteros","Hartinger","Hartje","Hartl","Hartleben","Hartlieb","Hartmanse","Hartshorne","Hartwig","Hartz","Hartzer","Harxhi","Harymbat","Hasangjekaj","Hasani","Hasbrouck","Haschke","Hasdeu","Haselrieder","Haslinger","Hassan","Hasse","Hasseroeder","Hassler","Hastien","Hatig","Hauch","Haug","Haugwitz","Hauri","Hauser","Haussmann","Haute","Hauville","Havelange","Haverfldt","Haward","Hawlik","Hawrond","Hax","Haxhi","Haxhiu","Hayn","Hazelzet","Hearthfield","Heartwound","Hebert","Hechevaria","Hecht","Heck","Heckmair","Hedervary","Hedevary","Hedier","Heekeren","Heevink","Heffner","Hegel","Heger","Heguy","Heideck","Heiden","Heidenfelder","Heidingsfelder","Heidloff","Heidt","Heigel","Heil","Heimer","Heimpel","Hein","Heindel","Heine","Heineman","Heinemann","Heinen","Heinis","Heinkel","Heinrich","Heins","Heinzel","Heirbaut","Heirman","Heirwegh","Heladren","Helane","Heldt","Helena","Helenus","Helfenbein","Helfkin","Helfrich","Helfter","Helgenberger","Hellekant","Hellen","Helleu","Hellfritzsch","Hellinger","Hellmann","Hellmich","Helmer","Helmerichs","Helmigse","Helomaine","Helvius","Helwich","Hembrecht","Hemmet","Hempel","Henchoz","Henderickx","Hendrick","Hendricks","Hendrickse","Hendricksen","Hendrickson","Hendrickszen","Hendrix","Hendry","Hendrykxx","Hengst","Hengstenberg","Henion","Henkel","Hennecart","Henning","Hennion","Henoit","Henrard","Henriques","Henschel","Hense","Hentsch","Henyra","Heofle","Hequetot","Herbard","Herbaut","Herbaux","Herber","Herberhold","Herberich","Herbrggen","Herbst","Herde","Herder","Herdfeld","Heregger","Herennius","Hergenrther","Herhard","Heriet","Herius","Herlemont","Hermans","Hermant","Herment","Herminia","Herold","Herque","Herr","Herreman","Herreweghe","Herring","Herrmann","Hershey","Hersman","Hersus","Hertarian","Hertje","Herty","Herv","Herzfeld","Herzl","Herzog","Hesp","Hess","Hesse","Hessels","Hesselse","Hessler","Hester","Heu","Heumann","Heusinveld","Heusler","Heuz","Hewse","Heyman","Heymann","Heyndrickx","Heynemann","Heynkes","Hibon","Hicke","Hiddink","Hiebl","Hiebsch","Hieke","Hiemer","Hier","Hieronymus","Hietsch","Higounet","Hila","Hilaire","Hilgarth","Hillegeer","Himbrecht","Himmler","Hinetze","Hinova","Hintermeier","Hintz","Hinz","Hipfl","Hipp","Hipper","Hiriel","Hirsch","Hirschauer","Hirschfeld","Hirtreiter","Hisari","Hitzfeld","Hlady","Hlasek","Hlutev","Hobai","Hoch","Hochlat","Hodenc","Hoebacke","Hoebig","Hoechst","Hoefling","Hoefnagel","Hoegersteyer","Hoekstra","Hoelebrand","Hoellwarth","Hoenaert","Hoern","Hoetker","Hoeykens","Hofer","Hoff","Hoffmann","Hofler","Hofman","Hofmeihr","Hofmeyr","Hofstater","Hofstra","Hoger","Hogler","Hohenleutner","Hohenwart","Hoka","Hol","Holba","Holbein","Holdrum","Holette","Holland","Hollar","Hollinger","Hollmann","Hollo","Hollweg","Holst","Holthausen","Holtzmann","Holz","Holzhauser","Holzknecht","Homeier","Homo","Honig","Hoogduytscher","Hoogeveen","Hooglandt","Hoornik","Hooss","Hooten","Hoover","Hopfer","Hoppe","Hoppen","Hopper","Horansky","Horas","Horenbout","Hormel","Horn","Hornbostel","Horngacher","Hornstra","Horsch","Horst","Horstink","Horthy","Horvarth","Horvath","Hosched","Hosidias","Hosidus","Hositte","Hoskens","Hostache","Hostetter","Hotot","Houdini","Houllier","Housman","Houssaye","Houssin","Hout","Houtmacker","Houziaux","Hoxha","Hoy","Hristov","Hruby","Hrutka","Hu","Hubchev","Huber","Hubert","Hubner","Hue","Huet","Hugel","Hugesson","Hugo","Hugonin","Huguenard","Huillet","Huke","Hulit","Hulse","Humbert","Hunkoos","Hunsberger","Huntziger","Hunyadi","Huont","Hupetcoff","Hupetri","Huporkorny","Hurgronje","Hurier","Huriet","Hurtgen","Hurtis","Husmann","Husserl","Huster","Hutfltz","Huthwohl","Huwiter","Huybertszen","Huygens","Huyghen","Huyler","Hynde","Hyseni","Hysi","Hyres","Hdiart","Hhne","Hpken","H","Hbsch","Hmmel","Iagar","Iakovakis","Iakovou","Ianculescu","Iani","Iannacone","Iatrides","Ibanescu","Ibarran","Ibarrola","Ide","Idesheim","Idiakez","Idoeta","Idolus","Idrizi","Ignatieva","Ignatius","Ilarduya","Ilgner","Ilica","Ilie","Iliev","Ilionescu","Illes","Illuminati","Illvina","Illshzy","Ilyes","Imanci","Imbel","Imelmann","Immelman","Impens","Impetraz","Infusino","Ingels","Ingrao","Ingres","Ingroville","Iniguez","Inken","Inkskin","Innocenti","Interlenghi","Intxauspe","Inurrutegi","Invel","Inventius","Inzaghi","Ioanid","Ioannidis","Ioannou","Ioli","Ionescu","Iordache","Iordanescu","Iorga","Ioriatti","Iotti","Ioveanu","Iparagirre","Iraola","Irastorza","Irazoki","Iriarte","Irigiven","Irisarri","Irrigarai","Irungarai","Isaac-Sibille","Isai","Isauricus","Isecke","Isekenmeier","Isekenmeir","Iserbyt","Ismaili","Isselsteen","Issigonis","Issorat","Istogu","Istok","Istratescu","Istvnffy","Isufaj","Isusi","Ituarte","Iturburu","Iturralde","Iturraspe","Iturrioz","Iturriza","Iuliano","Iullus","Iulus","Iurrieta","Iurrita","Ivanov","Ivanova","Izaguirre","Izaurralde","Izquierdo","Izuel","Jacobs","Jacobse","Jacobusse","Jaconelli","Jacopino","Jacquelin","Jacquemin","Jacquet","Jadin","Jadot","Jaeke","Jaekle","Jagadics","Jager","Jahnet","Jakobs","Jalabert","Jambart","Jancke","Jancker","Janin","Jano","Janosi","Janquin","Jans","Jansdr","Jansen","Janssens","Januzaj","Janz","Jardim","Jarnet","Jarol","Jarre","Jarry","Jasari","Jascien","Jaspers","Jaszi","Jaufenthaler","Jauregi","Javert","Jean-Aubry","Jeanard","Jeanmaire","Jeanne","Jeanniot","Jeannot","Jeanteaud","Jeanyn","Jedin","Jegnole","Jemane","Jend","Jenole","Jerenise","Jerick","Jerine","Jerratsch","Jesser","Jeune","Jeuneau","Jeunet","Jeuriaens","Jewell","Jillette","Jimmink","Joachimsthaler","Joakimides","Jobert","Jodain","Joffre","Jogues","Joilcoeur","Joje","Jokai","Jolivet","Jolland","Jolves","Jondet","Jonge","Jongejans","Jongman","Jongmans","Jonk","Jonker","Jonnicent","Joos","Joossens","Joosten","Jopie","Joralemon","Jordanov","Jorise","Joriszen","Josi","Joska","Jospin","Josselin","Jost","Jotten","Joubert","Jourdonnais","Jovine","Jovtvev","Jo","Jubert","Juillet","Julalanie","Julia","Julio","Jullalian","Julus","Junciennes","Jungbloet","Junghuhn","Junqueira","Jurard","Jurassien","Jurcks","Jurckse","Jurcksen","Jurckx","Jurcx","Jurelette","Juroksen","Jurrie","Jutras","Jlicher","Kadare","Kaelin","Kaempfer","Kaessens","Kahan","Kahl","Kahn","Kairis","Kaiser","Kajetan","Kaklamanakis","Kakoulli","Kalaj","Kalanyos","Kaleci","Kalergi","Kalff","Kalkbrenner","Kalkman","Kallabis","Kallay","Kallenbach","Kallenberger","Kallisch","Kalman","Kalvos","Kamerling","Kammerer","Kammerling","Kampe","Kamps","Kamstra","Kanaris","Kandarr","Kanellopoulos","Kani","Kanschra","Kaphandaris","Kapitan","Kapllani","Kapp","Kappmeyer","Kapt","Karaay","Karahi","Karaiskakis","Karamanlis","Karastorre","Karatossos","Karavelov","Karbacher","Karch","Kareaga","Karembeu","Karge","Karoki","Karolyi","Karranza","Karremans","Kartallozi","Karyoti","Kasler","Kasnar","Kasomoulis","Kastner","Kastrati","Katsantonis","Katsaris","Kauffman","Kauntiz","Kayser","Kazaku","Kazinczy","Keblovszki","Keblovszkij","Keblovszky","Keemer","Keersmaekers","Kegel","Kegels","Kehler","Kehr","Keifer","Keitel","Keizer","Kel","Kelleners","Keller","Kemeny","Kemle","Kemner","Kemper","Kempers","Kempf","Kendig","Kenedy","Kenter","Kenteris","Kepper","Kerbol","Kerck","Kerekes","Kern","Kerndl","Kert","Kertes","Kessing","Kessler","Kestelmann","Ketel","Kettenacker","Keurorst","Keurvorst","Kezer","Khadjikyriakos","Khelsch","Khuen","Kiefer","Kielgass","Kiemle","Kiemlen","Kiemlin","Kiep","Kierkegaard","Kiers","Kiersen","Kierstede","Kiesl","Kieslaer","Kiess","Kiestra","Kiffer","Kihlstedt","Killy","Kimmel","Kinczllers","Kindt","Kingl","Kinigader","Kinkel","Kinlin","Kinne","Kins","Kipp","Kiraly","Kirbatha","Kirch","Kirchbach","Kirchenbauer","Kircher","Kirchheim","Kirchhoff","Kirchmann","Kirilova","Kirsch","Kirschner","Kirschofer","Kirshbaum","Kirsten","Kiryakov","Kishishev","Kiss","Kisslinger","Kiuprili","Kjucukov","Klaeber","Klah","Klais","Klammer","Klaras","Klauber","Klauschen","Klausman","Klazens","Klebel","Kleber","Klee","Kleiber","Kleiman","Klein","Kleinendorst","Kleinert","Kleinheinz","Kleinpaul","Kleinschmidt","Kleitsch","Klemert","Klewitz","Kleynhans","Klimmer","Klinck","Klingberg","Klinger","Klinsmann","Klock","Klohse","Klosel","Klosner","Klostermann","Klozbcher","Klug","Kluge","Kluivert","Klusener","Kluskens","Klysen","Klpsch","Knabl","Knaus","Knauss","Knesevich","Knippel","Knipper","Knippschd","Knippschild","Knittle","Knobloch","Knodel","Knoll","Knueven","Ko","Koban","Kobori","Kobs","Koch","Kochalakos","Kochiu","Kochta","Kocsis","Kodaly","Koeck","Koehl","Koehler","Koehneman","Koekkoek","Koell","Koellerer","Koelmel","Koemans","Koenradt","Koertzen","Koesters","Koffa","Kogalniceaunu","Kohler","Kohlmann","Kohlruss","Kohlsaat","Kohn","Kohning","Kokkinos","Kokotis","Kola","Kolb","Kolcei","Koler","Kolettis","Kolf","Koller","Kollias","Kolokotronis","Kolonja","Kolowrat","Kona","Kondylis","Kongoli","Konight","Koninck","Koning","Konink","Konnight","Konrad","Kontoghiorghes","Koopman","Koopmans","Kopke","Koppen","Koranyi","Koras","Koretnaar","Korff","Korine","Korkizoglou","Korkizoglu","Korner","Kornmann","Korres","Korsas","Korsten","Kortright","Korving","Koryzis","Korzha","Koshney","Koskotas","Kosos","Kossuth","Kost","Kostanopoulos","Kosters","Kostner","Kostopoulou","Kostopulos","Kostov","Kota","Kotaridou","Kotta","Koubek","Kough","Koukodimos","Koukoudimos","Koumoundouros","Koundouriotis","Kounev","Kourniakis","Kousoulas","Kovac","Kovago","Kowarsch","Kozani","Koi","Kraatz","Krabbe","Krafstein","Krahmer","Kraja","Krajicek","Krall","Kramer","Krasnicki","Krasniki","Krasniqi","Krassnig","Kratz","Kraus","Krause","Kraushaar","Krausse","Krauthammer","Krautheimer","Kreanga","Krebs","Krech","Krehbiel","Kreider","Kreissig","Kreitz","Krenckel","Kresch","Kreuger","Kreutzer","Kreutzwald","Krey","Kriebl","Krige","Krijnen","Krin","Kritopoulos","Krizi","Kroditier","Kroeger","Kroes","Krohn","Krom","Kronburger","Kronenberg","Kroner","Krosko","Krueckel","Krug","Kruger","Krugman","Krull","Krumel","Krumholtz","Krummenacher","Krumova","Krupova","Kruppa","Kruyer","Kruyt","Kubadinski","Kubel","Kucheida","Kucnecov","Kucska","Kuegler","Kuehn","Kuehne","Kuerten","Kuhbauer","Kuhnt","Kuijken","Kuipers","Kula","Kulcsar","Kulhberg","Kulmus","Kumbernuss","Kun","Kuntz","Kunz","Kupi","Kupkat","Kursumulu","Kurtag","Kurti","Kurtosi","Kurutz","Kuszmann","Kuti-Kiss","Kutishi","Kutsera","Kuyper","Kyprianou","Kyriacou","Kyriakou","Kyriazis","Kldi","Kella","Khncke","Kster","Khnemund","Kmblin","Kmlin","Kng","L'Heureux","L'ile","Labadie","Labande","Labarde","Labat","Labaye","Labb","Labit","Labourdette","Labour","Labraccio","Labre","Labriola","Labrousse","Labyorteaux","Lacatelli","Lacatus","Lachaille","Lacharriere","Lachiondo","Lachkovics","Laci","Lackenbach","Lackner","Lacksz","Laclau","Lacombe","Laconi","Lacouague","Lacoumette","Lacroix","Lactucinus","Lacusta","Laeca","Laecinnius","Laelippe","Laetonius","Laevinus","Lafeber","Lafenestre","Laffon-parias","Laffoon","Lafitte","Lafont","Laforet","Lafranchi","Lafrenire","Laftrius","Laghi","Lago","Lagomarsino","Lagorio","Lagouarde","Lagoutte","Laguilhon","Lagututta","Lahr","Laigle","Lajos","Lajtha","Lajtos","Laka","Lakatos","Lalande","Lalanne","Lalelius","Lallement","Lama","Lamache","Lamaison","Lamaj","Lamarre","Lambeck","Lambert","Lamberti","Lambertini","Lamboglio","Lamborghini","Lambrakis","Lambrecht","Lambrechts","Lambrianou","Lambrinos","Lambruschini","Lamiel","Lamine","Lammesfelder","Lamont","Lamotta","Lamper","Lampers","Lampl","Lamy","Lan","Lancarl","Lanctot","Landaburu","Landauer","Lander","Landgut","Landino","Landis","Landler","Lando","Landrain","Landre","Landreau","Landry","Landwerlen","Lanerd","Lanfranchi","Lang","Langen","Langenkamp","Langey","Langlois","Langushi","Lanie","Lanier","Lankes","Lano","Lanquetot","Lansink","Lanziego","Lapaglia","Lapasset","Lapi","Lapierre","Lapin","Lapo","Lapointe","Laporte","Laprade","Lapuente","Laptre","Larannaga","Larbaletrier","Lardenoit","Largillire","Larguier","Larini","Larocque","Laros","Larosire","Larouche","Larramendy","Larraza","Larrea","Larriategi","Larroquette","Larrouse","Larue","Lasa","Lascaris","Lashier","Laskine","Laspiga","Lassen","Lassucq","Lastex","Laszmann","Latapy","Latarjet","Latcherie","Laterano","Lateur","Lathouris","Lathuile","Latifi","Latini","Latour","Latreille","Lau","Lauchart","Lauga","Laune","Laurens","Laurent","Laurentius","Laureys","Laurier","Laussac","Laussacq","Laussucq","Lautens","Lauterback","Lauwens","Lauzirika","Lauzon","Lavagne","Lavalliere","Lavanchy","Lavandais","Lavedan","Lavergne","Lavicq","Lavigne","Lavignen","Laviniere","Lavoie","Lawrenson","Laxague","Layard","Lazami","Lazar","Lazardis","Lazaro","Lazarovici","Laziosi","Lazzarali","Lazzaretti","Lazzarini","LeBlanc","Leal","Lebel","Leboeuf","Lebouc","Lebretton","Lecadre","Leccia","Lecea","Lechkov","Leconte","Lecouv","Lecroix","Lector","Ledermann","Leedt","Leekens","Leenhoff","Leese","Leeuwangh","Lefebre","Lefevre","Leffert","Leffler","Leflamand","Leflon","Lefou","Lefranc","Legarreta","Legarza","Legendre","Leger","Legnano","Legorburu","Legout","Legros","Lehman","Lehmann","Lehner","Lehnich","Lehotka","Lehr","Leib","Leibbrandt","Leibenguth","Leiber","Leibnitz","Leidholdt","Leimann","Leismuller","Leitenberger","Leiter-Nijpels","Leitinger","Leitner","Lejosne","Lekens","Lekunberri","Lekuona","Lellouche","Lelong","Lelouch","Lelu","Lemaire","Lemaitre","Lemal","Lemer","Lemercier","Lemerre","Lemmens","Lemonnier","Lemorne","Lempereur","Len","Lengnisch","Leniz","Lent","Lentini","Lenz","Leonard","Leonciele","Leone","Leonetti","Leoni","Leonidis","Leonte","Leopardi","Leotard","Lepercq","Leplat","Lepore","Lepper","Leptio","Lequiller","Leraud","Lercari","Lerch","Lerineaux","Lerminie","Lertxundi","Lerus","Lesach","Lesbordes","Lesbros","Lesclide","Lesein","Lessing","Lestonnac","Letamendi","Letarte","Lete","Letheran","Letice","Letizi","Letoute","Letre","Lettiere","Letzetter","Levasseur","Leveaux","Leveille","Leveque","Levet","Levicq","Levienaise","Levorato","Levski","Levys","Lewin","Leydecker","Leydier","Leyn","Leys","Leysen","Lezertua","Lezeta","Lhuillier","Lia","Liancourt","Lianis","Liapchev","Liatti","Libertini","Libourg","Licci","Lichtenegger","Lickliter","Lictenegger","Liebenthal","Lieber","Liebermann","Liegeois","Liekmar","Lielle","Lielleve","Lietzke","Lieuwes","Lievremont","Ligeti","Ligier","Ligonier","Liguori","Lilov","Limouzylise","Linazasoro","Linckford","Linden","Lindenmaier","Linder","Lindulf","Linesch","Linesi","Linge","Lingeman","Lingen","Lingens","Linneberg","Linser","Linster","Lintweaver","Lior","Liore","Liotard","Liotta","Lipari","Lippelt","Lippi","Lippold","Liptak","Lirlane","Lisabeth","Lischka","Lise","Lisieux","Listzes","Lit","Litlin","Litte","Littman","Litzmann","Livianus","Lixandroiu","Lizaran","Lizarazu","Lizarraga","Lizarzaburu","Lizerand","Ljankes","Lobato","Lobinger","Lobo","Lobsien","Lobstein","Locatelli","Loche","Locke","Lockefeer","Loef","Loeffelmann","Loehr","Loens","Loers","Loffler","Loffredo","Loges","Loggia","Logoreci","Logotheti","Loheit","Lohmann","Lohmer","Lohmeyer","Lohner","Lohse","Loidi","Loidl","Loinaz","Loisate","Loit","Lokaj","Lokermans","Lollobrigida","Lom","Lombard","Lombardo","Lombroso","Lomont","Lonacque","Lonaies","Lonard","Long","Longari","Longeserre","Longin","Longis","Longo","Longtemps","Longuet","Lootens","Loots","Lopes","Lopper","Loquinaire","Lorcy","Lorda","Lorelliere","Lorenz","Lorenzelli","Lorenzetti","Loret","Lorgnon","Loria","Lorie","Lorine","Lorrain","Lorraine","Lorre","Lortie","Lorz","Loschi","Losier","Lossie","Losurdo","Loth","Lothaire","Louagie","Loubens","Louca","Loucelles","Louet","Louganis","Loumont","Louppe","Louvain","Louvaris","Louvet","Louw","Louwerense","Louwman","Lovet","Lovica","Loy","Lozier","Lozieres","Lozon","Lozoya","Luart","Lubbe","Lubberts","Lubbertse","Lubertson","Lubiani","Lubik","Lubin","Lubitsch","Luca","Lucantoni","Lucca","Lucchesi","Lucchetti","Lucchi","Lucci","Lucciardi","Lucescu","Lucetti","Luciani","Luciano","Lucieer","Lucre","Lucy","Ludeker","Ludel","Ludeman","Ludendorff","Ludentz","Lueders","Lueger","Luga","Lugar","Lugosi","Luhrman","Luillier","Luiso","Lukanov","Lulli","Luluelle","Lumaj","Lumani","Lumet","Lunchev","Lung","Lunghi","Lupescu","Lupi","Lupino","Luporini","Luquet","Lurgette","Lurhmann","Luro","Lusano","Luschin","Lushi","Lusieri","Lussu","Lustgarten","Lutjens","Lutkens","Luttazi","Luttini","Lutz","Lutzenius","Luyt","Luz","Luzaj","Luay","Lydecker","Lydelle","Lylvieve","Lynielle","Lynom","Lyssarides","Lzine","Lwe","Lceanu","Ltz","Lz","Maart","Maase","Maazel","Mabie","Mably","Macaluso","Macaque","Maccaux","Macchi","Macchio","Macciocchi","Maccioni","Macek","Machado","Machault","Machel","Machiavelli","Machin","Maci","Macien","Macile","Mackelyck","Maczey","Madalle","Madar","Madeira","Mader","Madereel","Madgearu","Madier","Madler","Madonia","Madrelle","Maehl","Maertens","Maes","Maestoni","Maffei","Maffeis","Maffi","Magaglio","Maganas","Magaudin","Magel","Magellan","Magherini","Magliorie","Magnaldi","Magnano","Magnanti","Magne","Magnoni","Magoni","Magos","Magre","Maguadin","Maharis","Mahlenkamp","Mahler","Mahlke","Maia","Maichel","Maidalchini","Maiello","Maier","Maignart","Maillard","Maini","Maiotti","Mair","Maisinger","Maissoneuve","Maitan","Maitani","Maitra","Maiuri","Maj","Majarelli","Majella","Majer","Majerhoffer","Makarezos","Makk","Makrigiannis","Mala","Malabranca","Malachias","Malan","Malanie","Malaparte","Malassis","Malatesta","Malatestiano","Malaurie","Malcher","Maldini","Malecot","Maleeva","Malek","Malenfant","Malet","Malhaven","Malherbe","Malhuret","Mali","Maliagros","Malisse","Mallarm","Mallebisse","Mallen","Mallenbrandt","Mallet","Malleville","Mallilie","Mallon","Malloni","Mallory","Malmert","Malon","Maloros","Malraux","Malschaert","Malvallet","Malveaux","Malveisin","Malyne","Malz","Mamilus","Maminot","Mamula","Manacorda","Mananius","Mancina","Mancuso","Mandeviel","Mandeville","Mandin","Mandruleanu","Mandula","Maneilli","Manet","Manetta","Manette","Manetti","Manfredi","Mangakis","Mangin","Mangoni","Maniani","Manin","Manis","Maniu","Manjani","Mann","Manneilli","Mannelli","Mannini","Mannino","Manoury","Mans","Mansel","Manselli","Mansi","Manstein","Manta","Mantanye","Manteau","Mantegna","Mantel","Manteri","Mantori","Manucci","Manus","Manzenberger","Maraennius","Marais","Marandici","Marat","Marcauld","Marceau","Marcelin","Marcellus","Marchand","Marchetti","Marchmain","Marchs","Marci","Marciano","Marck","Marconnet","Marcott","Marcoullides","Marcovicci","Marcrina","Marcucci","Mardas","Marence","Mares","Maresca","Marescot","Marfaing","Marga","Margaglio","Margas","Margreiter","Marguenaut","Marguin","Maria","Mariage","Mariani","Marielle","Mariette","Marigny","Marillac","Marin","Marinatos","Marinelli","Marinello","Marineo","Marinescu","Marinetti","Maringhi","Marinis","Marinova","Marion","Mariotto","Maris","Marisco","Marishta","Maritz","Marius","Markezinis","Markgraaf","Markhov","Markoulides","Markoullides","Markovits","Marku","Marletti","Marliere","Marnet","Marocchi","Marolles","Marose","Marot","Marquad","Marquand","Marques","Marrone","Marrot","Marrou","Marseille","Marsellis","Marsellise","Marsolais","Marsuppini","Marsuryn","Martel","Marteling","Martelli","Martelot","Martens","Martense","Marti","Martikorena","Martin","Martineau","Martineaud","Martinella","Martinelli","Martinello","Martinena","Martinengo","Martinet","Martini","Martis","Marunde","Maruri","Marville","Maryon","Masaccio","Masarenhas","Mascagni","Masci","Mascolo","Masdeu-Arus","Masini","Maske","Masolino","Maspero","Massarelli","Massari","Massenet","Massoni","Massuthe","Mast","Mastersly","Maston","Mastroianni","Masur","Matacena","Matagne","Matarazzo","Matarrese","Mateau","Mateescu","Mathan","Mathes","Mathierry","Mathis","Mathou","Mathy","Matia","Matias","Matine","Matisse","Matius","Matreinace","Mattens","Matteotti","Mattern","Matthijse","Matthyssen","Matthyssens","Mattier","Matton","Mattus","Matyus","Matzenkopf","Maubenc","Maucroix","Maudit","Mauduit","Mauelshagen","Maul","Maunsell","Maupassant","Maurard","Maurer","Mauresmo","Maurhoffer","Mauri","Mauritzen","Maurois","Maurouard","Maurtua","Mauser","Mautner","Mautravers","Mauve","Mavine","Maviniele","Mavridou","Mavrogordatos","Mavrokordatos","Mavromikhalis","Mavros","Mavroudis","Maxharraj","Maxhuni","Maximos","Maxse","Maynet","Mayr","Maysinger","Mazan","Mazarello","Mazarin","Mazas","Mazeri","Mazerolle","Mazilu","Mazin","Mazure","Mazza","Mazzocchi","Mazzolani","Mazzon","Mazzucato","Meabe","Mechitbayeva","Meco","Mecs","Medeiros","Mediate","Medici","Medilus","Medley","Medrano","Medtner","Meens","Meerapfels","Meerschaert","Meersman","Mees","Meesen","Meessens","Meet","Meeuws","Megroedt","Mehrtens","Meidani","Meidl","Meier","Meilink-Roelofsz","Meillet","Meimberg","Meinecke","Meinhut","Meintjies","Meireles","Meirelles","Meirte","Meise","Meisener","Meisner","Meiss","Meissen","Meissner","Meissnitzer","Meissonier","Meistreich","Meklau","Meksi","Melandri","Melas","Melchiot","Melennec","Meletoglou","Meletoglu","Meley","Melikis","Melinte","Melis","Melissanides","Mellemans","Mellenthin","Meloncelli","Melsen","Memlinc","Memmi","Memmoli","Menant","Mendariz","Mendaza","Mendazona","Mendel","Mendelsohn","Mendes","Mendialde","Mendibe","Mendiburu","Mendiola","Mendizabal","Mendy","Mends","Mengele","Menichelli","Menico","Menicossa","Menillet","Menjou","Mennes","Mennesson","Menocchio","Menoit","Menou","Menuel","Meoli","Meoni","Mercatel","Mercati","Mercator","Mercedene","Mercie","Mercier","Mercken","Merckx","Mercouri","Meregalli","Mergeni","Merguillier","Meri","Merici","Merick","Merico","Meriel","Merivel","Merizzi","Merk","Merkel","Merklein","Merkler","Merle","Merleau","Merlin","Merlini","Merri","Merrien","Merschdorf","Merselis","Merselius","Merstorff","Merteberge","Mertillot","Merukides","Mervial","Merville","Mervis","Meser","Meshkalla","Mesmin","Mesnage","Mesnard","Mesnier","Messeker","Messerschmidt","Messimeris","Messmer","Messori","Messuti","Mestres","Metarapi","Metastasio","Metaxas","Metayer","Metelman","Metivier","Metman","Mets","Metsalaer","Metsys","Metterling","Metternich","Metting","Mettler","Metz","Metzler","Meul","Meulan","Meuleman","Meules","Meulmans","Meunecker","Meunier","Meurent","Meurer","Meurice","Meurisse","Mevavius","Meverel","Mey","Meyer","Meyerbeer","Meyers","Meynderts","Meys","Meysinger","Meyskens","Meystrell","Mezzatesta","Micaux","Miceli","Michacoff","Michaelis","Michelet","Michelozzi","Michelozzo","Michels","Michielssens","Michielszen","Michon","Mickler","Middag","Middelkamp","Middleton","Miedema","Miedl","Miegge","Mielde","Miere","Mierisch","Miglioli","Migliorati","Mignard","Miguelena","Mihail","Mihaili","Mihailov","Mihalcea","Mihnea","Mihura","Mikalis","Mikhalakopoulos","Miklos","Miko","Milano","Milazar","Milcu","Milde","Milea","Milielle","Militis","Millberg","Miller","Millin","Millot","Milosovici","Milvan","Minali","Minardi","Mindszenty","Minelli","Miner","Mingeon","Mingeroedt","Minghetti","Miniato","Minie","Minnaar","Minnelli","Mintyin","Minutillo","Minutius","Mionnet","Mirabeau","Mirbeau","Mirbt","Mircea","Miriuta","Mironescu","Mirwald","Misch","Mishaxhi","Misiano","Missaghi","Missonnier","Mitkova","Mitrou","Mitsotakis","Mitterand","Mittermayer","Mitterwallner","Mitxelena","Mjoberg","Mladenov","Mobec","Mocca","Moceanu","Modano","Modeste","Modica","Moeflehner","Moellendorff","Moeller","Moelling","Moens","Moenssens","Moerenhout","Mohr","Mohrhaus","Moinard","Moion","Moirin","Moldovan","Moleg","Molenaar","Moliekens","Molinari","Mollais","Mollaret","Mollat","Mollema","Moller","Mollet","Mollica","Molnar","Molose","Monachino","Monaco","Monaldi","Monami","Monasta","Monasterio","Monbault","Moncassin","Monceaux","Moncel","Moncelle","Moncey","Monchaty","Monciaux","Moncoutie","Mondello","Mondolfo","Mondragon","Monero","Monet","Monighetti","Moniotte","Monomachus","Monstrose","Mont-Canisi","Montacute","Montagnana","Montagnani","Montagne","Montaigu","Montand","Montanje","Montarbault","Montbrai","Montclair","Monteiro","Montella","Montero","Montet","Monteux","Montfiquet","Montfort","Montgomery","Montgommeri","Montgren","Montgrun","Monti","Monticelli","Montieu","Montillet","Montminy","Montorsi","Montrosier","Montue","Moorcroft","Mor","Morais","Morandi","Morariu","Morascel","Moratti","Moravia","Morbidelli","Mordasini","Moreau","Moret","Moretti","Morfin","Morgenthau","Morgia","Mori","Morier","Moriero","Morillo","Morillon","Morin","Morina","Morisett","Morisot","Morlock","Moro","Moron","Morone","Moroni","Morosini","Morphew","Morra","Morrad","Morrard","Mortagne","Mortain","Mortemer","Mortier","Mortieu","Mortmain","Morvoisieux","Mosbauer","Mosca","Moscati","Moschino","Moscopolis","Mosse","Mota","Motevassel","Mothron","Motierre","Mouffe","Mouligne","Moulu","Mouly","Moumoulidis","Moura","Mourge","Mouriou","Mouritse","Mouschard","Moushine","Mousson","Mouterde","Mouwerson","Mowerson","Moyaux","Mozzafiato","Mripa","Mronz","Mucedent","Muche","Muehlberg","Muehlegg","Muel","Mueller","Muessig","Mugica","Muguruza","Muhaburu","Mujushi","Mul","Mulazzoni","Mulch","Mulder","Mullenhoff","Muller","Munchow","Mundo","Munduarte","Munia","Municus","Munier","Munkcsi","Munneville","Munoa","Munteanu","Munteaunu","Muntz","Munz","Muraro","Murat","Murati","Muratoni","Murdac","Murgu","Murialdo","Muric","Murien","Murri","Murric","Murrius","Murrone","Murzaku","Musante","Musard","Musart","Muscat","Muscetta","Muscio","Musco","Muscouri","Muselier","Muskens","Muslimi","Musrri","Mussegros","Musser","Musset","Mussi","Mustel","Muti","Myers","Mylin","Mylonas","Mytens","Mytorena","Mnard","Mtraux","Mhler","Mhle","Mller","Mnster","Naborius","Nachbauer","Nadeau","Nadelhoffer","Naegeli","Naertens","Nafpliotis","Nagel","Nagle","Nagy","Nainkin","Nallbani","Nalskin","Nana","Nanclares","Nankov","Nannini","Nano","Napoleoni","Napolitano","Narbarte","Narbitz","Narcien","Nardello","Nardiello","Nardini","Nardo","Nardone","Nargeolet","Nargiso","Narr","Nashrith","Nastase","Nathans","Natien","Natoli","Natta","Nattier","Nattore","Natxiondo","Naude","Naudts","Naugle","Naumann","Nautin","Navarra","Navarre","Navarrete","Navascues","Naveau","Navegero","Naville","Nazon","Nai","Neacsu","Neagoe","Nebe","Nebiolo","Nechita","Neckel","Nederstatter","Nedry","Neethling","Neezer","Nef","Negret","Negris","Negro","Negura","Negutesco","Neirinck","Nejedly","Nelis","Nelk","Nelond","Nemeth","Neot","Nerciat","Neri","Nerius","Nerlinger","Nero","Neroni","Nerva","Nesdin","Nesi","Nesimi","Nesselman","Nessler","Nesta","Nesti","Nestoret","Nestroy","Neth","Netinian","Neto","Neubert","Neufmarche","Neumann","Neumayer","Neuner","Neuss","Neustatter","Neuville","Neuwenschwander","Neves","Nexhipi","Niarkhos","Nica","Niccoli","Nichetti","Nickel","Nicolae","Nicoletti","Nicoli","Nicollet","Niculaie","Niculescu","Nieberg","Niedernhuber","Niederstatter","Nielandt","Niemann","Niemeyer","Nienaber","Niert","Nieto","Nieuwenhuys","Niewendyk","Nijs","Nikolaides","Nilis","Nimmegeer","Nimtz","Niquet","Nisirrien","Nistor","Nitschke","Nitze","Nivard","Nivel","Nivelon","Nixon","Nizan","Nnano","Nobile","Nobilo","Noe","Noellaume","Noica","Noirault","Noiret","Noldt","Noli","Nolt","Nonneman","Nooja","Noordholt","Noorlander","Nordhagen","Nordien","Nordin","Noriac","Norling","Normar","Northwind","Norval","Nosebreaker","Noszaly","Nota","Notabartola","Noteboom","Notte","Novalskin","Novatian","Noyers","Nucci","Nuhiji","Nuin","Numan","Nunes","Nunho","Nunier","Nurin","Nussbaum","Nuti","Nutiu","Nuvolari","Nuyts","Nyffenegger","Nyilas","Nyilasi","Nys","Nyssen","Nytte","Ndasdy","Nlaton","Oar","Oberacker","Oberhammer","Oberhofner","Oberholtzer","Oberle","Oberman","Obermoser","Ocamica","Occhena","Oceano","Ocella","Oclatinus","Octavinua","Odenthal","Odescalchi","Odette","Odilo","Oeggl","Oelsner","Oertel","Ohrenstiel","Oiharzabal","Oimeracz","Oisconta","Ojacarcu","Olaru","Olazabal","Oldekop","Olibarri","Olinger","Oliveira","Olleris","Ollivier","Olteanu","Oltz","Omand","Omoboni","Onaindia","Onassis","Oncent","Ondare","Ondarra","Ondoro","Ondre","Ondruj","Onfroi","Ongenae","Onghena","Onis","Onodi","Onorati","Oosterhuis","Oosterling","Oosteroom","Oostinge","Opacarius","Ophoven","Ophuysen","Oprel","Opsomer","Oramuno","Oranius","Orati","Orbeta","Orczy","Ordina","Ordoki","Oreaga","Oreille","Oremans","Oresme","Ori","Oria","Orinth","Orioli","Oris","Oristano","Orlandi","Orlando","Orlebar","Ormond","Orphanides","Orsi","Ortelli","Ortleib","Orzaiz","Osa","Osadci","Oscent","Oseku","Oshin","Osinalde","Osmochescu","Osmond","Osmont","Ostendarp","Ostendorp","Ostenstad","Osterloh","Ostrum","Otegui","Oteiza","Otero","Othon","Ottini","Ottke","Ottoboni","Ottoz","Otxoa","Oubouhou","Oudant","Oudet","Oudinot","Oudshoorn","Ougier","Ouijer","Ouimette","Ouistreham","Ouke","Ouren","Ouvier","Overmars","Overresch","Ovidiu","Oxanguren","Oxinos","Oyarzun","Ozera","Pacaut","Pacelli","Pacho","Pacio","Pacome","Padovano","Paers","Paes","Paesen","Paey","Pagadigorria","Pagani","Paganin","Paganini","Pagliuca","Pagnamenta","Pagnol","Paguaga","Paillard","Pain","Painel","Paisi","Paix","Paixdecouer","Pajaud","Pajetta","Pajonk","Pakula","Paladino","Palagyi","Palairet","Palamas","Palen","Palermo","Palet","Palgani","Paling","Palladio","Pallavicini","Pallegoix","Pallenberg","Pallis","Pallotti","Palmarocchi","Palmas","Palminteri","Palmkoek","Paloka","Paluari","Palumbo","Paluzzi","Palologue","Pamarc","Pamfili","Pampoldi","Pan","Panagiatopoulos","Panagiopoulou","Panagiotopou","Panagou","Panagoulias","Panagoulis","Panaotis","Panatta","Panavoglou","Panayi","Panayides","Panayiotopoulos","Panayiotou","Pancaldi","Pancevolt","Panciroli","Pandy","Paneira","Paneloux","Pangalos","Pangratiu","Panis","Panitte","Panizzi","Panoit","Pantani","Panteleo","Pantoliano","Pantoul","Panzanini","Paoli","Paolillo","Paolozzi","Paolucci","Papadakis","Papademetriou","Papadias","Papadopolos","Papadopoulos","Papadoupolos","Papafagos","Papageorgiou","Papagos","Papakostas","Papamichael","Papanastasiou","Papandreou","Paparelli","Papareschi","Papasogli","Papasotiriou","Papatamelis","Papathanassiou","Papelion","Papi","Papon","Papoulias","Pappas","Pappou","Paradis","Parasca","Parastadidis","Paravicini","Parelli","Parentucelli","Parenzan","Parillaud","Parini","Paris","Parlevliet","Parmentier","Parrela","Parrilla","Parrottin","Parry","Parthenai","Partino","Partos","Paruzzi","Paschal","Paschini","Paschke","Pascolo","Pasiacus","Pasinetti","Paskalev","Pasolini","Pasquetto","Pasquier","Passemier","Pastforeire","Pastor","Pastoral","Pastorelli","Pasturei","Patella","Paterculus","Pathierry","Patitucci","Paton","Patrescu","Patriarco","Patricio","Patris","Patroni","Pattakos","Patti","Paty","Patzwahl","Pauker","Paulen","Pauleta","Pauli","Paulino","Paulot","Paulse","Paulus","Paumera","Paumier","Pauwels","Pavel","Pavelle","Pavenic","Pavlakakis","Pavlenco","Pavoni","Pazanini","Pazzi","Pazzio","Pecchia","Pecci","Peccoth","Pecely","Peche","Pechsteinn","Peco","Pedane","Pedarzolli","Pedercini","Pedrazzini","Pedrazzolli","Pedrotti","Peers","Peesmeesters","Peeters","Pegoretti","Peiffer","Peirsman","Peis","Peiser","Peissel","Peithner","Peixe","Peixoto","Peizerat","Pelchat","Pelius","Pellegrin","Pellegrino","Pelletus","Pellico","Pellingare","Pellissier","Pelloutier","Pelous","Peloux","Peltrasius","Penaud","Penchev","Pencreach","Pendareva","Pendlesmith","Penev","Pennant","Penne","Penneman","Penni","Penot","Pensotti","Pentcheva","Pentzopoulos","Penucci","Pepin","Pepke","Perani","Perathoner","Perci","Perea","Perec","Pereira","Peretti","Perfelti","Perfetti","Perie","Perls","Pernaska","Perpoli","Perreau","Perrer","Perrey","Perri","Perrick","Perrier","Perrin","Perrini","Perrone","Perrot","Perroy","Persyn","Perteau","Pertile","Pertoni","Pertorini","Pertuiset","Peruzzi","Pesaresi","Pescariu","Pesch","Pescheux","Peschisolido","Pesci","Pescosolido","Peslier","Pesmazoglou","Pesotta","Pessao","Pesseingimpel","Pessoa","Pessotto","Peteira","Petellia","Peterhansel","Peters","Peterse","Peterson","Petilius","Petilon","Petiot","Petit","Petitclerc","Petito","Petkov","Petofi","Petrahn","Petrarco","Petrela","Petremol","Petrescu","Petri","Petrocelli","Petroni","Petrou","Petrova","Pettit","Peu","Peugniez","Peveril","Pevrel","Peyron","Peyrot","Pezzo","Pfaff","Pfaller","Pfeffer","Pfeifenberger","Pfeiffauf","Pfeiffer","Pfeil","Pfeiler","Pfister","Pheraios","Phien","Phiencel","Phiesel","Philarghi","Philibert","Philida","Philipousis","Philippe","Phippaerts","Pianta","Piantini","Picard","Picavet","Piccinini","Piccoli","Piccolomini","Pichner","Pichois","Pichot","Picollet","Picot","Picotin","Picotti","Pictor","Picvini","Piech","Piel","Pienaar","Piepoli","Pier","Pierdomenico","Pierel","Pierides","Pierleoni","Pierotti","Pierozzi","Pierpaoli","Pierpoali","Pierpoint","Pierrepont","Piersens","Pierterse","Piessens","Pieters","Pieterse","Pietersen","Pieterszen","Pietramellana","Pietris","Pigafetta","Pigeonnier","Pignatelli","Pigorel","Pilaet","Pilar","Piller","Pilon","Pilsner","Pinard","Pincemail","Pinel","Pinette","Pingaud","Pininferino","Pinochet","Pinon","Pinot","Pinquier","Pinte","Pinto","Pioline","Piontelli","Piota","Piovani","Pipa","Pipin","Pipinelis","Pippery","Piquereau","Piquiri","Pirandello","Pirelli","Pires","Pirktl","Piroth","Pirouet","Pirovano","Pirvu","Pisa","Pisanello","Pisani","Pisano","Pischetrieder","Pisciotta","Pisont","Pistilli","Pistohlkors","Pistone","Pistres","Pithou","Pitje","Pitta","Pittakis","Pittakys","Pitteaux","Pitti","Pittoni","Pitu","Pitzi","Pizzichini","Pizzolato","Pizzoli","Pizzonia","Pizzul","Pidalu","Plafox","Plage","Planche","Planchenault","Planicus","Plankensteiner","Plasait","Plaschke","Plastiras","Platina","Platorius","Platz","Platzdasch","Platzer","Plavius","Plaziat","Plescan-Popa","Pleshette","Plesseraud","Plesu","Plettenburg","Plischke","Pllana","Pllumi","Ploegmakers","Plone","Plotius","Plouff","Plourde","Plouviez","Pluchet","Plucknet","Plchl","Poccetti","Pocoli","Poda","Poenius","Poer","Poestinger","Poeze","Pogiali","Pohl","Poidebard","Poignant","Poilblan","Poillei","Pointel","Poiret","Poitevin","Poitier","Pojani","Pokolytsch","Polandi","Poli","Polichnai","Polides","Polidori","Politti","Poliziano","Pollaiuolo","Pollini","Polo","Polster","Poltari","Polycarpous","Polychroniadis","Polychroniou","Polydorou","Polymeropoulos","Polymeru","Polyzou","Pomardi","Pomars","Pombal","Pometti","Pomi","Ponchielli","Pongratz","Pons","Pont","Pontchardon","Ponti","Pontifio","Pontillon","Pontoni","Ponty","Pooe","Poortman","Popescu","Popillius","Popotas","Popov","Popovici","Poppe","Poppmeier","Porcaro","Porcellato","Porchianelo","Poret","Porfirio","Porpurogenitos","Porro","Port","Portefait","Portenier","Posch","Poschner","Poserina","Possenti","Postel","Postinger","Postma","Postmael","Potgeiter","Poth","Potiorek","Potthof","Pouchet","Poudrier","Pouget","Poujade","Poujoulet","Poujouly","Poulet","Poulse","Poulsen","Poulus","Pouqueville","Pourchet","Poussin","Pouwelse","Pouzade","Pouzou","Powelse","Pozzi","Pozziano","Prada","Praet","Prandjeva","Prandzheva","Prantera","Prat","Pratkanis","Praul","Prazeres","Preaux","Preda","Preiss","Prela","Prenkpalaj","Prentus","Presecan","Presle","Presser","Prestcote","Prestes","Pretorius","Pretzsch","Prevalakis","Prevette","Previa","Prevoost","Prevot","Priaulx","Prideaux","Priebke","Prieler","Priemer","Prifti","Prignano","Prihoda","Primaticcio","Primeau","Primikynos","Prinosil","Prins","Prishtina","Privat","Probst","Prock","Prodan","Prodoprigora","Profanter","Profis","Prohaska","Prokler","Prolat","Propenzicotti","Properzi","Proriol","Prost","Protesi","Proust","Provins","Provolone","Provoost","Provost","Proximus","Prugger","Prunea","Prys","Psaquale","Psara","Psaros","Psaroulakis","Pucci","Puccini","Puchot","Puetz","Puget","Puggioni","Puglisi","Pujol","Pukstys","Pula","Pulis","Pulisfelt","Pulle","Pullo","Pulszky","Pundus","Punga","Puravet","Puscasu","Pusterla","Putignani","Putzer","Puylaert","Puymbroek","Pzmny","Plissier","Pricard","Pcsin","Qosja","Quackenbosch","Quarra","Quasten","Quebbemann","Queneau","Quenhenerve","Quentin","Quesnel","Questi","Quettius","Quilleboeuf","Quincarnon","Quinl","Quint","Quintilius","Quintin","Quirin","Quivremont","Raab","Rabbi","Raco","Radacanu","Radini","Radu","Raducioiu","Radulescu","Raeder","Raes","Raetus","Raev","Rafelen","Raffone","Ragar","Raggio","Ragon","Ragusa","Raich","Railon","Raimbeaucourt","Raiment","Raimundi","Rainaducci","Raindl","Rainecourt","Rainer","Rainmayr","Rakosi","Rakovski","Raleigh","Ralli","Rallis","Rama","Ramaalas","Ramadani","Raman","Rambert","Rambouze","Rameau","Ramelle","Rames","Ramet","Ramos","Rampal","Rampolla","Randa","Randi","Rangelov","Rangifer","Rangosch","Rangouze","Ranicki","Ranius","Rannequin","Rantaine","Rantzen","Raoullin","Raoux","Rapalje","Rapareillet","Raphanel","Rapisardi","Rapnouil","Rappeneau","Rarnis","Rasch","Rassent","Rassow","Rast","Rastelli","Rastignac","Ratel","Ratti","Rau","Rauch","Rauh","Rault","Rausis","Rautenstrauch","Ravanelli","Ravel","Ravenot","Ravon","Rdzsavolgygi","Re","Rea","Reale","Reaume","Rebagliati","Rebeelin","Rebellin","Reber","Rebholz","Reburrus","Rechiche","Reck","Recker","Redain","Redeker","Redhands","Redik","Regalo","Regel","Regnault","Rehberg","Rehn","Reich","Reichard","Reichel","Reicher","Reichhardt","Reiff","Reijerss","Reiler","Reille","Reimer","Reinelt","Reiner","Reineri","Reinhardt","Reinke","Reinstadler","Reinstadtler","Reis","Reiss","Reiter","Reithoffer","Reitz","Reize","Reizenstein","Reiziger","Reizinger","Relin","Relippe","Remesey","Remesy","Remly","Remmel","Remmelts","Remond","Remusat","Remy","Ren","Renald","Renan","Renaud","Renaudas","Renaudie","Renaudin","Renault","Renders","Rendich","Rener","Reni","Renier","Renimen","Renkens","Renner","Rennes","Renoir","Renoit","Renold","Renoth","Renouard","Renouf","Renzenbrink","Reparaz","Rernis","Resende","Resink","Reski","Respighi","Respigli","Restane","Restault","Restencourt","Retel","Retene","Retiene","Rettan","Rettenwender","Retzner","Reufi","Reusing","Reuter","Revel","Reviers","Revol","Rexhepi","Rey","Reyer","Reyers","Reynaud","Reyneaux","Reyner","Reyns","Rezessy","Rezzori","Rhoodie","Riano","Riario","Ribbe","Ribeiro","Ribhegge","Ribot","Ribsi","Ricci","Ricciardi","Ricciolo","Ricco","Richard","Richaut","Richelieu","Richelmi","Richemont","Richepin","Richert","Richir","Richter","Rickert","Ricklefs","Ricordi","Riddenaer","Ridnaer","Ridolfi","Riebou","Riedel","Riederer","Riedle","Riedman","Riefenstahl","Rieff","Riege","Rieger","Riegler","Riehl","Rielle","Rienks","Ries","Rieser","Rieux","Rigaudias","Rigaudiere","Righetti","Righini","Rihm","Riina","Rijkaard","Rilian","Rilla","Rimbaud","Rimbert","Rimeaux","Rindel","Rinuccini","Rios","Rioseco","Ripanu","Ripnu","Rippel","Rippner","Rirniel","Riscel","Riske","Rissiel","Ristani","Ristenbatt","Ristenblatt","Rith","Ritschel","Ritsma","Ritter","Rittinger","Riu","Riucu","Rivaldo","Rivette","Riviere","Rivire","Rizzi","Rizzo","Roachant","Roard","Robberts","Robel","Robert","Robins","Roblou","Rocchigiani","Rocco","Rocha","Rochant","Roche","Rochebloine","Rochefort","Rochkes","Rochon","Rockmeier","Rocque","Rodier","Rodin","Roding","Rodledo","Rodocanachi","Rodrigues","Roeges","Roegiers","Roeloffs","Roelofs","Roelofse","Roels","Roerich","Roethlisberger","Roga","Roger","Roggeveen","Roghi","Rogiers","Rog","Rohde","Rohland","Rohlander","Rohre","Rohrer","Rohwer","Roig","Rolaine","Rollenhagen","Rollin","Rollinat","Rolnik","Rom","Roman","Romanelli","Romano","Romanov","Romanon","Romary","Rombaut","Rombley","Romboni","Romenel","Romeyn","Romme","Rommel","Romp","Rom","Ronay","Roncalli","Roncero","Ronchetti","Ronchi","Rond","Rondeaux","Rondinella","Rondinelli","Ronet","Ronhaar","Ronise","Rooman","Rooms","Roorda","Roos","Roosmalen","Roquentin","Roreles","Rorendaal","Rorielle","Ros","Rosa","Rosai","Rosch","Roschmann","Roselli","Rosen","Rosenbaum","Rosendaal","Rosener","Rosenfeld","Rosentius","Rositzke","Roskopf","Rosler","Rosmer","Rosner","Rosolen","Rosolino","Rospigliosi","Rossano","Rossellino","Rossen","Rossetti","Rossito","Rosskopf","Rossouw","Roster","Rosza","Rotheberg","Rothfels","Rotholz","Rotsch","Rottenberger","Rotthier","Rottier","Roty","Rotzsch","Rou","Rouaix","Rouard","Rouart","Roubel","Rouestoff","Roufosse","Rouget","Rouillac","Rouille","Rouleau","Roumet","Roupardin","Roussel","Rousset","Rouvire","Rouwens","Roux","Rovigo","Rrustemi","Rubalcaba","Rubbi","Rubik","Rucelli","Ruchendorf","Rucker","Rudhart","Rueckl","Ruegsegger","Ruehe","Ruel","Ruff","Ruffo","Rufillo","Rufin","Rufus","Ruge","Ruggieri","Ruggioni","Rugiero","Rugova","Rui","Ruicu","Ruimschoot","Ruinart","Ruiz","Rulician","Rulon","Ruman","Rumpelmeier","Rumpff","Rundstedt","Runeville","Runggaldier","Rupp","Rupprath","Ruqueville","Ruschin","Rusone","Rusonius","Ruspoli","Russi","Russinov","Russo","Rust","Rutan","Rutgeerts","Ruth","Ruthgeerts","Ruychou","Ryckaert","Rycke","Rye","Ryer","Ryersen","Ryke","Ryzhenkov","Rzehak","Rvay","Rdinger","Rhm","Rhricht","Rsslar","Rdiger","Saal","Saarloos","Sabato","Sabau","Sabin","Sabre","Saby","Sacchetti","Sacchi","Sacco","Saccus","Sachs","Sachse","Sack","Sackel","Sacquerville","Sacramento","Sacratini","Sadiku","Sadiraj","Sadourny","Sagastizabal","Sagastui","Sagebrecht","Saggau","Sagi","Saglier","Sagues","Saguna","Saia","Saint-Andre","Saint-Clair","Saint-Germain","Saint-Helene","Saint-Leger","Saint-Ouen","Saint-Quentin","Saint-Sanson","Saint-Valeri","Saint-Waleri","Sainte-d'Aignaux","Saisset","Saklin","Sala","Salaberri","Salazar","Salerou","Salieri","Salihu","Salimbeni","Saliu","Salles","Saltsidis","Salutari","Salvador","Salvarani","Salvenmoser","Salviati","Salvitto","Salvoldelli","Salzenstein","Salzgeber","Samari","Sammer","Samos","Sampaio","Sampras","San","Sanassis","Sandel","Sanderse","Sandor","Sandschulte","Sandulescu","Sanga","Sangier","Sanguinacco","Sanguinetti","Sansone","Sansovino","Santerre","Santon","Santopadre","Santorio","Santos","Santoso","Sapani","Sapia","Sapiara","Sapszon","Sapunxiu","Sarac","Sarakatsani","Saraphis","Sarasketa","Sarasua","Saraulla","Sardini","Sardzetakis","Sarf","Sarino","Saro","Sarrazin","Sarretti","Sarria","Sarris","Sartain","Sarto","Sartoretti","Sartre","Sartzetakis","Sarus","Sassetti","Sassmanshausen","Sastre","Satiro","Sattler","Sattmann","Sauer","Sauerland","Sauli","Saulinia","Saunier","Saurine","Saury","Sauvage","Sauvagie","Sauvaigo","Sauvigni","Sava","Savakis","Savalos","Savelli","Savich","Savino","Savio","Savoldelli","Savonarola","Savu","Savvides","Sawallisch","Saylor","Sbarro","Sbokos","Scacceri","Scacht","Scaduto","Scaeva","Scala","Scalfaro","Scalia","Scaligeri","Scallini","Scalvini","Scarabelli","Scarlatti","Scarpa","Scarsella","Scavius","Schacht","Schachte","Schact","Schactschneider","Schad","Schaecter","Schaedel","Schaeffer","Schaekers","Schaelles","Schaenzer","Schaers","Schaffhauser","Schaffrot","Schaillee","Schalger","Schalken","Schaller","Schams","Schantz","Scharer","Scharping","Schaub","Schaut","Schavillie","Schbert","Schechter","Scheepers","Scheer","Scheerders","Scheers","Scheffers","Scheffler","Schefold","Schega","Scheideler","Scheidler","Schelfaut","Schelfhout","Schell","Schellenberg","Schelling","Scheltens","Schenck","Schenk","Schenkel","Schepfel","Scherich","Schermerhorn","Scherpenberg","Schett","Schettina","Schiaffino","Schichegger","Schied","Schiegl","Schiemann","Schiff","Schifferer","Schilchegger","Schillebeeckx","Schiller","Schilling","Schillinger","Schimmel","Schimpf","Schindelar","Schindewolf","Schindler","Schinkel","Schlarp","Schlauch","Schleisher","Schlesser","Schliefen","Schlieffen","Schliemann","Schliessmann","Schlneicher","Schlomer","Schlotterbeck","Schluchter","Schluep","Schluetter","Schlyter","Schlndorff","Schmalhausen","Schmaltz","Schmalzl","Schmelling","Schmetzer","Schmidinger","Schmidling","Schmidt","Schmitt","Schmitz","Schmollinger","Schnabel","Schneider","Schnell","Schnerb","Schnicker","Schnurre","Schockemohle","Schoeeser","Schoeman","Schoencher","Schoene","Schoert","Schoesser","Schoettlekotte","Schoffel","Scholde","Scholey","Scholkopf","Scholl","Schollenberger","Scholliers","Scholten","Scholters","Scholze","Schone","Schonen","Schonenberger","Schonlebe","Schoon","Schoonmaker","Schoonvliet","Schopp","Schopper","Schott","Schottel","Schouten","Schramm","Schrattenthaler","Schreiner","Schriter","Schroder","Schroff","Schroter","Schroyens","Schuch","Schuck","Schuerbrock","Schuerman","Schuetzenuer","Schuiling","Schulberg","Schuld","Schulde","Schulden","Schuler","Schulhauser","Schuller","Schulster","Schult","Schulte","Schulten","Schultz","Schulze","Schumann","Schummer","Schuncke","Schuschnig","Schusetka","Schuster","Schut","Schutte","Schuttler","Schutzhauer","Schuyler","Schwab","Schwacke","Schwaiger","Schwarz","Schwarzacher","Schwarzenberger","Schweisser","Schwetschenau","Schyourt","Schpp","Schltz","Sciama","Scifo","Scilacci","Scimeca","Sciorra","Scolari","Scolland","Scorsese","Scotti","Scotto","Scraeg","Scragenheim","Scrots","Scrovegni","Scuderi","Sebok","Secci","Secretario","Secundus","Secunia","Seedorf","Seelig","Segala","Segel","Segers","Seghers","Segura","Seguro","Seibel","Seiberling","Seibold","Seidel","Seidelman","Seidl","Seidler","Seifert","Seigner","Seigre","Seiler","Seillier","Seipel","Seitz","Seizinger","Sejko","Sele","Seletto","Selezeanu","Selimi","Sell","Sellan","Sellecca","Selmani","Selymes","Semitecolo","Sena","Senarpont","Sendris","Sene","Seneca","Senglin","Senlis","Senner","Sensenig","Sensini","Senteildis","Sentulus","Senue","Sephinie","Seppelt","Sept-Meules","Seran","Serato","Serban","Serbanescu","Serene","Sereny","Serfontein","Serielle","Serien","Serkin","Sermattei","Serontein","Serouge","Serpa","Serpe","Serraino","Serrault","Serre","Serrou","Serro","Sertori","Sertorius","Serusclat","Serven","Servergnini","Sesa","Seseri","Sesma","Sette","Settignano","Settlemeyer","Seubering","Severand","Sextius","Seychelle","Seydoux","Seyerling","Seyouche","Sfondrati","Sforza","Sgattoni","Sgorion","Shaefer","Shala","Shaldon","Shehu","Sherk","Shermer","Shiebel","Shima","Shirk","Shkelyim","Shrantz","Shrapnel","Shreve","Shulku","Shundi","Shurte","Shurtze","Sialius","Siantos","Sibylla","Sicco","Sicho","Sicilianos","Sickedr","Sico","Sicurella","Sidonia","Sidot","Sidoti","Sidotti","Sidrey","Sieb","Siebert","Siebke","Siebmacher","Siebold","Siebos","Siedlmayer","Siemerink","Sievers","Sievert","Sighel","Signoret","Silane","Silanus","Silde","Silhouette","Siliqi","Silivasi","Silvey","Sima","Simaku","Simenon","Simenton","Simeonescu","Simiseph","Simmendinger","Simnel","Simoes","Simond","Simoneau","Simonet","Simopoulos","Simos","Sina","Sinatra","Singer","Siniel","Sinner","Sinnette","Sinopoli","Sintav","Siperco","Sipkens","Sippel","Sips","Sirakov","Sireyjol","Siries","Siro","Sirtis","Sirtoni","Sisto","Sittig","Sittler","Sjoerte","Sjsiengel","Skandalis","Skindstad","Skiotis","Skouloudis","Skouphas","Sleeuwaert","Slegers","Slesina","Slima","Sljivich","Sloothaak","Sloss","Slot","Slovensky","Smajlaj","Smedes","Smeets","Smekens","Smelser","Smerdel","Smet","Smidt","Smidts","Smit","Smuts","Sneden","Snel","Snoeck","Snoek","Snyder","Snyman","Soares","Sobrinho","Soergel","Soete","Soetens","Sogliano","Sohier","Sohnker","Soisson","Sokoll","Solagaistoa","Solaguren","Solari","Solazzi","Soldati","Soleil","Soleuze","Solinthia","Sollers","Sollomovici","Solomos","Soltesz","Solti","Solves","Solymosi","Some","Somer","Somm","Sommer","Somneri","Sondheim","Sonego","Sonn","Sonnefeld","Sonnenberg","Sonnes","Sonnino","Sonntag","Sooy","Sopa","Sophoulis","Sophus","Soranzo","Sordelli","Soreasu","Sorel","Soreni","Sospiri","Souar","Soula","Soulary","Soule","Soulette","Soulice","Soulie","Soulis","Sourdeval","Sourt","Sousa","Soutendijk","Souvaltzis","Soveral","Sos","Spagnol","Spagnuolo","Spaneth","Spano","Specht","Speckstadt","Spee","Speeck","Speek","Speer","Speicher","Speker","Spenard","Spengler","Sperafico","Speranza","Sperl","Sperner","Speth","Spielberg","Spier","Spijkers","Spindler","Spinelli","Spinello","Spirlea","Spiteri","Spitzaner","Spitzer","Spitzy","Spletis","Spoletiani","Spon","Spotelli","Sprecher","Springsteen","Spuri","Sptling","Squillari","Squillino","Staats","Staatsrat","Stabler","Stacye","Stadelman","Stadisch","Stadler","Stadlober","Staelens","Staes","Staessens","Stahl","Stahlberg","Stahlecker","Staier","Stallone","Stals","Stam","Stamanakis","Stambolieva","Stamboliski","Stamm","Stammel","Stanasila","Stancioff","Stanciu","Stanescu","Stanfelj","Stanga","Stangassinger","Stangel","Stankalla","Stanoytchev","Stapel","Stark","Stasi","Statlilia","Staubel","Stauber","Stauffer","Stauss","Stavrakis","Stavrianakis","Stavrianos","Stavrou","Steck","Steenbeck","Stefanelli","Stefaneschi","Steffy","Stefoniou","Stegar","Stegg","Steggall","Stegine","Stehle","Steibs","Steigauf","Stein","Steinbauer","Steinberg","Steinem","Steiner","Steinhauser","Steinhoffel","Steinmets","Steinschneider","Stelanie","Stelea","Stelymes","Stemuseph","Stenck","Stende","Stenger","Stenhammar","Stenneke","Stenric","Stental","Stentor","Stenz","Stephan","Stephanopoulos","Stepperfellt","Sterescu","Stergar","Sterling","Sternfeld","Sternhagen","Sterone","Sterrien","Stettin","Steuer","Steur","Stevens","Stevense","Stich","Stickl","Stieve","Stille","Stimets","Stinga","Stinzi","Stirnemann","Stiteller","Stober","Stockli","Stoeckl","Stoffels","Stoffler","Stoger","Stogrin","Stohl","Stoichita","Stoichkov","Stoickkov","Stoikos","Stojanov","Stoll","Stolle","Stolo","Stolojan","Stoltz","Stolz","Stompe","Stoneshaper","Storback","Storp","Stortebeker","Stot","Stourzh","Stoutenburgh","Stower","Stoyanov","Stoyanova","Strabo","Straet","Strakosha","Strambi","Strapoudopolos","Strashilova","Stratemaker","Stratis","Straub","Strauss","Straut","Strazzer","Street","Strege","Strick","Strijdom","Stritter","Strivelyn","Strobbens","Strobl","Stroebel","Strolin","Strolz","Stroo","Stropparo","Strossmayer","Stroubakos","Strovegni","Strub","Strunz","Struycken","Stryckers","Strydom","Strylemans","Stuckenschmidt","Stucker","Studer","Stuer","Stufa","Stufi","Stuhmiller","Stuhrepenberg","Stuiber","Stukely","Stumpf","Stumpfer","Sturmer","Sturms","Sturzo","Stuwaert","Stuyvesant","Styger","Stypers","Sttzer","Suastegui","Suchet","Suetens","Suffern","Suguenot","Sulejmani","Sulis","Sundhaussen","Supola","Surges","Surilie","Surille","Surin","Surroi","Suvaal","Suy","Suzman","Svarcz","Svetkova","Svetozar","Swaim","Swan","Swanepoel","Swarr","Swart","Swartwout","Swin","Swits","Switser","Switzer","Sybrandt","Sykes","Sykora","Syla","Sylaj","Sylbenitte","Sylberfain","Symons","Syourt","Syvret","Syx","Szabo","Szalai","Szalay","Szatmary","Szechenyi","Szekely","Szekeres","Szelepcsnyi","Szelig","Szeman","Szemere","Szigete","Szokefagy","Szucs","Szuhay","Szuhonkobecker","Sguier","Srusier","Sto","Taafe","Tabarant","Tabory","Tabraham","Tacchinardi","Tadini","Tadiotto","Taegert","Taelman","Tafaj","Taffarel","Taglialatela","Tagwerker","Tahiri","Tahon","Tailas","Tailbot","Tailies","Taillard","Taillebois","Taillepied","Taillez","Taillon","Talemelier","Talens","Talenti","Taliadoros","Talnarith","Taloet","Talvace","Tammerk","Tampke","Tamrith","Tanier","Tanlay","Tannenbaum","Tanse","Tantum","Tapanelli","Tappan","Tappen","Tappo","Tarantino","Tardif","Tardivel","Tarducci","Tare","Taricco","Tarkmann","Tarnat","Tarnaud","Tarquini","Tarrou","Tartaglia","Tartaxu","Tarus","Taschini","Tasso","Tatarescu","Tatari","Tathouris","Taube","Taubernberger","Taudenrauch","Tauler","Taument","Tauretto","Tauscher","Tauziat","Tauzin","Tavernier","Tavoularis","Teague","Tebbel","Tedaldo","Tedeschi","Teerlinc","Teetaert","Teeuw","Teeuwe","Tegliacci","Teichmann","Teischer","Teixeira","Telek","Teleki","Tellenbach","Teller","Telleria","Tellier","Temay","Temesvari","Temry","Ten Boom","Ten Brink","Ten Velde","Tenaillon","Tenucci","Teppe","Ter Bork","Ter Haar","Ter Linden","Terblanche","Tere","Terenther","Terheun","Terhune","Terminiello","Ternien","Terpstra","Terragni","Terrier","Terrot","Tersteeg","Terwilleger","Terzani","Terzin","Tescari","Teschendorff","Tessedik","Tessel","Tessier","Testavallia","Testud","Tettelbach","Tettelback","Tetzel","Teubert","Teubner","Teunis","Teuniszen","Teza","Thacher","Thaci","Thal","Thaler","Thaner","Thanou","Thaon","Thaqi","Theile","Theiner","Theis","Theloke","Thenardier","Thenephan","Thenitte","Theodopoulos","Theodorakis","Theophanous","Theothanou","Theotokis","Thereson","Theriot","Theron","Theroulde","Theroux","Theunis","Theusen","Thevenet","Theysson","Thibaudet","Thibault","Thibaut","Thibedeaux","Thibourst","Thiboust","Thiebaud","Thiel","Thielde","Thielens","Thielman","Thiers","Thiessen","Thijs","Thika","Thillot","Thiry","Thode","Thoen","Thoma","Thomas","Thomasse","Thomassin","Thoms","Thon","Thonis","Thonon","Thorel","Thorner","Thost","Throm","Thuel","Thul","Thulliez","Thuram","Thurneysen","Thurz","Thybault","Thyssen","Tibaldi","Tibbets","Tibbin","Tibon","Tibout","Tice","Tichelman","Tiedtke","Tiel","Tiele","Tieleman","Tiemessen","Tiepolo","Tietmeyer","Tietsort","Tihon","Tilba","Tilborch","Tilburg","Tilea","Tilele","Till","Tilleman","Tillens","Tilleti","Tilli","Tillini","Tillis","Tillman","Tilly","Timmer","Timmermans","Tinari","Tinel","Tintner","Tintoretto","Tiolier","Tiphaine","Tippold","Tirel","Tirlea","Tiscorinia","Tissot","Tistounet","Tisza","Titschinger","Titz","Toba","Tobel","Toccafundo","Toch","Toclive","Todorov","Todorova","Toers","Tofi","Tofoli","Tognazzi","Toillier","Tokody","Tolaj","Toldo","Tolgyesi","Tolka","Tolo","Tolr","Tolzmann","Tomacelli","Tomasi","Tomasini","Tomba","Tomei","Tomescu","Tomi","Tommasini","Tonetti","Tontchev","Toors","Topalli","Topp","Tops","Toptani","Toraldo","Torion","Tornatore","Torok","Torres","Torriani","Torricelli","Torrigiani","Torrigiano","Torrisi","Torriti","Tortelier","Tortellier","Torteval","Tortima","Tortorella","Toscanelli","Toselli","Toth","Toto","Touchet","Touers","Touliatos","Tourette","Tourlaville","Tourmente","Tournachon","Tournai","Tournebulle","Tournebut","Tourneur","Tourneville","Tournikiotis","Tourret","Tour","Toussaint","Toustain","Toutain","Toy","Tozzi","Tragianopoulos","Tramacchi","Tramnil","Tranchant","Trantinon","Traore","Traphagen","Trappette","Trasius","Traultmann","Trauner","Trauttmann","Travada","Travanti","Travassos","Traversari","Traversoni","Travolta","Trebane","Trebarne","Trebellius","Trebert","Treffen","Trelles","Trelli","Tremblay","Tremouille","Trenet","Trentin","Treppel","Treto","Trettel","Treurnicht","Treveiler","Treveur","Trevino","Trezeguet","Trezza","Tribes","Trichardt","Trico","Triep","Triest","Trifu","Trigoso","Trikoupis","Trillo","Trinci","Trinkl","Trintignant","Troester","Troger","Tromp","Troshani","Troubal","Troussier","Truiand","Truyens","Tsakolov","Tsaldaris","Tsankov","Tsatsos","Tsavdaridou","Tschanz","Tschetter","Tschopp","Tsiamita","Tsigakou","Tsikouna","Tsiolakoudi","Tsirigolis","Tsirimokos","Tsolakoglou","Tsoni","Tsouderos","Tsougarakis","Tsoutsouvas","Tsvetanov","Tsyoma","Tucca","Tucci","Tuch","Tudor","Tuegel","Tugurlan","Tulles","Tullier","Tuomino","Turck","Turco","Turgeon","Turicchia","Turina","Turquet","Turrianus","Turrini","Tussaud","Tustin","Tuttwitz","Tuyl","Tuzzi","Txertudi","Tzannetakis","Tzeka","Tzelili","Tzivas","Tzvetanov","Tubl","Tkes","Tlle","Uberuaga","Ugaldea","Ugarte","Ugolino","Uguccione","Ugurgieri","Uhlirz","Uiberall","Uitgeverij","Ujaky","Ulanie","Ule","Ulleri","Ullmannn","Ulpius","Umbranox","Umstaedter","Unamunzaga","Unangue","Underdonk","Unger","Ungerer","Ungureanu","Unterzuber","Unzilla","Upert","Urbanik","Urbyn","Urdangarin","Urdanibia","Urenga","Ureta","Uriaga","Uriarte","Uribe","Urionaguena","Urioste","Urizabal","Urkijo","Urkiza","Urquine","Urrea","Urrestilla","Urrizola","Urrutia","Urruzuno","Urry","Ursus","Urtega","Urthinius","Urzica","Useni","Utpadel","Vacarri","Vacca","Vaccari","Vaccarini","Vachon","Vadeki","Vadim","Vael","Vaerewyck","Vaga","Valabrgue","Valadon","Valance","Valaoritis","Valbusa","Valeine","Valen","Valenod","Valentijn","Valle","Valleau","Vallet","Valli","Vallone","Vallore","Valognes","Valois","Valtieri","Valturri","Valvis","Vambery","Vamosi","Van Achte","Van Acker","Van Aelst","Van Aernhem","Van Aken","Van Alstyne","Van As","Van Aulen","Van Baal","Van Balkom","Van Belleghem","Van Berlo","Van Biesbrouck","Van Blercom","Van Blerkum","Van Bocxlaer","Van Bogaert","Van Bogget","Van Bon","Van Boxlaer","Van Brandt","Van Brevoort","Van Britsom","Van Broeck","Van Brussel","Van Buel","Van Buren","Van Bussen","Van Butsel","Van Campenhout","Van Cansinck","Van Carpels","Van Cauteren","Van Cleve","Van Coeneen","Van Couvenhoven","Van Craenenbroeck","Van Daalen","Van Dalsen","Van Dam","Van Damme","Van Dansich","Van Delinde","Van Der Aa","Van Der Beek","Van Der Berg","Van Der Bilt","Van Der Bogaerde","Van Der Broek","Van Der Burgh","Van Der Capellen","Van Der Elst","Van Der Goot","Van Der Graf","Van Der Hagen","Van Der Heyden","Van Der Hoef","Van Der Hoek","Van Der Hoof","Van Der Kuyp","Van Der Leur","Van Der Linde","Van Der Meer","Van Der Poel","Van Der Sanden","Van Der Sar","Van Der Schueren","Van Der Schurr","Van Der Straaten","Van Der Vlucht","Van Der Voort","Van Der Walt","Van Der Wath","Van Der Wouwer","Van Der Zant","Van Deuen","Van Dien","Van Dongen","Van Doorn","Van Driessche","Van Driesten","Van Duurse","Van Duyne","Van Duyse","Van Dyck","Van Dyk","Van Eck","Van Eetvelt","Van Elsland","Van Emburgh","Van Ert","Van Eyck","Van Eydestyn","Van Eynde","Van Friesland","Van Garsse","Van Gaver","Van Gaveren","Van Geem","Van Geertsom","Van Geetsom","Van Geffen","Van Gelder","Van Gerrewey","Van Geyte","Van Gheem","Van Giesen","Van Ginkel","Van Goens","Van Goethem","Van Goey","Van Guyse","Van Gysel","Van Gysse","Van Haelst","Van Haute","Van Haver","Van Havermaat","Van Heekeren","Van Heemskerck","Van Heer","Van Heerden","Van Herck","Van Herrewegen","Van Hese","Van Heune","Van Heutz","Van Hien","Van Hoey","Van Hoeywegen","Van Holst","Van Hooijdonk","Van Hooren","Van Hoost","Van Hootegem","Van Houten","Van Hoylandt","Van Hoyweghen","Van Imbroeck","Van Imburgh","Van Immerseel","Van Kemseke","Van Kerckhove","Van Kerckhoven","Van Kol","Van Koperen","Van Kortrijk","Van Labberton","Van Laecken","Van Laer","Van Laere","Van Lancker","Van Landeghem","Van Langenhove","Van Lare","Van Leur","Van Lierop","Van Linden","Van Linschoten","Van Lottum","Van Male","Van Marcke","Van Mechelen","Van Mele","Van Meygroot","Van Mieghem","Van Moer","Van Mook","Van Mourik","Van Mullem","Van Ness","Van Nest","Van Nieulande","Van Nieuwkirk","Van Noorstrant","Van Noppen","Van Norden","Van Nostrand","Van Nuys","Van Oblenis","Van Oppens","Van Orden","Van Overloop","Van Overmeire","Van Patten","Van Pelt","Van Peteghem","Van Poele","Van Poucke","Van Praet","Van Puymbroeck","Van Puymbrouck","Van Queckelberghe","Van Raemdonck","Van Ranst","Van Rees","Van Reeth","Van Remoortel","Van Remoortere","Van Reynne","Van Rhyn","Van Rie","Van Riebeck","Van Riebeek","Van Riet","Van Rijn","Van Riper","Van Roden","Van Rompu","Van Roost","Van Rooyen","Van Rossem","Van Roy","Van Royen","Van Ryckheghem","Van Rypen","Van Ryper","Van Saun","Van Schaick","Van Schalkwyk","Van Schyven","Van Seyl","Van Sigelen","Van Slyk","Van Slyke","Van Snick","Van Soust","Van Staden","Van Stappen","Van Steenbergen","Van Steendam","Van Strydonck","Van Suydtbroek","Van Swol","Van Syle","Van Tassel","Van Tiemh","Van Tienhoven","Van Tijn","Van Tilburgh","Van Tonder","Van Valen","Van Vlem","Van Vlierberghe","Van Vlissigen","Van Vlissingen","Van Voorhees","Van Vorst","Van Vosselen","Van Waert","Van Waerwijk","Van Wagenen","Van Weert","Van Wesemael","Van Wiele","Van Winckel","Van Wolvelaer","Van Wooglum","Van Wyck","Van Wyk","Van Ydersteyn","Van de Kamp","Van de Perre","Van de Velde","Van de Ven","Van de Vloet","Van de Voorde","Van de Walle","Van den Abeele","Van den Berghe","Van den Bosch","Van den Branden","Van den Broeck","Van den Brucke","Van den Brul","Van den Eeden","Van den Eynde","Van den Nieuwenhuyzen","Van den Wyngaert","Van der Heyden","Van der Kelen","Van der Linden","Van der Poorten","Van der Straeten","Van der Weken","Van kerckhoven","Vanali","Vancini","Vandacia","Vanderstratton","Vandervliet","Vanderzee","Vanel","Vangheluwe","Vanhoudt","Vanni","Vansteenburghe","Vaphiadis","Vardakastanis","Varga","Varias","Varick","Varin","Varkonyi","Varlet","Varone","Varoshi","Varvaressos","Vasario","Vasary","Vasdeki","Vasdekis","Vasilini","Vasiliou","Vasselle","Vasseur","Vassilides","Vassinus","Vastel","Vasti","Vastic","Vaszi","Vata","Vatatzes","Vatteville","Vaubadon","Vautri","Vauville","Vaux","Vavassour","Vavra","Vaz","Vecchio","Veci","Vedaine","Vedder","Vedeker","Vedius","Veens","Veesaert","Vega","Vehaarst","Veith","Velain","Velastegui","Veldkamp","Veldman","Veligan","Velines","Velmont","Velo","Velona","Veloukhiotis","Vendele","Vendelin","Venditti","Veneva","Veneziano","Veniard","Venizelos","Venneker","Vennemars","Venni","Venois","Venter","Vento","Ventris","Venturini","Ver","Verbeeck","Verbeek","Verbeke","Verberckmoes","Verbist","Verboczy","Verbraeken","Verbuyst","Vercammen","Vercauteren","Vercesi","Verchoux","Vercruysse","Vercuni","Verdanis","Verdier","Verdoux","Verdun","Vereecke","Vereecken","Verellen","Verflieren","Verga","Vergauwen","Vergopoulos","Verguet","Verguts","Verhaegen","Verhavert","Verhille","Verhoeven","Verhoog","Verhulst","Verken","Verkuhl","Verlet","Verley","Verlinden","Vermeiren","Vermeirsch","Vermeulen","Vermilye","Vernimmen","Vernold","Vernon","Veron","Veronese","Verplanck","Verplancke","Verplancken","Verrall","Verret","Verrochio","Verrucosus","Verrus","Versfeld","Versmissen","Versois","Verspagen","Verst","Verstappen","Versteeg","Verster","Verstoerod","Verstraeten","Verstuyft","Vertefeuille","Vertenten","Verus","Vervey","Vervins","Verwey","Verwoerd","Verzi","Vesci","Veseli","Veseur","Vesli","Vespucci","Vetec","Veteripont","Veterna","Vettori","Veuillet","Vever","Veyron","Vezelize","Viadana","Vial","Vialli","Vianney","Viars","Vibert","Viccio","Viceronte","Vidal","Vidali","Videk","Videnov","Vidigal","Vidler","Vidrai","Viebranz","Vieira","Vielhaber","Viellanave","Vien","Vienne","Vieuxpont","Vigne","Vilas","Vilela","Viljoen","Villa","Villani","Villars","Villehardain","Villehardouin","Villeneuve","Villepreux","Villeret","Villevieille","Villon","Villoresi","Vilna","Vincenti","Vincentz","Vinck","Vincke","Vinet","Vinetier","Vinicius","Vinielle","Vink","Vinoy","Violante","Violet","Viollet-Le-Duc","Vion","Viora","Viotti","Vipont","Virane","Viranes","Virelande","Virenque","Virgilus","Virien","Virieux","Vis","Vis-de-Louf","Vis-de-Loup","Visagie","Vischspoel","Visconti","Visdomini","Visse","Vitagliano","Vitaini","Vitalini","Vitalis","Vittelli","Vitti","Vittoz","Vitzhum","Vivant","Vivarini","Vivers","Viville","Vizzoni","Vlad","Vladimirescu","Vladoiu","Vladu","Vlaeminck","Vlakhos","Vlakhou","Vlas","Vlekke","Vlieghuis","Vliese","Vllasi","Vlok","Vlyminck","Vocula","Voelker","Voeller","Voet","Vogl","Voglreiter","Vogt","Vogts","Voienne","Voinea","Voirol","Voisenon","Voisin","Volck","Volckert","Volcy","Volker","Volkert","Volkertszen","Volkmann","Vollard","Vollmer","Vollner","Vollonville","Vollpato","Volonte","Volpe","Voltaire","Volz","Von Croy","Von Ettingshausen","Von Freidenreich","Von Hengel","Von Hoesslin","Von Maarsen","Von Saher","Von Stroheim","Von Tirpitz","Von Trotha","Von Tunzelmann","Von Zitzewitz","Von schroeder","Vonck","Vonk","Voorhees","Voorhis","Vopiscus","Vorburger","Vorderman","Voria","Vorster","Vos","Voss","Voulgaris","Voulgaropoulos","Vouris","Vozone","Vranchev","Vranitzky","Vreeland","Vries","Vriesde","Vrije","Vroeman","Vroom","Vrooman","Vrouarde","Vuillard","Vuitton","Vulaj","Vulchanova","Vulliamy","Vulpes","Vuuren","Vyau","Vygant","Vyger","Vynier","Vnard","Wachholz","Wachter","Wachtsmuth","Wacker","Wackerle","Wadard","Waem","Waerdt","Wagemans","Wagenaer","Wagner","Wagter","Wahlberg","Waigel","Wajda","Wakelin","Walcher","Waldenmaier","Waldheim","Walingse","Wallauer","Walleme","Wallfisch","Wallishauser","Wallroth","Walma","Walraven","Wambergue","Wander","Wangermann","Wanneck","Wannemacher","Wannemaker","Wanner","Want","Wapnick","Wappler","Warci","Warmisch","Warusful","Wassel","Wassen","Wassenaer","Wasser","Wassermann","Wassersug","Wassmeir","Watteau","Wauman","Wauters","Wavelet","Weber","Wecker","Wedding","Weekveldt","Wegener","Wegl","Wehe","Weibrecht","Weidner","Weigl","Weigle","Weiglein","Weil","Weimer","Weinbrecht","Weingertner","Weinschrott","Weinsheimer","Weinstein","Weirather","Weisbrantz","Weisensteiner","Weisflog","Weishoff","Weiss","Weissensteiner","Weisskeit","Weiz","Weizmann","Weller","Wellisch","Welter","Wenck","Wendelin","Wendlinger","Wendorf","Wendt","Wenelin","Wenger","Wening","Wenne","Wennell","Wentz","Wenz","Wenzler","Wepper","Werables","Werberg","Werdman","Werner","Wernicke","Wert","Wertheim","Wessel","Wesselingh","Wessels","Wessely","Westerhof","Westerhout","Westerveldt","Westervelt","Westhuizen","Westmann","Weston","Wetl","Weydeman","Weyenberg","Weygrand","Weyn","Weynacker","Wibier","Wichsberger","Wickton","Wicky","Widhoezl","Widlak","Widmann","Wieck","Wiedeking","Wiedemann","Wiedl","Wiegand","Wiekens","Wiens","Wiese","Wiesenbauer","Wiesenthal","Wiesner","Wijmeersch","Wijnberg","Wijnhard","Wildhaber","Wilfing","Wilgus","Wilhelm","Wilken","Wille","Willems","Willemse","Willets","Willoughby","Wilmart","Wilmetz","Wilmots","Wilnis","Wimmer","Wimmers","Winckelmann","Wind","Windischgraetz","Winkelhock","Winkler","Winne","Winnink","Winschermann","Winter","Winterhalter","Winvale","Wiplinger","Wirth","Wirtz","Wise","Wissant","Witmeyer","Witschg","Wittman","Wittram","Wittstock","Witwer","Wizzelpenning","Wleber","Wodarg","Woeder","Woelffs","Woerns","Woertman","Woeste","Woetzel","Woglom","Wohlgemuth","Woile","Wolf","Wolfensberger","Wolfer","Wolfert","Wollenberg","Wollf","Wollheim","Wolpe","Wolter","Wolthers","Woodmansee","Wooge","Worns","Wortendyke","Wortmann","Wotzel","Wouda","Wouterse","Wouterson","Wuestenhagen","Wuhl","Wulker","Wullenweber","Wulschner","Wunderlich","Wust","Wustgen","Wuytack","Wyckoff","Wymeersich","Wynen","Xanthos","Xanthou","Xaparrarte","Xavier","Xenakis","Xhaferi","Xhanari","Xhaxhka","Xhumba","Xydis","Yahnel","Yankov","Yannopoulos","Yeager","Yelmorini","Yeoumans","Ygou","Yialouris","Ylincheta","Ymeri","Ynzunza","Yonescu","Yonkman","Yordanov","Yordanyotov","Yost","Yotov","Ypoustegue","Ypsilantis","Yribarren","Ytuarte","Yunlin","Yverneau","Yznaga","Ycklel","Zabala","Zabaleta","Zabarte","Zabel","Zabelle","Zabriskie","Zacagnini","Zafiropoulos","Zagallo","Zagreda","Zahn","Zaituc","Zakhariadis","Zalacain","Zaldibar","Zaman","Zamarripa","Zambaco","Zambello","Zambrana","Zammes","Zampieri","Zanardi","Zanelli","Zanetti","Zanotti","Zarandona","Zarazua","Zaretti","Zarikos","Zarranz","Zarrasbeitia","Zatarain","Zatony","Zavadsky","Zazueta","Zamis","Zdravkov","Zech","Zechlin","Zedlacher","Zeelenberg","Zegers","Zehb","Zeiler","Zeimoto","Zeklos","Zendegi","Zenden","Zeri","Zerillo","Zerman","Zervakos","Zervas","Zettel","Zetter","Zetterberg","Zetterlund","Zhelov","Zhivko","Zhivkov","Zhugli","Zhulati","Zhuzhumi","Ziberi","Zie","Ziebosch","Zieff","Ziege","Zielke","Ziesemer","Ziewe","Ziganda","Zijlstra","Zikos","Zilli","Zimmerman","Zimmermann","Zimolo","Zindilis","Zingler","Zingre","Zink","Zinsli","Zinzendorff","Zipperling","Zisimides","Zobel","Zoeber","Zoecke","Zoeggler","Zoeller","Zoepfel","Zoepfl","Zoffoli","Zogjani","Zographas","Zogu","Zola","Zolotas","Zonta","Zoppo","Zoravkov","Zornoza","Zorzi","Zozaia","Zotakis","Zrnyi","Zsivozky","Zsoldos","Zubizarreta","Zubor","Zubriggen","Zuccarello","Zuccaro","Zuelle","Zufiaurre","Zufiria","Zukanov","Zuleta","Zulin","Zulle","Zuniga","Zurbrugg","Zurric","Zurutuza","Zuyderwyk","Zuzuarregi","Zweig","Zweistra","Zylberstein","Zylippe","cohl","d'Adreci","d'Aguillon","d'Aigreville","d'Albert","d'Alema","d'Alencon","d'Amboise","d'Ambray","d'Andeli","d'Andre","d'Angers","d'Angerville","d'Angleville","d'Ansleville","d'Argentan","d'Argues","d'Armentieres","d'Arques","d'Athenous","d'Aubec","d'Aubernon","d'Auberville","d'Audrieu","d'Aufai","d'Aumale","d'Aunon","d'Avranches","d'Avre","d'Ecouis","d'Engagne","d'Eresby","d'Escalles","d'Espagne","d'Espivant","d'Eu","d'Evreux","d'Helion","d'Hericy","d'Houdetot","d'Incourt","d'Ivri","d'Olgeanc","d'Orbec","d'Orglande","d'Ornontville","d'Orsay","d'Orty","d'Ouilli","d'Unepac","da Cunha-Lisboa","da Silva","da Vinci","de Albreuin","de Almeida","de Amicis","de Angelis","de Baen","de Bailleul","de Balon","de Bane","de Bans","de Bapaumes","de Barbes","de Baun","de Beauchamp","de Beaufou","de Beaumais","de Beaumont","de Beauvais","de Bellehache","de Bellemare","de Bellivre","de Belmeis","de Berchelai","de Bercheres","de Bernai","de Bernieres","de Berranger","de Berthellemy","de Berville","de Bethencourt","de Beul","de Bienfaite","de Bilde","de Biville","de Blays","de Blundville","de Bock","de Boeck","de Boer","de Boog","de Boogh","de Both","de Bouilon","de Bourgueville","de Breos","de Brito","de Bruijn","de Cahaihnes","de Calmesnil","de Caluwaert","de Camp","de Carneillon","de Caro","de Caulmont","de Caux","de Challon","de Chalunac","de Chefderue","de Civille","de Colville","de Corbeil","de Cormeilles","de Coubertin","de Coucy","de Courseilles","de Cow","de Crignis","de Croismare","de Faicterau","de Faria","de Felice","de Felius","de Forest","de Freitas","de Fry","de Genis","de Genville","de Giovanni","de Giusti","de Goeij","de Goey","de Gosbeck","de Graff","de Grauw","de Graves","de Graw","de Grieu","de Groot","de Haan","de Haes","de Hanivel","de Hattes","de Heere","de Herle","de Herville","de Houtman","de Ireby","de Jager","de Jongh","de Keersmaeker","de Klerk","de Kook","de Lamprire","de Laurentiis","de Lavergne","de Leon","de Lombelon","de Lonval","de Lorraine","de Lucien","de Maere","de Malhortye","de Man","de Marchi","de Maree","de Marest","de Margelasse","de Maromme","de Martino","de Massard","de Masse","de Mauro","de Meeter","de Meligny","de Menses","de Meo","de Merode","de Mesniel","de Mesnildo","de Mesquites","de Mevius","de Mey","de Michelis","de Monchy","de Monluc","de Montchrestien","de Montfault","de Montgomery","de Moustiers","de Moy","de Munchesney","de Neef","de Negri","de Nijs","de Niro","de Pardieu","de Perronet","de Pinchemont","de Pougy","de Pre","de Randt","de Recusson","de Rely","de Remis","de Reymes","de Rollebon","de Roncherolles","de Roover","de Roquelaure","de Rosa","de Ruggiero","de Ruine","de Ryck","de Salynges","de Sanctis","de Saulcy","de Saussay","de Sauveterre","de Savage","de Schepper","de Seguzzo","de Servian","de Seyssel","de Silguy","de Sille","de Smedt","de Tanie","de Thibault","de Tocni","de Toeni","de Valles","de Vandes","de Vaux","de Veaux","de Vertuil","de Vesci","de Vigny","de Villeneuve","de Villy","de Vito","de Viuepont","de Vlaming","de Voe","de Vol","de Vooght","de Voor","de Vouw","de Vreese","de Vriend","de Vymont","de Waart","de Waele","de Wilde","de Witt","de Zeeuw","de Zoete","de felitta","de la Brosse","de la Chaize","de la Champagne","de la Hay","de la Mare","de la Noue","de la Place","de la Porte","de la Reue","de la Roche","della Corte","della Mea","della Vedova","della Volpe","des Moutiers","des Vaux","du Bec","du Bois-Hebert","du Bosc-Roard","du Breuil","du Buisson","du Gouey","du Merle","du Moucel","du Perche","du Perron","du Plat","du Quesnai","du Saussai","du Theil","du Tilleul","l'Adoube","l'Aigle","l'Ane","l'Appeville","l'Archer","l'Archibudelli","l'Aune","l'Estourmi","la Berche","la Berviere","la Bruiere","la Cleve","la Foret","la Guierche","la Mare","la Pommeraie","la Prouse","la Riviere","la Rocca","la Rochenoire","la Touche","la Vache","la Verrier","le Barge","le Berruier","le Blanc","le Blond","le Bouguignon","le Braz","le Breton","le Brocq","le Chandelier","le Chanony","le Clerc","le Conte","le Cordier","le Cornu","le Despensier","le Doulcet","le Flamand","le Gaucher","le Goix","le Goyet","le Grant","le Gras","le Jeune","le Jumel","le Lieur","le Maistre","le Marchant","le Marechal","le Marinier","le Masson","le Nain","le Ntre","le Paulmier","le Pelletier","le Pesant","le Petit","le Poitevin","le Prvost","le Roux","le Seigneur","le Senechal","le Sueur","le Tellier","le Vicomte","le dauphin","le marquand","le moigne","rauffenburg","rochus","van Der Elst","van Dishoeck","van Liew","van Ullesen","van de Sanden"],setup.NAME_japanese_female_first_name=["Aai","Adzuki","Adzumi","Adzusa","Ae","Aeri","Ageha","Ai","Aiha","Aiho","Aika","Aiki","Aiko","Aimi","Aina","Aine","Aino","Aira","Airi","Airu","Aisa","Aise","Aisha","Aito","Aiya","Aiyu","Aka","Akae","Akaho","Akaki","Akana","Akane","Akari","Akatsuki","Akeha","Akeki","Akemi","Akeno","Akeo","Akeyo","Aki","Akie","Akiha","Akiho","Akii","Akika","Akiko","Akime","Akimi","Akina","Akine","Akino","Akira","Akisa","Akiyo","Ako","Akuro","Amarante","Amaya","Ameri","Ami","Amika","Amu","Anan","Anbi","Anda","Aneko","Anji","Anju","Anka","Anmi","Anna","Anne","Anon","Anri","Anru","Ansha","Anzu","Ao","Aoba","Aoha","Aoi","Aoka","Aoki","Aomi","Aona","Aono","Aori","Aose","Aoto","Aozora","Arei","Ari","Arie","Ariha","Ariho","Arika","Arimi","Arin","Arina","Arisa","Arise","Arisu","Arufa","Aruha","Aruna","Asa","Asae","Asagi","Asahi","Asaho","Asai","Asaka","Asaki","Asako","Asami","Asana","Asao","Asara","Asari","Asayo","Asuhi","Asuka","Asumi","Atsue","Atsuka","Atsuki","Atsuko","Atsumi","Atsuna","Atsune","Atsuno","Atsusa","Atsuyo","Awana","Awano","Aya","Ayae","Ayaha","Ayahi","Ayaho","Ayai","Ayaka","Ayaki","Ayako","Ayame","Ayami","Ayamu","Ayana","Ayane","Ayano","Ayao","Ayara","Ayari","Ayasa","Ayase","Ayato","Ayayo","Ayu","Ayuka","Ayuki","Ayume","Ayumi","Ayumu","Ayuna","Ayuno","Ayuri","Ayusa","Ayuto","Azuki","Azumi","Azuna","Azusa","Benten","Biei","Chia","Chiaki","Chiaya","Chidzuki","Chidzuko","Chidzumi","Chidzuru","Chie","Chieko","Chiemi","Chieri","Chigusa","Chiharu","Chihaya","Chihiro","Chiho","Chika","Chikae","Chikage","Chikako","Chikano","Chikara","Chikaru","Chikasa","Chikashi","Chiki","Chiko","Chikoto","Chikuma","China","Chinae","Chinami","Chinari","Chinaru","Chinatsu","Chino","Chinon","Chio","Chiori","Chisa","Chisaki","Chisako","Chisane","Chisato","Chise","Chisei","Chisumi","Chitose","Chiya","Chiyeko","Chiyo","Chiyoko","Chiyomi","Chiyu","Chiyuki","Chiyumi","Chizuru","Cho","Chou","Chura","Dai","Echiko","Ehana","Eho","Ei","Eiha","Eiichi","Eika","Eiko","Eimi","Eina","Eiri","Eko","Ema","Emi","Emiho","Emika","Emiko","Emina","Emio","Emiri","Emu","En","Ena","Eo","Epo","Eran","Ere","Erei","Eren","Erena","Eri","Erika","Eriko","Erin","Erina","Eriya","Eru","Eruna","Eruru","Etsuho","Etsuki","Etsuko","Etsumi","Etsuyo","Euiko","Fua","Fubuki","Fujika","Fujiko","Fujina","Fujino","Fujisa","Fuki","Fumi","Fumie","Fumika","Fumiki","Fumiko","Fumina","Fumino","Fumiyo","Fusa","Fusae","Fusako","Fusana","Fusano","Futaba","Fuu","Fuua","Fuuga","Fuuha","Fuui","Fuuka","Fuuki","Fuuna","Fuune","Fuuno","Fuusa","Fuyu","Fuyue","Fuyuhi","Fuyuka","Fuyuko","Fuyume","Fuyumi","Fuyune","Fuyuno","Fyei","Gemmei","Gen","Gin","Ginko","Gou","Hadzuki","Haine","Haju","Hako","Hama","Hami","Hana","Hanae","Hanaha","Hanaka","Hanako","Hanami","Hanano","Hanari","Hanatsu","Haniko","Hanna","Hano","Hanon","Hanri","Hare","Haru","Harue","Haruha","Haruhi","Haruho","Harui","Haruka","Haruki","Harukichi","Haruko","Haruku","Haruma","Harume","Harumi","Harumo","Harumu","Haruna","Harune","Haruno","Haruo","Haruse","Haruyo","Hase","Hasumi","Hatsue","Hatsuho","Hatsuka","Hatsuki","Hatsuku","Hatsumi","Hatsuna","Hatsune","Hatsuno","Hatsuyo","Haya","Hayaka","Hayami","Hayane","Hayasa","Hayase","Hazumi","Hazuna","Hibiki","Hide","Hideko","Hidemi","Hideri","Hidzuki","Hiho","Hiina","Hiira","Hiiragi","Hiiro","Hiizu","Hikana","Hikari","Hikaru","Himari","Himawari","Hina","Hinagi","Hinaki","Hinako","Hinami","Hinano","Hinari","Hinata","Hinatsu","Hinayo","Hinon","Hiori","Hirari","Hiroa","Hiroe","Hiroha","Hiroka","Hiroko","Hiromi","Hiromu","Hirona","Hirone","Hirono","Hiroo","Hiroshi","Hiroyo","Hisa","Hisae","Hisaho","Hisaka","Hisaki","Hisako","Hisami","Hisana","Hisano","Hisashi","Hisato","Hisayo","Hisui","Hitoe","Hitoha","Hitoka","Hitomi","Hitomo","Hitona","Hitone","Hitono","Hitose","Hitoshi","Hitsuji","Hiyo","Hiyori","Hiyu","Hiyumi","Hodaka","Hodzumi","Hoharu","Hoki","Hona","Honami","Honatsu","Honoka","Honomi","Honon","Honone","Honori","Hoshi","Hoshie","Hoshiha","Hoshiko","Hoshimi","Hoshina","Hoshine","Hoshino","Hoshiyo","Hotaru","Hotona","Hotsumi","Houka","Hozue","Hozumi","Hozumu","Hyuu","Ibuki","Ichi","Ichie","Ichiha","Ichika","Ichimi","Ichina","Ichine","Ichino","Idzumi","Ika","Iku","Ikue","Ikuho","Ikuka","Ikuko","Ikumi","Ikuna","Ikuno","Ikuyo","Imari","Imi","Ina","Inami","Inari","Inatsu","Inori","Inoru","Inoue","Io","Ion","Iori","Ira","Irei","Iri","Irii","Iroha","Iru","Iruka","Isa","Isae","Isaki","Isako","Ise","Isuzu","Ito","Itono","Itsue","Itsuho","Itsuka","Itsuki","Itsuko","Itsumi","Itsuna","Iyo","Iyori","Izuho","Izumi","Jin","Jio","Joruri","Juai","Juan","Juchika","Jue","Juho","Juka","Juki","Jukia","Jun","Juna","June","Junka","Junko","Junmi","Junna","Juno","Junrei","Junri","Jura","Juri","Jurin","Juru","Kaai","Kadzuho","Kadzuki","Kadzumi","Kadzusa","Kae","Kaede","Kagami","Kahana","Kahane","Kaho","Kahori","Kai","Kaida","Kairi","Kaiya","Kaiyo","Kajitsu","Kaju","Kaki","Kako","Kameko","Kami","Kammi","Kammie","Kana","Kanade","Kanae","Kanaha","Kanaho","Kanako","Kaname","Kanami","Kanan","Kanana","Kanari","Kanatsu","Kanawa","Kanayo","Kane","Kaneko","Kanna","Kano","Kanoha","Kanoho","Kanoka","Kanon","Kanori","Kao","Kaon","Kaori","Kaoru","Karan","Karei","Karen","Kari","Karibu","Karin","Karina","Kasaki","Kasane","Kashi","Kasuga","Kasui","Kasumi","Kasune","Kata","Katsue","Katsuki","Katsuko","Katsumi","Kaya","Kayasa","Kayo","Kayoko","Kayou","Kayu","Kayume","Kazu","Kazuchi","Kazue","Kazuha","Kazuhi","Kazuho","Kazuka","Kazuko","Kazumi","Kazuna","Kazune","Kazuno","Kazura","Kazuri","Kazusa","Kazuwo","Kazuyo","Kei","Keiga","Keika","Keiki","Keiko","Keimi","Keina","Keino","Keiri","Keiru","Keisa","Keito","Kia","Kichi","Kichino","Kie","Kifumi","Kiharu","Kihiro","Kiho","Kii","Kiiko","Kiiro","Kika","Kiki","Kiko","Kiku","Kikue","Kikuko","Kikuno","Kikyou","Kimi","Kimie","Kimihi","Kimii","Kimika","Kimiko","Kimina","Kimino","Kimiyo","Kimiyu","Kimu","Kin","Kina","Kinami","Kinatsu","Kino","Kinoka","Kinori","Kinue","Kinuka","Kinuko","Kinumi","Kinuye","Kinuyo","Kioko","Kira","Kiran","Kirara","Kirari","Kiri","Kirika","Kiriko","Kirin","Kirina","Kirine","Kisa","Kisaki","Kisaya","Kisei","Kisha","Kishi","Kishuu","Kita","Kitsuki","Kiwa","Kiya","Kiyo","Kiyoe","Kiyoha","Kiyohi","Kiyoho","Kiyoi","Kiyoka","Kiyoko","Kiyomi","Kiyona","Kiyono","Kiyora","Kiyoshi","Kiyu","Kiyui","Kiyuki","Kiyuu","Kobato","Kochiyo","Kohaku","Kohana","Kohane","Koharu","Kohina","Koi","Koimi","Koiso","Koken","Koko","Kokoa","Kokoe","Kokoha","Kokomi","Kokona","Kokone","Kokori","Kokoro","Kokoru","Komachi","Komaki","Komiki","Komina","Komoe","Komomo","Komugi","Kona","Konami","Konan","Konana","Konatsu","Konoe","Konoha","Konoka","Konoma","Konomi","Korin","Kosato","Kosui","Kosumi","Kosumo","Kosuzu","Koto","Kotoa","Kotoe","Kotoha","Kotoho","Kotoka","Kotoki","Kotoko","Kotome","Kotomi","Kotona","Kotone","Kotono","Kotora","Kotori","Kotose","Kotowa","Kotoyo","Kou","Koue","Kouhi","Kouki","Koumi","Kouna","Koura","Kouran","Kouri","Kousei","Kouyou","Koyori","Koyuki","Koyume","Koyumi","Koyuri","Kozato","Kozue","Kozumi","Kumi","Kumiko","Kuni","Kunie","Kuniko","Kuniyo","Kuno","Kura","Kuran","Kurea","Kureha","Kurei","Kurena","Kureno","Kuri","Kuria","Kuruchi","Kurue","Kurumi","Kyara","Kyoko","Kyou","Kyouka","Kyouki","Kyouko","Kyoumi","Kyouna","Kyoune","Kyouno","Maai","Maasa","Maaya","Mabuki","Machi","Machiko","Madoha","Madoka","Mae","Maeko","Maemi","Mafumi","Mafuyu","Maha","Mahime","Mahiro","Mahiru","Maho","Mahona","Mai","Maia","Maiha","Maiho","Maika","Maiki","Maiko","Maina","Maine","Maino","Maira","Mairi","Maiya","Maka","Makana","Maki","Makie","Makiha","Makiho","Makika","Makiko","Makina","Makino","Makinu","Mako","Makoto","Mami","Mamiko","Mamori","Mana","Manae","Manaha","Manaka","Manako","Manama","Manami","Manan","Manano","Manao","Manare","Manari","Manase","Manato","Manatsu","Manaya","Mane","Mano","Manon","Mao","Maon","Maou","Mara","Mare","Marei","Mareka","Maremu","Maren","Marena","Mari","Maria","Marie","Marika","Mariko","Marin","Marina","Mario","Marisa","Marise","Mariya","Maru","Masae","Masai","Masaki","Masako","Masami","Masana","Masano","Masayo","Mashiho","Masumi","Matsu","Matsuki","Matsuko","Matsumi","Matsuri","Matsuyo","Mau","Maya","Mayaka","Mayako","Mayo","Mayoko","Mayu","Mayue","Mayui","Mayuka","Mayuki","Mayuko","Mayume","Mayumi","Mayumu","Mayuna","Mayura","Mayuri","Mayuu","Mayuzumi","Mebae","Mebuki","Megu","Meguho","Meguka","Megumi","Meguri","Mei","Meika","Meiko","Meina","Meira","Meiran","Meiri","Meiya","Memi","Memori","Mena","Meo","Meya","Meyu","Mia","Miaka","Miaki","Miako","Miasa","Miaya","Mibuki","Michi","Michie","Michiho","Michika","Michiko","Michina","Michio","Michiru","Michiyo","Midori","Midzue","Midzuho","Midzuka","Midzuki","Mie","Miei","Mieko","Mifuki","Mifuu","Mifuyu","Miha","Mihae","Mihana","Mihane","Miharu","Mihato","Mihaya","Mihayu","Mihime","Mihiro","Miho","Mihoka","Mihoko","Mihona","Mii","Miiha","Miiko","Miina","Miine","Miiru","Miju","Mika","Mikae","Mikako","Mikan","Mikana","Mikari","Mikawa","Mikayo","Miki","Mikie","Mikiho","Mikiko","Mikina","Mikino","Mikiyo","Miko","Mikoto","Miku","Mikuho","Mikuka","Miliko","Mima","Mimari","Mimi","Mimori","Mimu","Mina","Minae","Minagi","Minaha","Minaho","Minai","Minaka","Minaki","Minako","Minami","Minamo","Minao","Minari","Minase","Minato","Minatsu","Mine","Mineka","Mineki","Mineko","Mineri","Mino","Minoka","Minoki","Minon","Minori","Minoru","Mio","Mioha","Mioka","Miomi","Mion","Miora","Miori","Mioto","Miou","Mirai","Miran","Mire","Mirei","Miri","Miru","Miruka","Misa","Misaho","Misaki","Misako","Misao","Misato","Misawo","Mishuri","Misono","Misora","Misumi","Misuzu","Mito","Mitsu","Mitsue","Mitsugi","Mitsuha","Mitsuho","Mitsuka","Mitsuki","Mitsuko","Mitsumi","Mitsuna","Mitsune","Mitsuno","Mitsuyo","Miu","Miwa","Miwako","Miwo","Miya","Miyabi","Miyako","Miyano","Miyo","Miyoka","Miyoko","Miyoshi","Miyou","Miyu","Miyuho","Miyuka","Miyuki","Miyumi","Miyusa","Miyuu","Mizue","Mizuha","Mizuho","Mizuka","Mizuki","Mizumi","Mizuna","Mizune","Mizuno","Mizuo","Mizuse","Moa","Moe","Moeka","Moeko","Moemi","Moeno","Moeri","Moi","Moka","Moko","Momi","Momie","Momika","Momo","Momoa","Momoe","Momoha","Momohi","Momoka","Momoki","Momoko","Momoku","Momomi","Momona","Momone","Momono","Momoo","Momose","Momoyo","Mona","Monaka","Monami","Monan","Mone","Mono","Moori","More","Moto","Motoe","Motoi","Motoka","Motoko","Motomi","Mowa","Moyu","Moyumi","Mume","Mura","Muteki","Mutsue","Mutsuka","Mutsuki","Mutsuko","Mutsumi","Mutsuyo","Nachi","Nachie","Nachika","Nadzuki","Nae","Naemi","Naeri","Nagino","Nagisa","Naho","Nahoko","Naina","Naka","Nami","Namie","Namiha","Namiho","Namika","Namiki","Namiko","Namina","Namisa","Namiyo","Nana","Nanae","Nanaha","Nanaho","Nanaka","Nanaki","Nanako","Nanami","Nanan","Nanana","Nanane","Nanao","Nanari","Nanasa","Nanase","Nanashi","Nanato","Nanatsu","Nanaya","Nanka","Nanoha","Nanoka","Nanoko","Nanon","Nanri","Nao","Naoe","Naoha","Naoka","Naoki","Naoko","Naomi","Naon","Naora","Naori","Naren","Nari","Narika","Nariko","Narisa","Naru","Narue","Naruho","Naruka","Narumi","Nasa","Natsu","Natsue","Natsuha","Natsuho","Natsui","Natsuka","Natsuki","Natsuko","Natsume","Natsumi","Natsuna","Natsune","Natsusa","Natsuyo","Nattsu","Nau","Nawa","Naya","Nayo","Nayoko","Nayu","Nayuki","Nayume","Nayumi","Nayura","Nazumi","Nazuna","Neiro","Nemu","Nene","Nera","Neu","Nichika","Nie","Niima","Niina","Niino","Niji","Nijiha","Nijiho","Nijika","Nijina","Niki","Niko","Nina","Nire","Nirei","Nishi","Noa","Nobu","Nobue","Nobuko","Nodoka","Noeru","Noma","Nomi","Nona","Nonka","Nonno","Nono","Nonoka","Nori","Noria","Norie","Noriha","Norika","Noriko","Norina","Norino","Norisa","Norito","Noriyo","Nozomi","Nyoko","Ochiyo","Oharu","Oki","Okichi","Okiku","Omitsu","Omoi","Omoka","Ooaya","Orie","Orika","Orina","Orino","Orisa","Oto","Otoe","Otoha","Otoka","Otona","Otose","Otowa","Otsu","Otsune","Ouka","Oumi","Ouna","Ouri","Pinku","Raichi","Raicho","Raika","Raiki","Raimi","Raina","Raira","Rairi","Raisa","Raito","Raku","Rama","Rami","Ramu","Ran","Rana","Ranan","Ranna","Rara","Rasa","Rea","Reeko","Reemi","Reen","Reena","Reho","Rei","Reia","Reiha","Reiho","Reika","Reiki","Reiko","Reimi","Reina","Reini","Reino","Reira","Reiri","Reisa","Reishi","Reiya","Rema","Remi","Remon","Ren","Rena","Reno","Renon","Reo","Reon","Rera","Reri","Ria","Rian","Ridzu","Ridzuki","Rie","Rieko","Riemi","Riha","Riharu","Riho","Rii","Riju","Rika","Rikako","Rikana","Rikei","Riki","Rikka","Riko","Riku","Rikuka","Rima","Rimi","Rin","Rina","Rinako","Rine","Ringo","Rini","Rinka","Rinna","Rinne","Rino","Rinon","Rio","Rion","Riona","Riori","Rira","Riran","Rirei","Riri","Riria","Ririka","Ririna","Riru","Risa","Risaki","Risako","Risana","Risato","Rise","Risuzu","Rito","Ritsu","Ritsue","Ritsuho","Ritsuki","Ritsuko","Ritsuna","Ritsuno","Riu","Riya","Riyo","Riyu","Riyuu","Riza","Rizu","Rizumu","Romi","Rua","Rubi","Rui","Ruina","Ruiri","Ruka","Ruki","Rumi","Rumiko","Rumoi","Runa","Runmi","Runo","Ruo","Rura","Ruri","Rurika","Ruriko","Ruru","Ruuna","Ruuru","Ryoko","Ryou","Ryoubi","Ryouga","Ryouha","Ryouka","Ryouko","Ryoumi","Ryouna","Ryuubi","Ryuuka","Ryuumi","Ryuuri","Saa","Saaki","Saara","Saari","Saaya","Sachi","Sachie","Sachiho","Sachika","Sachiko","Sachimi","Sachina","Sachino","Sachio","Sachiwo","Sachiyo","Sada","Sadako","Sae","Saeka","Saeko","Saemi","Saera","Saeri","Saharu","Sahi","Saho","Sahoko","Sahori","Sai","Saiha","Saiju","Saika","Saimi","Saira","Sairi","Saisha","Saito","Saka","Sakae","Sakaki","Sakamae","Saki","Sakie","Sakiha","Sakiho","Sakika","Sakiko","Sakimi","Sakimo","Sakina","Sakino","Sakira","Sakisa","Sakiyo","Saku","Sakue","Sakuko","Sakumi","Sakuna","Sakuno","Sakura","Sakurako","Sakuri","Sakuro","Sama","Samasa","Sami","San","Sana","Sanae","Sanako","Sanami","Sanatsu","Sane","Sango","Sano","Sao","Saori","Sara","Sarana","Sarasa","Sari","Sarii","Sarina","Sasa","Sasara","Sasha","Sata","Sato","Satoe","Satoha","Satoho","Satoka","Satoko","Satoma","Satomi","Satona","Satone","Satono","Satori","Satsuka","Satsuki","Satu","Sau","Sawa","Sawae","Sawaka","Sawaki","Sawako","Sawami","Sawayo","Saya","Sayaka","Sayaki","Sayako","Sayami","Sayano","Sayo","Sayoko","Sayomi","Sayori","Sayu","Sayui","Sayuka","Sayuki","Sayumi","Sayuri","Sea","Sei","Seiga","Seiha","Seiho","Seiju","Seika","Seikai","Seiki","Seiko","Seima","Seina","Seine","Seino","Seira","Seiri","Seisa","Seiya","Seka","Seki","Sen","Sena","Senna","Senri","Seo","Sera","Serena","Seri","Seria","Serie","Serika","Serina","Serisa","Seshiru","Setsuka","Setsuko","Seu","Seya","Shidzu","Shidzue","Shidzuka","Shidzuki","Shidzuku","Shidzuru","Shie","Shiemi","Shien","Shieri","Shieru","Shige","Shigeno","Shiho","Shii","Shiimi","Shiina","Shiine","Shiino","Shika","Shiki","Shima","Shimizu","Shina","Shinju","Shinko","Shino","Shinobu","Shinon","Shio","Shioe","Shioi","Shioka","Shiokaze","Shioko","Shiomi","Shion","Shiona","Shiono","Shiora","Shiori","Shiose","Shiou","Shiraho","Shisa","Shisei","Shisumi","Shiun","Shiyono","Shiyori","Shiyou","Shiyu","Shizu","Shizue","Shizuha","Shizuho","Shizuka","Shizuki","Shizuko","Shizuku","Shizuma","Shizumi","Shizuna","Shizuno","Shizuo","Shizura","Shizuri","Shizuru","Shizusa","Shizuse","Shizuto","Shizuyo","Shoka","Shoken","Shoko","Shoon","Shouka","Shouko","Shouna","Shue","Shuho","Shuka","Shuki","Shuma","Shun","Shuna","Shunri","Shunyou","Shura","Shuri","Shusa","Shuu","Shuuha","Shuuho","Shuuka","Shuuki","Shuuko","Shuumi","Shuuna","Soeru","Sona","Sono","Sonoe","Sonoka","Sonoko","Sonomi","Sora","Souka","Soyo","Soyoka","Soyono","Suguri","Sui","Suika","Suki","Suko","Suma","Sumi","Sumie","Sumiha","Sumiho","Sumika","Sumiko","Sumina","Sumino","Sumio","Sumire","Sumiyo","Sumomo","Sunaho","Suzu","Suzue","Suzuha","Suzuho","Suzuka","Suzuki","Suzuko","Suzuma","Suzume","Suzumi","Suzuna","Suzune","Suzuno","Suzuto","Suzuyo","Tadako","Tae","Taeko","Taena","Tai","Taji","Taka","Takae","Takaha","Takako","Takami","Takana","Takane","Takara","Takase","Takayo","Tama","Tamae","Tamafune","Tamaha","Tamahi","Tamaho","Tamai","Tamaka","Tamaki","Tamami","Tamamo","Tamao","Tamara","Tamari","Tamawo","Tamayo","Tami","Tamie","Tamika","Tamiko","Tamiyo","Tanak","Taniko","Tansho","Tao","Tara","Taree","Tatsumi","Taura","Taya","Tenna","Tenri","Tenru","Terue","Teruha","Terumi","Teruna","Teruno","Teruyo","Toa","Tochika","Toka","Toki","Tokie","Tokiha","Tokiko","Tokino","Tokiri","Tokiyo","Toko","Toku","Tokuko","Tomi","Tomie","Tomiko","Tomo","Tomoa","Tomoe","Tomoha","Tomoka","Tomoki","Tomoko","Tomomi","Tomona","Tomone","Tomono","Tomoo","Tomose","Tomoyo","Tona","Tonami","Tono","Toomi","Toon","Tooru","Toshi","Toshie","Toshika","Toshiko","Toshimi","Toshino","Toshiyo","Touka","Toumi","Touna","Towa","Toya","Toyoko","Tsubame","Tsubasa","Tsue","Tsugumi","Tsuguri","Tsukasa","Tsuki","Tsukiyama","Tsukumi","Tsuneko","Tsutae","Tsutako","Tsuya","Ubuka","Ui","Uika","Ume","Umeka","Umeko","Umi","Umie","Umina","Una","Uno","Urako","Uran","Urara","Urei","Uru","Urue","Uruha","Urume","Urumi","Ururu","Usa","Usagi","Ushio","Uta","Utae","Utaha","Utaka","Utako","Utami","Utano","Utayo","Utsuki","Uyo","Waka","Wakaba","Wakae","Wakaha","Wakaho","Wakako","Wakami","Wakana","Wakano","Wakao","Wattan","Waya","Wayu","Wazuka","Yachi","Yae","Yaeko","Yaemi","Yama","Yasu","Yasue","Yasuha","Yasuho","Yasuka","Yasuki","Yasuko","Yasumi","Yasuna","Yasuno","Yasuo","Yasura","Yasuyo","Yayoi","Yayori","Yazuya","Yodo","Yoko","Yomishi","Yomogi","Yori","Yorie","Yorika","Yoriko","Yorimi","Yorina","Yoshe","Yoshi","Yoshie","Yoshiho","Yoshika","Yoshike","Yoshiki","Yoshiko","Yoshimi","Yoshina","Yoshine","Yoshino","Yoshiri","You","Youju","Youka","Youko","Youna","Yousei","Yu","Yua","Yuami","Yuan","Yuara","Yuari","Yuasa","Yuchika","Yudzuha","Yudzuki","Yudzuru","Yue","Yuei","Yufu","Yuhana","Yuhaya","Yuhiro","Yuho","Yui","Yuiga","Yuiha","Yuiho","Yuika","Yuiki","Yuiko","Yuina","Yuine","Yuiri","Yuisa","Yuka","Yukako","Yukana","Yukari","Yukayo","Yuki","Yukia","Yukie","Yukiha","Yukiho","Yukika","Yukiko","Yukimi","Yukina","Yukine","Yukino","Yukio","Yukisa","Yukise","Yukiyo","Yuko","Yuma","Yumako","Yume","Yumeha","Yumeho","Yumeka","Yumemi","Yumena","Yumeri","Yumeto","Yumi","Yumie","Yumika","Yumiko","Yumina","Yumine","Yumino","Yumio","Yumiyo","Yuna","Yune","Yuni","Yuno","Yunoka","Yunon","Yuo","Yuori","Yura","Yuri","Yuriha","Yurika","Yuriko","Yurima","Yusa","Yusana","Yusato","Yusuke","Yuto","Yutsuki","Yutsuru","Yuu","Yuua","Yuuga","Yuuha","Yuuhi","Yuuho","Yuui","Yuuka","Yuuki","Yuuko","Yuumi","Yuuna","Yuuno","Yuuri","Yuusa","Yuuwa","Yuuyu","Yuya","Yuyu","Yuzu","Yuzuha","Yuzuho","Yuzuka","Yuzuki","Yuzumi","Yuzuru","Yuzusa"],setup.NAME_japanese_male_first_name=["Aguri","Aito","Akahito","Akeno","Aki","Akifumi","Akiharu","Akihiko","Akihiro","Akihisa","Akihito","Akikazu","Akimasa","Akinari","Akinobu","Akinori","Akio","Akira","Akitaka","Akitomo","Akitoshi","Akiyoshi","Amane","Amiru","Anamu","Anzai","Ao","Aoi","Aoto","Aozora","Arata","Arihide","Arinori","Aritomo","Asahi","Asato","Ashihei","Asuka","Atasuke","Atomu","Atshushi","Atsuhiko","Atsuhiro","Atsumichi","Atsumori","Atsuo","Atsushi","Atsutane","Atsuto","Atsuya","Ayato","Ayumi","Ayumu","Azumamaro","Azumi","Baiko","Bairei","Bakin","Banri","Basho","Benjiro","Benkei","Bian","Biryuu","Bokkai","Botan","Buncho","Bunichi","Bunjiro","Bunrakuken","Bunzo","Bussho","Chihiro","Chikafusa","Chikao","Chikara","Chiko","Chojiro","Chomei","Chuichi","Dai","Daichi","Daigo","Daiichi","Daijirou","Daiki","Daimu","Daisaku","Daisetsu","Daisuke","Daito","Danjirou","Danjuro","Danno","Dayu","Denbe","Deruta","Doi","Dokuohtei","Doppo","Ebizo","Eichi","Eichiro","Eien","Eigorou","Eiichi","Eiichirou","Eiji","Eijiro","Eijirou","Eiju","Eikichi","Eisaku","Eisen","Eishi","Eisuke","Eita","Eitarou","Eito","Eitoku","Eizan","Eizo","Eizou","Ekiken","Ema","Ennosuke","Etsurou","Etsuya","Fujimaro","Fujio","Fukusaburu","Fumiaki","Fumihide","Fumihiko","Fumihiro","Fumikazu","Fumimaro","Fumio","Fumitaka","Fumitake","Fumitoshi","Fumiya","Fumiyuki","Fusaji","Fusatsugu","Fuseo","Futoshi","Fuu","Fuuga","Fuuki","Fuuma","Fuuta","Fuuto","Fuuya","Fuyuta","Gaho","Gai","Gaku","Gakuto","Gekko","Gempachi","Gen","Gengyo","Genichi","Genichirou","Genjo","Genki","Gennai","Gennosuke","Genpaku","Genta","Gesshin","Gidayu","Gihei","Giichi","Ginga","Ginji","Go","Goemon","Gombei","Gonkuro","Gonnohyoe","Gonshiro","Goro","Gou","Gunta","Gyokusho","Gyukudo","Hachemon","Hachigoro","Hachiro","Hajime","Haku","Hakuseki","Hanshiro","Haranobu","Haru","Haruaki","Haruhi","Haruhiko","Haruhiro","Haruka","Haruki","Haruko","Harumi","Harunobu","Haruo","Haruto","Haruya","Hayate","Hayato","Hayuma","Heihachiro","Heiji","Heikichi","Heizo","Hibiki","Hide","Hideaki","Hideharu","Hidehira","Hidehito","Hidekazu","Hideki","Hidemasa","Hidemi","Hidemichi","Hidenaga","Hidenari","Hidenobu","Hidenori","Hideo","Hideshi","Hidesuke","Hidetada","Hidetaka","Hideto","Hidetora","Hidetoshi","Hidetsugu","Hideya","Hideyasu","Hideyori","Hideyoshi","Hideyuki","Higashikuni","Hijiri","Hikari","Hikaru","Hikosaburo","Hikozaemon","Hinata","Hinato","Hio","Hiro","Hiroaki","Hirobumi","Hirofumi","Hiroharu","Hirohisa","Hirohito","Hiroji","Hirokazu","Hiroki","Hirokichi","Hirokumi","Hiromasa","Hiromi","Hiromiki","Hiromitsu","Hiromu","Hironari","Hironobu","Hironori","Hiroo","Hiroshi","Hiroshige","Hirotada","Hirotaka","Hirotarou","Hirotatsu","Hiroto","Hirotoshi","Hirotsugu","Hiroya","Hiroyasu","Hiroyoshi","Hiroyuki","Hisafumi","Hisahsi","Hisakazu","Hisaki","Hisamitsu","Hisanari","Hisanobu","Hisanori","Hisao","Hisashi","Hisato","Hisatoshi","Hisayuki","Hitomaro","Hitomi","Hitoshi","Hiyuu","Hodaka","Hogai","Hoitsu","Hokichi","Hokusai","Hokuto","Homare","Honzo","Horiuchi","Hoshi","Hoshiko","Hyakushige","Hyobe","Hyosuke","Hyotaru","Hyouga","Hyougo","Ibuki","Ichibei","Ichidou","Ichiriki","Ichiro","Ichirou","Ichisake","Ichiyo","Ichizo","Iemitsu","Iemochi","Ienobu","Iesada","Ieshige","Ietsuna","Ieyasu","Ieyoshi","Ikemoto","Ikkei","Ikki","Ikkou","Ikku","Ikufumi","Ikuo","Inejiro","Iori","Ippei","Ippo","Isamu","Isao","Isei","Isoruko","Isoshi","Itsuki","Iwane","Iwao","Izo","Izumi","Izumo","Jakuchu","Jin","Jinichirou","Jinzaburo","Jiro","Jirou","Jo","Joben","Joji","Jomei","Josuke","Jotaro","Jou","Jouji","Juichi","Jun","Junichi","Junichiro","Junichirou","Junji","Junnosuke","Junpei","Junta","Junya","Junzo","Juro","Jurobei","Juuto","Juzaburo","Juzo","Jyoji","Kado","Kadonomaro","Kaede","Kaemon","Kafu","Kagehisa","Kagetoki","Kageyasu","Kai","Kaii","Kairi","Kaisei","Kaishi","Kaito","Kakeru","Kakuei","Kakuzo","Kamatari","Kamlyn","Kan","Kaname","Kanata","Kanato","Kanbe","Kane","Kaneie","Kanezane","Kanji","Kanjiro","Kanko","Kannon","Kano","Kansuke","Kanta","Kantaro","Kanzaburo","Kaori","Kaoru","Karibu","Kata","Katai","Katsu","Katsuhide","Katsuhiko","Katsuhiro","Katsuhisa","Katsuhito","Katsuichi","Katsuji","Katsumi","Katsumoto","Katsunan","Katsunari","Katsunobu","Katsunori","Katsunosuki","Katsuo","Katsurou","Katsushi","Katsutarou","Katsutoshi","Katsuya","Katsuyoshi","Katsuyuki","Katzumi","Kawanari","Kaz","Kazu","Kazuaki","Kazufumi","Kazuharu","Kazuhei","Kazuhide","Kazuhiko","Kazuhiro","Kazuhisa","Kazuhito","Kazui","Kazuki","Kazuko","Kazuma","Kazumasa","Kazumi","Kazumichi","Kazumori","Kazunari","Kazunori","Kazuo","Kazushi","Kazushige","Kazutaka","Kazutarou","Kazuto","Kazutoshi","Kazuya","Kazuyoshi","Kazuyuki","Kei","Keigo","Keigou","Keiichi","Keiichirou","Keiji","Keijirou","Keika","Keiki","Keikou","Keisei","Keishi","Keisuke","Keita","Keitaro","Keitarou","Keito","Keizo","Keizou","Ken","Kengo","Kenichi","Kenichirou","Kenji","Kenjiro","Kenjirou","Kenkichi","Kenko","Kensaku","Kenshin","Kensuke","Kenta","Kentaro","Kentarou","Kento","Kenya","Kenzaburo","Kenzan","Kenzo","Kichibei","Kichisaburo","Kiemon","Kiho","Kiichi","Kijuro","Kikaku","Kikugoro","Kikunojo","Kimi","Kimiaki","Kiminobu","Kimitada","Kimiyuki","Kin","Kingo","Kinji","Kinmochi","Kinnojo","Kinnosuke","Kinta","Kinzo","Kioshi","Kisho","Kitahachi","Kiyoemon","Kiyofumi","Kiyohira","Kiyohisa","Kiyohito","Kiyomasu","Kiyomi","Kiyomori","Kiyonaga","Kiyonobu","Kiyonori","Kiyoshi","Kiyotaka","Kizuki","Koan","Kobo","Koetsu","Kohaku","Kohei","Koichi","Koin","Koji","Kojiro","Kojuro","Kokan","Kokei","Koki","Kokoro","Kokushi","Konosuke","Konoye","Konyo","Korechika","Korekiyo","Korenaga","Korin","Koryusai","Kosaku","Kosami","Koshiro","Kosho","Kotaro","Kotarou","Koto","Kou","Koudai","Kouhei","Kouichi","Kouichirou","Kouji","Koujirou","Kouki","Koumei","Kousei","Koushien","Koushirou","Kousuke","Kouta","Koutarou","Kouyou","Kouzou","Koyo","Kozue","Kuemon","Kuma","Kumanosuke","Kun","Kuniaki","Kuniharu","Kunihiko","Kunihiro","Kunimatsu","Kunimichi","Kunio","Kunisada","Kunitaro","Kuniyoshi","Kuniyuki","Kuran","Kuri","Kuu","Kyoden","Kyoichi","Kyoji","Kyoshi","Kyouhei","Kyouichi","Kyouji","Kyousuke","Kyuichi","Kyushichi","Kyuso","Kyuwa","Maa","Maasa","Mabuchi","Madoka","Magbei","Magobei","Magohachi","Maki","Makoto","Maku","Mamori","Mamoru","Mana","Manabu","Manaya","Manobu","Manzo","Mao","Mareo","Maresuke","Marihito","Mario","Maris","Marise","Maro","Masa","Masaaki","Masafumi","Masagazu","Masaharu","Masahide","Masahiko","Masahiro","Masahito","Masaji","Masakado","Masakazu","Masaki","Masami","Masamichi","Masamitsu","Masamune","Masanaga","Masanao","Masanobu","Masanori","Masao","Masaru","Masashi","Masashige","Masataka","Masatake","Masatami","Masato","Masatoshi","Masatsugu","Masaya","Masayo","Masayoshi","Masayuki","Masazumi","Masei","Mashai","Mashashi","Mashiro","Masu","Masuhiro","Masujiro","Masutaro","Matabei","Matashichi","Matsu","Matsudaira","Matsuo","Matsusuke","Matsuta","Matsuyo","Mayo","Meiji","Michihiro","Michinaga","Michinori","Michio","Michiru","Michizane","Mieko","Miharu","Miki","Mikiaki","Mikihiro","Mikikazu","Mikio","Mikuto","Minato","Mineyuki","Minori","Minoru","Mirai","Misao","Mito","Mitsuaki","Mitsuharu","Mitsuhide","Mitsuhiko","Mitsuhiro","Mitsuhisa","Mitsuki","Mitsukuni","Mitsunari","Mitsunori","Mitsuo","Mitsuoki","Mitsuru","Mitsushi","Mitsutaka","Mitsuteru","Mitsuyoshi","Mitsuyuki","Mitsuzuka","Miyazaki","Miyoko","Mizuki","Mobumasu","Mochihito","Moe","Mokichi","Mokuami","Momoru","Montaro","Monzaemon","Morie","Morihiro","Morikuni","Morimasa","Morimichi","Morio","Moromao","Moronobu","Motofumi","Motoichi","Motoki","Motokiyo","Motomi","Motonobu","Motoo","Motoshi","Motoshige","Mototsune","Motoyasu","Motoyuki","Munehiro","Munemitsu","Munemori","Munenori","Muneo","Muneyaki","Munoto","Murai","Musashi","Mushanokoji","Mutsohito","Myuuji","Naganori","Nagayuki","Nagi","Nagisa","Naito","Naizen","Nakamaro","Nakazo","Namboku","Nampo","Nanato","Nao","Naoaki","Naofumi","Naohiko","Naohiro","Naohisa","Naohito","Naoki","Naoko","Naomichi","Naonobu","Naoshi","Naosuke","Naotarou","Naoteru","Naoto","Naoya","Naoyuki","Naozane","Narahiko","Nariaki","Nariakira","Narihari","Narihira","Narihiro","Narikazu","Narimitsu","Naritada","Naritoshi","Naruhiko","Narumi","Natsu","Natsuki","Natsume","Natsumi","Natsuo","Nichiren","Nijirou","Nijito","Niki","Nikki","Nikko","Nikori","Ninsei","Niou","Nissho","Noboru","Nobuaki","Nobuatsu","Nobuharu","Nobuhiko","Nobuhiro","Nobuhisa","Nobuhito","Nobukazu","Nobuki","Nobumasa","Nobunaga","Nobuo","Noburo","Nobusuke","Nobutada","Nobutaka","Nobuteru","Nobutomo","Nobutoshi","Nobuya","Nobuyasu","Nobuyoki","Nobuyori","Nobuyoshi","Nobuyuki","Nori","Noriaki","Norihide","Norihiro","Norihisa","Norihito","Norinaga","Norio","Norishige","Noritada","Noritaka","Noriteru","Noritomo","Noritoshi","Noriyori","Noriyuki","Norogumi","Nozomi","Oda","Ogai","Okakura","Okitsugu","Okura","Okyoito","Omezo","Oniji","Oozora","Orinosuke","Osamu","Oto","Otojiro","Ouji","Rai","Raidon","Raimu","Raito","Rara","Razan","Rei","Reiichi","Reiji","Reijiro","Reiya","Reizo","Ren","Renjiro","Renta","Rentarou","Rento","Renya","Renzo","Reo","Reon","Rihito","Riki","Rikimaru","Rikio","Rikito","Rikiya","Rikizou","Riku","Rikuo","Rikuto","Rikyu","Rima","Rimu","Rin","Ringo","Rinji","Rinta","Rintaro","Rintarou","Rio","Rion","Risa","Ritsu","Ritsuki","Rizumu","Rkuemon","Robin","Robun","Roka","Roku","Rosanjin","Rui","Ryo","Ryobe","Ryoichi","Ryoko","Ryoma","Ryosei","Ryou","Ryouga","Ryouhei","Ryouichi","Ryouji","Ryoukei","Ryouken","Ryouma","Ryousuke","Ryouta","Ryoutarou","Ryouto","Ryouya","Ryozo","Ryu","Ryuichi","Ryunosuke","Ryushi","Ryutaro","Ryuu","Ryuuichi","Ryuuji","Ryuujirou","Ryuuken","Ryuuki","Ryuuma","Ryuunosuke","Ryuusei","Ryuusuke","Ryuuta","Ryuutarou","Ryuuto","Ryuuya","Ryuuzou","Ryuzaburo","Saburo","Sachi","Sachio","Sadaetsu","Sadafumi","Sadaharu","Sadahige","Sadahiro","Sadakuno","Sadanobu","Sadanori","Sadao","Sadatake","Sadayoshi","Saemon","Saikaku","Saionji","Saku","Sakutaro","Sakutarou","Sakuya","Samba","Saneatsu","Sanetomo","Sanjiro","Sanjuro","Sanraku","Sanzo","Satoru","Satoshi","Sawao","Sei","Seibei","Seiesnsui","Seiga","Seigo","Seihachi","Seiho","Seiichi","Seiichirou","Seiji","Seijirou","Seijuurou","Seika","Seiki","Seinosuke","Seira","Seiryo","Seishi","Seishiro","Seishisai","Seison","Seitaro","Seitarou","Seito","Seiya","Sekien","Sen","Sena","Senichi","Senri","Senzo","Sessue","Settan","Sharaku","Shiba","Shichirobei","Shigeaki","Shigeharu","Shigehisa","Shigeji","Shigekazu","Shigeki","Shigeko","Shigemasa","Shigematsu","Shigemori","Shigenaga","Shigenobu","Shigenori","Shigeo","Shigerou","Shigeru","Shigetaka","Shigetoki","Shigetomo","Shigetora","Shigeyuki","Shigochiyo","Shihei","Shihi","Shijo","Shiki","Shiko","Shimei","Shimpei","Shin","Shindou","Shingen","Shingo","Shinichi","Shinichirou","Shinji","Shinjirou","Shinki","Shinkichi","Shinnosuke","Shino","Shinobu","Shinpei","ShinriKiyaru","Shinsaku","Shinsui","Shintaro","Shintarou","Shinya","Shinzaburo","Shinzo","Shinzou","Shion","Shirai","Shiro","Shirosama","Shirou","Shizuaki","Shizue","Sho","Shoda","Shodai","Shogo","Shohei","Shoichi","Shoin","Shoji","Shojiro","Shoko","Shoraku","Shosuke","Shotaro","Shou","Shouei","Shougo","Shouhei","Shouichi","Shouji","Shouki","Shouma","Shouno","Shouri","Shouta","Shoutarou","Shouun","Shouya","Shouzou","Shoyo","Shozaburo","Shozo","Shuichi","Shuji","Shukishi","Shuko","Shumei","Shumkichi","Shun","Shuncho","Shungo","Shungyosai","Shunichi","Shunichirou","Shunji","Shunko","Shunmyo","Shunpei","Shunsen","Shunsho","Shunso","Shunsuke","Shunta","Shuntarou","Shunya","Shunen","Shusake","Shusaku","Shusui","Shuu","Shuugetsu","Shuugo","Shuuhei","Shuuichi","Shuuji","Shuuma","Shuusaku","Shuusuke","Shuuta","Shuuto","Shuuya","Shuuzou","Shuzo","Soetsu","Sofu","Soh","Soichiro","Sojuro","Sonata","Sora","Sorachi","Sorai","Sorato","Sosa","Soseki","Soshitsu","Soshu","Sosuke","Sotan","Sotaro","Sotatsu","Sou","Soudai","Souichirou","Soujirou","Soukuu","Souma","Sousuke","Souta","Soutarou","Souto","Sozen","Sozui","Ssekien","Subaru","Suezo","Sugimoto","Sugita","Suguru","Sukai","Sukejuro","Sukenobu","Suketsune","Sukeyasu","Sumio","Sumiteru","Sumitomo","Susumu","Suzu","Tabito","Tadaharu","Tadahiro","Tadahisa","Tadakuni","Tadamasa","Tadamichi","Tadamori","Tadanori","Tadao","Tadashi","Tadasu","Tadasuke","Tadataka","Tadatoshi","Tadatsugu","Tadayoshi","Tadayuki","Tadiyuki","Taheiji","Taichi","Taiga","Taikai","Taikan","Taikei","Taiki","Tairiku","Taisaku","Taisei","Taishi","Taisho","Taisuke","Taiyou","Taizou","Taji","Taka","Takaaki","Takafumi","Takaharu","Takahashi","Takahide","Takahiko","Takahiro","Takahisa","Takahito","Takai","Takakazu","Takaki","Takamasa","Takami","Takamori","Takamuku","Takanaga","Takanari","Takanibu","Takanobu","Takanori","Takao","Takashi","Takashige","Takatoshi","Takauji","Takaya","Takayasu","Takayoshi","Takayuki","Takeaki","Takechi","Takeharu","Takehide","Takehiko","Takehiro","Takeichi","Takeji","Takejiro","Takenao","Takeo","Takeomi","Takeru","Takeshi","Takesi","Taketsugu","Taki","Takiji","Takiya","Taku","Takuboku","Takuji","Takuma","Takumi","Takumu","Takuo","Takuro","Takurou","Takushi","Takuto","Takuya","Takuyou","Takuzou","Tamaki","Tamasaburo","Tamasine","Tameyoshi","Tamotsu","Tamuramaro","Tanak","Tango","Tanjiro","Tanosuke","Tanyu","Tanzan","Tappei","Taro","Taroemon","Tarou","Tarozaemon","Tashiaki","Tashiro","Tasuku","Tateyoshi","Tatsu","Tatsuaki","Tatsuhei","Tatsuhiko","Tatsuhiro","Tatsui","Tatsuji","Tatsuki","Tatsukichi","Tatsunori","Tatsuo","Tatsuya","Tatsuzo","Taysuke","Teiji","Teijo","Teika","Teiljo","Teinosuke","Tekkan","Ten","Tenma","Tenshin","Teppei","Terao","Teriuihi","Teru","Teruaki","Teruhiko","Terukazu","Terumoto","Terunori","Teruo","Terutaka","Teruyuki","Tessai","Tessei","Tetsu","Tetsuhiko","Tetsuhiro","Tetsui","Tetsuji","Tetsunori","Tetsuo","Tetsushi","Tetsutarou","Tetsuto","Tetsuya","Tetsuyuki","Tetsuzan","Thoki","Tobei","Togai","Tohaku","Toichi","Toin","Toju","Tokaji","Toki","Tokichiro","Tokimasa","Tokimune","Tokio","Tokirou","Tokugawa","Tokuhei","Tokuma","Tokuo","Tokutomi","Tomeharu","Tomeo","Tomiichi","Tomiji","Tomio","Tomo","Tomoaki","Tomoe","Tomofumi","Tomohiko","Tomohiro","Tomohisa","Tomokazu","Tomoki","Tomomasa","Tomomi","Tomomizu","Tomonari","Tomonori","Tomoo","Tomoru","Tomoshi","Tomotarou","Tomotoshi","Tomoya","Tomoyasu","Tomoyoshi","Tomoyuki","Tomu","Ton","Tooi","Tooru","Torajiro","Toranosuke","Torazo","Torio","Toru","Toshi","Toshiaki","Toshifumi","Toshiharu","Toshihide","Toshihiko","Toshihiro","Toshiichi","Toshikasu","Toshikatsu","Toshikazu","Toshiki","Toshikuni","Toshimichi","Toshimitsu","Toshinobu","Toshinori","Toshio","Toshiro","Toshirou","Toshitaka","Toshitarou","Toshitsugu","Toshiya","Toshiyasu","Toshiyuki","Toson","Totoya","Touki","Touma","Towa","Toyoaki","Toyoharu","Toyohiro","Toyoji","Toyokazu","Toyokuni","Toyonobu","Toyoshige","Toyotaka","Toyotomi","Toyozo","Tsubasa","Tsugahara","Tsugiharu","Tsugikazu","Tsuginori","Tsugumichi","Tsukasa","Tsukika","Tsukuru","Tsumemasa","Tsunayoshi","Tsuneari","Tsunehiro","Tsunehisa","Tsuneo","Tsunesaburo","Tsuneyasu","Tsuneyo","Tsuneyoshi","Tsuramatsu","Tsurayaki","Tsuruki","Tsutomu","Tsuyoshi","Udo","Udzuki","Uichi","Ukon","Ukyo","Ukyou","Unkei","Uri","Utaemon","Utamara","Utamuro","Utemaro","Wakashi","Wao","Waotaka","Washi","Washichi","Wataru","Yachi","Yaichiro","Yajirobei","Yakamochi","Yakumo","Yamato","Yasotaro","Yasuaki","Yasuharu","Yasuhide","Yasuhiko","Yasuhiro","Yasuhisa","Yasuhito","Yasuji","Yasujiro","Yasukazu","Yasumasa","Yasunari","Yasunobu","Yasunori","Yasuo","Yasuoka","Yasushi","Yasuta","Yasutaka","Yasutake","Yasuto","Yasutoki","Yasutoyo","Yasuyoshi","Yasuyuki","Yataro","Yatsuhiro","Yeijiro","Yo","Yodo","Yohachi","Yoichi","Yoichibei","Yonemitsu","Yoriie","Yorikane","Yoringa","Yoritoki","Yoritomo","Yoriyoshi","Yoriyuki","Yosai","Yoshi","Yoshiaga","Yoshiaki","Yoshida","Yoshifumi","Yoshifusa","Yoshiharu","Yoshihide","Yoshihiko","Yoshihiro","Yoshihisa","Yoshihito","Yoshii","Yoshiiku","Yoshiji","Yoshikatsu","Yoshikazu","Yoshiki","Yoshimasa","Yoshimatsu","Yoshimi","Yoshimitsu","Yoshimochi","Yoshimune","Yoshinaga","Yoshinaka","Yoshinao","Yoshinari","Yoshino","Yoshinobu","Yoshinori","Yoshio","Yoshirou","Yoshisada","Yoshitada","Yoshitaka","Yoshitake","Yoshiteru","Yoshito","Yoshitoki","Yoshitomo","Yoshitora","Yoshitoshi","Yoshitsugu","Yoshitsune","Yoshiuke","Yoshiyasu","Yoshiyuki","Yoshizou","Yoshizumi","Yoson","Yosuke","You","Youhei","Youichi","Youichirou","Youji","Youjirou","Youki","Yousuke","Youta","Youto","Yozo","Yugoro","Yuichi","Yuito","Yuji","Yujiro","Yuki","Yukichi","Yukihide","Yukihiko","Yukihiro","Yukihisa","Yukiji","Yukinaga","Yukinari","Yukinori","Yukio","Yukitoshi","Yukiyoshi","Yuko","Yunosuke","Yushiro","Yusuke","Yutaka","Yuu","Yuua","Yuudai","Yuuei","Yuuga","Yuugi","Yuugo","Yuuhei","Yuuhi","Yuuichi","Yuuichirou","Yuuji","Yuujin","Yuuki","Yuuma","Yuusaku","Yuusei","Yuushi","Yuushou","Yuusuke","Yuuta","Yuutarou","Yuuto","Yuuwa","Yuuya","Yuuzou","Yuzuru","Zen","Zenko","Zennosuke","Zeshin"],setup.NAME_japanese_surname=["Abe","Abukara","Adachi","Aibu","Aida","Aihara","Aizawa","Ajibana","Akaike","Akamatsu","Akatsuka","Akechi","Akera","Akimoto","Akita","Akiyama","Akutagawa","Amagawa","Amano","Amaya","Amori","Anami","Ando","Andou","Anzai","Aoki","Aoyagi","Aoyama","Arai","Arakaki","Arakawa","Araki","Arakida","Arato","Araya","Arihyoshi","Arishima","Arita","Ariwa","Ariwara","Asada","Asahara","Asahi","Asai","Asano","Asanuma","Asari","Ashia","Ashida","Ashikaga","Asuhara","Atshushi","Ayabe","Ayabito","Ayugai","Azama","Azuma","Baba","Chiba","Chikamatsu","Chikanatsu","Chino","Chishu","Choshi","Daishi","Dan","Date","Dazai","Deguchi","Deushi","Doi","Ebina","Ebisawa","Eda","Egami","Eguchi","Ekiguchi","Endo","Endoso","Endou","Enoki","Enomoto","Erizawa","Eto","Etsuko","Ezakiya","Fuchida","Fuchizaki","Fugunaga","Fujii","Fujikage","Fujikawa","Fujimaki","Fujimoto","Fujimura","Fujino","Fujioka","Fujisawa","Fujishima","Fujita","Fujiwara","Fukao","Fukayama","Fukazawa","Fukuda","Fukuhara","Fukui","Fukumitsu","Fukumoto","Fukunaga","Fukunaka","Fukuoka","Fukusaku","Fukushima","Fukuyama","Fukuzawa","Fumihiko","Funabashi","Funaki","Funakoshi","Furuhata","Furukawa","Furusawa","Furuta","Fuschida","Fuse","Futabatei","Fuwa","Gakusha","Genda","Genji","Gensai","Godo","Goto","Gotou","Gushiken","Haga","Hagihara","Hagino","Hagiwara","Hakamada","Hama","Hamacho","Hamada","Hamaguchi","Hamamoto","Hamano","Hamazaki","Han","Hanabusa","Hanada","Hanari","Handa","Hara","Harada","Haraguchi","Haruguchi","Hasegawa","Hasekura","Hashi","Hashimoto","Hasimoto","Hatakeda","Hatakeyama","Hatanaka","Hatayama","Hatoyama","Hattori","Hayakawa","Hayami","Hayashi","Hayashida","Hayata","Hayuata","Hida","Hidaka","Hideaki","Hideki","Hideyoshi","Higa","Higashi","Higashikuni","Higashiyama","Higo","Higoshi","Higuchi","Hike","Hino","Hira","Hiraga","Hirai","Hirakawa","Hiraki","Hiramatsu","Hirano","Hiranuma","Hiraoka","Hirase","Hirasi","Hirata","Hiratasuka","Hirayama","Hiro","Hirose","Hirota","Hiroyuki","Hisamatsu","Hishida","Hishikawa","Hitomi","Hiyama","Hohki","Hojo","Hokusai","Honami","Honda","Honma","Hori","Horie","Horigome","Horigoshi","Horiguchi","Horikawa","Horiuchi","Horri","Hoshi","Hoshino","Hosokawa","Hosokaya","Hotate","Hotta","Hyata","Hyobanshi","Ibi","Ibu","Ibuka","Ichigawa","Ichihara","Ichikawa","Ichimonji","Ichiro","Ichisada","Ichiyusai","Idane","Iemochi","Ienari","Iesada","Ieyasu","Ieyoshi","Igarashi","Iguchi","Ihara","Ii","Iida","Iidzuka","Iijima","Iitaka","Ijichi","Ijiri","Ikeda","Ikegami","Ikina","Ikoma","Imada","Imagawa","Imai","Imaizumi","Imamura","Imano","Imoo","Ina","Inaba","Inada","Inagaki","Inao","Inihara","Ino","Inoguchi","Inokuma","Inomata","Inoue","Inouye","Inukai","Ippitsusai","Irie","Iriye","Isaka","Isayama","Ise","Iseki","Iseya","Ishibashi","Ishida","Ishidzuka","Ishiguro","Ishihara","Ishii","Ishikawa","Ishimaru","Ishimura","Ishinomori","Ishio","Ishiyama","Ishizaki","Isobe","Isoda","Isozaki","Itagaki","Itami","Ito","Itoh","Itou","Iwahara","Iwahashi","Iwai","Iwakura","Iwamoto","Iwasa","Iwasaki","Iwase","Iwata","Izawa","Izumi","Jinnai","Jo","Joshuya","Joshuyo","Jukodo","Jumonji","Kada","Kagabu","Kagawa","Kahae","Kahaya","Kai","Kaibara","Kaima","Kajahara","Kajitani","Kajiwara","Kajiyama","Kakinomoto","Kakuta","Kakutama","Kamachi","Kamata","Kamei","Kameyama","Kaminaga","Kamio","Kamioka","Kamisaka","Kamiya","Kamo","Kamon","Kan","Kanada","Kanagaki","Kanai","Kanazawa","Kaneda","Kanegawa","Kaneko","Kanesaka","Kaneshiro","Kanno","Kano","Kanou","Karamorita","Karube","Karubo","Kasahara","Kasai","Kasamatsu","Kasaya","Kase","Kashiwabara","Kashiwagi","Kasuse","Katabuchi","Katagiri","Kataoka","Katayama","Katayanagi","Kate","Kato","Katoaka","Katou","Katsu","Katsukawa","Katsumata","Katsura","Katsushika","Kawabata","Kawabe","Kawachi","Kawagichi","Kawagishi","Kawaguchi","Kawahara","Kawai","Kawaii","Kawakami","Kawamata","Kawamoto","Kawamura","Kawano","Kawara","Kawasaki","Kawasawa","Kawashima","Kawasie","Kawata","Kawatake","Kawate","Kawayama","Kawazu","Kaza","Kazuyoshi","Kenkyusha","Kenmotsu","Kentaro","Ki","Kido","Kihara","Kijimuta","Kijmuta","Kikkawa","Kikuchi","Kikugawa","Kikui","Kikutake","Kimio","Kimiyama","Kimura","Kinashita","Kinjo","Kino","Kinoshita","Kinugasa","Kira","Kishi","Kishimoto","Kiski","Kita","Kitabatake","Kitagawa","Kitahara","Kitajima","Kitamura","Kitano","Kitao","Kitoaji","Kiyoura","Ko","Kobayashi","Kobi","Kodama","Koga","Koganezawa","Kogara","Kogo","Koguchi","Koide","Koike","Koiso","Koizumi","Kojima","Kokan","Komagata","Komatsu","Komatsuzaki","Komine","Komiya","Komon","Komori","Komukai","Komura","Kon","Konae","Konda","Kondo","Kondou","Konishi","Kono","Konoe","Kora","Koruba","Kosaka","Koshin","Kotabe","Kotani","Kotara","Kotoku","Kouda","Kouno","Koyama","Koyanagi","Kozu","Kubo","Kubodera","Kubota","Kudara","Kudo","Kudou","Kuga","Kumagae","Kumagai","Kumagaya","Kumasaka","Kunda","Kunikida","Kunisada","Kuno","Kunomasu","Kuramochi","Kuramoto","Kurata","Kurihara","Kurita","Kurkawa","Kurmochi","Kuroda","Kurofuji","Kurogane","Kurohiko","Kurokawa","Kuroki","Kurosawa","Kurotani","Kurusu","Kusaka","Kusatsu","Kusonoki","Kusuhara","Kusumoto","Kusunoki","Kutsuna","Kuwabara","Kuwahara","Kyubei","Machida","Maeda","Maekawa","Maeno","Maita","Makino","Makioka","Makuda","Marubeni","Marugo","Maruyama","Masanobu","Masaoka","Mashita","Masuda","Masuko","Masuno","Masuo","Masuzoe","Matano","Matsubara","Matsuda","Matsui","Matsukata","Matsuki","Matsumara","Matsumiya","Matsumoto","Matsumura","Matsunaga","Matsuno","Matsuo","Matsuoka","Matsura","Matsushima","Matsushina","Matsushita","Matsuura","Matsuyama","Matsuzaki","Matsuzawa","Mayuzumi","Mazaki","Mazawa","Mihashi","Mikami","Miki","Mimasuya","Minabuchi","Minami","Minatoya","Minobe","Misawa","Mishima","Mitsubishi","Mitsukuri","Mitsuwa","Mitsuya","Mitzusaka","Miura","Miwa","Miyagawa","Miyagi","Miyahara","Miyajima","Miyake","Miyamoto","Miyashita","Miyata","Miyauchi","Miyazaki","Miyazawa","Miyoshi","Mizoguchi","Mizukawa","Mizukuro","Mizuno","Mizutani","Mochidzuki","Mochizuki","Modegi","Mogi","Momotami","Momotani","Mori","Moriguchi","Morikawa","Morimoto","Morinaga","Morioka","Morishita","Morita","Moriwaka","Moriyama","Morri","Moto","Motoori","Mukai","Munkata","Muraguchi","Murai","Murakami","Muramatsu","Muraoka","Murase","Murata","Murayama","Murkami","Muro","Muruyama","Muso","Mutou","Mutsu","Nagahama","Nagai","Nagako","Nagano","Nagao","Nagaoka","Nagasawa","Nagase","Nagashima","Nagata","Nagatsuka","Nagumo","Naito","Naitou","Nakada","Nakadai","Nakadan","Nakae","Nakagawa","Nakahara","Nakai","Nakajima","Nakamoto","Nakamura","Nakane","Nakanishi","Nakano","Nakanoi","Nakao","Nakasato","Nakasawa","Nakasone","Nakata","Nakatani","Nakatoni","Nakatsuka","Nakayama","Nakazawa","Namiki","Nanami","Narahashi","Narato","Narita","Nataga","Natsume","Nawabe","Negishi","Nemoto","Niijima","Nijo","Ninomiya","Nishi","Nishida","Nishihara","Nishikawa","Nishimoto","Nishimura","Nishimuraya","Nishino","Nishio","Nishioka","Nishiwaki","Nishiyama","Nishizawa","Nitta","Niwa","Nobunaga","Nobusawa","Noda","Nogi","Noguchi","Nogushi","Nomura","Nonaka","Nonomura","Noro","Nosaka","Nose","Noto","Nozaki","Nozara","Nozawa","Numajiri","Numata","Obara","Obata","Obinata","Obuchi","Ochi","Ochiai","Ochida","Oda","Odaka","Ogasawara","Ogata","Ogawa","Ogino","Ogiwara","Ogura","Ogyu","Ohba","Ohira","Ohishi","Ohka","Ohmae","Ohmiya","Oichi","Oikawa","Oinuma","Oishi","Oka","Okabe","Okada","Okajima","Okakura","Okamoto","Okamura","Okanao","Okanaya","Okano","Okasawa","Okawa","Okazaki","Okazawaya","Okimasa","Okimoto","Okimura","Okita","Okubo","Okuda","Okui","Okuma","Okumura","Okuno","Okura","Okuyama","Omori","Omura","Onishi","Ono","Onoda","Onodera","Onoe","Onohara","Ooba","Oohara","Oohashi","Oohira","Ooishi","Ooka","Ookawa","Ooki","Ookubo","Oomori","Oomura","Oonishi","Oono","Oosaki","Oosawa","Ooshima","Ooshiro","Oota","Ootake","Ootani","Ootsuka","Ootsuki","Oouchi","Ooyama","Osagawa","Osaka","Osaragi","Oshima","Oshin","Oshiro","Ota","Otaka","Otake","Otani","Otomo","Otsu","Otsuka","Ouchi","Oushima","Outakara","Outsuka","Oyama","Ozaki","Ozawa","Ozu","Raikatuji","Royama","Ryusaki","Sada","Saeki","Saga","Sahashi","Saigo","Saiki","Saionji","Saito","Saitoh","Saitou","Saji","Sakagami","Sakaguchi","Sakai","Sakakibara","Sakamoto","Sakanoue","Sakata","Sakiyurai","Sako","Sakoda","Sakubara","Sakuma","Sakuraba","Sakurada","Sakurai","Sammiya","Sanda","Sanjo","Sano","Santo","Saromi","Sarumara","Sasada","Sasakawa","Sasaki","Sassa","Satake","Sato","Satoh","Satou","Satoya","Sawada","Sawai","Sawamatsu","Sawamura","Sayuki","Segawa","Seki","Sekigawa","Sekiguchi","Sekine","Sekozawa","Sen","Senda","Senmatsu","Seo","Serizawa","Seto","Seyama","Shiba","Shibaguchi","Shibanuma","Shibasaki","Shibasawa","Shibata","Shibue","Shibukji","Shibuya","Shichirobei","Shidehara","Shiga","Shiganori","Shige","Shigeki","Shigemitsu","Shigi","Shikitei","Shikuk","Shima","Shimada","Shimakage","Shimamura","Shimanouchi","Shimaoka","Shimazaki","Shimazu","Shimedzu","Shimizu","Shimoda","Shimohira","Shimomura","Shimon","Shimura","Shimuzu","Shinden","Shinko","Shinoda","Shinohara","Shinozaki","Shinozuka","Shintaro","Shiokawa","Shiomi","Shiomiya","Shionoya","Shiotani","Shioya","Shirahata","Shirai","Shiraishi","Shirakawa","Shirane","Shirasu","Shiratori","Shirokawa","Shiroyama","Shiskikura","Shizuma","Shobo","Shoda","Shouji","Shunji","Shunsen","Siagyo","Soga","Sohda","Soho","Soma","Someya","Sone","Sonoda","Soseki","Sotomura","Souma","Suda","Sudou","Suenami","Sugahara","Sugai","Sugase","Sugawara","Suge","Sugihara","Sugimoto","Sugimura","Sugino","Sugisata","Sugita","Sugitani","Sugiura","Sugiyama","Sumitimo","Sunada","Suzambo","Suzuki","Tabata","Tabuchi","Tada","Tadeshi","Tagawa","Taguchi","Tahara","Taira","Tajima","Taka","Takabe","Takada","Takagaki","Takagawa","Takagi","Takahama","Takahashi","Takahasi","Takai","Takaki","Takamatsu","Takamura","Takano","Takaoka","Takara","Takase","Takashima","Takashita","Takasu","Takasugi","Takayama","Takecare","Takeda","Takei","Takekawa","Takemago","Takemitsu","Takemoto","Takemura","Takenaka","Takeshi","Takeshita","Taketa","Taketomo","Takeuchi","Takeushi","Takewaki","Takimoto","Takishida","Takishita","Takita","Takizawa","Taku","Takudo","Takudome","Tamaasa","Tamazaki","Tamura","Tamuro","Tanabe","Tanaka","Tange","Tani","Tanigawa","Taniguchi","Tanizaki","Tankoshitsu","Tanoue","Tansho","Tanuma","Tarumi","Tashiro","Tatenaka","Tateno","Tatsuko","Tatsuno","Tatsuya","Tawaraya","Tayama","Tedzuka","Temko","Tenshin","Terada","Terajima","Terakado","Terauchi","Teshigahara","Teshima","Tezuka","Tochikura","Toda","Togo","Tojo","Tokaji","Tokuda","Tokudome","Tokunaga","Tokuoka","Tomika","Tomimoto","Tominaga","Tomioka","Tomita","Tommii","Tomonaga","Tomori","Tono","Torii","Torisawa","Torisei","Toru","Toshishai","Toshitala","Toshusai","Toyama","Toyoda","Toyoshima","Toyota","Toyotomi","Tsubouchi","Tsucgimoto","Tsuchida","Tsuchie","Tsuchiya","Tsuchiyama","Tsuda","Tsuga","Tsuji","Tsujimoto","Tsujimura","Tsukada","Tsukade","Tsukahara","Tsukamoto","Tsukatani","Tsukawaki","Tsukehara","Tsukioka","Tsumemasa","Tsumura","Tsunoda","Tsurimi","Tsuruga","Tsuruta","Tsuruya","Tsushima","Tsutaya","Tsutomu","Tsutsui","Tsutsumi","Tsutsumida","Uboshita","Uchida","Uchiumi","Uchiyama","Ueda","Uehara","Uemura","Ueno","Ueshima","Uesugi","Uetake","Ugaki","Ui","Ukiyo","Umari","Umeda","Umehara","Umeki","Uno","Uoya","Urayama","Urogataya","Usami","Ushiba","Usui","Utagawa","Wada","Wakabayashi","Wakai","Wakatsuki","Watabe","Watanabe","Watari","Watnabe","Watoga","Yagi","Yaguchi","Yajima","Yakuta","Yamabe","Yamada","Yamadera","Yamagata","Yamagishi","Yamaguchi","Yamaguchiya","Yamaha","Yamahata","Yamakage","Yamakawa","Yamakazi","Yamamoto","Yamamura","Yamana","Yamanaka","Yamane","Yamanouchi","Yamanoue","Yamaoka","Yamasaki","Yamashita","Yamato","Yamauchi","Yamawaki","Yamazaki","Yamhata","Yamoto","Yamura","Yanagawa","Yanagi","Yanagida","Yanagimoto","Yanagisawa","Yanagita","Yanasaki","Yano","Yasuda","Yasuhiro","Yasui","Yasujiro","Yasukawa","Yasutake","Yoemon","Yokawa","Yokoi","Yokokawa","Yokota","Yokoyama","Yonai","Yone","Yoneda","Yosano","Yoshida","Yoshifumi","Yoshihara","Yoshii","Yoshikawa","Yoshimatsu","Yoshimoto","Yoshimura","Yoshino","Yoshinobu","Yoshioka","Yoshitomi","Yoshizaki","Yoshizawa","Yuasa","Yuhara","Yunokawa"];const Qf=["","","","b","bhr","bh","cy","cl","ch","chr","d","dh","g","gh","ghr","k","khr","kh","kn","kl","khn","sh","shr","sc","sl","sn","shn","sht","str","sz","t","th","thr","v","vr","z","zh","zr"],nf=["a","e","i","a","e","i","a","e","i","a","e","i","a","e","i","a","e","i","a","e","i","a","e","i","o","u","o","o","u","u","ai","ei","ee","ea","aa"],E_=["b","bb","d","dd","g","gg","k","kk","r","rr","tt","zz","b","bb","d","dd","g","gg","k","kk","r","rr","tt","zz","b","bn","bb","d","dd","dj","dn","g","gg","gl","gn","gm","gr","ggn","ggv","gv","k","kk","kl","ks","ksh","kg","kn","lz","lv","lg","lgr","lkh","ldj","lbl","mg","mgl","mkh","mch","mdj","ms","msz","msr","ng","nd","ndr","ngd","ngl","nsh","nsz","r","rr","rg","rgl","rdh","rdj","rsz","rl","rkh","rch","th","tsz","thr","tt","zs","zsr","zhk","zkh","zz","zsz","zd"],of=["","","","","","","","","","","","","","","","h","hl","hn","hs","l","n","ng","s","y","z"],Zf=["","","","","","b","bhr","cr","cl","ch","chr","d","g","ghr","k","kh","kn","sh","shr","sc","sn","str","sz","thr","v","vr","x","z","zr"],lf=["a","e","i","u","a","e","i","u","a","e","i","u","a","e","i","u","a","e","i","u","a","e","i","u","a","e","i","u","o","o","o","o","aa","ee","ia","ai","ei"],x_=["b","bb","d","dd","g","gg","k","kk","r","rr","tt","z","zz","bhr","dj","gn","gm","gr","gv","kz","kv","khr","lg","lgr","lk","ld","lz","ldr","mg","mk","mch","mq","msz","mzr","ng","nd","ndr","nz","nsz","rg","rd","rdr","rdj","rsz","rk","rch","tz","tr","thr","zs","zsz","zzs","zd"],uf=["","","","","","h","l","m","n","ng","r","s","sz","x","z"];function D_(i){const e=i;let t;if(e==1){let a=Math.floor(Math.random()*Qf.length),r=Math.floor(Math.random()*nf.length),s=Math.floor(Math.random()*of.length);if(Math.random()<.4){for(;a<3;)a=Math.floor(Math.random()*Qf.length);for(;s<15;)s=Math.floor(Math.random()*of.length);t=Qf[a]+nf[r]+of[s]}else{let n=Math.floor(Math.random()*E_.length),l=Math.floor(Math.random()*nf.length);if(a<3)for(;s<5;)s=Math.floor(Math.random()*of.length);t=Qf[a]+nf[r]+E_[n]+nf[l]+of[s]}}else if(e===2){let a=Math.floor(Math.random()*Zf.length),r=Math.floor(Math.random()*lf.length),s=Math.floor(Math.random()*uf.length);if(Math.random()<.4){for(;a<5;)a=Math.floor(Math.random()*Zf.length);for(;s<5;)s=Math.floor(Math.random()*uf.length);t=Zf[a]+lf[r]+uf[s]}else{let n=Math.floor(Math.random()*x_.length),l=Math.floor(Math.random()*lf.length);if(a<5)for(;s<5;)s=Math.floor(Math.random()*uf.length);t=Zf[a]+lf[r]+x_[n]+lf[l]+uf[s]}}return setup.capitalize(t)}o(D_,"kobold_gen_name"),setup.NAME_kobold_male_first_name=function(){return D_(1)},setup.NAME_kobold_female_first_name=function(){return D_(2)},setup.NAME_kobold_surname=function(){const i=["Ash","Barb","Barbed","Bitter","Black","Blind","Blood","Bone","Boulder","Brave","Brew","Brick","Broad","Bronze","Brown","Claw","Cliff","Coal","Cold","Common","Coven","Crag","Crimson","Crow","Dark","Dim","Dragon","Dust","Ember","Far","Fern","First","Fist","Flask","Flat","Fog","Fool","Fore","Frozen","Full","Gore","Grass","Gray","Green","Grey","Grime","Grumble","Hard","Haze","Heavy","Hill","Horn","Iron","Keen","Krag","Large","Last","Lead","Leather","Lone","Middle","Molten","Moon","Morning","Mountain","Mud","Muk","Nether","Night","Oat","Orb","Pale","Pebble","Pine","Plate","Queit","Rabid","Rain","Rapid","Red","River","Rock","Rough","Rumble","Sapphire","Savage","Shadow","Sharp","Shatter","Silent","Silver","Simple","Skull","Spider","Standing","Star","Steel","Stone","Storm","Stout","Strong","Tusk","White","Wild"],e=["arm","ash","back","bane","bash","basher","bear","belly","belt","bender","bison","blade","blood","blower","bluff","bone","born","bough","bow","brace","branch","brand","breaker","breath","bringer","brother","brow","buckle","buster","chaser","chest","chew","chewer","chin","claw","cleaver","coat","crag","crest","crusher","cut","cutter","delver","digger","drifter","dust","eart","eye","eyes","fall","fang","feather","feet","finger","fish","fist","flare","flaw","foot","gaze","gazer","grip","grog","guard","gut","hammer","hands","hawk","head","hide","horn","hound","hunter","jaw","lash","mail","mane","mark","master","maul","maw","pelt","punch","rage","ripper","runner","scar","seeker","sister","snarl","snout","spine","splinter","stalker","storm","stride","strike","surge","tail","thorn","tongue","tooth","watcher","water","woods","wound"];let t=setup.rng.choice(i),a=setup.rng.choice(e);return`${t}${a}`},setup.NAME_lizardkin_female_first_name=["Adzi-Mota","Ah-Kajul","Ah-Meesei","Ah-Mudeska","Ah-Seeba","Ah-Zish","Ahaht-Malz","Ajim-Kiurz","Ajim-Ra","Ajul-Jas","Ajul-Kahz","Ajuxtus","Akeenus","Akishan","Aleeta","Aleeto","Am-Eepa","Am-Jasuda","Am-Lai","Am-Meesei","Am-Ra","Amatkeeus","Amel-Kiurz","Amussa","An-Dar","An-Deesei","An-Jeen","Anozz-Crath","Aomee-Ru","Aseis","Asheemar","Asska","Awas","Az-Loh","Az-Maxath","Azeez-Eix","Baar-Taeed","Bahrez","Bar-Beekus","Baseekus","Baseenar","Beehuna","Beek-Ja","Beek-Nassa","Beek-Nei","Beek-Ru","Beek-Shei","Beekaw","Beel-Ranu","Beela","Beem-Tei","Beexutl","Ber-Jaseen","Ber-Lurash","Betzi","Bezarbeeh","Bijum-Loh","Bijum-Mei","Bikusotl","Bishalus","Bixitleesh","Bizara","Bokeeus","Buki","Bur-Lei","Bur-Meema","Bura-Natoo","Buxtil","Chalaree","Chana-La","Chanaius","Chaneej","Chanil-Lee","Chanil-Wei","Chastul","Chaxolee","Chee-Dooka","Chee-Dum","Chee-Osheeka","Chee-Saak","Cheerz","Cheesh-Meeus","Cheesh-Mei","Chelni","Chexi","Chimatei","Chirurgeon","Choixth","Cholasistu","Choxi","Chukka-Jee","Chukka-Li","Chukka-Saak","Chunkeesei","Churasu","Dafeeso","Dajaheel","Dajaleen","Dakee","Dakee-Kai","Dakee-Kia","Dakeeto","Daleez","Damatez","Damee","Damonalus","Dan-Meesei","Dar-Liurz","Dar-Ma","Dar-Zish","Dasha","Deca*","Dee-Kur","Dee-Nur","Dee-Weska","Deechee-Noo","Deegeeta","Deel","Deem-Ja","Deem-Vilax","Deemat","Deesh-Meeus","Deet-Waska","Deetaku","Deetul","Deetwos","Degadeesh","Dergla","Desh-Jasaiin","Desh-Wazei","Detu-Meeus","Deyapa","Dokishnaza","Dosa","Dosu-Nur","Dosu-Zeeus","Dradeiva","Dreet-Meena","Dreet-Wulm","Droran","Drujal","Druxolneeus","Duk-Makka","Dus-Geet","Easeeto","Eatzapa","Ei-Jahz","El-Lurasha","Ereel-Lei","Ereel-Maxath","Eukkaneeus","Ezei","Fal-Xoc","Gah-Ju","Geeh","Geeh-Dooka","Geeh-Jaseen","Geeh-Sakka","Geel-Nur","Ghekuknaza","Ghelaha","Gideelar","Gih-Ja","Gin-Wan","Haj-Ta","Haj-Tei","Haj-Tulm","Hal-Liurz","Han-Ma","Han-Mota","Hara-Na","Haxara","Heed-Jush","Heed-Meeus","Heed-Nakal","Heek-Sa","Heem-Dum","Heenashan","Heita-Meen","Hiis-Ja","Hikinu","Hixultvutar","Honei","Hul-Tei","Hul-Wan","Ianix","Ilas-Betu","Imhey","Inalz","Inue","Io-Io","Iozukeeus","Itan-Nur","Itzaki","Ix-Utha","Jaree-Li","Jasaii","Jasudei","Jazeez-Geel","Jee-Ma","Jeeba-Naza","Jeeba-Noo","Jeed-Ei","Jeeda-Tei","Jeelus-Lei","Jeelus-Lurash","Jeetum","Jeetum-Hei","Jeetum-Lah","Jotep-Jasaiin","Jotep-Makka","Jukka","Jun-Jassa","Junal-Nakal","Juutenma","Kahei","Kal-Ma","Kal-Mei","Kaloo","Kani-Meedish","Kasa-Jeen","Kaska","Keel-Kia","Keel-Lurash","Keel-Raniur","Keema-Ru","Keema-Shah","Keeran","Keerasa","Keesa","Keshu","Kiurz","Kizta","Kizta-Raj","Kloxu","Klumuk","Kud-Ei","Kud-Gei","Kud-Jat","Kud-Mere","Kud-Nakal","Kudda","Kulusi","Kunasheeth","Kuzei","Lara-Deesei","Lara-Geel","Lara-Ma","Lara-Tan","Lara-Zish","Leel-Vata","Leetu","Lineem","Lohulurash","Lorpat-Xeed","Loseitsei","Loxaldesh","Lunsu","Luraxith","Lutapeeth","Luxultava","Mach-Na","Mach-Neeus","Mahei-Jee","Mahei-Ma","Makeusta","Mani-Waza","Markka","Martul","Marz-Loh","Mateem","Matreeka","Mee-See","Meeh-Chuna","Meeh-Mei","Meeh-Zaw","Meelni","Meema-Na","Meen-Sa","Meena","Meenai","Meenai-Enoo","Meenai-Makka","Meer-Zish","Meerana","Meetza","Mereel","Methei","Mewah-Lee","Mezatil","Milaw","Milzus","Mim-Jas","Mim-Jeen","Mim-Naza","Mimme","Misei","Mishapa","Miuni","Muhu","Mujee-Naat","Mukka","Murak-Lei","Murrax","Mutei","Muz-Gei","Muz-Medul","Muz-Muz","Muz-Ra","Na-Kesh","Najeepa","Nam-Ja","Nam-La","Nam-Teeus","Nameel","Narnum","Nasee","Natalgreesh","Nathrasa","Nebaxireet","Neeja-Meen","Neeka","Neer","Neeta-Jasa","Neeta-Li","Neeti-Gai","Neeti-Ra","Neetizei","Neetra","Nesh-Ja","Nesh-Tan","Niima","Nijuna","Nijuneel","Nojaxia","Nokama","Nolu-Azza","Nomu-Goh","Nowa","Noxutln","Nubaree","Nukorash","Nuleem-Malem","Nurdan","Nutum","Nuwisha","Nuxal","Odeel-Medul","Odeel-Tul","Okan-Jeen","Olank-Neeus","Oleed-Meen","Oleed-Tah","Oleen-Ta","Oleen-Xu","Oleena","Omeeta","On-Nei","On-Wan","On-Wazei","Onai-Ruul","Onurai-Maht","Osheeja","Otumi-Wulm","Owai-La","Owai-Liurz","Pad-Maxath","Padeehei","Padeel","Paheiza","Pakee","Pameel","Pash-Riha","Pateem","Pavu","Peek-Ereel","Peek-Majin","Peek-Neeus","Peekeus","Peelgah","Pegareem","Pekai-Vilax","Pinooh","Porath","Pujeerish","Pulaya","Puweel","Puyatha","Rabeen-Ei","Raleetal","Ree-Kilaya","Ree-Nakal","Ree-Zish","Reeh-Li","Reeh-Nur","Reekatul","Reekaturl","Reekeepa","Reesa","Renesh-Zaka","Ruja-Wan","Ruko","Rupaheel","Rutabeeh","Ruxultav","Sali-Jah","Sashee","Sawen-Geet","Saxolt","Seed-Neeus","Seen-Rei","Shanil-Ja","Sharava","Shatasha","Shatuna","Shazara-Ta","Sheelahi","Sheer Meedish","Shei-Beekus","Shei-Chuna","Shei-Kilaya","Shei-Osheeja","Shei-Shei","Shukesh","Shuliish","Shumeesh","Shuxaltsei","Silm-Jusha","Silm-Kia","Simeesh","Sisar","Skatinava","Skeeheieeus","Skeetees","Slim-Jah","Solni","Sonsu","Sulahkeesh","Sumanirr","Supo-Gith","Supowateer","Tah-Tehat","Talen-Dum","Talen-Jush","Talosha","Tana-Teeus","Tar-Ei","Tar-Jekka","Tar-Lurash","Tar-Meena","Tar-Shehs","Taxatl","Taxilteer","Teeba-Deesei","Teeba-Ja","Teeba-Makka","Teegya","Teeteka","Telixith","Tem-Tei","Terameen","Tim-Kasi","Tlaiuhticah","Tlatiz","Tletva","Tlixult","Tlonkaan","Tloxalith","Tludul","Tsaesh","Tseedasi","Tseekibeesh","Tsleitzei","Tsona-Ei","Tsudeereeus","Tulut","Tumaka","Tumma-Shah","Tunbam-Na","Tuwul","Uazee","Ukara","Ukasha","Ukka-Meedish","Ula-Kii","Ula-Reen","Uta-Deeka","Uta-Tei","Utazaw","Utzaei","Uwa-Jekka","Uwa-Meenus","Uxitldish","Vaxeeh","Veek-Gai","Veeka-La","Veemarz","Veest-Halu","Veest-Nakal","Veesum","Veezil","Veth-Veidal","Vetra-Jat","Villa","Vistha","Vistha-Mee","Volahnu","Vorh","Vuh-Naat","Vukus","Vureiem","Wahirat","Wanam-Betu","Wanam-Jaa","Wareem","Wawul","Weebam-Jaseen","Weechei","Weedum-Ja","Weegam","Weewish","Wemeerit","Wenaxi","Wih-Jat","Wih-Waska","Wiku","Wita","Wixil","Wud-Weska","Wuja-Ei","Wuja-Meenus","Wuleen-Ze","Wusava","Xal-Sisei","Xaleez","Xamarz","Xarei","Xeejalish","Xeeka","Xijai-Teel","Xil-Zish","Ximukto","Xinka","Xixuai","Xohaneel","Xokomar","Xowaj","Xugirus-Dimik","Xula","Zasha-Ja","Zatzu"],setup.NAME_lizardkin_male_first_name=["Abijoo-Anoo","Adzi-Goh","Ah-Malz","Ah-Ra","Ah-Shehs","Ahaht-Ei","Ahaht-Kilaya","Ahaht-Naat","Ahkur","Ahlu","Ahtalg","Ajim-Jaa","Ajim-Meeus","Ajum-Jekka","Ajum-Kajin","Aki-Osheeja","Alan-Tei","Aliskeeh","Am-Sakka","An-Jeen-Sakka","An-Jeen-Seek","An-Taeed","An-Zaw","Anash","Anooz-Izt","Anooz-Lar","Aojee-Da","Aojee-Ei","Aojee-Mota","Aomee-Shehs","Argar","Aseepa","Asheeus","Ashgar","Atl-Xulith","Az-Maxath","Az-Muz","Azbai-Meenus","Azeenus","Azeex-Eix","Azinar","Azjai-Tee","Azri","Baar-Taeed","Bahrei","Bahtei","Balahkath","Banka","Bar-Goh","Bar-Neeus","Barnaxi","Batar-Meej","Batuus","Baxilt-Gah","Beeheisei","Beek-Kajin","Beek-Metaku","Beem-Ja","Beem-Jee","Beem-Kiurz","Beenalz","Benas","Beshnus","Bewlus","Bezeer","Bijot","Bijum-Eeto","Bijum-Ta","Bimee-Kas","Bosekus","Brand-Ra","Brand-Shei","Brsssp","Bun-Maxath","Bun-Teemeeta","Bunishyeeth","Bur-Tee","Bur-Waska","Buujhan","Buxutheeus","Chakuk","Chal-Jah","Chal-Maht","Chaleed-Wan","Chalish","Chana-Waska","Chanka","Chatapnaza","Chath-Jaa","Chee-Jah","Chee-Sakka","Chee-Sei","Cheedal-Gah","Cheedal-Jeen","Cheesh-Nassa","Chilwir","Chitakus","Cholzei","Chosumeel","Choxusha","Chukka-Jekka","Chuxu","Chuzu","Claurth","Daixth","Dakee-Goh","Dakee-Hahtsei","Dakee-Jat","Dakee-Mota","Dal-Eekwa","Dan-Ru","Dar Jee","Dar-Jasa","Darasken","Dashnu","Debameel","Deed-Mema","Deed-Tei","Deegeeta","Deeheesotl","Deejeeta","Deekonus","Deekum","Deer-Xol","Deerlus","Deesh-Mota","Deet-Zeeus","Deetum-Gih","Deetum-Ja","Deetum-Jah","Demeepa","Depasa-Chath","Derkeehez","Deroh-Metaku","Deroh-Zah","Desh-Taa","Dezanu","Dixulti","Dosu-Kai","Dosu-Larash","Dosu-Muz","Dowoseez","Dozaeek","Drakaws","Dramukkath","Dreet-Lai","Dreevureesh","Dritan","Drumarz","Druseesh","Druxith","Duk-Marza","Dunaxith","Effe-Lar","Effe-Tei","Ei-Ei","Ei-Eiuus","Ei-Etaku","Eleedal-Kia","Eleedal-Lai","Eleedal-Lei","Eoki","Er-Jaseen","Er-Teeus","Ereel-Dum","Ereel-Sa","Esqoo","Etsabeeh","Gah Julan","Gah-Dum","Gajul-Lei","Gam-Kur","Gatulm","Geeh-Lurz","Geel-Gei","Geel-Lah","Geel-Ma","Geem Jasaiin","Ghelos","Ghesee","Gilustulm","Gin-Rajul","Gin-Wulm","Gir-Ta","Gjomee-Loh","Gom-Tulm","Grish","Guleesh","Gulum-Ei","Gulum-La","Haj-Ei","Haj-Meht","Haj-Ru","Hal-Nei","Halish","Han-Tulm","Hareeya","Haxal","Heek-Dimik","Heem-Jas","Heem-La","Heem-Weska","Heetzasi","Heir-Marza","Heir-Zish","Hikathus","Hixeeh-Raj","Hjorn","Hleetulm","Hleezeireeus","Honan","Iggistill","Ilas-Tei","Ilus","Im-Kajin","Im-Kilaya","Im-Nei","Im-Zish","Iokkas","Iskenaaz","Ixtah-Nasha","J'Ram-Dar","J'ram-Hei","J'ram-Jeen","Ja-Reet","Jaraleet","Jaree-Eeto","Jaree-Ra","Jee-Lar","Jee-Tah","Jee-Tan","Jee-Tul","Jeeba-Eius","Jeela","Jeelus","Jeelus-Tei","Jeer-Maht","Jeer-Ta","Jeer-Tei","Jeetum-Hei","Jeetum-Tulm","Jeetum-Ze","Jesh-Minko","Jilux","Jin-Ei","Jotep-Liurz","Jotep-Mota","Junal-Lei","Juut","Kal-Eeto","Kalanu","Kamatpa","Kamax-Ei","Kankeeus","Kasa-Jas","Kaxutl","Keeko","Keel-Medul","Keema-Ja","Keema-Ru","Keema-Ta","Keemeen","Keenem","Keerasa-Lan","Keerasa-Tan","Keesekeeth","Keesu","Kepanuu","Kiameed","Kitza-Enoo","Kizta-Lee","Klankaatu","Klor","Kloxu","Kluleesh","Klutsaan","Krona","Kud-Lan","Kudleez","Lara-Eix","Loh-Jat","Lohupeel","Losum","Lotaeel","Lotash","Luh-Maxath","Luteema","Maahi","Mach-Loh","Mach-Makka","Mach-Taeed","Maheelius","Mahei-Muz","Mahei-Tei","Makadel","Maneeshik","Markka","Marz-Ja","Mathei","Meeh-Zish","Meejapa","Meeleeh-Een","Meema-Zaw","Meenjee","Meenosh","Meensuda","Meer-Mesei","Meewulm","Mere-Glim","Miharil","Mikeesh","Miun-Eidu","Miun-Gei","Mobareed","Mohimeem","Mopakuz","Motuu","Mujeen","Muranatepa","Mush-Jekka","Mush-Mere","Mush-Shei","Muz-Shah","Nam-Medul","Nam-Shah","Napetui","Naska","Naxaltan","Nazuux","Nebutil","Neelo","Neeluka","Neeti-Nur","Neetzara","Neexi","Nema-Pachat","Neposh","Nesh-Deeka","Netapatuu","Nexith","Nodeeus","Nomu","Nosaleeth","Notei","Nowajan","Nowajeem","Noyei-Heem","Nuduxith","Nulaz-Eidu","Nuleez","Nurhei","Obaxith","Odeel-Shehs","Ojei","Okalg","Okan-Jeen","Okan-Julan","Okan-Sakka","Okan-Shah","Okan-Shei","Okan-Tei","Okaw-Dar","Okaw-Neeus","Okeeh","Oleed-Ei","Oleed-Mota","Oleen-Gei","Oleen-Jei","Oleen-Tul","Olik-Jah","Olink-Nur","Onuja","Onurai-Betu","Opatieel","Otumi-Lar","Owai-Leem","Oxildutsei","Pacheeva","Pacheevutar","Pad-Ei","Pad-Julan","Paduxi","Parash","Paraxeeh","Paxalt","Peek-Shah","Peek-Tul","Peesha","Peexalt","Pejureel","Pekai-Jee","Petaxai","Pideelus","Pimaxi-Loh","Pimaxi-Taeed","Pimaxi-Zeeus","Pimsy","Pojeel","Powaj","Powostulm","Puhameet","Radeelan","Radithax","Rahu-Teemeeta","Rareel","Rarez","Ratulmdutsei","Redieeus","Ree-Kia","Reeesh","Reeh-Jah","Reeh-La","Reek-Koos","Reekeesh","Reekisk","Reezal-Jul","Resari","Rezei","Rultkath","Rupah","Rushmeek","Ruxol","Sakeeus","Sar-Keer","Seed-Maht","Seemarz","Sejaijilax","Shadutsei","Shakiis","Shamat","Shanil-Nei","Sheer-Hahtsei","Sheer-Saak","Shuvu","Sikaaswulm","Silm-Dar","Sinanis","Skalasha","Skasei","Skeehei","Skeewul","Sureeus","Tah-Tehat","Taleel-Bex","Talen-Jei","Tan-Skee","Tanaka","Tar-Makka","Tar-Meeus","Tee-Lan","Tee-Marza","Tee-Wan","Teeba-Ei","Teeka","Teelawei","Teineeja","Terezeeus","Tikaasi","Tikkus","Tim-Jush","Tlixilja","Tlosee","Topeeth-Gih","Topeth","Topith-Kuz","Tsatheitepa","Tsatva-Lan","Tsilmtulm","Tsixotl","Tsoglaez","Tsoxolza","Tsurei","Tulalurash","Tumma-Beekus","Tun-Zeeus","Tunbam-Kahz","Tuxo","Uaxal","Ukaspa","Ukatsei","Ukka-Dimik","Ukka-Malz","Ulawa","Uralgnaza","Uraz","Ushmeek","Uta-Chuna","Uta-Ra","Utadeek","Utamukeeus","Utatul","Uxith-Ei","Uzeialus","Vaeshna","Vara-Zeen","Veekas","Veelisheeh","Veenaza","Veexalt","Vetra-Zaw","Vintheel","Vinutexi","Visskar","Vistha-Jush","Vistha-Kai","Vohta-Lan","Voneesh","Vornan","Vozei","Vudeelal","Vuh-Dimik","Vushtulm","Vuskayeeth","Waku-Mat","Wanam-Jush","Wanan-Dum","Wanum-Neeus","Wayiteh","Weebam-Na","Weedum-Eius","Wideem-Voh","Wih-Eius","Wih-Sei","Wixil","Wixulbeeh","Wud-Neeus","Wuja-Lei","Wuja-Sei","Wuleen-Shei","Wuleen-Weska","Wunalz","Xal-Geh","Xal-Nur","Xazar","Xhon-Mehl","Xil-Jekka","Xil-Vilax","Xode","Xozuka","Xukas","Xul-Mot","Xuzu","Yelus","Yexil","Yinz-Hei","Yotep-Kus"],setup.NAME_neko_female_first_name=["Aba-daro","Abadusa","Abahrimaya","Abandarra-la","Abanji","Abelaya","Abenil","Abernura","Abernura-dra","Abhuki","Abizah","Abuana","Adabibi","Adajadhi","Adanja","Adara'hai","Addhiranirr","Adharama-ri","Adharanji","Adusa-daro","Aelif","Afehaba","Affri","Ahainaz-daro","Ahathka","Ahdahni","Ahdarji","Ahdni","Ahdri","Ahirneriba","Ahjara","Ahjazda","Ahjisi","Ahkari","Ahmuna-la","Ahnarra","Ahnassi","Ahndahra","Ahnia","Ahnisa","Ahnissi","Ahzini","Aihrima","Aina","Airdeoza","Aireh","Aisarbana","Aishah","Aitrabhi","Ajira","Akethi","Amarri","Anahbi","Anala","Anbi","Andarri","Anequina","Anisha","Anjari","Anurassa","Ap'Kolthis","Arabhi","Arainaz","Araitha","Aravi","Arimaia","Arrunirai","Aruda","Arumarr-dro","Ashalki","Ashidasha","Ashni","Atahba","Atahbah","Athadda","Atharra","Atrabhi","Ayisha","Aza","Azahrr","Azartah","Azbi-ra","Azdazi","Azeriba","Aznabi","Aznara","Azreshilla","Azum","Azuni","Azuruna","Bahdahna","Bahdrashi","Baimarri","Baissa","Bakkhara","Banobani","Barnibi","Bataba","Bayya","Bazali","Berriza","Bezeni","Bezera","Bezumi","Bhisha","Bhusari","Bilunna","Binsora-la","Bishanti","Bisussah","Biya-daro","Bizinda","Butaba","Chirranirr","Chirrhari","Chirsusah","Dadazi","Dagila","Dahari","Dahleena","Dahnara","Daifa","Daiharri","Dakharri","Darali","Dazshi","Dehdri","Dehnarra","Dethadda","Dimarra","Dordura","Dorharai","Dorkrivva","Dortabi","Dorzara","Dro'Nahrahe","Dulaya","Dunurra","Durrali","Duzi","Duzuni","Ehtayah","Eilara","Ejukki","Ekapi","Elamusa","Elenabi","Elusara-la","Enarri","Ensa-ko","Ensi","Erdama","Ernabi","Erranza","Erunirai","Eshaba","Eshmini-ma","Evani","Ezipa","Ezreba","Fabasi","Fada","Fada-daro","Fadama","Fahana","Falana","Farniri","Fayna","Fedura","Felamusa","Felari","Felira","Feluni","Ferhara","Fezreba","Fihada","Fijirra","Filadi","Habasi","Hahakil","Haheiba","Hahnissi","Haina-daro","Halitazi-dra","Hamira","Hamirra","Hanali","Hani","Hanubina-ko","Harassa","Hariba","Harrani","Hasaama","Hashuri-daro","Hatiha","Hayya","Hazari","Heathre","Hedani","Hehayda","Heleni","Hensora","Hezura","Hihainaz","Himalla","Himathaku","Hiyaza","Hizala","Huddima","Hulinda-la","Idhassi","Igarri","Ilanadzeh","Ilara","Ildani","Ilekama","Ilemaka","Inama","Inerri","Inorra","Irkki","Irnadza","Irrki","Irsusah","Iruzda","Ishalga","J'Reeza","Jainda","Jalamya","Jazadi","Jilarga","Jiluza","Jimila","Jiyya","Juluda-daro","Jurairia","Jurana","Juranda-ra","Jurni","Kaasha","Kada","Kadalura","Kala","Kalari","Kalarra","Kamunara","Karina","Kasafia","Kashapi","Kauzanabi-jo","Kazargi","Kazarri","Kazdi","Kazirra","Kazra","Khaba","Khaiffi","Khalajo","Khalama","Khali","Khalima","Khamuzi","Khana","Khanni","Khara-ko","Khasabi","Khaygi","Khayla","Khayradani","Khazura","Khezuli","Khinjarsi","Khizuna","Khuhari","Khurga","Khurra","Khuzi","Kiasha","Kihrasha","Kiseena","Kish'na","Kishashi","Kishni","Kishra-do","Kisimba","Kisisa","Kubiba-ma","Kulira","Kunamu-la","Kunira-daro","Kurdi","Kurshara-daro","Kurzni","Kuzashi","Kuzda","Kuzrni","Kuzulaza","Lamanu","Laurri","Lazami","Lesspa","Lusha","M'Kai","Maedarri","Maezalaya","Magdi","Mahazi","Mahrima","Maila","Majdi","Malazu","Malbirra","Malira","Mamaea","Manabi","Manarni-la","Mansa","Marali","Marami","Mararanza","Marasadra","Marashi","Marazira","Marra'var","Masarha","Masura-dra","Matani","Matbia","Mathi","Mazduni-daro","Mazu","Melae","Merani","Merani-dra","Mideyah","Milaya","Milira","Mina-diir","Minbazal","Minurta","Mirani","Miranibi","Mirari","Mirudda","Mizaba-ko","Mizahabi","Mizrali","Mizzi","Mobiba","Mubayda","Mulama","Munaea","Munilli","Mura","Muzuli","Naamah","Naballi","Nabiha","Nabina-ko","Nabira","Nadahi","Nagarra","Nahdahni","Nahrevii","Nahsi","Naiba","Najirra","Nakala","Nalimeh","Naluza","Namu","Naradani","Naragara","Narahni","Narazda","Narguli","Narrama","Naruza","Narzura","Nayya","Nazala","Neshtat","Nirai","Nisaba","Nubani","Nudabibi","Nuhunza","Nuifa","Nuledhi","Nulla","Nurisipa","Nusana","Nuthanda","Nuzalu","Odaini","Ohama","Oonama","Paadeza","Paaniir","Paathi","Paawelaya","Palami","Pamaea","Pamunara","Panisa","Pathi","Pinirai","Pirharri","Puhnara","Pulaya","Pulemu","Pulu","Punabi","Punala","Punamu","Punirai","Purani","Qa'jhirr","Ra'zaym","Ra'zhinda","Rabeba","Rabinna","Rabiza","Raehsi","Raeififeh","Raerabhi","Raezargi","Rahiba","Rakalu-daro","Rakkhiza","Ranabi","Ranabia","Rashiha","Rathuni-la","Rayfa","Razashi","Razila","Rejmina","Riba","Riharai","Rihiri","Rihnissi","Rilbirri","Ririna","S'Krivva","S'fara","S'jirra","S'kasha","S'mirra","S'thasa","Sabani","Sabarapa","Sabibi","Sadaifa","Sadara-do","Sahira-daro","Saifa","Salita-ko","Samaea-do","Samati","Samati-ko","Samsu","Sanabi","Sanobani","Sanua-la","Sapila","Sarirna","Sarnibi","Sashawi","Sayya","Sayya-Daro","Sebazi","Sena-daro","Senamu-daro","Sepaea","Serabhi","Sezali","Sezera","Sha'ad","Shaba","Shabani","Shadazi","Shadeya","Shadura","Shadya","Shalar","Shamada","Shamaea","Shamara-ma","Shamiri","Shandi","Shara","Sharwa","Shashara","Shasirba","Shausa","Shavari","Shawia","Shazah","Shiba-dra","Shilaya","Shimsamu","Shirai-ma","Shisuri","Shivani","Shizahi-jo","Shodara","Shomara","Shonsora","Shoshmina","Shotherra","Shumiri","Shunari","Shuni-daro","Shurami-dra","Shuravi","Shuzera","Shuzura","Sibati-dara","Sihada","Sihara","Silezu","Silurra","Sindabi","Sirahai-daro","Sobabe","Sobani","Suhdahni","Sumaea","Surasha","Surdu","Suzabi","Suzali","Tadari","Tahadi","Tahara","Tahayda","Takhiri","Talasma","Tamaya","Tamu","Taranbari-daro","Taranza","Taseena","Tashishi","Tasisa","Tazadra","Tazia","Tazzie","Tebeba","Teifi","Thadanja","Thahala","Thahiri","Thalara","Thalbaza","Thalinfar","Thamaia","Thanala","Thathali","Thazahrr","Thazahrr-ra","Tinti","Tirusa","Tohiba","Tsabhi","Tsajadhi","Tsalajma","Tsalani","Tsamabi","Tsamara","Tsani","Tsanji","Tsarali","Tsarrina","Tsavani","Tsavi","Tsazrebi","Tsigara","Tsigila","Tsiya","Tsramla","Tsrasuna","Tsrava","Tsrazami","Tubabi","Tuharrii","Tukhari","Tulira","Tumira","Tunasi","Tunsanti","Turap'su","Ubaasi","Udamaji","Udanta","Udarra","Uhiratu","Umisashi","Unishi","Unjara","Unjasi","Urbani","Urilumezi","Urizali","Urjurra","Urzashi","Uzipa","Vabashi","Vahara","Vahazi","Vaifa","Vajhira","Valashi","Vanjirra","Varisipa","Vasanha","Vath'ira","Vazshara","Vykosa","Watzhi","Yabizah","Yahba","Yahirai","Yahiri","Yamaea","Yamanu-ko","Yana","Yanadzi-jo","Yansora","Yansun","Yanu-ma","Yasana","Yazita","Yenabi","Yushi","Yutahbah","Zabani","Zabdi","Zabhila","Zadai","Zadala","Zaeri","Zahanabi","Zaharai","Zahba","Zaheida","Zahra","Zahraji","Zahrasha","Zaiba","Zaimira","Zaina","Zainabaza","Zainjhad","Zairan","Zairuni","Zaizami","Zajinni","Zalapu","Zalar-do","Zalasu","Zalayza","Zalema","Zalinra","Zalirra","Zalmimi","Zalurrah","Zara","Zarri","Zashanti","Zayansora","Zayaza","Zaynabi","Zayshara","Zazabhuki","Zazalah","Zazanisa","Zazarghi","Zebabi","Zebatba-ko","Zebba","Zenira","Zeria","Zeriba","Zessura","Zetisha","Zibakka","Zirani","Zithana","Zithiri","Zukhara-daro","Zunala","Zurana","Zurka"],setup.NAME_neko_male_first_name=["Ab'jhad","Abal-jo","Abiznaz","Abizzaka","Aburapli","Adainat","Adainji","Adainurr","Adaishir","Adibazal","Adineta","Adubaer-sa","Adusaar","Adusharu","Ahainar-jo","Ahirunz","Ahmanaz","Airal","Aishar-sa","Ak'saz","Akkhuz-ri","Akkuz","Akrah","Alathur","Amarbak","Amargon","Amartash","Amsha","Amu","Anat","Andal-ma","Anil-do","Anjiir","Aranak","Arbhu-ra","Arbhuz","Ariashurr","Aroz'lai","Arukhaz","Arusha","Asal-jo","Asalkin","Ashalha","Athask","Atirr","Azalil","Azarati","Azarrid","Azazi","Azbiasur","Azbishan","Azbishaz","Azbisnor","Azdanten","Azelit-ra","Azezik","Azezin","Azimaz","Azimsun","Azin","Azurdat","Azzaril","Baadargo","Baezad-jo","Bahluk","Baizad","Bakhati","Bakhig","Bakhig-ja","Bakhum","Balag","Balku","Bamak","Barusil","Bashshi-ra","Berantin","Bezur","Bhisha","Bilam","Birakh-do","Birkhu","Bizahad","Bizalar","Bizurr","Bizuruna","Bulag","Bunul","Burakgum","Buzul","Cherim","Chezan","Dablir","Dahlima","Dahnkin-do","Dalac","Dalag-dar","Dalsa","Darak","Darsho","Dazash","Dazul-ja","Dazur","Dhanim","Didakah","Dirsherr","Dro'Barri","Dro'Qanar","Dro'Sakhar","Dro'Shavir","Dro'Tasarr","Dro'Zah","Dro'Zaymar","Dro'Zel","Dro'Zhirr","Dro'Zira","Dro'farahn","Dro'marash","Dro'shanji","Dro'zharim","Dro-Dara","Duharr","Dulan","Dular","Dulini","Duzal","Duzal-ja","Eilun","Eluzard","Elzhar","Enak","Enik-ja","Eraral-dro","Esan","Ethad-sa","Ezudash","Ezudiwa","Ezzag","Fa'alar","Fa'ren-dar","Fahurr","Famazar","Fareh","Farit","Farul","Fazaddu","Feduzdal","Feluz","Fezdal","Fimaz-ra","Ghadar","Ghadffer","Gharesh-ri","Habais","Hadam-do","Hadamo","Haibak","Haibarr","Haibzur","Hainab","Hainat","Hairan","Halakalal","Halako","Halaral","Halash","Halinad","Halinargo","Halinjirr","Halinuk","Hamansu","Hamiran-do","Hamsanam","Hamus","Hanillal","Haraddal","Harashur","Harzad","Harzdak","Hassiri","Hassrid","Hazad","Hazak","Hazazi","Hazaznaz","Helnor","Hilan","Hillaz","Himalirr-dar","Himalzur","Himathati","Hirish","Hizdak","Hizurrdo","Hunal","Hurzjhad","Huthak","Huzzin","Iduthal","Iffech","Ilagurr","Indal","Indalhur","Indur-sa","Inisashu-jo","Inishez","Iragahr","Irgazaar","Irgazdul","Irgun","Izandar","Izanden","Izandskar","Izaniran","Iziran","Izishir","J'Baasha","J'Dato","J'Dhannar","J'Eeja","J'Ghasta","J'Hanir","J'Jarsha","J'Jazha","J'Kara","J'Kier","J'Raksa","J'Rasha","J'Saddha","J'Zamha","J'Zhirr","J'baana","J'bari","J'barza","J'darr","J'darzi","J'datharr","J'ffer","J'ghaim","J'kur","J'lasha","J'mhad","J'riska","J'skar","J'zagh","J'zaraer","J'zargo","J'zhar","J'zidluk","J'zidzo","J'zin-Dar","J'zuraar","Ja'Fazir","Jalan","Jarakh","Jaram","Jaruk","Jherahn","Jherak","Jilan-dar","Jo'Ren-Dar","Jo'Thri-Dar","Jobai","Jobasha","Jobasha-do","Jodhur","Joshur","Joto","Jul-dar","Jurak-dar","K'Sharr","K'Sharra","K'sirr","Kagadur","Kagun","Kalgur","Kalim-ja","Kamjo","Kamu","Kankhu","Kanniz","Kanoo-sa","Kanrel","Kansur-jo","Kanzin","Kargand","Kargnargo","Karpu-sa","Karzik","Karzskar","Kasan","Katinal","Kaushjhargo","Kaushur","Kazagh","Kazbur","Keem","Kesh","Keshlar","Khad","Khakidan","Khalin-jo","Kharad","Kharez","Khariz-ja","Kharjo","Khasar-dro","Khasha","Kheriwa","Khunzar-ri","Khunzum","Kigum-dar","Kikurr","Kirrsi","Kirun","Kiturr","Kul-ja","Kulan-dro","Kuldargo","Kumurr","Kunerr-jo","Kuralit","Kurnamu-do","Kurnasiran","Kusirnaz-dar","Laknar","Lakurr-ra","Lanbaar","Lankin","Lansur","Laurri","Linihar","Linihi","Lojaku","Lwef-Dim","M'Aiq","M'Shan","M'aiq","M'dasha","M'desi","M'dirr","M'harra","M'jaddha","M'nashaar","M'nashi","M'raaj-Dar","Ma'Dara","Ma'Jidarr","Ma'Khar","Ma'Raska","Ma'Zahn","Ma'dran","Ma'jhad","Ma'jidid","Ma'randru-jo","Ma'rashirr","Ma'tasarr","Ma'zaddha","Ma'zaka","Mabit","Mabkir","Maelen","Maesar","Magarak","Magdundim","Magundim","Maguzas","Mahiralit","Mahirr","Makam","Makid-ja","Makkhzahr","Makmargo","Maladdak","Maladdiq","Malathan","Malathum","Malihaz-do","Malirzzaka","Malisu","Malizluz","Malkish","Manadzur","Mani","Maniz","Manradh","Manuk","Marafi","Marakar","Marnub","Masrabal-dro","Mathad","Mathal","Mazag","Mazalish","Mazar","Mazaram","Mazha","Mazil-jo","Mazilbin","Mazirul","Mazirzin","Mazou-dar","Mazram","Mazuk","Mazurr","Mehdir","Mezha-dro","Miczen","Miglah","Mikarash","Mikarur","Milaggul","Mim","Minal","Mirarbinat","Mirarkier","Misanir","Misapan","Misar","Mishdu","Mishzin","Mizaraben","Mizarbuk","Mizarjirr","Mizashur","Mizibir","Mizibuk","Mizul","Mohkhu","Moj-argo","Mojakuz","Mojhad","Mulabez","Mulabzag","Mulamin","Mulamurr","Munalur","Munanir","Munyat","Muram","Muramskar","Murdan","Muriman","Muruddal","Muslabeh","Muslabliz","Muzur","Na'jhargo","Nabal-dar","Naburr","Nadara","Nagaddu","Nagh","Nakjhan","Nakkhu","Nakmargo","Nakra","Nanaglar","Narbhulad-do","Narkir","Narril","Nasimar","Nasir","Nezashun","Nezhad","Nibihu","Nirajlar","Nizil-dar","Nizun-ja","Nuhar","Nulk","Nur","Nur-dro","Nurad","Nurud","Nuzhi","Nuzon","Nuzuk","Oblan","Ohamatur","Pacrooti","Palkun","Palmur-dra","Panizir","Pillazh","Pinar","Pinirrerr","Pinumur","Puzhbar-jo","Qa'Dar","Qa'tesh","Qa-Dar","Qanliz","R'vanni","Ra'Habasi","Ra'Jahirr","Ra'Jhan","Ra'Karim","Ra'Kothre","Ra'Mhirr","Ra'Sava","Ra'Tesh","Ra'Virr","Ra'Zahr","Ra'Zhid","Ra'darri","Ra'dirsha","Ra'jhera","Ra'jiradh","Ra'jirr","Ra'kheran","Ra'tassa","Ra-shadda","Rabamak","Raban","Radash-dar","Ragariz","Rainazh","Rajarkir","Rajhin","Rakazuz","Rakgul","Rakhad","Rakhhi","Ralkash-dar","Ranarr-Jo","Ranul","Rathsaz","Rathul-do","Ravius","Ravzo-dar","Raynan","Razigad","Razum-dar","Razur","Rehan","Ren-dro","Renaku","Renzaiq","Renzir","Ri'Bassa","Ri'Darsha","Ri'Dumiwa","Ri'Jirr","Ri'Shajirr","Ri'Vassa","Ri'Zaadha","Ri'Zakar","Ri'darakuz","Ri'saad","Ri'shalur","Ri'zaadzin","Ribazh","Rid-Thar-ri'Datta","Rihahaz","Rinam","Rinami","Rinbu","Runik","Runtash","S'Bakha","S'Radirr","S'Rava","S'Raverr","S'Renji","S'Riizh","S'Vandra","S'Vanir","S'drassa","S'jash","S'kinrai","S'rabbi","S'rashi","S'rathad","S'rathra","S'razirr","S'shani","S'vanez","S'virr","S'virzum","Sa'dir","Sabanurr","Sabashhad","Sabashur-dar","Sabra","Safir","Sahalu","Sahar","Sahaz","Sahban","Salk","Salkalar","Salku","Sallit","Sallunas","Samamar","Samardan","Sanarskar","Sanaz-dro","Sandu","Sansen-do","Sanzan-dar","Saparr","Sattah","Satuhaz","Savar","Semusa","Senadon","Senun","Serarbar","Sha'jal","Shaasharr","Shajamah-ja","Shakara","Shalapaar","Shalirr","Shalubar","Shamal","Shamuniz","Shan-ra","Shansi-sa","Shantin","Shapal-jo","Sharad","Sharaddargo","Sharazka","Sharsheh","Sharul","Shelad","Shelzaka","Shikruz","Shiladur","Shiniraer","Shinizahr","Shintah","Sholani","Sholas-do","Sholbiri","Shulargo","Shumishun","Shuzaad","Shuzul","Sibud-ja","Sigul-jo","Silat","Sind","Subid","Suhr","Tabil","Tadhargo","Tagin","Tahar-dar","Takaman","Takanasur","Takanazh","Takanradh","Tamshur","Tand","Tarak","Tarlar","Tashmin","Tashpir","Thalar","Thengil","Therris","Tishi","Tubidan","Tulashurr","Turan","Turshan-dar","Turuk","Tuzil-dro","Ubraz","Ulabael","Ulularr","Ululmalit","Unnur","Urjabhi","Urjen","Urjorad","Uzarnaym","Uzarrur","Uzernurr","Uzurnarr","Vabin-ja","Valam","Valirr","Vasha","Vashai","Vashpar","Wadaril","Wadarkhu","Whickmuz","Yaharati","Yan","Yanabir-ja","Yanalir","Yandzir","Yazhin","Yazhin-dar","Yenadar","Yenar","Zababi","Zaban","Zaban-ma","Zabaseh","Zabashlargo","Zabka","Zabluk","Zadabal-ra","Zaddo","Zagun-ra","Zahdarr","Zal-sa","Zalkir","Zamhirr","Zan","Zan'hi","Zandal","Zandur","Zantan","Zarbidiran","Zargal","Zarziri","Zaydak","Zemiran","Zhaaruis","Zhaj'hassa","Zhanar","Zharahn","Zhibaral","Zhiranaz","Ziakar","Zibam","Zihlran","Zino","Zizar-dar","Zoaraym","Zukki-dar","Zur","Zuzik"],setup.NAME_neko_surname=[" Barabiri"," Hammubiri"," Jabiri"," Khabiri"," Kibiri"," Mahbiri"," Raibiri"," Robiri"," Sabiri"," Sibiri"," Solbiri"," Tavakbiri"," Zabiri","Abiri","Abus","Adavi","Adhazabi","Ahan","Ahir","Akar","Amanni","Amnin","Anai","Aoni","Arabi","Aspoor","Astae","Atani","Avandi","Barabus","Baradavi","Barahan","Barahir","Barakar","Baramanni","Baramnin","Baranai","Baraoni","Bararabi","Baraspoor","Barastae","Baratani","Baravandi","Hammubus","Hammudavi","Hammuhan","Hammuhir","Hammukar","Hammumanni","Hammumnin","Hammunai","Hammuoni","Hammurabi","Hammuspoor","Hammustae","Hammutani","Hammuvandi","Jabus","Jadavi","Jahan","Jahir","Jakar","Jamanni","Jamnin","Janai","Jaoni","Jarabi","Jaspoor","Jastae","Jatani","Javandi","Khabus","Khadavi","Khahan","Khahir","Khakar","Khamanni","Khamnin","Khanai","Khaoni","Kharabi","Khaspoor","Khastae","Khatani","Khavandi","Kibus","Kidavi","Kihan","Kihir","Kikar","Kimanni","Kimnin","Kinai","Kioni","Kirabi","Kispoor","Kistae","Kitani","Kivandi","Krin","Mahbus","Mahdavi","Mahhan","Mahhir","Mahkar","Mahmanni","Mahmnin","Mahnai","Mahoni","Mahrabi","Mahspoor","Mahstae","Mahtani","Mahvandi","Raibus","Raidavi","Raihan","Raihir","Raikar","Raimanni","Raimnin","Rainai","Raioni","Rairabi","Raispoor","Raistae","Raitani","Raivandi","Robus","Rodavi","Rohan","Rohir","Rokar","Romanni","Romnin","Ronai","Rooni","Rorabi","Rospoor","Rostae","Rotani","Rovandi","Sabus","Sadavi","Sahan","Sahir","Sakar","Samanni","Samnin","Sanai","Saoni","Sarabi","Saspoor","Sastae","Satani","Savandi","Sibus","Sidavi","Sihan","Sihir","Sikar","Simanni","Simnin","Sinai","Sioni","Sirabi","Sispoor","Sistae","Sitani","Sivandi","Solbus","Soldavi","Solhan","Solhir","Solkar","Solmanni","Solmnin","Solnai","Soloni","Solrabi","Solspoor","Solstae","Soltani","Solvandi","Tavakbus","Tavakdavi","Tavakhan","Tavakhir","Tavakkar","Tavakmanni","Tavakmnin","Tavaknai","Tavakoni","Tavakrabi","Tavakspoor","Tavakstae","Tavaktani","Tavakvandi","Zabus","Zadavi","Zahan","Zahir","Zakar","Zamanni","Zamnin","Zanai","Zaoni","Zarabi","Zaspoor","Zastae","Zatani","Zavandi"],setup.NAME_norse_female_first_name=["Aada","Aada-Emilia","Aada-Maria","Aada-Sofia","Aala","Aalia","Aamina","Aamu","Aana","Aasa","Aava","Abigail","Ada","Ada-Emilia","Ada-Maria","Ada-Sofia","Adalia","Adaliina","Adalmiina","Adalmina","Adanna","Adea","Adela","Adelaide","Adele","Adelia","Adelie","Adeliina","Adelina","Adeline","Adella","Adelle","Adessa","Adile","Adina","Adna","Adriana","Adle","Adle","Afnaan","Agata","Agda","Agnes","Agnesa","Agneta","Agnetha","Agnia","Agnieszka","Ahlam","Ai","Aicha","Aida","Aija","Aija-Leena","Aija-Liisa","Aija-Riitta","Aiju","Aiko","Aila","Aile","Aili","Aime","Aimee","Aimi","Aina","Aini","Ainikki","Aino","Aino-Elina","Aino-Emilia","Aino-Ilona","Aino-Inkeri","Aino-Kaisa","Aino-Leena","Aino-Liisa","Aino-Maaria","Aino-Maija","Aino-Mari","Aino-Maria","Aino-Marja","Aino-Riitta","Aino-Sisko","Aino-Sofia","Ainokaisa","Ainoliina","Ainoliisa","Ainomaija","Ainomari","Ainomaria","Ainu","Aira","Aira-Liisa","Aire","Airi","Aisha","Aisla","Aissa","Aivi","Ajla","Aksa","Akuliina","Ala","Alana","Alanna","Alba","Albana","Albina","Albulena","Alda","Alds","Alea","Alejandra","Aleksa","Aleksandra","Aleksia","Aleksiina","Aleksina","Alena","Alessa","Alessandra","Alessia","Aletta","Alevtina","Alex","Alexa","Alexandra","Alexandria","Alexia","Alexina","Alexis","Alexsandra","Alfa","Alfhild","Alia","Alica","Alice","Alicia","Alicja","Alida","Aliina","Aliisa","Aliise","Alina","Alinda","Aline","Alisa","Alise","Alisha","Alisia","Alison","Alissa","Alix","Aliyah","Alja","Alla","Alli","Allison","Alma","Almira","Alona","Alva","Alviina","Alvina","Alyssa","Amaal","Amal","Amalia","Amalie","Amanda","Amani","Amaya","Amber","Amel","Amela","Amelia","Amelie","Ami","Amie","Amiira","Amila","Amilda","Amilia","Amina","Aminata","Amino","Amira","Ammi","Amna","Amra","Amran","Amy","Amlie","Ana","Anab","Anahita","Anastacia","Anastasia","Anastasija","Anastasiya","Anastassia","Anas","Ancela","Anceliga","Ancelika","Andrea","Andra","Anela","Anelma","Anesa","Anett","Anetta","Anette","Anfisa","Angel","Angela","Angelica","Angeliina","Angelika","Angelina","Angeline","Angelique","Anh","Ani","Ania","Aniela","Aniita","Aniitta","Anika","Anila","Anina","Aninka","Anisa","Anissa","Anita","Anitra","Anitta","Anja","Anja-Kaarina","Anja-Leena","Anja-Liisa","Anja-Maija","Anja-Maria","Anja-Riitta","Anjelika","Anju","Anki","Anmari","Ann","Ann-Britt","Ann-Caroline","Ann-Cathrin","Ann-Cathrine","Ann-Catrin","Ann-Catrine","Ann-Charlott","Ann-Charlotte","Ann-Christin","Ann-Christine","Ann-Gret","Ann-Helen","Ann-Jeanette","Ann-Katrin","Ann-Katrine","Ann-Kristin","Ann-Lis","Ann-Louise","Ann-Maarit","Ann-Maj","Ann-Mari","Ann-Maria","Ann-Marie","Ann-May","Ann-Nina","Ann-Sofi","Ann-Sofia","Ann-Sofie","Ann-Sophie","Anna","Anna-Bella","Anna-Brita","Anna-Carin","Anna-Elina","Anna-Elisa","Anna-Emilia","Anna-Erika","Anna-Eveliina","Anna-Greta","Anna-Helena","Anna-Ilona","Anna-Inkeri","Anna-Julia","Anna-Juulia","Anna-Kaarina","Anna-Kaija","Anna-Kaisa","Anna-Kajsa","Anna-Karin","Anna-Karoliina","Anna-Katariina","Anna-Katarina","Anna-Katri","Anna-Katriina","Anna-Kreeta","Anna-Kreetta","Anna-Kristiina","Anna-Kristina","Anna-Laura","Anna-Lea","Anna-Leea","Anna-Leena","Anna-Lena","Anna-Liina","Anna-Liisa","Anna-Lisa","Anna-Lotta","Anna-Maaria","Anna-Maarit","Anna-Maija","Anna-Maj","Anna-Mari","Anna-Maria","Anna-Marie","Anna-Marika","Anna-Marja","Anna-Mi","Anna-Mia","Anna-Miia","Anna-Pauliina","Anna-Pia","Anna-Reeta","Anna-Reetta","Anna-Riikka","Anna-Riina","Anna-Riitta","Anna-Roosa","Anna-Sisko","Anna-Sofia","Anna-Stiina","Anna-Stina","Anna-Tuulia","Annabel","Annabell","Annabella","Annabelle","Annakaisa","Annaleena","Annalena","Annaliina","Annaliisa","Annalisa","Annalotta","Annamaaria","Annamaija","Annamari","Annamaria","Annami","Annareetta","Annariikka","Annariina","Annariitta","Annasofia","Annastiina","Annastina","Anne","Anne-Birgitta","Anne-Charlotte","Anne-Christine","Anne-Elina","Anne-Helena","Anne-Kaarina","Anne-Kaisa","Anne-Katariina","Anne-Kristiina","Anne-Kristina","Anne-Leena","Anne-Liisa","Anne-Maaret","Anne-Maaria","Anne-Maarit","Anne-Mai","Anne-Maija","Anne-Maj","Anne-Mari","Anne-Maria","Anne-Marie","Anne-Marika","Anne-Marit","Anne-Marita","Anne-Maritta","Anne-Marja","Anne-Marjatta","Anne-Marjo","Anne-Marjut","Anne-May","Anne-Riitta","Anne-Sisko","Anneka","Annel","Annele","Anneli","Annelie","Anneliina","Annemari","Annemaria","Annemarie","Annemo","Annette","Annevi","Anni","Anni-Elina","Anni-Emilia","Anni-Helena","Anni-Ilona","Anni-Julia","Anni-Kaisa","Anni-Leena","Anni-Liisa","Anni-Lotta","Anni-Maaria","Anni-Maija","Anni-Mari","Anni-Maria","Anni-Marja","Anni-Riikka","Anni-Riina","Anni-Riitta","Anni-Roosa","Anni-Sofia","Annica","Annie","Anniina","Annika","Annikaisa","Annikka","Annikki","Annileena","Anniliina","Annilotta","Annimaija","Annimari","Annimaria","Annina","Annlis","Annmari","Annmarie","Annu","Annu-Maria","Annukka","Anny","Anri","Ansa","Ansku","Antigona","Antje","Antoinette","Antonella","Antonia","Antonina","Anu","Anu-Elina","Anu-Johanna","Anu-Kaisa","Anu-Kristiina","Anu-Leena","Anu-Liina","Anu-Liisa","Anu-Maaria","Anu-Maarit","Anu-Maija","Anu-Mari","Anu-Maria","Anu-Marja","Anu-Pauliina","Anu-Riikka","Anu-Susanna","Anuliina","Anuliisa","Anumari","Anuriikka","Anvi","Anya","Anzelika","Anzhelika","Anta","April","Ardita","Aria","Ariana","Arianna","Arianne","Ariel","Ariela","Ariella","Arielle","Arina","Arita","Arja","Arja-Helena","Arja-Leena","Arja-Liisa","Arja-Maija","Arja-Riitta","Arja-Sisko","Arja-Terttu","Arla","Arlene","Arlinda","Arma","Armi","Armida","Armiida","Arna","Arnds","Arta","Asha","Ashley","Asho","Asia","Asla","Asli","Aslg","Asma","Asmaa","Asra","Asrin","Assi","Asta","Aster","Asteri","Astri","Astrid","Athena","Athina","Audrey","Augusta","Aula","Auli","Aulikki","Aune","Auni","Aura","Aure","Aurelia","Auri","Auroora","Aurora","Auvo","Auur","Ava","Ave","Avilla","Avin","Aviva","Awa","Axa","Aya","Ayaan","Ayan","Ayda","Ayesha","Ayla","Aylin","Aynur","Ayse","Aysha","Aziza","Azra","Aalbjrg","Aalheiur","Bahar","Bao","Barbara","Barbi","Barbro","Bea","Beada","Beata","Beate","Beatrice","Beatriz","Beatta","Beda","Beea","Beeda","Beerit","Belinda","Bella","Benita","Berfin","Berglind","Bergra","Berit","Berith","Berivan","Bernice","Berta","Bertha","Bertta","Beryl","Besarta","Betti","Bettiina","Bettina","Betty","Bia","Bianca","Bibi","Bich","Bigga","Binta","Birgit","Birgitta","Birgitte","Birit","Biritta","Birna","Birta","Birthe","Bjrg","Bjrk","Blanca","Blanka","Blerina","Blerta","Bodil","Boel","Bojan","Borghild","Brenda","Brianna","Brigitta","Brigitte","Briita","Briitta","Briitta-Liisa","Brita","Brita-Liisa","Brita-Lisa","Britt","Britt-Inger","Britt-Louise","Britt-Maj","Britt-Mari","Britt-Marie","Britta","Brynds","Brynhildur","Brynja","Bushra","Bra","Caisa","Caisha","Caitlin","Cajsa","Camila","Camilla","Camille","Cara","Carin","Carina","Carine","Carissa","Carita","Carla","Carlotta","Carmela","Carmen","Caro","Carol","Carola","Carole","Caroliina","Carolin","Carolina","Caroline","Carolyn","Casandra","Cassandra","Catalina","Catarina","Caterina","Catharina","Catherine","Cathrin","Cathrine","Cathy","Catja","Catrin","Catrina","Catrine","Cecilia","Cecilie","Celeste","Celia","Celina","Celinda","Celine","Cesilia","Chanel","Chanelle","Chantal","Charlene","Charlotta","Charlotte","Chatarina","Chelsea","Cheryl","Chia","Chiara","Chloe","Chlo","Chris","Christa","Christel","Christelle","Christiana","Christiane","Christiina","Christin","Christina","Christine","Cia","Ciara","Ciia","Cilla","Cindy","Cira","Claire","Clara","Clarissa","Clarisse","Clary","Claudia","Cleo","Coco","Cora","Corinna","Corinne","Cornelia","Crista","Cristel","Cristina","Cristine","Cynthia","Ccile","Cline","Daalia","Dafina","Daga","Dagbjrt","Dagmar","Dagny","Dagn","Dahlia","Daisy","Dalia","Dalila","Damaris","Damla","Dana","Dania","Danica","Daniela","Daniella","Danielle","Danja","Daria","Darina","Darja","Darling","Darya","Davina","Dea","Debbie","Debora","Deborah","Deeqa","Deeqo","Delia","Delila","Demi","Denice","Denisa","Denise","Deniz","Derya","Desiree","Desir","Desire","Dia","Diana","Diane","Dianna","Diellza","Diina","Dilan","Dilara","Dilek","Dina","Dinah","Diona","Disa","Dita","Ditte","Dolly","Dolores","Dominika","Dominique","Donia","Donika","Donna","Donya","Dora","Doris","Dorita","Dorotea","Dorothea","Dorothy","Dorrit","Dorthe","Dorthy","Drita","Dunia","Dunja","Dunya","Dsire","Dra","Ea","Ebba","Ebru","Eda","Edda","Edel","Eden","Edina","Edit","Edita","Edith","Edla","Edna","Edona","Eea","Eeda","Eedi","Eedit","Eedith","Eedla","Eela","Eeli","Eelin","Eena","Eerica","Eerika","Eerin","Eetla","Eeva","Eeva-Helena","Eeva-Inkeri","Eeva-Kaarina","Eeva-Kaija","Eeva-Kaisa","Eeva-Kristiina","Eeva-Leena","Eeva-Liisa","Eeva-Lotta","Eeva-Maija","Eeva-Mari","Eeva-Maria","Eeva-Marja","Eeva-Reetta","Eeva-Riikka","Eeva-Riitta","Eeva-Sisko","Eeva-Sofia","Eeva-Stiina","Eevakaisa","Eevaleena","Eevaliisa","Eevamaija","Eevamari","Eevamaria","Eevariitta","Eevastiina","Eevi","Effi","Egzona","Eha","Eija","Eija-Elina","Eija-Inkeri","Eija-Kaarina","Eija-Leena","Eija-Liisa","Eija-Maarit","Eija-Maija","Eija-Maria","Eija-Marja","Eija-Riitta","Eija-Sinikka","Eija-Sisko","Eila","Eila-Maija","Eila-Sisko","Eili","Eimi","Eina","Eine","Eini","Eira","Eiri","Eivor","Eja","Ejvor","Ekaterina","Ekaterini","Ela","Elaine","Elbe","Elda","Elea","Eleanoora","Eleanor","Eleanora","Elen","Elena","Elene","Eleni","Elenor","Eleonoora","Eleonor","Eleonora","Elga","Elham","Eliana","Elice","Elida","Elif","Eliina","Eliisa","Eliise","Elin","Elina","Elina-Maria","Eline","Elinor","Elisa","Elisabet","Elisabeth","Elisaveta","Elise","Elissa","Eliza","Elizabeth","Elizaveta","Elke","Ella","Ella-Emilia","Ella-Kaisa","Ella-Maaria","Ella-Maija","Ella-Mari","Ella-Maria","Ella-Noora","Ella-Olivia","Ella-Riikka","Ella-Riina","Ella-Roosa","Ella-Sofia","Ellamari","Ellamaria","Ellanoora","Ellariina","Elle","Ellen","Elli","Elli-Maija","Elli-Mari","Elli-Maria","Elli-Noora","Elli-Sofia","Ellida","Ellie","Elliida","Elliina","Ellimaija","Ellimari","Ellimaria","Ellinoora","Ellinor","Ellinora","Elly","Elma","Elmi","Elmiina","Elmiira","Elmira","Elna","Eloise","Elona","Elpi","Els-Maj","Elsa","Elsa-Maija","Elsa-Maria","Elsbet","Elsbeth","Else","Else-Maj","Else-May","Elsi","Elsie","Elsmaj","Elva","Elvi","Elvia","Elviira","Elvina","Elvira","Elvy","Elwa","Elza","Elzbieta","Eln","Elsa","Elsabet","Ema","Eman","Embla","Emelia","Emelie","Emeliina","Emelina","Emeline","Emely","Emi","Emiilia","Emila","Emili","Emilia","Emilie","Emilija","Emilja","Emilla","Emily","Emila","Emina","Emine","Emira","Emma","Emma-Julia","Emma-Kaisa","Emma-Karoliina","Emma-Leena","Emma-Liina","Emma-Liisa","Emma-Lotta","Emma-Maria","Emma-Noora","Emma-Reetta","Emma-Riikka","Emma-Roosa","Emma-Sofia","Emmakaisa","Emmaleena","Emmaliina","Emmalotta","Emmelie","Emmi","Emmi-Julia","Emmi-Kaisa","Emmi-Leena","Emmi-Liina","Emmi-Lotta","Emmi-Maria","Emmi-Noora","Emmi-Riikka","Emmi-Sofia","Emmie","Emmiina","Emmilotta","Emmy","Ena","Ene","Engla","Enia","Enid","Enisa","Enja","Enna","Enne","Enne-Liisa","Enni","Enni-Lotta","Enni-Maija","Enni-Maria","Enni-Sofia","Enniina","Enny","Ensi","Enya","Erica","Eriika","Eriikka","Erika","Erin","Erina","Erja","Erja-Leena","Erja-Liisa","Erja-Riitta","Erla","Erna","Erza","Esma","Esme","Esmeralda","Esra","Essi","Essi-Emilia","Essi-Lotta","Essi-Maria","Estella","Estelle","Ester","Esteri","Esther","Esti","Estrid","Etel","Ethel","Etna","Etta","Etti","Eugenia","Eunice","Eva","Eva-Christina","Eva-Kaarina","Eva-Leena","Eva-Lena","Eva-Liisa","Eva-Lisa","Eva-Lotta","Eva-Maija","Eva-Mari","Eva-Maria","Eva-Marie","Eva-Marja","Eva-Riitta","Eva-Stina","Evamaria","Evangelia","Eve","Evelia","Eveliina","Evelin","Evelina","Eveline","Evelyn","Evena","Evgenia","Evgenija","Evgeniya","Evguenia","Evi","Evia","Evianna","Evie","Evin","Evita","Evy","Ewa","Eyds","Eygl","Eyrn","Eyvor","Faadumo","Faduma","Fadumo","Faina","Faisa","Faith","Faiza","Fanney","Fanni","Fanni-Sofia","Fanny","Fanny-Maria","Farah","Fardowsa","Farhia","Farhio","Farhiya","Farhiyo","Fariba","Farida","Fartun","Fatema","Fatemeh","Fathi","Fatima","Fatime","Fatma","Fatmire","Fatou","Fatuma","Fay","Febe","Felicia","Fereshteh","Feride","Fia","Fiia","Fiina","Fiinu","Filippa","Filiz","Filsan","Fiona","Fitore","Fjla","Flora","Florence","Florentina","Fowsia","Francesca","Francisca","Franziska","Fredrica","Fredrika","Freia","Freija","Freja","Freya","Freyja","Frida","Friia","Friida","Fra","Gabriela","Gabriella","Gabrielle","Gaia","Galina","Ganimete","Gea","Gemma","Gentiana","Georgia","Georgina","Gerd","Gerda","Gertrud","Gerur","Ghita","Gia","Giia","Gilda","Gina","Gisela","Gisella","Giselle","Gita","Githa","Gitta","Gitte","Giulia","Gladys","Gloria","Glory","Grace","Grazyna","Greeta","Greetta","Gresa","Greta","Grete","Gretel","Grethel","Grta","Gudrun","Gull-Britt","Gull-Maj","Gullan","Gullevi","Gullvi","Gun","Gun-Britt","Gun-Lis","Gun-Maj","Gun-Mari","Gun-Marie","Gun-May","Gun-Viol","Gunborg","Gunbritt","Gunda","Gundel","Gunhild","Gunilla","Gunlis","Gunlg","Gunn","Gunn-Britt","Gunn-Lis","Gunn-Maj","Gunne","Gunnel","Gunnevi","Gunnhildur","Gunni","Gunni-Maj","Gunveig","Gunvi","Gunvor","Gurli","Gubjrg","Gufinna","Gulaug","Gumunda","Gun","Gurur","Gurn","Gwen","Gya","Grel","Gta","Ha","Habiba","Hafds","Hafsa","Hagar","Hailey","Hajar","Halima","Halimo","Halina","Halla","Halldra","Hamda","Hamdi","Hana","Hanaan","Hanan","Hani","Hanin","Hanna","Hanna-Elina","Hanna-Elisa","Hanna-Emilia","Hanna-Helena","Hanna-Kaarina","Hanna-Kaija","Hanna-Kaisa","Hanna-Karoliina","Hanna-Katariina","Hanna-Katri","Hanna-Katriina","Hanna-Laura","Hanna-Lea","Hanna-Leena","Hanna-Lena","Hanna-Liisa","Hanna-Lotta","Hanna-Maaria","Hanna-Maarit","Hanna-Maija","Hanna-Mari","Hanna-Maria","Hanna-Marika","Hanna-Marja","Hanna-Pauliina","Hanna-Reeta","Hanna-Reetta","Hanna-Riikka","Hanna-Riina","Hanna-Riitta","Hanna-Sisko","Hanna-Sofia","Hanna-Stiina","Hanna-Tuulia","Hannah","Hannakaisa","Hannaleena","Hannaliisa","Hannamaija","Hannamari","Hannamaria","Hannariikka","Hannariina","Hanne","Hanne-Leena","Hanne-Maarit","Hanne-Mari","Hanne-Maria","Hanne-Riikka","Hannele","Hanneli","Hannemari","Hanni","Hanni-Mari","Harpa","Harriet","Hatice","Hava","Havin","Hawa","Hawo","Hayley","Hazel","Heather","Heba","Hebe","Hedda","Heddy","Hedi","Hedvig","Hedy","Heidi","Heidi-Maaria","Heidi-Maarit","Heidi-Mari","Heidi-Maria","Heidi-Marie","Heidi-Marika","Heidi-Marja","Heidi-Susanna","Heidy","Heile","Heili","Heine","Heini","Heini-Maria","Heini-Marja","Heia","Heirn","Hele","Heleena","Helen","Helena","Helene","Helfrid","Helga","Heli","Heli-Johanna","Heli-Maarit","Heli-Maija","Heli-Maria","Heli-Marja","Heli-Riitta","Heli-Sisko","Helianna","Helin","Helina","Helin","Heli","Helj","Helka","Helkky","Helky","Hella","Helle","Hellen","Hellevi","Helli","Hellikki","Hellin","Helly","Hell","Helma","Helmi","Helmi-Lotta","Helmi-Maria","Helmi-Riitta","Helmi-Sofia","Helmiina","Helny","Heloisa","Helpi","Helvi","Hely","Heln","Helne","Henna","Henna-Kaisa","Henna-Leena","Henna-Liisa","Henna-Maaria","Henna-Maarit","Henna-Maija","Henna-Mari","Henna-Maria","Henna-Reetta","Henna-Riikka","Henna-Riina","Henna-Riitta","Henna-Sofia","Hennamari","Hennariikka","Hennariina","Henni","Henniina","Henny","Henrica","Henrietta","Henriette","Henriika","Henriikka","Henriina","Henrika","Henrita","Herds","Hero","Hertta","Heta","Heta-Liisa","Heta-Maija","Heta-Maria","Hetta","Hetti","Hiba","Hibaaq","Hibo","Hila","Hilda","Hilda-Maria","Hilde","Hildegard","Hildi","Hildur","Hilja","Hilja-Maria","Hilkka","Hilkka-Leena","Hilkka-Liisa","Hilkka-Maija","Hilla","Hilla-Maaria","Hilla-Mari","Hilla-Maria","Hilla-Marja","Hillamari","Hillamaria","Hille","Hillervo","Hillevi","Hilma","Hilpe","Hilpi","Hilppa","Hilta","Hilve","Hind","Hinda","Hinni","Hippu","Hjrdis","Hjrds","Hoang","Hoda","Hodan","Holly","Hong","Hope","Hrafnhildur","Hrefna","Hrnn","Huda","Hugrn","Hui","Hulda","Hymy","Hlne","Hlmfrur","Ia","Iana","Ibtisam","Ida","Ida-Amanda","Ida-Annika","Ida-Emilia","Ida-Julia","Ida-Kaisa","Ida-Liisa","Ida-Lotta","Ida-Maija","Ida-Mari","Ida-Maria","Ida-Marie","Ida-Sofia","Idamaria","Idil","Idun","Ifrah","Iia","Iida","Iida-Elina","Iida-Emilia","Iida-Kaisa","Iida-Liina","Iida-Liisa","Iida-Lotta","Iida-Maija","Iida-Mari","Iida-Maria","Iida-Sofia","Iidaliina","Iidamaria","Iija","Iina","Iina-Emilia","Iina-Kaisa","Iina-Lotta","Iina-Maija","Iina-Mari","Iina-Maria","Iina-Sofia","Iines","Iinu","Iira","Iiri","Iiris","Iisa","Iita","Iita-Maria","Iitu","Iivi","Ija","Ikhlas","Ikraam","Ikraan","Ikram","Ikran","Ila","Ilana","Ildik","Ilhaan","Ilham","Ilhan","Iliana","Illusia","Ilma","Ilmi","Ilona","Ilse","Ilse-Maj","Ilta","Iman","Immi","Impi","Ina","Ina-Maria","Inari","Inca","India","Indira","Ines","Inessa","Inez","Ing-Britt","Ing-Maj","Ing-Mari","Inga","Inga-Britt","Inga-Liisa","Inga-Lill","Inga-Lis","Inga-Lisa","Inga-Maarit","Inga-Maj","Inga-Maria","Ingalill","Inge","Inge-Britt","Inge-Maj","Inge-May","Ingeborg","Ingegerd","Ingegrd","Ingela","Ingemo","Inger","Ingibjrg","Ingrid","Ingunn","Ingvor","Inka","Inka-Liisa","Inka-Maaria","Inka-Mari","Inka-Maria","Inka-Riina","Inka-Sofia","Inke","Inkeri","Inna","Inni","Ins","Ioanna","Iona","Ioulia","Ippa","Iqra","Ira","Ira-Maria","Iraida","Ireene","Irem","Irena","Irene","Iri","Iria","Irina","Irini","Irinja","Iris","Irja","Irja-Leena","Irja-Liisa","Irkka","Irma","Irma-Leena","Irma-Liisa","Irmeli","Irmelin","Iro","Iryna","Irne","Isa","Isa-Maria","Isabel","Isabela","Isabell","Isabella","Isabelle","Isadora","Isela","Isella","Isla","Ismahan","Isra","Israa","Ivana","Ivy","Iza","Izabella","Izabelle","Jaael","Jaana","Jaana-Kaisa","Jaana-Liisa","Jaana-Maarit","Jaana-Maija","Jaana-Mari","Jaana-Maria","Jaana-Marja","Jaanika","Jacqueline","Jada","Jade","Jadessa","Jael","Jamie","Jamila","Jamilla","Jamina","Jana","Jane","Janella","Janelle","Janessa","Janet","Janetta","Janette","Janica","Janice","Janiika","Janiina","Janika","Janina","Janine","Janissa","Janita","Janitta","Janka","Janna","Janna-Mari","Janna-Maria","Janni","Jannica","Janniina","Jannika","Jannike","Jannina","Jarita","Jarna","Jasmi","Jasmiin","Jasmiina","Jasmiini","Jasmin","Jasmina","Jasmine","Jasna","Jatta","Jean","Jeanette","Jeanna","Jeanne","Jeannette","Jeena","Jekaterina","Jelena","Jelina","Jella","Jemiina","Jemilia","Jemima","Jemina","Jena","Jeni","Jenica","Jenifer","Jenika","Jenina","Jenita","Jenna","Jenna-Emilia","Jenna-Julia","Jenna-Juulia","Jenna-Mari","Jenna-Maria","Jenna-Riikka","Jenna-Riina","Jenna-Sofia","Jennamiia","Jenni","Jenni-Elina","Jenni-Emilia","Jenni-Johanna","Jenni-Julia","Jenni-Kaisa","Jenni-Leena","Jenni-Liisa","Jenni-Maaria","Jenni-Maija","Jenni-Mari","Jenni-Maria","Jenni-Sofia","Jennica","Jennie","Jennifer","Jenniina","Jennika","Jennimari","Jennina","Jenny","Jenny-Maria","Jenny-Sofia","Jennyfer","Jenn","Jerica","Jerika","Jerina","Jerita","Jertta","Jessi","Jessica","Jessie","Jessiina","Jessika","Jessina","Jetta","Jevgenia","Jia","Jiia","Jiina","Jill","Jilla","Jina","Jing","Jinka","Jinna","Jippu","Jitta","Joa","Joan","Joana","Joanna","Joanne","Joela","Joella","Johanna","Johanna-Maria","Johanne","Jolanda","Jolanta","Jolina","Joline","Jonina","Jonna","Jonna-Julia","Jonna-Kaisa","Jonna-Mari","Jonna-Maria","Jonna-Riikka","Josefia","Josefiina","Josefin","Josefina","Josefine","Josephine","Josetta","Josette","Joy","Joyce","Juan","Juana","Juanita","Judit","Judith","Judy","Juli","Julia","Juliaana","Juliana","Julianna","Julianne","Julie","Juliet","Julietta","Juliette","Julija","Julina","Julita","Jun","June","Juni","Junia","Juno","Justiina","Justina","Jutta","Jutta-Mari","Jutta-Maria","Juudit","Juuli","Juuli-Anna","Juuli-Maria","Juulia","Juulianna","Juuni","Jhanna","Jna","Jnna","Jlia","Jla","Ka","Kaari","Kaarin","Kaarina","Kaarna","Kadi","Kadri","Kaiho","Kaija","Kaija-Helena","Kaija-Leena","Kaija-Liisa","Kaija-Maija","Kaija-Riitta","Kaija-Sisko","Kaijaleena","Kaiju","Kaika","Kaila","Kaino","Kaire","Kairi","Kaisa","Kaisa-Elina","Kaisa-Leena","Kaisa-Liisa","Kaisa-Maaria","Kaisa-Maija","Kaisa-Mari","Kaisa-Maria","Kaisa-Marja","Kaisa-Reeta","Kaisa-Reetta","Kaisa-Riitta","Kaisaleena","Kaisaliisa","Kaisamari","Kaisamaria","Kaisi","Kaisla","Kaisla-Maria","Kaisli","Kaisu","Kaisu-Leena","Kaisu-Liisa","Kaitlyn","Kaja","Kajsa","Kalla","Kaltrina","Kamila","Kamilla","Kaneli","Kanerva","Kara","Karelia","Karen","Kariina","Karima","Karin","Karina","Karine","Karita","Karla","Karmen","Karo","Karola","Karoliina","Karolin","Karolina","Karoline","Kastanja","Kaste","Kaste-Helmi","Kastehelmi","Kata","Katalin","Katariina","Katarina","Katarine","Katarzyna","Kate","Kateriina","Katerina","Kateryna","Katharina","Katharine","Katherine","Kathleen","Kathryn","Kathy","Kati","Kati-Johanna","Kati-Maarit","Kati-Mari","Kati-Maria","Kati-Susanna","Katia","Katie","Katinka","Katja","Katja-Helena","Katja-Leena","Katja-Liisa","Katja-Maaria","Katja-Maarit","Katja-Mari","Katja-Maria","Katja-Marika","Katjaana","Katju","Katri","Katri-Helena","Katri-Johanna","Katri-Maria","Katrianna","Katriina","Katrin","Katrina","Katrine","Katrn","Katy","Katya","Kawsar","Kay","Kayla","Kea","Keiju","Keira","Kelly","Kendra","Keren","Kerli","Kersti","Kerstin","Kerttu","Kerttu-Kaarina","Kerttu-Liisa","Kerttuli","Kesia","Keth","Khadija","Khadra","Khadro","Kia","Kia-Maria","Kiana","Kianna","Kiara","Kielo","Kiia","Kiia-Maria","Kiira","Kiisa","Kiki","Kikka","Kim","Kimberly","Kimete","Kira","Kirke","Kirsi","Kirsi-Hannele","Kirsi-Leena","Kirsi-Liisa","Kirsi-Maaria","Kirsi-Maarit","Kirsi-Maija","Kirsi-Mari","Kirsi-Maria","Kirsi-Marie","Kirsi-Marika","Kirsi-Marja","Kirsi-Marjaana","Kirsi-Marjo","Kirsi-Marjut","Kirsikka","Kirsimaria","Kirsimarja","Kirsten","Kirsti","Kirsti-Kaarina","Kirsti-Liisa","Kirsti-Maija","Kirta","Kiti","Kitta","Kitte","Kitti","Kitty","Kjerstin","Klaara","Klara","Klaudia","Kolbrn","Konstantina","Kreeta","Kreetta","Kreetta-Liisa","Krenare","Krisse","Krista","Krista-Maria","Kristbjrg","Kristel","Kristen","Kristi","Kristiina","Kristin","Kristina","Kristine","Kristjana","Kristrn","Kristy","Kristn","Krisztina","Krystyna","Ksenia","Ksenija","Kukka","Kukka-Maaria","Kukka-Maria","Kukkamaaria","Kuura","Kylli","Kyllikki","Kyra","Kthe","Kbra","Lada","Lahja","Laia","Laila","Laimi","Laina","Laine","Laini","Lalla","Lamia","Lana","Lara","Larisa","Larissa","Latifa","Laufey","Lauha","Laura","Laura-Elina","Laura-Emilia","Laura-Kaisa","Laura-Leena","Laura-Liisa","Laura-Maija","Laura-Mari","Laura-Maria","Laura-Sofia","Laure","Lauren","Lauriina","Lavinia","Layla","Le","Lea","Lea-Liisa","Leah","Leanna","Leanne","Lee","Leea","Leena","Leena-Anneli","Leena-Kaarina","Leena-Kaisa","Leena-Liisa","Leena-Maija","Leena-Mari","Leena-Maria","Leena-Marja","Leena-Marjatta","Leena-Riitta","Leena-Sisko","Leenakaisa","Leenamaija","Leenamari","Leeni","Leenu","Lei","Leia","Leija","Leila","Lejla","Lembi","Lemmikki","Lempi","Lena","Lena-Maria","Lene","Leni","Lenita","Leona","Leonie","Leonita","Leonora","Leticia","Leyla","Li","Lia","Liana","Lianna","Lida","Lidia","Lidija","Lii","Liia","Liida","Liidia","Liila","Liilia","Liina","Liina-Kaisa","Liina-Lotta","Liina-Maija","Liina-Maria","Liine","Liinu","Liisa","Liisa-Kaarina","Liisa-Lotta","Liisa-Maija","Liisa-Mari","Liisa-Maria","Liisa-Marja","Liisamaija","Liisamari","Liisamaria","Liisi","Liisu","Liivia","Lija","Lila","Lili","Lilia","Lilian","Liliana","Liliane","Lilianna","Lilija","Lilith","Liliya","Lilja","Lilja-Maria","Liljen","Lilla","Lillemor","Lilli","Lillian","Lilly","Lilo","Lily","Lilya","Lin","Lina","Linda","Linda-Lotta","Linda-Mari","Linda-Maria","Linda-Marie","Linda-Sofia","Lindis","Line","Linea","Linette","Ling","Linh","Linn","Linne","Linnea","Linna","Lioubov","Lioudmila","Lippe","Liridona","Lirije","Lis","Lis-Britt","Lis-Mari","Lis-Marie","Lisa","Lisa-Maria","Lisa-Marie","Lisbet","Lisbeth","Lise","Lise-Lott","Lise-Lotte","Lise-Maj","Liselott","Liselotte","Lisen","Lisette","Lisi","Lissu","Lita","Liubov","Liudmila","Liv","Livia","Liz","Liza","Lizette","Ljubov","Ljudmila","Lola","Lolan","Lolita","Lonny","Lora","Lorena","Loreta","Loretta","Lorin","Lorna","Lotta","Lotta-Emilia","Lotta-Kaisa","Lotta-Leena","Lotta-Liina","Lotta-Liisa","Lotta-Maaria","Lotta-Maija","Lotta-Mari","Lotta-Maria","Lotta-Riina","Lotta-Sofia","Lottaliina","Lotte","Lotten","Louisa","Louise","Louna","Lova","Loviisa","Lovis","Lovisa","Lovsa","Lowa","Lu","Luana","Lucia","Luciana","Lucie","Lucinda","Lucy","Ludmila","Ludmilla","Luisa","Luiza","Luljeta","Lulu","Lumi","Lumi-Helmi","Lumi-Kukka","Lumi-Lilja","Lumi-Maria","Lumi-Tuuli","Lumia","Lumianna","Lumikki","Lumikukka","Lumina","Lumnije","Luna","Luul","Luz","Lydia","Lydmila","Lykke","Lynn","Lyydi","Lyydia","Lyyli","Lyyti","Lra","La","Maare","Maaren","Maaret","Maari","Maaria","Maarika","Maarit","Maarita","Maarja","Maaru","Madelein","Madeleine","Madelen","Madelene","Madeline","Madicken","Madina","Madison","Mae","Magda","Magdaleena","Magdalena","Maggie","Magnea","Mahnaz","Mahsa","Mai","Mai-Britt","Mai-Lis","Maia","Maida","Maie","Maija","Maija-Elina","Maija-Helena","Maija-Kaarina","Maija-Kaisa","Maija-Leena","Maija-Liisa","Maija-Reetta","Maija-Riikka","Maija-Riitta","Maija-Sisko","Maija-Stiina","Maijaleena","Maijaliisa","Maijastiina","Maiju","Maiju-Leena","Maiju-Liina","Maiju-Liisa","Maikki","Maikku","Maila","Maileena","Maili","Mailis","Maina","Maini","Maira","Maire","Mairi","Mairit","Maisa","Maissi","Maisu","Maj","Maj-Brit","Maj-Britt","Maj-Gret","Maj-Gun","Maj-Len","Maj-Lis","Maja","Maja-Lisa","Majbritt","Majken","Majlen","Majlis","Majvor","Malaika","Malak","Maleena","Malena","Malgorzata","Maliina","Malika","Malin","Malina","Malla","Malle","Mallu","Malou","Malva","Malviina","Malvina","Manal","Manar","Manda","Mandi","Mandy","Manja","Manna","Manta","Manuela","Marcela","Marcella","Mare","Mareena","Marella","Maren","Marena","Maret","Marga","Margareeta","Margareetta","Margaret","Margareta","Margareth","Margaretha","Margarita","Marge","Marget","Margetta","Margit","Margita","Margitha","Margitta","Margot","Margrt","Marguerite","Mari","Mari-Ann","Mari-Anna","Mari-Anne","Mari-Anneli","Mari-Annika","Mari-Annukka","Mari-Elina","Mari-Ella","Mari-Hannele","Mari-Helena","Mari-Jaana","Mari-Johanna","Mari-Kaisa","Mari-Leena","Mari-Liisa","Mari-Sanna","Mari-Sisko","Mari-Susanna","Mari-Tuulia","Maria","Maria-Elena","Maria-Elina","Maria-Helena","Maria-Kristiina","Maria-Leena","Maria-Liisa","Maria-Riitta","Maria-Sofia","Maria-Teresa","Maria-Terttu","Mariaana","Mariah","Mariam","Mariama","Marian","Mariana","Mariann","Marianna","Marianne","Marica","Marie","Marie-Christine","Marie-Helene","Marie-Louise","Mariel","Mariela","Mariella","Marielle","Marietta","Mariette","Marigona","Mariia","Mariikka","Mariina","Mariita","Mariitta","Marija","Marika","Marike","Marikka","Marikki","Mariko","Marileena","Mariliina","Mariliisa","Marilla","Marilyn","Marina","Marine","Marinella","Marinka","Marion","Marisa","Marisanna","Marisol","Marissa","Marit","Marita","Maritsa","Maritta","Maritza","Mariya","Mariza","Marja","Marja-Anneli","Marja-Elina","Marja-Hannele","Marja-Helena","Marja-Kaarina","Marja-Kaisa","Marja-Kristiina","Marja-Lea","Marja-Leena","Marja-Lena","Marja-Liisa","Marja-Maija","Marja-Riikka","Marja-Riitta","Marja-Sinikka","Marja-Sisko","Marja-Terttu","Marja-Tuulikki","Marjaana","Marjaleena","Marjaliisa","Marjam","Marjan","Marjana","Marjanna","Marjanne","Marjariitta","Marjaterttu","Marjatta","Marje","Marjo","Marjo-Hannele","Marjo-Kaisa","Marjo-Leena","Marjo-Liisa","Marjo-Reetta","Marjo-Riikka","Marjo-Riina","Marjo-Riitta","Marjorie","Marjoriitta","Marju","Marjukka","Marjut","Marke","Marketta","Markit","Marla","Marle","Marleen","Marleena","Marlen","Marlena","Marlene","Marln","Marlne","Marsa","Marta","Martha","Martiina","Martina","Martta","Marttiina","Maru","Marus","Marutzella","Marwa","Mary","Mary-Ann","Mary-Anne","Marya","Maryam","Maryama","Maryan","Mara","Mathilda","Mathilde","Matilda","Matilde","Matleena","Matlena","Matthildur","Maud","Maura","Maxine","May","May-Britt","May-Len","Maya","Mayvor","Mea","Mea-Maria","Medina","Meea","Meela","Meeli","Meemi","Meena","Meeri","Meerit","Meg","Megan","Meh","Mei","Meija","Meiju","Meimi","Meini","Meira","Meja","Melanie","Melek","Melia","Meliha","Meliina","Melika","Melike","Melina","Melinda","Melis","Melisa","Melissa","Melita","Mella","Melodi","Melody","Menna","Menni","Mercedes","Merete","Merette","Meri","Meri-Helmi","Meri-Kukka","Meri-Maaria","Meri-Sisko","Meri-Tuuli","Meri-Tuulia","Meri-Tuulikki","Meria","Meriam","Merianna","Meriem","Merihelmi","Meriitta","Merika","Merike","Merilin","Merilla","Merina","Merit","Merita","Meritta","Merituuli","Merituulia","Merja","Merja-Hannele","Merja-Helena","Merja-Leena","Merja-Liisa","Merja-Riitta","Merja-Terttu","Merle","Mertta","Merva","Merve","Mervi","Meryem","Mesi","Meta","Metta","Mette","Mette-Maria","Metti","Meya","Mi","Mia","Mia-Maarit","Mia-Maija","Mia-Mari","Mia-Maria","Mia-Marika","Mia-Riikka","Mia-Riitta","Mia-Sofia","Miana","Mianna","Micaela","Michaela","Michal","Michela","Michele","Michelle","Mielikki","Mielo","Mihaela","Mii","Miia","Miia-Leena","Miia-Liisa","Miia-Maaria","Miia-Maarit","Miia-Mari","Miia-Maria","Miia-Marika","Miia-Riikka","Miia-Riina","Miida","Miija","Miila","Miili","Miilia","Miimi","Miina","Miina-Maria","Miinu","Miira","Miisa","Miisa-Maria","Miita","Miitta","Miitu","Miiu","Mija","Mikaela","Mila","Milaja","Milana","Milaya","Milda","Mildred","Mildrid","Milea","Milena","Mili","Milia","Milja","Milja-Emilia","Milja-Maaria","Milja-Maria","Milka","Milla","Milla-Emilia","Milla-Maaria","Milla-Maarit","Milla-Mari","Milla-Maria","Milla-Riikka","Milla-Riina","Milla-Riitta","Milla-Roosa","Millamari","Millamaria","Milli","Millie","Milma","Milona","Milou","Milva","Milvi","Mimi","Mimma","Mimmi","Mimmu","Mimosa","Mimoza","Mina","Minca","Minda","Mindi","Mindy","Mine","Minea","Minella","Minerva","Minessa","Minetta","Minette","Minh","Minja","Minka","Minna","Minna-Elina","Minna-Johanna","Minna-Kaarina","Minna-Kaisa","Minna-Kristiina","Minna-Leena","Minna-Liisa","Minna-Maaria","Minna-Maarit","Minna-Maija","Minna-Mari","Minna-Maria","Minna-Marika","Minna-Marja","Minna-Marjaana","Minna-Riikka","Minna-Riitta","Minna-Sisko","Minna-Susanna","Minnaleena","Minnaliisa","Minnamaija","Minnamari","Minnamaria","Minne","Minnea","Minni","Minnie","Minta","Minttu","Minttu-Maaria","Minttu-Mari","Minttu-Maria","Mina","Miona","Mira","Mira-Maria","Mirabella","Miranda","Miranna","Mirca","Mireille","Mireka","Mirela","Mirella","Mirelle","Miretta","Mirette","Miri","Miriam","Mirigli","Mirikli","Mirja","Mirja-Kaarina","Mirja-Leena","Mirja-Liisa","Mirja-Maija","Mirja-Riitta","Mirjaliisa","Mirjam","Mirjami","Mirka","Mirka-Maria","Mirke","Mirkka","Mirkku","Mirna","Mirva","Mirva-Liisa","Mirve","Misa","Miska","Miski","Mitja","Mitra","Miya","Moa","Moira","Molla","Molly","Mona","Mona-Liisa","Mona-Lisa","Mona-Maria","Monia","Monica","Monika","Monique","Monja","Monna","Moona","Moona-Maria","Moonika","Muisto","Mulki","Muna","Muniira","Munira","Muru","Muska","Muusa","My","Mya","Myra","Myriam","Myrna","Mysi","Myy","Mrta","Mrtha","Mlanie","Naana","Nabila","Nada","Nadejda","Nadeschda","Nadezda","Nadezhda","Nadia","Nadine","Nadiya","Nadja","Nadya","Nafisa","Nahid","Naima","Naimi","Naimo","Najma","Najmo","Nala","Nan","Nana","Nancy","Nanda","Nanette","Nani","Nanja","Nanna","Nanne","Nanni","Nanny","Naomi","Narges","Narin","Nasra","Nasrin","Nasro","Nasteeho","Nasteho","Nasti","Nata","Natacha","Natali","Natalia","Natalie","Natalija","Nataliya","Natalja","Natalya","Natasa","Natascha","Natasha","Natasia","Nathalia","Nathalie","Natja","Natta","Nawaal","Nawal","Nazanin","Nea","Nea-Emilia","Nea-Mari","Nea-Maria","Nea-Noora","Nea-Sofia","Neah","Neda","Neea","Neea-Maria","Neela","Neele","Neelia","Neema","Neena","Neera","Neeta","Negin","Neija","Neila","Neili","Nela","Nele","Neli","Nelia","Nella","Nella-Maria","Nella-Noora","Nella-Sofia","Nelle","Nelli","Nelli-Maria","Nelli-Noora","Nellie","Nelliina","Nellinoora","Nelly","Nelma","Nelmi","Nemi","Nena","Nene","Nenja","Nenna","Nenne","Neonilla","Nerea","Neri","Nerissa","Nermin","Nesrin","Nessa","Nessi","Neta","Netta","Nette","Neve","Ngoc","Nguyen","Nguyet","Nhu","Nia","Nicola","Nicole","Nicoletta","Nicolette","Nicolina","Nicoline","Nida","Niia","Niika","Niina","Niina-Kaisa","Niina-Liisa","Niina-Maija","Niina-Mari","Niina-Maria","Niina-Riikka","Niini","Nika","Nike","Niki","Nikita","Nikki","Nikolina","Nila","Nilla","Nimco","Nimo","Nina","Nina-Johanna","Nina-Maarit","Nina-Mari","Nina-Maria","Nina-Marie","Nina-Marika","Ninetta","Ninette","Ninja","Ninna","Ninni","Ninnu","Nisa","Nita","Nitta","Noa","Noelia","Noella","Noelle","Noemi","Nomi","Nona","Nonna","Noomi","Noona","Noor","Noora","Noora-Emilia","Noora-Maria","Noora-Sofia","Nora","Nora-Maria","Norah","Norma","Nour","Noura","Nova","Novalie","Nuppu","Nur","Nura","Nuura","Nyyti","Na","Oddn","Odelia","Odessa","Odette","Ofelia","Oili","Oivi","Oksana","Olena","Olesia","Olesja","Olessia","Olesya","Olga","Olga-Maria","Olivia","Oliwia","Olka","Oma","Ona","Onerva","Onna","Onneli","Oodi","Oona","Oona-Emilia","Oona-Maria","Oona-Sofia","Oosa","Opri","Orvo","Orvokki","Osmi","Ottiilia","Ottilia","Outi","Outi-Katariina","Outi-Leena","Outi-Maaria","Outi-Mari","Outi-Maria","Outi-Marja","Oxana","Paige","Paju","Paloma","Pamela","Pami","Paola","Parisa","Parvin","Patricia","Patrizia","Paula","Paula-Maija","Paula-Maria","Paula-Riitta","Pauliina","Paulina","Pauline","Peggy","Pelagia","Penelope","Penni","Penny","Pepita","Peppi","Peppi-Lotta","Peppiina","Peppilotta","Peppina","Perla","Pernilla","Pertta","Petra","Petra-Maria","Petriina","Petrina","Petronella","Philippa","Phoebe","Phuong","Pi","Pia","Pia-Carita","Pia-Christina","Pia-Helena","Pia-Johanna","Pia-Kristiina","Pia-Leena","Pia-Liisa","Pia-Maarit","Pia-Mari","Pia-Maria","Pia-Marie","Pia-Marja","Pia-Pauliina","Pia-Riitta","Pia-Sofia","Pia-Susanna","Pian","Piatta","Piela","Pieta","Pihka","Pihla","Pihla-Maria","Pii","Piia","Piia-Johanna","Piia-Liisa","Piia-Maarit","Piia-Mari","Piia-Maria","Piia-Pauliina","Piia-Riikka","Piia-Riitta","Piija","Piiku","Piipa","Piippa","Piita","Piitu","Piiu","Pike","Pikka","Pille","Pilvi","Pilvi-Sisko","Pinja","Pinja-Maria","Pipa","Pippa","Pipsa","Piret","Piretta","Piri","Pirita","Piritta","Pirja","Pirjetta","Pirjo","Pirjo-Hannele","Pirjo-Helena","Pirjo-Leena","Pirjo-Liisa","Pirjo-Riitta","Pirjo-Sisko","Pirke","Pirketta","Pirkitta","Pirkka","Pirkko","Pirkko-Helena","Pirkko-Leena","Pirkko-Liisa","Pirkko-Maija","Pirkko-Riitta","Pirkkoliisa","Pirpa","Pirre","Pirta","Pirve","Polina","Poppy","Pricella","Pricilla","Priita","Priitta","Princess","Priscilla","Prisilla","Priska","Priya","Pulmu","Pivi","Pivi-Elina","Pivi-Helena","Pivi-Leena","Pivi-Liisa","Pivi-Maarit","Pivi-Maria","Pivi-Riitta","Pivi-Sisko","Pivikki","Pivyt","Plvi","Qamar","Quynh","Raakel","Raakkel","Rabab","Rabia","Rachel","Rae","Rafaela","Ragna","Ragnborg","Ragnheiur","Ragnhild","Ragnhildur","Ragni","Rahel","Rahma","Rahmo","Raija","Raija-Leena","Raija-Liisa","Raija-Riitta","Raija-Sisko","Raika","Raila","Raili","Raina","Raini","Raisa","Raissa","Raita","Rakel","Ramla","Ramona","Rana","Randa","Rania","Ranja","Rannveig","Ranya","Raquel","Rauha","Rauna","Raune","Rauni","Rayaan","Rayan","Rea","Rebeca","Rebecca","Rebecka","Rebekah","Rebekka","Reea","Reem","Reena","Reet","Reeta","Reeta-Kaisa","Reeta-Mari","Reeta-Maria","Reetta","Reetta-Kaisa","Reetta-Leena","Reetta-Liisa","Reetta-Maija","Reetta-Mari","Reetta-Maria","Regina","Reija","Reija-Leena","Reija-Liisa","Reija-Riitta","Reina","Reine","Reini","Rena","Renata","Renate","Renee","Renita","Renja","Rene","Rhea","Ria","Ria-Maria","Rianna","Rigmor","Riham","Rihanna","Riia","Riia-Liisa","Riia-Maria","Riija","Riika","Riikka","Riikka-Elina","Riikka-Johanna","Riikka-Leena","Riikka-Liisa","Riikka-Maaria","Riikka-Maija","Riikka-Mari","Riikka-Maria","Riikka-Sisko","Riikka-Susanna","Riikkaliisa","Riim","Riina","Riina-Kaisa","Riina-Liisa","Riina-Lotta","Riina-Maija","Riina-Mari","Riina-Maria","Riinu","Riitta","Riitta-Anneli","Riitta-Helena","Riitta-Kaarina","Riitta-Kaisa","Riitta-Leena","Riitta-Liisa","Riitta-Maija","Riitta-Mari","Riitta-Maria","Riitta-Marja","Riitta-Sisko","Riittaliisa","Riitu","Rika","Rilla","Rim","Rima","Rimma","Rina","Rinesa","Ringa","Rinja","Rinna","Ripsa","Rispa","Rista","Rita","Rita-Maria","Ritja","Ritu","Ritva","Ritva-Anneli","Ritva-Leena","Ritva-Liisa","Ritva-Maija","Ritvaliisa","Roberta","Robyn","Roda","Rode","Roine","Romina","Rona","Ronda","Ronia","Ronja","Ronja-Maria","Ronya","Roosa","Roosa-Emilia","Roosa-Maaria","Roosa-Maija","Roosa-Mari","Roosa-Maria","Roosamari","Roosamaria","Ros-Maj","Ros-Mari","Ros-Marie","Rosa","Rosa-Emilia","Rosa-Liina","Rosa-Linda","Rosa-Mari","Rosa-Maria","Rosa-Marie","Rosabella","Rosalia","Rosalie","Rosaliina","Rosalina","Rosalinda","Rosamaria","Rosanna","Rosanne","Rose","Rose-Maj","Rose-Mari","Rose-Marie","Rose-May","Rosemarie","Rosemary","Rosi","Rosie","Rosina","Rosita","Rosmari","Rosmarie","Roxana","Roxanne","Roya","Roza","Ruby","Runa","Runa-Lisa","Runo","Ruska","Rut","Ruth","Ruusa","Ruusu","Ruusu-Maria","Ruut","Ruuth","Rka","Rsa","Saabiriin","Saaga","Saana","Saana-Maria","Saana-Tuulia","Saara","Saara-Elina","Saara-Kaisa","Saara-Leena","Saara-Liisa","Saara-Lotta","Saara-Maija","Saara-Mari","Saara-Maria","Saara-Sofia","Saaramaria","Saba","Sabiha","Sabina","Sabine","Sabrin","Sabrina","Sadaf","Sade","Sadia","Sadio","Safa","Safi","Safia","Safina","Safira","Safiya","Safiyo","Saga","Saga-Sofia","Sagal","Sahar","Sahra","Sahro","Saida","Saidi","Saido","Saija","Saija-Leena","Saija-Liisa","Saija-Maria","Saija-Riikka","Saija-Riitta","Saila","Saila-Maria","Saili","Saima","Saimi","Saina","Saini","Sakina","Salima","Salina","Salka","Salla","Salla-Kaisa","Salla-Maaret","Salla-Maari","Salla-Maaria","Salla-Maarit","Salla-Maija","Salla-Mari","Salla-Maria","Salla-Marja","Salla-Riikka","Salla-Sofia","Salla-Tuulia","Sallamaari","Sallamaarit","Sallamari","Sallamaria","Salli","Sally","Salma","Salme","Salome","Samantha","Samar","Samia","Samiira","Samira","Samsam","Sana","Sanaa","Sandi","Sandra","Sandra-Sofia","Sandy","Sane","Sanela","Sanelma","Sani","Sania","Sanja","Sanna","Sanna-Kaija","Sanna-Kaisa","Sanna-Leena","Sanna-Liisa","Sanna-Maaria","Sanna-Maarit","Sanna-Maija","Sanna-Mari","Sanna-Maria","Sanna-Marika","Sanna-Marja","Sanna-Pauliina","Sanna-Reetta","Sanna-Riikka","Sanna-Riina","Sanna-Riitta","Sanna-Sofia","Sanna-Tuulia","Sannakaisa","Sannaleena","Sannaliisa","Sannamaija","Sannamari","Sannamaria","Sanne","Sanni","Sanni-Kaisa","Sanni-Maija","Sanni-Mari","Sanni-Maria","Sanni-Sofia","Sanniina","Sannimari","Sannu","Sanny","Santra","Sanya","Sara","Sara-Emilia","Sara-Julia","Sara-Lotta","Sara-Maria","Sara-Sofia","Sara-Tuuli","Sara-Tuulia","Sarah","Sarai","Saranda","Saranna","Sargit","Sari","Sari-Anna","Sari-Anne","Sari-Anneli","Sari-Hannele","Sari-Helena","Sari-Johanna","Sari-Leena","Sari-Liisa","Sari-Maarit","Sari-Maija","Sari-Maria","Sari-Minna","Sari-Sisko","Sari-Susanna","Saria","Sarianna","Sarianne","Sariina","Sarika","Sarina","Sarita","Sarlotta","Sarra","Sarri","Sasa","Sasha","Saskia","Satu","Satu-Elina","Satu-Hannele","Satu-Helena","Satu-Johanna","Satu-Kaarina","Satu-Kristiina","Satu-Leena","Satu-Liisa","Satu-Lotta","Satu-Maaret","Satu-Maaria","Satu-Maarit","Satu-Maija","Satu-Mari","Satu-Maria","Satu-Marika","Satu-Marja","Satu-Marjaana","Satu-Pivi","Satu-Pivikki","Satu-Sinikka","Satu-Sisko","Satu-Susanna","Savanna","Savannah","Saynab","Scarlett","Sea","Seda","Seea","Seela","Seelia","Seena","Seera","Seidi","Seija","Seija-Leena","Seija-Liisa","Seija-Riitta","Seija-Sinikka","Seija-Sisko","Seila","Seita","Selda","Selena","Selene","Seliina","Selin","Selina","Selinda","Selja","Sella","Selma","Semra","Sena","Seni","Senia","Senita","Senja","Senna","Senni","Senni-Sofia","Sennu","Senny","Sera","Serafia","Serafiina","Serafima","Serafina","Serena","Seri","Serina","Serja","Sesilia","Sesselja","Sevda","Sevgi","Seyedeh","Seynab","Shabnam","Shahad","Shahla","Shahnaz","Shamso","Shani","Shania","Shannon","Shanti","Shari","Sharmin","Sharon","Sheila","Shima","Shira","Shirin","Shirley","Shpresa","Shqipe","Shukri","Shukrije","Sibel","Sickan","Sienna","Sievi","Siev","Sig-Britt","Sigbritt","Signe","Signhild","Sigrid","Sigrur","Sigrn","Sigurbjrg","Sigurlaug","Sihaam","Siham","Siina","Siiri","Siiri-Maria","Siiri-Sofia","Sikke","Silja","Silja-Maria","Silja-Riitta","Silja-Sofia","Silje","Silke","Silla","Silmu","Silpa","Silva","Silvana","Silve","Silvi","Silvia","Sima","Simona","Simone","Sina","Sinaida","Sindi","Sindy","Sinella","Sinem","Sini","Sini-Johanna","Sini-Maaret","Sini-Maaria","Sini-Maarit","Sini-Mari","Sini-Maria","Sini-Marika","Sini-Marja","Sini-Meri","Sini-Pilvi","Sini-Pivikki","Sini-Sofia","Sini-Susanna","Sini-Tuuli","Sini-Tuulia","Sini-Vuokko","Sinikka","Sinimarja","Sinja","Sinna","Sira","Sirena","Siri","Sirja","Sirje","Sirke","Sirkka","Sirkka-Leena","Sirkka-Liisa","Sirkka-Maija","Sirkkaliisa","Sirkku","Sirkku-Leena","Sirkku-Liisa","Siro","Sirpa","Sirpa-Helena","Sirpa-Leena","Sirpa-Liisa","Sirpa-Riitta","Sirppa","Siru","Sisi","Sisko","Sisko-Helena","Sisko-Liisa","Sisko-Maria","Sisko-Riitta","Sissel","Sissi","Siv","Siv-Britt","Sivi","Sivi","Siw","Skye","Smilla","Snfrid","Soffa","Sofi","Sofia","Sofianna","Sofie","Sofiia","Sofiina","Sofija","Sofja","Soheila","Sohvi","Soila","Soile","Soili","Soilikki","Soini","Sointu","Soja","Sol-Britt","Solange","Solbritt","Sole","Solin","Solina","Solja","Solveig","Solweig","Soma","Sona","Sonia","Sonja","Sonja-Maria","Sonya","Sophia","Sophie","Soraja","Soraya","Sorella","Sorja","Stefani","Stefania","Stefanie","Stefana","Steinunn","Stella","Stephanie","Stiina","Stina","Stina-Maria","Suad","Sue","Sulevi","Sultan","Sumaya","Sumeja","Sumeya","Suna","Sundus","Sunita","Sunna","Suoma","Suraya","Susa","Susan","Susana","Susann","Susanna","Susanne","Susie","Suvi","Suvi-Anna","Suvi-Elina","Suvi-Johanna","Suvi-Kukka","Suvi-Maaria","Suvi-Maarit","Suvi-Maria","Suvi-Marja","Suvi-Pauliina","Suvi-Pilvi","Suvi-Pivi","Suvi-Pivikki","Suvi-Sisko","Suvi-Tuuli","Suvi-Tuulia","Suvi-Tuulikki","Suvianna","Suvituuli","Suvituulia","Suzan","Suzana","Suzanna","Suzanne","Svala","Svanhild","Svanhildur","Svava","Svea","Svetlana","Svitlana","Sydney","Sylva","Sylvi","Sylvia","Sylvie","Synnve","Sde","Svy","Sley","Slrn","Slveig","Taava","Tahiti","Taia","Taiga","Taija","Taija-Leena","Taiju","Taika","Taika-Tuuli","Taika-Tuulia","Taila","Taimi","Taina","Taina-Liisa","Taini","Taira","Taisa","Taisia","Talia","Talvi","Talvikki","Tamara","Tania","Tanita","Tanja","Tanja-Maarit","Tanja-Maria","Tanya","Tara","Tari","Taria","Tarina","Tarita","Tarja","Tarja-Anneli","Tarja-Helena","Tarja-Leena","Tarja-Liisa","Tarja-Maarit","Tarja-Riitta","Tarja-Sisko","Tarja-Terttu","Tarja-Tuulikki","Tarleena","Taru","Taru-Maija","Taru-Maria","Taru-Tuuli","Taru-Tuulia","Tasnim","Tatiana","Tatja","Tatjaana","Tatjana","Tatyana","Tea","Tea-Maria","Teea","Teela","Teija","Teija-Leena","Teija-Liisa","Teija-Riitta","Teiju","Tekla","Tella","Telle","Tellervo","Tellu","Telma","Teodora","Teresa","Terese","Teresia","Teressa","Tereza","Terhi","Terhi-Liisa","Terhi-Marja","Terhi-Tuulia","Terhikki","Teri","Terja","Terri","Tertta","Terttu","Terttu-Kaarina","Terttu-Liisa","Terttu-Maija","Tesla","Tess","Tessa","Tessaliina","Tessi","Tetta","Tetti","Teuta","Thanh","Thao","Thea","Thelma","Theodora","Theresa","Therese","Theresia","Therse","Thi","Thien","Thilda","Thilde","Thora","Thu","Thua","Thuy","Thyra","Tia","Tia-Mari","Tia-Maria","Tiana","Tianna","Tiara","Tiffany","Tii","Tiia","Tiia-Leena","Tiia-Liisa","Tiia-Maaria","Tiia-Maarit","Tiia-Mari","Tiia-Maria","Tiia-Mariia","Tiia-Marika","Tiia-Riikka","Tiia-Riina","Tiia-Riitta","Tiia-Sofia","Tiia-Tuulia","Tiiamari","Tiida","Tiija","Tiila","Tiina","Tiina-Elina","Tiina-Kaisa","Tiina-Leena","Tiina-Liisa","Tiina-Maarit","Tiina-Maija","Tiina-Mari","Tiina-Maria","Tiina-Marja","Tiina-Riikka","Tiina-Riitta","Tiina-Sisko","Tiina-Tuulia","Tiinakaisa","Tiinaliisa","Tiinamaija","Tiinamari","Tiinu","Tiiti","Tiitta","Tiitu","Tiiu","Tilda","Tilde","Tilhi","Tilja","Tilla","Tilly","Tilma","Tilta","Tiltu","Timea","Timna","Tina","Tina-Maria","Tindra","Tinja","Tinka","Tinna","Tintti","Tira","Tita","Titi","Titta","Titta-Mari","Titta-Maria","Titta-Riina","Titti","Tiuku","To","Toini","Toive","Toivi","Toivikki","Tone","Toni","Tonja","Tony","Tonya","Tora","Torborg","Tordis","Torhild","Tova","Tove","Towe","Tracy","Triin","Triinu","Trina","Trine","Trude","Tu","Tua","Tuana","Tuija","Tuija-Leena","Tuija-Liisa","Tuija-Maija","Tuija-Riitta","Tuike","Tuikku","Tuila","Tuire","Tuisku","Tuomi","Tuovi","Tupu","Tutta","Tuttu","Tuua","Tuula","Tuula-Anneli","Tuula-Maija","Tuula-Mari","Tuula-Maria","Tuula-Marja","Tuula-Marjatta","Tuula-Riitta","Tuulevi","Tuuli","Tuuli-Anna","Tuuli-Maaria","Tuuli-Mari","Tuuli-Maria","Tuulia","Tuulianna","Tuuliina","Tuulikki","Tuuni","Tuuva","Tuuve","Tuva","Tuyet","Tyra","Tyti","Tytti","Tytti-Maria","Tyyne","Tyyni","Tyyra","Thk","Thti","Ubah","Uliana","Uljana","Ull-Britt","Ulla","Ulla-Brita","Ulla-Britt","Ulla-Britta","Ulla-Helena","Ulla-Kaarina","Ulla-Kaija","Ulla-Kaisa","Ulla-Kristiina","Ulla-Kristina","Ulla-Leena","Ulla-Liisa","Ulla-Maarit","Ulla-Maija","Ulla-Maj","Ulla-Mari","Ulla-Maria","Ulla-Marja","Ulla-Pia","Ulla-Riikka","Ulla-Riitta","Ulla-Sisko","Ulla-Stina","Ulla-Terttu","Ullamaija","Ullamari","Ullariikka","Ulli","Ulpu","Ulpukka","Ulrica","Ulriika","Ulriikka","Ulrika","Uma","Una","Unelma","Uni","Unna","Unni","Unnur","Urda","Urpu","Ursula","Urve","Usva","Utu","Uuna","Vadelma","Vaili","Valbone","Valborg","Valdine","Valds","Valentina","Valeria","Valerie","Valerija","Valgerur","Valma","Valmu","Valo","Valpu","Valpuri","Vanamo","Vanda","Vanesa","Vanessa","Vanilja","Vanilla","Vanja","Vanni","Vappu","Varma","Varpu","Varpu-Leena","Varpu-Liisa","Varvara","Vasilisa","Vaula","Vea","Veea","Veela","Veena","Veera","Veera-Kaisa","Veera-Maria","Veera-Sofia","Vega","Vella","Vellamo","Velma","Vendela","Vendi","Vendla","Venera","Venja","Venla","Venla-Maria","Venna","Venni","Venny","Venus","Vera","Vera-Maria","Verena","Verna","Verona","Veronica","Veronika","Vesta","Vianna","Vicky","Victoria","Vida","Viena","Vienna","Vieno","Vigds","Viia","Viima","Viivi","Viivi-Lotta","Viivi-Maria","Viivi-Sofia","Viivia","Viktoria","Viktorija","Viktoriya","Vilborg","Vilda","Vilhelmiina","Vilhelmina","Viliina","Vilina","Vilja","Vilja-Maria","Villa","Villiina","Vilma","Vilma-Lotta","Vilmiina","Vilna","Vineta","Viola","Violet","Violeta","Violetta","Viona","Virginia","Viri","Virpa","Virpi","Virpi-Leena","Virpi-Liisa","Virva","Virve","Viva","Vivan","Viveca","Viveka","Vivi","Vivi-Ann","Vivia","Vivian","Viviana","Viviane","Viviann","Vivianna","Vivianne","Vivica","Vivien","Vivienne","Vivika","Vjollca","Vlada","Vlora","Vuokko","Wai","Wanda","Wanja","Warda","Weera","Wei","Wendla","Wendy","Wenla","Wera","Weronika","Wiivi","Wilda","Wilhelmiina","Wilhelmina","Wilja","Wilma","Winnie","Wiola","Wivi","Xenia","Xiao","Yael","Yagmur","Yamina","Yan","Yana","Yara","Yasemin","Yasmin","Yasmina","Yasmine","Yelena","Yen","Yi","Ying","Ylva","Yolanda","Yrsa","Yu","Yulia","Yuliya","Yusra","Yvette","Yvonne","Zahra","Zahraa","Zaida","Zainab","Zamzam","Zandra","Zanna","Zara","Zarah","Zaynab","Zehra","Zeinab","Zeineb","Zelda","Zenita","Zeynep","Zhanna","Zina","Zinaida","Zoe","Zoey","Zofia","Zoja","Zoya","Zo","Zsuzsanna","gsta","sa","sds","slaug","sta","sa","se","ris","lafa","lf","lle","orbjrg","orgerur","urur","ra","rds","rey","rhildur","runn"],setup.NAME_norse_male_first_name=["Aabel","Aadam","Aadolf","Aake","Aaku","Aale","Aalto","Aamos","Aape","Aapeli","Aapi","Aapo","Aapo-Matti","Aappo","Aapro","Aare","Aaretti","Aari","Aarne","Aarni","Aarno","Aaro","Aaron","Aarre","Aarto","Aatami","Aate","Aati","Aatos","Aatto","Aatu","Abbas","Abbe","Abd","Abdalla","Abdallah","Abdel","Abdelaziz","Abdelkader","Abdellah","Abderrahim","Abderrahmane","Abdi","Abdiasis","Abdiaziz","Abdifatah","Abdihakim","Abdikarim","Abdillahi","Abdimalik","Abdinasir","Abdiqani","Abdirahim","Abdirahmaan","Abdirahman","Abdirashid","Abdirisak","Abdirisaq","Abdirizak","Abdisalam","Abdishakur","Abdoulie","Abdul","Abdulahi","Abdulkadir","Abdulla","Abdullaahi","Abdullah","Abdullahi","Abdulqadir","Abdulrahman","Abdurahman","Abdurrahman","Abel","Abraham","Abshir","Abu","Abubakar","Abukar","Adam","Adan","Adel","Adem","Aden","Adi","Adiel","Adil","Adnaan","Adnan","Adolf","Adrian","Adriano","Adrien","Afrim","Agim","Agnar","Agron","Ahmad","Ahmed","Ahmet","Ahti","Ahto","Ahvo","Aidan","Aiden","Ailo","Ailu","Aiman","Aimo","Aito","Aivar","Akam","Ake","Aki","Aki-Jussi","Aki-Matti","Aki-Pekka","Aki-Petri","Aki-Petteri","Akif","Akilles","Akim","Akira","Akke","Ako","Akram","Aksel","Akseli","Aksu","Aku","Aku-Matti","Aku-Pekka","Aku-Petteri","Aku-Ville","Akusti","Alaa","Alain","Alan","Alari","Alarik","Alban","Albert","Alberto","Albin","Albion","Aldin","Aldo","Ale","Alec","Alejandro","Alek","Aleks","Aleksandar","Aleksander","Aleksandr","Aleksandros","Aleksanteri","Aleksei","Aleksej","Aleksi","Aleksis","Alen","Alessandro","Alessio","Alex","Alexander","Alexandr","Alexandre","Alexandro","Alexandros","Alexandru","Alexei","Alexey","Alexi","Alexis","Alf","Alf-Erik","Alfons","Alfonso","Alfred","Alfredo","Algot","Alho","Ali","Alireza","Allan","Allu","Almir","Alper","Alpertti","Alpi","Alpo","Altti","Alvar","Alvari","Alvaro","Alve","Alvi","Alvin","Alwin","Amadeus","Amadou","Amar","Amer","Ami","Amiin","Amin","Amine","Amir","Amit","Amjad","Ammar","Amon","Amos","Anas","Anatoli","Anatolij","Anatoly","Anders","Andi","Andre","Andrea","Andreas","Andrei","Andrej","Andres","Andrew","Andrey","Andri","Andriy","Andrus","Andrzej","Andrs","Andr","Andras","Andrs","Andy","Angel","Angelo","Anh","Anis","Ano","Anse","Anselm","Anselmi","Anssi","Anssi-Pekka","Ansu","Ante","Antero","Anthon","Anthonio","Anthony","Anto","Antoine","Anton","Antoni","Antonio","Antonios","Antonis","Antony","Antreas","Antte","Antti","Antti-Eemeli","Antti-Einari","Antti-Heikki","Antti-Ilari","Antti-Jaakko","Antti-Juhani","Antti-Jukka","Antti-Jussi","Antti-Matias","Antti-Matti","Antti-Mikael","Antti-Mikko","Antti-Olli","Antti-Oskari","Antti-Pekka","Antti-Petteri","Antti-Tapio","Antti-Veikko","Antti-Ville","Anttijussi","Anttipekka","Antto","Antton","Anttoni","Anttu","Anwar","Ara","Aram","Aran","Aras","Arash","Araz","Arben","Arber","Arbnor","Arda","Ardian","Are","Aren","Arhi","Arho","Ari","Ari-Heikki","Ari-Juha","Ari-Juhani","Ari-Jukka","Ari-Jussi","Ari-Matti","Ari-Mikko","Ari-Pekka","Ari-Petri","Ari-Petteri","Ari-Tapio","Ari-Veikko","Ari-Ville","Arian","Ariel","Arif","Arimo","Arin","Arion","Aripekka","Aris","Arjo","Arkadi","Arkan","Arlind","Arlo","Arman","Armando","Armas","Armend","Armi","Armin","Armo","Arn","Arnar","Arne","Arni","Arno","Arnold","Arnr","Aro","Aron","Arri","Arsen","Arseni","Arsi","Art","Artan","Arte","Artem","Artemi","Arthur","Artin","Artjom","Arto","Arto-Pekka","Arton","Artti","Artto","Arttu","Arttu-Oskari","Arttu-Pekka","Arttur","Artturi","Artur","Arun","Arvi","Arvid","Arvin","Arvo","Aryan","Asa","Asad","Ashraf","Asko","Asla","Aslak","Aslan","Asmo","Aso","Asse","Asser","Asseri","Asto","Aston","Astor","Ata","Ate","Ati","Atilla","Atlas","Atle","Atli","Atri","Atro","Atso","Atte","Atte-Oskari","Attila","August","Auku","Aukusti","Aulis","Auno","Austin","Auvo","Avni","Axel","Axl","Axu","Aydin","Ayhan","Ayman","Ayoub","Ayub","Ayuub","Azad","Aziz","Aalsteinn","Ba","Babak","Bahman","Bajram","Baldur","Baldvin","Baran","Barham","Baris","Barry","Bashir","Bashkim","Basil","Bastian","Bayram","Bedri","Behzad","Bekim","Bekir","Ben","Benedict","Benedikt","Bengt","Bengt-Erik","Bengt-Olof","Benja","Benjam","Benjami","Benjamin","Benny","Benyamin","Berat","Bergur","Berk","Bernard","Bernd","Berndt","Bernhard","Bernt","Bert","Bertel","Bertil","Besart","Besim","Besnik","Bilaal","Bilal","Bill","Billy","Birger","Birgir","Birk","Birkir","Bjarki","Bjarne","Bjarni","Bjrgvin","Bjrn","Bjrn-Erik","Bjrn-Olof","Bjrn","Blake","Blerim","Bo","Bo-Erik","Bo-Gran","Bob","Bogdan","Bore","Boris","Boy","Brage","Bragi","Brahim","Brandon","Brendan","Brian","Bror","Bror-Erik","Bruce","Bruno","Bruuno","Bryan","Brynjar","Brynjlfur","Bujar","Burak","Burhan","Bla","Brje","Blent","Cai","Caius","Caj","Cajus","Caleb","Calle","Calvin","Cameron","Camilo","Can","Cao","Carl","Carl-Anders","Carl-Axel","Carl-Christian","Carl-Eric","Carl-Erik","Carl-Fredrik","Carl-Gustaf","Carl-Gustav","Carl-Gran","Carl-Henrik","Carl-Johan","Carl-Magnus","Carl-Mikael","Carl-Olof","Carl-Oscar","Carlo","Carlos","Caro","Carolus","Carson","Carsten","Cary","Casimir","Casmir","Caspar","Casper","Caspian","Castor","Cay","Cecil","Cedric","Cedrik","Cem","Cemal","Cengiz","Cevin","Charles","Charlie","Chi","Chris","Christer","Christian","Christofer","Christoffer","Christoph","Christophe","Christopher","Christos","Cian","Claes","Clas","Clas-Gran","Claude","Claudio","Claus","Cody","Cole","Colin","Collin","Cong","Connor","Conny","Conrad","Constantin","Cosmo","Craig","Crister","Cristian","Csaba","Curt","Daan","Daavid","Dag","Dage","Dagur","Dahir","Damian","Damien","Damir","Damon","Dan","Dan-Anders","Dan-Erik","Dana","Dani","Danial","Daniel","Daniele","Daniil","Danil","Danila","Danilo","Danny","Dante","Dany","Danel","Darin","Dario","Darius","Darren","Daud","Dave","David","Davide","Davin","Davy","Dav","Dai","Dean","Demian","Demir","Deni","Denis","Deniz","Dennis","Derek","Derrick","Devin","Dexter","Diar","Dick","Didrik","Diego","Dilan","Dima","Dimi","Dimitri","Dimitrios","Dimitris","Dinh","Dino","Dion","Dirk","Diyar","Dmitri","Dmitrij","Dmitriy","Dmitry","Dome","Dominic","Dominick","Dominik","Don","Donald","Doni","Dorian","Douglas","Driss","Duc","Duy","Dylan","Ebbe","Eben","Ebrahim","Ebrima","Eddi","Eddie","Eddy","Edgar","Edi","Edin","Edmond","Edmund","Edon","Eduard","Eduardo","Edvard","Edvin","Edward","Edwin","Eeka","Eeki","Eeli","Eelis","Eemel","Eemeli","Eemi","Eemil","Eemu","Eeno","Eepi","Eeri","Eerik","Eerikki","Eero","Eero-Matti","Eero-Pekka","Eero-Veikko","Eeropekka","Eeti","Eetu","Eetu-Matti","Eetu-Oskari","Eetu-Pekka","Eetu-Petteri","Eetu-Ville","Eetvi","Eevert","Eevertti","Efe","Efraim","Eggert","Egil","Egill","Egon","Egor","Egzon","Ehsan","Eijo","Eikka","Eilo","Einar","Einari","Eino","Eino-Juhani","Eino-Pekka","Eirik","Eirkur","Eki","Ekke","Ekku","Ekrem","El","Eldar","Ele","Eli","Elia","Eliah","Elian","Elias","Eliel","Elijah","Elijas","Eliot","Elis","Elja","Eljas","Elliot","Elliott","Elmar","Elmer","Elmeri","Elmo","Elo","Elof","Elon","Elton","Elvar","Elvin","Elvis","Elwin","Elas","Emad","Emanuel","Emerik","Emil","Emile","Emiliano","Emilio","Emin","Emir","Emmanuel","Emppu","Emrah","Emran","Emre","Enes","Enis","Enok","Enrico","Enrique","Ensar","Ensi","Ensio","Enso","Ensti","Enver","Enzo","Eppu","Erasmus","Erdal","Ere","Eren","Erfan","Eric","Erich","Erick","Erik","Erkan","Erkka","Erkka-Pekka","Erkki","Erkki-Juhani","Erkki-Jussi","Erkki-Mikael","Erkki-Pekka","Erkko","Erko","Erland","Erling","Ermo","Ernest","Ernesti","Ernesto","Erno","Ernst","Erol","Erpo","Ervin","Ervo","Erwin","Esa","Esa-Jussi","Esa-Matti","Esa-Pekka","Esa-Petri","Esa-Petteri","Esaias","Esamatti","Esapekka","Eskil","Esko","Espen","Esra","Esu","Ethan","Etvi","Eugen","Eugene","Evald","Evan","Evangelos","Evert","Evgeni","Evgeny","Evgueni","Ewan","Ewert","Eyal","Eyjlfur","Eyr","Ezra","Fabian","Fabio","Fadi","Fadil","Fahad","Fahim","Faisal","Fannar","Farah","Farhad","Farhan","Farid","Faruk","Farzad","Fatih","Fatmir","Faton","Faysal","Federico","Fedja","Fedor","Feeli","Feeliks","Feetu","Feija","Feliks","Felipe","Felix","Feodor","Ferdinand","Ferenc","Ferhat","Fernando","Fidel","Fikret","Filip","Filipp","Filippo","Finn","Finnur","Fionn","Firas","Firat","Fitim","Fjalar","Florent","Florian","Folke","Fouad","Francesco","Francis","Francisco","Franco","Frank","Frans","Frans-Emil","Franz","Fred","Freddie","Freddy","Frederick","Frederik","Fredric","Fredrick","Fredrik","Frej","Frey","Fride","Fritz","Fririk","Fuad","Furkan","Flix","Gabriel","Gabriele","Gaius","Gani","Gary","Garar","Gazmend","Geir","Gennadi","Gennady","Geoffrey","Georg","George","Georges","Georgi","Georgij","Georgios","Georgy","Gerald","Gerhard","German","Gert","Ghassan","Gholam","Ghulam","Gia","Gideon","Gilbert","Giovanni","Giuseppe","Gleb","Glen","Glenn","Goran","Gordon","Gottfrid","Granit","Greger","Gregory","Grels","Grigori","Grigory","Grtar","Guennadi","Guido","Guillermo","Guled","Gunder","Gunnar","Gunnlaugur","Gustaf","Gustav","Gustavo","Guy","Gujn","Gulaugur","Gumundur","Guni","Gylfi","Gsli","Gkhan","Gran","Gsta","Gte","Haakon","Habib","Haci","Hadi","Hafsteinn","Hafr","Hai","Haidar","Haider","Hakan","Hakim","Hakon","Halil","Halldr","Hallgrmur","Halti","Hamdi","Hamed","Hamid","Hampus","Hamsa","Hamse","Hamza","Hamzah","Hamze","Han","Hanad","Hanne","Hannes","Hanno","Hannu","Hannu-Heikki","Hannu-Matti","Hannu-Pekka","Hans","Hans-Christian","Hans-Erik","Hans-Gran","Hans-Henrik","Hans-Olof","Hans-Peter","Hansi","Hany","Harald","Haraldur","Hardy","Hari","Haris","Harold","Harras","Harri","Harri-Pekka","Harrison","Harro","Harry","Harto","Hartti","Harun","Hasan","Hashim","Hassan","Hasse","Hassen","Haukur","Havu","Hayden","Hector","Heikki","Heikki-Juhani","Heikki-Matti","Heikki-Pekka","Heikki-Tapio","Heimer","Heimir","Heimo","Heino","Heinrich","Heinz","Heiar","Hektor","Helge","Helgi","Heljo","Helke","Helmer","Helmeri","Helmut","Hemi","Hemmi","Hemming","Hemminki","Hemmo","Hendrik","Hendry","Henkka","Henning","Henno","Henri","Henri-Matias","Henri-Mikael","Henri-Pekka","Henric","Henrik","Henrikki","Henry","Heppu","Herbert","Herkko","Herman","Hermann","Hermanni","Hessu","Hicham","Hilding","Hille","Hilmar","Hilpi","Hisham","Hiski","Hiwa","Hjalmar","Hjalti","Hjlmar","Hjrtur","Hlynur","Hoang","Holger","Hong","Horst","Hossein","Hreinn","Hubert","Hugo","Huima","Hung","Husein","Hussain","Hussein","Huu","Huugo","Huuko","Huy","Hkon","Hkan","Hrur","Hseyin","Ian","Ibrahim","Idris","Igor","Ihsan","Iikka","Iipo","Iippo","Iiro","Iiro-Pekka","Iisak","Iisakki","Iisko","Iivar","Iivari","Iivo","Iko","Ila","Ilan","Ilari","Ilhan","Ilia","Ilias","Ilir","Ilja","Ilkka","Ilkka-Kristian","Ilkka-Pekka","Ilmar","Ilmari","Ilmo","Ilo","Ilpo","Ilppo","Ilya","Ilyas","Imad","Iman","Immanuel","Immo","Immu","Imraan","Imran","Imre","Indrek","Inge","Ingemar","Ingi","Ingmar","Ingolf","Ingvald","Ingvar","Inglfur","Into","Ioan","Ioannis","Ion","Iouri","Irfan","Isa","Isaac","Isac","Isak","Iska","Isko","Ismael","Ismail","Ismet","Ismo","Israel","Isto","Istvn","Ivan","Ivar","Ivo","Jaajo","Jaakko","Jaakko-Juhani","Jaakko-Matti","Jaakko-Pekka","Jaako","Jaakob","Jaan","Jaani","Jaanus","Jaarli","Jack","Jackson","Jacob","Jacques","Jafar","Jahn","Jaime","Jake","Jaki","Jakke","Jakob","Jakov","Jakub","Jalal","Jali","Jalle","Jallu","Jalmar","Jalmari","Jalo","Jama","Jamal","James","Jami","Jami-Petteri","Jamie","Jamiel","Jamil","Jan","Jan-Anders","Jan-Christer","Jan-Christian","Jan-Eerik","Jan-Eric","Jan-Erik","Jan-Gustav","Jan-Henrik","Jan-Hkan","Jan-Krister","Jan-Kristian","Jan-Magnus","Jan-Markus","Jan-Martin","Jan-Michael","Jan-Mikael","Jan-Ole","Jan-Olof","Jan-Ove","Jan-Patrik","Jan-Peter","Jan-Roger","Jan-Sebastian","Jan-ke","Janek","Jani","Jani-Jukka","Jani-Kristian","Jani-Markus","Jani-Matti","Jani-Mikael","Jani-Pekka","Jani-Petri","Jani-Petteri","Janiel","Janis","Janko","Jann","Janne","Janne-Juhani","Janne-Markus","Janne-Matti","Janne-Pekka","Janne-Petteri","Jannik","Jannis","Janos","Janrik","Janus","Jare","Jared","Jarek","Jari","Jari-Antti","Jari-Heikki","Jari-Juha","Jari-Juhani","Jari-Jukka","Jari-Jussi","Jari-Markus","Jari-Matti","Jari-Mikko","Jari-Pekka","Jari-Petri","Jari-Petteri","Jari-Tapio","Jari-Veikko","Jarimatti","Jaripekka","Jarkko","Jarkko-Juhani","Jarkko-Pekka","Jarko","Jarl","Jarl-Erik","Jarmo","Jarno","Jaro","Jaromir","Jaron","Jaroslav","Jarre","Jarto","Jasin","Jasir","Jaska","Jasmo","Jaso","Jason","Jasper","Jasperi","Jasse","Jasu","Jauri","Javier","Jay","Jayden","Jayson","Jean","Jean-Paul","Jedi","Jeeli","Jeemi","Jeff","Jeffrey","Jegor","Jehki","Jemi","Jens","Jeppe","Jere","Jere-Matias","Jere-Matti","Jere-Pekka","Jere-Petteri","Jeremi","Jeremia","Jeremiah","Jeremias","Jeremy","Jeri","Jerker","Jerkko","Jerko","Jermo","Jermu","Jero","Jerome","Jerri","Jerry","Jerzy","Jesper","Jesperi","Jesse","Jesse-Joonas","Jesse-Juhani","Jesse-Matias","Jesse-Pekka","Jesse-Petteri","Jethro","Jeton","Jetro","Jevgeni","Jibril","Jico","Jiko","Jim","Jimi","Jimmi","Jimmie","Jimmy","Jimy","Jino","Jiri","Jirka","Jirko","Jiro","Jiska","Joa","Joachim","Joacim","Joackim","Joah","Joakim","Joan","Joannis","Joao","Joar","Joas","Jochen","Jocke","Jockum","Joe","Joel","Joeli","Johan","Johan-Erik","Johann","Johannes","John","John-Erik","Johnny","Johny","Jokke","Jomi","Jommi","Jon","Jon-Erik","Jona","Jonah","Jonas","Jonatan","Jonathan","Jone","Joni","Joni-Juhani","Joni-Kristian","Joni-Markus","Joni-Matti","Joni-Mikael","Joni-Pekka","Joni-Petri","Joni-Petteri","Jonne","Jonne-Pekka","Jonni","Jonnie","Jonny","Jonte","Jonttu","Jony","Jooa","Jooas","Jooel","Joona","Joona-Matias","Joona-Pekka","Joona-Petteri","Joonas","Joonas-Petteri","Joonatan","Joonathan","Joopi","Joosa","Joose","Joosef","Jooseppi","Joosu","Joosua","Jopi","Jordan","Jore","Jorge","Jori","Jori-Matti","Jori-Pekka","Jori-Petteri","Jorma","Josa","Jose","Josef","Joseph","Joshua","Josi","Josia","Josiah","Joska","Josse","Josu","Josua","Jos","Jouka","Jouko","Jouna","Jouni","Jouni-Matti","Jouni-Pekka","Jousia","Joo","Jol","Juan","Jude","Juha","Juha-Antti","Juha-Erkki","Juha-Heikki","Juha-Jaakko","Juha-Markku","Juha-Markus","Juha-Matti","Juha-Mikael","Juha-Mikko","Juha-Pekka","Juha-Pertti","Juha-Petri","Juha-Petteri","Juha-Tapio","Juha-Tuomas","Juha-Veikko","Juha-Veli","Juha-Ville","Juhamatti","Juhan","Juhana","Juhani","Juhapekka","Juho","Juho-Aleksi","Juho-Antti","Juho-Eemil","Juho-Erik","Juho-Heikki","Juho-Jaakko","Juho-Kalle","Juho-Kusti","Juho-Matias","Juho-Matti","Juho-Mikko","Juho-Oskari","Juho-Pekka","Juho-Petteri","Juho-Tuomas","Juho-Ville","Juhomatti","Juhopekka","Jukka","Jukka-Matti","Jukka-Pekka","Jukka-Petri","Jukka-Petteri","Jukka-Tapani","Jukka-Tapio","Jukkapekka","Juko","Jules","Julian","Julien","Julio","Julius","Julle","Jun","Junno","Junnu","Juno","Jura","Juri","Jurij","Jurkka","Jusa","Jusef","Juska","Jussa","Jussi","Jussi-Heikki","Jussi-Joonas","Jussi-Matti","Jussi-Mikko","Jussi-Pekka","Jussi-Petteri","Jussi-Tuomas","Jussi-Ville","Jussipekka","Justin","Justus","Jusu","Jusuf","Juusa","Juuse","Juuso","Juuso-Pekka","Juuso-Petteri","Jymy","Jyri","Jyri-Matti","Jyri-Pekka","Jyri-Petri","Jyri-Petteri","Jyrki","Jyrki-Pekka","Jyry","Jnos","Jhann","Jhannes","Jn","Jnas","Jrg","Jrgen","Jrn","Jlus","Jrgen","Jri","Ka","Kaan","Kaapo","Kaappo","Kaapro","Kaarle","Kaarlo","Kaarne","Kadir","Kai","Kai-Eerik","Kai-Erik","Kai-Juhani","Kai-Kristian","Kai-Markus","Kai-Mikael","Kai-Pekka","Kai-Petri","Kai-Petteri","Kaiho","Kaijus","Kaiku","Kaimo","Kaino","Kaius","Kaj","Kaj-Erik","Kaj-Gustav","Kaj-Henrik","Kaj-Johan","Kaj-Mikael","Kaj-Olof","Kajo","Kajus","Kale","Kalervo","Kaleva","Kalevi","Kalle","Kalle-Antti","Kalle-Eemeli","Kalle-Juhani","Kalle-Markus","Kalle-Matti","Kalle-Oskari","Kalle-Pekka","Kalle-Petteri","Kalle-Valtteri","Kalle-Veikko","Kalle-Ville","Kamal","Kami","Kamil","Kamran","Kamu","Karam","Kare","Kareem","Karel","Kari","Kari-Antti","Kari-Juhani","Kari-Jukka","Kari-Jussi","Kari-Matti","Kari-Pekka","Kari-Petteri","Kari-Tapio","Kari-Veikko","Karim","Karipekka","Karl","Karl-Anders","Karl-Anton","Karl-Erik","Karl-Gunnar","Karl-Gustaf","Karl-Gustav","Karl-Henrik","Karl-Johan","Karl-Magnus","Karl-Olof","Karl-Oskar","Karlo","Karlos","Karo","Karol","Karolus","Karrar","Karri","Karri-Pekka","Karwan","Karzan","Kasim","Kasimir","Kasmir","Kaspar","Kasper","Kasperi","Kaspian","Kassu","Kastriot","Kauko","Kauno","Kauri","Kaveh","Kawa","Kay","Keijo","Keimo","Keith","Kelpo","Kelvin","Kemal","Ken","Kenan","Keni","Kennet","Kenneth","Kenny","Kent","Kenth","Kerem","Kerim","Kerkko","Kert","Kevin","Khaalid","Khac","Khadar","Khaled","Khalid","Khalil","Kian","Kie","Kien","Kieran","Kilian","Kim","Kim-Erik","Kim-Henrik","Kim-Johan","Kim-Peter","Kimi","Kimmo","Kiri","Kiril","Kirill","Kirka","Kirmo","Kivi","Kjartan","Kjell","Kjell-Erik","Klas","Klas-Erik","Klas-Gran","Klaus","Knut","Koitto","Kolbeinn","Konrad","Konsta","Konstantin","Konstantinos","Kosma","Kosmo","Kosti","Kouta","Kris","Krisse","Kristen","Krister","Kristian","Kristinn","Kristjan","Kristjn","Kristo","Kristof","Kristofer","Kristoffer","Kristopher","Kristfer","Kuisma","Kullervo","Kunto","Kurt","Kurt-Erik","Kushtrim","Kustaa","Kusti","Kuuno","Kuura","Kuutti","Kwok","Kyle","Kysti","Kri","Kre","Lahja","Lalli","Lamin","Lare","Lari","Lari-Matti","Lari-Pekka","Lari-Petteri","Larri","Larry","Lars","Lars-Eric","Lars-Erik","Lars-Gran","Lars-Henrik","Lars-Johan","Lars-Ole","Lars-Olof","Lars-Ove","Lars-Peter","Lars-ke","Lasse","Lasse-Pekka","Lassi","Lassi-Matti","Lassi-Pekka","Latif","Launo","Lauri","Lauri-Juhani","Lauri-Matti","Lauri-Pekka","Lawrence","Le","Leander","Leandro","Leart","Lee","Leevi","Leif","Leif-Erik","Leifur","Leimu","Leino","Lemmy","Leni","Lenna","Lennart","Lenne","Lenni","Lenni-Kalle","Lennu","Lenny","Leo","Leo-Pekka","Leon","Leonard","Leonardo","Leonel","Leonid","Leonidas","Leopold","Leroy","Lev","Levi","Lewis","Lex","Liam","Liban","Liibaan","Liiban","Liinus","Lino","Linus","Lion","Lionel","Lippo","Logan","Loke","Lorentz","Lorenz","Lorenzo","Lorik","Lotfi","Louis","Love","Luan","Luca","Lucas","Ludvig","Ludwig","Luis","Luka","Lukas","Luke","Lulzim","Luqman","Luuka","Luukas","Lyly","Lrus","Lszl","Lo","Lon","Magnus","Magns","Mahad","Mahamed","Mahamud","Mahdi","Mahir","Mahmood","Mahmoud","Mahmud","Mahmut","Mainio","Majid","Make","Maks","Maksim","Malcolm","Malek","Malik","Malte","Manfred","Manh","Manne","Mano","Mansour","Manu","Manuel","Marc","Marcel","Marcello","Marco","Marcos","Marcus","Marek","Margo","Margus","Marian","Mario","Marios","Marius","Mark","Markko","Markku","Markku-Juhani","Markku-Pekka","Marko","Marko-Juhani","Marko-Mikael","Marko-Pekka","Marko-Petteri","Marko-Tapani","Marko-Tapio","Markos","Markus","Marlo","Marlon","Marno","Mart","Martin","Martti","Marvin","Marwan","Masa","Masi","Mason","Masoud","Massimo","Masud","Mateo","Mateus","Matheo","Mathias","Matias","Mats","Mats-Erik","Matt","Matte","Matteo","Matteus","Matthew","Matthias","Matthas","Matti","Matti-Esko","Matti-Juhani","Matti-Jussi","Matti-Mikael","Matti-Oskari","Matti-Pekka","Matti-Petteri","Matti-Veikko","Mattia","Mattias","Mattis","Matts","Matts-Erik","Matvei","Matvey","Mauno","Maunu","Mauri","Maurice","Mauricio","Maurits","Mauritz","Mauro","Max","Maxi","Maxim","Maxime","Maximiliam","Maximilian","Maximillian","Maximus","Maxwell","Md","Md.","Meelis","Mehdi","Mehmet","Melker","Melvin","Melwin","Mentor","Meo","Mergim","Mert","Mertsi","Mertzi","Mesut","Mete","Metin","Mica","Micael","Micah","Michael","Michail","Michal","Michel","Michele","Mici","Mick","Mickael","Micke","Mickey","Micky","Mico","Mies","Miguel","Mihail","Mihhail","Mihka","Mihkel","Mihku","Miihkali","Miika","Miika-Markus","Miika-Matias","Miika-Matti","Miikael","Miikka","Miikka-Matias","Miikkael","Miiko","Miiku","Miilo","Miio","Miiro","Miitri","Mika","Mika-Antti","Mika-Erik","Mika-Juhani","Mika-Markus","Mika-Matti","Mika-Pekka","Mika-Petri","Mika-Petteri","Mika-Tapio","Mikael","Mikail","Mike","Mikel","Mikhail","Miki","Mikke","Mikkel","Mikki","Mikko","Mikko-Juhani","Mikko-Jussi","Mikko-Matias","Mikko-Matti","Mikko-Oskari","Mikko-Pekka","Mikko-Petteri","Mikko-Ville","Miklas","Miklos","Miko","Miku","Milad","Milan","Miles","Milian","Milko","Milo","Milos","Milton","Minh","Mino","Mio","Mir","Miran","Mirco","Mirka","Mirko","Miro","Miro-Matias","Miro-Petteri","Miron","Miroslav","Mirsad","Mirza","Misa","Misael","Misca","Mischa","Misha","Mishka","Miska","Miso","Mitja","Mitjo","Mitri","Mitro","Mohamad","Mohamed","Mohammad","Mohammed","Mohamud","Mohsen","Momodou","Mooses","Morad","Morgan","Moritz","Morris","Morten","Mortti","Moses","Mostafa","Mourad","Moussa","Mubarak","Mubashir","Muhamad","Muhamed","Muhammad","Muhammed","Muharrem","Muhsin","Muisto","Mukhtar","Munir","Murad","Murat","Musa","Musab","Muscab","Muslim","Musse","Mustaf","Mustafa","Mustafe","Mustapha","Myrsky","Mns","Mrten","Nabeel","Nabil","Nader","Nadir","Naim","Najib","Nalle","Nando","Naser","Nasim","Nasir","Nasser","Natan","Natanael","Nathan","Nathanael","Nathaniel","Neil","Nelson","Nemo","Neo","Nestor","Nestori","Ngoc","Nhat","Nhu","Nic","Nichlas","Nicholas","Nici","Nick","Nicke","Nicklas","Nicky","Niclas","Nico","Nico-Petteri","Nicola","Nicolai","Nicolas","Nicols","Niels","Nihat","Niila","Niilas","Niiles","Niilo","Niki","Nikita","Nikke","Nikki","Nikko","Niklas","Niko","Niko-Markus","Niko-Matti","Niko-Pekka","Niko-Petri","Niko-Petteri","Niko-Ville","Nikodemus","Nikola","Nikolai","Nikolaj","Nikolaos","Nikolas","Nikolaus","Nikolay","Nikos","Niku","Nilla","Nilo","Nils","Nils-Eric","Nils-Erik","Nils-Gran","Nils-Johan","Nils-Olof","Nima","Nino","Nipa","Niro","Nisse","Nizar","Noa","Noah","Noam","Noel","Noeli","Nolan","Nooa","Noor","Norbert","Norman","Noureddine","No","Nuka","Nuno","Nur","Nuur","Nuuti","Nuutti","Oddur","Odin","Ohto","Oiva","Okan","Oke","Oki","Okko","Oktay","Ola","Olaf","Olav","Olavi","Ole","Oleg","Oleksandr","Oliver","Olivier","Oliwer","Olle","Olli","Olli-Antti","Olli-Heikki","Olli-Juhani","Olli-Jussi","Olli-Matti","Olli-Mikko","Olli-Oskari","Olli-Pekka","Olli-Petteri","Olli-Tapio","Olli-Veikko","Olli-Ville","Ollie","Ollimatti","Ollipekka","Olof","Olov","Oma","Omar","Omer","Omid","Onni","Onni-Eemeli","Onni-Elmeri","Onni-Kalle","Onni-Matias","Onni-Matti","Onni-Oskari","Onni-Pekka","Onur","Ora","Orhan","Orvo","Osama","Oscar","Oscari","Oska","Oskar","Oskari","Osku","Osma","Osman","Osmo","Ossi","Ossi-Pekka","Ossi-Petteri","Ossian","Osvald","Otava","Otso","Otto","Otto-Emil","Otto-Oskari","Otto-Pekka","Otto-Ville","Oula","Ousman","Outi","Ove","Owen","Ozan","Paavali","Paavo","Pablo","Paju","Pami","Panu","Panu-Pekka","Panu-Petteri","Paolo","Pasi","Pasi-Matti","Pasi-Pekka","Pasi-Petteri","Pate","Patric","Patrick","Patrik","Patu","Paul","Paul-Erik","Paul-Henrik","Pauli","Paulo","Paulus","Pauno","Pavel","Pavlos","Pawel","Peder","Pedram","Pedro","Peeter","Peeti","Peetu","Pehr","Pehr-Erik","Pehr-Olof","Peik","Peitsa","Pekka","Pekka-Juhani","Pekko","Pelle","Pellervo","Penjami","Penna","Pentti","Pepe","Per","Per-Anders","Per-Eric","Per-Erik","Per-Gran","Per-Henrik","Per-Hkan","Per-Johan","Per-Ole","Per-Olof","Per-ke","Pertti","Perttu","Pessi","Pete","Peter","Petja","Petr","Petri","Petri-Juhani","Petrik","Petro","Petros","Petrus","Pette","Petter","Petteri","Petu","Phi","Philip","Philipp","Philippe","Phuoc","Pierre","Pietari","Pieti","Pietro","Pietu","Piko","Piotr","Pirkka","Pirkka-Pekka","Pjotr","Pohto","Poju","Pontus","Prince","Pyry","Pyry-Pekka","Pyry-Petteri","Pll","Plmi","Pivi","Piv","Pr","Pr-Erik","Pter","Ptur","Quang","Quoc","Raafael","Rabbe","Rachid","Raed","Rafael","Rafik","Ragnar","Rahim","Rahman","Rahul","Rai","Raikas","Raikko","Raiko","Raimo","Raimond","Rain","Raine","Rainer","Raineri","Raino","Raivo","Ralf","Ralph","Ram","Ramadan","Raman","Ramazan","Rami","Rami-Pekka","Ramin","Ramon","Ramses","Ramzi","Randy","Rane","Rani","Ransu","Raoul","Raphael","Raphal","Rashid","Rasim","Rasmus","Raul","Rauli","Rauni","Rauno","Ray","Rayan","Raymond","Rebin","Rebwar","Reda","Reeti","Reetu","Reh","Reidar","Reijo","Reima","Reimo","Rein","Reine","Reinhold","Reini","Reino","Reittu","Reko","Remi","Remo","Remu","Remus","Remy","Rene","Reni","Renne","Renni","Renny","Ren","Reo","Repe","Retu","Reuben","Rex","Reynir","Reza","Riad","Ricardo","Riccardo","Richard","Rick","Rickard","Rickhard","Ricky","Rico","Rida","Ridwan","Rieti","Riiko","Rikard","Rikhard","Riki","Riko","Riku","Riku-Matti","Riku-Pekka","Riku-Petteri","Riku-Ville","Rikumatti","Rinaldo","Ringo","Rino","Rinor","Rio","Risto","Risto-Matti","Risto-Pekka","Ristomatti","River","Robbie","Robert","Robertino","Roberto","Robi","Robin","Rocco","Rocky","Rodi","Rodion","Rodney","Rodrigo","Roger","Rohan","Roi","Roine","Roki","Roland","Rolf","Rolle","Roman","Romeo","Romi","Ron","Ronald","Ronan","Roni","Ronni","Ronnie","Ronny","Rony","Roobert","Roomeo","Roope","Roope-Oskari","Roopert","Ropi","Ross","Roy","Ruben","Rudi","Rudolf","Rudy","Rufus","Rui","Runar","Rune","Runo","Rurik","Ruslan","Ruu","Ruuben","Ryan","Rbert","Rnar","Saabir","Saad","Saarni","Sabah","Sabir","Sabri","Sacha","Saeed","Saeid","Safet","Said","Saif","Sakari","Sakaria","Sakarias","Sakariye","Saki","Sakke","Sakri","Saku","Saku-Matti","Saku-Pekka","Saku-Petteri","Salah","Salar","Saleh","Salem","Salih","Salim","Salmaan","Salman","Salomo","Salomon","Salvatore","Sam","Saman","Samba","Sameli","Samer","Sami","Sami-Antti","Sami-Jukka","Sami-Jussi","Sami-Kristian","Sami-Matti","Sami-Pekka","Sami-Petri","Sami-Petteri","Sami-Ville","Samir","Sammeli","Sammy","Sampo","Samppa","Sampsa","Samson","Samu","Samu-Pekka","Samu-Petteri","Samu-Ville","Samuel","Samuele","Samueli","Samuli","Samy","Sander","Sandor","Sandro","Sani","Sante","Santeri","Santiago","Santtu","Santtu-Pekka","Sasa","Sascha","Sasha","Saska","Sasu","Saul","Sauli","Savva","Sayd","Sayed","Scott","Sead","Sean","Sebastian","Sebastien","Seelim","Seemi","Seeti","Seif","Selim","Sem","Semen","Semi","Semih","Semir","Semmi","Senad","Seppo","Serdar","Sere","Serge","Sergei","Sergej","Sergey","Sergio","Sergiy","Serguei","Serhat","Serkan","Set","Seth","Setti","Severi","Seyed","Seyyed","Sen","Shahid","Shahin","Shane","Sharif","Sharmarke","Shaun","Shawn","Sherif","Sid","Sigfrid","Sigfs","Sigge","Sigurbjrn","Sigurd","Sigurgeir","Sigurjn","Sigurur","Sigvard","Siilas","Siim","Siimon","Silas","Silver","Silvo","Simeon","Simeoni","Simi","Simo","Simo-Heikki","Simo-Pekka","Simo-Petteri","Simon","Simopekka","Sinan","Sindri","Sinuhe","Sipi","Sippo","Sirius","Sirwan","Sisu","Sixten","Skli","Smri","Snorri","Soini","Sointu","Solmu","Solomon","Soni","Sonny","Sony","Soran","Sorjo","Staffan","Stanislav","Stanley","Stavros","Stefan","Stefano","Stefanos","Steffen","Stefn","Steinar","Steingrmur","Sten","Sten-Olof","Stepan","Stephan","Stephen","Steve","Steven","Stig","Stig-Erik","Stig-Gran","Stig-Ole","Stig-Olof","Stuart","Sture","Styrbjrn","Suleiman","Sulevi","Sulho","Sulo","Sumu","Sune","Sunny","Suune","Svante","Svantte","Svavar","Sveinbjrn","Sveinn","Sven","Sven-Eric","Sven-Erik","Sven-Olof","Sverker","Sverre","Sverrir","Syed","Sylvain","Sylvester","Sndor","Smundur","Svar","Sbastien","Sren","Sleyman","Taave","Taavetti","Taavi","Tage","Taha","Taher","Tahir","Tahvo","Taimo","Taisto","Taito","Tam","Tamer","Tami","Tams","Tan","Tane","Tanel","Taneli","Tani","Tanu","Tao","Taoufik","Tapani","Tapio","Tarek","Tarik","Tariq","Tarkko","Tarmo","Taro","Taru","Tarvo","Tatu","Tatu-Matti","Tatu-Pekka","Tauno","Tauri","Ted","Teddy","Teemu","Teemu-Pekka","Teemu-Petteri","Teijo","Teljo","Tempo","Tenho","Teo","Teodor","Teppo","Terence","Terho","Teri","Terje","Terjo","Terno","Tero","Tero-Matti","Tero-Pekka","Tero-Petteri","Tero-Tapio","Terry","Teuvo","Thai","Thanh","The","Theo","Theodor","Theodore","Thien","Thomas","Thommy","Thor","Thorbjrn","Thord","Thore","Thorolf","Thorsten","Thorvald","Thure","Tho","Tiago","Tico","Tien","Tiera","Tiitus","Tiko","Tim","Timi","Timitri","Timjami","Timka","Timmy","Timo","Timo-Heikki","Timo-Jaakko","Timo-Juhani","Timo-Jukka","Timo-Jussi","Timo-Matti","Timo-Pekka","Timo-Petteri","Timo-Tapani","Timo-Tapio","Timofei","Timoteus","Timothy","Timur","Tino","Tito","Titus","Tobias","Toby","Todd","Toimi","Toive","Toivo","Tom","Tom-Erik","Toma","Tomas","Tomasz","Tomek","Tomer","Tomi","Tomi-Matti","Tomi-Pekka","Tomi-Petteri","Tommaso","Tommi","Tommi-Pekka","Tommi-Petteri","Tommie","Tommo","Tommy","Tomy","Toms","Toni","Toni-Kristian","Toni-Markus","Toni-Matti","Toni-Mikael","Toni-Pekka","Toni-Petri","Toni-Petteri","Toni-Tapio","Tonny","Tony","Toomas","Topi","Topi-Matti","Topi-Pekka","Topias","Tor","Tor-Bjrn","Tor-Erik","Torbjrn","Tord","Tore","Torolf","Torsten","Torsti","Torvald","Totte","Totti","Touho","Touko","Tran","Trausti","Travis","Trevor","Tri","Tristan","Trong","Troy","Trung","Tryggve","Tryggvi","Trygve","Tuan","Tuisku","Tuomas","Tuomo","Tuovi","Ture","Turjo","Turkka","Turo","Tuukka","Tuure","Tyko","Tyler","Tyson","Tmas","Ugur","Uki","Ukko","Ukko-Pekka","Ukri","Ulf","Ulf-Erik","Uljas","Ulrik","Umar","Umberto","Umut","Uno","Untamo","Unto","Uolevi","Uoti","Upi","Urban","Urho","Urmas","Urpo","Usama","Usko","Uula","Uuno","Uuras","Uwe","Vadim","Vahid","Vaito","Valde","Valdemar","Valdimar","Valdo","Valentin","Valentino","Valeri","Valery","Valfrid","Valgeir","Valio","Valle","Vallu","Valo","Valon","Valte","Valter","Valto","Valtter","Valtteri","Valtti","Valur","Van","Vanja","Varma","Vasili","Vasilij","Vasily","Vedat","Veerti","Veeti","Veeti-Valtteri","Veetu","Veija","Veijo","Veikka","Veikko","Veini","Veino","Veka","Veli","Veli-Antti","Veli-Erkki","Veli-Hannu","Veli-Heikki","Veli-Jaakko","Veli-Juhani","Veli-Jukka","Veli-Jussi","Veli-Kalle","Veli-Markku","Veli-Markus","Veli-Martti","Veli-Matti","Veli-Mikko","Veli-Pekka","Veli-Pentti","Veli-Petri","Veli-Petteri","Veli-Tapani","Veli-Tapio","Veli-Tuomas","Veli-Valtteri","Veli-Veikko","Veli-Ville","Velimatti","Velipekka","Vellu","Velmeri","Velmu","Velu","Venne","Venneri","Venni","Vennu","Verne","Verner","Verneri","Vertti","Vesa","Vesa-Antti","Vesa-Heikki","Vesa-Jukka","Vesa-Matti","Vesa-Mikko","Vesa-Pekka","Vesa-Petri","Vesa-Petteri","Vesa-Tapio","Vesa-Valtteri","Vesa-Veikko","Vesa-Ville","Vesamatti","Vexi","Viacheslav","Viatcheslav","Victor","Vidar","Vieno","Viet","Viggo","Vignir","Vihtori","Viima","Viimo","Viki","Viking","Vikke","Viktor","Vilgot","Vilhelm","Vilhelmi","Vilhjlmur","Vilho","Vili","Vili-Pekka","Vili-Petteri","Vili-Valtteri","Vili-Veikka","Vili-Veikko","Vili-Verneri","Viliam","Viljam","Viljami","Viljo","Vilko","Ville","Ville-Aleksi","Ville-Antti","Ville-Eemeli","Ville-Heikki","Ville-Hermanni","Ville-Joonas","Ville-Juhani","Ville-Jussi","Ville-Kalle","Ville-Markus","Ville-Martti","Ville-Matias","Ville-Matti","Ville-Mikael","Ville-Mikko","Ville-Oskari","Ville-Pekka","Ville-Pertti","Ville-Petteri","Ville-Sakari","Ville-Samuli","Ville-Tapani","Ville-Tapio","Ville-Tuomas","Ville-Valtteri","Ville-Veikka","Ville-Veikko","Ville-Veli","Ville-Vesa","Ville-Waltteri","Villematti","Villepekka","Villeveikko","Villiam","Vilmer","Vilpas","Vilppu","Vincent","Vinh","Vinha","Vinski","Virmo","Visa","Visa-Matti","Visa-Pekka","Visar","Vitali","Vitaliy","Vitaly","Vito","Viar","Vjatseslav","Vladimir","Vladislav","Voima","Voitto","Volkan","Volmar","Volmari","Volodymyr","Volter","Vu","Vyacheslav","Vin","Viski","Vnni","Wai","Waldemar","Walid","Walle","Walter","Walther","Waltter","Waltteri","Weeti","Wei","Weikka","Weikko","Wen","Werner","Werneri","Wertti","Wesley","Wictor","Wiggo","Wihtori","Wiktor","Wilhelm","Wilhelmi","Wilho","Wili","Wiljam","Wiljami","Wiljo","Wille","Willem","William","Willy","Wilmer","Wilson","Wilton","Wincent","Winston","Wojciech","Wolf","Wolfgang","Win","Xander","Xavier","Xuan","Yacine","Yahia","Yahya","Yahye","Yakup","Yan","Yann","Yannick","Yaqub","Yaroslav","Yasin","Yasir","Yasser","Yassin","Yassine","Yavuz","Yaxye","Yilmaz","Yki","Yk","Ylermi","Yngve","Yonatan","Yonis","Yoonis","Yosef","Youcef","Younes","Yousef","Yousif","Youssef","Yousuf","Yrjn","Yrj","Yu","Yunus","Yuri","Yury","Yusuf","Yuusuf","Zacharias","Zachary","Zaid","Zakari","Zakaria","Zakarias","Zakarie","Zakariya","Zakariye","Zaki","Zana","Zeb","Ziad","Zion","Zoltn","gst","rmann","rni","ron","sgeir","smundur","ke","sak","var","lafur","li","mar","skar","mer","rjan","rn","sten","orgeir","orkell","orsteinn","orvaldur","rstur","r","rarinn","rhallur","rir","rur"],setup.NAME_norse_surname=["Aalto","Aaltonen","Aapro","Aarnio","Abdi","Ahlberg","Ahlfors","Ahlgren","Ahlholm","Ahlqvist","Ahlroos","Ahlroth","Ahlskog","Ahlstedt","Ahlstrm","Ahmed","Aho","Ahokas","Ahola","Aholainen","Ahonen","Ahopelto","Ahti","Ahtiainen","Ahtinen","Ahtola","Ahtonen","Ahvenainen","Ahvenjrvi","Ahvonen","Aikio","Ainasoja","Airaksinen","Airas","Airio","Airola","Aitto-oja","Aittola","Akkanen","Alajoki","Alakoski","Alakrpp","Alaluusua","Alamki","Alander","Alanen","Alanko","Alanne","Alastalo","Alatalo","Alenius","Alho","Alhonen","Ali","Alitalo","Alm","Aln","Andelin","Andersin","Anderson","Andersson","Annala","Antikainen","Antila","Anttalainen","Anttila","Anttonen","Arffman","Argillander","Arkko","Arminen","Aro","Arola","Aromaa","Aronen","Arpiainen","Arponen","Arvola","Arvonen","Asikainen","Asp","Aspegren","Asplund","Astikainen","Asunmaa","Auer","Aula","Aura","Auranen","Autere","Autio","Auvinen","Avikainen","Back","Backlund","Backman","Backstrm","Barck","Behm","Berg","Bergholm","Berglund","Bergman","Bergstrm","Bister","Bjrk","Bjrkbacka","Bjrklund","Bjrklf","Bjrkman","Bjrkqvist","Bjrkskog","Bjrn","Blom","Blomberg","Blomerus","Blomqvist","Blomster","Bollstrm","Boman","Borg","Bostrm","Bragge","Brander","Brandt","Broman","Bruun","Burman","Byman","Bck","Bcklund","Bckman","Bckstrm","Brlund","Carlson","Carlsson","Castrn","Cederberg","Collin","Dahl","Dahlberg","Dahlgren","Dahlman","Dahlqvist","Dahlstrm","Danielsson","Dufva","Eerikinen","Eerola","Eilola","Einola","Ek","Ekberg","Ekholm","Eklund","Eklf","Ekman","Ekola","Ekroos","Ekstrm","Elfving","Ellonen","Elo","Elomaa","Elonen","Eloranta","Elovaara","Enberg","Engberg","Engblom","Englund","Engman","Engstrm","Enlund","Enqvist","Enroth","Eriksson","Erkkil","Erola","Eronen","Ervasti","Eskelinen","Eskola","Etelmki","Fabritius","Fager","Fagerholm","Fagerlund","Fagerstrm","Falck","Fellman","Filppula","Finne","Finnil","Flinck","Flink","Flinkman","Flyktman","Fors","Forsberg","Forsblom","Forsell","Forsman","Forss","Forssell","Forsstrm","Forstn","Fredriksson","Friberg","Frilander","Friman","Frisk","From","Frberg","Furu","Flt","Frm","Glad","Grahn","Granberg","Granfors","Granholm","Grankulla","Granlund","Granqvist","Granroth","Granstrm","Gran","Grundstrm","Grhn","Grn","Grnberg","Grndahl","Grnfors","Grnholm","Grnlund","Grnqvist","Grnroos","Grnstrand","Grnvall","Gustafsson","Gustavsson","Gs","Haaja","Haajanen","Haakana","Haanp","Haapa-aho","Haapakoski","Haapala","Haapalahti","Haapalainen","Haapamki","Haapanen","Haapaniemi","Haaparanta","Haapasaari","Haapasalo","Haapoja","Haapsaari","Haarala","Haaranen","Haatainen","Haataja","Haavisto","Hacklin","Hagelberg","Hagert","Haglund","Hagman","Hagstrm","Hahl","Haikala","Haikara","Haikarainen","Haikka","Haikola","Haikonen","Haimi","Haka","Hakala","Hakamki","Hakanen","Hakanp","Hakkarainen","Hakola","Hakomki","Hakonen","Hakulinen","Halinen","Halkola","Halla-aho","Hallberg","Hallikainen","Halme","Halmela","Halmetoja","Halminen","Halonen","Halttu","Halttunen","Hamari","Hammar","Hanhela","Hanhisuanto","Hanka","Hannikainen","Hannila","Hannonen","Hannukainen","Hannuksela","Hannula","Hannus","Hansen","Hanski","Hansson","Happonen","Hara","Harinen","Harju","Harjula","Harjunen","Harjunp","Harmaala","Harri","Hartikainen","Hartikka","Hartman","Hartonen","Hassan","Hassinen","Hast","Hasu","Hatakka","Hattunen","Hauhia","Haukijrvi","Haukka","Haukkala","Hauru","Hauta-aho","Hautakangas","Hautakoski","Hautala","Hautamki","Hautanen","Hautaniemi","Hautaviita","Haverinen","Havia","Havukainen","Hedberg","Hedman","Heikinheimo","Heikka","Heikkala","Heikkil","Heikkinen","Heikkonen","Heikura","Heimo","Heimonen","Heinikoski","Heinil","Heininen","Heini","Heino","Heinola","Heinonen","Heinmki","Heinnen","Heiska","Heiskanen","Heiskari","Hekkala","Helander","Helenius","Helin","Hellberg","Helle","Hellgren","Hellman","Hellsten","Hellstrm","Hellstn","Helln","Helminen","Heln","Hemmil","Hemming","Hemminki","Henriksson","Hentil","Henttinen","Henttonen","Hentunen","Hermansson","Hermunen","Hernesniemi","Herrala","Herranen","Hiekkanen","Hietaharju","Hietakangas","Hietala","Hietalahti","Hietamies","Hietamki","Hietanen","Hietaniemi","Hietaranta","Hietikko","Hihnala","Hiironen","Hilden","Hildn","Hiljanen","Hilli","Hiltula","Hiltunen","Himanen","Himanka","Himberg","Hinkkanen","Hintikka","Hintsala","Hintsanen","Hirn","Hirsimki","Hirvel","Hirvensalo","Hirvi","Hirvikoski","Hirviniemi","Hirvonen","Hiukka","Hjelm","Hjelt","Hoffren","Hoffrn","Hoikka","Hoikkala","Hokka","Hokkanen","Holappa","Holkko","Holm","Holma","Holmberg","Holmi","Holmlund","Holmqvist","Holmstrm","Holopainen","Holttinen","Hongisto","Honka","Honkala","Honkanen","Honkaniemi","Honkasalo","Honkonen","Hopia","Hopponen","Horttanainen","Hosio","Hostikka","Hotakainen","Hotti","Hovi","Hovila","Huhta","Huhtakangas","Huhtala","Huhtamki","Huhtanen","Huhtinen","Huikari","Huikko","Huikuri","Huittinen","Hujanen","Hukka","Hukkanen","Hulkko","Hulkkonen","Hult","Humalajoki","Huolman","Huotari","Huovila","Huovinen","Hurme","Hurmerinta","Hurri","Hurskainen","Hurtig","Hussein","Husso","Husu","Huttu","Huttula","Huttunen","Huuhka","Huuhtanen","Huumonen","Huupponen","Huurinainen","Huusko","Huuskonen","Hynninen","Hynynen","Hyppnen","Hyppnen","Hyrks","Hyry","Hytti","Hyttinen","Hytnen","Hyvri","Hyvrinen","Hyvnen","Hyypi","Hyypp","Hyyrylinen","Hyyrynen","Hyytinen","Hyyti","Hyytiinen","Hgg","Hggblom","Hgglund","Hggman","Hiki","Hkkil","Hkkinen","Hkknen","Hkli","Hlikk","Hlinen","Hllfors","Hmeenniemi","Hmlinen","Hnnikinen","Hnninen","Hrknen","Hrm","Hr","Hstbacka","Htinen","Htnen","Hyh","Hyrinen","Hyrynen","Hglund","Hgstrm","Hltt","Hrkk","Ibrahim","Ignatius","Ihalainen","Ihamki","Ihanus","Iivanainen","Iivari","Iivarinen","Iivonen","Ijs","Ikkala","Ikola","Ikonen","Ikheimo","Ikheimonen","Iklinen","Ikvalko","Ilkka","Illikainen","Illman","Ilmarinen","Ilmonen","Ilola","Ilomki","Ilonen","Iltanen","Ilves","Ilvonen","Immonen","Impi","Impola","Ingman","Inkeroinen","Inkil","Inkilinen","Inkinen","Innanen","Isaksson","Isberg","Isoaho","Isohanni","Isojrvi","Isokangas","Isokoski","Isoknt","Isola","Isomaa","Isomki","Isoniemi","Isopahkala","Isotalo","Isoviita","Issakainen","Itkonen","Jaakkola","Jaakkonen","Jaako","Jaakola","Jaakonsaari","Jaara","Jaatinen","Jakobsson","Jakonen","Jalava","Jalkanen","Jalo","Jalonen","Jama","Janhonen","Janhunen","Jansson","Jantunen","Jarva","Jaskari","Jauhiainen","Javanainen","Jensen","Jeskanen","Joensuu","Johansson","Johnson","Johnsson","Jokela","Jokelainen","Joki","Jokiaho","Jokinen","Jokiniemi","Jokipii","Jokiranta","Jokisalo","Jokitalo","Jolkkonen","Jonsson","Jormakka","Jormalainen","Jormanainen","Joronen","Jortikka","Joutsen","Juhala","Juhola","Jukarainen","Julin","Julkunen","Jumisko","Jumppanen","Junkkari","Junnila","Junno","Junnola","Junttila","Juntunen","Juola","Juopperi","Jurmu","Jurvanen","Jurvelin","Juselius","Juslin","Jussila","Jutila","Juujrvi","Juurakko","Juurinen","Juusela","Juuso","Juusola","Juuti","Juutilainen","Juutinen","Juvonen","Jylh","Jylkk","Jyrkinen","Jmsen","Jms","Jmsn","Jnkl","Jntti","Jppinen","Jrvelin","Jrvel","Jrvelinen","Jrvenp","Jrvensivu","Jrvi","Jrvinen","Jrvisalo","Jrvi","Jskelinen","Jsk","Kaakinen","Kaarakainen","Kaarela","Kaarlela","Kaarre","Kaartinen","Kaasalainen","Kaasinen","Kaattari","Kahelin","Kahila","Kaija","Kaikkonen","Kaila","Kainulainen","Kaipainen","Kaipiainen","Kaipio","Kaiponen","Kaisto","Kaivola","Kajander","Kajava","Kakko","Kakkonen","Kaksonen","Kalenius","Kaleva","Kallinen","Kallio","Kallioinen","Kalliokoski","Kalliola","Kalliomaa","Kalliomki","Kallioniemi","Kallionp","Kallonen","Kallunki","Kalmari","Kalpio","Kammonen","Kamula","Kamunen","Kananen","Kanerva","Kanervo","Kangas","Kangasluoma","Kangasmki","Kangasniemi","Kankaala","Kankaanp","Kankaanranta","Kankainen","Kankare","Kankkonen","Kankkunen","Kanniainen","Kanninen","Kannisto","Kantanen","Kanto","Kantola","Kantonen","Kapanen","Kareinen","Karell","Karhap","Karhinen","Karhu","Karhula","Karhumaa","Karhunen","Kari","Karila","Karinen","Kariniemi","Karjala","Karjalainen","Karjula","Karlsson","Karlstrm","Karonen","Karppanen","Karppi","Karppinen","Karsikas","Kartano","Karttunen","Karvanen","Karvinen","Karvo","Karvonen","Kasanen","Kaskela","Kaski","Kaskinen","Kasurinen","Katainen","Kataja","Katajainen","Katajamki","Katajisto","Katila","Kattelus","Kattilakoski","Kauhanen","Kaukiainen","Kaukinen","Kauko","Kaukola","Kaukonen","Kaukoranta","Kaunismki","Kaunisto","Kauppi","Kauppila","Kauppinen","Kauranen","Kautiainen","Kautonen","Kautto","Kehusmaa","Keinonen","Keinnen","Keisala","Kejonen","Kekki","Kekkonen","Keklinen","Kela","Kelkka","Kellokoski","Kellokumpu","Kelloniemi","Kemi","Kemilinen","Kempas","Kemppainen","Kemppi","Kemppinen","Kentt","Kenttl","Kerkel","Kerminen","Kero","Kerola","Keronen","Kerttula","Kervinen","Kernen","Keskinen","Keskitalo","Kesseli","Kesti","Kestil","Keslinen","Keto","Ketola","Ketolainen","Ketonen","Kettula","Kettunen","Keurulainen","Khan","Kiili","Kiiski","Kiiskil","Kiiskinen","Kiiveri","Kiljunen","Kilkki","Kilpelinen","Kilpi","Kilpinen","Kilpi","Kilponen","Kinnari","Kinnunen","Kirjavainen","Kirjonen","Kirves","Kittil","Kiukas","Kiukkonen","Kiuru","Kiveks","Kivel","Kivi","Kiviaho","Kiviharju","Kivijrvi","Kivikangas","Kivikoski","Kivilahti","Kiviluoma","Kiviluoto","Kivimki","Kivinen","Kiviniemi","Kivioja","Kiviranta","Kivist","Klasila","Kleemola","Klemets","Klemetti","Klemola","Knuuti","Knuutila","Knuutinen","Knuuttila","Koho","Kohonen","Kohtala","Kohtamki","Kohvakka","Koikkalainen","Koiranen","Koistinen","Koivikko","Koivisto","Koivistoinen","Koivu","Koivukangas","Koivukoski","Koivula","Koivulahti","Koivuluoma","Koivumaa","Koivumki","Koivunen","Koivuniemi","Koivuranta","Koivusaari","Koivusalo","Kojo","Kokkarinen","Kokki","Kokkinen","Kokko","Kokkola","Kokkonen","Kokkoniemi","Kola","Kolari","Kolehmainen","Koli","Koljonen","Kolu","Komi","Komonen","Komppa","Komu","Komulainen","Kontiainen","Kontinen","Kontio","Kontkanen","Konttila","Konttinen","Kontturi","Kontunen","Koponen","Koppanen","Kopra","Korhola","Korhonen","Korjus","Korkala","Korkalainen","Korkeakangas","Korkeakoski","Korkeamki","Korkiakoski","Korkiamki","Korolainen","Korpela","Korpelainen","Korpi","Korpinen","Korppi","Korte","Kortelainen","Korteniemi","Kortesalmi","Korva","Koskela","Koskelainen","Koskelo","Koskenkorva","Koskenniemi","Koskenranta","Koski","Koskimaa","Koskimies","Koskimki","Koskinen","Koskiniemi","Kosola","Kosonen","Kostamo","Kostiainen","Kosunen","Kotajrvi","Kotala","Kotamki","Kotanen","Kotila","Kotilainen","Kotiranta","Kotro","Kouhia","Koukkari","Kousa","Koutonen","Kouvalainen","Kouvo","Kovalainen","Kovanen","Kovero","Kraft","Kreivi","Kronqvist","Krook","Krger","Kuha","Kuhanen","Kuhmonen","Kuikka","Kuiri","Kuisma","Kuismanen","Kuismin","Kuittinen","Kuitunen","Kuivala","Kuivalainen","Kuivanen","Kujala","Kujanp","Kujansuu","Kukko","Kukkohovi","Kukkola","Kukkonen","Kukkula","Kulju","Kullberg","Kulmala","Kultalahti","Kultanen","Kumpula","Kumpulainen","Kumpumki","Kunelius","Kunnari","Kunnas","Kuntsi","Kunttu","Kuokka","Kuokkanen","Kuoppala","Kuorikoski","Kuortti","Kuosa","Kuosmanen","Kupari","Kuparinen","Kupiainen","Kurikka","Kurkela","Kurki","Kurkinen","Kuronen","Kurppa","Kurri","Kurtti","Kurttila","Kuru","Kurvinen","Kutvonen","Kuukasjrvi","Kuukka","Kuukkanen","Kuula","Kuusela","Kuusi","Kuusimki","Kuusinen","Kuusiniemi","Kuusisto","Kuusjrvi","Kuusniemi","Kuutti","Kuvaja","Kvist","Kykknen","Kylliinen","Kyllnen","Kylml","Kylmnen","Kylnp","Kymlinen","Kyr","Kyrlinen","Kyt","Kytl","Kytmki","Kyyhkynen","Kyyr","Khknen","Khri","Khr","Khnen","Kkel","Kki","Klkj","Kmppi","Kmrinen","Knsl","Kppi","Krki","Krkinen","Krkkinen","Krks","Krn","Kyhk","Kri","Kriinen","Kngs","Knnen","Krkk","Kykk","Laakko","Laakkonen","Laakso","Laaksonen","Laamanen","Laari","Laasanen","Laasonen","Laatikainen","Lagerstrm","Lahdenper","Lahikainen","Lahtela","Lahti","Lahtinen","Lahtonen","Laiho","Laihonen","Laine","Lainio","Laitala","Laitila","Laitinen","Lajunen","Lakanen","Lakkala","Lakso","Lalli","Lallukka","Lamberg","Lammela","Lammi","Lamminaho","Lamminen","Lamminmki","Lamminp","Lampela","Lampi","Lampila","Lampinen","Lamppu","Lang","Lanki","Lankila","Lankinen","Lantta","Lantto","Lappalainen","Lappetelinen","Lappi","Larsson","Lassila","Lattu","Latva","Latvakoski","Latvala","Laukka","Laukkanen","Laukkarinen","Laukkonen","Laulainen","Laulajainen","Laulumaa","Launonen","Laurell","Lauri","Laurikainen","Laurila","Lauronen","Laurn","Lautala","Lautamki","Lavikainen","Lavonen","Lax","Le","Lehikoinen","Lehkonen","Lehmonen","Lehmus","Lehtel","Lehti","Lehtikangas","Lehtil","Lehtimki","Lehtinen","Lehtiniemi","Lehtisaari","Lehtisalo","Lehti","Lehto","Lehtola","Lehtomki","Lehtonen","Lehtoranta","Lehtosaari","Lehtovaara","Lehtovirta","Lehvonen","Leikas","Leino","Leinonen","Leivisk","Leivo","Lemberg","Lemettinen","Leminen","Lemmetty","Lemmetyinen","Lempinen","Lempiinen","Lemstrm","Lepist","Lepola","Leponiemi","Leppinen","Leppiniemi","Lepp","Leppaho","Leppkoski","Leppl","Leppmki","Leppnen","Leppniemi","Leskel","Leskinen","Lesonen","Levo","Levola","Levonen","Levnen","Liedes","Lievonen","Liikala","Liikanen","Liikkanen","Liimatainen","Liimatta","Lilja","Liljeqvist","Liljestrm","Limnell","Lind","Lindberg","Lindblad","Lindblom","Lindell","Lindeman","Linden","Lindfors","Lindgren","Lindh","Lindholm","Lindman","Lindqvist","Lindroos","Lindroth","Lindstedt","Lindstrm","Lindvall","Lindn","Linna","Linnala","Lintula","Lintunen","Lipasti","Lipiinen","Lipponen","Lipsanen","Liski","Litmanen","Liukko","Liukkonen","Liuska","Lohi","Lohilahti","Loikkanen","Loisa","Lokka","Lonka","Loponen","Lotvonen","Louhelainen","Louko","Loukusa","Luhtala","Luhtanen","Luiro","Lukka","Lukkari","Lukkarila","Lukkarinen","Lumijrvi","Lumme","Lund","Lundberg","Lundell","Lunden","Lundgren","Lundqvist","Lundstrm","Lundn","Luokkala","Luokkanen","Luoma","Luoma-aho","Luomala","Luomanen","Luostarinen","Luoto","Luotonen","Lustig","Luttinen","Luukinen","Luukka","Luukkainen","Luukkanen","Luukko","Luukkonen","Luusua","Lyly","Lyyra","Lyytikinen","Lyytinen","Lhde","Lhdekorpi","Lhdemki","Lhdesmki","Lhteenmki","Lms","Ltti","Lperi","Lng","Lngstrm","Lf","Lfgren","Lfman","Lnnberg","Lnnqvist","Lnnroth","Lppnen","Ltjnen","Lytynoja","Maaninka","Maaranen","Mahlamki","Maijala","Maijanen","Maja","Majamki","Majander","Majanen","Majaniemi","Majava","Majuri","Makkonen","Maksimainen","Malila","Malin","Malinen","Malkamki","Malkki","Malm","Malmberg","Malmi","Malmivaara","Malmsten","Malmstrm","Manelius","Mankinen","Mankki","Manner","Mannermaa","Manni","Mannila","Manninen","Mannonen","Mansikka","Mansikkamki","Mantere","Mantila","Marin","Marjakangas","Marjala","Marjamaa","Marjamki","Marjanen","Marjeta","Marjomaa","Markkanen","Markkula","Markus","Martikainen","Martin","Martinmki","Martiskainen","Marttala","Martti","Marttila","Marttinen","Masalin","Matero","Matikainen","Matikka","Matilainen","Mattila","Mattinen","Mattsson","Maukonen","Mauno","Maunu","Maunula","Mehto","Mehtonen","Mehtl","Melander","Mellin","Mentula","Meriluoto","Meril","Merilinen","Merinen","Merisalo","Merivirta","Mero","Meronen","Merta","Mertala","Mertanen","Mertaniemi","Meskanen","Metso","Metsola","Metsl","Metsranta","Mettovaara","Mettl","Meuronen","Michelsson","Mickelsson","Mielonen","Miettinen","Miettunen","Miikkulainen","Miinalainen","Mikkil","Mikkola","Mikkonen","Mikola","Minkkinen","Moberg","Mohamed","Mohamud","Moilanen","Moisander","Moisanen","Moisio","Molander","Mononen","Monto","Montonen","Mourujrvi","Muhonen","Muikku","Muilu","Mujunen","Mukkala","Mulari","Multanen","Muona","Muranen","Mursu","Murto","Murtomki","Murtonen","Musakka","Mustajrvi","Mustakallio","Mustakangas","Mustalahti","Mustaniemi","Mustonen","Mutanen","Mutikainen","Mutka","Muukka","Muukkonen","Muuri","Muurimki","Muurinen","Mykknen","Mykr","Myller","Mylly","Myllyaho","Myllykangas","Myllykoski","Myllyl","Myllymaa","Myllymki","Myllynen","Myllyniemi","Myllyoja","Myllys","Myllri","Myllrinen","Mynttinen","Myyry","Myyrylinen","Myyr","Myhnen","Menp","Mensivu","Mhnen","Mkel","Mkelinen","Mki","Mkil","Mkinen","Mkiniemi","Mkip","Mkiranta","Mkisalo","Mkitalo","Mkynen","Mkrinen","Mlki","Mllinen","Mnnikk","Mnnist","Mnttri","Mnty","Mntyl","Mntymki","Mntynen","Mntyniemi","Mntysaari","Mtt","Myr","Mtt","Mttl","Mttnen","Mrd","Mller","Mls","Mnkknen","Mnttinen","Mrsky","Mttnen","Mller","Naakka","Nakari","Naskali","Natri","Natunen","Naukkarinen","Naumanen","Nenonen","Nerg","Neuvonen","Nevala","Nevalainen","Nevanper","Nguyen","Niemel","Niemelinen","Niemenmaa","Niemi","Niemi-Korpi","Nieminen","Niemist","Niinikoski","Niinimki","Niininen","Niinist","Niiranen","Niittymki","Niittynen","Nikander","Nikkanen","Nikkari","Nikki","Nikkil","Nikkinen","Nikkola","Nikkonen","Nikula","Nikulainen","Nikunen","Nilsson","Nironen","Niska","Niskala","Niskanen","Nisonen","Nissi","Nissil","Nissinen","Nisula","Niva","Nivala","Nokelainen","Noponen","Nordberg","Nordling","Nordlund","Nordman","Nordqvist","Nordstrm","Norrgrd","Nousiainen","Nukarinen","Nummela","Nummelin","Nummi","Nummila","Numminen","Nuora","Nuorala","Nuotio","Nupponen","Nurkkala","Nurmela","Nurmi","Nurminen","Nurmio","Nurro","Nuutinen","Nuuttila","Nybacka","Nyberg","Nygren","Nygrd","Nyholm","Nykvist","Nyknen","Nylander","Nylund","Nyman","Nyqvist","Nyrhinen","Nystrm","Nyyssnen","Nrhi","Nrv","Nrvnen","Nsi","Nsman","Ntnen","Ohtamaa","Ohtonen","Ohvo","Oikarainen","Oikari","Oikarinen","Oikkonen","Oinas","Oinonen","Oittinen","Oja","Ojajrvi","Ojala","Ojalehto","Ojanen","Ojaniemi","Ojanper","Ojansivu","Okkonen","Oksa","Oksala","Oksanen","Oksman","Olander","Olenius","Olin","Olkinuora","Olkkola","Olkkonen","Ollanketo","Olli","Ollikainen","Ollila","Olsson","Onnela","Oranen","Orava","Oravainen","Orpana","Orre","Osman","Outinen","Ovaska","Ovaskainen","Paajanen","Paakkanen","Paakkari","Paakki","Paakkinen","Paakkonen","Paakkunainen","Paalanen","Paananen","Paappanen","Paasikivi","Paaso","Paasonen","Paavilainen","Paavola","Paavolainen","Packaln","Pahkala","Pajala","Pajari","Pajarinen","Paju","Pajukoski","Pajula","Pajunen","Pakanen","Pakarinen","Pakkala","Pakkanen","Palander","Paldanius","Palenius","Palin","Paljakka","Pallari","Palm","Palmgren","Palmroos","Palmroth","Palmu","Palmn","Palo","Paloheimo","Palojrvi","Palokangas","Palola","Palomaa","Palomki","Palonen","Paloniemi","Palosaari","Palovaara","Palviainen","Pantsar","Panula","Papunen","Parantainen","Parhiala","Parikka","Parkkali","Parkkari","Parkkila","Parkkinen","Parkko","Parkkonen","Paronen","Parpala","Partala","Partanen","Partinen","Partti","Parttimaa","Parviainen","Pasanen","Pasma","Passi","Patjas","Patrikainen","Patronen","Paukkonen","Paukku","Paukkunen","Pauna","Paunonen","Pehkonen","Peiponen","Peippo","Pekkala","Pekkanen","Pekkarinen","Pekki","Pekkinen","Pekkola","Pekkonen","Pekonen","Pelkonen","Pelli","Pellikka","Pellinen","Peltokangas","Peltokorpi","Peltola","Peltomaa","Peltomki","Peltonen","Peltoniemi","Pelttari","Pennanen","Pentikinen","Pentti","Penttil","Penttinen","Perki","Perkki","Pernu","Persson","Perttil","Perttu","Perttula","Perttunen","Perkyl","Perl","Permki","Pertalo","Pesola","Pesonen","Pessi","Pesu","Peteri","Pettersson","Pettinen","Petj","Petjjrvi","Peuhkuri","Peura","Peurala","Pham","Pienimki","Pietarila","Pietarinen","Pietikinen","Pietil","Pietilinen","Pihkala","Pihl","Pihlainen","Pihlaja","Pihlajamaa","Pihlajamki","Pihlajaniemi","Pihlava","Pihlstrm","Piilola","Piilonen","Piiparinen","Piippo","Piipponen","Piira","Piirainen","Piiroinen","Piironen","Piirto","Piispa","Piispanen","Piitulainen","Pikkarainen","Pimi","Pinola","Pippuri","Pirhonen","Piri","Piril","Pirinen","Pirkkalainen","Pirkola","Pirnes","Pirskanen","Pirttijrvi","Pirttikoski","Pirttil","Pirttimaa","Pirttimki","Pirttinen","Pitkonen","Pitkaho","Pitkkangas","Pitkl","Pitkmki","Pitknen","Pitkniemi","Pitkranta","Pohja","Pohjalainen","Pohjanen","Pohjola","Pohjolainen","Pohjonen","Poikela","Poikkimki","Poikolainen","Poikonen","Pokela","Pokkinen","Pollari","Polojrvi","Polvi","Polvinen","Porkka","Posio","Poskiparta","Posti","Pousi","Poutanen","Poutiainen","Pouttu","Pudas","Puhakainen","Puhakka","Puikkonen","Puisto","Pukki","Pukkila","Pulkka","Pulkkanen","Pulkki","Pulkkinen","Pulli","Pulliainen","Pullinen","Punkari","Puolakanaho","Puolakka","Puolitaival","Puonti","Puoskari","Puputti","Puranen","Purho","Purhonen","Purmonen","Puro","Purola","Pursiainen","Pusa","Puska","Puskala","Pussinen","Putkinen","Putkonen","Puttonen","Puukko","Puumala","Puumalainen","Puurtinen","Puurula","Puurunen","Puusaari","Puustinen","Pyklinen","Pylkknen","Pylkknen","Pylvninen","Pynnnen","Pyrhnen","Pyrr","Pyy","Pyyhti","Pyykk","Pyykknen","Pyyknen","Pyysalo","Pivinen","Pivrinta","Pkkil","Prnnen","Prssinen","Ptsi","Pkk","Pkknen","Plkki","Pllnen","Plnen","Pnni","Pntinen","Pyhnen","Pyry","Pysti","Qvick","Qvist","Raappana","Raassina","Raatikainen","Rahikainen","Rahikka","Rahja","Rahko","Rahkola","Rahkonen","Rahunen","Rainio","Raiskio","Raita","Raitala","Raitanen","Raitio","Raittila","Raittinen","Raivio","Rajakangas","Rajala","Rajamki","Rajaniemi","Rakkolainen","Ramstedt","Raninen","Ranki","Ranne","Rannikko","Ranta","Ranta-aho","Rantakangas","Rantala","Rantalainen","Rantamki","Rantanen","Rantasalo","Rantonen","Rapo","Rasi","Rasila","Rasilainen","Rasimus","Rasinkangas","Rask","Rasmus","Rastas","Ratia","Ratilainen","Ratinen","Raudaskoski","Raudasoja","Rauhala","Rauhamki","Rauma","Raunio","Raussi","Rauta","Rautakoski","Rautanen","Rautava","Rautiainen","Rautio","Ravantti","Rehn","Reijonen","Reiman","Reini","Reinikainen","Reinikka","Rekil","Rekola","Rekonen","Relander","Remes","Renfors","Renlund","Rentola","Renvall","Repo","Reponen","Reunanen","Riekki","Riekkinen","Riihel","Riihiaho","Riihijrvi","Riihimki","Riihinen","Riikola","Riikonen","Riipi","Riipinen","Riissanen","Rikala","Rikkonen","Rimpilinen","Rinkinen","Rinne","Rinta","Rintala","Rintamki","Rintanen","Ripatti","Riski","Risku","Rissanen","Ristil","Ristimki","Ristola","Ristolainen","Ritala","Ritari","Ritola","Ritvanen","Riutta","Roiha","Roine","Roininen","Roivainen","Roivas","Rokka","Romo","Romppainen","Romppanen","Romu","Ronkainen","Ronkanen","Roos","Roponen","Ropponen","Rosenberg","Rosendahl","Rosenqvist","Rosenstrm","Rossi","Rostedt","Rosti","Rosvall","Roth","Rouhiainen","Rousu","Rouvali","Rouvinen","Rovio","Ruhanen","Rummukainen","Rundgren","Runtti","Ruoho","Ruohola","Ruohomki","Ruohonen","Ruokamo","Ruokola","Ruokolainen","Ruokonen","Ruonala","Ruotsala","Ruotsalainen","Ruottinen","Ruponen","Rusanen","Rusi","Rutanen","Ruuska","Ruuskanen","Ruusunen","Ruuth","Ryhnen","Rytilahti","Rytknen","Ryynnen","Ryypp","Ryytty","Rih","Rikknen","Risnen","Rm","Rm","Rsnen","Rty","Rnkk","Rnk","Rnn","Rnnberg","Rnnholm","Rnnqvist","Rntynen","Saaranen","Saarela","Saarelainen","Saarenmaa","Saarenp","Saari","Saarijrvi","Saarikivi","Saarikko","Saarikoski","Saarimaa","Saarimki","Saarinen","Saariniemi","Saario","Saaristo","Saarni","Saarnio","Saastamoinen","Saavalainen","Saha","Saharinen","Sahlberg","Sahlman","Sahlstrm","Saikko","Saikkonen","Saine","Sainio","Saira","Sairanen","Sakko","Saksa","Salakari","Salakka","Salama","Salenius","Salin","Salli","Sallinen","Salmela","Salmelin","Salmi","Salmijrvi","Salminen","Salo","Salokangas","Salokannel","Salomaa","Salomki","Salonen","Saloniemi","Salonp","Saloranta","Salovaara","Sand","Sandberg","Sandelin","Sandell","Sandholm","Sandstrm","Sandvik","Sankala","Sankari","Santala","Santanen","Sarajrvi","Saranp","Sarin","Sariola","Sarja","Sarkkinen","Sarlin","Sarn","Sassi","Saukko","Saukkonen","Saukkoriipi","Saunamki","Savander","Savela","Savikko","Savilaakso","Savinainen","Savola","Savolainen","Savonen","Schmidt","Schroderus","Schwartz","Seikkula","Seilonen","Selenius","Selin","Selkl","Sepponen","Sepp","Seppl","Seppnen","Setl","Shemeikka","Siekkinen","Sieppi","Sievnen","Sihvo","Sihvola","Sihvonen","Siikanen","Siimes","Siipola","Siira","Siiril","Siirtola","Siiskonen","Siitari","Siitonen","Siivola","Siivonen","Sikanen","Siki","Silander","Silfver","Silfverberg","Siljander","Sillanp","Sillman","Siltakoski","Siltala","Siltanen","Silvan","Silvast","Silvasti","Silvennoinen","Silventoinen","Silvola","Silvonen","Siln","Simil","Simola","Simolin","Simonen","Simpanen","Simula","Sinervo","Singh","Sinisalo","Sinkko","Sinkkonen","Sintonen","Sipari","Sipil","Sipilinen","Sipinen","Sipola","Siponen","Sippola","Sipponen","Siren","Sirki","Sirkka","Sirola","Sironen","Sirvi","Sirn","Sistonen","Siukola","Sivonen","Sivula","Sivn","Sjberg","Sjblom","Sjgren","Sjholm","Sjlund","Sjman","Sjroos","Sjstrm","Skog","Skogberg","Skytt","Slotte","Smeds","Smith","Smolander","Snellman","Snickars","Sohlberg","Sohlman","Soikkeli","Soini","Soininen","Soisalo","Sokka","Sokura","Somero","Somppi","Sonninen","Sopanen","Soppela","Sorjonen","Sormunen","Soronen","Sorri","Sorsa","Sorvali","Sorvari","Sorvisto","Sorvoja","Soukka","Starck","Stark","Sten","Stenberg","Stenbck","Stenfors","Stenholm","Stenius","Stenman","Stenroos","Stenroth","Stenstrm","Stenvall","Stolt","Stoor","Storbacka","Strand","Strandberg","Strandman","Streng","Strengell","Strm","Strmberg","Sthl","Sthlberg","Suhonen","Suihko","Suihkonen","Suikkanen","Suikki","Sulander","Sulin","Sulonen","Summanen","Sund","Sundberg","Sundelin","Sundell","Sundholm","Sundman","Sundqvist","Sundstrm","Sundvall","Suni","Suojanen","Suokas","Suokko","Suomala","Suomalainen","Suomela","Suomi","Suominen","Suoniemi","Suonp","Suontausta","Suopanki","Suoranta","Suorsa","Suortti","Surakka","Susi","Sutela","Sutinen","Suurnkki","Suuronen","Suutari","Suutarinen","Suvanto","Svahn","Svart","Svensk","Svensson","Svrd","Syri","Syrj","Syrjl","Syrjlinen","Syrjnen","Syvjrvi","Syvnen","Sily","Sil","Sis","Skkinen","Sllinen","Sntti","Srkel","Srkijrvi","Srkiniemi","Srkk","Steri","Sskilahti","Sderberg","Sderblom","Sdergrd","Sderholm","Sderlund","Sderman","Sderstrm","Taavila","Taavitsainen","Tabell","Tahkola","Tahvanainen","Taimi","Tainio","Taipale","Taipalus","Taivainen","Takala","Takalo","Takanen","Takkinen","Takkula","Takkunen","Talja","Talka","Tallberg","Tallgren","Tallqvist","Talonen","Talvensaari","Talvio","Talvitie","Tammela","Tammelin","Tammi","Tammilehto","Tamminen","Tammisto","Tampio","Tanhuanp","Tani","Tanner","Tanninen","Tanska","Tanskanen","Tanttu","Tapanainen","Tapani","Tapaninen","Tapio","Tapiola","Tapola","Taponen","Tapper","Tarkiainen","Tarkka","Tarkkonen","Tarvainen","Tarvonen","Tasala","Taskila","Taskinen","Tattari","Tauriainen","Teikari","Teittinen","Temonen","Tenhunen","Tenkanen","Teppo","Tepponen","Terho","Tervala","Tervo","Tervola","Tervonen","Ters","Terv","Tervinen","Tetri","Tiainen","Tienhaara","Tiensuu","Tietvinen","Tihinen","Tiihonen","Tiikkainen","Tiikkaja","Tiilikainen","Tiilikka","Tiirikainen","Tiitinen","Tiittanen","Tiitto","Tikka","Tikkala","Tikkanen","Tilli","Timlin","Timonen","Timperi","Tirkkonen","Tirri","Tirronen","Tissari","Tiusanen","Toikka","Toikkanen","Toivainen","Toivakka","Toivanen","Toivari","Toiviainen","Toivio","Toivo","Toivola","Toivonen","Tokola","Tolkki","Tolonen","Tolppanen","Tolvanen","Tommila","Tommola","Tomperi","Tonteri","Tontti","Toppari","Toppila","Toppinen","Torikka","Torkkel","Torkkeli","Tornberg","Torniainen","Toropainen","Torppa","Torvinen","Tossavainen","Tourunen","Tran","Tuhkanen","Tuikka","Tuisku","Tukia","Tukiainen","Tulkki","Tulla","Tulokas","Tulonen","Tunturi","Tuohimaa","Tuohino","Tuokko","Tuomaala","Tuomainen","Tuomala","Tuomela","Tuomi","Tuomikoski","Tuominen","Tuominiemi","Tuomisto","Tuomivaara","Tuomola","Tuononen","Tuori","Tuorila","Tuovila","Tuovinen","Tupala","Tuppurainen","Turja","Turkia","Turkka","Turkki","Turkulainen","Turpeinen","Turtiainen","Turtinen","Turunen","Tuukkanen","Tuunainen","Tuunanen","Tuura","Tuuri","Tykkylinen","Tyni","Tynkkynen","Typp","Tyrvinen","Tyynel","Tyysk","Thti","Thtinen","Tlli","Trm","Trml","Trmnen","Trnqvist","Trnroos","Trrnen","Tyryl","Udd","Uimonen","Uitto","Ukkola","Ukkonen","Ulmanen","Ulvinen","Uosukainen","Uotila","Uotinen","Uronen","Urpilainen","Ursin","Uski","Utriainen","Uusikartano","Uusimki","Uusitalo","Uusitupa","Uutela","Uuttu","Vaahtera","Vaara","Vaarala","Vaattovaara","Vahala","Vahtera","Vahtola","Vainikainen","Vainikka","Vainio","Vainionp","Vaittinen","Vakkuri","Valjakka","Valjus","Valkama","Valkeap","Valkeinen","Valkonen","Valle","Vallenius","Valli","Vallin","Vallius","Valo","Valonen","Valta","Valtanen","Valtonen","Valve","Vanhala","Vanhanen","Vanhatalo","Vanne","Vanninen","Varila","Varis","Varjo","Varjonen","Varjus","Varonen","Varpula","Vartiainen","Vartio","Vasama","Vasara","Vastamki","Vataja","Vatanen","Vattulainen","Vauhkonen","Vehkaoja","Vehmanen","Vehmas","Vehniinen","Vehvilinen","Veijalainen","Veijola","Veikkola","Veikkolainen","Venho","Vento","Venlinen","Veps","Vepslinen","Verho","Verronen","Vertanen","Vesa","Vesala","Vesalainen","Vesamki","Vesanen","Vesanto","Vesterinen","Vesterlund","Vetelinen","Vettenranta","Vidgren","Vienola","Vienonen","Vierikko","Vierimaa","Viertola","Vierula","Vihavainen","Vihervaara","Vihervuori","Viholainen","Viik","Viinamki","Viinanen","Viinikainen","Viinikka","Viiri","Viita","Viitala","Viitamki","Viitanen","Viitaniemi","Viitasaari","Viitasalo","Viklund","Vikman","Vikstrm","Vilander","Vilen","Vilenius","Vilhunen","Viljakainen","Viljamaa","Viljanen","Vilkki","Vilkko","Vilkman","Villa","Villanen","Villikka","Villman","Vilmi","Vilmunen","Vilppola","Viln","Vimpari","Vinni","Virkkala","Virkki","Virkkula","Virkkunen","Virolainen","Virta","Virtala","Virtanen","Viskari","Visuri","Vitikainen","Vitikka","Volanen","Volotinen","Vornanen","Voutilainen","Vuohelainen","Vuokila","Vuokko","Vuolle","Vuorela","Vuorenmaa","Vuorenp","Vuori","Vuorinen","Vuorio","Vuorisalo","Vuoristo","Vuoti","Vh","Vhkangas","Vhkuopus","Vhmaa","Vhmki","Vhnen","Vhsarja","Vhsyrinki","Vhtalo","Vinl","Vist","Visnen","Vkev","Vkevinen","Vkiparta","Vliaho","Vlikangas","Vlil","Vlimaa","Vlimki","Vlitalo","Vnsk","Vnttil","Vnttinen","Vre","Vyrynen","Vnnen","Vrl","Vrniemi","Vtinen","Vtnen","Wahlberg","Wahlman","Wahlroos","Wahlsten","Wahlstrm","Wallenius","Wallin","Wargh","Wasenius","Weckman","Weckstrm","Wegelius","Welling","Wessman","West","Wester","Westerback","Westerberg","Westerholm","Westerlund","Westman","Wiberg","Wickstrm","Wiik","Wik","Wikberg","Wikholm","Wiklund","Wikman","Wikstrm","Wilenius","Wilkman","Willberg","Willman","Wiln","Winberg","Winqvist","Winter","Yletyinen","Ylijoki","Ylikangas","Ylikoski","Ylikulju","Yliluoma","Ylimki","Ylinen","Yliniemi","Ylitalo","Ylnen","Ylnen","Yrjn","Yrjl","Yrjnen","Yrttiaho","ijl","ij","iks","mml","berg","gren","hman","kerblom","kerlund","kerman","lander","man","strm","hman","rn","sterberg","sterholm","sterlund","sterman","stman"],setup.NAME_orc_female_first_name=["Abimfash","Adkul","Adlugbuk","Agadbu","Agamph","Agazu","Agdesh","Aglakh","Aglash","Agli","Agral","Agrash","Agrulla","Agum","Agzurz","Akarah","Akash","Akgruhl","Akkra","Aklash","Akur","Alga","Anbarah","Arakh","Argulla","Argurgol","Arob","Aroub","Arzakh","Arzorag","Ashaka","Ashgara","Ashgel","Ashrashag","Atarga","Atoga","Atorag","Atub","Atugol","Atumph","Atzurbesh","Aza","Azabesh","Azadhai","Azga","Azhnakha","Azhnolga","Azhnura","Azilkh","Azlakha","Azorku","Azulga","Baag","Baagug","Badbu","Badush","Bafthaka","Bagda","Bagrak","Bagrat","Bagrugbesh","Bagrzush","Bagul","Bagula","Bamog","Bar","Barak","Barazal","Bargamph","Bargol","Barza","Bashat","Bashnag","Bashotha","Bashramph","Bashsha","Basht","Bashuk","Bat","Batara","Batasha","Bathuk","Batonk","Batorabesh","Batul","Batum","Batutha","Bazbava","Bazgabesh","Bazgara","Bhagruan","Bharg","Bizra","Bluga","Boga","Bogamakh","Bogdakh","Bogdk","Bogdub","Bogharz","Bogla","Boglar","Bogrol","Boguk","Bol","Bolaag","Boladurz","Bolak","Bolar","Bolash","Bolgar","Bolmog","Bolob","Bolugbeka","Bonk","Bor","Bora","Borba","Borbgur","Borbog","Borbuga","Borbul","Borgakh","Borgburakh","Borgdorga","Borghak","Borgrara","Boroth","Borzog","Brekgun","Brok","Bug","Bugarn","Bugbekh","Bugbesh","Bugdtha","Bugdurash","Bugha","Buglump","Bula","Bulag","Bularkh","Bularz","Bulba","Bulfish","Bulfol","Bulfor","Bum","Bumava","Bumbuk","Bumph","Bumzuna","Bura","Burbog","Burbug","Burfim","Burish","Burol","Burub","Burug","Burzob","Burzraz","Buzga","Cromgog","Dagarha","Darezha","Dragol","Drienne","Droka","Druga","Dufbash","Dugul","Dul","Dula","Dulasha","Dulfra","Dulfraga","Dulkh","Dulkhi","Dulob","Dulroi","Dulug","Dululur","Dulzugha","Dumoga","Dumuguk","Dumul","Dumula","Dumulg","Dumurzog","Duragma","Durash","Duratharz","Durga","Durgrz","Durgura","Durhaz","Durog","Durogbesh","Durug","Durz","Dush","Dushug","Erisa","Fnagdesh","Gahgra","Galash","Gamorn","Gar","Garakh","Gargahz","Gargum","Garl","Garlor","Garlub","Garotusha","Gasbut","Gash","Gashbul","Gashel","Gashnakh","Gat","Ghak","Ghaktha","Gham","Ghamzeh","Gharakul","Gharn","Gharol","Gharz","Ghash","Ghasharzol","Ghat","Gheshol","Ghob","Ghoboth","Ghobub","Ghogogg","Gholfim","Gholob","Ghorak","Ghorbog","Ghorza","Ghorzolga","Ghoth","Ghratutha","Glagag","Glagosh","Glarikha","Glash","Glaszob","Glath","Glatha","Glathuhl","Glathut","Glega","Glesh","Glob","Globh","Glolbikla","Glorzuf","Glothum","Gloz","Glubut","Gluk","Glurarz","Glurbasha","Glurduk","Glurkub","Glurmghal","Gluronk","Glurza","Glurzog","Glurzul","Gluth","Gluthesh","Gnush","Gogul","Golakha","Golga","Golpok","Gonbubal","Gonbush","Gondubaga","Gonk","Gonrn","Gonzush","Goorga","Gorzog","Grabash","Graghesh","Grahla","Grahuar","Grakguhl","Graklha","Grambak","Grash","Grashla","Grashug","Grat","Gratzush","Grazda","Grazob","Grazth","Grazubesha","Grenbet","Groddi","Grubalash","Grubathag","Grubazh","Grubesha","Grugleg","Grulam","Grumgha","Grundag","Gruzbura","Guazh","Gul","Gula","Gulara","Gulfim","Gulfug","Gulgula","Gulorz","Gulugash","Gulza","Gulzurgol","Gunzga","Gurakh","Gurhul","Gurikha","Gursthuk","Gurub","Gurum","Guth","Guurzash","Guuth","Guz","Guzash","Guzmara","Haghai","Harfza","Harza","Homl","Homlur","Hubrag","Hurabesh","Ilg","Irsugha","Jorthan","Junlock","Kashug","Kashurthag","Kelagi","Khagdum","Khagral","Khagruk","Khaguga","Khaguur","Khar","Kharash","Kharbush","Kharekh","Kharz","Kharza","Kharzolga","Kharzug","Khash","Khashnar","Khatub","Khazor","Khazrakh","Kora","Korgha","Krithgra","Kroma","Kruaga","Kuhlon","Kurz","Lag","Lagabul","Lagagakh","Lagakh","Laganakh","Lagbaal","Lagbuga","Lagdabash","Lagdub","Lagra","Lagruda","Lagrzug","Lahzga","Lakhazga","Lamazh","Lambug","Lambur","Lamburak","Lamugbek","Lamur","Lamut","Lamzakha","Largum","Larzgug","Lash","Lashakh","Lashbesh","Lashbura","Lashdura","Lashdurz","Lashgikh","Lashgurgol","Lashza","Lazdutha","Lazgara","Lazgarn","Lazghal","Lazrak","Legdul","Lhazbura","Lig","Logdotha","Loghash","Loglorag","Logob","Logrob","Logru","Lokra","Lorak","Lorga","Lorku","Lorogdu","Luga","Lugharz","Luglorash","Lugrugha","Lugurzog","Lulgra","Lumbuk","Lumob","Lurgush","Lurkul","Lurn","Luruzesh","Lurz","Lushak","Luzgan","Mabgikha","Mabgrolabesh","Mabgrorga","Mabgrubaga","Mabgruhl","Magar","Magrish","Magul","Magula","Malog","Mar","Maraka","Marob","Marutha","Mashnar","Maugruhl","Mazgar","Mazgroth","Mazoga","Mazoish","Mazrah","Mazramph","Mazrzug","Mazsha","Mazuka","Megruk","Mogabog","Mogak","Mogduk","Mogdurz","Mogdzug","Moghakh","Moglurkgul","Mogob","Mograg","Mogul","Mogzug","Mordra","Morga","Morgrump","Morn","Mornamph","Morndag","Morndolag","Mornga","Morngar","Morntharz","Mornzob","Morushna","Morza","Mozgosh","Mugaga","Mughol","Mugumurn","Muguur","Muk","Mula","Mulakh","Mulgabesh","Multa","Mulzah","Mulzara","Muraz","Murbnakh","Murboga","Murbraz","Murbul","Murgak","Murgol","Murmalah","Murob","Murotha","Murug","Murz","Murzgut","Murzum","Murzush","Muzgob","Muzgol","Muzgraga","Muzgub","Muzgur","Nagorm","Nargol","Naroga","Narzbash","Narzdush","Naybek","Nazdura","Nazhag","Nazhataga","Nazubesh","Noguza","Nulra","Nunchak","Nuza","Ogar","Ogdub","Ogdum","Oghash","Ogzaz","Olor","Olurba","Oorga","Oorza","Oorzuka","Oraftharz","Oragha","Orbugol","Orbuh","Orbuhl","Orbuma","Orcolag","Ordatha","Orgotha","Orkul","Orkulg","Orlozag","Orlugash","Orluguk","Orthuna","Orutha","Orzbara","Orzdara","Orzorga","Oshgana","Othbekha","Othgozag","Othikha","Othrika","Ozrog","Pruzag","Pruzga","Ragarol","Ragash","Ragbarlag","Ragpha","Ragushna","Rakhaz","Rakuga","Ranarsh","Razasha","Razbela","Rimph","Rogag","Rogba","Rogbual","Rogbut","Rogmesh","Rogoga","Rogzesh","Roku","Rolbutha","Rolfikha","Rolfish","Rolfzal","Rolfzug","Rolga","Rugdush","Rugob","Rulbagab","Rulbza","Ruldor","Rulfala","Rulfgdub","Rulfub","Rulfuna","Rulfzub","Rulgum","Rulnakh","Rulurz","Rush","Rushub","Sgala","Sgrugbesh","Sgrugha","Sgrula","Shabaga","Shabeg","Shabeshga","Shabgrut","Shabon","Shadbak","Shadborgob","Shadbuk","Shadzug","Shagareg","Shagdub","Shagduka","Shagdulg","Shagk","Shagora","Shagrak","Shagramph","Shagrum","Shagrush","Shagugbeka","Shagura","Shak","Shakul","Shal","Shaldagan","Shalug","Sham","Shamub","Shamuk","Shamush","Shara","Sharak","Sharamph","Sharbag","Sharbzur","Sharduka","Shardurz","Shardush","Shardzozag","Sharga","Shargalash","Shargduguk","Shargra","Sharn","Sharob","Sharog","Sharolg","Sharuk","Sharushnam","Shat","Shatub","Shatur","Shaza","Shazgob","Shazog","Shebakh","Shel","Shelboth","Shelmalah","Sheluka","Shelur","Shera","Shgrag","Sholg","Shubesha","Shufdal","Shufgrut","Shufthakul","Shuftharz","Shug","Shuga","Shugarz","Shugham","Shugzur","Shula","Shulor","Shumba","Shura","Shurkul","Shuzgub","Shuzrag","Skandar","Sloesh","Sloobdakha","Sloogolga","Slout","Sluz","Snabgrara","Snabugha","Snagara","Snagarz","Snagdu","Snaghusha","Snarataga","Snarga","Snargara","Snaruga","Snarzikha","Sneehash","Snilga","Snoogh","Snushbesh","Solgra","Stilga","Stroda","Stuga","Stughrush","Tamozag","Theg","Thegbesh","Thegshakul","Thegshalash","Theshaga","Theshgoth","Thishnaku","Thoga","Thogra","Thrugrak","Thugnekh","Thulga","Thushleg","Trailslag","Tugha","Ubzigub","Udai","Ufalga","Ufgabesh","Ufgalash","Ufgaz","Ufgel","Ufgra","Ufthamph","Uftharz","Uftheg","Ugak","Ugakkh","Ugarnesh","Ugaurash","Ugdub","Ugduk","Uglaim","Ugor","Ugozush","Ugrash","Ugruma","Ugrush","Ular","Uldushna","Ulfgalash","Ulfimph","Ulg","Ulgush","Ulliceta","Ulorz","Ulotlur","Ulsha","Ulu","Ulubesh","Uluga","Ulukhaz","Ulumpha","Ulumt","Umbaka","Umbugbek","Umgubesh","Umog","Umogog","Umutha","Umzolabesh","Undorga","Undush","Undusha","Unsulag","Uratag","Urbalash","Urbutha","Urbzag","Urdboga","Urgak","Urgarlag","Urgash","Urog","Uroga","Uroggdub","Urogoga","Urshra","Uruka","Urzoga","Urzoth","Urzula","Usha","Ushaga","Ushar","Ushat","Ushenat","Ushruka","Ushug","Ushul","Ushuta","Uthik","Uzgash","Uzgurn","Uzka","Uzug","Uzuk","Volrog","Voltha","Voltur","Vosh","Vumnish","Vush","Vusha","Yag","Yagarz","Yagrigbesh","Yak","Yakhu","Yargul","Yarlak","Yarug","Yarulorz","Yarzol","Yashurah","Yatanakh","Yatul","Yatular","Yatzog","Yazara","Yazdbak","Yazgash","Yazgruga","Yazoga","Yotul","Zaag","Zagla","Zagula","Zazsha","Zelguma","Zubesha","Zugh","Zuugarz","Zuuthag","Zuuthusha"],setup.NAME_orc_male_first_name=["Abghat","Abzag","Abzrolg","Abzug","Adgulg","Agganor","Aghurz","Agnar","Agrakh","Agrob","Agrobal","Agronak","Agstarg","Aguk","Aguz","Ahzug","Alog","Apaugh","Arghragdush","Arghur","Ashzu","Atulg","Aturgh","Avreg","Azarg","Azgarub","Azimbul","Azogu","Azrath","Azuk","Azukb","Azukborz","Azulg","Badbog","Bagamul","Bakh","Balagog","Balarash","Balarkh","Balknakh","Balmeg","Balorgh","Baloth","Balrook","Balzag","Bargo","Bargrug","Barokub","Baronk","Baroulakh","Bash","Bashag","Bashagorn","Bashnag","Bashrz","Bashuk","Bat","Batgrul","Bazgulakh","Bazgulub","Bazrag","Bazulub","Bazur","Begnar","Begozug","Bekhwug","Bhagrun","Biknuk","Bilge","Bisquelas","Blodrat","Boagog","Bogakh","Bogdub","Boggeryk","Bogham","Bognash","Bogodug","Bogrin","Bogrum","Bogrzub","Bogzul","Boldarkh","Bolg","Bolgrul","Bologra","Borab","Boragrul","Borbuz","Borgath","Borgh","Borkul","Bormolg","Borolg","Borth","Borug","Boruok","Borz","Borzighu","Borzugh","Borzum","Both","Bothamul","Botnarz","Braadoth","Brag","Braghul","Bragulakh","Broamph","Broburz","Brog","Brogdul","Brokil","Brokrkub","Brugagikh","Brugbagorn","Brugdush","Brughamug","Brugo","Brugumol","Brulak","Bugak","Bugbumol","Bugdul","Bugdurash","Bugharz","Bugnerg","Bugrash","Bugrol","Bugrragdush","Bugunh","Bula","Bulak","Bulfim","Bulg","Bullig","Bulozog","Bulugbek","Bulzog","Bum","Bumbub","Bumnog","Buomaugh","Buragrub","Buramog","Buranar","Burguk","Burub","Burul","Burush","Buruub","Burz","Burzgrag","Burzob","Burzunguk","Burzura","Buzog","Carzog","Charlvain","Clog","Cognor","Crothu","Dagnub","Dalthu","Dergu","Dorzogg","Dragom","Dromash","Drudun","Dubagorn","Dubok","Dugakh","Dugan","Dugroth","Dugtosh","Dugug","Dugugikh","Dul","Dular","Dulfish","Dulph","Dulphago","Dulphumph","Dulrat","Duluk","Duma","Dumag","Dumbuk","Dumburz","Dumolg","Dur","Dura","Durak","Durang","Duraug","Durbrag","Durbul","Durgash","Durgat","Durgob","Durz","Durzol","Durzub","Durzum","Dushgor","Dushkul","Dushnamub","Dushugg","Ekganit","Fangoz","Farbalg","Fheg","Fogugh","Frug","Gadba","Gadbar","Gag","Gahar","Gahgdar","Gahznar","Gard","Gargak","Garikh","Garmeg","Garnag","Garnikh","Garothmuk","Garzonk","Gashdug","Gasheg","Gashna","Gashnakh","Gat","Gaturn","Gezdak","Gezorz","Ghagrub","Ghak","Ghaknag","Ghakorz","Ghamborz","Ghamonk","Ghamorz","Ghamrlorz","Ghamron","Ghamulakh","Ghamulg","Ghash","Ghashur","Ghatrugh","Ghaturn","Ghaz","Ghazat","Ghob","Ghobargh","Ghogurz","Ghola","Ghoragdush","Ghorbash","Ghorlorz","Ghorn","Ghornag","Ghornugag","Ghorub","Ghrategg","Ghromrash","Ghrubugbash","Ghrum","Ghunmar","Ghunzul","Ginug","Gladba","Glag","Glagbor","Glamalg","Glarg","Glasha","Glaz","Glazgor","Glazulg","Glegokh","Glob","Gloorag","Gloorot","Glorgzorgo","Gloth","Glothozug","Glothun","Glud","Gluh","Glundeg","Glunrum","Glunurgakh","Glurdag","Glurnt","Gluronk","Glush","Glushonkh","Glusmbu","Gluthob","Gluthush","Gnadug","Gobur","Goburbak","Godrun","Gogaz","Gogbag","Gogrikh","Gogron","Goh","Gohazgu","Gohorg","Golbag","Golg","Gonk","Goorgul","Goragol","Gorak","Goramalg","Gorbakh","Gorblad","Gorbu","Gordag","Gorgath","Gorgo","Gorgrolg","Gorlar","Gorotho","Gorrath","Goruz","Gorzesh","Gothag","Gothurg","Gozarth","Graalug","Graguz","Graklak","Gralturg","Graman","Grashbag","Grashegg","Grashub","Grat","Gratgnak","Graus","Gravik","Grazhwu","Grazob","Grezgor","Grishduf","Grodagur","Grodoguz","Grog","Grogmar","Grogsh","Grogumph","Gromazgu","Grommok","Gronov","Grookh","Grubdosh","Grudogub","Grufish","Grugnur","Gruish","Grul","Grulbash","Gruldum","Gruloq","Gruluk","Grulzul","Grumth","Grung","Grunyun","Grushbub","Grushnag","Grusur","Gruudus","Gruzdash","Gruzgob","Gruznak","Gruzul","Guabagorn","Guarfish","Guarg","Gudrig","Gul","Gulargh","Gularzob","Gulaub","Gulburz","Gulfim","Gulug","Gulzog","Gunaakt","Gunag","Gunagud","Gunda","Gunran","Gurag","Gurak","Gurazum","Gurg","Gurgozod","Gurlak","Guruzug","Gushagub","Gushorg","Guzg","Gwilherm","Hagard","Hanz","Hazbur","Hebub","Hibub","Horak","Hothmuk","Hugmug","Igmut","Ilthag","Inazzur","Joun","Jregh","Kadrun","Kargnuth","Kazok","Kelrog","Kentosh","Kerghug","Khadba","Khadhulakh","Khagra","Khaguk","Khahel","Khal","Khamagash","Khaong","Kharag","Khargol","Kharsh","Kharsthun","Khartag","Kharzug","Khoruzoth","Khralek","Kilug","Kirgut","Klang","Klovag","Kofflakh","Koffutto","Kofnamub","Kogaz","Kradauk","Krodak","Krog","Krognak","Krogrash","Kulth","Kurd","Kurdan","Kurdburz","Kurlash","Kurog","Kurush","Kurz","Lagakh","Lagarg","Lagrog","Lahkgarg","Lakhalg","Lakhdosh","Lambug","Larak","Larek","Largakh","Largob","Largug","Larhoth","Larob","Lashbag","Latumph","Laurig","Lazgar","Lazgel","Lob","Logbur","Loghorz","Logogru","Logrun","Lorbash","Lorbumol","Lorzub","Lorzush","Lothdush","Lothgud","Lozotusk","Lozruth","Lug","Lugbagg","Lugbur","Lugdakh","Lugdkil","Lugdugul","Lugdum","Lugnikh","Lugolg","Lugrots","Lugrub","Lugrun","Lugulg","Lugzod","Lum","Lumdk","Lumdum","Lumgol","Lumsh","Lungruk","Lurash","Lurbamog","Lurbozog","Lurbuk","Lurdumph","Lurg","Lurgonash","Lurodum","Lurog","Luronk","Lurush","Luzmash","Maaga","Mabub","Mag","Magagdush","Magra","Magrol","Magub","Magunh","Maguumbu","Mahk","Mahkdul","Mahkmba","Mahlak","Makhel","Makhoguz","Makhug","Maknok","Makor","Malkg","Malkus","Malz","Marzul","Mash","Mashgob","Mashkul","Masthmuk","Maszum","Matuk","Maugash","Mauhin","Mauhoth","Mauhul","Mauhulakh","Mazabakh","Mazgro","Mazogug","Mazomonk","Mazorn","Megorz","Mekag","Modig","Mog","Mogak","Mogazgur","Mogrha","Mogrub","Mokhrul","Mokhul","Mol","Molor","Monru","Morbash","Morbrogug","Mordrog","Mordugul","Mordularg","Morgaz","Morgbrath","Morlak","Morn","Morothmash","Morotub","Mort","Moth","Mothozog","Muduk","Mudush","Mug","Mugarod","Mugdfutto","Mugdul","Muglugd","Mugrub","Muhaimin","Muk","Mul","Mulatub","Mulfutto","Mulgargh","Mulgu","Muluin","Mulunok","Mulur","Mulush","Mulzalt","Murag","Murdodosh","Murgob","Murgonak","Murgoz","Murgrud","Murkh","Murkub","Murlog","Murmash","Murob","Murukh","Murzog","Murzol","Murzrag","Murzush","Muzb","Muzbar","Muzdrulz","Muzgalg","Muzgash","Muzgonk","Muzgrbash","Muzgu","Muzogu","Muzorz","Nag","Nagoth","Nagrmborz","Nagrub","Nagrul","Nagrutto","Nahzgra","Nahzush","Nakgu","Nakhul","Namoroth","Nar","Narazz","Nargbagorn","Nargi","Nargol","Narhag","Narhbub","Narkhagikh","Narkhozikh","Narkhukulg","Narkularz","Nash","Nashruth","Nenesh","Norgol","Nugok","Nugwugg","Nunkuk","Nurbag","Oagungad","Obdeg","Obgol","Obgurob","Obrash","Ofglog","Oggugat","Oglha","Ogluamul","Oglub","Oglum","Ogmash","Ogog","Ogol","Ogorosh","Ogozod","Ogruhulakh","Ogruk","Ogrul","Ogrumbu","Ogularz","Ogumalg","Ogzor","Okrat","Olaugh","Olfibob","Olfim","Olfin","Olfrig","Olgol","Olmthu","Olpac","Olpamorz","Olpel","Olug","Olugush","Olumba","Olur","Olurgash","Onog","Ontogu","Oodeg","Oodegu","Oogron","Oogugbu","Oorg","Oorgurn","Oorlug","Opilge","Orakh","Orbul","Ordooth","Orgak","Orgdragog","Orgdugrash","Orgotash","Orgush","Orntosh","Orok","Orokat","Orokbul","Orokmba","Orzbara","Orzuk","Osgrikh","Osgulug","Othbug","Othigu","Othmash","Othmus","Othogor","Othohoth","Otholug","Othukul","Othulg","Othzog","Owkbanok","Ozor","Peghed","Pergol","Podagog","Pretkag","Putor","Quugug","Rablarz","Ragash","Ragbul","Ragbur","Ragnast","Ramash","Ramazbur","Ramolg","Ramorgol","Ramosh","Razgor","Razgugul","Razgurug","Rhosh","Rogar","Rogbagorn","Rogbum","Rogdu","Rogdul","Rognar","Rogrug","Rogthun","Rogurog","Roguzog","Rokaug","Rokut","Rolfish","Roog","Rooghub","Rooglag","Rorburz","Rozag","Rugdrulz","Rugdshnag","Rugdugbash","Rugdumph","Rugmeg","Rugrbash","Rulfim","Ruzgrol","Sabub","Sgagul","Sgolag","Shab","Shadbak","Shagar","Shagdub","Shagol","Shagrod","Shagrol","Shakh","Shakhighu","Shaklakh","Shamagug","Shamar","Shamlakh","Shamob","Shamrkub","Shargam","Shargarkh","Shargunh","Sharkagub","Sharkub","Sharkuzog","Sharmonk","Sharn","Sharnag","Sharog","Shat","Shazgob","Shegog","Shelakh","Shelel","Shelhakh","Shelnk","Shelur","Shobob","Shobrkul","Shogarz","Shogorn","Shugral","Shukul","Shulong","Shulthog","Shum","Shumborz","Shumra","Shura","Shurkol","Shurkul","Shuzug","Skagurn","Skagwar","Skalgunh","Skalguth","Skarath","Skordo","Skulzak","Slagwug","Slapdud","Slaugh","Slayag","Slegbash","Sloomalah","Smagbogoth","Smauk","Snabazkur","Snagbash","Snagdurl","Snagg","Snagh","Snaglak","Snagmash","Snakh","Snakha","Snakzum","Snakzut","Snalikh","Snarbugag","Snargorg","Snat","Snazumph","Sneg","Snegbug","Snegburgak","Snegh","Sneghar","Snikhbat","Snoog","Snoorg","Snugar","Snugok","Snukh","Snushbat","Sogh","Sorgulg","Spagel","Spathu","Storgh","Stugbrulz","Stugbulukh","Supgugh","Szugburg","Szugogroth","Targak","Targoth","Tazgol","Tazgul","Thagam","Thagbruth","Thagbush","Thakaz","Thakh","Thakush","Tharag","Tharkul","Thaz","Thazeg","Thaznog","Thegur","Thereg","Tholog","Thoogh","Thorkh","Thorzh","Thorzhul","Thrag","Thragdosh","Thragosh","Threg","Thrug","Thrugb","Thrunikh","Thukbug","Thungdosh","Todrak","Togbrig","Tograz","Torg","Torug","Tugam","Tugawuz","Tumuthag","Tungthu","Ufthag","Ugdumph","Ugdush","Uggnath","Ughagnak","Ughagog","Ughash","Ugorz","Ugruntuk","Uguntig","Ugurz","Ulag","Ulagak","Ulagash","Ulaghumph","Ulagug","Ulagzonk","Ulam","Ulang","Ulgdagorn","Ulghesh","Ulmamug","Ulmat","Ulmug","Ulmumonk","Ulmuong","Uloth","Ulozikh","Ulumpha","Umug","Umugok","Umurn","Umuzub","Undrigug","Undugar","Ungruk","Unrahg","Unthrikh","Urag","Uragor","Urak","Uram","Urar","Urbul","Urburum","Urdbug","Urgan","Urgdosh","Urim","Urmuk","Urok","Urul","Urulkil","Urzlak","Urzog","Urzoth","Urzoulub","Urzul","Ushamph","Ushang","Ushat","Ushbumol","Ushnac","Ushnar","Ushnong","Ushnurz","Ushug","Usn","Usnagikh","Uugus","Uulgarg","Uuth","Uzgakh","Uzgash","Uzgba","Uznom","Uzul","Vabugbu","Vargos","Vorgarag","Vruhag","Vugub","Vulmon","Vundrum","Waghuth","Wanug","Wardush","Welub","Woghuglat","Wort","Wuzgu","Xonoth","Xoruk","Xothkug","Xuag","Xug","Yadba","Yador","Yagak","Yagarg","Yagorkh","Yagramak","Yak","Yakegg","Yalakgh","Yam","Yamarz","Yambagorn","Yambul","Yamorz","Yamukuz","Yar","Yargag","Yargob","Yargol","Yargron","Yargzum","Yarnabakh","Yarnag","Yarulg","Yashnarz","Yasog","Yat","Yatan","Yatborz","Yatg","Yatog","Yatunamub","Yatur","Yazgash","Yerug","Yggnast","Yggoz","Yggruk","Yggurz","Yolmar","Yozth","Yzzgol","Zagh","Zaghurbak","Zagrakh","Zagrugh","Zahgigoth","Zarfu","Zarod","Zbulg","Zegol","Zgog","Zhagush","Zhasim","Zhosh","Zilbash","Zilge","Zlughig","Zogbag","Zorgulg","Zugnor","Zugorim","Zulbash","Zulbek","Zulgozu","Zulgroth","Zulgukh","Zulohoth","Zungarg","Zunlog","Zurpigig"],setup.NAME_orc_surname=["Agadrzuf","Agagdulg","Agdur","Aglharzol","Aglhel","Agluk","Agugur","Arzug","Atugdu","Atulor","Atumlg","Atumsharzol","Atuwog","Azolor","Azorrish","Badak","Badbul","Bagat","Bagdgdulg","Bagdlor","Baghakh","Bagol","Bagrgul","Bagrol","Bagrsh","Baguub","Bar","Barad","Baraek","Barbol","Bargash","Bargzuf","Barkbite","Barlob","Barogham","Barorba","Basgakh","Bashar","Bashnarz","Basilslag","Basrn","Batrak","Baturba","Bazgar","Bazul","Bekh","Birgo","Bogath","Boggrak","Boghush","Boglgurz","Boglhnikh","Bogrbak","Bogrnag","Bogrug","Bogugk","Bogugol","Bol","Bolbak","Bolmrolg","Bonob","Bor","Borgakh","Borgham","Borgub","Born","Broan","Brokdum","Broog","Brou","Bug","Buggdub","Buglth","Buglul","Bugmakh","Bugpok","Bugurz","Bulfimorn","Bumla","Bumolg","Bumpshnar","Bumptur","Bumrolg","Bur","Bural","Buraum","Burbba","Burbborgob","Burbrag","Burbrkub","Burbrzog","Burbulg","Burgal","Burgk","Burgul","Buriak","Burku","Burorz","Burz","Buzbee","Buzrat","Dasik","Draarn","Draharzol","Drol","Drom","Drublog","Dughol","Dugk","Dugl","Dugronk","Duguh","Dulamgog","Dullump","Duluk","Dumba","Dumulg","Dunk","Durbug","Durgamph","Durgoth","Durgzol","Dush","Dushgub","Dushnar","Dushnikh","Fakal","Gamoam","Gamoug","Gamshnar","Garbug","Gargham","Garzag","Gashbak","Gashur","Gasrak","Gatuk","Ghammak","Gharfish","Ghash","Ghodu","Ghol","Gholarn","Ghralog","Glogob","Gloum","Gluhnag","Glukub","Glurgarz","Glurkh","Gluul","Goldfolly","Goldog","Gonth","Gortilslag","Gorum","Gorzoth","Graaum","Gramgamph","Gramim","Grazor","Grumush","Grush","Grutur","Gular","Gulash","Guldar","Gulfbak","Gulfgakh","Gum","Gurash","Gurba","Gurudu","Gururgakh","Gururzuf","Gurwog","Guthra","Hubor","Hubrim","Izburg","Kasek","Kashhel","Kasmakh","Kasmgog","Khagat","Khagth","Khaimph","Khalob","Khamagash","Khambol","Khamug","Khara","Kharat","Khargak","Khargub","Khasz","Khatak","Khatmakh","Khazbul","Khazgur","Khazhnar","Khazhug","Khazob","Khazun","Kogg","Korith","Korlag","Korma","Kreeg","Kruts","Kush","Ladba","Lagdra","Laglob","Largbek","Larishak","Lazrzog","Logdum","Loghgarn","Logkh","Logook","Logozor","Logrgul","Logrog","Lorga","Lort","Lumbash","Lumbgdum","Lumbl","Lumborn","Lumdborgob","Lumoim","Lumuf","Lurkk","Luruk","Luzgbek","Luzgub","Luzph","Madba","Magaash","Magagramph","Magagum","Magrg","Magrlob","Mak","Makla","Mal","Malak","Malgdum","Malobug","Malorz","Maraku","Marguz","Marh","Maroar","Maroilslag","Mashma","Mashul","Masrag","Mogan","Mogdgramph","Mogdmbak","Moghku","Morad","Morbak","Morgarz","Morggurz","Morghamph","Morkul","Mughrump","Mukug","Mulur","Murgob","Murkha","Murtag","Murug","Murunar","Murur","Muzgdbuk","Muzgh","Muzgob","Muzurn","Namor","Nar","Narzul","Nayba","Naybar","Naydborgob","Nogremor","Nolorg","Ogarfish","Ogdmakh","Ogduborgob","Ogdula","Oglurn","Olorzgub","Olub","Oluk","Olurob","Orbuduk","Orgak","Orguk","Orkgramph","Orkumba","Orkuurn","Othmog","Othmurga","Ram","Rimat","Rimharz","Rimprz","Rug","Rugdrish","Rugga","Rugoarn","Ruguk","Rushgamph","Rusmbak","Ruumsh","Sgrugdul","Shadra","Shagob","Shagrak","Shagronk","Shar","Shara","Sharzol","Shatub","Shatul","Shatur","Shaza","Shazgul","Shegub","Shelakh","Sheluk","Shub","Shubbog","Shubnag","Shubrgakh","Shugduk","Shugdurbam","Shugharz","Shuhgharz","Shulat","Shulharzol","Shuluk","Shulz","Shurgak","Shurkul","Skangur","Snagkub","Stugbaz","Stugh","Thormok","Traamph","Trairbag","Trakub","Trazuf","Uftbag","Ufthdum","Ufthk","Ugdmgog","Ugdor","Ugduku","Ugrump","Ugrush","Ulab","Ulargk","Ulat","Ulfiduk","Urgaharz","Urish","Urku","Urkub","Urula","Usharku","Ushuamakh","Uzganar","Uzgfim","Uzgh","Uzgku","Uzgrat","Uzguk","Uzgurol","Uzug","Uzughol","Uzulob","Vortag","Wroggin","Yagbu","Yaglob","Yargrga","Yarkh","Yarurga","Yarzak","Yarzfish","Yarzol","Yarzu","Yashna","Yggrub"],setup.NAME_werewolf_female_first_name=["Abelone","Adana","Adelhild","Adelil","Adisla","Adla","Aegilief","Aela","Aelakja","Aelm","Aera","Aerana","Aeri","Aeridi","Aeta","Afnhi","Agata","Agila","Agka","Agna","Agnedir","Agnete","Agni","Agnis","Airia","Alana","Aldi","Alea","Aleeka","Alfa","Alfhild","Alga","Algunda","Alhana","Alma","Alva","Alvide","Amandtea","Amifar","Amihild","Amitra","Amwyn","Anaka","Angetha","Angi","Anise","Anja","Anjolda","Anneke","Annekke","Anrunn","Anska","Araki","Arani","Areca","Argi","Ari","Arnhilda","Arva","Asfredda","Asga","Asgi","Asta","Astrid","Atli","Atodir","Attiri","Attiring","Attring","Aubykka","Auda","Aumfi","Aumsi","Autrae","Avwenn","Awyn","Axkiral","Axulfa","Balwyn","Barri","Beitild","Bekfrydde","Bekka","Bekwine","Belfrost","Belofa","Bemfola","Beovar","Bera","Berala","Bergitte","Bergljot","Bergritte","Beridi","Beritta","Berra","Betedir","Betrid","Birgitha","Birna","Bjartur","Bjertha","Bodil","Bolfrida","Bolfrosti","Bona","Bonafryd","Bonmund","Bonohild","Bonorvir","Bontilf","Bonwyn","Borahild","Borasa","Boti","Braning","Branir","Brannis","Brasteir","Brea","Brecir","Breda","Bree","Bresa","Brey","Breya","Brima","Brimfja","Brina","Bringuna","Britte","Brittgerd","Brunka","Bryfar","Brygelva","Bryling","Bryring","Bujold","Burbet","Caretaker","Cathja","Chalda","Chalwyn","Dagbara","Dagny","Dagrunn","Dalitra","Daljari","Dalmidi","Daneem","Danica","Danrine","Deldwine","Delia","Deowyn","Didrika","Dorthe","Drifa","Drod","Drodda","Drosine","Droslynne","Drowyn","Edith","Edla","Eepa","Eerika","Eigma","Eila","Eilenda","Eiraki","Eirfa","Eirid","Eirma","Eiruki","Eirul","Eisa","Eitaki","Ekkhi","Elda","Elfbetta","Elfriede","Eling","Elisgunne","Elisif","Ellisif","Elpa","Else","Elsmira","Emfrid","Engling","Enlaf","Eoeilif","Eofel","Eoman","Eoram","Eorim","Erdi","Erekka","Eris","Erna","Euda","Evette","Evigna","Eydis","Eydreigga","Eydvi","Eyja","Faida","Fairynn","Faivera","Falaki","Faldar","Falethea","Falkyn","Falwyn","Fanari","Farvild","Fastred","Faylva","Feiri","Finna","Fjola","Fjora","Fjorda","Fjori","Fjoria","Fjorna","Fjorolfa","Fjotli","Fjotra","Fjurdora","Fortuna","Frabbi","Fralia","Franja","Frea","Freca","Fredo","Frehilde","Freida","Freigritte","Freir","Freki","Frena","Frera","Frerbild","Fresgil","Fresmara","Freydis","Frida","Fridda","Fridleif","Fridrethe","Fridrika","Friga","Frilgeth","Frina","Frirhild","Frirvid","Froda","Frohilde","Fruki","Frunda","Fruvar","Fryfnhild","Frynga","Fryssa","Fugrete","Fura","Fyrulde","Gabbi","Gabbidi","Gamdir","Gamlunda","Garfrost","Garri","Garrimar","Garvilda","Geidir","Geinarre","Geirilda","Geirvarda","Gekunn","Gerda","Gerdur","Gertrun","Gisli","Gjaki","Gjarma","Gjarmi","Gjarmiddi","Gormlaith","Greidil","Grelka","Grelod","Grerid","Greta","Grete","Gretga","Grethaa","Grethveta","Gretsine","Gretta","Greyf","Grida","Grigerda","Grosta","Grundi","Grunhere","Grunilda","Grunirra","Gukirmar","Guldir","Gulfa","Gulfreida","Gullveig","Gulvera","Gunneke","Gunnijira","Gunthafur","Guridda","Gurilda","Guring","Gwendolyn","Gyda","Hadarre","Haelga","Haema","Hafjorg","Haki","Hakida","Hakra","Halbora","Haldwyn","Hali","Halmaera","Haltafi","Halva","Hama","Hamal","Hanana","Hanmaer","Hannir","Hannura","Haran","Hauti","Heddvild","Hedstild","Hefid","Heggidi","Heggvir","Hel","Hela","Helfhild","Helga","Helgana","Helgi","Helgird","Helgith","Helgreir","Helrytta","Helunda","Hengeki","Herdora","Hergarda","Herkja","Hermir","Hert","Hestla","Hidar","Hil","Hilde","Hildegard","Hildessa","Hilka","Hillevi","Hilund","Hilvira","Himarit","Himela","Hjaga","Hjagir","Hjagmoda","Hjalari","Hjalif","Hjara","Hjaralda","Hjarda","Hjarfi","Hjargredda","Hjelda","Hjolbel","Hjolfrodi","Hjolvara","Hjordis","Hjorga","Hjotild","Hjotra","Hlakana","Hloelott","Hloenor","Hlotild","Hoddreid","Hodyette","Hola","Holdilf","Holmgeira","Holsin","Horski","Hostia","Hraerfja","Hranasgi","Hranir","Hranura","Hrarlief","Hrasvard","Hrefgerda","Hrefna","Hreifryd","Hreirek","Hridi","Hroa","Hroi","Hroki","Hrolda","Hrordis","Hrorleid","Hrosaa","Hrosta","Hrotreid","Huki","Hulda","Huolde","Hyfta","Hyring","Hyunda","Iddra","Idela","Idesa","Idirfa","Idona","Idvir","Ig","Igeke","Igna","Ilfhild","Illdi","Imsin","Imwyn","Inga","Inge","Ingjard","Ingokning","Ingrid","Ingritha","Ingun","Innanir","Innbild","Innsold","Iona","Irgeikka","Irghild","Irgkya","Irgnir","Irna","Iroda","Isgeror","Isrudde","Itnette","Ittir","Ittirma","Jaddveig","Jadfari","Jadvar","Jaema","Jafelma","Jafola","Jafrera","Jafrost","Jaga","Jakieikka","Jakild","Jakirfa","Jala","Jalarma","Jalrana","Janekke","Jardirr","Jareen","Jareki","Jaritra","Jarredda","Jensine","Jindra","Jodis","Jofgreida","Jofrior","Jolding","Jolinne","Jolridda","Jora","Joraamun","Jordis","Juda","Julni","Jyrwinn","Kaarn","Kar","Kara","Karalgar","Kari","Karnellas","Katilda","Katisha","Katla","Katria","Katti","Kelgerde","Kerig","Khala","Kili","Kirsten","Kjo","Kjolver","Knarri","Knumar","Knutrida","Kolfinna","Kora","Koralla","Korra","Koruni","Krastir","Kyrwyn","Lafara","Lafka","Laila","Lami","Larsa","Larula","Leid","Leiddrod","Leidela","Leidmir","Leifnar","Leifunda","Leimaer","Leofa","Liesl","Liezl","Lilija","Liljard","Lillith","Linlia","Linnea","Lis","Lisaa","Lisbet","Lisylde","Lorela","Loria","Lornor","Lothafi","Lydia","Lyn","Lynly","Lyris","Lyrvekka","Mabbritte","Mabjaarn","Macalla","Macke","Madythe","Maela","Maeri","Maesa","Maeva","Maigarda","Malana","Malene","Malfa","Malma","Mareki","Maren","Marga","Margarte","Margot","Margret","Marla","Martha","Matlara","Maveld","Maven","Maylde","Medild","Medveig","Megvarda","Meldagar","Melora","Mera","Merete","Merfa","Merfnovira","Merta","Mette","Minette","Mistja","Mjoll","Molana","Molla","Molura","Mornhilde","Morwen","Nadya","Naer","Narana","Narri","Narvilda","Nelfhild","Nelhilda","Nelmryn","Nettanir","Nette","Nettira","Nikaolde","Nikolvara","Nille","Nilsine","Njada","Norra","Nura","Nurnhilde","Obetta","Oda","Odana","Oddny","Odela","Odlynd","Odvar","Odvild","Ogra","Okkhild","Okula","Olava","Olda","Olfeigr","Olfina","Olfjarda","Olwenna","Ondi","Ophalia","Ophanta","Oranir","Oriella","Orla","Ormi","Orolo","Osanne","Othora","Othvild","Otried","Ottaesa","Pacta","Petrine","Raeirfa","Raena","Raerana","Raevild","Ragna","Ragria","Rakel","Raki","Rakiel","Rangela","Rannveig","Reja","Rennbjara","Rennilde","Renrytte","Resrytte","Restla","Reyda","Rigel","Rigmor","Rikke","Ringvild","Risi","Robjorn","Rogrydda","Roki","Rolara","Rona","Rosirma","Rosrytta","Rostlogi","Roxwinne","Rudagalfa","Rudgreid","Ruki","Runa","Runaki","Runehild","Sapphire","Sas","Sasbekke","Seirida","Selma","Serana","Shana","Shannia","Shawna","Signy","Sigrid","Sigva","Silda","Siri","Siriaki","Sirimunda","Sirkidur","Sisrytta","Sissel","Sivgrete","Sivguna","Sjarla","Skaldara","Skjor","Skjorta","Slatild","Slonanir","Slonn","Snaeke","Sofie","Soki","Solding","Songar","Songdis","Sonir","Sonje","Sonya","Soralfa","Sorga","Sorli","Sottilde","Steirid","Stodlod","Stodrir","Suretta","Susanna","Suwenna","Svana","Svanhildr","Svargret","Svari","Svaritra","Svarjarda","Svarlyn","Svenja","Svilda","Swangar","Swanhvir","Sylgja","Tekla","Tela","Temba","Temgrid","Thaena","Thalda","Thalestris","Thalwyn","Thastla","Thelfreca","Theofa","Thogana","Thoggrytte","Thondir","Thonja","Thonki","Thonlynn","Thoreki","Thorfa","Thorka","Thorkar","Thorwyn","Threki","Thronoda","Thunmund","Thvidi","Tidave","Tidbrosti","Tidvir","Tilde","Tillaki","Tillrani","Tilma","Tilwen","Tiredir","Tirlarnar","Tirora","Todimar","Toldi","Tolfalki","Tolfari","Tolgredda","Tolli","Tormir","Toryl","Tova","Tridi","Trihild","Triirma","Triwenna","Troki","Troulda","Trynhild","Tyrnea","Ulfrun","Ulfsild","Ulrika","Una","Ursine","Uthgerd","Vaereid","Val","Valdia","Valerica","Valgritta","Valinka","Vaoldelf","Vareda","Varhilda","Vari","Veranir","Vibeke","Vidda","Vigdis","Virgar","Viri","Virmar","Virngring","Viveka","Voddreid","Vori","Vothing","Vunhilde","Watha","Ygfa","Yiri","Yllolda","Yorda","Yrkvild","Yrna","Yrning","Yrsa","Yrssteir","Ysolda","Yurta","Zaan"],setup.NAME_werewolf_male_first_name=["Abbard","Adalmor","Adalvald","Addald","Adding","Addold","Addrald","Addvar","Addvild","Adelsar","Adjold","Admaer","Adord","Adpring","Adrimk","Adsilding","Advir","Aelf","Aelfhidil","Aenar","Aevar","Afneer","Agarmir","Agmaer","Agnar","Agnenor","Agning","Agvar","Akar","Akarn","Aklief","Akovor","Akvid","Aldaug","Aldferth","Alding","Aldis","Aldrig","Alfarinn","Alfarmuth","Alfbrand","Alfhedil","Alforunn","Alfund","Algar","Algot","Alldin","Allding","Allring","Alof","Alofheim","Alofnorr","Alohnorr","Alskar","Alvor","Alvring","Anders","Andrei","Andrelheim","Andrin","Andurs","Andwulf","Angbjar","Angmund","Angrenor","Angrestag","Angvid","Arctus","Areas","Arek","Argis","Arkas","Arkming","Arnbjorn","Arngeir","Arnskar","Aron","Arrald","Arvild","Asbjorn","Asgeir","Ashvorn","Aslfur","Asord","Assur","Asvorn","Atald","Atar","Aud","Audmund","Audrelheim","Aventus","Avulrund","Avulstein","Axdin","Axrek","Badnir","Baissar","Balbus","Baldor","Balfring","Balgruuf","Balimund","Balmir","Banthor","Baradin","Barfel","Baric","Baring","Barirrid","Barj","Baro","Barro","Baslod","Bassianus","Bathmar","Bathorgh","Bato","Batou","Baxard","Baxlof","Baxrold","Bedraflod","Bedrir","Beifja","Beinir","Beirand","Beirir","Belgrod","Belknar","Bellin","Belrand","Belrud","Benjor","Benkum","Benor","Berfar","Berj","Bermund","Bernt","Berrek","Bersi","Bervid","Birkir","Birstagg","Bittneld","Bjadmund","Bjalfi","Bjaron","Bjord","Bjorick","Bjorlam","Bjornen","Bjornolfr","Bjoruld","Bjorynolf","Bofesar","Bolgeir","Bolgen","Bolli","Bolund","Borald","Boren","Borfree","Borgas","Borgny","Borjs","Bormir","Borodin","Borri","Borvir","Botrir","Bottar","Bottdold","Bottild","Boward","Bragur","Brandling","Brandr","Brauti","Braxek","Bredin","Bredrek","Breff","Bren","Brend","Brendar","Brendngul","Briehl","Brill","Briring","Broki","Bron","Brond","Bronorr","Bronrod","Brunelf","Brunl","Brunog","Brunwulf","Brurid","Brus","Bryngrim","Brynjolf","Brynjolfr","Budolen","Bulfrek","Buram","Burd","Burdlam","Burdog","Burj","Burl","Buron","Calder","Carsten","Carth","Christer","Connor","Cord","Cristus","Dagard","Dagimar","Daglin","Dagnir","Dagrund","Dagur","Dagusil","Dalen","Dar","Daric","Darj","Darynn","Dathman","Dedalor","Dengeir","Denskar","Deor","Derek","Deroct","Didywyr","Dogun","Drahff","Dralof","Drathak","Dratholar","Drengr","Drennen","Droi","Drokagir","Drorunn","Dryngheid","Eboric","Eifbrir","Eifid","Eiman","Eimander","Eimar","Einarth","Eislef","Eistaag","Eitar","Eldfyr","Eldjar","Eldrid","Elgrim","Elgryr","Elmus","Elsar","Embry","Emstagg","Engar","Ennbjof","Eorlund","Ergnir","Erich","Erik","Erikar","Erikur","Erlendr","Erling","Erlnorr","Erning","Esbern","Esling","Euthar","Fafmeskr","Fafnir","Fafnyr","Faled","Falfinar","Falk","Falki","Falsorr","Fanar","Farengar","Fargurd","Farisel","Farkas","Farro","Felldir","Fendell","Fenjor","Fenorfar","Fenrig","Fenrir","Fens","Filand","Fildgor","Filnjar","Fjol","Fjorgeir","Fjori","Fjorrod","Fjotreid","Fjrokvar","Forbrand","Forstaag","Frahjan","Fraki","Frald","Frik","Frodnar","Frofnir","Froki","Fronjolf","Frorkand","Frorkmar","Frothar","Fruth","Fuldir","Fultknir","Gaddan","Gadodar","Gadof","Gakar","Gakurek","Galmar","Galthor","Gamirth","Gamwyn","Ganariss","Gandis","Ganeryk","Ganord","Gar","Gardalgar","Garding","Garm","Garmal","Garmar","Garthar","Garuk","Gathotar","Gauldur","Geford","Geilir","Geilund","Geimund","Geirlund","Geirmund","Gekurek","Gellir","Ger","Gerring","Gerrunn","Gesfur","Gestur","Gethmard","Ghain","Girgun","Girunn","Gisl","Gissur","Gjak","Gjakerth","Gjakil","Gjalder","Gjalrunn","Gjalund","Gjogni","Gjorring","Gjoson","Gjudusil","Gjuk","Gloth","Godrod","Gogondar","Gogrek","Gogrolf","Gogvir","Golldir","Gollgarth","Gomriss","Gomund","Gonnar","Gorm","Gort","Gralnach","Graring","Gregor","Grimissar","Grimvar","Griskild","Griss","Grisvar","Grjotgaror","Groken","Gromm","Grundskar","Grundvik","Gud","Gudaric","Gudling","Gudomar","Gugnar","Gugnir","Gukimir","Gunar","Gunder","Gunding","Gundlar","Gungrim","Gunmar","Gunnar","Gunskjar","Gunthing","Guraf","Guram","Guri","Gurund","Guthrum","Haakon","Hadkyr","Hadmal","Hadmar","Hadrik","Hadring","Hadriss","Hadvar","Haening","Haesmar","Hafid","Hafnar","Hafric","Hagrad","Hajvarr","Hak","Hakar","Haknir","Hakon","Hakr","Halbarn","Haldric","Hallvaror","Halnir","Halof","Halskar","Halund","Halvar","Halyen","Hamar","Haming","Hamlof","Hamvir","Hans","Hanse","Harald","Haraldar","Hargar","Harik","Harkon","Harkskar","Harlaug","Harnald","Harrald","Harvald","Harvni","Hatunn","Hauting","Hautt","Havilstein","Hectur","Heddic","Hedstagg","Hefadmir","Hegris","Heidmir","Heifnir","Heimdall","Heimskr","Heimvar","Heinlen","Heinrich","Helfana","Helthar","Helvard","Hemgar","Hemjak","Hemming","Henrigg","Henrik","Heratar","Herd","Hermeskr","Hermrek","Hern","Hernik","Hervod","Hewnon","Hialmor","Higil","Hil","Hildir","Hirnir","Hisin","Hjalfar","Hjalmer","Hjalti","Hjar","Hjarknir","Hjarkulf","Hjarl","Hjoag","Hjognar","Hjolard","Hjoldir","Hjolfrod","Hjolm","Hjorik","Hjornskar","Hjorunn","Hjorvil","Hjrondir","Hjurring","Hjurrun","Hlar","Hlofgar","Hloggar","Hlora","Hlormar","Hoag","Hoagding","Hod","Hodlismod","Hodmar","Hofgrir","Hogfinn","Hoggvir","Hogni","Hogondar","Hojard","Hoki","Hoknir","Hokurek","Hokusil","Holgeir","Holger","Holgrim","Holgunn","Holguss","Hollow-Leg","Holmar","Holsgar","Holsorr","Holstagg","Holvur","Hondulf","Honmund","Honrid","Honthjolf","Horgeir","Horik","Horkvir","Horm","Horstar","Hosgunn","Hraelgar","Hramdin","Hrargal","Hreinn","Hridi","Hrisskar","Hroar","Hrodmir","Hrodulf","Hrogar","Hroggar","Hroggi","Hroi","Hrol","Hroldar","Hrolfdir","Hrolfgald","Hrollod","Hrolmir","Hrolvar","Hrolvir","Hrondar","Hrongar","Hronolf","Hrordulf","Hrorgar","Hrormir","Hrothmund","Hrundi","Hrunvatr","Hugin","Hulgarth","Hunrand","Hunroor","Hurg","Hurnfing","Hurolf","Huroufar","Hylf","Idaug","Idlami","Idofrid","Idolaf","Iflin","Ifuss","Igeford","Iglund","Igmund","Ingjaldr","Ingmar","Innarrek","Inngyrr","Innraek","Irbjar","Irg","Irgnar","Irlof","Irnskar","Irroke","Irth","Irthak","Irthor","Isilr","Israk","Istar","Istler","Istlod","Itar","Itman","Ivandi","Iver","Jagyr","Jakaral","Jaknir","Jalmar","Jaluud","Jarning","Jayred","Jeek","Jegg","Jeggi","Jeggming","Jeggord","Jeggrich","Jegnorr","Jemaar","Jemalsorr","Jending","Jenssen","Jervar","Jesper","Jod","Jofarr","Jofnhild","Jofnir","Jofstrom","Jofthor","Jofvarr","Jofvid","Jokorn","Jolf","Jolgeir","Jollring","Jomarr","Jomathak","Jomund","Jon","Jonder","Joneif","Jonndir","Jorald","Jorck","Jorckleif","Jorckyld","Jordunn","Joreld","Jorg","Jorgen","Joric","Jorleif","Jorn","Jorundr","Jorunn","Jothorygg","Jurgar","Jurgen","Jyrik","Kadord","Kadstig","Kai","Kaild","Kailstig","Kaleb","Kalogar","Kalthar","Karl","Karsten","Keld","Kemirik","Kerthor","Kharc","Khord","Kibell","Kjakur","Kjal","Kjaluld","Kjar","Kjeld","Kjeldrel","Kjoric","Klaandi","Klause","Kleppr","Klimmek","Kluwe","Knarstygg","Knjakr","Knud","Knudikur","Knudvarr","Knurguri","Kodlak","Kodrir","Koli","Kor","Korir","Korsen","Korst","Kothheid","Kotholl","Kothon","Kott","Kottir","Kragar","Kragfarr","Kralald","Kraldar","Krath","Krathon","Kraval","Kunthar","Kust","Kuvar","Kvenel","Kyr","Kyrnil","Lanobert","Lars","Larsstar","Larthjar","Larthulf","Lassnr","Lathdar","Leifskjyr","Leifur","Leigelf","Lemkil","Lennald","Lennar","Lennarth","Lenne","Lenning","Littald","Littid","Littorn","Littrek","Littvolk","Llewellyn","Loate","Lod","Loddvaar","Lodi","Lodunn","Lodvar","Logod","Logof","Logorunn","Logorvild","Logrolf","Logvaar","Lokheim","Lokil","Lokir","Lokka","Lond","Longald","Longstig","Lorenz","Lorkmir","Lorod","Lortheim","Lothakar","Lothgar","Lothnarth","Lothson","Lund","Lungird","Lunk","Lyfskar","Lygrleid","Lynch","Lynoit","Maering","Majni","Majoll","Majolrun","Majorn","Makoll","Malofar","Malsold","Malsorr","Malte","Manheim","Mantiarco","Manwe","Maraamun","Maraamur","Marald","Maralfar","Maralthon","Markus","Masord","Mathies","Mathon","Mathondar","Mathor","Maul","Maulkyr","Meksim","Melril","Mendel","Menro","Merkyllian","Metilius","Mickal","Mikael","Mikfar","Mikrul","Miraak","Mjorn","Mjornys","Mogens","Molgrom","Mordrold","Mralki","Mryfwiil","Msirae","Nael","Narfar","Narfi","Narfild","Narir","Narirold","Narrald","Narrek","Nathon","Nedasilf","Neddrir","Nedrek","Nedrold","Nelgyrr","Nelkir","Nels","Newheim","Niels","Nielsar","Nielsold","Nielstig","Nikulund","Nils","Njial","Njordemar","Njordunn","Njorfar","Njorlund","Nodur","Nordahl","Norgred","Norring","Nudz","Nybder","Nystrom","Odar","Odfel","Odmi","Oduvid","Oengul","Ogmann","Ogmir","Ogmund","Ogondar","Okulald","Okurek","Olaf","Olav","Olfand","Olffik","Olfrid","Olgus","Oljorn","Ollfar","Ollgord","Ollrod","Ollslid","Olmarinn","Olmgerd","Ongar","Onmi","Onmund","Ordun","Orgnar","Orgnolf","Ormvard","Orryn","Orstag","Ort","Orthjolf","Ortis","Ortvar","Oslaf","Otalich","Otroggar","Otrovor","Ottglund","Pactuld","Pactur","Pelf","Podalgar","Podunn","Pogmaan","Poguf","Povaren","Radd","Radwald","Raedir","Raerek","Raflod","Ragjar","Ragnar","Ragnor","Rakoslod","Ralduf","Ralgar","Ralof","Ramth","Ranmir","Rargal","Rarlmir","Reggr","Regner","Regold","Reinhardt","Reinud","Reistr","Reves","Rhorglund","Rhorlak","Rigel","Rigmor","Rigurt","Rigvar","Rikke","Risfid","Rissing","Riurik","Roeth","Rofli","Rogas","Rogding","Rogen","Roggdvar","Roggi","Roggvar","Roggvir","Rogjoll","Rolf","Rolff","Rolgarel","Roliand","Roloda","Romord","Rorfid","Rorik","Rorlund","Rorngrek","Rorred","Rorthor","Roruld","Rorygg","Rundi","Runthor","Rustleif","Sabjorn","Sabjur","Sabonn","Saborm","Saerdor","Saergar","Saerhild","Saerlund","Saervild","Saetring","Safrid","Sahun","Sarjoll","Sarnir","Sattir","Savard","Selgaard","Serrin","Shalidor","Sibbi","Siddgeir","Sifknir","Sifmir","Sifnar","Sifvid","Sig","Sigaar","Sigar","Sigdis","Sigunn","Sigurd","Sigvatr","Sigyrr","Sild","Sinding","Sinmir","Sinos","Sirgar","Sirk","Sirkjorg","Sirkralf","Sittar","Sjarnfid","Sjoring","Sjorvar","Skaggi","Skalar","Skald","Skaldir","Skalf","Skardan","Skavwulf","Skegglund","Skeggr","Skjoldr","Skjor","Skoref","Skorjan","Skorm","Skormknir","Skorvild","Skuli","Skulnar","Skulreid","Skulvar","Slafknir","Slodrig","Slonn","Snadir","Snaehild","Snar","Snarjolf","Snedbrir","Snilf","Snilling","Snorfin","Snorreid","Snorri","Snorrvild","Sober","Sogrlaf","Soin","Solaf","Sold","Songamdir","Sor","Sorben","Sorkvild","Sorr","Sorri","Stalf","Stalfgrif","Stalkun","Star","Steidor","Steir","Steirod","Sten","Stenvadr","Stenvar","Stig","Storn","Strom","Stromgruf","Styrbjorn","Styrr","Sulvar","Svaknir","Svalkmar","Svarkjar","Svein","Sven","Svenjar","Svenk","Svergor","Svog","Swyk","Talsgar","Talsold","Talsrel","Talsvar","Terr","Terrfyg","Thadgeir","Thadgen","Thadrig","Thaer","Thal","Thalin","Thaljorn","Thallik","Thalm","Thalrig","Tharsten","Thelm","Thelman","Thian","Thjold","Thjollod","Thod","Thonar","Thonarcal","Thonengar","Thongar","Thongvor","Thonjolf","Thonnir","Thorald","Thorallod","Thoran","Thorbald","Thorbjolf","Thorek","Thorgar","Thoring","Thormoor","Thorormr","Thorulf","Thorvar","Thorygg","Thragnar","Thragof","Thralof","Threfr","Thrihild","Throknolf","Thromgar","Thromkjar","Thrud","Thrynn","Thulvald","Thunsel","Thurek","Tobias","Tolan","Tolfdir","Tolfwulf","Tolgan","Tolvor","Toralf","Torbal","Torbjorn","Torik","Torkalgar","Torkming","Torolf","Torrold","Torsten","Torvar","Torygg","Tove","Tovjor","Treva","Trilf","Tsun","Tulgruff","Tulvar","Tulvur","Tun","Tymvaul","Tyr","Tysnal","Uche","Uggald","Uggissar","Uggonn","Uggurek","Ulfarr","Ulfberth","Ulfgar","Ulfgi","Ulfnor","Ulfr","Ulfric","Ulligor","Ulov","Undbjolf","Undveld","Unmid","Unmidunn","Unmidvild","Unnvald","Urf","Urfing","Urgjal","Urik","Urlach","Vagakar","Vagar","Vaglof","Vagloson","Valbern","Valbet","Valbjorn","Vald","Valdar","Valdemar","Valdimar","Valding","Valdr","Valdur","Valeric","Valgeir","Vallric","Valund","Vanik","Vanskyr","Vastaag","Vekel","Velfred","Verner","Vestalsgar","Vestord","Vestrek","Viddek","Viddgjaldir","Vidgrod","Viding","Vidkun","Vidrald","Vidstig","Vidusil","Vigard","Vigge","Vignar","Vigrod","Vigstrom","Vigunn","Vikord","Vilbjorn","Vilgis","Vilkas","Vilod","Vipir","Virgerd","Virk","Virkmund","Virkvild","Vkor","Vladolfr","Vofalgar","Vofing","Vofknir","Vol","Volharth","Volk","Volknar","Vongvild","Vonlef","Vorenor","Vorstag","Votar","Vrage","Vuldurs","Vulwulf","Vundheim","Vurlop","Waren","Wickam","Widulf","Wilbern","Wilhelm","Wilminn","Wilmuth","Wilrek","Wilvor","Wisten","Woan","Woster","Wrath","Wulf","Wulfdis","Wulfgar","Wulfharth","Wulfmare","Wuunferth","Yavni","Ygbal","Yjarnn","Ylgar","Yll","Yllondar","Yngling","Yngnavar","Yngol","Yngold","Yngrel","Yngvar","Yngvid","Yraldar","Yringor","Yrsarald","Ysavild","Ysgramor","Ysgravald","Ysmir","Yust"],setup.Text={},setup.Text.Unit={},setup.Text.Unit.Trait={},setup.Text.Unit.Equipment={},setup.Text.Trait={},setup.Text.Race={},setup.Text.Banter={},setup.Text.Duty={},setup.Text.Building={};function kR({unit:i,field:e,trait:t}){let a;if(t){if(a=t.getTexts()[e],!a||!a.length)throw new Error(`Trait ${t.key} does not have a ${e} associated with it!`)}else{a=setup.TRAIT_TEXTS_DEFAULT[e]||[];const r=i.getTraits();for(const s of r){const n=s.getTexts();n&&(a=a.concat(n[e]||[]))}}return setup.Text.replaceUnitMacros(a,{a:i})}o(kR,"unit_trait_texts"),setup.Text.Duty.competence=function(i){let e=i.getAssignedUnit(),t=i.computeChance(),a="";if(i instanceof setup.DutyInstanceBedchamberSlave){let r=i.getBedchamber().getSlaver(),s=State.variables.friendship.getFriendship(r,e);s<-900?a=`being completely terrified of a|their owner ${r.rep()}`:s<-500?a=`being abused harshly by a|their owner ${r.rep()}`:s<-200?a=`often being abused by a|their owner ${r.rep()}`:s<=200?a=`busily serving a|their owner ${r.rep()}, whom a|they still remain indifferent to`:s<=500?a=`willingly serving a|their owner ${r.rep()}`:s<=900?a=`devotedly serving a|their owner ${r.rep()}`:a=`serving a|their owner ${r.rep()} with blind devotion`}else i.TYPE=="prestige"?t<1?a="but a|they is completely unsuitable at the position":t<2?a="but a|they is barely appealing at a|their assigned duty":t<4?a="and a|they is an adequate slave for the job":t<6?a="and a|they fits the slave duty assigned to a|them":t<8?a="and you have wisely picked the right slave for this duty":t<10?a="and a|they is very good at the assigned duty":a="and a|they is extremely good at the assigned duty":t<.05?a="but a|they is terrible at a|their job and does not actually get anything done":t<.2?a="although a|they is not very competent at the job":t<.4?a="a duty a|they perform decently well":t<.6?a="and a|they are pretty good at it":t<.8?a="--- a|they can even qualify as a professional if a|they want to":t<1?a="and a|they is extremely good at it":a="and a|they is prodigiously good at it";return setup.Text.replaceUnitMacros(a,{a:e})},setup.Text.Duty.slavevalue=function(i){let e=i.getCurrentPrestige(),t=i.getAssignedUnit(),a;return e<=1?a="a|They is unappealing and not well trained, and only few customers":e<3?a="a|They has a rather average appeal for this duty, and some customers":e<5?a="a|They draws many customers who":e<7?a="There is often a queue forms of people who":e<9?a="a|They is one of the main attractions in your fort and many people":e<11?a="a|They draws many customers from all over the region to your fort and many":e<13?a="a|They is an extremely prestigious slave so much that anyone":e<15?a="a|They is so highly prestigious that occasionally famous people come to your fort and they":a="There are very few slaves who are as prestigious as a|they and everyone",setup.Text.replaceUnitMacros(a,{a:t})},setup.Text.replaceUnitMacros=function(i,e){if(!i)return"";let t;if(Array.isArray(i)){if(!i.length)return"";t=setup.rng.choice(i)}else t=i;return t.replace(/([\w]{1,20})\|([\w]{1,20})/g,(a,r,s)=>{let n=null;if(e?n=e[r]:State.variables.g&&(r=="U"?n=State.variables.unit.player:n=State.variables.g[r]),!n||!(n instanceof setup.Unit))return console.log(`Missing unit ${r}`),`${r}|${s}`;if(s=="Rep"||s=="rep")return n.isYou()?s=="Rep"?"You":"you":n.rep();if(s=="name")return n.getName();if(s=="Reps"||s=="reps")return n.isYou()?s=="Reps"?"Your":"your":`${n.rep()}'s`;if(s in setup.DOM.PronounYou)return setup.DOM.PronounYou[s](n);if(s in setup.Text.REPLACE_MACROS){let h=0;return n.isYou()||(h=1),setup.Text.REPLACE_MACROS[s][h]}const l=`u${s}`;if(Macro.has(l))return setup.runSugarCubeCommandAndGetOutput(`<<${l} "${n.key}">>`);if(n.isYou()||s.length==1)return s;const u=s.toLowerCase();if(u.endsWith("y")){const h=u[s.length-2];if(!["a","e","i","o","u"].includes(h)){const p=s[s.length-1];let c=s.substr(0,s.length-1);return p.toLowerCase()==p?c+="ies":c+="IES",c}}for(const h in setup.Text.END_REPLACE)if(s.endsWith(h))return s+setup.Text.END_REPLACE[h];return s[s.length-1].toLowerCase()==s[s.length-1]?s+"s":s+"S"})},setup.Text.END_REPLACE={ch:"es",CH:"ES",sh:"es",SH:"ES",s:"es",S:"ES",x:"es",X:"es",z:"es",Z:"ES"},setup.Text.REPLACE_MACROS={is:["are","is"],are:["are","is"],am:["are","is"],was:["were","was"],were:["were","was"],do:["do","does"],go:["go","goes"],have:["have","has"],has:["have","has"]},setup.Text.addCommas=function(i){let e="";const t=i.length;for(let a=0;a<t;++a)e+=i[a],a==0&&t==2?e+=" and ":(t>=3&&a<t-1&&(e+=", "),a==t-2&&(e+="and "));return e},setup.Text.replaceRepMacros=function(i,e){if(!i)return"";let t;if(Array.isArray(i)){if(!i.length)return"";t=setup.rng.choice(i)}else t=i;return t.replace(/([\w]{1,20})\|([\w]{1,20})/g,(a,r,s)=>{const n=e[r];return n?s=="Rep"||s=="rep"?n.rep():`${r}|${s}`:(console.log(`Missing object ${r}`),`${r}|${s}`)})},setup.Text.fixArticles=function(i,e){const t=i.match(/\b(\w+\W*)/g);if(!t)return i;for(let r=t.length-1;r>=0;--r){const s=t[r],n=s.match(/\b(\w+)\b/g)[0];if(["a","A","an","An"].includes(n)){let l;if(r==t.length-1){l=e||"";const h=l.match(/\b(\w+)\b/g);h?l=h[0]||"":l=""}else l=t[r+1].match(/\b(\w+)\b/g)[0]||"";let u=setup.ArticleOnly(l)||"a";n[0]=="A"&&(u=u.toUpperFirst()),t[r]=s.replace(/\b(\w+)\b/g,u)}}let a=0;return i.replace(/\b(\w+\W+)/g,()=>(a+=1,t[a-1]))},setup.Text.Race.region=function(i){return i.text().region},setup.Text.Race.REGIONS={city:"City of Lucgate",vale:"Northern Vales",forest:"Western Forests",deep:"Deep",desert:"Eastern Deserts",sea:"Southern Seas",mist:"Mist",heaven:"Heavens"},Setting.addHeader(""),(XM=(ky=document.querySelector("#menu-item-settings > a"))==null?void 0:ky.addEventListener)==null||XM.call(ky,"mousedown",i=>{i.stopPropagation(),i.preventDefault(),setup.DOM.Menu.Settings.opendialog()},!0),$(document).one(":storyready",()=>{const i=document.querySelector("#menu-item-share > a");i&&(i.textContent="Links")}),setup.ActorHelper={},setup.ActorHelper.parseMap=function(i){let e={};for(let t in i)if(!i[t])e[t]=null;else{let a=i[t];if(setup.isString(a))e[t]={type:"unitgroup",key:a};else if(Array.isArray(a)){e[t]={type:"companyunit",val:setup.deepCopy(a)};const r=[setup.qresImpl.HomeExceptOnLeave,setup.qresImpl.NotEngaged,setup.qresImpl.Home];let s=!1;for(const n of r)if(a.filter(l=>l instanceof n).length){s=!0;break}s||(setup.Living.isRestrictionsAllowRetired(a)?e[t].val.push(setup.qres.NotEngaged()):e[t].val.push(setup.qres.Home()))}else a instanceof setup.ContactTemplate?e[t]={type:"contact",key:a.key}:e[t]={type:"unitgroup",key:a.key}}return e},setup.ActorHelper.parseUnitGroups=function(i){const e={};for(const t in i){const a=i[t];if(a)if(a.type=="contact")e[t]=setup.contacttemplate[a.key];else if(a.type=="unitgroup")e[t]=setup.unitgroup[a.key];else if(a.type=="companyunit"){if(!Array.isArray(a.val))throw new Error(`unrecognized unit group: ${a}`);e[t]=a.val}else throw new Error(`Unknown actor type: ${a.type}`);else e[t]=null}return e},setup.DebugActor={},setup.DebugActor.getActors=function(i,e){let t={};const a=State.variables.company.player.getUnits({}).filter(s=>!s.isEngaged()&&!State.variables.leave.isOnLeave(s));setup.rng.shuffleArray(a);let r=0;for(const s in i){let n=i[s];if(Array.isArray(n)){let l;if(e&&r<a.length)l=a[r],r+=1;else{let u=!1,h=!1;const p=n;for(const c of p)c instanceof setup.qresImpl.Job&&c.job_key==setup.job.slave.key?u=!0:c instanceof setup.qresImpl.You&&(h=!0);h&&!e&&!State.variables.unit.player.isEngaged()&&!State.variables.leave.isOnLeave(State.variables.unit.player)?l=State.variables.unit.player:(l=setup.unitpool.subrace_humankingdom_male.generateUnit(),State.variables.company.player.addUnit(l,u?setup.job.slave:setup.job.slaver))}t[s]=l}else{(!(n instanceof setup.UnitGroup)||n.reuse_chance)&&(n=setup.unitgroup.all);let l=n.getUnit();t[s]=l,s=="trainee"&&State.variables.company.player.addUnit(l,setup.job.slave)}}return t};function vR(i){const e=setup.generateAnyUnit(),t=["first_name","surname","name","custom_image_name","nickname","trait_key_map","innate_trait_key_map","speech_key","base_skills","origin","skill_focus_keys","seed","history"];for(const a of t)e[a]=i[a];return e.skills=e.base_skills,e}o(vR,"createLevelOneUnitCopy"),setup.DOM.Card.livingvisitdescription=function(i,e){const t=e.repBusiness(i),a=setup.Text.Hobby.verb(i),r=[`When a|they is not too busy ${t}, a|they would occasionally visit the fort, enjoying ${a} with the rest of your current slavers.`,"Occasionally, a|they would pop by at your fort and a|adv greet you as well as some of the new hires.",`a|They a|spend most of a|their days ${t}, although every now and then a|they would visit your fort and enjoy some of the offered slaves.`,`a|They a|remain friends with some of the slavers under your employ, and a|they would occasionally visit your fort in between ${t}.`,`Despite a|their new occupation, a|they would still drop by at your fort every now and then and ${a}.`],s=i.getTraits();return s.includes(setup.trait.per_brave)&&r.push("a|They would occasionally visit your fort alone, braving the dangers of the land all by a|themself."),s.includes(setup.trait.per_cautious)&&r.push("During a|their free time, a|they would sometimes go and visit your fort, sometimes even with a full entourage of hired mercenaries to keep a|them safe from the dangers of the land."),s.includes(setup.trait.per_aggressive)&&r.push("a|They sometimes would visit your fort, challenging the newcomers to a drinking contest or two."),s.includes(setup.trait.per_calm)&&r.push("a|They sometimes would visit your fort, patiently giving advise to the new faces around."),s.includes(setup.trait.per_proud)&&r.push("a|They would sometimes come and visit your fort, admiring the magnificant company a|they once belonged to."),s.includes(setup.trait.per_humble)&&r.push("a|They would sometimes come and visit your fort, reflecting at how far a|they had come in a|their life."),s.includes(setup.trait.per_direct)&&r.push("Sometimes, a|they could be seen in the taverns of your fort trading insults with other patrons."),s.includes(setup.trait.per_sly)&&r.push("Sometimes, a|they could be seen in the taverns of your fort swindling customers as well as some of your slavers out of their hard-earned money."),s.includes(setup.trait.per_studious)&&r.push("Sometimes, a|they would come and browse the many books stored within your fort."),s.includes(setup.trait.per_active)&&r.push("Sometimes, a|they would come and run around the vast fields surrounding your fort."),s.includes(setup.trait.per_loner)&&r.push("a|They rarely visit your fort, the loner preferring a|their own company."),s.includes(setup.trait.per_gregarious)&&r.push("a|They often visit your fort, enjoying the company of a|their old friends."),s.includes(setup.trait.per_frugal)&&r.push("a|They sometimes could be seen in your fort markets, looking for bargains."),s.includes(setup.trait.per_lavish)&&r.push("a|They sometimes could be seen in your fort markets, buying the most expensive rug a|they lay a|their eyes on."),s.includes(setup.trait.per_loyal)&&r.push("Despite not being part of your company anymore, a|they would still visit often out of pure loyalty."),s.includes(setup.trait.per_independent)&&r.push("a|They would occasionally drop by to visit your fort, but also enjoys a|their newly found freedom working away from the fort."),s.includes(setup.trait.per_attentive)&&r.push("a|They would occasionally be invited to help drill new slavers, as you know how attentive the ex-slaver is to details."),s.includes(setup.trait.per_dreamy)&&r.push("Sometimes, you could find a|them inside your fort, snoozing away under a leafy tree."),s.includes(setup.trait.per_stubborn)&&r.push("You sometimes could spot a|them stubbornly haggling with one of the merchants in your fort."),s.includes(setup.trait.per_curious)&&r.push("a|They would still explore the surrounding lands often out of pure curiosity, and when a|they happen to be nearby, a|they would drop by your fort for a friendly visit."),s.includes(setup.trait.per_kind)&&r.push("a|They would still come to your fort every now and then, sometimes even descending into the dungeons to take care of some of the slaves."),i.isHasTrait(setup.trait.per_cruel)&&r.push("a|They would still come to your fort every now and then, and the slave dungeons remains as one of a|their favorite facilities in your fort."),s.includes(setup.trait.per_serious)&&r.push("a|They would sometimes come to your fort, and before anyone informs you, would already be knocking stoically at your office door."),s.includes(setup.trait.per_playful)&&r.push("a|They would come to your fort often, enjoying the many fun activities inside as a visitor."),s.includes(setup.trait.per_logical)&&r.push("Sometimes, a|they would come over to your fort and help you plan the future of your fort."),s.includes(setup.trait.per_empath)&&r.push("Sometimes, a|they would come over to your fort to share and gossip with you about the new recruits."),s.includes(setup.trait.per_chaste)&&r.push("a|They went back relatively chaste once a|their slaving duties are over, and would sometimes revisit your fort to experience the non-carnal side of the establishment."),i.isHasTrait(setup.trait.per_lustful)&&r.push("Whenever a|they comes to visit your fort, the lusty a|race would use a slave or two without fail."),s.includes(setup.trait.per_dominant)&&r.push("a|They sometimes would come to your fort to use a slave or two, satisfying a|their dominant tendencies."),s.includes(setup.trait.per_submissive)&&r.push("a|They would sometimes come to your fort, and secretly go into the dungeons alone to role-play being a proper submissive slave"),s.includes(setup.trait.per_masochistic)&&r.push("a|They sometimes would come to your fort, and you can sense a|their jealousy each time a slave was inflicted with pain."),s.includes(setup.trait.per_lunatic)&&r.push("a|They never announces whenever a|they decides to come and pay you a visit, the lunatic preferring to keep every visit a surprise."),s.includes(setup.trait.per_honorable)&&r.push("a|They would sometimes come over to your fort, a|their chin always held up high."),s.includes(setup.trait.per_evil)&&r.push("a|They would sometimes come over to your fort to discuss a|their malicious plans and ask for your opinions on them."),s.includes(setup.trait.muscle_verystrong)&&r.push("a|They always attracts attention from your new slavers each time the muscle-bound monster of a slaver pays you a cordial visit."),s.includes(setup.trait.height_giant)&&r.push("a|They always attracts attention from your new slavers each time the giant of a slaver pays you a cordial visit."),setup.Text.replaceUnitMacros(r,{a:i})};function I_(i,e){return State.variables.g={a:i},e||(e=i.getLiving()),setup.DOM.Util.include_replace(e.getDescriptionPassage())}o(I_,"livingPassage"),setup.DOM.Card.livingdescription=function(i,e){const t=[];return e||(e=i.getLiving()),t.push(I_(i,e)),t.push(html`
    <p>
      ${setup.DOM.Card.livingvisitdescription(i,e)}
    </p>
  `),setup.DOM.create("div",{},t)};const hf="newgamepluspromptsdivid";setup.DOM.Menu.newgameplus=function(){const i=[],e=State.variables.unit.player;return i.push(html`
    <p>
      You have led your company for ${e.getWeeksWithCompany()} weeks
      as of now, and your fort has been transformed from the decrepit
      building it once was into the grand structure standing before you.
      You have succeeded in creating a new, formidable slaving company from
      almost nothing, and you've seen all the struggles that lead to this point
      as well.
      You know better than anyone else -- in this business, it might be just the
      prudent decision to retire while you still have all your limbs and slaves
      intact.
    </p>

    <p>
      If you are sure you decided to retire, you'll have to think what you are
      planning to do after you retire.
      Perhaps you'll get some of your slavers as well as a slave to accompany
      you traveling around the land.
      Or if you are feeling particularly crazy, you could band up with a few of your slavers
      to start anew and create yet another slaving company in the continent of
      ${setup.lore.geo_mestia.rep()}...
    </p>

    <p>
      ${setup.DOM.Text.danger("WARNING:")} Choosing any of the options to continue will
      end your current game, but it allows you to start a
      ${setup.DOM.Text.successlite("New Game+")}, where you can start anew with the company of a few
      of your current slavers.
    </p>

    <div>
      ${setup.DOM.Nav.button("It's time to retire from leading a slaving company for good",()=>{setup.DOM.Helper.replace(`#${hf}`,Uy(!0))})}
      ${setup.DOM.Util.help(html`
          Choose this option if you want to begin with an entirely new character.
        `)}
    </div>

    <div>
      ${setup.DOM.Nav.button("Maybe starting a new company might be a good idea...",()=>{setup.DOM.Helper.replace(`#${hf}`,Uy(!1))})}
      ${setup.DOM.Util.help(html`
          Choose this option if you want to begin a new game but continue to use the same player character.
          Note, however, that if the player character has multiple skill traits
          (${setup.TraitHelper.getAllTraitsOfTags(["skill"]).map(t=>t.rep()).join("")})
          you will need to choose only one to retain.
        `)}
    </div>

    <div>
      ${setup.DOM.Nav.link("(abandon this idea and return back to your company)",()=>{setup.DOM.Nav.gotoreturn()})}
    </div>
  `),setup.DOM.create("div",{id:hf},i)};function Uy(i,e=[]){const t=[];let a=setup.NEW_GAME_PLUS_SLAVERS;const r=setup.NEW_GAME_PLUS_SLAVES;if(e.length>=a+r)return $_(i,e);i?t.push(html`
    <p>
      You have decided to retire for good and travel the land as a common adventurer.
      Perhaps you could ask some of your available slavers as well as a slave to accompany your journey...
    </p>`):t.push(html`
    <p>
      You have decided to find a brand new slaving company from the grounds up.
      Perhaps you could invite some of your available slavers to accompany you on your grand new
      endeavor...
    </p>`),t.push(setup.DOM.create("p",{},html`
    You can choose up to
    ${a} slaver${a>1?"s":""}
    and ${r} slave${r>1?"s":""}.
    ${e.length?html`So far, you have invited ${e.map(n=>n.rep()).join("")}.`:""}
    Since you are still under the limit, you can still invite some more.
    You can also just ${setup.DOM.Nav.link("finish selecting units",()=>{setup.DOM.Helper.replace(`#${hf}`,$_(i,e))})}
    or even ${setup.DOM.Nav.link("change your mind and go back to your office",()=>{setup.DOM.Nav.gotoreturn()})}.
    Note that you can only invite units that are ${setup.DOM.Text.successlite("currently at home")}.
  `));let s=State.variables.company.player.getUnits({}).concat(State.variables.retiredlist.getUnits());return s=s.filter(n=>!(n.isYou()||n.isHasTrait(setup.trait.will_indomitable)||e.includes(n)||e.filter(l=>l.isSlaver()).length>=a&&n.isSlaver()||e.filter(l=>l.isSlave()).length>=r&&n.isSlave())),t.push(SR(s,i,e)),setup.DOM.create("div",{},t)}o(Uy,"newGamePlusChooseUnitsFragment");function SR(i,e,t){return setup.DOM.Roster.show({menu:"unitnewgameplus",units:i,no_compact_display:!0,actions_callback:o(a=>{const r=[];return r.push(I({text:"Select",callback:o(()=>{t.push(a),setup.DOM.Helper.replace(`#${hf}`,Uy(e,t))},"callback")})),r},"actions_callback")})}o(SR,"selectunitfornewgameplus");function $_(i,e){const t=[],a=State.variables.company.player.getUnits({}).filter(u=>!u.isYou()&&!e.includes(u));let r=a.filter(u=>u.isSlaver()),s=a.filter(u=>u.isSlave());setup.rng.shuffleArray(r),setup.rng.shuffleArray(s);const n=[];n.push(`
    After saying your goodbyes, you departed your fort together with some of your
    friends. You would occasionally check back on the fort, and you learn the latest
    news on the rest of your ex-slavers...
  `);let l=null;if(r.length){let u=r.filter(h=>h.isHasTrait("join_senior"));u.length||(u=r),l=u[0],r=r.splice(1)}for(const u of r){const h=setup.NEW_GAME_PLUS_BASE_QUIT_CHANCE+setup.SexUtil.sumTraitMultipliers(u,setup.NEW_GAME_PLUS_QUIT_CHANCE);Math.random()<h?n.push(_R(u)):n.push(TR(u))}l&&n.push(AR(l)),i?n.push(`
      As for you and your new band of friends, you've decided to enjoy having been freed from
      the burdens of leadership, and just enjoy the rest of your life.
      In fact, you've been hearing that a certain young slaver is looking for companions to
      begin a new slaving company, and perhaps you could help advise them for a little while...
    `):n.push(`
      Your story has not finished yet, however, as you have decided to begin anew with a fresh
      and new slaving company...
    `);for(const u of n)t.push(html`<p>${u}</p>`);return t.push(html`
    <div>
      ${setup.DOM.Nav.button("Start New Game+",()=>{O_(i,e)})}
    </div>
  `),setup.DOM.create("div",{},t)}o($_,"newGamePlusShowEpilogue");function TR(i){const e=[],t=i.getTraits();return t.includes(setup.trait.per_cautious)&&e.push("Given how cautious a|they a|is with new people, it's not surprising that a|rep decided to stay with your company."),t.includes(setup.trait.per_calm)&&e.push("Despite your sudden retirement, a|rep remained calm and cool-headed, and decided to stick with the company."),t.includes(setup.trait.per_humble)&&e.push("The humble a|race a|rep decided to stick with the company and the friends a|they had known for a long time."),t.includes(setup.trait.per_direct)&&e.push("a|Rep is a simple a|race, and a|they chose to stay with the company regardless of the change of leadership."),t.includes(setup.trait.per_gregarious)&&e.push("Unsurprisingly, a|rep remained with the company, a place many of a|their treasured friends call home."),t.includes(setup.trait.per_frugal)&&e.push("a|Rep decided to remain with the company, since the pay is quite good."),t.includes(setup.trait.per_loyal)&&e.push("You know a|rep to be a loyal a|race, and it was not surprising at all that a|they decided to stick with the company."),t.includes(setup.trait.per_attentive)&&e.push("a|Rep remained with the company, and a|their keen eyes continued to be an asset to its daily operations."),t.includes(setup.trait.per_stubborn)&&e.push("a|Rep a|is simply too stubborn to leave the comfort of the company, and unsurprisingly remained with the company until now."),t.includes(setup.trait.per_kind)&&e.push("a|Rep could not bear the thoughts of leaving a|their friends away, so a|they remained with the company even until today."),t.includes(setup.trait.per_logical)&&e.push("a|Rep weighted the benefits and the cons of staying and leaving the company, and decided that staying was the right choice."),i.isHasTrait(setup.trait.per_lustful)&&e.push("a|Rep decided to stay at the company, if only for being able to use the many sex slaves at will."),t.includes(setup.trait.per_submissive)&&e.push("a|Rep remained at the company, and you can sense that a|their submissive tendencies has only grown worse ever since you left."),t.includes(setup.trait.per_masochistic)&&e.push("a|Rep remained with the company. You could swear that a|they had amassed even more scars than before, and you suspect that some are self-inflicted."),t.includes(setup.trait.per_honorable)&&e.push("a|Rep remained with the company, of course, as a|their honor demands a|they stay loyal to a|their friends."),e.length||e.push("To your complete surprise, a|rep remained with the company, and you do not know why even to this day.","a|Rep remained with the company out of pure whim.","It's unclear why a|rep decided to remain with the company, but the a|race did just that.","a|Rep decided to remain with the company for a little while longer","Despite looking like a|they a|is about to leave at any time, a|rep surprisingly remained with the company."),html`${setup.Text.replaceUnitMacros(e,{a:i})}`}o(TR,"getStayWithCompanyText");function _R(i){const e=[],t=i.getTraits();t.includes(setup.trait.per_brave)&&e.push("Hearing of you leaving, a|rep decided to follow suit, bravely venturing outside the safety of the fort and into the unknown."),t.includes(setup.trait.per_aggressive)&&e.push("After you left, a|rep would often get into an argument with a|their fellow slavers, before ultimately deciding to leave for good."),t.includes(setup.trait.per_proud)&&e.push("Without you in charge, a|rep a|was too proud to not follow suit, and decided to retire away from the company."),t.includes(setup.trait.per_sly)&&e.push("After collecting some more money, a|rep decided that a|their time with the company a|is over, and left."),t.includes(setup.trait.per_loner)&&e.push("a|Rep never fully enjoy the company of a|their fellow a|men, and saw you leaving as the perfect time for a|them to follow suit."),t.includes(setup.trait.per_lavish)&&e.push("After lavishly spending much of a|their earned money, a|rep decided to call quits on the life of slavery."),t.includes(setup.trait.per_independent)&&e.push("Without you in charge, the disloyal a|race a|rep decided that it was time for a|them to go."),t.includes(setup.trait.per_dreamy)&&e.push("a|Rep left without so much as saying a word, no doubt dreamily wondering away to some distant land."),t.includes(setup.trait.per_curious)&&e.push("a|Rep put down the whip and decided to quit the job of slavery to pursue a|their other interests."),i.isHasTrait(setup.trait.per_cruel)&&e.push("Without you in charge, and seeing as a|their bid for power had also failed, a|rep quit the company without much fanfare."),t.includes(setup.trait.per_chaste)&&e.push("a|Rep finally got sick of the life so full of sex and carnal desires, and decided to call it quits."),t.includes(setup.trait.per_dominant)&&e.push("Seeing you leaving, a|rep decided to follow in your footsteps and also quit being a slaver."),t.includes(setup.trait.per_lunatic)&&e.push("One day, a|rep just went missing from a|their room, the lunatic seemingly saw it fit to just quit with nobody the wiser."),t.includes(setup.trait.per_evil)&&e.push("a|Rep decided to quit, seemingly with an evil and malicious plan in mind."),e.length||e.push("a|Rep decided to leave the company out of boredom.","a|Rep wanted a change of scenery and decided to leave the company.","It's unclear why, but you heard that a|rep had left the company.","One day, a|rep just went missing from the company, having apparently decided to retire.","a|Rep a|adv retired one day.");const a=setup.Living.getLiving(i);return html`
    ${setup.Text.replaceUnitMacros(e,{a:i})}
    ${I_(i,a)}
  `}o(_R,"getLeaveCompanyText");function AR(i){const e=setup.SexUtil.sumTraitMultipliers(i,setup.NEW_GAME_PLUS_NEW_LEADER_SUCCESS_CHANCE);let t=[];t.push(setup.Text.replaceUnitMacros(["After you left, a|rep took the mantle of leadership.","a|Rep became the leader after you vacated the spot.","With you gone, a|rep succeeded you for the title of the Leader of the Company."],{a:i}));const a=[],r=i.getTraits();return Math.random()<setup.NEW_GAME_PLUS_BASE_SUCCESS_CHANCE+e?(t.push(setup.Text.replaceUnitMacros(["Last you heard, your former company is doing very well under a|their guidance.","Your former company remains infamous throughout the land under a|their leadership.","The fame of your former company reaches even distant lands with its new leader, and some say that a|they might even be better at you at leading the company."],{a:i})),r.includes(setup.trait.per_cautious)&&a.push("a|They would choose the quests meticulously, no doubt contributing to the continued success of the company."),r.includes(setup.trait.per_calm)&&a.push("a|They gained reputation for being inhumanly calm in any situation, and your former company continues to prosper under a|their guidance."),r.includes(setup.trait.per_proud)&&a.push("a|They is a proud a|race, and a|they took a|their new duties very seriously, ensuring the continued success of your former company."),r.includes(setup.trait.per_humble)&&a.push("Despite being a leader, a|they remained humble, and guided the rest of a|their slavers with fair a|hands to prosperity."),r.includes(setup.trait.per_sly)&&a.push("a|They knew all too well that slaving is dirty business, and a|they utilized a|their slyness often to win better contracts, ensuring that your former company's legacy will continue on."),r.includes(setup.trait.per_studious)&&a.push("a|They a|is a model student, and a|their knowledge was very useful in leading the company to further glory."),r.includes(setup.trait.per_gregarious)&&a.push("a|Their silver tongue was essential in ensuring that the company would remain in good standings with many others, ensuring its continued success."),r.includes(setup.trait.per_frugal)&&a.push("a|They always in the lookout for the best deals for the company, and a|their frugal mind helped maintain the company's finances in the green."),r.includes(setup.trait.per_loyal)&&a.push("a|They a|is a loyal a|race, inspiring the other slavers to do better all for the glory of the company."),r.includes(setup.trait.per_attentive)&&a.push("a|They a|is blessed with keen eyes, which the a|race use extensively to ensure the continued success of the company."),r.includes(setup.trait.per_stubborn)&&a.push("Some says a|they a|is simply too stubborn to let the company fell into disrepair."),i.isHasTrait(setup.trait.per_cruel)&&a.push("Cruelty is a boon in the business of slavery, and a|they a|have it in excess."),r.includes(setup.trait.per_logical)&&a.push("a|They would sometimes direct the company coldly, with the end being everything to a|them."),r.includes(setup.trait.per_chaste)&&a.push("Surprisingly, a|they remains modestly chaste throughout a|their career."),r.includes(setup.trait.per_dominant)&&a.push("a|They seems to enjoy a|their new gig too, as being on top feels very good to the natural dominant."),r.includes(setup.trait.per_honorable)&&a.push("a|They tries to steer the company to whatever good and honor a slaving company could possibly muster."),r.includes(setup.trait.per_evil)&&a.push("Under a|their leadership, the company would soon be feared by many travelers to the vales."),a.length||a.push("It's unclear how a|rep leads the company, however.","a|Reps style of leadership remains a mystery, however.")):(t.push(setup.Text.replaceUnitMacros(["Unfortunately, last you heard the company is not doing so well under its new leader.","Unfortunately, a|rep is nowhere as gifted as you are in the act of leadership, and the company suffers.","However, a|rep could not match your former leadership, and before long your company's infamy diminishes."],{a:i})),r.includes(setup.trait.per_brave)&&a.push("a|They would sometimes foolishly took overly dangerous missions, which costed your company."),r.includes(setup.trait.per_aggressive)&&a.push("Some says that a|they a|was simply too aggressive to be a proper leader."),r.includes(setup.trait.per_proud)&&a.push("Some says that a|their pride was a|their downfall."),r.includes(setup.trait.per_direct)&&a.push("Some says that a|they a|was simply too trusting of others, and was easily fooled."),r.includes(setup.trait.per_active)&&a.push("Some says that the musclehead spent too much time in the jogging tracks, and too little time hitting the books."),r.includes(setup.trait.per_loner)&&a.push("Some says that a|they would shun the company of others, even when it would benefit the company."),r.includes(setup.trait.per_lavish)&&a.push("Perhaps it's a|their extravagance that led to the company's downfall."),r.includes(setup.trait.per_independent)&&a.push("The rumors even said that a|they would eventually ditch the company when it's at its lowest."),r.includes(setup.trait.per_dreamy)&&a.push("a|They a|is simply too unfocused to be a proper leader."),r.includes(setup.trait.per_curious)&&a.push("a|They a|have the attention span of a butterfly, too busy inquiring about strange things instead of work-related stuffs."),r.includes(setup.trait.per_kind)&&a.push("They say that a|rep is simply too kind, a disastrous trait for a slaver."),r.includes(setup.trait.per_empath)&&a.push("Rumors said that a|rep would secretly let some of a|their slaves free at night, a|their empathetic heart tugging at a|their very soul."),i.isHasTrait(setup.trait.per_lustful)&&a.push("Some says a|rep spends all of a|their time fucking the many slaves, instead of managing the company."),r.includes(setup.trait.per_submissive)&&a.push("a|Rep is far too submissive to be a proper leader."),r.includes(setup.trait.per_masochistic)&&a.push("Who in the right mind would elect a complete masochist as a leader in the first place?"),r.includes(setup.trait.per_lunatic)&&a.push("a|They would enact strange rules, the lunatic enjoying chaos and cacophony above all."),r.includes(setup.trait.per_honorable)&&a.push("a|They a|is simply too honorable to be a good slaver."),a.length||a.push("It is unclear how a|they failed to lead the company.","Nobody knows why a|they failed to lead the company, however.")),t.push(setup.Text.replaceUnitMacros(a,{a:i})),html`${t.join(" ")}`}o(AR,"getNewLeaderText");function O_(i,e){const t=State.variables.unit.player,a=State.variables.statistics.get("new_game_plus_count"),r={};r[t.key]=!0;for(const m of e)m.isHasTitle("ex_leader")&&(r[m.key]=!0);const s={};for(const m of e.concat([t]))s[m.key]=State.variables.unitimage.getImagePath(m);const n=e.filter(m=>m.isSlaver()||m.isRetired()),l=e.filter(m=>m.isSlave()),u=State.variables.company.player.getName();for(const m of n)m.isSlaver()?setup.qc.AddHistory("unit",`retired from being a slaver at the slaving company known as ${u}`).apply(setup.costUnitHelper(m)):m.isRetired()&&setup.qc.AddHistory("unit",`got invited during retirement for another adventure by the ex-leader of the slaving company known as ${u}`).apply(setup.costUnitHelper(m));setup.qc.AddHistory("unit",`retired from being the leader of the slaving company known as ${u}`).apply(setup.costUnitHelper(t));let h=!1;State.variables.statistics.isHasSuccess(setup.questtemplate.regalixir)&&(h=!0);const p={gVersion:!0,gDebugWasTurnedOn:!0},c=Object.keys(State.variables);for(const m of c)m in p||delete State.variables[m];setup.initState.call(State.variables),State.variables.statistics.add("new_game_plus_count",a+1),!i&&h&&State.variables.statistics.add("regalixir_completed_previous_games",!i);function d(m){const f=vR(m);l.includes(m)||(m.key in r?setup.qc.AddTitle("unit","ex_leader").apply(setup.costUnitHelper(f)):setup.qc.AddTitle("unit","ex_slaver").apply(setup.costUnitHelper(f)));const b=f.getRemovableTraits();for(const S of b)f.isTraitCompatible(S)||f.removeTraitExact(S);const v=s[m.key];return State.variables.unitimage.setImage(f,v),f}o(d,"copyUnit");for(const m of l)setup.unitgroup.new_game_plus_slaves.addUnit(d(m));const g=[];for(const m of n){const f=d(m);g.push(f.key)}return i?(g.push(d(t).key),setup.DOM.Nav.goto("ProloguePlayerGen")):(setup.DOM.Menu.prologueMakePlayer(d(t)),setup.DOM.Nav.goto("PrologueCompanyGenIntroNewGamePlus")),State.variables.gNewGamePlusExLeader=!i,State.variables.gNewGamePlusExtraKeys=g,State.variables.notification.popAll(),null}o(O_,"initNewGamePlus");function Ny(i,e){for(let t=0;t<Math.min(i.length,e.length);++t){if(i[t]<e[t])return!0;if(i[t]>e[t])return!1}return i.length!=e.length?i.length<e.length:!1}o(Ny,"isOlderThan"),setup.BackwardsCompat={},setup.BackwardsCompat.upgradeSave=function(i){if(!i.gVersion)return;const e=Array.isArray(i.gVersion)?i.gVersion.join("."):i.gVersion,t=e.split(".").map(s=>+s),a=setup.VERSION,r=a.split(".").map(s=>+s);if(Ny(t,[1,6,1,0])){alert("Save files from before version 1.6.1.0 is not compatible with version 1.6.1.0+. The game will now attempt to convert into New Game Plus, but this is not always successful"),i.gNewGamePlusBackwardsCompat=!0,i.gUpdatePostProcess=!0,i.gVersion=a;return}if(e!==a){if(Ny(r,t)){alert("The loaded save file is from a newer game version, some things may break..."),i.gVersion=a;return}console.log(`Updating from ${e}...`),setup.notify(`Updating your save from ${e} to ${a}...`);const s=["training_edging_basic","training_edging_advanced","training_edging_master"];for(const h of Object.values(i.unit||{}))for(const p of s)p in h.trait_key_map&&(console.log(`Removing ${p} from ${h.key}`),delete h.trait_key_map[p]);"activityinstance"in i||(i.activityinstance={},i.ActivityInstance_keygen=1,i.activitylist=new setup.ActivityList),i.fort.player.ignored_building_template_key||(console.log("Adding ignored building template key"),i.fort.player.ignored_building_template_key={});const n=["diningpimp","scenerypimp","petpimp","fuckholepimp","serverslave"];for(const h of n){const p=Object.values(i.duty).filter(c=>c.template_key==h);if(p.length){console.log(`Removing obsolete duty ${h}`);for(const c of p){const d=c.unit_key;d&&(i.unit[d].duty_key=null),delete i.duty[c.key],i.dutylist.duty_keys=i.dutylist.duty_keys.filter(g=>g!=c.key)}}}const l=["recreationwingpet","recreationwingscenery","recreationwingfuckholes","recreationwingdining","bar","edgingtrainingroom","grandhall"];if("fort"in i)for(const h of l){delete i.fort.player.template_key_to_building_key[h];for(const p of Object.values(i.buildinginstance))p.template_key==h&&(console.log(`removing building ${h}`),i.fort.player.building_keys=i.fort.player.building_keys.filter(c=>c!=p.key),delete i.buildinginstance[p.key])}const u=["recreationwingdining","recreationwingfuckholes","recreationwingpet","recreationwingscenery","bar","edgingtrainingroom","grandhall"];if(i.roominstance)for(const h of Object.keys(i.roominstance)){const p=i.roominstance[h];u.includes(p.template_key)&&(console.log(`Removing room ${p.template_key}...`),delete i.roominstance[h])}i.titlelist&&!i.titlelist.last_obtained_negative&&(i.titlelist.last_obtained_negative={}),i.unitimage.image_need_reset||(i.unitimage.image_need_reset={}),Ny(t.map(h=>+h),[1,6,3,12])&&(setup.globalsettings.disabledefaultimagepack||(setup.globalsettings.imagepacks=(setup.globalsettings.imagepacks||[]).concat(setup.UnitImage.DEFAULT_IMAGE_PACKS[0]))),i.cache.clearAll(),i.deck={},i.gVersion=r,i.gUpdatePostProcess=!0,setup.notify("Update complete."),console.log(`Updated. Now ${i.gVersion}`)}},setup.updatePostProcess=function(){if(console.log("post-processing after upgrade..."),State.variables.gNewGamePlusBackwardsCompat){O_(!0,State.variables.company.player.getUnits({job:setup.job.slaver}).filter(i=>!i.isYou()));return}if(!State.variables.gUpdatePostProcess)throw new Error("Post process called mistakenly");State.variables.market&&!("equipmentmarket"in State.variables.market)&&(console.log("Creating equipment market"),new setup.MarketEquipment("equipmentmarket","Market (Equipment)"));for(const i of Object.values(setup.companytemplate))Object.values(State.variables.company).filter(e=>e.template_key==i.key).length||(console.log(`Creating new company: ${i.key}`),new setup.Company(i.key,i));for(const i of Object.values(State.variables.questinstance))for(const e in i.getTemplate().getActorUnitGroups())i.getActorUnit(e)||(console.log(`Adding actor ${e} to existing quest ${i.getName()}`),i.actor_unit_key_map[e]=setup.generateAnyUnit().key);for(const i of Object.values(State.variables.buildinginstance))for(;i.getTemplate()&&i.getLevel()>i.getTemplate().getMaxLevel();)console.log(`De-leveling ${i.getTemplate().getName()}`),i.downgrade();State.variables.fortgrid.removeIntersectingRooms(),State.variables.gUpdatePostProcess=!1};const Xf={if:2,else:2,elseif:2,switch:2,case:2,opt:2,optif:2,choose:2,dialogue:2,font:2,fontsize:2,p:1,div:1,span:1},Hy={else:"if",elseif:"if",opt:"choose",optif:"choose",case:"switch"},eb=4,MR=4;function pf(i,e){if(!i)return"undefined";const t=Xf[i];if(t===void 0)throw new Error(`Undefined expected brackets for tag ${i}`);return"<".repeat(t)+(e?"/":"")+i+">".repeat(t)}o(pf,"tagpretty"),setup.beautifyTwine=function(i){if(!i)return{errors:[],text:""};const e=i.split(`
`).map(p=>p.trim().replace(/\s+/g," ")).join(`
`);if(!e)return{errors:[],text:""};const t=[],a=[];let r=1;const s=[];function n(p){let c=p+1;for(;c<e.length&&e[c]!=`
`;)c+=1;return i.substr(p,c-p)}o(n,"build_context");let l=!0;const u=[];let h=null;for(let p=0;p<e.length;++p){if(e[p]==`
`){a.push(`
`),p+1<e.length&&u.push(n(p+1)),r+=1,l=!0,h="";const E=Math.max(0,u.length-MR);for(let x=E;x<u.length;++x)x>E&&(h+=`
`),h+=u[x];continue}if(e[p]!="<"){l&&(a.push(" ".repeat(eb*t.length)),l=!1),a.push(e[p]);continue}let c=p;for(;c<e.length&&e[c]=="<";)c+=1;const d=c-p;let g=c;for(;g<e.length&&e[g].match(/[\/\w]/);)g+=1;let m=e.substr(c,g-c),f=!1;if(m.startsWith("/")&&(f=!0,m=m.substr(1,m.length-1)),!(m in Xf||m in Hy)){l&&(a.push(" ".repeat(eb*t.length)),l=!1),a.push(e.substr(p,g-p)),p=g-1;continue}const b=Xf[m],v=pf(m,f);b!=d&&s.push({error:`Tag ${v} was found with incorrect number of brackets: ${d} instead of ${Xf[m]}`,line:r,context:h});let S=g,M=S,k=0;for(;;){for(;S<e.length&&e[S]!=">";)S+=1;for(M=S;M<e.length&&e[M]==">";)M+=1;if(k=M-S,k!=d&&k==0){s.push({error:`Closing brackets for tag ${v} not found`,line:r,context:h});break}if(k>d&&s.push({error:`Too many closing brackets for tag ${v}: found ${k} instead of ${d}`,line:r,context:h}),k>=d)break;S=M}let _=!1;if(f)if(!t.length)s.push({error:`Found closing bracket ${v} but there was nothing to close`,line:r,context:h});else{const E=t.pop();E!=m&&s.push({error:`Expects ${pf(E,!0)}, but found ${v} instead`,line:r,context:h})}else if(m in Hy){_=!0;const E=Hy[m],x=t[t.length-1];x!=E&&s.push({error:`Found improperly placed middle tag ${v}. Expected inside ${pf(E,!1)} but found inside ${pf(x,!1)} instead.`,line:r,context:h})}else _=!0,t.push(m);l||(a.push(`
`),r+=1,l=!0),l&&(_?a.push(" ".repeat(Math.max((t.length-1)*eb,0))):a.push(" ".repeat(t.length*eb)),l=!1);const T=e.substr(p,M-p);a.push(T),r+=T.count(`
`),p=M-1,p+1<e.length&&e[p+1]!=`
`&&(a.push(`
`),r+=1,l=!0)}return t.length&&s.push({error:`Missing closing tag for ${pf(t[t.length-1],!1)}`,line:r,context:h}),{text:a.join(""),errors:s}},setup.getAuthorCredits=function(){function i(t,a,r){for(const s in t){const n=t[s],l=n.getAuthor();if(l.name&&!(l.name in a)){a[l.name]={};for(const u of setup.CONTENT_CREATOR_TYPES)a[l.name][u]=[];a[l.name][r].push({content:n,info:l})}}for(const s in a)a[s][r].sort((n,l)=>n.content.getName().localeCompare(l.content.getName()))}o(i,"addToCredits");const e={};return i(setup.questtemplate,e,"quest"),i(setup.opportunitytemplate,e,"opportunity"),i(setup.event,e,"event"),i(setup.interaction,e,"interaction"),i(setup.activitytemplate,e,"activity"),e},setup.debugCrash=function(){throw new Error("Test crash from debugCrash")},setup.debugPrintRoomLocations=function(){for(const i of Object.values(State.variables.roominstance))i.getLocation()&&!i.getTemplate().isFixed()&&console.log(`'${i.getTemplate().key}': [${i.getClockwiseRotations()}, ${i.getLocation().row}, ${i.getLocation().col}],`)},setup.generateAnyUnit=function(){return setup.unitgroup.all.getUnit()},setup.DebugInit={},setup.DebugInit.playerUnit=function(){const i=State.variables;console.log("creating player"),i.unit.player=new setup.Unit(["PlayerName","PlayerLastName"],[setup.trait.gender_male,setup.trait.subrace_werewolf,setup.trait.bg_mercenary,setup.trait.dick_medium,setup.trait.balls_medium,setup.trait.anus_tight,setup.trait.per_brave,setup.trait.per_curious,setup.trait.tail_dragonkin,setup.trait.body_werewolf,setup.trait.arms_werewolf,setup.trait.legs_werewolf,setup.trait.mouth_werewolf,setup.trait.ears_werewolf],Array(setup.skill.length).fill(12),"player"),i.company.player.addUnit(i.unit.player,setup.job.slaver),i.titlelist.addTitle(i.unit.player,setup.title.leader)},setup.DebugInit.initCommon=function(){const i=State.variables;setup.DebugInit.playerUnit(),i.gDebug=!0},setup.DebugInit.initBuildings=function(i){const e=State.variables;let t;i?t=["constructionoffice","lodgings","dungeons","marketingoffice","relationsoffice","damagecontroloffice","dutyroom","missioncontrol","warehouse","prospectshall","slavepens","armory","messengerpost","hospital","trainingchamber","biolab","greathall","mailroom","scouthut","scouttower","scoutoffice","scoutcarriage","scoutharbor","recreationwing","surgery","ritualchamber","temple","market","moraleoffice","treatmentroom","bazaar","traumacenter","veteranhall","bedchamberwing","library","convincingroom","alchemistshop","classroom","warroom","inn","landscapingoffice","renovationoffice"]:t=["constructionoffice","lodgings","dungeons","marketingoffice","relationsoffice","damagecontroloffice","dutyroom","missioncontrol","warehouse","prospectshall","slavepens","armory","messengerpost","hospital","doctoroffice","trainingchamber","biolab","greathall","mailroom","mysticoffice","scouthut","scouttower","scoutoffice","scoutcarriage","scoutharbor","scouttunnel","recreationwing","analfuckhole","sissybooth","bath","cleaning","courtyard","gym","kennel","museum","oralfuckhole","stables","stage","theatre","forge","sexshop","torturechamber","fetishtrainingroom","trainingbedroom","trainingfield","traininggrounds","pasture","tavern","surgery","surgerydick","surgeryballs","surgerybreast","ritualchamber","poolofmist","deepritualchamber","deeppoolofmist","temple","prayerroom","market","moraleoffice","treatmentroom","treatmentroomblank","treatmentroomresetlevel","bazaar","traumacenter","veteranhall","bedchamberwing","library","convincingroom","alchemistshop","classroom","viceleaderoffice","specialistoffice","warroom","workshop","booths","inn","recreationwingservice","recreationwingsex","landscapingoffice","renovationoffice","portalindoors","portaloutdoors","garden"];for(const a of t)e.fort.player.build(setup.buildingtemplate[a]);e.company.player.addMoney(1e8),e.settings.autosave_interval=0,e.settings.inline_font=!0};function wR(){for(let t=0;t<25;++t)State.variables.fortgrid.expandIndoors();for(;State.variables.fortgrid.isCanExpandOutdoor();)State.variables.fortgrid.expandOutdoors();const i=["lodgings","dungeons","missioncontrol","armory","bedchamberwing","inn"];for(const t of i)State.variables.fort.player.getBuilding(setup.buildingtemplate[t]).upgrade();const e={questoffice:[3,-2,0],constructionoffice:[0,10,0],lodgings:[3,-14,0],dungeons:[1,-17,22],marketingoffice:[3,-8,0],relationsoffice:[3,-10,0],damagecontroloffice:[3,-4,0],dutyroom:[3,-6,0],missioncontrol:[1,-16,15],warehouse:[2,19,20],prospectshall:[2,2,13],slavepens:[2,2,15],armory:[3,-28,0],messengerpost:[3,1,6],hospital:[0,-14,4],doctoroffice:[1,-7,4],trainingchamber:[0,-28,10],biolab:[0,-28,19],greathall:[0,-6,9],mailroom:[0,-17,12],mysticoffice:[1,-9,4],scouthut:[0,14,6],scouttower:[2,17,9],scoutoffice:[2,17,7],scoutcarriage:[0,13,8],scouttunnel:[3,23,13],shipyard:[3,14,0],recreationwing:[0,38,0],analfuckhole:[2,39,8],sissybooth:[0,35,8],bath:[2,32,8],cleaning:[2,31,4],courtyard:[0,10,8],gym:[0,28,8],kennel:[0,27,4],museum:[3,27,0],oralfuckhole:[3,24,0],stables:[1,25,8],stage:[0,28,13],forge:[0,28,16],trainingfield:[0,28,19],theatre:[0,35,13],sexshop:[1,12,21],torturechamber:[2,-24,6],fetishtrainingroom:[0,-28,7],trainingbedroom:[2,-3,21],traininggrounds:[2,6,13],pasture:[1,24,4],tavern:[2,39,13],surgery:[3,-21,15],surgerydick:[3,-9,15],surgeryballs:[0,-16,17],surgerybreast:[3,-12,15],ritualchamber:[2,5,0],poolofmist:[0,1,3],deepritualchamber:[2,5,5],deeppoolofmist:[0,1,0],temple:[3,18,0],prayerroom:[3,20,13],market:[0,6,17],moraleoffice:[2,-3,7],treatmentroom:[0,-21,9],treatmentroomblank:[0,-17,8],treatmentroomresetlevel:[2,-17,4],bazaar:[0,12,13],traumacenter:[0,-20,3],veteranhall:[0,-14,9],bedchamberwing:[0,-25,0],library:[1,-11,20],convincingroom:[0,-28,15],alchemistshop:[3,12,17],classroom:[1,-7,20],viceleaderoffice:[1,-4,4],specialistoffice:[1,-2,4],warroom:[2,-5,15],workshop:[1,15,21],booths:[0,16,13],inn:[1,1,20],recreationwingservice:[0,38,4],recreationwingsex:[0,34,0],landscapingoffice:[0,10,2],renovationoffice:[3,10,5],portalindoors:[0,-5,7],portaloutdoors:[0,3,18],slaverroom:[3,-16,0],dungeonscell:[1,-19,22],lockerroom:[0,-8,7],armorystorage:[3,-23,9],bedchambersuite:[3,-3,17],innroom:[1,5,22],garden:[0,21,8]};for(const t of Object.values(State.variables.roominstance))if(t.getTemplate().key in e){const a=e[t.getTemplate().key];t.setRotation(a[0]),State.variables.fortgrid.relocateRoom(t,{row:a[1],col:a[2]})}}o(wR,"initRooms"),setup.DebugInit.createUnits=function(i){const e=State.variables;for(const[t,a]of i){const s=setup.unitpool[t].generateUnit();e.company.player.addUnit(s,setup.job[a])}},setup.DebugInit.levelUp=function(){const e=State.variables.company.player.getUnits({job:setup.job.slaver},"name");for(const t of e)for(let a=0;a<39;++a)t.levelUp()},setup.DebugInit.initSlavesCommon=function(){const i=State.variables;i.company.player.addUnit(setup.unitgroup.all.getUnit({retries:20,trait_key:"gender_female"}),setup.job.slave),i.company.player.addUnit(setup.unitgroup.all.getUnit({retries:20,trait_key:"gender_male"}),setup.job.slave);const e=[setup.unitgroup.all.getUnit({retries:20,trait_key:"gender_male"}),setup.unitgroup.all.getUnit({retries:20,trait_key:"gender_female"})];for(const a of e){i.company.player.addUnit(a,setup.job.slave);for(const r of setup.TraitHelper.getAllTraitsOfTags(["training","tradvanced"]))a.isTraitCompatible(r)&&a.addTrait(r,null,!0)}const t=[setup.unitgroup.all.getUnit({retries:20,trait_key:"gender_male"}),setup.unitgroup.all.getUnit({retries:20,trait_key:"gender_female"})];for(const a of t)i.company.player.addUnit(a,setup.job.slave),a.addTrait(setup.trait.training_mindbreak)},setup.DebugInit.contentCreatorInit=function(){setup.DebugInit.initCommon(),setup.DebugInit.initBuildings(!0);const i=State.variables,e=[["subrace_humankingdom_female","slaver"],["subrace_humanvale_male","slaver"],["subrace_humansea_female","slaver"],["subrace_humandesert_male","slaver"],["subrace_angel_female","slaver"],["subrace_elf_female","slaver"],["subrace_drow_female","slaver"],["subrace_fairy_female","slaver"],["subrace_werewolf_male","slaver"],["subrace_neko_female","slaver"],["subrace_tigerkin_male","slaver"],["subrace_kobold_male","slaver"],["subrace_lizardkin_male","slaver"],["subrace_dragonkin_male","slaver"],["subrace_demon_female","slaver"],["subrace_demonkin_female","slaver"],["subrace_orc_male","slaver"]];setup.DebugInit.createUnits(e),setup.DebugInit.initSlavesCommon(),i.notification.popAll()},setup.DebugInit.getEquipmentSet=function(i){const e=State.variables,t=e.armory.newEquipmentSet();for(const a of i)e.armory.addEquipment(a),e.armory.replaceEquipment(a,t);return t},setup.DebugInit.debugModeInit=function(){setup.DebugInit.initCommon(),setup.DebugInit.initBuildings(),wR();const i=State.variables,e=[["subrace_humankingdom_male","slaver"],["subrace_humankingdom_female","slaver"],["subrace_humanvale_male","slaver"],["subrace_humanvale_female","slaver"],["subrace_humansea_male","slaver"],["subrace_humansea_female","slaver"],["subrace_humandesert_male","slaver"],["subrace_humandesert_female","slaver"],["subrace_elf_male","slaver"],["subrace_elf_female","slaver"],["subrace_drow_male","slaver"],["subrace_drow_female","slaver"],["subrace_werewolf_male","slaver"],["subrace_werewolf_female","slaver"],["subrace_neko_male","slaver"],["subrace_neko_female","slaver"],["subrace_kobold_male","slaver"],["subrace_kobold_female","slaver"],["subrace_lizardkin_male","slaver"],["subrace_lizardkin_female","slaver"],["subrace_demon_male","slaver"],["subrace_demon_female","slaver"],["subrace_orc_male","slaver"],["subrace_orc_female","slaver"],["subrace_tigerkin_male","slaver"],["subrace_tigerkin_female","slaver"],["subrace_angel_male","slaver"],["subrace_angel_female","slaver"],["subrace_fairy_male","slaver"],["subrace_fairy_female","slaver"],["subrace_dragonkin_male","slaver"],["subrace_dragonkin_female","slaver"],["subrace_demonkin_male","slaver"],["subrace_demonkin_female","slaver"]];setup.DebugInit.createUnits(e),setup.DebugInit.initSlavesCommon();{const t=i.company.player.getUnits({job:setup.job.slaver},"name"),a=i.company.player.getUnits({job:setup.job.slave},"name");console.log("traumatizing slavers"),i.trauma.traumatize(t[0],10),i.trauma.traumatize(t[0],10),console.log("boonizing slavers"),i.trauma.boonize(t[1],10),i.trauma.boonize(t[1],10),console.log("friendship / rivalry slavers"),i.friendship.adjustFriendship(t[2],t[3],1e3),i.friendship.adjustFriendship(t[4],t[5],-1e3),i.friendship.adjustFriendship(t[6],a[0],-1e3),i.friendship.adjustFriendship(t[7],a[1],1e3),console.log("lovers"),i.friendship.adjustFriendship(t[8],t[9],1e3),i.friendship.hookup(t[8],t[9]),i.friendship.hookup(t[10],t[11]),t[12].weeks_with_you=500,console.log("duty unit"),i.dutylist.getDuty("doctor").assignUnit(t[8]);const r=setup.generateAnyUnit();i.company.player.addUnit(r,setup.job.slave),r.addTrait(setup.trait.training_obedience_master,null,!0),i.dutylist.getDuty("entertainmentslave").assignUnit(r),console.log("injuries");const s=setup.generateAnyUnit();i.company.player.addUnit(s,setup.job.slaver),i.hospital.injureUnit(s,3);const n=setup.generateAnyUnit();i.company.player.addUnit(n,setup.job.slave),i.hospital.injureUnit(n,1),console.log("missing units");const l=setup.generateAnyUnit();i.company.player.addUnit(l,setup.job.slaver),i.friendship.adjustFriendship(l,t[12],1e3),i.friendship.hookup(l,t[12]),setup.qc.MissingUnit("unit").apply(setup.costUnitHelper(l));const u=setup.generateAnyUnit();i.company.player.addUnit(u,setup.job.slave),setup.qc.MissingUnit("unit").apply(setup.costUnitHelper(u)),console.log("retired slaver"),t[13].weeks_with_you=setup.TRAIT_SENIOR_THRESHOLD+3,State.variables.retiredlist.retire(t[13])}console.log("market units"),new setup.MarketObject(setup.generateAnyUnit(),0,4,State.variables.market.slavermarket,"debug"),new setup.MarketObject(setup.generateAnyUnit(),5e3,1,State.variables.market.slavermarket,"debug"),new setup.MarketObject(setup.generateAnyUnit(),0,1,State.variables.market.slavemarket,"debug"),new setup.MarketObject(setup.generateAnyUnit(),5e3,4,State.variables.market.slavemarket,"debug"),console.log("market objects"),setup.qc.EquipmentForSale(setup.equipmentpool.all_combat,8).apply(setup.costUnitHelper(null,"debug")),setup.qc.EquipmentForSale(setup.equipmentpool.all_sex,8).apply(setup.costUnitHelper(null,"debug")),setup.qc.ItemForSale("itemmarket",setup.itempool.all,8).apply(setup.costUnitHelper(null,"debug")),setup.qc.ItemForSale("itemmarket",setup.itempool.furniture_normal,8).apply(setup.costUnitHelper(null,"debug"));{console.log("quests");const t=[setup.questtemplate.bounty_hunt_wolf,setup.questtemplate.healing_grove,setup.questtemplate.the_noble_games,setup.questtemplate.orcish_festival,setup.questtemplate.journey_to_atlantis,setup.questtemplate.trading_mission__southern_seas];for(const a of t)setup.qc.QuestDirect(a).apply()}{console.log("mails");const t=[setup.opportunitytemplate.capital_of_slaves,setup.opportunitytemplate.choose_your_own_adventure_];for(const a of t)setup.qc.Opportunity(a).apply()}{console.log("equipments");const t=[setup.equipment.combat_torso,setup.equipment.combat_legs_good,setup.equipment.combat_head,setup.equipment.brawn_neck,setup.equipment.brawn_rear_good,setup.equipment.brawn_arms,setup.equipment.brawn_mouth,setup.equipment.brawn_feet,setup.equipment.intrigue_eyes,setup.equipment.weapon_rapier];setup.DebugInit.getEquipmentSet(t);const a=setup.DebugInit.getEquipmentSet(t),r=i.company.player.getUnits({job:setup.job.slaver},"name");a.equip(r[0]);const s=[setup.equipment.manacles_up,setup.equipment.manacles_down,setup.equipment.blindfold,setup.equipment.ballgag,setup.equipment.metal_collar,setup.equipment.tailplug_dog,setup.equipment.hood_dog,setup.equipment.harness_dog,setup.equipment.nipplechains,setup.equipment.sex_legs],n=s.concat([setup.equipment.chastity_dick]),l=setup.DebugInit.getEquipmentSet(n),u=setup.unitgroup.all.getUnit({retries:20,trait_key:"gender_male"});i.company.player.addUnit(u,setup.job.slave),l.equip(u);const h=s.concat([setup.equipment.dildo]),p=setup.DebugInit.getEquipmentSet(h),c=setup.unitgroup.all.getUnit({retries:20,trait_key:"gender_female"});i.company.player.addUnit(c,setup.job.slave),p.equip(c)}{console.log("equipments initializations");for(const t of Object.values(setup.item))setup.qc.Item(t).apply();for(const t of Object.values(setup.equipment))t.isBasic()||setup.qc.EquipmentDirect(t).apply()}{console.log("bedchambers");const t=i.company.player.getUnits({job:setup.job.slaver},"name");i.bedchamberlist.newBedchamber();const[a,r]=i.bedchamberlist.getBedchambers();r.setSlaver(t[0]);for(const n of[a,r]){const l=setup.unitgroup.all.getUnit({retries:20,trait_key:"gender_male"});i.company.player.addUnit(l,setup.job.slave),n.getDuties()[0].assignUnit(l);const u=setup.unitgroup.all.getUnit({retries:20,trait_key:"gender_female"});i.company.player.addUnit(u,setup.job.slave),n.getDuties()[1].assignUnit(u);let h=l;n==r&&(h=u),h.addTrait(setup.trait.training_obedience_advanced,null,!0),n==a&&i.friendship.adjustFriendship(h,n.getSlaver(),1e3),n==a&&State.variables.family.setTwin(l,u),n==a&&State.variables.family.setSibling(n.getSlaver(),u)}const s=[setup.item.f_slaverbed_good,setup.item.f_slavebed_good,setup.item.f_foodtray_good,setup.item.f_drinktray_good,setup.item.f_reward_good,setup.item.f_punishment_good,setup.item.f_lighting_good,setup.item.f_tile_good,setup.item.f_object_good,setup.item.f_wall_good];for(const n of s)a.setFurniture(n.getSlot(),n)}console.log("slave orders"),setup.qc.SlaveOrderCapitalOfSlaves().apply(),console.log("favor / ire"),setup.qc.Favor("neko",600).apply(),setup.qc.Ire("bank",10).apply(),console.log("level up units"),setup.DebugInit.levelUp(),console.log("pop all"),i.notification.popAll(),console.log("end of debug init");{const t=[setup.questtemplate,setup.opportunitytemplate],a=["vale","forest","city","deep","desert","sea","fort"];for(const r of t)for(const s of Object.values(r))s.getTags().filter(n=>a.includes(n)).length||console.log(`${s.key} is missing a location tag.`)}};function RR(){const i=[["Quests",setup.questtemplate],["Mails",setup.opportunitytemplate],["Interactions",setup.interaction],["Events",setup.event],["Activity",setup.activitytemplate],["Traits",setup.trait],["Improvements",setup.buildingtemplate],["Rooms",setup.roomtemplate],["Items",setup.item],["Equipments",setup.equipment],["Title",setup.title],["Lore",setup.lore],["Sex Action",setup.sexaction],["Portraits",setup.UnitImage.UNIT_IMAGES],["Content Images",setup.ContentImage.CONTENT_IMAGE_PATH_TO_OBJ],["Living",setup.living],["Duty",setup.dutytemplate]],e=["getAllRegular","getAllScript","getAllStylesheet","getAllWidget"],t=[];for(const s of e)t.push(...Object.values(Story[s]()));let a=0;for(const s of t)a+=s.text.split(/\s+/).length;console.log(`Statistics for version: ${setup.VERSION}`),console.log(`Passages: ${t.length}`),console.log(`Word count (approx.): ${a}`);for(const s of i)console.log(`${s[0]}: ${Object.keys(s[1]).length}`);let r=`    <td>v${setup.VERSION}</td>
`;r+=`    <td>${t.length}</td>
`,r+=`    <td>${a}</td>
`;for(const s of i)r+=`    <td>${Object.keys(s[1]).length}</td>
`;r=`  <tr>
${r}  </tr>`,console.log(r)}o(RR,"printStatistics");function ER(){for(const i of Object.values(setup.unitpool)){const e=i.computeStatistics();console.log(`${i.key}: ${e.min} - ${e.max} (avg ${e.mean})}`)}RR()}o(ER,"printDebugInfos"),setup.DevToolHelper={},setup.DevToolHelper.stripNewLine=function(i){return i.replace(/(\r\n|\n|\r)/gm," ")},setup.DevToolHelper.fixDisplay=function(i){return i.split("").join("'").split("").join("'")},setup.DevToolHelper.debugDevToolTwine=function(i){return setup.DevToolHelper.fixDisplay(setup.DevToolHelper.stripNewLine(i))},setup.escapeTwine=function(i){return i.split(":").join("&#58;").split("$").join("&#36;").split("<").join("&#60;").split(">").join("&#62;").split("=").join("&#61;").split("/").join("&#47;").split("").join("'").split("").join("'").split("@").join("&#64;").split("_").join("&#95;")},setup.devToolFormat=function(i){return setup.escapeTwine(setup.beautifyTwine(i).text).split(" ").join("&nbsp;")},setup.DevToolHelper.getActors=function(){const i=State.variables.dtquest.getAllActorNames().map(e=>[e,`$g.${e}`]);return State.variables.devtooltype==="interaction"&&i.push(["Target","$g.target"]),i.push(["Player","$unit.player"]),i},setup.DevToolHelper.getCriteriasMap=function(){let i={};for(let e=0;e<setup.skill.length;++e)i[setup.skill[e].key]=[];for(let e in setup.qu){let t=setup.qu[e],a=t.getSkillMultis();for(let r=0;r<a.length;++r)a[r]&&i[setup.skill[r].key].push(t)}i.SLAVE=[];for(let e in setup.qu){let t=setup.qu[e],a=t.getRestrictions();for(let r=0;r<a.length;++r){let s=a[r];if(s instanceof setup.qresImpl.Job&&s.job_key==setup.job.slave.key){i.SLAVE.push(t);break}}}return i},setup.DevToolHelper.pickTraits=function(i,e){return State.temporary.seltraits=[],setup.Dialogs.open({title:"Pick traits",classnames:"trait-picker-dialog",content:setup.DOM.Menu.traitpickermulti({raw_traits:i||Object.values(setup.trait),init_selected:e||[],finish_callback:o(t=>{State.temporary.seltraits=t,Dialog.close()},"finish_callback")})}).then(()=>State.temporary.seltraits)},setup.DevToolHelper.pickTrait=function(i){return State.temporary.seltrait=null,setup.Dialogs.open({title:"Pick trait",classnames:"trait-picker-dialog",content:setup.DOM.Menu.traitpickersingle({raw_traits:i||Object.values(setup.trait),finish_callback:o(e=>{State.temporary.seltrait=e,Dialog.close()},"finish_callback")})}).then(()=>State.temporary.seltrait)},setup.DevToolHelper.pickLore=function(){return setup.Dialogs.open({title:"Pick lore",classnames:"trait-picker-dialog",passage:"LorePickerDialog"}).then(()=>State.temporary.sellore)},setup.DevToolHelper.pickBuilding=function(){return setup.Dialogs.open({title:"Pick building",classnames:"trait-picker-dialog",passage:"BuildingPickerDialog"}).then(()=>State.temporary.selbuilding)},setup.DevToolHelper.pickItem=function(){return setup.Dialogs.open({title:"Pick item",classnames:"trait-picker-dialog",passage:"ItemPickerDialog"}).then(()=>State.temporary.selitem)};function cf(i,e,t){return delete State.temporary[t],setup.DOM.Util.filterAll({menu:i,filter_objects:e,display_callback:o(a=>html`
      ${a.rep()}
      ${setup.DOM.Nav.button("Select",()=>{State.temporary[t]=a,Dialog.close()})}
    `,"display_callback")})}o(cf,"dialogMaker"),setup.DevToolHelper.pickCompany=function(){return setup.Dialogs.open({title:"Pick company",classnames:"trait-picker-dialog",content:cf("company",Object.values(State.variables.company),"selcompany")}).then(()=>State.temporary.selcompany)},setup.DevToolHelper.pickDutyTemplate=function(){return setup.Dialogs.open({title:"Pick duty template",classnames:"trait-picker-dialog",content:cf("dutytemplate",Object.values(setup.dutytemplate),"seldutytemplate")}).then(()=>State.temporary.seldutytemplate)},setup.DevToolHelper.pickTitle=function(i){return setup.Dialogs.open({title:"Pick title",classnames:"trait-picker-dialog",content:cf("title",i||Object.values(setup.title),"seltitle")}).then(()=>State.temporary.seltitle)},setup.DevToolHelper.pickItemPool=function(){return setup.Dialogs.open({title:"Pick item pool",classnames:"trait-picker-dialog",content:cf("itempool",Object.values(setup.itempool),"selitempool")}).then(()=>State.temporary.selitempool)},setup.DevToolHelper.pickEquipment=function(){return setup.Dialogs.open({title:"Pick equipment",classnames:"trait-picker-dialog",passage:"EquipmentPickerDialog"}).then(()=>State.temporary.selequipment)},setup.DevToolHelper.pickEquipmentPool=function(){return setup.Dialogs.open({title:"Pick equipment pool",classnames:"trait-picker-dialog",content:cf("equipmentpool",Object.values(setup.equipmentpool),"selequipmentpool")}).then(()=>State.temporary.selequipmentpool)},setup.DevToolHelper.saveScrollPos=function(){State.variables.qscrolly=document.documentElement.scrollTop},setup.DevToolHelper.restoreScrollPos=function(){setTimeout(function(){if(State.variables.qscrolly!==void 0){const i=State.variables.qscrolly;document.documentElement.scroll(0,i),delete State.variables.qscrolly}},1)},setup.clearQueue=function(){State.variables.devqueue={}},setup.getQueue=function(i){"devqueue"in State.variables||(State.variables.devqueue={});let e=State.variables.devqueue;return i in e||(e[i]=[]),e[i]},setup.devQueue=function(i,e){this.getQueue(i).push([State.variables.qPassageName,e]),State.variables.qPassageName=i},setup.devPop=function(i){let e=this.getQueue(i);if(!e.length)throw new Error(`Missing queue in ${i}`);let t=e.pop();return State.variables.qPassageName=t[0],t[1]},setup.DevToolHelper.getPassageIndex=function(i,e){for(;e&&!i[e].trim();)--e;return e},setup.DevToolHelper.printActivityDialogues=function(i){const e=i.getDialogues();let t=[],a=0;for(const r of e){a+=1;let s;if([r.texts.bold,r.texts.cool,r.texts.witty,r.texts.debauched].filter(n=>n.length>1||n[0].trim().length>0).length){const n=[];for(const l in r.texts){const u=r.texts[l].map(h=>setup.escapeTwine(setup.escapeJsString(h)));n.push(`&nbsp; &nbsp; ${l}: [
  ${u.map(h=>`&nbsp; &nbsp; &nbsp; "${h.replace(/\n/g," ")}",`).join(`
`)}
  &nbsp; &nbsp; ],`)}s=`{
  ${n.join(`
`)}
  &nbsp; }`}else s=`[
${r.texts.friendly.map(l=>setup.escapeTwine(setup.escapeJsString(l))).map(l=>`&nbsp; &nbsp; "${l.replace(/\n/g," ")}",`).join(`
`)}
      &nbsp; ]`;t.push(`{ """/* Dialogue #${a}: */"""
&nbsp; actor: "${setup.escapeJsString(r.actor)}",
&nbsp; texts: ${s},
}, """/* End of Dialogue #${a} */"""`)}return t.join(`
`)};const C_="globalsettings",df=(()=>{const i=storage.get(C_);return i&&typeof i=="object"?i:{}})(),P_=o(()=>{storage.set(C_,df)},"saveGlobalSettings"),L_=new Proxy(df,{set:o(function(i,e,t){return df[e]=t,P_(),!0},"set"),deleteProperty(i,e){return e in df?(delete df[e],P_(),!0):!1}});setup.globalsettings=L_;function U_(i,e){return o(function(a,...r){return[`%c[${i}]%c ${a}`,`color: ${e}`,"",...r]},"logmsg")}o(U_,"createLogger");const Fa="mods",gf=".focmod.js",By="focmod.js",Jt=U_("ModManager","royalblue"),tb=Symbol.for("FOC-MODDED"),Ov=class Ov{constructor(){y(this,"setup",{});y(this,"passages",{})}};o(Ov,"ModData");let Gy=Ov;const Cv=class Cv{constructor(){y(this,"original_objects",{});y(this,"data",new Gy)}init(){for(const[e,t]of Object.entries(SugarCube.setup))t&&(typeof t=="object"||typeof t=="function")&&(this.original_objects[e]=t,setup[e]=this.proxieated(t,`setup.${e}`))}cleanup(){Object.assign(SugarCube.setup,this.original_objects)}proxieated(e,t){const a=this;return new Proxy(e,{get(r,s,n){const l=`${t}.${String(s)}`;if(l in a.data.setup)return a.data.setup[l];const u=Object.getOwnPropertyDescriptor(e,s);if(typeof s!="symbol"&&(!u||u.configurable||u.writable)){const h=e[s];if(h&&(typeof h=="object"||typeof h=="function")&&!(h instanceof setup.Job||h instanceof setup.UnitCriteria||h instanceof setup.Job))return a.proxieated(h,l)}return Reflect.get(r,s,n)},set(r,s,n,l){const u=`${t}.${String(s)}`;return typeof s=="string"&&u.startsWith("setup.")?(a.data.setup[u]=n,!0):Reflect.set(r,s,n,l)},construct(r,s,n){return Reflect.construct(r,s,n)}})}};o(Cv,"ModLoadContext");let qy=Cv,xR=5e4;const vy=class vy{constructor(){y(this,"mods",{});y(this,"mods_unpacked",{});y(this,"reloading_promise",null);y(this,"script_load_callbacks",{});y(this,"applied_mods",[]);window.FocMod=this.registerMod.bind(this),this.reloading_promise=new Promise(e=>{setTimeout(()=>this._reloadMods().then(()=>this.reapplyMods()).then(e),1)})}resolveModScriptPath(e,t){let a=e;return e.includes("/")||(a=`./${Fa}/${e}`),t&&(a+="/"+By),a}registerMod(e){var r,s;const t=(s=(r=document.currentScript)==null?void 0:r.getAttribute)==null?void 0:s.call(r,"data-mod-path"),a=t&&this.script_load_callbacks[t];a&&(a.data=e)}loadUnpackedMod(e){var h;const t=(h=this.mods)[e]??(h[e]={}),a=t.files??(t.files={}),r=this.mods_unpacked[e];if(!r)throw new Error("Need to load the unpacked mod folder again (missing permissions)");const s=new Set(["focmod.js"]),n=[],l=o(p=>p instanceof Error?p.message:String(p),"getErrMsg");function u(p,c){return ab(p.entries()).then(d=>Promise.all(d.map(([g,m])=>{const f=c?`${c}/${g}`:g;if(!s.has(f)){if(m.kind==="directory")return u(m,f);if(m.kind==="file")return m.getFile().then(v=>v.text()).then(v=>a[f]=v).catch(v=>n.push(`Failed to load file "${f}": ${l(v)}`))}}))).catch(d=>n.push(`Failed to load directory "${c}": ${l(d)}`))}return o(u,"processDirectory"),u(r,"").then(()=>{if(n.length)throw n})}_reloadMods(){const e=Date.now();this.mods={},this.script_load_callbacks={};const t=this.script_load_callbacks,a=(L_.mods_installed??[]).map(r=>{const s=!r.includes("/")&&!r.endsWith(gf),n=this.resolveModScriptPath(r,s);return new Promise(l=>{const u=document.createElement("script");u.setAttribute("data-mod-path",r),t[r]={resolve:l},u.onload=()=>{var p;const h=t[r];h.data?(Object.assign((p=this.mods)[r]??(p[r]={}),h.data),h.resolve(null)):h.resolve(new Error("Mod info failed to load"))},u.onerror=h=>l("unable to load the mod"),u.src=`${n}?t=${e}`,document.body.appendChild(u)}).then(()=>s?this.loadUnpackedMod(r):void 0).then(()=>{console.info(...Jt(`Loaded mod info for "${r}"`))},l=>{var p;const u=(p=this.mods)[r]??(p[r]={}),h=u.errors??(u.errors=[]);if(Array.isArray(l))h.push(...l);else{const c=l instanceof Error?l.message:String(l);h.push(c)}console.info(...Jt(`Failed to load mod info for "${r}":
${h.join(`
`)}`))})});return Promise.all(a).then(()=>(this.script_load_callbacks={},this.reloadModData())).then(()=>{this.reloading_promise=null})}reloadMods(){return this.reloading_promise||(this.reloading_promise=this._reloadMods())}sortMods(e){e.sort((t,a)=>{var n,l,u,h;const r=((n=this.mods[t])==null?void 0:n.priority)??0,s=((l=this.mods[a])==null?void 0:l.priority)??0;return r!==s?r-s:(((u=this.mods[t])==null?void 0:u.key)??t).localeCompare(((h=this.mods[a])==null?void 0:h.key)??a)})}reloadModData(){console.info(...Jt("Reloading mod data"));const e=(setup.globalsettings.mods_installed||[]).filter(t=>this.mods[t]?!0:(console.warn(...Jt(`Skipping mod "${t}"`)),!1));if(this.sortMods(e),e.length>0)for(const t of e){const a=this.mods[t];if(!a)continue;const r=new qy;try{r.init();const n=Object.entries(a.files||{}).sort().filter(([l,u])=>/\.twee$/i.test(l));if(n.length){const l=document.createDocumentFragment();for(const[h,p]of n){const c=p.split(/^(?=::)/mg);for(let d of c){let g,m;const f=d.replace(/^::\s*(\w+)(?:\s*\[([^\]]+)\])?/,(b,v,S)=>(g=v,m=S,""));g&&(r.data.passages[g]={tags:m?m.trim().split(/\s+/g):[],content:f})}}const u=document.querySelector("tw-storydata");for(const[h,p]of Object.entries(r.data.passages)){if(!Story.has(h)){const c=document.createElement("tw-passagedata");c.setAttribute("name",h),c.setAttribute("pid",String(++xR)),p.tags.length&&c.setAttribute("tags",p.tags.join(" ")),c.textContent=p.content,u.appendChild(c),Story.add(new Passage(h,c))}if(p.tags.some(c=>setup.CONTENT_CREATOR_TYPES.includes(c))){new Wikifier(l,p.content);const c=[...l.querySelectorAll(".error-view")];if(c.length>0)throw c.map(d=>d.textContent)}}}a.data=r.data}catch(s){const n=Array.isArray(s)?s:[s instanceof Error?s.message:String(s)];(a.errors??(a.errors=[])).push(...n)}finally{r.cleanup()}}console.info(...Jt(`Finished reloading mod datas (${e.length})`))}reapplyMods(){var t,a;{for(const r of this.applied_mods)try{(t=r.onDisable)==null||t.call(r)}catch{console.error(...Jt(`Failed to disable mod "${r.key}"`));continue}for(const[r,s]of Object.entries(setup))s&&typeof s=="object"&&tb in s&&(setup[r]=s[tb])}this.applied_mods=[];const e=(State.variables.mods||[]).filter(r=>this.mods[r]?!0:(console.warn(...Jt(`Missing mod "${r}"`)),!1));this.sortMods(e);for(const r of e){const s=this.mods[r];if(s!=null&&s.data){try{(a=s.onEnable)==null||a.call(s)}catch{console.error(...Jt(`Failed to enable mod "${s.key}"`));continue}this.applied_mods.push(s);for(const[n,l]of Object.entries(s.data.setup)){const u=n.split(".");let h=setup;for(let p=1;p<u.length-1;++p){let c=h[u[p]];if(!(tb in c)){let d=c;c=Object.assign({[tb]:d},d),h[u[p]]=c}h=c}h[u[u.length-1]]=l}}}}};o(vy,"ModManagerClass"),y(vy,"MODDABLES",{ActivityTemplate:"",Event:"",UnitGroup:"",Title:"",Interaction:"",OpportunityTemplate:"",BanterInstance:"",UnitCriteria:"",QuestTemplate:"",QuestPool:""});let zy=vy;const Qe=new zy;setup.ModManager=Qe,setup.FileUtil={},setup.FileUtil.supportsDirectoryPicker=function(){return(window.location.protocol==="file:"||window.location.hostname==="localhost")&&"showDirectoryPicker"in window};function ab(i){return new Promise((e,t)=>{let a=[];function r({done:s,value:n}){s?e(a):(a.push(n),i.next().then(r,t))}o(r,"handleNext"),i.next().then(r,t)})}o(ab,"resolveAsyncIterator");function DR(i){return i?new Promise((e,t)=>{ab(i.entries()).then(a=>{let r=[];for(const[s,n]of a)if(n.kind==="directory"){const l=n;r.push(Promise.allSettled([l.getFileHandle("imagemeta.js"),l.getFileHandle("imagepack.js")]).then(u=>u.some(p=>p.status==="fulfilled")?s:null))}Promise.allSettled(r).then(s=>{const n=[];for(const l of s)l.status==="fulfilled"&&l.value&&n.push(l.value);e(n)})},()=>{console.error(`failed to list subfolders of '${setup.UnitImage.IMAGEPACK_DIR_NAME}'`),e([])})}):Promise.resolve([])}o(DR,"listImagePacks");function N_(i){return new Promise((e,t)=>{if(i.name===setup.UnitImage.IMAGEPACK_DIR_NAME)return e(i);i.getFileHandle("precompiled.html").then(a=>{i.getDirectoryHandle(setup.UnitImage.IMAGEPACK_DIR_NAME).then(r=>{e(r)},()=>{e(null)})},()=>{i.getDirectoryHandle("dist").then(a=>{N_(a).then(e,t)},()=>{e(void 0)})})})}o(N_,"findImagePacksDir");let ib=null;setup.FileUtil.autodetectImagePacks=function(){return ib?DR(ib).then(i=>{const e=[...setup.globalsettings.imagepacks||[]];for(const t of i)e.includes(t)||e.push(t);setup.globalsettings.imagepacks=e}):window.showDirectoryPicker({id:"foc-imagepacks",mode:"read"}).then(i=>{if(i)return N_(i).then(e=>{if(ib=e||null,e===void 0)return alert("The selected folder is not the game folder!");if(ib)return setup.FileUtil.autodetectImagePacks()})})};const H_={mods:{id:"foc-mods",expected_dir_name:Fa},unit_custom_images:{id:"foc-unit-custom-images",expected_dir_name:"customunit"}},rb={},yt={Store:{FilesystemHandles:"filesystem_handles"},open(){return window.indexedDB?new Promise(i=>{const e=window.indexedDB.open("FOC",1);e.onupgradeneeded=t=>{t.target.result.createObjectStore(yt.Store.FilesystemHandles,{keyPath:"id"})},e.onerror=()=>i(null),e.onsuccess=t=>{const a=t.target.result;i(a)}}):Promise.resolve(null)},readFilesystemHandle(i){return yt.open().then(e=>{if(!e)return Promise.resolve(null);const t=e.transaction([yt.Store.FilesystemHandles],"readonly");return new Promise(a=>{const r=t.objectStore(yt.Store.FilesystemHandles).get(i);r.onsuccess=s=>{var n;return a(((n=s.target.result)==null?void 0:n.handle)??null)},t.onerror=s=>(console.error(s),a(null))})})},saveFilesystemHandle(i,e){return yt.open().then(t=>{if(!t)return Promise.resolve(!1);const a=t.transaction([yt.Store.FilesystemHandles],"readwrite");return new Promise(r=>{a.objectStore(yt.Store.FilesystemHandles).put({id:i,handle:e}),a.oncomplete=()=>r(!0),a.onerror=s=>(console.error(s),r(!1))})})}};function B_(i,e,t){const a=o(()=>window.showDirectoryPicker({id:i.id,mode:"read"}).then(s=>i.expected_dir_name&&s.name!==i.expected_dir_name?(alert(`The selected directory "${s.name}" is not the FoC "${i.expected_dir_name}" folder!`),null):(rb[i.id]=s,yt.saveFilesystemHandle(i.id,s),s),s=>{console.error("Filed to open directory",s)}),"pickDirectory");let r=rb[i.id];return r?Promise.resolve(r):yt.readFilesystemHandle(i.id).then(s=>s&&s.kind==="directory"?(r=s,rb[i.id]=r,r):e?(rb[i.id]=null,null):a())}o(B_,"openDir");function IR(i){return B_(H_.unit_custom_images,i)}o(IR,"openUnitCustomImagesDir");function $R(){return B_(H_.mods)}o($R,"openModsDir");function OR(){return window.showDirectoryPicker({id:"foc-mod-unpacked",mode:"read"}).then(i=>i,()=>null)}o(OR,"openUnpackedModDir");function CR(i,e){return window.showSaveFilePicker({id:"foc-mod-packed",suggestedName:i}).then(t=>t.createWritable().then(a=>(a.write(e),a)).then(a=>a.close()).then(()=>!0),()=>null)}o(CR,"savePackedModFile"),setup.PermuteHelper={},setup.PermuteHelper.permute=o(function(e,t=1/0){let a=e.length,r=[e.slice()],s=new Array(a).fill(0),n=1,l,u;for(;n<a&&r.length<t;)s[n]<n?(l=n%2&&s[n],u=e[n],e[n]=e[l],e[l]=u,++s[n],n=1,r.push(e.slice())):(s[n]=0,++n);return r},"permute"),setup.QuestAssignHelper={},setup.QUEST_AUTO_ASSIGN_MAX_PERMUTATIONS=24,setup.QuestAssignHelper.assignUnit=function(i,e,t){const a=State.variables.gAdhocUnitUsed,r=State.variables.gAdhocQuestActorMap;if(r[i]==e.key)return;let s=null;r[i]&&(s=State.variables.unit[r[i]],delete a[s.key],delete r[i]);const n=a[e.key];n&&(delete a[e.key],delete r[n]),a[e.key]=i,r[i]=e.key,s&&n&&t.isCanAssign(s)&&(a[s.key]=n,r[n]=s.key)},setup.QuestAssignHelper.isAllActorsFilled=function(){const i=State.variables.questinstance[State.variables.gAdhocQuest_key],e=State.variables.gAdhocQuestActorMap;for(const t in i.getTemplate().getUnitCriterias())if(!(t in e))return!1;return!0},setup.QuestAssignHelper.computeSuccessObjRep=function(){const i=State.variables.questinstance[State.variables.gAdhocQuest_key],e=State.variables.gAdhocQuestActorMap,t={};for(const r in e)t[r]=State.variables.unit[e[r]];const a=setup.QuestDifficulty.computeSuccessObj(i.getTemplate().getDifficulty(),i.getTemplate().getUnitCriterias(),t);return setup.QuestDifficulty.explainChance(a)};function ja(i,e){const t={};for(const r in e)t[r]=State.variables.unit[e[r]];const a=new setup.Team;State.variables.company.player.addTeam(a);for(const r of Object.values(t))a.addUnit(r);i.assignTeam(a,t)}o(ja,"doFinalize"),setup.QuestAssignHelper.finalize=function(i){const e=State.variables.gAdhocQuestActorMap;i.getTeam()&&i.cancelAssignTeam(),ja(i,e)},setup.QuestAssignHelper.initialize=function(i){State.variables.gAdhocQuest_key=i.key;const e={},t={},a=i.getUnitCriteriasList();for(const[r,s,n]of a)n&&(e[r]=n.key,t[n.key]=r);State.variables.gAdhocQuestActorMap=e,State.variables.gAdhocUnitUsed=t},setup.QuestAssignHelper.computeGreedyAutoAssignment=function(i,e,t,a){const r={},s={};let n=0;for(const l of t){const u=i[l].criteria;let h=null,p=null;for(const c of e){if(c.key in s||!u.isCanAssign(c))continue;const d=a[u.key][c.key];(!h||d>p)&&(h=c,p=d)}if(!h)return{actor_unitkey_map:null,total_score:-1/0};s[h.key]=!0,r[l]=h.key,n+=p}return{actor_unitkey_map:r,total_score:n}},setup.QuestAssignHelper.computeAutoAssignment=function(i,e){let t=[];e?t=e:t=State.variables.company.player.getUnits({available:!0}).filter(h=>h.isCanGoOnQuestsAuto());let a="computeScore";const r=State.variables.menufilter.get("questassign","score");r=="crit"?a="computeScoreCrit":r=="success"?a="computeScoreSuccess":r=="failure"&&(a="computeScoreFailure");const s=i.getTemplate().getUnitCriterias(),n=i.getTemplate().getDifficulty(),l={};for(const h in s){const p=s[h].criteria;for(const c of t)p.isCanAssign(c)&&(l[p.key]===void 0&&(l[p.key]={}),l[p.key][c.key]=p[a](c,n))}let u={actor_unitkey_map:null,total_score:-1/0};for(const h of setup.PermuteHelper.permute(Object.keys(s),setup.QUEST_AUTO_ASSIGN_MAX_PERMUTATIONS)){const p=setup.QuestAssignHelper.computeGreedyAutoAssignment(s,t,h,l);p.total_score>u.total_score&&(u=p)}return u.actor_unitkey_map};function PR(i,e){return()=>{ja(i,e),setup.runSugarCubeCommand("<<focgoto>>")}}o(PR,"partyCallback");function LR(i,e){return()=>{const t=[];for(const a of State.variables.partylist.getParties()){const r=a.getUnits().filter(n=>n.isAvailable()),s=setup.QuestAssignHelper.computeAutoAssignment(i,r);if(s){const n={};for(const h in s)n[h]=State.variables.unit[s[h]];const l=setup.QuestDifficulty.computeSuccessObj(i.getTemplate().getDifficulty(),i.getTemplate().getUnitCriterias(),n),u=setup.QuestDifficulty.explainChance(l);t.push(A({text:`${a.getName()} ${u}`,callback:PR(i,s),cssclass:e}))}}return t.length||t.push(A({text:"<span class='lightgraytext'>No eligible party</span>",cssclass:e})),t}}o(LR,"partyChildrenCallback"),setup.QuestAssignHelper.computeAutoAssignmentScoreRepIfAny=function(i){const e=setup.QuestAssignHelper.computeAutoAssignment(i);if(!e)return"";const t={};for(const r in e)t[r]=State.variables.unit[e[r]];const a=setup.QuestDifficulty.computeSuccessObj(i.getTemplate().getDifficulty(),i.getTemplate().getUnitCriterias(),t);return setup.QuestDifficulty.explainChance(a)},setup.QuestAssignHelper.tryAutoAssign=function(i){if(State.variables.company.player.isCanDeployTeam()&&i.isCostsSatisfied()){const e=setup.QuestAssignHelper.computeAutoAssignment(i);if(e)return ja(i,e),!0}return!1},setup.QuestAssignHelper.getAssignMenu=function(i){const e=[];if(i.getTeam()){const t=setup.QuestDifficulty.explainChance(i.getScoreObj());e.push(I({text:`Edit Team ${t}`,tooltip:"Pick different units to go on this quest",callback:o(()=>{setup.QuestAssignHelper.initialize(i),setup.runSugarCubeCommand('<<focgoto "QuestAdhocAssign">>')},"callback")})),e.push(I({text:"Cancel",tooltip:"Cancel the unit assignments on this quest",callback:o(()=>{i.cancelAssignTeam(),setup.runSugarCubeCommand("<<refreshquests>>")},"callback")}))}else{const t=i.isCostsSatisfied();if(t?e.push(I({text:"Assign Units",tooltip:"Complete this quest by assigning units to go on it",callback:o(()=>{setup.QuestAssignHelper.initialize(i),setup.runSugarCubeCommand('<<focgoto "QuestAdhocAssign">>')},"callback")})):e.push(P({text:"Costs not satisfied"})),State.variables.fort.player.isHasBuilding(setup.buildingtemplate.missioncontrol)){t&&(e.push(I({text:`Auto-Assign <span id="autoassignchance${i.key}"></span>`,tooltip:"Let the game automatically pick units to go on this quest. Does not always pick the optimal set of units, but the game tries its best to do so. You can change how the game picks the units via the gear menu on the right.",callback:o(()=>{setup.QuestAssignHelper.tryAutoAssign(i)?setup.runSugarCubeCommand("<<focgoto>>"):setup.runSugarCubeCommand('<<focgoto "QuestAdhocNoAssignment">>')},"callback")})),setTimeout(()=>{let s=setup.QuestAssignHelper.computeAutoAssignmentScoreRepIfAny(i);s||(s="<span class='lightgraytext'>(No assignment found)</span>"),$(`#autoassignchance${i.key}`).empty(),$(`#autoassignchance${i.key}`).html(s)},1),State.variables.partylist.getParties().length&&e.push(I({text:'Party <i class="sfa sfa-down-dir"></i>',tooltip:"Send units from one particular party to go on this quest",children:LR(i),clickonly:!0}))),e.push(State.variables.menufilter.getMenuFilterToolbarSingleMenu(setup.MenuFilter.getMenus("questassign"),"questassign","score"));const a=[];if(State.variables.fort.player.isHasBuilding(setup.buildingtemplate.greathall)){let r=!1;State.variables.company.player.isIgnored(i.getTemplate())&&(r=!0),a.push(I({text:"Ignore",tooltip:'If checked, this quest will not be displayed in your quest list. You can show ignored quests by using the "Ignored" filter menu.',checked:r,callback:o(()=>{State.variables.company.player.isIgnored(i.getTemplate())?State.variables.company.player.unignoreQuestTemplate(i.getTemplate()):State.variables.company.player.ignoreQuestTemplate(i.getTemplate()),setup.runSugarCubeCommand("<<refreshquests>>")},"callback")}))}!i.getTeam()&&i.isDismissable()&&a.push(Oe({text:"Remove quest",tooltip:"<<dangertext 'WARNING'>>: This will remove this quest forever!",callback:o(()=>{i.expire(),setup.runSugarCubeCommand("<<refreshquests>>")},"callback")})),a.length&&e.push(be({children:a}))}}return e},setup.RestrictionLib={},setup.RestrictionLib.isRestrictionsAllowDefiant=function(i){for(const e of i)if(e instanceof setup.qresImpl.AllowDefiant)return!0;return!1},setup.RestrictionLib.isUnitSatisfyIncludeDefiancy=function(i,e){return!setup.RestrictionLib.isRestrictionsAllowDefiant(e)&&i.isDefiant()?!1:setup.RestrictionLib.isUnitSatisfy(i,e)},setup.RestrictionLib.isUnitSatisfy=function(i,e){for(let t=0;t<e.length;++t)if(!e[t].isOk(i))return!1;return!0},setup.RestrictionLib.isPrerequisitesSatisfied=function(i,e){if(!Array.isArray(e))throw new Error("2nd element of is prereq must be array");for(let t=0;t<e.length;++t)if(!e[t].isOk(i))return!1;return!0},setup.RestrictionLib.applyAll=function(i,e){for(let t=0;t<i.length;++t)i[t].apply(e)},setup.RestrictionLib.isActorUnitGroupViable=function(i){for(const e of Object.values(i))if(Array.isArray(e)){let t=!1;for(const a of setup.QuestPool.getYourUnitBaseCandidates(e))if(setup.RestrictionLib.isUnitSatisfyIncludeDefiancy(a,e)){t=!0;break}if(!t)return!1}else if(e instanceof setup.ContactTemplate&&!State.variables.contactlist.getContacts(e).filter(a=>a.getUnit()&&!a.getUnit().isEngaged()).length)return!1;return!0},setup.rng={},setup.rng.normalizeChanceArray=function(i){let e=0;for(let t=0;t<i.length;++t)e+=i[t][1];if(!e)throw new Error("Sum of chances must be non zero");for(let t=0;t<i.length;++t)i[t][1]/=e},setup.rng.sampleArray=function(i,e){let t=i;e&&(t=i.filter(r=>!0),setup.rng.normalizeChanceArray(t));let a=Math.random();for(let r=0;r<t.length;++r){let s=t[r];if(s[1]>=a)return s[0];a-=s[1]}return null},setup.rng.sampleObject=function(i,e){let t=[];for(let a in i)t.push([a,i[a]]);return e&&setup.rng.normalizeChanceArray(t),setup.rng.sampleArray(t)},setup.rng.AllPermutations=function(i){let e=[];const t=o((a,r=[])=>{if(a.length===0)e.push(r);else for(let s=0;s<a.length;s++){let n=a.slice(),l=n.splice(s,1);t(n.slice(),r.concat(l))}},"permute");return t(i),e},setup.rng.QuestChancePick=function(i){i.sort((a,r)=>a[1]<r[1]?-1:a[1]>r[1]?1:0);let e=Math.floor(Math.random()*100);i[0][1]==0?e=0:e<i[0][1]&&(e=i[0][1]);let t=0;for(;t+1<i.length&&i[t+1][1]<=e;)t+=1;return t+=1,i[Math.floor(Math.random()*t)][0]},setup.rng.shuffleArray=function(i){for(let e=i.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1)),a=i[e];i[e]=i[t],i[t]=a}},setup.rng.choice=function(i){if(!i.length)throw new Error("Cannot random choice empty array");return i[Math.floor(Math.random()*i.length)]},setup.rng.choicesRandom=function(i,e){if(i.length<e)throw new Error(`Not enough elements in array for ${e} choices`);if(!e)return[];let t=i.filter(a=>!0);return setup.rng.shuffleArray(t),t.splice(0,e)},setup.SaveUtil={},setup.SaveUtil.convertToClass=function(i){let e={calendar:setup.Calendar,titlelist:setup.TitleList,friendship:setup.Friendship,bedchamberlist:setup.BedchamberList,contactlist:setup.ContactList,armory:setup.Armory,eventpool:setup.EventPool,family:setup.Family,inventory:setup.Inventory,opportunitylist:setup.OpportunityList,slaveorderlist:setup.SlaveOrderList,hospital:setup.Hospital,notification:setup.Notification,settings:setup.Settings,statistics:setup.Statistics,trauma:setup.Trauma,varstore:setup.VarStore,dutylist:setup.DutyList};for(let a in e)a in i&&!(i[a]instanceof e[a])&&(console.log(`Upgrading ${a} to class...`),i[a]=setup.rebuildClassObject(e[a],i[a]));let t={unit:setup.Unit,bedchamber:setup.Bedchamber,contact:setup.Contact,equipmentset:setup.EquipmentSet,opportunityinstance:setup.OpportunityInstance,questinstance:setup.QuestInstance,slaveorder:setup.SlaveOrder,buildinginstance:setup.BuildingInstance,company:setup.Company,fort:setup.Fort,team:setup.Team};for(let a in t)if(a in i)for(let r in i[a])i[a][r]instanceof t[a]||(console.log(`Upgrading ${a} ${r} to class...`),i[a][r]=setup.rebuildClassObject(t[a],i[a][r]))},setup.onSave=function(i,e){if((State.passage=="MainLoop"||State.variables.qDevTool)&&(i.state.history[i.state.index].variables=setup.deepCopy(State.variables)),!State.variables.qDevTool)for(let t=0;t<i.state.history.length;++t)t!=i.state.index&&(i.state.history[t].variables={});for(let t=0;t<i.state.history.length;++t)i.state.history[t].variables.cache&&i.state.history[t].variables.cache.clearAll(),i.state.history[t].variables.roomlist&&i.state.history[t].variables.roomlist.resetCache(),i.state.history[t].variables.fortgrid&&i.state.history[t].variables.fortgrid.resetCache(),i.state.history[t].variables.gFortGridControl&&i.state.history[t].variables.gFortGridControl.resetCache(),i.state.history[t].variables.roomlist&&i.state.history[t].variables.roomlist.resetCache()},setup.onLoad=function(i){let e=i.state.history[i.state.index].variables;if(e.qDevTool){if("dtquest"in e){let t=e.dtquest;t.TYPE=="quest"?setup.questtemplate[t.key]=t:t.TYPE=="opportunity"?setup.opportunitytemplate[t.key]=t:t.TYPE=="event"?setup.event[t.key]=t:t.TYPE=="interaction"?setup.interaction[t.key]=t:t.TYPE=="activity"&&(setup.activitytemplate[t.key]=t)}if("qcustomtitle"in e){let t=e.qcustomtitle;for(let a=0;a<t.length;++a){let r=t[a];r.key in setup.title||new setup.Title(r.key,r.name,r.description,r.unit_text,r.slave_value,r.skill_adds)}}if("qcustomunitgroup"in e){let t=e.qcustomunitgroup;for(let a=0;a<t.length;++a){let r=t[a];new setup.UnitGroup(r.key,r.name,r.getUnitPools(),r.reuse_chance,r.unit_post_process)}}}setup.BackwardsCompat.upgradeSave(e)},setup.rebuildClassObject=function(i,e){let t=Object.create(i.prototype);return setup.copyProperties(t,e),t},setup.deserializeClass=function(i,e,t){let a=setup;if(t){const r=t.split(".");if(r[0]!="setup")throw new Error(`Cannot deserialize non setup object: ${t}`);for(let s=1;s<r.length;++s)a=a[r[s]]}return setup.rebuildClassObject(a[i],e)},setup.toJsonHelper=function(i,e,t){let a={};return setup.copyProperties(a,e),t?JSON.reviveWrapper(`setup.deserializeClass("${i}", $ReviveData$, "${t}")`,a):JSON.reviveWrapper(`setup.deserializeClass("${i}", $ReviveData$)`,a)},setup.SaveUtil.getSaveAsText=function(){const i=Object.assign({},{id:Config.saves.id,state:State.marshalForSave(),version:null});return Config.saves.version&&(i.version=Config.saves.version),setup.onSave(i),i.state.delta=State.deltaEncode(i.state.history),delete i.state.history,JSON.stringify(i)},setup.SaveUtil.importSaveFromText=function(i){try{const e=JSON.parse(i);if(!e||!e.hasOwnProperty("id")||!e.hasOwnProperty("state"))throw new Error(L10n.get("errorSaveMissingData"));if(e.state.history=State.deltaDecode(e.state.delta),delete e.state.delta,setup.onLoad(e),e.id!==Config.saves.id)throw new Error(L10n.get("errorSaveIdMismatch"));State.unmarshalForSave(e.state),Engine.show()}catch(e){return UI.alert(`${e.message.toUpperFirst()}.</p><p>${L10n.get("aborting")}.`),!1}return!0},setup.deleteEndOfWeekCaches=function(){delete State.variables.gFortGridControl,State.variables.fortgrid.resetCache()},Object.defineProperty(String.prototype,"hashCode",{value:o(function(){let i=0,e,t;for(e=0;e<this.length;e++)t=this.charCodeAt(e),i=(i<<5)-i+t,i|=0;return i},"value")}),setup.ActivityInstance=(mr=class extends setup.TwineClass{constructor(e,t,a){super(),this.key=State.variables.ActivityInstance_keygen,State.variables.ActivityInstance_keygen+=1,this.template_key=e.key,this.room_key=a.key,this.actor_unit_key_map={};for(let r in t){const s=t[r];if(State.variables.activitylist.getActivityOf(s))throw new Error(`Unit ${s.key} already on another activity`);this.actor_unit_key_map[r]=s.key}if(this.key in State.variables.activityinstance)throw new Error(`Activity Instance ${this.key} already exists`);State.variables.activityinstance[this.key]=this,State.variables.activitylist.registerActivity(this)}getRoomInstance(){return State.variables.roominstance[this.room_key]}delete(){State.variables.activitylist.unregisterActivity(this),delete State.variables.activityinstance[this.key];for(const[e,t]of this.getActorsList())t.checkDelete()}rep(){return setup.repMessage(this,"activitycardkey")}getName(){return this.getTemplate().getName()}getTemplate(){return setup.activitytemplate[this.template_key]}getActorsList(){let e=[];for(let t in this.actor_unit_key_map){let a=State.variables.unit[this.actor_unit_key_map[t]];e.push([t,a])}return e}getActorObj(){const e=this.getActorsList(),t={};return e.forEach(a=>{t[a[0]]=a[1]}),t}getActorUnit(e){return State.variables.unit[this.actor_unit_key_map[e]]}getSeed(){return this.seed?this.seed:(this.seed=1+Math.floor(Math.random()*999999997),this.seed)}getDisplay(){const e=setup.Tile.getTileSize();let a=this.getRoomInstance().getWidth()-1,r=0,s=0;const n=[];for(const[l,u]of this.getActorsList())n.push(`<span data-tooltip="<<activitycardkey ${this.key}>>" data-tooltip-wide>
        ${setup.DOM.toString(setup.DOM.Util.Image.load({image_name:u.getImage(),image_class:"activity-unit",extra_styles:`top: ${e*r+e/2}px; left: ${e*s+e/2}px; width: ${e}px; height: ${e}px;`}))}
      </span>`),s+=1,s==a&&(s=0,r+=1);return n.join("")}debugKillActors(){setup.QuestInstance.debugKillActorsDo(this.getActorsList())}},o(mr,"ActivityInstance"),mr),setup.ActivityList=(fr=class extends setup.TwineClass{constructor(){super(),this.room_instance_key_to_activity_key={},this.unit_key_to_activity_key={}}getAllActivityTemplateOfRarity(e){return Object.values(setup.activitytemplate).filter(t=>t.getRarity()==e)}generateActivity(e){const t=setup.Rarity.getRandomRarityOrderWeighted();for(const a of t){let r=this.getAllActivityTemplateOfRarity(a).filter(n=>setup.RestrictionLib.isUnitSatisfy(e,n.getPrimaryActorRestrictions())).map(n=>[n,n.computeWeight(e)]).filter(n=>n[1]>0),s=setup.ACTIVITY_MAX_ATTEMPT_PER_RARITY;for(;r.length&&s;){s-=1;const n=setup.rng.sampleArray(r,!0);if(r=r.filter(l=>l[0]!=n),n.isCanGenerateFor(e)){const l=n.makeInstance(e);if(l)return l}}}return null}deleteAllActivities(){for(const e of Object.values(State.variables.activityinstance))e.delete()}advanceWeek(){this.deleteAllActivities();for(const e of State.variables.company.player.getUnits({job:setup.job.slaver}))Math.random()<setup.ACTIVITY_CHANCE&&e.isHome()&&!this.getActivityOf(e)&&this.generateActivity(e)}removeUnitActivity(e){const t=this.getActivityOf(e);t&&t.delete()}registerActivity(e){const t=e.getRoomInstance().key;if(t in this.room_instance_key_to_activity_key)throw new Error(`Duplicated activity on room ${t}`);this.room_instance_key_to_activity_key[t]=e.key;const a=e.getActorsList();for(const[r,s]of a){const n=s.key;if(this.unit_key_to_activity_key[n])throw new Error(`Unit ${n} already on an activity!`);this.unit_key_to_activity_key[n]=e.key}}unregisterActivity(e){const t=e.getActorsList();for(const[r,s]of t){const n=s.key;delete this.unit_key_to_activity_key[n]}const a=e.getRoomInstance().key;delete this.room_instance_key_to_activity_key[a]}_validateActivity(e){if(e){const t=e.getTemplate().getActorUnitGroups();for(const[a,r]of e.getActorsList())if(Array.isArray(t[a])&&!r.isHome()&&!r.isRetired())return e.delete(),null}return e||null}getActivityOf(e){return this._validateActivity(State.variables.activityinstance[this.unit_key_to_activity_key[e.key]])}getActivityAt(e){return this._validateActivity(State.variables.activityinstance[this.room_instance_key_to_activity_key[e.key]])}},o(fr,"ActivityList"),fr),setup.activitytemplate={},setup.ActivityTemplate=(br=class extends De{constructor({key:e,name:t,author:a,tags:r,actor_unitgroups:s,critical_traits:n,disaster_traits:l,restrictions:u,rarity:h,dialogues:p,room_templates:c,devtool:d}){super(e,t,a,r,s,setup.qdiff.normal40);for(const m of Object.values(this.actor_unitgroup_key_map))m.type=="companyunit"&&(d?m.val=m.val.filter(f=>!(f instanceof setup.qresImpl.Home)&&!(f instanceof setup.qresImpl.NotYou)&&!(f instanceof setup.qresImpl.NotOnActivity)&&!(f instanceof setup.qresImpl.Available)):(m.val.push(setup.qres.NotYou(),setup.qres.NotOnActivity()),!setup.Living.isRestrictionsAllowRetired(m.val)&&m.val.filter(f=>f instanceof setup.qresImpl.IsInjured).length==0&&m.val.push(setup.qres.Available())));if(!Array.isArray(this.getPrimaryActorRestrictions()))throw new Error(`First actor for activity ${this.key} must be a company unit!`);if(!Object.keys(s).length)throw new Error(`Activity ${this.key} missing actor!`);if(!Array.isArray(Object.values(s)[0]))throw new Error(`Primary actor for ${this.key} must be a slaver!`);const g="activity";if(this.TYPE=g,!Array.isArray(n))throw new Error(`Critical Traits must be an array for Activity ${this.key}`);if(!Array.isArray(l))throw new Error(`Critical Traits must be an array for Activity ${this.key}`);if(this.critical_trait_keys=n.map(m=>m.key),this.critical_trait_keys.filter(m=>!m).length)throw new Error(`Undefined critical trait for Activity ${this.key}`);if(this.disaster_trait_keys=l.map(m=>m.key),this.disaster_trait_keys.filter(m=>!m).length)throw new Error(`Undefined disaster trait for Activity ${this.key}`);if(this.restrictions=u,!Array.isArray(u))throw new Error(`Restrictions must be an array for Activity ${this.key}`);for(const m of u)if(!(m instanceof setup.Restriction))throw new Error(`Restriction ${m} isnt' a restriction`);if(this.rarity=h,!(h instanceof setup.Rarity))throw new Error(`Rarity for ${this.key} must be a Rarity`);if(this.dialogues=p,!Array.isArray(p))throw new Error("Dialogue must be an array");for(let m=0;m<p.length;++m){const f=p[m];if(Array.isArray(f.texts)){const b=f.texts;f.texts={friendly:b,bold:b,cool:b,witty:b,debauched:b}}else{if(Object.values(f.texts).length!=Object.values(setup.speech).length)throw new Error("Missing speech type in dialogue!");for(const b of Object.keys(f.texts))if(!(b in setup.speech))throw new Error(`Missing speech type ${b} in dialogue for Activity ${this.key}`);if(!(f.actor in this.actor_unitgroup_key_map))throw new Error(`Missing dialogue actor ${f.actor} from Activity ${this.key}`)}}if(!Array.isArray(c))throw new Error("Room Templates must be an array");for(const m of c)if(!(m instanceof setup.RoomTemplate))throw new Error(`Room template ${m} isnt' a room_template`);if(this.room_template_keys=c.map(m=>m.key),e in setup.activitytemplate)throw new Error(`Activity Base ${e} already exists`);setup.activitytemplate[e]=this}sanityCheck(){if(!this.name)return"Name cannot be null";for(let e=0;e<this.restrictions.length;++e)if(!setup.QuestTemplate.isCostActorIn(this.restrictions[e],{a:""},this.actor_unitgroup_key_map))return`Actor ${this.restrictions[e].actor_name} not found in the ${e}-th quest restriction`;return Object.keys(this.actor_unitgroup_key_map).length?Array.isArray(Object.values(this.actor_unitgroup_key_map)[0])?this.dialogues.length?null:"Must have at least one line of dialogue!":"Primary actor must be a slaver!":"Must have at least one actor!"}rep(){return this.getName()}getDialogues(){return this.dialogues}getDialoguesDevTool(){const e=setup.deepCopy(this.getDialogues());for(const t of e){const a=t.texts,r=JSON.stringify(a.friendly);JSON.stringify(a.bold)==r&&JSON.stringify(a.cool)==r&&JSON.stringify(a.witty)==r&&JSON.stringify(a.debauched)==r&&(a.bold=[""],a.cool=[""],a.witty=[""],a.debauched=[""])}return e}makeProperFromDevTool(){for(const e of this.getDialogues())for(const t of Object.values(setup.speech)){const a=e.texts[t.key];a.length==1&&a[0]==""&&(e.texts[t.key]=e.texts.friendly)}}getRoomTemplates(){return this.room_template_keys.map(e=>setup.roomtemplate[e])}getRarity(){return this.rarity}getPrerequisites(){return this.restrictions}getPrimaryActorRestrictions(){return Object.values(this.getActorUnitGroups())[0]}getPrimaryActorName(){return Object.keys(this.getActorUnitGroups())[0]}getAvailableRoomIfAny(e){const t=this.getRoomTemplates();for(const a of t){const r=State.variables.roomlist.getRoomInstances({template:a});setup.rng.shuffleArray(r);for(const s of r)if(!State.variables.activitylist.getActivityAt(s))return s}return null}isCanGenerateFor(e){if(State.variables.settings.isBanned(this.getTags())||State.variables.calendar.isOnCooldown(this))return!1;const t=this.getPrimaryActorRestrictions();if(!setup.RestrictionLib.isUnitSatisfy(e,t))return!1;const a=this.getActorUnitGroups();if(!setup.RestrictionLib.isActorUnitGroupViable(a))return!1;const r=this.getPrerequisites();return!(!setup.RestrictionLib.isPrerequisitesSatisfied(this,r)||!this.getAvailableRoomIfAny(e))}getCriticalTraits(){return this.critical_trait_keys.map(e=>setup.trait[e])}getDisasterTraits(){return this.disaster_trait_keys.map(e=>setup.trait[e])}computeWeight(e){const t=this.getCriticalTraits().filter(n=>e.isHasTraitExact(n)).length,a=this.getDisasterTraits().filter(n=>e.isHasTraitExact(n)).length,r=setup.ACTIVITY_CHANCE_MULTIPLIER_CRIT_TRAITS,s=setup.ACTIVITY_CHANCE_MULTIPLIER_DISASTER_TRAITS;return r[Math.min(t,r.length-1)]*s[Math.min(a,s.length-1)]}getAllActorNames(){return Object.keys(this.getActorUnitGroups())}makeInstance(e){const t=this.getAvailableRoomIfAny(e);if(!t)return null;const a=this.getPrimaryActorName(),r={};e&&(r[a]=e);const s=setup.QuestPool.instantiateActors(this,r);return s?new setup.ActivityInstance(this,s,t):null}debugMakeInstance(e){State.variables.activitylist.deleteAllActivities();const t=this.makeInstance(null);if(t)return t;let a=this.getAvailableRoomIfAny(null);a||(a=setup.rng.choice(State.variables.roomlist.getRoomInstances()));const r=setup.DebugActor.getActors(this.getActorUnitGroups(),e);return new setup.ActivityInstance(this,r,a)}},o(br,"ActivityTemplate"),br),setup.DialogueHelper=(yr=class extends setup.TwineClass{static createEmptyDialogue(e){return{actor:e,texts:{friendly:[""],bold:[""],cool:[""],witty:[""],debauched:[""]}}}},o(yr,"DialogueHelper"),yr),setup.ActivityTemplateInitFuck=function(){const i=setup.rarity.rare,e=setup.rarity.epic,t={name:"Innoxia",url:"https://lilithsthrone.blogspot.com/"},a=["per_lustful","per_sexaddict"],r=[],s=["per_cruel"],n=["per_kind","per_honorable"],l=["per_lunatic","per_playful"],u=["per_stubborn"],h=a.concat(s),p=r.concat(n),c=["dungeons"],d=["lodgings"],g=[{name:"Fuck a slave",rooms:c,crits:h,disaster:p,type:"slave",unit_bodypart:setup.sexbodypart.penis,target_bodypart:setup.sexbodypart.vagina},{name:"Buttfuck a slave",rooms:c,crits:h,disaster:p,type:"slave",unit_bodypart:setup.sexbodypart.penis,target_bodypart:setup.sexbodypart.anus,restriction:[setup.qres.HasItem(setup.item.sexmanual_bodypart_anus)]},{name:"Tailfuck a slave",rooms:c,crits:h.concat(l),disaster:p.concat(u),type:"slave",rarity:e,unit_bodypart:setup.sexbodypart.tail,target_bodypart:setup.sexbodypart.vagina,restriction:[setup.qres.HasItem(setup.item.sexmanual_bodypart_tail)]},{name:"Anal Tailfuck a slave",rooms:c,crits:h.concat(l),disaster:p.concat(u),type:"slave",rarity:e,unit_bodypart:setup.sexbodypart.tail,target_bodypart:setup.sexbodypart.anus,restriction:[setup.qres.HasItem(setup.item.sexmanual_bodypart_tail),setup.qres.HasItem(setup.item.sexmanual_bodypart_anus)]},{name:"Facefuck a slave",rooms:c,crits:h,disaster:p,type:"slave",unit_bodypart:setup.sexbodypart.penis,target_bodypart:setup.sexbodypart.mouth},{name:"Have a slave eat you out",rooms:c,crits:h,disaster:p,type:"slave",unit_bodypart:setup.sexbodypart.vagina,target_bodypart:setup.sexbodypart.mouth,restriction:[setup.qres.HasItem(setup.item.sexmanual_penetration_mouthhole)]},{name:"Have a slave fuck you",rooms:c,crits:h,disaster:p,type:"slave",unit_bodypart:setup.sexbodypart.vagina,target_bodypart:setup.sexbodypart.penis},{name:"Have a slave tailfuck you",rooms:c,crits:h,disaster:p,type:"slave",rarity:e,unit_bodypart:setup.sexbodypart.vagina,target_bodypart:setup.sexbodypart.tail,restriction:[setup.qres.HasItem(setup.item.sexmanual_bodypart_tail)]},{name:"Consensual vaginal",rooms:d,crits:a,disaster:r,type:"slaver",unit_bodypart:setup.sexbodypart.penis,target_bodypart:setup.sexbodypart.vagina},{name:"Consensual anal",rooms:d,crits:a,disaster:r,type:"slaver",unit_bodypart:setup.sexbodypart.penis,target_bodypart:setup.sexbodypart.anus,restriction:[setup.qres.HasItem(setup.item.sexmanual_bodypart_anus)]},{name:"Consensual anal tailfuck",rooms:d,crits:a.concat(l),disaster:r.concat(u),type:"slaver",rarity:e,unit_bodypart:setup.sexbodypart.tail,target_bodypart:setup.sexbodypart.anus,restriction:[setup.qres.HasItem(setup.item.sexmanual_bodypart_tail),setup.qres.HasItem(setup.item.sexmanual_bodypart_anus)]},{name:"Consensual tailfuck",rooms:d,crits:a.concat(l),disaster:r.concat(u),type:"slaver",rarity:e,unit_bodypart:setup.sexbodypart.tail,target_bodypart:setup.sexbodypart.vagina,restriction:[setup.qres.HasItem(setup.item.sexmanual_bodypart_tail)]},{name:"Consensual oral",rooms:d,crits:a,disaster:r,type:"slaver",unit_bodypart:setup.sexbodypart.penis,target_bodypart:setup.sexbodypart.mouth},{name:"Consensual cunnilingus",rooms:d,crits:a,disaster:r,type:"slaver",unit_bodypart:setup.sexbodypart.vagina,target_bodypart:setup.sexbodypart.mouth,restriction:[setup.qres.HasItem(setup.item.sexmanual_penetration_mouthhole)]}];for(const m of g){let f=[];m.type=="slave"?(f=[setup.qres.Job(setup.job.slave),setup.qres.CanBeUsedByRememberedUnit()],m.target_bodypart==setup.sexbodypart.penis&&f.push(setup.qres.AnyTrait([setup.trait.dick_tiny,setup.trait.dick_small,setup.trait.dick_medium,setup.trait.dick_large,setup.trait.dick_huge,setup.trait.dick_titanic],!0))):m.type=="slaver"&&(f=[setup.qres.Job(setup.job.slaver),setup.qres.NoTrait(setup.trait.per_chaste)]),f=f.concat(m.target_bodypart.getHasRestrictions());const b={actor:"a",texts:[`<<set _dialogue = setup.Text.Dirty.talk({strip: true, unit: $g.a, target: $g.b, unit_bodypart: setup.sexbodypart.${m.unit_bodypart.key}, target_bodypart: setup.sexbodypart.${m.target_bodypart.key}})>> <<= _dialogue.unit_dialogue >>`]},v={actor:"b",texts:[`<<set _dialogue = setup.Text.Dirty.talk({strip: true, unit: $g.a, target: $g.b, unit_bodypart: setup.sexbodypart.${m.unit_bodypart.key}, target_bodypart: setup.sexbodypart.${m.target_bodypart.key}})>> <<= _dialogue.target_dialogue >>`]};new setup.ActivityTemplate({key:setup.getKeyFromName(m.name,setup.activitytemplate),name:m.name,author:t,tags:[],actor_unitgroups:{a:[setup.qres.Job(setup.job.slaver),setup.qres.NoTrait(setup.trait.per_chaste),setup.qres.RememberUnit()].concat(m.unit_bodypart.getHasRestrictions()),b:f},critical_traits:m.crits.map(S=>setup.selfOrObject(S,setup.trait)),disaster_traits:m.disaster.map(S=>setup.selfOrObject(S,setup.trait)),restrictions:m.restriction||[],rarity:m.rarity?m.rarity:i,dialogues:[b,v],room_templates:m.rooms.map(S=>setup.selfOrObject(S,setup.roomtemplate))})}},setup.BanterHelper={},setup.BanterHelper.banter=function(i,e,t){return t>0&&!i.isYou()&&!e.isYou()&&State.variables.friendship.isCanBecomeLovers(i,e)&&Math.random()<setup.LOVERS_HOOKUP_BANTER_CHANCE?State.variables.friendship.hookup(i,e):State.variables.friendship.adjustFriendship(i,e,t),State.variables.statistics.add("banters",1),new setup.BanterInstance(i,e,t)},setup.BanterHelper.isCanBanter=function(i,e){if(i==e||State.variables.hospital.isInjured(i)||State.variables.hospital.isInjured(e)||i.isMindbroken()||e.isMindbroken())return!1;let t=e.getBedchamber();return e.isSlave()&&t&&t.isPrivate()&&t.getSlaver()!=i?!1:!i.isHome()||!e.isHome()?i.getTeam()&&e.getTeam()&&i.getTeam()==e.getTeam():!0},setup.BanterHelper._computeBanter=function(i,e,t){let a=State.variables.friendship.getCompatibility(i,e),r=a[0]+1,s=a[1]+1,n=State.variables.friendship.getFriendship(i,e),l=setup.BANTER_GAIN_MIN+Math.random()*(setup.BANTER_GAIN_MAX-setup.BANTER_GAIN_MIN);l=Math.round(l);let u=0;if(t?u=t:n>0?Math.random()<n/500&&(u=1):n<0&&Math.random()<Math.abs(n)/500&&(u=-1),!u){let h=r/(r+s);Math.random()<h?u=1:u=-1}return l*=u,setup.BanterHelper.banter(i,e,l)},setup.BanterHelper.doBanter=function(i){if(i.getJob()!=setup.job.slaver||Math.random()<.5)return null;let e=State.variables.friendship.getFriendships(i);if(i.isHome()){let a=State.variables.bedchamberlist.getBedchambers({slaver:i});for(let r=0;r<a.length;++r){let s=a[r].getSlaves();for(let n=0;n<s.length;++n){let l=s[n];if(!State.variables.friendship.getFriendship(i,l)&&setup.BanterHelper.isCanBanter(i,l))return setup.BanterHelper._computeBanter(i,l)}}}if(e.length>=setup.BANTER_FRIENDS_SOFT_LIMIT){setup.rng.shuffleArray(e);for(let a=0;a<e.length;++a){let r=e[a][0];if(setup.BanterHelper.isCanBanter(i,r))return setup.BanterHelper._computeBanter(i,r)}}if(e.length>=setup.BANTER_FRIENDS_HARD_LIMIT)return null;let t=State.variables.company.player.getUnits();setup.rng.shuffleArray(t);for(let a=0;a<t.length;++a){let r=t[a];if(!(e.length<setup.BANTER_USE_LIMIT&&r.getJob()==setup.job.slave)&&setup.BanterHelper.isCanBanter(i,r))return setup.BanterHelper._computeBanter(i,r)}return null},setup.BanterInstance=(kr=class{constructor(e,t,a){this.initiator_key=e.key,this.target_key=t.key,this.friendship_amt=a,this.text=setup.Text.Banter.generate(e,t,a)}getTexts(){return this.text}getFriendshipAmt(){return this.friendship_amt}getActorObj(){return{a:this.getInitiator(),b:this.getTarget()}}getInitiator(){return State.variables.unit[this.initiator_key]}getTarget(){return State.variables.unit[this.target_key]}},o(kr,"BanterInstance"),kr);function G_(i){return State.variables.gDebug?`${i.getName()} (key: '${i.key}')`:i.getName()}o(G_,"domCardName");function we(i){return State.variables.gDebug?`${i.rep()} (key: '${i.key}')`:i.getName()}o(we,"domCardRep");function Fy(i){return State.variables.gDebug?html`${setup.DOM.Util.namebold(i)} (key: '${i.key}')`:setup.DOM.Util.namebold(i)}o(Fy,"domCardNameBold"),setup.BEDCHAMBER_OPTIONS={walk:{walk:{text:"can walk freely",kindness:1,cruelty:0},crawl:{text:"must crawl on all fours",kindness:0,cruelty:1}},orgasm:{yes:{text:"can reach orgasm",kindness:1,cruelty:0},no:{text:"are denied all orgasms",kindness:0,cruelty:1}},speech:{full:{text:"can talk like normal",kindness:1,cruelty:0},animal:{text:"can only make animal-like noises",kindness:0,cruelty:1},none:{text:"are not allowed to make any humanlike noises",kindness:0,cruelty:0}},food:{normal:{text:"eat normal food",kindness:1,cruelty:0},cum:{text:"can only eat food splattered with cum",kindness:0,cruelty:1},milk:{text:"can only eat food mixed with humanlike milk",kindness:0,cruelty:1}},share:{yes:{text:"can be used by other slavers",kindness:0,cruelty:0},no:{text:"not usable by other slavers",kindness:0,cruelty:0}}},setup.BEDCHAMBER_OPTION_CHANCES={friendly:{walk:{walk:.9,crawl:.1},orgasm:{yes:.9,no:.1},speech:{full:.9,animal:.05,none:.05},food:{normal:.9,cum:.05,milk:.05},share:{yes:.95,no:.05}},bold:{walk:{walk:.5,crawl:.5},orgasm:{yes:.5,no:.5},speech:{full:.45,animal:.05,none:.5},food:{normal:.8,cum:.1,milk:.1},share:{yes:.5,no:.5}},cool:{walk:{walk:.5,crawl:.5},orgasm:{yes:.1,no:.9},speech:{full:.01,animal:.09,none:.9},food:{normal:.9,cum:.05,milk:.05},share:{yes:.7,no:.3}},witty:{walk:{walk:.3,crawl:.7},orgasm:{yes:.2,no:.8},speech:{full:.25,animal:.7,none:.05},food:{normal:.35,cum:.35,milk:.35},share:{yes:.8,no:.2}},debauched:{walk:{walk:.1,crawl:.9},orgasm:{yes:.1,no:.9},speech:{full:.1,animal:.4,none:.5},food:{normal:.1,cum:.45,milk:.45},share:{yes:.6,no:.4}}},setup.Bedchamber=(vr=class extends setup.TwineClass{constructor(){super(),this.key=State.variables.Bedchamber_keygen,State.variables.Bedchamber_keygen+=1,this.name=`Bedchamber ${this.key}`,this.furniture_map={};for(let e in setup.furnitureslot)this.furniture_map[e]=null;if(this.option_map={walk:"walk",orgasm:"yes",speech:"full",food:"normal",share:"yes"},this.slaver_key=State.variables.unit.player.key,this.key in State.variables.bedchamber)throw new Error(`Bedchamber ${this.key} already exists`);State.variables.bedchamber[this.key]=this,this.duty_keys=[];for(let e=0;e<2;++e){const t=State.variables.dutylist.addDuty(new setup.DutyInstanceBedchamberSlave({bedchamber:this,index:e}));this.duty_keys.push(t.key)}}rep(){return setup.repMessage(this,"bedchambercardkey")}getOptionMap(){return this.option_map}getSlaver(){if(!this.slaver_key)throw new Error(`null slaver key at ${this.key}`);return State.variables.unit[this.slaver_key]}setSlaver(e){if(!e)throw new Error(`must have unit for set slaver at ${this.key}`);const t=this.getSlaver();this.slaver_key=e.key,e!=State.variables.unit.player&&this.autoSetOptions(),t.resetCache(),e.resetCache()}getDuties(){return this.duty_keys.map(e=>State.variables.duty[e])}getSlaves(){let e=[],t=this.getDuties();for(let a=0;a<t.length;++a){let r=t[a].getUnitIfAvailable();r&&e.push(r)}return e}getAssignedSlaves(){let e=[],t=this.getDuties();for(let a=0;a<t.length;++a){let r=t[a].getAssignedUnit();r&&e.push(r)}return e}getFurniture(e){let t,a=this.furniture_map[e.key];return a?t=setup.item[a]:t=e.getBasicFurniture(),t&&t instanceof setup.Furniture?t:void 0}isHasFurniture(e){return this.getFurniture(e.getSlot())==e}autoAssignFurniture(){const e=State.variables.inventory.getItems().map(t=>t.item).filter(t=>t instanceof setup.Furniture);for(const t of Object.values(setup.furnitureslot)){const a=e.filter(u=>u.getSlot()==t);if(!a.length)continue;a.sort((u,h)=>{const p=u.getSkillMods().reduce((d,g)=>d+g,0);return h.getSkillMods().reduce((d,g)=>d+g,0)-p});const r=a[0],n=this.getFurniture(t).getSkillMods().reduce((u,h)=>u+h,0),l=r.getSkillMods().reduce((u,h)=>u+h,0);n<l&&this.setFurniture(t,r)}}setFurniture(e,t){if(t&&t.getSlot()!=e)throw new Error(`furniture at wrong slot: ${t.key} not at ${e.key}`);let a=this.getFurniture(e);a.isBasic()||(State.variables.notification.disable(),State.variables.inventory.addItem(a),State.variables.notification.enable()),t?(State.variables.notification.disable(),State.variables.inventory.removeItem(t),State.variables.notification.enable(),this.furniture_map[e.key]=t.key):this.furniture_map[e.key]=null,this.getSlaver().resetCache()}getSkillAddition(){let e=Array(setup.skill.length).fill(0);for(let a in setup.furnitureslot){let s=this.getFurniture(setup.furnitureslot[a]).getSkillMods();for(let n=0;n<e.length;++n)e[n]+=s[n]}let t=this.getSlaver();if(t){let a=this.getSlaves();for(let r=0;r<a.length;++r){let s=a[r],n=State.variables.friendship.getFriendship(t,s),l=0;for(let u=0;u<setup.BEDCHAMBER_SLAVE_SKILL_GAIN.length;++u){let h=setup.BEDCHAMBER_SLAVE_SKILL_GAIN[u];Math.abs(n)>=h&&++l}for(let u=0;u<e.length;++u)e[u]+=l}}return e}autoSetOptions(){let e=this.getSlaver();if(!e)throw new Error("missing slaver??");let t=e.getSpeech().key;if(!(t in setup.BEDCHAMBER_OPTION_CHANCES))throw new Error(`Missing ${t} in setup bedchamber options chances`);let a=setup.BEDCHAMBER_OPTION_CHANCES[t];for(let r in a){let s=a[r];this.option_map[r]=setup.rng.sampleObject(s,!0)}}getOption(e){if(!(e in setup.BEDCHAMBER_OPTIONS))throw new Error(`invalid option for bedchamber: ${e}`);return this.option_map[e]}getKindness(){let e=0;for(let t in this.option_map){let a=this.option_map[t];e+=setup.BEDCHAMBER_OPTIONS[t][a].kindness}return e}getCruelty(){let e=0;for(let t in this.option_map){let a=this.option_map[t];e+=setup.BEDCHAMBER_OPTIONS[t][a].cruelty}return e}getName(){return this.name}isPrivate(){return this.getOption("share")=="no"}getMenu(e){const t=[];return t.push(de({text:we(this)})),t.push(P({text:`${this.getSlaver().rep()}`})),e&&(State.variables.gPassage!="BedchamberChangeFurniture"&&t.push(I({text:"Edit",tooltip:"Add / remove furnitures from this room",callback:o(()=>{State.variables.gBedchamber_key=this.key,State.variables.gBedchamberChangeFurnitureReturnPassage=State.variables.gPassage,setup.DOM.Nav.goto("BedchamberChangeFurniture")},"callback")})),t.push(I({text:"Auto-Furnish",tooltip:"Automatically put the best furnitures for this room",callback:o(()=>{this.autoAssignFurniture(),setup.DOM.Nav.goto()},"callback")})),t.push(be({children:[I({text:"Change rules",tooltip:"Change the slave rules of your bedroom, which may change whether the slaves will like you or be afraid of you.",callback:o(()=>{State.variables.gBedchamber_key=this.key,setup.DOM.Nav.goto("BedchamberOptionsChange")},"callback")}),I({text:"Change owner",tooltip:"Give the room a different slaver owner",callback:o(()=>{State.variables.gBedchamber_key=this.key,setup.DOM.Nav.goto("BedchamberOwnerChange")},"callback")}),I({text:"Rename",tooltip:"Rename the room",callback:o(()=>{State.variables.gBedchamber_key=this.key,setup.DOM.Nav.goto("BedchamberRename")},"callback")})]}))),t}},o(vr,"Bedchamber"),vr),setup.BedchamberList=(Sr=class extends setup.TwineClass{constructor(){super(),this.bedchamber_keys=[]}newBedchamber(){let e=new setup.Bedchamber;return this.bedchamber_keys.push(e.key),e}getBedchambers(e){let t=[];for(let a=0;a<this.bedchamber_keys.length;++a){let r=State.variables.bedchamber[this.bedchamber_keys[a]];e&&"slaver"in e&&r.getSlaver()!=e.slaver||t.push(r)}return t}},o(Sr,"BedchamberList"),Sr),setup.Contact=(Tr=class extends setup.TwineClass{constructor(e,t,a){if(super(),e||(e=State.variables.Contact_keygen,State.variables.Contact_keygen+=1),this.is_active=!0,this.template_key=t.key,this.expires_in=t.getExpiresIn(),a){if(a.contact_key)throw new Error(`Unit is already a contact for contact ${a.contact_key}`);this.unit_key=a.key,a.contact_key=e,a.getUnitGroup()&&a.getUnitGroup().removeUnit(a)}else this.unit_key=null;if(this.key=e,this.key in State.variables.contact)throw new Error(`Duplicate key ${this.key} for contact`);State.variables.contact[this.key]=this}getUnit(){return this.unit_key?State.variables.unit[this.unit_key]:null}delete(){const e=this.getUnit();e&&(e.contact_key=null,e.checkDelete()),delete State.variables.contact[this.key]}isActive(){return!!this.is_active}toggleIsActive(){this.is_active=!this.is_active}getTemplate(){return this.template_key?setup.contacttemplate[this.template_key]:null}rep(){let e=setup.repMessage(this,"contactcardkey");return this.getUnit()&&(e+=` (${this.getUnit().rep()})`),e}getDescriptionPassage(){return this.getTemplate().getDescriptionPassage()}isCanExpire(){return!(this.expires_in===null||this.expires_in===void 0)}getExpiresIn(){if(!this.isCanExpire())throw new Error("Can't expire");return this.expires_in}getName(){return this.getTemplate().getName()}getApplyObjs(){return this.getTemplate().getApplyObjs()}advanceWeek(){this.isCanExpire()&&(this.expires_in-=1)}isExpired(){return this.expires_in<=0}apply(){this.isActive()&&setup.RestrictionLib.applyAll(this.getApplyObjs(),this)}},o(Tr,"Contact"),Tr),setup.ContactList=(_r=class extends setup.TwineClass{constructor(){super(),this.contact_keys=[]}getContacts(e){let t=this.contact_keys.map(a=>State.variables.contact[a]);return e&&(t=t.filter(a=>a.getTemplate()==e)),t}addContact(e){if(State.variables.statistics.add("contact_obtained",1),!e)throw new Error("Contact undefined adding contact to contactlist");if(this.contact_keys.includes(e.key))throw new Error(`Contact ${e.key} already in contactlist`);this.contact_keys.push(e.key),setup.notify(`<<successtext 'New contact'>>: ${e.rep()}`)}removeContact(e){if(!e)throw new Error("Contact undefined removing contact to contactlist");if(!this.contact_keys.includes(e.key))throw new Error(`Contact ${e.key} not found in contactlist`);this.contact_keys=this.contact_keys.filter(t=>t!=e.key),setup.queueDelete(e,"contact")}isHasContact(e){let t=this.getContacts();for(let a=0;a<t.length;++a)if(t[a].getTemplate()==e)return!0;return!1}advanceWeek(){let e=[],t=this.getContacts();for(let a=0;a<t.length;++a){let r=t[a];r.apply(),r.advanceWeek(),r.isExpired()&&e.push(r)}for(let a=0;a<e.length;++a)this.removeContact(e[a])}},o(_r,"ContactList"),_r),setup.ContactTemplate=(Ar=class extends setup.TwineClass{constructor(e,t,a,r,s,n){if(super(),!e)throw new Error(`Missing ${e}`);if(this.key=e,!t)throw new Error(`Missing ${t}`);this.name=t,this.tags=a,this.description_passage=r,this.apply_objs=s;for(let l=0;l<this.apply_objs.length;++l)if(!this.apply_objs[l])throw new Error(`${l}-th applyobj for contact ${e} missing`);if(this.expires_in=n,this.key in setup.contacttemplate)throw new Error(`Duplicate key ${this.key} for contact template`);setup.contacttemplate[this.key]=this}isCanDeactivate(){return!this.getTags().includes("alwaysactive")}getTags(){return this.tags}getDescriptionPassage(){return this.description_passage}getName(){return this.name}getApplyObjs(){return this.apply_objs}getExpiresIn(){return this.expires_in}rep(){return this.getName()}},o(Ar,"ContactTemplate"),Ar),setup.ContentImage=(Tt=class extends setup.TwineClass{static initalize(){function e(a,r){const s=[];for(const n in r){const l=`${a}/${n}`,u=r[n],h={path:l,info:u};setup.ContentImage.CONTENT_IMAGE_PATH_TO_OBJ[l]=h,s.push(h)}return s}o(e,"parseImageList");function t(a,r){return importScripts(a).then(function(){const s=window.IMAGE_CREDITS;if(!s)throw new Error(`IMAGE_CREDITS not found in ${a}`);e(r,s),delete window.IMAGE_CREDITS},()=>{console.log("Image meta for contents not found")})}o(t,"Construct"),t(setup.ContentImage.IMAGEMETA,setup.ContentImage.IMAGE_DIR)}static getImageObjectIfAny(e){const t=`${setup.ContentImage.IMAGE_DIR}/${e}`;if(t in setup.ContentImage.CONTENT_IMAGE_PATH_TO_OBJ)return setup.ContentImage.CONTENT_IMAGE_PATH_TO_OBJ[t];if(State.variables.gDebug)throw new Error(`${e} not found in img/content/imagemeta.js!`);return null}static getCreditsByArtist(){const e={};for(const t of Object.values(setup.ContentImage.CONTENT_IMAGE_PATH_TO_OBJ))t.info&&(t.info.artist in e||(e[t.info.artist]=[]),e[t.info.artist].push(t));return e}},o(Tt,"ContentImage"),y(Tt,"CONTENT_IMAGE_PATH_TO_OBJ",{}),y(Tt,"IMAGEMETA","img/content/imagemeta.js"),y(Tt,"IMAGE_DIR","img/content/all"),Tt),setup.qc={},setup.qcImpl={},setup.Cost=(Mr=class extends setup.TwineClass{static initConstructors(){setup.qcImpl=Object.freeze(setup.qcImpl);for(const[e,t]of Object.entries(setup.qcImpl))setup.qc[e]=function(...a){return new t(...a)},setup.qc[e].class=t}static deserialize(e,t){const a=setup.qcImpl[e];if(a){const r=Object.create(a.prototype);return Object.assign(r,t)}else return console.error(`Attempted to deserialize cost "${e}" which does not exist`),new setup.qcImpl.Nothing}text(){throw new Error("Must be implemented")}apply(e){throw new Error("Must be implemented")}explain(e){throw new Error("Must be implemented")}toJSON(){const e={};return setup.copyProperties(e,this),JSON.reviveWrapper(`setup.Cost.deserialize("${this.constructor.name}", $ReviveData$)`,e)}isOk(e){throw new Error(`${this.constructor.name} not a cost`)}undoApply(e){throw new Error(`${this.constructor.name} not undoable`)}},o(Mr,"Cost"),Mr),setup.SexCost=(wr=class extends setup.Cost{constructor(){super(),this.sex=State.temporary.gSex}},o(wr,"SexCost"),wr),setup.qcImpl.Building=(Rr=class extends setup.Cost{constructor(e){super(),this.template_key=e.key}text(){return`setup.qc.Building(setup.buildingtemplate.${this.template_key})`}isOk(){throw new Error("Building not a cost")}apply(e){let t=setup.buildingtemplate[this.template_key];State.variables.fort.player.build(t)}undoApply(){throw new Error("Building not undoable")}explain(){return`${setup.buildingtemplate[this.template_key].rep()}`}},o(Rr,"Building"),Rr),setup.qcImpl.Contact=(Er=class extends setup.Cost{constructor(e,t,a){if(super(),this.contacttemplate_key=setup.keyOrSelf(e),this.actor_name=t,this.unit_group_key=null,a&&(this.unit_group_key=setup.keyOrSelf(a)),t&&a)throw new Error("Can't have both unit group and actor")}text(){return`setup.qc.Contact(setup.contacttemplate.${this.contacttemplate_key}, ${this.actor_name?`'${this.actor_name}'`:"null"}, ${this.unit_group_key?`'${this.unit_group_key}'`:"null"})`}getTemplate(){return setup.contacttemplate[this.contacttemplate_key]}getUnitGroup(){return this.unit_group_key?setup.unitgroup[this.unit_group_key]:null}apply(e){const t=setup.contacttemplate[this.contacttemplate_key];let a;this.actor_name?a=e.getActorUnit(this.actor_name):this.getUnitGroup()?a=this.getUnitGroup().getUnit():a=null,State.variables.contactlist.addContact(new setup.Contact(null,t,a))}explain(){let e=`Get a new contact: ${this.getTemplate().rep()}`;return this.getUnitGroup()?e+=` from ${this.getUnitGroup().rep()}`:this.actor_name&&(e+=` with unit ${this.actor_name}`),e}},o(Er,"Contact"),Er),setup.qcImpl.ContactLose=(xr=class extends setup.Cost{constructor(e){super(),this.contacttemplate_key=setup.keyOrSelf(e)}text(){return`setup.qc.ContactLose(setup.contacttemplate.${this.contacttemplate_key})`}getTemplate(){return setup.contacttemplate[this.contacttemplate_key]}apply(e){const t=setup.contacttemplate[this.contacttemplate_key],a=State.variables.contactlist.getContacts(t);for(const r of a)State.variables.contactlist.removeContact(r)}explain(){return`Lose contact: ${this.getTemplate().rep()}`}},o(xr,"ContactLose"),xr),setup.qcImpl.Duty=(Dr=class extends setup.Cost{constructor(e){super(),this.duty_template_key=setup.keyOrSelf(e)}apply(e){const t=setup.dutytemplate[this.duty_template_key];let a;t.isHasPrestigeAmount()?a=setup.DutyInstancePrestigeSlave:a=setup.DutyInstance;const r=new a({duty_template:setup.dutytemplate[this.duty_template_key]});State.variables.dutylist.addDuty(r)}explain(){`${setup.Article(setup.dutytemplate[this.duty_template_key].getName())}`}},o(Dr,"Duty"),Dr),setup.qcImpl.EmptyUnitGroup=(Ir=class extends setup.Cost{constructor(e){if(super(),setup.isString(e)?this.unit_group_key=e:this.unit_group_key=e.key,!this.unit_group_key)throw new Error(`no key for unit group ${e} in EmptyUnitGroup`)}text(){let e=setup.unitgroup[this.unit_group_key],t=State.variables.qcustomunitgroup;t||(t=[]);let a=e.key;for(let r=0;r<t.length;++r){let s=t[r];if(s.key==e.key){a=s.otherkey;break}}return`setup.qc.EmptyUnitGroup('${a}')`}isOk(e){throw new Error("Reward only")}apply(e){setup.unitgroup[this.unit_group_key].removeAllUnits()}undoApply(e){throw new Error("Can't undo")}explain(e){return`Unitgroup ${setup.unitgroup[this.unit_group_key].rep()} is cleared of all units`}},o(Ir,"EmptyUnitGroup"),Ir),setup.qcImpl.Function=($r=class extends setup.Cost{constructor(e,t){super(),this.func=e,this.display_text=t}text(){return`setup.qc.Function(
      ${this.func.toString()},
      "${this.display_text}",
    )`}apply(e){this.func(e)}explain(e){return this.display_text?this.display_text:"Runs a custom function"}},o($r,"Function"),$r),setup.qcImpl.Item=(Or=class extends setup.Cost{constructor(e,t){if(super(),!e)throw new Error("Null item");this.item_key=setup.keyOrSelf(e),this.quantity=t||1}text(){return`setup.qc.Item(setup.item.${this.item_key}, ${this.quantity})`}getItem(){return setup.item[this.item_key]}apply(e){for(let t=0;t<this.quantity;++t)State.variables.inventory.addItem(this.getItem())}explain(){return`Gain ${this.quantity}x ${this.getItem().rep()}`}},o(Or,"Item"),Or),setup.qcImpl.ItemForSale=(Cr=class extends setup.Cost{constructor(e,t,a,r){if(super(),!e)throw new Error("Missing market in itemforsale");if(!t)throw new Error(`Missing item pool for item for sale in ${e}`);this.item_pool_key=setup.keyOrSelf(t),this.market_key=setup.keyOrSelf(e),this.markup=r||1,a?this.amount=a:this.amount=1}text(){return`setup.qc.ItemForSale('${this.market_key}', '${this.item_pool_key}', ${this.amount}, ${this.markup})`}apply(e){let t=this.getMarket(),a=setup.itempool[this.item_pool_key];for(let r=0;r<this.amount;++r){let s=a.generateItem();new setup.MarketObject(s,Math.round(s.getValue()*this.markup),setup.MARKET_OBJECT_ITEM_EXPIRATION,t,e)}}getMarket(){return State.variables.market[this.market_key]}explain(e){return`${this.amount} new items in ${this.getMarket().rep()} at ${this.markup}x price`}},o(Cr,"ItemForSale"),Cr),setup.qcImpl.ItemForSaleSingle=(Pr=class extends setup.Cost{constructor(e,t){if(super(),!e)throw new Error("Missing market in itemforsale");if(!t)throw new Error(`Missing item for item for sale in ${e}`);this.item_key=setup.keyOrSelf(t),this.market_key=setup.keyOrSelf(e)}apply(e){let t=this.getMarket(),a=setup.item[this.item_key];new setup.MarketObject(a,a.getValue(),setup.MARKET_OBJECT_ITEM_EXPIRATION,t,e)}getMarket(){return State.variables.market[this.market_key]}explain(e){return`${setup.item[this.item_key].rep()} in ${this.getMarket().rep()}`}},o(Pr,"ItemForSaleSingle"),Pr),setup.qcImpl.ItemIfNew=(Lr=class extends setup.Cost{constructor(e){if(super(),!e)throw new Error("Null item");this.item_key=setup.keyOrSelf(e)}text(){return`setup.qc.ItemIfNew(setup.item.${this.item_key})`}getItem(){return setup.item[this.item_key]}apply(e){const t=this.getItem();State.variables.inventory.isHasItem(t)||setup.qc.Item(this.getItem()).apply(e)}explain(){return`Gain ${this.getItem().rep()} unless you already have it`}},o(Lr,"ItemIfNew"),Lr),setup.qcImpl.ItemPool=(Ur=class extends setup.Cost{constructor(e){if(super(),!e)throw new Error("Null item pool");this.itempool_key=setup.keyOrSelf(e)}text(){return`setup.qc.ItemPool(setup.itempool.${this.itempool_key})`}getItemPool(){return setup.itempool[this.itempool_key]}apply(e){State.variables.inventory.addItem(this.getItemPool().generateItem())}explain(){return`Gain item from ${this.getItemPool().rep()}`}},o(Ur,"ItemPool"),Ur),setup.qcImpl.LoseItem=(Nr=class extends setup.Cost{constructor(e,t){if(super(),!e)throw new Error("Null item pool");this.item_key=setup.keyOrSelf(e),this.quantity=t||1}text(){return`setup.qc.LoseItem('${this.item_key}', ${this.quantity})`}getItem(){return setup.item[this.item_key]}isOk(){return State.variables.inventory.countItem(this.getItem())>=this.quantity}apply(e){for(let t=0;t<this.quantity;++t)State.variables.inventory.isHasItem(this.getItem())&&State.variables.inventory.removeItem(this.getItem())}undoApply(){for(let e=0;e<this.quantity;++e)State.variables.inventory.addItem(this.getItem())}explain(){return`Lose ${this.quantity}x ${this.getItem().rep()}`}},o(Nr,"LoseItem"),Nr),setup.qcImpl.Nothing=(Hr=class extends setup.Cost{constructor(){super()}text(){return"setup.qc.Nothing()"}isOk(){throw new Error("Nothing not a cost")}apply(e){}undoApply(){}explain(){return"Nothing happened."}},o(Hr,"Nothing"),Hr),setup.qcImpl.Outcomes=(Br=class extends setup.Cost{constructor(e){if(super(),!["crit","success","failure","disaster"].includes(e))throw new Error(`Outcomes must be either crit, success, failure, or disaster, NOT ${e}`);this.result=e}text(){return`setup.qc.Outcomes("${this.result}")`}apply(e){const t=setup.QuestTemplate.resultIndex(this.result),a=e.getTemplate().getOutcomes()[t][1].filter(r=>!(r instanceof setup.qcImpl.Exp));setup.RestrictionLib.applyAll(a,e)}explain(){return`Apply all outcomes from this quest on result: "${this.result}"`}},o(Br,"Outcomes"),Br),setup.qcImpl.Player=(Gr=class extends setup.Cost{constructor(e){super(),this.cost=e}text(){return`setup.qc.Player(${this.cost.text()})`}isOk(e){throw new Error("not cost")}apply(e){this.cost.apply({getActorUnit:o(()=>State.variables.unit.player,"getActorUnit")})}undoApply(e){throw new Error("Can't undo")}explain(e){return`Player gets: ${this.cost.explain()}`}},o(Gr,"Player"),Gr),setup.qcImpl.Prestige=(Xt=class extends setup.Cost{constructor(e){super(),this.prestige=e}text(){return`setup.qc.Prestige(${this.prestige})`}isOk(){return this.prestige>0?!0:State.variables.company.player.getPrestige()>=-this.prestige}apply(e){State.variables.company.player.addPrestige(this.prestige)}undoApply(e){State.variables.company.player.addPrestige(-this.prestige)}explain(){return`<<prestige ${this.prestige}>>`}},o(Xt,"Prestige"),y(Xt,"NAME","Prestige"),y(Xt,"PASSAGE","CostPrestige"),Xt),setup.qcImpl.RemoveDuty=(qr=class extends setup.Cost{constructor(e){super(),this.duty_template_key=setup.keyOrSelf(e)}text(){return`setup.qc.RemoveDuty('${this.duty_template_key}')`}getDutyTemplate(){const e=setup.dutytemplate[this.duty_template_key];if(!e)throw new Error(`Unknown duty: ${this.duty_template_key}`);return e}apply(e){const t=State.variables.dutylist.getDuty(this.getDutyTemplate());t?(setup.notify(`The following duty is no longer available: ${t.getName()}`),State.variables.dutylist.removeDuty(t)):console.log(`Trying to remove duty ${this.getDutyTemplate().getName()} but nothing found. If this happens during quest testing, you can ignore this error.`)}explain(){return`Lose duty: ${this.getDutyTemplate().getName()}`}},o(qr,"RemoveDuty"),qr),setup.qcImpl.UnscheduleEvent=(zr=class extends setup.Cost{constructor(e){if(super(),!e)throw new Error("Missing event for UnscheduleEvent");setup.isString(e)?this.template_key=e:this.template_key=e.key}text(){return`setup.qc.UnscheduleEvent('${this.template_key}')`}isOk(){throw new Error("rm event should not be a cost")}apply(e){let t=setup.event[this.template_key];SugarCube.State.variables.eventpool.unscheduleEvent(t)}undoApply(){throw new Error("rm event should not be a cost")}explain(){let e=setup.event[this.template_key];if(!e)throw new Error(`UnscheduleEvent ${this.template_key} is missing`);return`Unschedule event ${e.getName()} from schedule, if it was scheduled`}},o(zr,"UnscheduleEvent"),zr),setup.UnitCriteria=(Fr=class extends setup.TwineClass{constructor(e,t,a,r,s,n){super(),this.key=e,this.name=t,a.sort(setup.Trait_Cmp),this.crit_trait_map={};for(let l=0;l<a.length;++l){if(!a[l])throw new Error(`Missing a crit trait for ${e} criteria`);if(!a[l].key)throw new Error(`No key in ${a[l]} in unit criteria for ${e}`);this.crit_trait_map[a[l].key]=!0}r.sort(setup.Trait_Cmp),this.disaster_trait_map={};for(let l=0;l<r.length;++l){if(!r[l])throw new Error(`Missing a disaster trait for ${e} criteria`);if(!r[l].key)throw new Error(`No key in ${r[l]} in unit disastereria for ${e}`);this.disaster_trait_map[r[l].key]=!0}if(this.restrictions=s,this.skill_multis=setup.Skill.translate(n),e){if(e in setup.qu)throw new Error(`Quest Criteria ${e} already exists`);setup.qu[e]=this}}validate(){const e=this.getSkillMultis().reduce((t,a)=>t+a,0);return this.getJob()!=setup.job.slaver&&e?"Non-slaver criteria cannot have any skill! Please add a slaver restriction to this role.":e&&Math.abs(e-3)>1e-5?`Sum of skills must be exactly 3.0, but found ${e} instead!`:null}getName(){return this.name}getRestrictions(){return this.restrictions}isCanAssign(e){let t=this.getRestrictions();return!!setup.RestrictionLib.isUnitSatisfyIncludeDefiancy(e,t)}getSkillMultis(){return this.skill_multis}getCritTraits(){return Object.keys(this.crit_trait_map).map(e=>setup.trait[e])}getDisasterTraits(){return Object.keys(this.disaster_trait_map).map(e=>setup.trait[e])}getMatchingTraits(e,t){let a;t?a=e.getTraits():a=e.getAllTraits();const r=e.getAllTraitsWithTag("perk"),s=[];for(const h of r)s.push(...h.getPerkNullTraits());const n=a.filter(h=>!s.includes(h)),l=[];for(const h of a)h.key in this.crit_trait_map&&l.push(h);const u=[];for(const h of n)h.key in this.disaster_trait_map&&u.push(h);return{crit:l,disaster:u}}computeSuccessModifiers(e,t){const a=this.getMatchingTraits(e,t),r=a.crit.length,s=a.disaster.length;let n=0,l=0,u=e.getSkills();for(let h=0;h<this.skill_multis.length;++h)this.skill_multis[h]>0&&(n+=this.skill_multis[h]*u[h]),this.skill_multis[h]<0&&(l-=this.skill_multis[h]*u[h]);return{crit:r,success:n,failure:l,disaster:s}}_computeScore(e,t,a){const r=this.computeSuccessModifiers(e),s=setup.QuestDifficulty.convertSuccessModifierToChances(r,t);let n=0;for(const l in a)n+=s[l]*a[l];return n}computeScore(e,t){return this._computeScore(e,t,{crit:2,success:1,disaster:-2})}computeScoreCrit(e,t){return this._computeScore(e,t,{crit:1e4,success:1e-4,disaster:-1})}computeScoreSuccess(e,t){return this._computeScore(e,t,{crit:1,success:1,disaster:-1e-4})}computeScoreFailure(e,t){return this._computeScore(e,t,{crit:1,success:1,disaster:-1e4})}getEligibleUnits(e){return State.variables.company.player.getUnits({}).filter(t=>t.isAvailable()&&this.isCanAssign(t))}getEligibleUnitsSorted(e){const t=this.getEligibleUnits();return t.sort((a,r)=>this.computeScore(r,e)-this.computeScore(a,e)),t}getJob(){const e=this.getRestrictions();for(const t of e){if(t instanceof setup.qresImpl.Job)return setup.job[t.job_key];if(t instanceof setup.qresImpl.You)return setup.job.slaver}return null}repActor(e,t){const a=e.getSkills();let r="";const s=this.getSkillMultis(),n=[];for(const u of setup.skill){let h=s[u.key];if(h)if(h!=1){let p=h.toFixed(0);h%1&&(p=h.toFixed(1)),n.push(`${p} x ${a[u.key]} ${u.rep()}`)}else n.push(`${a[u.key]} ${u.rep()}`)}n.length&&(r+=`[${n.join(" + ")}]`);const l=this.getMatchingTraits(e);for(const u of this.getCritTraits())l.crit.includes(u)&&(r+=u.rep());for(const u of this.getDisasterTraits())l.disaster.includes(u)&&(r+=u.repNegative());if(t){const u=100*this.computeScore(e,t);r+=` (Score: ${u.toFixed(1)})`}return r}},o(Fr,"UnitCriteria"),Fr),setup.CriteriaHelper={},setup.CriteriaHelper.CritTraits=function(i,e){let t=setup.deepCopy(e);for(let a=0;a<i.length;++a){if(!i[a])throw new Error(`Missing ${a}-th trait for CritTrait`);t.crit_trait_map[i[a].key]=!0}return t},setup.CriteriaHelper.DisasterTraits=function(i,e){let t=setup.deepCopy(e);for(let a=0;a<i.length;++a){if(!i[a])throw new Error(`Missing ${a}-th trait for CritTrait`);t.disaster_trait_map[i[a].key]=!0}return t},setup.CriteriaHelper.Restrictions=function(i,e){let t=setup.deepCopy(e);for(let a=0;a<i.length;++a){if(!i[a])throw new Error(`Missing ${a}-th trait for CritTrait`);t.restrictions.push(i[a])}return t},setup.CriteriaHelper.Name=function(i,e){let t=setup.deepCopy(e);return t.name=i,t},setup.Deck=(ai=class extends setup.TwineClass{constructor(){super(),this.cards=[]}isEmpty(){return!this.cards.length}regenerateDeck(e){const t=[];for(let a=0;a<setup.DECK_SUBDECKS;++a)t.push([]);for(const a of e){setup.rng.shuffleArray(t);const r=a.rarity;if(r.isForced())throw new Error("Forced rarities cannot be made into deck cards!");for(let s=0;s<r.getFrequency();++s)t[s%setup.DECK_SUBDECKS].push(a.object)}for(const a of t)setup.rng.shuffleArray(a);setup.rng.shuffleArray(t),this.cards=[].concat.apply([],t)}drawCard(){if(this.isEmpty())throw new Error("Cannot draw from an empty deck!");return this.cards.pop()}static get(e){return e in State.variables.deck||(State.variables.deck[e]=new ai),State.variables.deck[e]}},o(ai,"Deck"),ai),setup.rarity={},setup.Rarity=(jr=class extends setup.TwineClass{constructor({key:e,name:t,description:a,frequency:r,is_forced:s}){if(super(),!e)throw new Error("null key for rarity");if(this.key=e,!t)throw new Error(`null name for rarity ${e}`);this.name=t,this.description=a,this.frequency=r,this.is_forced=s}getName(){return this.name}getDescription(){return this.description}text(){return`setup.rarity.${this.key}`}getIconTriangleClass(){return`rarity-${this.key}`}getTextColorClass(){return`text-rarity-${this.key}`}getBorderColorClass(){return`border-rarity-${this.key}`}getImage(){return`img/rarity/${this.key}.svg`}getImageRep(){const e=`<img src="${setup.escapeHtml(setup.resolveImageUrl(this.getImage()))}" />`;return`<span class='trait' data-tooltip="${this.getName()}">${e}</span>`}rep(){return this.getImageRep()}getFrequency(){return this.frequency}isForced(){return this.is_forced}static getRandomRarityOrderWeighted(){const e=Object.values(setup.rarity).filter(r=>!r.isForced()&&r.getFrequency());e.sort((r,s)=>s.getFrequency()-r.getFrequency());const t=setup.rarity.rare.getFrequency(),a=setup.rng.sampleArray(e.map(r=>[r,Math.min(t,r.getFrequency())]),!0);return e.splice(e.indexOf(a)),Object.values(setup.rarity).filter(r=>r.isForced()).concat(e)}static RarityCmp(e,t){const a=Object.keys(setup.rarity).indexOf(e.key),r=Object.keys(setup.rarity).indexOf(t.key);return a-r}},o(jr,"Rarity"),jr),setup.rarity.always=new setup.Rarity({key:"always",name:"Always",description:"Will triggered/scouted whenever possible",is_forced:!0}),setup.rarity.common=new setup.Rarity({key:"common",name:"Common",description:"1 every 2 quests/events",frequency:setup.RARITY_COMMON_FREQUENCY}),setup.rarity.uncommon=new setup.Rarity({key:"uncommon",name:"Uncommon",description:"1 every 4 quests/events",frequency:setup.RARITY_UNCOMMON_FREQUENCY}),setup.rarity.rare=new setup.Rarity({key:"rare",name:"Rare",description:"1 every 8 quests/events",frequency:setup.RARITY_RARE_FREQUENCY}),setup.rarity.epic=new setup.Rarity({key:"epic",name:"Epic",description:"1 every 16 quests/events",frequency:setup.RARITY_EPIC_FREQUENCY}),setup.rarity.legendary=new setup.Rarity({key:"legendary",name:"Legendary",description:"1 every 32 quests/events",frequency:setup.RARITY_LEGENDARY_FREQUENCY}),setup.rarity.never=new setup.Rarity({key:"never",name:"Never",description:"Never gets scouted/triggered",frequency:setup.RARITY_NEVER_FREQUENCY}),setup.DutyInstance=(ii=class extends setup.TwineClass{constructor({duty_template:e}){if(super(),this.key=State.variables.Duty_keygen,State.variables.Duty_keygen+=1,this.unit_key=null,this.template_key=e.key,this.is_can_go_on_quests_auto=!1,this.is_specialist_enabled=!1,this.key in State.variables.duty)throw new Error(`Duplicate ${this.key} in duties`);State.variables.duty[this.key]=this}resetCache(e){e.resetCache(),this.getTemplate()==setup.dutytemplate.viceleader?State.variables.unit.player.resetCache():this instanceof setup.DutyInstanceBedchamberSlave&&this.getBedchamber().getSlaver().resetCache()}getName(){return this.getTemplate().getName()}delete(){delete State.variables.duty[this.key]}getTemplate(){return setup.dutytemplate[this.template_key]}isSpecialistEnabled(){return!!this.is_specialist_enabled}toggleIsSpecialistEnabled(){if(!this.getTemplate().isCanReplaceWithSpecialist())throw new Error(`Duty ${this.getTemplate().key} cannot be replaced with specialists`);this.is_specialist_enabled=!this.is_specialist_enabled}isCanGoOnQuestsAuto(){return!!this.is_can_go_on_quests_auto}toggleIsCanGoOnQuestsAuto(){this.is_can_go_on_quests_auto=!this.is_can_go_on_quests_auto}getImageRep(e,t){const a=this.getTemplate(),r=e?`<<dutycardkey '${this.key}' 1>>`:void 0;return'<span class="'+a.getCssClass()+(t?" big":"")+'">'+setup.repImg({imagepath:a.getImage(),tooltip_content:r})+"</span>"}rep(){return setup.repMessage(this,"dutycardkey",void 0,this.getImageRep())+"&nbsp;"+setup.repMessage(this,"dutycardkey")}repIcon(){return setup.repMessage(this,"dutycardkey",void 0,this.getImageRep())}computeChance(){return this.isActive()?this.getTemplate().computeChanceForUnit(this.getAssignedUnit()):0}getProc(){let e=this.computeChance();return Math.random()<e-1?"crit":Math.random()<e?"proc":"none"}getAssignedUnit(){return this.unit_key?State.variables.unit[this.unit_key]:null}getUnitIfAvailable(){return!this.isActive()||this.isSpecialistActive()?null:this.getAssignedUnit()}isActive(){const e=this.getAssignedUnit();return!(!e||!e.isAvailable()&&!this.isSpecialistActive())}isSpecialistActive(){const e=this.getAssignedUnit();return!e||!this.isSpecialistEnabled()?!1:!e.isAvailable()}getSpecialistUpkeep(){const e=this.getAssignedUnit();let t=setup.DUTY_SPECIALIST_WEEKLY_UPKEEP;return e&&e.isHasTrait("perk_specialist")&&(t=Math.round((1-setup.PERK_SPECIALIST_REDUCTION)*t)),t}isCanUnitAssign(e){return!e.isAvailable()||e.getDuty()?!1:setup.RestrictionLib.isUnitSatisfyIncludeDefiancy(e,this.getTemplate().getUnitRestrictions())}assignUnit(e){if(this.unit_key)throw new Error(`Duty ${this.key} already have unit and cannot be reassigned`);this.unit_key=e.key,e.duty_key=this.key,this.getTemplate().onAssign(this,e),this.resetCache(e)}unassignUnit(){const e=this.getAssignedUnit();this.getTemplate().onUnassign(this,e),this.unit_key=null,e.duty_key=null,this.resetCache(e)}advanceWeek(){this.getTemplate().advanceWeek(this)}repYourDutyRep(){if(!this.getAssignedUnit())throw new Error(`No unit on duty ${this.getName()}`);const e=this.rep();let t;return this.isSpecialistActive()?t=[`the specialist substituting a|rep as your ${e}`,`a|reps temporary replacement as your ${e}`,`the specialist working as a temporary replacement for your ${e} a|rep`]:t=[`your ${e} a|rep`],setup.Text.replaceUnitMacros(t,{a:this.getAssignedUnit()})}static Cmp(e,t){const a=e.getTemplate().getType(),r=t.getTemplate().getType();if(a==r)return e.getName().localeCompare(t.getName());const s=Object.keys(setup.DutyTemplate.TYPE);return s.indexOf(a)-s.indexOf(r)}},o(ii,"DutyInstance"),y(ii,"DutyChanceCmpGen",o(function(e,t){return(a,r)=>{const s=a.getTemplate().getType(),n=r.getTemplate().getType(),l=e.includes(s)?a.computeChance():t?-1:setup.INFINITY,u=e.includes(n)?r.computeChance():t?-1:setup.INFINITY;return t?u-l:l-u}},"DutyChanceCmpGen")),ii),setup.DutyList=(Kr=class extends setup.TwineClass{constructor(){super(),this.duty_keys=[]}isHasDuty(e){return!!this.getDuty(e)}addDuty(e){if(!e)throw new Error("Duty instance must not be null");return this.duty_keys.push(e.key),setup.notify(`New duty: ${e.rep()}`),e}removeDuty(e){if(!this.duty_keys.includes(e.key))throw new Error("Trying to remove duty which does not exists!");e.getAssignedUnit()&&e.unassignUnit(),this.duty_keys=this.duty_keys.filter(t=>t!=e.key),e.delete()}getOpenDutiesCount(){return this.getDuties().filter(e=>!e.getAssignedUnit()).length}getDuties(){return this.duty_keys.map(e=>State.variables.duty[e])}getDuty(e){const t=setup.selfOrObject(e,setup.dutytemplate),a=this.getDuties().filter(r=>r.getTemplate()==t);return a.length?a[0]:null}getUnitIfAvailable(e){const t=this.getDuty(e);return t?t.getUnitIfAvailable():null}advanceWeek(){const e=this.getDuties();let t=0,a=0;for(const r of e)r.advanceWeek(),r.isSpecialistActive()&&(t+=r.getSpecialistUpkeep(),a+=1);return t&&(setup.notify(`You paid ${setup.DOM.toString(setup.DOM.Util.money(t))} to the contract specialists who are working in lieu of ${a} of your duty slavers`),State.variables.company.player.substractMoney(t)),e}isViceLeaderAssigned(){const e=State.variables.dutylist.getDuty(setup.dutytemplate.viceleader);return!!(e&&e.getAssignedUnit())}},o(Kr,"DutyList"),Kr),setup.DutyTemplateClass={},setup.dutytemplate=class{},setup.DutyTemplate=(ct=class extends setup.TwineClass{constructor({key:e,type:t,name:a,description_passage:r,unit_restrictions:s,relevant_traits:n,relevant_skills:l,is_can_replace_with_specialist:u,is_allow_leader:h}){if(super(),this.key=e,this.type=t,!(t in setup.DutyTemplate.TYPE))throw new Error(`Unrecognized duty type ${t}`);if(this.name=a,this.description_passage=r,this.unit_restrictions=setup.deepCopy(s),h||this.unit_restrictions.push(setup.qres.NotYou()),this.is_can_replace_with_specialist=!!u,n){for(let p in n)if(!(p in setup.trait))throw new Error(`Unknown trait ${p} in DutyTemplate ${e}`);this.relevant_traits=n}else this.relevant_traits={};if(l){for(let p in l)if(!(p in setup.skill))throw new Error(`Unknown skill ${p} in DutyTemplate ${e}`);this.relevant_skills=l}else this.relevant_skills={}}rep(){return this.getName()}isCanReplaceWithSpecialist(){return this.is_can_replace_with_specialist}isHasTriggerChance(){return setup.DutyTemplate.HAS_TRIGGER_CHANCE.includes(this.getType())}isHasPrestigeAmount(){return setup.DutyTemplate.HAS_PRESTIGE.includes(this.getType())}getEligibleJobs(){return this.getUnitRestrictions().filter(e=>e instanceof setup.qresImpl.Job).map(e=>setup.job[e.job_key])}getCssClass(){return"duty-image "+(this.getEligibleJobs().includes(setup.job.slaver)?"duty-image-slaver":"duty-image-slave")}getImage(){return"img/duty/"+this.key+".svg"}getRelevantTraits(){return this.relevant_traits}getRelevantTraitsGrouped(){const e={},t=this.getRelevantTraits();for(const a in t){const r=t[a];r in e||(e[r]=[]),e[r].push(setup.trait[a])}return e}getRelevantSkills(){return this.relevant_skills}computeChanceForUnit(e){let t=0;const a=this.getRelevantSkills();for(const s in a){const n=setup.skill[s],l=e.getSkill(n);t+=l*a[s]}const r=this.getRelevantTraits();for(const s in r)e.isHasTraitExact(setup.trait[s])&&(t+=r[s]);if(e.isHasTrait(setup.trait.perk_duty)){const s=Math.min(setup.PERK_DUTY_BONUS,t*setup.PERK_DUTY_BONUS);t+=s}return t}getName(){return this.name}getType(){return this.type}getDescriptionPassage(){return this.description_passage}getUnitRestrictions(){return this.unit_restrictions}advanceWeek(e){const t=e.getUnitIfAvailable();if(t&&t.isSlaver()){const a=State.variables.dutylist.getDuty("trainer");if(a){const r=a.getProc();if(r=="proc"||r=="crit"){let s=0;r=="crit"?s=setup.TRAINER_CRIT_EXP_MULTI:s=1,s&&t.gainExp(Math.round(s*t.getOnDutyExp()))}}}}onAssign(e,t){}onUnassign(e,t){}static initialize(){const e=Object.keys(setup.dutytemplate);for(const t of e)setup.dutytemplate[t]=setup.dutytemplate[t]()}},o(ct,"DutyTemplate"),y(ct,"TYPE",{util:"Utility",scout:"Scout",pimp:"Pimp",prestige:"Prestige",bedchamber:"Bedchamber"}),y(ct,"HAS_TRIGGER_CHANCE",["util","scout","pimp"]),y(ct,"HAS_PRESTIGE",["prestige"]),y(ct,"getTypeRep",o(function(e){if(!(e in setup.DutyTemplate.TYPE))throw new Error(`Unknown duty type ${e}`);const t=setup.DutyTemplate.TYPE[e],a=`img/tag_duty/${e}.svg`;return setup.repImgIcon(a,t)},"getTypeRep")),ct),setup.Armory=(Vr=class extends setup.TwineClass{constructor(){super(),this.equipment_set_keys=[],this.equipmentkey_quantity_map={}}newEquipmentSet(){let e=new setup.EquipmentSet;this.equipment_set_keys.push(e.key);const t=setup.Armory.getFreeEquipments();for(const a of t)e.replaceEquipment(a);return e}removeEquipmentSet(e){let t=e.key;this.equipment_set_keys=this.equipment_set_keys.filter(a=>a!=t),setup.queueDelete(e,"equipmentset")}isCanAddNewEquipmentSet(){return this.equipment_set_keys.length<this.getMaxEquipmentSets()}getMaxEquipmentSets(){let e=State.variables.fort.player.countBuildings(setup.buildingtemplate.armory),t=0;return e&&(t=State.variables.fort.player.getBuilding(setup.buildingtemplate.armory).getLevel()-1),e*setup.EQUIPMENTSET_ARMORY_DEFAULT_STORAGE+t*setup.EQUIPMENTSET_PER_STORAGE}getEquipmentSets(){return this.equipment_set_keys.map(e=>State.variables.equipmentset[e])}getEquipments(e){let t=[];for(let a in this.equipmentkey_quantity_map){let r=setup.equipment[a];e&&"equipment_slot"in e&&e.equipment_slot!=r.getSlot()||t.push([r,this.equipmentkey_quantity_map[a]])}return t.sort((a,r)=>setup.Equipment.Cmp(a[0],r[0])),t}getEquipmentCount(e){return e.key in this.equipmentkey_quantity_map?this.equipmentkey_quantity_map[e.key]:0}addEquipment(e){let t=e.key;t in this.equipmentkey_quantity_map||(this.equipmentkey_quantity_map[t]=0),this.equipmentkey_quantity_map[t]+=1,setup.notify(`Gained ${e.rep()}`)}removeEquipment(e,t){t===void 0&&(t=1);let a=e.key;if(!(a in this.equipmentkey_quantity_map))throw new Error(`Equipment ${a} not found`);if(this.equipmentkey_quantity_map[a]-=t,this.equipmentkey_quantity_map[a]<0)throw new Error("Negative quantity?");this.equipmentkey_quantity_map[a]==0&&delete this.equipmentkey_quantity_map[a]}unassignEquipment(e,t){t.removeEquipment(e),this.addEquipment(e)}replaceEquipment(e,t){const a=t.getEquipmentAtSlot(e.getSlot());State.variables.notification.disable(),this.removeEquipment(e),t.replaceEquipment(e),a&&this.addEquipment(a),State.variables.notification.enable()}unassignAllEquipments(e){for(const[t,a]of e.getEquipmentsList())a&&this.unassignEquipment(a,e)}autoAttach(e,t){const a=e.getUnit();this.unassignAllEquipments(e);const r=State.variables.menufilter.get("equipmentauto","max"),s=State.variables.menufilter.get("equipmentauto","special"),n=State.variables.menufilter.get("equipmentauto","slutty");let l=t;r&&(l=l.concat([null]));let u=0;for(const h of l)for(const p of Object.values(setup.equipmentslot)){if(e.getEquipmentAtSlot(p))continue;let c=this.getEquipments({equipment_slot:p}).map(d=>d[0]);c=c.filter(d=>{if(a){if(u+d.getSluttiness()>=a.getSluttinessLimit()||!d.isCanEquip(a))return!1}else if(!n&&u+d.getSluttiness()>=setup.EQUIPMENT_SLAVER_SLUTTY_LIMIT_NORMAL)return!1;return!(!s&&d.isSpecial()||h&&d.getSkillMods()[h.key]<=0)}),c.length&&(h?c.sort((d,g)=>g.getSkillMods()[h.key]-d.getSkillMods()[h.key]):setup.rng.shuffleArray(c),this.replaceEquipment(c[0],e),u+=c[0].getSluttiness())}for(const h of setup.Armory.getFreeEquipments())e.getEquipmentAtSlot(h.getSlot())||this.replaceEquipment(h,e);!e.getUnit()&&a&&e.isEligibleOn(a)&&e.equip(a)}static getFreeEquipments(){return[setup.equipment.shirt,setup.equipment.pants,setup.equipment.shoes]}},o(Vr,"Armory"),Vr),setup.Equipment_keygen=1,setup.Equipment=(ea=class extends setup.TwineClass{static repNonSexIcon(){return setup.repImgIcon(setup.Equipment.NONSEX_URL,"Equipments unrelated to sexual intercourse")}static repSexIcon(){return setup.repImgIcon(setup.Equipment.SEX_URL,"Sex toys and sex-related equipments")}constructor(e,t,a,r,s,n,l,u,h,p,c){if(super(),this.order_key=setup.Equipment_keygen,setup.Equipment_keygen+=1,this.key=e,this.name=t,this.slot_key=a.key,this.tags=r,this.value=s,this.sluttiness=n,this.skillmods=setup.Skill.translate(l),this.texts=c,!c)throw new Error(`Text object for equipment ${this.key} is missing.`);if(this.icon_settings=p||{},p!==void 0&&p instanceof Array)throw new Error(`Invalid icon_settings for '${e}', expected an object`);if(this.trait_key_mods=u,!u||typeof u!="object")throw new Error(`Trait key mods must be objects for ${this.key}`);for(const d in u)if(!setup.trait[d])throw new Error(`Could not find trait with key ${d} for equipment ${this.key}`);if(!Array.isArray(h))throw new Error(`Unit restrictions must be an array for ${this.key}`);if(h?this.unit_restrictions=h:this.unit_restrictions=[],e in setup.equipment)throw new Error(`Equipment ${e} already exists`);setup.equipment[e]=this}getSkillMods(){return this.skillmods}getSkillMod(e){return this.getSkillMods()[e.key]}getDefaultImageForSlot(){switch(this.slot_key){case"weapon":return"weapon_sword";case"eyes":return"eyes_mask";case"mouth":return"mouth_bandana";case"head":return"head_helm";case"neck":return"neck_cloak";case"arms":return"arms_gloves";case"torso":return"torso_shirt";case"nipple":return"nipple_clamps";case"rear":return"rear_underwear";case"genital":return"arms_ring";case"legs":return"legs_pants";case"feet":return"feet_boots"}}getRarity(){const e=this.getValue();return e>=setup.EQUIPMENT_PRICE_MASTER?setup.rarity.legendary:e>=setup.EQUIPMENT_PRICE_GOODMASTER?setup.rarity.epic:e>=setup.EQUIPMENT_PRICE_GOOD?setup.rarity.rare:e>=setup.EQUIPMENT_PRICE_NORMAL?setup.rarity.uncommon:setup.rarity.common}getImageRep(){let e="";const a="img/equipment/"+(this.icon_settings.image?this.icon_settings.image:this.getDefaultImageForSlot())+".svg";if(this.icon_settings.colorize!==!1)if(typeof this.icon_settings.colorize=="string")e="colorize-"+this.icon_settings.colorize;else{let n=0,l=0;for(let u=0;u<this.skillmods.length;++u)this.skillmods[u]>n&&(n=this.skillmods[u],l=u);n>0?e="colorize-"+setup.skill[l].keyword:e="colorize-white"}e+=` ${this.getRarity().getIconTriangleClass()}`;const r=`<<equipmentcardkey '${this.key}'>>`,s=setup.escapeHtml(setup.resolveImageUrl(a));return`<span class="trait ${e}" data-tooltip="${r}"><img src="${s}"/></span>`}rep(){return setup.repMessageDict({instance:this,macroname:"equipmentcardkey",icontext:this.getImageRep(),text_class:this.getRarity().getTextColorClass()})}repFull(){let e=this.rep();const t=setup.SkillHelper.explainSkillMods(this.getSkillMods());t&&(e+=" "+t);const a=this.repTraits();return a&&(e+=" "+a),e}repTraits(){const e=[],t=[],a=this.getTraitMods();for(const s in a){const n=setup.trait[s],l=a[s];l==1?e.push(n.rep()):t.push(`[${n.rep()} <span data-tooltip="You need at least ${l} pieces of equipment with this to get the trait">(1/${l})</span>]`)}return e.concat(t).join("")}getTraitMods(){return this.trait_key_mods}getTags(){return this.tags}getValue(){return this.value}getSellValue(){return Math.floor(this.getValue()*setup.MONEY_SELL_MULTIPLIER)}getSluttiness(){return this.sluttiness}getName(){return this.name}getDescription(){return this.getTexts().description||""}getSlot(){return setup.equipmentslot[this.slot_key]}getEquippedNumber(){let e=State.variables.armory.getEquipmentSets(),t=this.getSlot(),a=0;for(let r=0;r<e.length;++r)e[r].getEquipmentAtSlot(t)==this&&++a;return a}getSpareNumber(){return State.variables.armory.getEquipmentCount(this)}getUnitRestrictions(){return this.unit_restrictions}isCanEquip(e){return setup.RestrictionLib.isUnitSatisfy(e,this.getUnitRestrictions())}isMakeBodypartUseless(){return this.getTags().includes("banuse")}isCovering(){return this.getTags().includes("covering")}isSpecial(){for(const e of this.getUnitRestrictions())if(!(e instanceof setup.qresImpl.Job))return!0;return!1}text(){return this.texts}getTexts(){return this.texts}isBasic(){return this.getTags().includes("basic")}static Cmp(e,t){return e.order_key-t.order_key}},o(ea,"Equipment"),y(ea,"NONSEX_URL","img/special/equipment_nonsex.svg"),y(ea,"SEX_URL","img/special/equipment_sex.svg"),ea),setup.EquipmentPool=(Yr=class extends setup.TwineClass{constructor(e,t){if(super(),this.key=e,this.equip_chances=t,e in setup.equipmentpool)throw new Error(`Duplicate equipment pool key ${e}`);setup.equipmentpool[e]=this}getName(){return this.key}rep(){return setup.repMessage(this,"equipmentpoolcardkey")}getEquipmentChances(e){const t=[];for(const a in this.equip_chances)t.push([a,this.equip_chances[a]]);return e&&setup.rng.normalizeChanceArray(t),t}getAverageValue(){const e=this.getEquipmentChances(!0);let t=0;for(const[a,r]of e)t+=r*(setup.equipment[a].getValue()||0);return Math.round(t)}generateEquipment(){let e=setup.rng.sampleObject(this.equip_chances,!0);return setup.equipment[e]}},o(Yr,"EquipmentPool"),Yr),setup.EquipmentPoolGroup=(Jr=class extends setup.EquipmentPool{constructor(e,t){super(e,void 0);for(let a in t.length)if(!(a in setup.equipmentpool))throw new Error(`group ${a} not recognized in ${e}`);this.group_chances=t}getEquipmentPoolChances(e){const t=[];for(const a in this.group_chances)t.push([a,this.group_chances[a]]);return e&&setup.rng.normalizeChanceArray(t),t}generateEquipment(){let e=setup.rng.sampleObject(this.group_chances,!0);return setup.equipmentpool[e].generateEquipment()}getAverageValue(){let e=0;for(const[t,a]of this.getEquipmentPoolChances())e+=a*setup.equipmentpool[t].getAverageValue();return Math.round(e)}},o(Jr,"EquipmentPoolGroup"),Jr),setup.EquipmentSet=(Wr=class extends setup.TwineClass{constructor(e,t){super(),e||(this.key=State.variables.EquipmentSet_keygen,State.variables.EquipmentSet_keygen+=1),this.name=`Equipment Set ${this.key}`,this.unit_key=null,this.is_default=!1,this.slot_equipment_key_map={};for(let a in setup.equipmentslot)this.slot_equipment_key_map[a]=null;if(e)Object.assign(this,e);else{if(this.key in State.variables.equipmentset)throw new Error(`Equipment set ${this.key} already exists`);State.variables.equipmentset[this.key]=this}if(t)for(const a of t)this.replaceEquipment(a)}delete(){delete State.variables.equipmentset[this.key]}rep(){return this.getSkillReps()+setup.repMessage(this,"equipmentsetcardkey")}getUnit(){return this.unit_key?State.variables.unit[this.unit_key]:null}equip(e){if(this.unit_key)throw new Error("already equipped");if(e.equipment_set_key)throw new Error("already equipped on unit");e.equipment_set_key=this.key,this.unit_key=e.key,e.resetCache(),setup.notify(`a|Rep now a|equip ${this.rep()}`,{a:e})}unequip(){let e=this.getUnit();if(!e)throw new Error("Not equipped");if(!e.equipment_set_key)throw new Error("Unit not equipping this");if(e.getEquipmentSet()!=this)throw new Error("Unit wrong equip");this.unit_key=null,e.equipment_set_key=null,e.resetCache(),setup.notify(`a|Rep a|unequip ${this.rep()}`,{a:e})}getValue(){let e=this.getEquipmentsList(),t=0;for(let a=0;a<e.length;++a){let r=e[a][1];r&&(t+=r.getValue())}return t}getSluttiness(){let e=this.getEquipmentsList(),t=0;for(let a=0;a<e.length;++a){let r=e[a][1];if(r)t+=r.getSluttiness();else{let s=e[a][0];s==setup.equipmentslot.legs&&(t+=20),s==setup.equipmentslot.torso&&(t+=10)}}return t}isCanChange(){return this.getUnit()?this.getUnit().isHome():!0}getEquipmentAtSlot(e){let t=this.slot_equipment_key_map[e.key];return t?setup.equipment[t]:null}getEquipmentsMap(){let e={};for(let t in this.slot_equipment_key_map){let a=this.slot_equipment_key_map[t];a?e[t]=setup.equipment[a]:e[t]=null}return e}getEquipmentsList(){let e=[];for(let t in this.slot_equipment_key_map){let a=this.slot_equipment_key_map[t],r=null;a&&(r=setup.equipment[a]),e.push([setup.equipmentslot[t],r])}return e}getUnitRestrictions(){const e=[],t={};for(const[a,r]of this.getEquipmentsList())if(r)for(const s of r.getUnitRestrictions()){const n=JSON.stringify(s);n in t||(t[n]=!0,e.push(s))}return e}isEligibleOn(e){let t=this.getSluttiness();if(e.isSlaver()&&t>=e.getSluttinessLimit())return!1;let a=this.getEquipmentsMap();for(let r in a){let s=a[r];if(s&&!s.isCanEquip(e))return!1}return!0}recheckEligibility(){let e=this.getUnit();e&&(this.isEligibleOn(e)||(this.unequip(),setup.notify(`a|Rep a|is no longer eligible to wear ${this.rep()} and it has been unequipped`,{a:e})))}_removeEquipment(e){let t=e.getSlot().key;if(!(t in this.slot_equipment_key_map))throw new Error(`Unknown key ${t}`);if(this.slot_equipment_key_map[t]!=e.key)throw new Error("Wrong equipment to unequip?");this.slot_equipment_key_map[t]=null}removeEquipment(e){var t;this._removeEquipment(e),this.recheckEligibility(),(t=this.getUnit())==null||t.resetCache()}replaceEquipment(e){var r;const t=this.getEquipmentAtSlot(e.getSlot());t&&this._removeEquipment(t);const a=e.getSlot().key;if(!(a in this.slot_equipment_key_map))throw new Error(`Unknown key ${a}`);if(this.slot_equipment_key_map[a])throw new Error(`Already has equipment in slot ${a}`);this.slot_equipment_key_map[a]=e.key,this.recheckEligibility(),(r=this.getUnit())==null||r.resetCache()}getTraitsObj(){const e=this.getEquipmentsList(),t={};for(let n=0;n<e.length;++n){const l=e[n][1];if(l){const u=l.getTraitMods();for(const h in u)h in t||(t[h]=0),t[h]+=1/u[h]}}const a={};for(const n in t)t[n]>=.9999&&(a[n]=!0);const r=this.getSluttiness();r>=setup.EQUIPMENT_VERYSLUTTY_THRESHOLD?a.eq_veryslutty=!0:r>=setup.EQUIPMENT_SLUTTY_THRESHOLD&&(a.eq_slutty=!0);let s=this.getValue();return s>=setup.EQUIPMENT_VERYVALUABLE_THRESHOLD?a.eq_veryvaluable=!0:s>=setup.EQUIPMENT_VALUABLE_THRESHOLD&&(a.eq_valuable=!0),a}getTraits(){let e=this.getTraitsObj(),t=[];for(let a in e)t.push(setup.trait[a]);return t}getName(){return this.name}getSkillReps(){const e=this.getSkillMods(),t=[];for(let r=0;r<e.length;++r)t.push([setup.skill[r],e[r]]);t.sort((r,s)=>s[1]-r[1]);let a="";for(let r=0;r<setup.EQUIPMENTSET_SKILL_DISPLAY;++r)t[r][1]&&(a+=t[r][0].rep());return a}getSkillMods(){let e=Array(setup.skill.length).fill(0),t=this.getEquipmentsList();for(let a=0;a<t.length;++a)if(t[a][1]){let r=t[a][1].getSkillMods();for(let s=0;s<r.length;++s)e[s]+=r[s]}return e}getAutoAttachMenuCallback(e,t){return()=>{const a=[e];t&&a.push(t),State.variables.armory.autoAttach(this,a),setup.runSugarCubeCommand("<<focgoto>>")}}getAutoAttachMenuSubChildren(e){const t=[];for(const a of setup.skill)t.push(I({text:`${e.rep()}${a.rep()}`,callback:this.getAutoAttachMenuCallback(e,a)}));return t}getAutoAttachMenu(){return I({text:'Auto-Attach <i class="sfa sfa-down-dir"></i>',tooltip:"Automatically attach equipments to this set maximizing your chosen skills",clickonly:!0,children:o(()=>{const e=[];for(const t of setup.skill)e.push(A({text:t.rep(),children:this.getAutoAttachMenuSubChildren(t)}));return e},"children")})}getMenu(){const e=[];e.push(de({text:we(this)})),this.getUnit()&&e.push(P({text:`${this.getUnit().rep()}`})),this.isCanChange()?(this.getUnit()?e.push(I({text:"Unequip",tooltip:"Unequip this equipment set from the unit",callback:o(()=>{this.unequip(),setup.runSugarCubeCommand("<<focgoto>>")},"callback")})):e.push(I({text:"Equip",tooltip:"Equip this equipment set to a unit",callback:o(()=>{State.variables.gEquipmentSet_key=this.key,setup.runSugarCubeCommand('<<focgoto "ArmoryEquip">>')},"callback")})),State.variables.gPassage!="EquipmentSetChange"&&e.push(I({text:"Edit",tooltip:"Attach / unattach equipments to this equipment set",callback:o(()=>{State.variables.gEquipmentSet_key=this.key,State.variables.gEquipmentSetChangeReturnPassage=State.variables.gPassage,setup.runSugarCubeCommand('<<focgoto "EquipmentSetChange">>')},"callback")})),e.push(this.getAutoAttachMenu())):e.push(P({text:"Cannot be changed right now"}));const t=[],a="equipmentauto";for(const r in setup.MenuFilter._MENUS[a]){const s=setup.MenuFilter._MENUS[a][r];t.push(A({text:s.title,checked:!!State.variables.menufilter.get(a,r),callback:o(()=>{const n=State.variables.menufilter.get(a,r);State.variables.menufilter.set(a,r,!n),setup.runSugarCubeCommand("<<focgoto>>")},"callback")}))}return t.push(A({text:"Change name",tooltip:"Rename this equipment set",callback:o(()=>{State.variables.gEquipmentSet_key=this.key,setup.runSugarCubeCommand('<<focgoto "EquipmentSetChangeName">>')},"callback")})),this.isCanChange()&&t.push(A({text:"Strip",tooltip:"Unattach all equipments from this set",callback:o(()=>{State.variables.armory.unassignAllEquipments(this);const r=setup.Armory.getFreeEquipments();for(const s of r)State.variables.armory.replaceEquipment(s,this);this.recheckEligibility(),setup.runSugarCubeCommand("<<focgoto>>")},"callback")})),t.length&&e.push(be({children:t})),e}isCanAttach(e){if(!this.getUnit())return!0;const t=new setup.EquipmentSet({key:"dummy",name:"Default Slave Equipment"},this.getEquipmentsList().map(r=>r[1]).filter(r=>r));e.getSlot(),t.replaceEquipment(e);const a=t.isEligibleOn(this.getUnit());return t.delete(),a}static getDefaultEquipmentSet(e){return e.isSlave()?setup.EQUIPMENT_SET_DEFAULT.SLAVE:setup.EQUIPMENT_SET_DEFAULT.SLAVER}static createDefaultEquipmentSets(){return{SLAVE:new setup.EquipmentSet({key:-1,name:"Default Slave Equipment"}),SLAVER:new setup.EquipmentSet({key:-2,name:"Default Slaver Equipment"},setup.Armory.getFreeEquipments())}}static initDefaultEquipmentSets(){const e=setup.EquipmentSet.createDefaultEquipmentSets();for(const t of Object.keys(e))e[t].is_default=!0,Object.freeze(e[t].equipmentset),e[t]=Object.freeze(e[t]);setup.EQUIPMENT_SET_DEFAULT=e}},o(Wr,"EquipmentSet"),Wr),setup.EQUIPMENT_SET_DEFAULT,setup.EquipmentSlot=(Qr=class extends setup.TwineClass{constructor(e,t){if(super(),this.key=e,this.name=t,e in setup.equipmentslot)throw new Error(`Equipment Slot ${e} already exists`);setup.equipmentslot[e]=this}getName(){return this.name}getImage(){return`img/equipmentslot/${this.key}.svg`}getImageRep(){const e=`<img src="${setup.escapeHtml(setup.resolveImageUrl(this.getImage()))}" />`;return`<span class='trait colorize-white' data-tooltip="${setup.capitalize(this.getName())}">${e}</span>`}rep(){return this.getImageRep()}},o(Qr,"EquipmentSlot"),Qr),setup.Event=(Zr=class extends De{constructor(e,t,a,r,s,n,l,u,h,p,c){super(e,t,a,r,l,setup.qdiff.normal40);const d="event";this.TYPE=d,this.unit_restrictions=n;for(const g of Object.values(n))if(!Array.isArray(g))throw new Error(`(LEGACY) role of event ${this.key} has a non-array restriction!`);if(this.passage=s,this.rewards=u,this.requirements=h,this.cooldown=p,!(c instanceof setup.Rarity))throw new Error(`Unknown rarity for event ${e}!`);if(this.rarity=c,e in setup.event)throw new Error(`Event ${e} already exists`);setup.event[e]=this,setup.EventPool.registerEvent(this,c)}static sanityCheck(e,t,a,r,s,n,l,u,h){if(!e)return"Key cannot be empty";if(e in setup.event)return`Key ${e} is duplicated with another event`;if(!t)return"Name cannot be null";if(!a)return"Description cannot be empty";if(u<-1)return"Cooldown cannot be below -1";for(let p=0;p<l.length;++p)if(!setup.QuestTemplate.isCostActorIn(l[p],r,s))return`Actor ${l[p].actor_name} not found in the ${p}-th event restriction`;for(let p=0;p<n.length;++p)if(!setup.QuestTemplate.isCostActorIn(n[p],r,s))return`Actor ${n[p].actor_name} not found in the ${p}-th event outcome`;return h<0||h>100?"Rarity must be between 0 and 100":null}rep(){return this.getName()}getUnitRestrictions(){return this.unit_restrictions}getAllActorNames(){return Object.keys(this.getActorUnitGroups()).concat(Object.keys(this.getUnitRestrictions()))}getPassage(){return this.passage}getRewards(){return this.rewards}getRequirements(){return this.requirements}getCooldown(){return this.cooldown}getRarity(){return this.rarity}getDifficulty(){let e=Math.min(State.variables.unit.player.getLevel(),setup.LEVEL_PLATEAU);return setup.qdiff[`normal${e}`]}getActorResultJob(e){let t=this.getRewards();for(let a=0;a<t.length;++a){let r=t[a];if(r.IS_SLAVE&&r.getActorName()==e)return setup.job.slave;if(r.IS_SLAVER&&r.getActorName()==e)return setup.job.slaver}return null}debugMakeInstance(e){let t=setup.EventPool.getEventUnitAssignmentRandom(this,{});if(!t){let l=this.getUnitRestrictions();const u=State.variables.company.player.getUnits({}).filter(p=>!p.isEngaged()&&!State.variables.leave.isOnLeave(p));setup.rng.shuffleArray(u);let h=0;t={};for(let p in l)e&&h<u.length?(t[p]=u[h],h+=1):(t[p]=setup.unitpool.subrace_lizardkin_male.generateUnit(),State.variables.company.player.addUnit(t[p],setup.job.slaver))}const a=this.getActorUnitGroups();let r=setup.DebugActor.getActors(a,e),s=setup.EventPool.finalizeEventAssignment(this,t,r);return new setup.EventInstance(this,s)}isCanGenerate(){return!(State.variables.settings.isBanned(this.getTags())||!setup.RestrictionLib.isPrerequisitesSatisfied(this,this.getRequirements())||!setup.RestrictionLib.isActorUnitGroupViable(this.getActorUnitGroups())||State.variables.calendar.isOnCooldown(this))}},o(Zr,"Event"),Zr),setup.EventInstance=(Xr=class extends setup.TwineClass{constructor(e,t){super(),this.event_key=e.key,this.actor_unit_key_map={};for(let a in t){const r=t[a];this.actor_unit_key_map[a]=r.key,r&&r.setDebugInfo(e)}}getEvent(){return setup.event[this.event_key]}getTemplate(){return this.getEvent()}getName(){return this.getEvent().name}getActorsList(){let e=[];for(let t in this.actor_unit_key_map){let a=State.variables.unit[this.actor_unit_key_map[t]];e.push([t,a])}return e}getActorObj(){let e=this.getActorsList(),t={};return e.forEach(a=>{t[a[0]]=a[1]}),t}getActorUnit(e){return State.variables.unit[this.actor_unit_key_map[e]]}applyRewards(){setup.RestrictionLib.applyAll(this.getEvent().getRewards(),this)}getSeed(){return this.seed?this.seed:(this.seed=1+Math.floor(Math.random()*999999997),this.seed)}debugKillActors(){setup.QuestInstance.debugKillActorsDo(this.getActorsList())}},o(Xr,"EventInstance"),Xr),setup.EventPool=(ri=class extends setup.TwineClass{constructor(){super(),this.schedule={},this.done_on_week=null,this.unit_scheduled_events={}}static registerEvent(e,t){e.key in setup.EventPool.event_rarity_map||(setup.EventPool.event_rarity_map[e.key]=t)}getDeck(){return setup.Deck.get("eventpooldeck")}static getEventUnitAssignmentRandom(e,t){let r=e.getUnitRestrictions();for(let s=0;s<10;++s){let n={},l={},u=!0;if(t){for(const h in r)if(h in t){const p=t[h];l[p.key]=!0,n[h]=p}}for(let h in r){if(h in n)continue;let p=r[h],c=[],d=setup.QuestPool.getYourUnitBaseCandidates(p);for(const m of d)m.key in l||setup.RestrictionLib.isUnitSatisfyIncludeDefiancy(m,p)&&c.push(m);if(!c.length){u=!1;break}let g=c[Math.floor(Math.random()*c.length)];l[g.key]=!0,n[h]=g}if(u)return n}return null}static finalizeEventAssignment(e,t,a){let r=setup.QuestPool.instantiateActors(e,a);if(!r)return null;for(const s in r)t[s]=r[s];return t}_finalizeEvent(e){State.variables.statistics.add("events",1);const t=e.getEvent(),a=t.getCooldown();if(a){const r=State.variables.calendar.getCooldown(t);State.variables.calendar.setCooldown(t,Math.max(r,a))}e.applyRewards()}getEventInstance(){let e=State.variables.calendar.getWeek();for(;e in this.schedule&&this.schedule[e].length;){const n=this.schedule[e],l=n[0];n.splice(0,1),n.length||delete this.schedule[e],this.cleanEvent(l);const u=setup.event[l.event_key],h={};let p=!0;for(const d in l.default_assignment_keys){const g=l.default_assignment_keys[d];if(!(g in State.variables.unit)){p=!1;break}h[d]=State.variables.unit[g]}if(!p)continue;let c=setup.EventPool.getEventUnitAssignmentRandom(u,h);if(c){this.done_on_week=e;let d=setup.EventPool.finalizeEventAssignment(u,c,h);if(!d)continue;return new setup.EventInstance(u,d)}}let t=!1;this.done_on_week==e&&(t=!0),this.done_on_week=e;let a=this._pickEvent(t);if(!a)return null;let r=setup.EventPool.finalizeEventAssignment(a.event,a.assignment);return r?new setup.EventInstance(a.event,r):null}_pickEvent(e){const t=[];for(const s in setup.EventPool.event_rarity_map)t.push({rarity:setup.EventPool.event_rarity_map[s],object:setup.event[s]});const a=t.filter(s=>s.rarity.isForced()&&s.object.isCanGenerate());setup.rng.shuffleArray(a);for(const s of a){const n=setup.EventPool.getEventUnitAssignmentRandom(s.object);if(n)return{event:s.object,assignment:n}}if(a.length&&(console.log("The following events should trigger, but some factor prevents it."),console.log(a)),e)return null;const r=this.getDeck();for(let s=0;s<setup.DECK_DRAW_RETRIES_EVENT;++s){r.isEmpty()&&r.regenerateDeck(t.filter(u=>!u.rarity.isForced()).map(u=>({object:u.object.key,rarity:u.rarity})));const n=r.drawCard(),l=setup.event[n];if(l&&l.isCanGenerate()){const u=setup.EventPool.getEventUnitAssignmentRandom(l);if(u)return{event:l,assignment:u}}}return null}scheduleEvent(e,t,a,r){const s=State.variables.calendar.getWeek();if(t<s)throw new Error(`Event ${e.getName()} is scheduled for week ${t}, but it's already week ${s}!`);t in this.schedule||(this.schedule[t]=[]);const n={};if(a)for(const l in a){const u=a[l];n[l]=u.key,u.key in this.unit_scheduled_events||(this.unit_scheduled_events[u.key]=0),this.unit_scheduled_events[u.key]+=1}if(this.schedule[t].push({event_key:e.key,default_assignment_keys:n,is_visible_in_calendar:r}),r){const l=t-State.variables.calendar.getWeek();setup.notify(`${e.getName()} will trigger in ${l} weeks.`)}else State.variables.gDebug&&setup.notify(`DEBUG: Hidden event ${e.getName()} is scheduled to trigger in week ${t}.`)}isEventScheduled(e){for(let t in this.schedule)if(+t>=State.variables.calendar.getWeek()&&this.schedule[t].filter(a=>a.event_key==e.key).length)return!0;return!1}unscheduleEvent(e){for(let t in this.schedule){for(let a of this.schedule[t].filter(r=>r.event_key==e.key))this.cleanEvent(a);this.schedule[t]=this.schedule[t].filter(a=>a.event_key!=e.key)}}isUnitScheduledForEvent(e){return e.key in this.unit_scheduled_events}cleanEvent(e){let t=e.default_assignment_keys;for(const a of Object.values(t)){if(!(a in this.unit_scheduled_events))throw new Error(`Unit ${a} not found in unit scheduled event! BUG somewhere`);this.unit_scheduled_events[a]-=1,this.unit_scheduled_events[a]==0&&(delete this.unit_scheduled_events[a],State.variables.unit[a].checkDelete())}}getScheduledEvents({is_visible_in_calendar:e}){const t=[],a=Object.keys(this.schedule).map(r=>parseInt(r));a.sort();for(const r of a){let s=this.schedule[r].map(n=>({event:setup.event[n.event_key],is_visible_in_calendar:n.is_visible_in_calendar}));e&&(s=s.filter(n=>n.is_visible_in_calendar)),s.length&&t.push({occur_week:r,events:s})}return t}getNextVisibleEvents(){const e=this.getScheduledEvents({is_visible_in_calendar:!0});return e.length?e[0]:null}},o(ri,"EventPool"),y(ri,"event_rarity_map",{}),ri),setup.FAMILY_RELATION_MAP={sibling:{gender_male:"brother",gender_female:"sister"},twin:{gender_male:"twinbrother",gender_female:"twinsister"},parent:{gender_male:"father",gender_female:"mother"},child:{gender_male:"son",gender_female:"daughter"}},setup.Family=(es=class extends setup.TwineClass{constructor(){super(),this.family_map={}}deleteUnit(e){let t=e.key;t in this.family_map&&delete this.family_map[t];for(let a in this.family_map)t in this.family_map[a]&&delete this.family_map[a][t]}_setRelation(e,t,a){e.key in this.family_map||(this.family_map[e.key]={}),this.family_map[e.key][t.key]=a}unsetRelation(e,t){this.family_map[e.key]&&delete this.family_map[e.key][t.key],this.family_map[t.key]&&delete this.family_map[t.key][e.key]}_uniteSurname(e,t){e.setName(e.first_name,t.surname)}setSibling(e,t){this.unsetRelation(e,t),this._setRelation(e,t,"sibling"),this._setRelation(t,e,"sibling"),this._uniteSurname(e,t)}setParent(e,t){this.unsetRelation(e,t),this._setRelation(e,t,"parent"),this._setRelation(t,e,"child"),this._uniteSurname(t,e)}setTwin(e,t){this.unsetRelation(e,t),this._setRelation(e,t,"twin"),this._setRelation(t,e,"twin"),this._uniteSurname(e,t)}getRelation(e,t){if(!(e.key in this.family_map)||!(t.key in this.family_map[e.key]))return null;let a=this.family_map[e.key][t.key],r=setup.FAMILY_RELATION_MAP[a];if(!r)throw new Error(`??? missing relation obj for ${a}`);for(let s in r)if(e.isHasTrait(setup.trait[s]))return setup.familyrelation[r[s]];throw new Error(`Not found relation family for ${e.key}`)}getUnitRelation(e,t){if(setup.isString(t)&&(t=setup.familyrelation[t]),!t)throw new Error("Missing relation in getUnitRelation!");for(const a in this.family_map){const r=State.variables.unit[a];if(this.getRelation(r,e)==t)return r}return null}getFamily(e){if(!(e.key in this.family_map))return{};let t={};for(let a in this.family_map[e.key])t[a]=this.getRelation(e,State.variables.unit[a]);return t}getFamilyList(e){let t=this.getFamily(e),a=[];for(let r in t)a.push({unit:State.variables.unit[r],relation:t[r]});return a}},o(es,"Family"),es),setup.FamilyRelation=(ts=class extends setup.TwineClass{constructor(e,t,a,r){if(super(),!e)throw new Error("null key for family relation");if(this.key=e,!t)throw new Error(`null name for family relation ${e}`);if(this.name=t,!Array.isArray(a))throw new Error(`${e} tags wrong for family relation ${t}`);if(this.tags=a,this.nicknames=r,e in setup.familyrelation)throw new Error(`Family relation ${e} duplicated`);setup.familyrelation[e]=this}rep(){return this.getName()}getName(){return this.name}getTags(){return this.tags}getNicknames(){return this.nicknames}},o(ts,"FamilyRelation"),ts);function oe(i){return`${i} <i class="sfa sfa-down-big"></i>`}o(oe,"down");function pe(i){return`${i} <i class="sfa sfa-up-big"></i>`}o(pe,"up");function mf(i,e,t,a,r){return()=>{State.variables.menufilter.set(i,e,t),a?setup.runSugarCubeCommand("<<focgoto>>"):(setup.DOM.refresh(".filtertoolbar"),setup.DOM.Util.filterableRefresh(".filtercontainer"),setup.runSugarCubeCommand('<<refreshable-refresh "#filtertoolbar">>'),setup.runSugarCubeCommand('<<filterable-refresh "#filtercontainer">>')),r&&r()}}o(mf,"getCallback");function UR(i,e,t){return()=>{t?State.variables.menufilter.setOption(i,e,null):State.variables.menufilter.setOption(i,e,!0),setup.runSugarCubeCommand("<<focgoto>>")}}o(UR,"optionCallback"),setup.MenuFilter=(ta=class extends setup.TwineClass{constructor(){super(),this.filters={},this.filter_option={}}setOption(e,t,a){if(!(t in setup.MenuFilter.OPTIONS))throw new Error(`Unrecognized option: ${t}`);setup.MenuFilter.OPTIONS[t].reverse&&(a=!a),e in this.filter_option||(this.filter_option[e]={}),this.filter_option[e][t]=a}getOption(e,t){if(!(t in setup.MenuFilter.OPTIONS))throw new Error(`Unrecognized option: ${t}`);let a=null;return e in this.filter_option&&(a=this.filter_option[e][t]),setup.MenuFilter.OPTIONS[t].reverse?!a:a}_checkSet(e,t){const a=setup.MenuFilter._MENUS;if(!(e in a))throw new Error(`${e} menu not found in filters`);if(t&&!(t in a[e]))throw new Error(`key ${t} not found in filter menu ${e}`);e in this.filters||(this.filters[e]={}),t in this.filters[e]||(this.filters[e][t]=null)}set(e,t,a,r){if(this._checkSet(e,t),this.filters[e][t]=a,!r&&a){const n=setup.MenuFilter.getMenus()[e][t];for(const l of n.resets||[])this.set(e,l,null,!0)}}get(e,t){return this._checkSet(e,t),this.filters[e][t]}getMenuFilterToolbarSingleMenu(e,t,a,r){const s=e[t][a],n=this.get(t,a);let l=s.title,u=s.options;n&&(l=u[n].title,l=`<span class="lightgraytext">${l}</span>`),l=`${l} <i class="sfa sfa-down-dir"></i>`;const h=[A({text:s.default,checked:!n,callback:mf(t,a,null,s.hardreload,r)})];for(const p in u){const c=u[p];h.push(A({text:c.title,checked:p==n,callback:mf(t,a,p,s.hardreload,r)}))}return A({text:l,children:h,clickonly:!0})}getMenuFilterToolbarTraits(e,t,a,r){const s=e[t][a],n=(this.get(t,a)||[]).map(p=>setup.trait[p]);let l;n.length?l=n.map(p=>p.rep()):l=s.title,l=`${l} <i class="sfa sfa-down-dir"></i>`;const u={};for(const p of r)for(const c of p.getTraits())u[c.key]=!0;const h=Object.keys(u).map(p=>setup.trait[p]);return h.sort(setup.Trait_Cmp),A({text:l,callback:o(()=>{setup.DevToolHelper.pickTraits(h,n).then(p=>{mf(t,a,p.map(c=>c.key),!1)()})},"callback")})}renderIconMenu(e,t,a){const r=[];let s=0;for(const n in t[e]){const l=t[e][n];if(l.hidden||!l.icon_menu)continue;const h=this.getFilterFunc(e,a,[n])(),p=a.filter(c=>h.includes(c.key));for(const c of Object.keys(l.options)){const d=l.options[c],g=d.title;if(this.get(e,n)==c)r.push(A({text:g,cssclass:"submenu-tag-selected",callback:mf(e,n,null)}));else{const m=d.filter;let f=p.length;m&&(f=p.filter(m).length),f&&r.push(A({text:`${g} ${f}`,cssclass:`submenu-tag-${s}`,callback:mf(e,n,c)}))}}s+=1}return r}renderNonIconMenu(e,t,a){if(!(e in setup.MenuFilter._MENUS))throw new Error(`Unrecognized menu filter: ${e}`);const r=[];for(const s in t[e]){if(t[e][s].hidden||t[e][s].icon_menu)continue;let n;t[e][s].trait_menu?n=this.getMenuFilterToolbarTraits(t,e,s,a):n=this.getMenuFilterToolbarSingleMenu(t,e,s),r.push(n)}return r}getMenuFilterToolbarRender(e,t){const a=setup.MenuFilter.getMenus();let r=[];if(!this.getOption(e,"hidden")){const n=this.renderIconMenu(e,a,t),l=this.renderNonIconMenu(e,a,t);r=r.concat(l).concat(n)}const s=[];for(const n in setup.MenuFilter.OPTIONS){const l=setup.MenuFilter.OPTIONS[n];s.push(A({text:l.title,checked:!!this.getOption(e,n),callback:UR(e,n,this.getOption(e,n))}))}return s.push(A({text:"Scroll to Top",callback:o(()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},"callback")})),s.push(A({text:"Reset Filters",callback:o(()=>{for(const n in a[e])SugarCube.State.variables.menufilter.set(e,n,null);setup.runSugarCubeCommand("<<focgoto>>")},"callback")})),r.push(A({text:'<i class="sfa sfa-cog"></i>',clickonly:!0,children:s})),r.push(P({text:`<span class='filterwidgetshown${e}'></span> / ${t.length}`})),r}getFilterFunc(e,t,a){if(!(e in setup.MenuFilter._MENUS))throw new Error(`Unknown menu ${e} in filter`);let r=t.filter(()=>!0);return()=>{let s=r.filter(()=>!0);const n=setup.MenuFilter.getMenus(e);for(const l in n[e]){if(a&&a.includes(l))continue;const u=this.get(e,l);if(n[e][l].trait_menu){const h=(u||[]).map(p=>setup.trait[p]);s=s.filter(p=>p.isHasTraitsExact(h))}else if(u&&u in n[e][l].options){const h=n[e][l].options[u];"filter"in h&&(s=s.filter(h.filter)),"sort"in h&&s.sort(h.sort)}else"default_filter"in n[e][l]&&(s=s.filter(n[e][l].default_filter)),"default_sort"in n[e][l]&&(s=s.sort(n[e][l].default_sort))}return setTimeout(()=>{const l=s.length;$(`.filterwidgetshown${e}`).text(l.toString()),l<r.length?$(`.filterwidgethidden${e}`).text(`${r.length-l} hidden by filters`):$(`.filterwidgethidden${e}`).text("")},1),s.map(l=>l.key)}}getMenuItemChecked(e,t,a,r){const n=setup.MenuFilter.getMenus(e)[e][t],l=this.get(e,t);let u=n.title;return I({text:u,checked:!l,tooltip:r,callback:o(()=>{l?this.set(e,t,null):this.set(e,t,Object.keys(n.options)[0]),a()},"callback")})}static getMenus(e){const t={};let a=[];e?a=[e]:a=Object.keys(setup.MenuFilter._MENUS);for(const r of a){const s=setup.MenuFilter._MENUS[r];t[r]=Object.assign({},s);for(const n in s)t[r][n].options instanceof Function&&(t[r][n]=Object.assign({},t[r][n]),t[r][n].options=t[r][n].options())}return t}},o(ta,"MenuFilter"),y(ta,"OPTIONS",{sticky:{title:"Sticky",reverse:!0},hidden:{title:"Hidden"}}),y(ta,"_MENUS",{}),ta),setup.FilterHelper={};const Te=class Te extends setup.TwineClass{static _getRarityFilter(e){return t=>t.getRarity().key==e}static rarityFilters(){const e=[];for(const t of Object.values(setup.rarity))e.push({title:t.rep(),filter:Te._getRarityFilter(t.key)});return e}};o(Te,"MenuFilterHelper"),y(Te,"namedown",{title:oe("Name"),sort:o((e,t)=>e.getName().localeCompare(t.getName()),"sort")}),y(Te,"nameup",{title:pe("Name"),sort:o((e,t)=>t.getName().localeCompare(e.getName()),"sort")}),y(Te,"leveldown",{title:oe("Level"),sort:o((e,t)=>e.getLevel()-t.getLevel(),"sort")}),y(Te,"levelup",{title:pe("Level"),sort:o((e,t)=>t.getLevel()-e.getLevel(),"sort")}),y(Te,"joindown",{title:oe("Join"),sort:o((e,t)=>t.getWeeksWithCompany()-e.getWeeksWithCompany(),"sort")}),y(Te,"joinup",{title:pe("Join"),sort:o((e,t)=>e.getWeeksWithCompany()-t.getWeeksWithCompany(),"sort")}),y(Te,"slavevaluedown",{title:oe("Value"),sort:o((e,t)=>e.getSlaveValue()-t.getSlaveValue(),"sort")}),y(Te,"slavevalueup",{title:pe("Value"),sort:o((e,t)=>t.getSlaveValue()-e.getSlaveValue(),"sort")}),y(Te,"valuedown",{title:oe("Value"),sort:o((e,t)=>e.getValue()-t.getValue(),"sort")}),y(Te,"valueup",{title:pe("Value"),sort:o((e,t)=>t.getValue()-e.getValue(),"sort")}),y(Te,"sluttinessdown",{title:oe("Sluttiness"),sort:o((e,t)=>e.getSluttiness()-t.getSluttiness(),"sort")}),y(Te,"sluttinessup",{title:pe("Sluttiness"),sort:o((e,t)=>t.getSluttiness()-e.getSluttiness(),"sort")}),y(Te,"raritydown",{title:oe("Rarity"),sort:o((e,t)=>setup.Rarity.RarityCmp(e.getRarity(),t.getRarity()),"sort")}),y(Te,"rarityup",{title:pe("Rarity"),sort:o((e,t)=>setup.Rarity.RarityCmp(t.getRarity(),e.getRarity()),"sort")}),y(Te,"templateleveldown",{title:oe("Level"),sort:o((e,t)=>e.getTemplate().getDifficulty().getLevel()-t.getTemplate().getDifficulty().getLevel(),"sort")}),y(Te,"templatelevelup",{title:pe("Level"),sort:o((e,t)=>t.getTemplate().getDifficulty().getLevel()-e.getTemplate().getDifficulty().getLevel(),"sort")}),y(Te,"difficultyleveldown",{title:oe("Level"),sort:o((e,t)=>e.getDifficulty().getLevel()-t.getDifficulty().getLevel(),"sort")}),y(Te,"difficultylevelup",{title:pe("Level"),sort:o((e,t)=>t.getDifficulty().getLevel()-e.getDifficulty().getLevel(),"sort")});let O=Te;setup.FilterHelper.loadItemsFast=function(i,e,t){const a=[];for(let r=0;r<i.length;++r){e?State.temporary.displayobj=e[r]:State.temporary.displayobj=i[r],State.temporary.filterobj=i[r];const s=new Wikifier(null,`<div data-filter-key="${i[r].key}"></div>`),n=$(s.output.firstElementChild);n.wiki(`<<capture _filterobj _displayobj>>${t}<</capture>>`),a.push(n.get(0))}return setup.DOM.create("div",{style:"display: flex; flex-direction: column;"},a)};function NR(i){return e=>e.getTemplate().getTags().includes(i)}o(NR,"getBuildingTagFilter$1");function q_(i){return()=>{const e={};for(const t of setup.TagHelper.getAllTagsOfType("buildinginstance",i))e[t]={title:setup.TagHelper.tagRep("buildinginstance",t,!0),filter:NR(t)};return e}}o(q_,"getBuildingTagFilters$1"),setup.MenuFilter._MENUS.buildinginstance={tag_unique:{title:"Unique",default:"All",icon_menu:!0,options:q_("unique")},tag_type:{title:"Type",default:"All",icon_menu:!0,options:q_("type")},status:{title:"Status",default:"All",options:{hasupgrade:{title:"Has upgrade",filter:o(i=>i.isHasUpgrade(),"filter")}}},sort:{title:"Sort",default:"Default",default_sort:o((i,e)=>{const t=i.isUpgradable(),a=e.isUpgradable();return t&&!a?-1:!t&&a?1:i.key-e.key},"default_sort"),options:{builtdown:{title:oe("Built"),sort:o((i,e)=>i.key-e.key,"sort")},builtup:{title:pe("Built"),sort:o((i,e)=>e.key-i.key,"sort")},namedown:O.namedown,nameup:O.nameup,leveldown:O.leveldown,levelup:O.levelup}},display:{title:"Display",default:"Full",hardreload:!0,options:{short:{title:"Short"},compact:{title:"Compact"}}}};function HR(i){return e=>e.getTags().includes(i)}o(HR,"getBuildingTagFilter");function z_(i){return()=>{const e={};for(const t of setup.TagHelper.getAllTagsOfType("buildingtemplate",i))e[t]={title:setup.TagHelper.tagRep("buildingtemplate",t,!0),filter:HR(t)};return e}}o(z_,"getBuildingTagFilters"),setup.MenuFilter._MENUS.buildingtemplate={tag_unique:{title:"Unique",default:"All",icon_menu:!0,options:z_("unique")},tag_type:{title:"Type",default:"All",icon_menu:!0,options:z_("type")},status:{title:"Can build?",default:"All",options:{buildable:{title:"Buildable",filter:o(i=>i.isBuildable(0),"filter")},notbuildable:{title:"Not buildable",filter:o(i=>!i.isBuildable(0),"filter")}}},hidden:{title:"Hidden",default:"Hide",default_filter:o(i=>!State.variables.fort.player.isTemplateIgnored(i),"default_filter"),options:{show:{title:"Show"},onlyhidden:{title:"Only hidden",filter:o(i=>State.variables.fort.player.isTemplateIgnored(i),"filter")}}},sort:{title:"Sort",default:"Default",options:{namedown:O.namedown,nameup:O.nameup}},display:{title:"Display",default:"Full",hardreload:!0,options:{compact:{title:"Compact"}}}},setup.MenuFilter._MENUS.company={sort:{title:"Sort",default:oe("Name"),options:{nameup:O.nameup,favordown:{title:oe("Favor"),sort:o((i,e)=>State.variables.favor.getFavor(i)-State.variables.favor.getFavor(e),"sort")},favorup:{title:pe("Favor"),sort:o((i,e)=>State.variables.favor.getFavor(e)-State.variables.favor.getFavor(i),"sort")},iredown:{title:oe("Ire"),sort:o((i,e)=>State.variables.ire.getIre(i)-State.variables.ire.getIre(e),"sort")},ireup:{title:pe("Ire"),sort:o((i,e)=>State.variables.ire.getIre(e)-State.variables.ire.getIre(i),"sort")}}},display:{title:"Display",default:"Full",hardreload:!0,options:{compact:{title:"Compact"}}}},setup.MenuFilter._MENUS.contact={status:{title:"Status",default:"All",options:{active:{title:"Active",filter:o(i=>i.isActive(),"filter")},inactive:{title:"Inactive",filter:o(i=>!i.isActive(),"filter")}}},unit:{title:"Unit",default:"All",options:{yes:{title:"Has unit",filter:o(i=>i.getUnit(),"filter")},no:{title:"No unit",filter:o(i=>!i.getUnit(),"filter")}}},sort:{title:"Sort",default:oe("Obtained"),options:{namedown:O.namedown,nameup:O.nameup}},display:{title:"Display",default:"Full",hardreload:!0,options:{compact:{title:"Compact"}}}};function BR(i){return e=>e.getTags().includes(i)}o(BR,"getTemplateTagFilter");function sb(i){return()=>{const e={};for(const t of setup.TagHelper.getAllTagsOfType("quest",i))e[t]={title:setup.TagHelper.tagRep("quest",t,!0),filter:BR(t)};return e}}o(sb,"getTemplateTagFilters");function GR(i){return e=>e.getActorSubraces().includes(i)}o(GR,"getSubraceFilter");function qR(){const i={};for(const e of setup.TraitHelper.getAllTraitsOfTags(["subrace"]))i[e.key]={title:e.rep(),filter:GR(e)};return i}o(qR,"getSubraceFilters");function zR(i){return e=>e.getMainSkills().includes(i)}o(zR,"getSkillFilter$1");function FR(){const i={};for(const e of setup.skill)i[e.keyword]={title:e.rep(),filter:zR(e)};return i}o(FR,"getSkillFilters$1");function jR(i){return e=>e.getAuthor().name==i}o(jR,"getAuthorFilter");function KR(){const i=setup.getAuthorCredits(),e=Object.keys(i);e.sort();const t={};for(const a of e)t[a]={title:a,filter:jR(a)};return t}o(KR,"getAuthorFilters");function VR(i,e){return t=>t.getDifficulty().getLevel()>=i&&t.getDifficulty().getLevel()<=e}o(VR,"getLevelFilter");function YR(){const e=setup.DIFFICULTY_MAX_LEVEL;let t=1;const a={};for(;t<=e;)a[t]={title:`Lv. ${t} - ${t+5-1}`,filter:VR(t,t+5-1)},t+=5;return a}o(YR,"getLevelFilters"),setup.MenuFilter._MENUS.questtemplate={tag_rarity:{title:"Rarity",default:"All",icon_menu:!0,options:sb("rarity")},tag_region:{title:"Region",default:"All",icon_menu:!0,options:sb("region")},tag_type:{title:"Type",default:"All",icon_menu:!0,options:sb("type")},tag_reward:{title:"Reward",default:"All",icon_menu:!0,options:sb("reward")},subrace:{title:"Subrace",default:"All",icon_menu:!0,options:qR},skill:{title:"Skill",default:"All",icon_menu:!0,options:FR},author:{title:"Author",default:"All",options:KR},level:{title:"Level",default:"All",options:YR},sort:{title:"Sort",default:oe("Name"),default_sort:o((i,e)=>i.getName().localeCompare(e.getName()),"default_sort"),options:{nameup:O.nameup,leveldown:O.difficultyleveldown,levelup:O.difficultylevelup}}},setup.MenuFilter._MENUS.opportunitytemplate=Object.assign({},setup.MenuFilter._MENUS.questtemplate),delete setup.MenuFilter._MENUS.opportunitytemplate.skill,setup.MenuFilter._MENUS.event=setup.MenuFilter._MENUS.opportunitytemplate,setup.MenuFilter._MENUS.activitytemplate=Object.assign({},setup.MenuFilter._MENUS.opportunitytemplate),delete setup.MenuFilter._MENUS.activitytemplate.level,setup.MenuFilter._MENUS.interaction=setup.MenuFilter._MENUS.activitytemplate;function JR(i){return e=>e.getTemplate().getType()==i}o(JR,"getDutyTypeFilter");function WR(){const i={};for(const e in setup.DutyTemplate.TYPE)i[e]={title:setup.DutyTemplate.getTypeRep(e),filter:JR(e)};return i}o(WR,"getDutyTypeFilters");function QR(i){return e=>e.getTemplate().getEligibleJobs().includes(setup.job[i])}o(QR,"getJobFilter$1");function ZR(){const i={};for(const e in setup.job)i[e]={title:setup.job[e].rep(),filter:QR(e)};return i}o(ZR,"getJobFilters$1"),setup.MenuFilter._MENUS.duty={job:{title:"Job",default:"All",icon_menu:!0,options:ZR},type:{title:"Type",default:"All",icon_menu:!0,options:WR},status:{title:"Status",default:"All",options:{assigned:{title:"Assigned",filter:o(i=>i.getAssignedUnit(),"filter")},active:{title:"Active",filter:o(i=>i.isActive(),"filter")},replaced:{title:"Replacement active",filter:o(i=>i.isSpecialistActive(),"filter")},busy:{title:"Inactive",filter:o(i=>i.getAssignedUnit()&&!i.isActive(),"filter")},inactive:{title:"Inactive or empty",filter:o(i=>!i.isActive(),"filter")},empty:{title:"Empty",filter:o(i=>!i.getAssignedUnit(),"filter")}}},other:{title:"Others",default:"All",options:{autoassign_quest_yes:{title:"Pickable by auto-assign quest",filter:o(i=>i.isCanGoOnQuestsAuto(),"filter")},autoassign_quest_no:{title:"Not pickable by auto-assign quest",filter:o(i=>!i.isCanGoOnQuestsAuto(),"filter")},specialist_quest_yes:{title:"Replacement specialist enabled",filter:o(i=>i.isSpecialistEnabled(),"filter")},specialist_quest_no:{title:"Replacement specialist disabled",filter:o(i=>i.getTemplate().isCanReplaceWithSpecialist()&&!i.isSpecialistEnabled(),"filter")}}},sort:{title:"Sort",default:oe("Default"),options:{namedown:O.namedown,nameup:O.nameup,triggerup:{title:pe("Trigger chance"),sort:setup.DutyInstance.DutyChanceCmpGen(setup.DutyTemplate.HAS_TRIGGER_CHANCE,!0)},prestigeup:{title:pe("Prestige"),sort:setup.DutyInstance.DutyChanceCmpGen(setup.DutyTemplate.HAS_PRESTIGE,!0)}}},display:{title:"Display",default:"Full",hardreload:!0,options:{shortened:{title:"Shortened"},compact:{title:"Compact"}}}},setup.MenuFilter._MENUS.dutytemplate={sort:{title:"Sort",default:"Default",options:{namedown:O.namedown,nameup:O.nameup,type:{title:oe("Type"),sort:o((i,e)=>i.getType().localeCompare(e.getType()),"sort")}}}};function XR(i){return e=>e.getSlot().key==i}o(XR,"getEquipmentSlotFilter");function eE(){const i=[];for(const e of Object.values(setup.equipmentslot))i.push({title:e.getImageRep(),filter:XR(e.key)});return i}o(eE,"getEquipmentSlotFilters");function tE(i){const e=setup.skill[i];return(t,a)=>a.getSkillMod(e)-t.getSkillMod(e)}o(tE,"getSkillModSort$1");function aE(){const i={};for(const e of setup.skill)i[e.keyword]={title:e.getImageRep(),sort:tE(e.key),filter:o(t=>t.getSkillMod(e)>0,"filter")};return i}o(aE,"getSkillModsSort$1"),setup.MenuFilter._MENUS.equipment={sextoy:{title:"Class",default:"All",icon_menu:!0,options:o(()=>({sex:{title:setup.Equipment.repSexIcon(),filter:o(i=>i.getTags().includes("sextoy"),"filter")},nonsex:{title:setup.Equipment.repNonSexIcon(),filter:o(i=>!i.getTags().includes("sextoy"),"filter")}}),"options")},type:{title:"Type",default:"All",icon_menu:!0,options:eE},rarity:{title:"Rarity",default:"All",icon_menu:!0,options:O.rarityFilters},sortskill:{title:"Skill",default:"All",options:aE},sort:{title:"Sort",default:oe("Default"),options:{namedown:O.namedown,nameup:O.nameup,valuedown:O.valuedown,valueup:O.valueup,sluttinessdown:O.sluttinessdown,sluttinessup:O.sluttinessup,raritydown:O.raritydown,rarityup:O.rarityup}},display:{title:"Display",default:"Full",hardreload:!0,options:{compact:{title:"Compact"}}}},setup.MenuFilter._MENUS.equipmentmarket={},setup.MenuFilter._MENUS.equipmentmarket=Object.assign(setup.MenuFilter._MENUS.equipmentmarket,setup.MenuFilter._MENUS.equipment),delete setup.MenuFilter._MENUS.equipmentmarket.display,setup.MenuFilter._MENUS.equipmentmarket.display={title:"Display",default:"Full",hardreload:!0,options:{compact:{title:"Compact"}}},setup.MenuFilter._MENUS.equipmentattach=Object.assign({},setup.MenuFilter._MENUS.equipment),delete setup.MenuFilter._MENUS.equipmentattach.display,setup.MenuFilter._MENUS.equipmentauto={max:{title:"(Auto-Attach) Fill All",default:"No",options:{yes:{title:"Yes"}}},slutty:{title:"(Auto-Attach) Slutty",default:"No",options:{yes:{title:"Yes"}}},special:{title:"(Auto-Attach) Special",default:"No",options:{yes:{title:"Yes"}}}},setup.MenuFilter._MENUS.equipmentpool={};function iE(i){return(e,t)=>t.getSkillMods()[i]-e.getSkillMods()[i]}o(iE,"getEquipmentSetSkillSort");function rE(){const i={};for(const e of setup.skill)i[e.keyword]={title:e.getImageRep(),sort:iE(e.key)};return i}o(rE,"getEquipmentSetSkillsSort"),setup.MenuFilter._MENUS.equipmentset={status:{title:"Status",default:"All",options:{used:{title:"Used",filter:o(i=>i.getUnit(),"filter")},free:{title:"Free",filter:o(i=>!i.getUnit(),"filter")}}},sort:{title:"Sort",default:oe("Obtained"),resets:["sortskill"],options:{obtainedup:{title:pe("Obtained"),sort:o((i,e)=>e.key-i.key,"sort")},namedown:O.namedown,nameup:O.nameup,valuedown:O.valuedown,valueup:O.valueup,sluttinessdown:O.sluttinessdown,sluttinessup:O.sluttinessup}},sortskill:{title:"Skill",default:"None",resets:["sort"],options:rE},display:{title:"Display",default:"Full",hardreload:!0,options:{compact:{title:"Compact"}}}},setup.MenuFilter._MENUS.equipmentsetpickequip=Object.assign({},setup.MenuFilter._MENUS.equipmentset),setup.MenuFilter._MENUS.equipmentsetpickequip.eligibility={title:"Eligibility",default:"Eligible only",hardreload:!0,options:{all:{title:"All"},not:{title:"Not eligible only"}}},setup.MenuFilter._MENUS.fortgrid={zoom:{title:"Zoom",default:"1x",options:{zoom0_25:{title:"0.25x"},zoom0_5:{title:"0.5x"},zoom0_75:{title:"0.75x"},zoom1_25:{title:"1.25x"},zoom1_5:{title:"1.5x"},zoom1_75:{title:"1.75x"},zoom2:{title:"2x"},zoom2_5:{title:"2.5x"},zoom3:{title:"3x"},zoom4:{title:"4x"}}},show_caption:{title:"Show room name",default:"Show",options:{hide:{title:"Hide"}}},show_tooltip:{title:"Show tooltips",default:"Show",options:{hide:{title:"Hide"}}},show_skills:{title:"Show skills",default:"Show",options:{hide:{title:"Hide"}}},show_activities:{title:"Show unit activities",default:"Show",options:{hide:{title:"Hide"}}}};function sE(i){return e=>e.getItemClass().key==i}o(sE,"getItemClassFilter");function nE(){const i=[];for(const e of Object.values(setup.itemclass))i.push({title:e.getImageRep(),filter:sE(e.key)});return i}o(nE,"getItemClassFilters");function oE(i){return e=>e.getItemClass()==setup.itemclass.furniture&&e.getSlot().key==i}o(oE,"getFurnitureSlotFilter");function F_(){const i=[];for(const e of Object.values(setup.furnitureslot))i.push({title:e.getImageRep(),filter:oE(e.key)});return i}o(F_,"getFurnitureSlotFilters");function lE(i){const e=setup.skill[i];return(t,a)=>a.getSkillMod(e)-t.getSkillMod(e)}o(lE,"getSkillModSort");function uE(){const i={};for(const e of setup.skill)i[e.keyword]={title:e.getImageRep(),sort:lE(e.key),filter:o(t=>t instanceof setup.Furniture&&t.getSkillMod(e)>0,"filter")};return i}o(uE,"getSkillModsSort"),setup.MenuFilter._MENUS.item={type:{title:"Type",default:"All",resets:["furniture"],icon_menu:!0,options:nE},furniture:{title:"Furniture",default:"All",resets:["type"],icon_menu:!0,options:F_},rarity:{title:"Rarity",default:"All",icon_menu:!0,options:O.rarityFilters},sortskill:{title:"Skill",default:"All",options:uE},sort:{title:"Sort",default:oe("Default"),options:{namedown:O.namedown,nameup:O.nameup,valuedown:O.valuedown,valueup:O.valueup,raritydown:O.raritydown,rarityup:O.rarityup}},display:{title:"Display",default:"Full",hardreload:!0,options:{short:{title:"Short"},compact:{title:"Compact"}}}},setup.MenuFilter._MENUS.itemmarket={availability:{title:"Availability",default:"All",hardreload:!0,options:{limited:{title:"Limited only"},unlimited:{title:"Unlimited only"}}}},setup.MenuFilter._MENUS.itemmarket=Object.assign(setup.MenuFilter._MENUS.itemmarket,setup.MenuFilter._MENUS.item),delete setup.MenuFilter._MENUS.itemmarket.display,setup.MenuFilter._MENUS.itemmarket.display={title:"Display",default:"Full",hardreload:!0,options:{compact:{title:"Compact"}}},setup.MenuFilter._MENUS.furnitureattach={furniture:{title:"Furniture",default:"All",icon_menu:!0,options:F_},sortskill:setup.MenuFilter._MENUS.item.sortskill,sort:setup.MenuFilter._MENUS.item.sort},setup.MenuFilter._MENUS.itempool={},setup.MenuFilter._MENUS.title={sort:{title:"Sort",default:"Default",options:{namedown:O.namedown,nameup:O.nameup}}};function hE(i){return e=>e.getTags().includes(i)}o(hE,"getLoreTagFilter");function pE(i){return()=>{const e=[];for(const t of setup.TagHelper.getAllTagsOfType("lore",i))e.push({title:setup.TagHelper.tagRep("lore",t,!0),filter:hE(t)});return e}}o(pE,"getLoreTagFilters"),setup.MenuFilter._MENUS.lore={type:{title:"Type",default:"All",icon_menu:!0,options:pE("type")},sort:{title:"Sort",default:oe("Default"),default_sort:o((i,e)=>{const t=`${i.getTags().toString()}${i.getName()}`,a=`${e.getTags().toString()}${e.getName()}`;return t.localeCompare(a)},"default_sort"),options:{namedown:O.namedown,nameup:O.nameup}},display:{title:"Display",default:"Full",hardreload:!0,options:{compact:{title:"Compact"}}}};function cE(i){return e=>e.getTemplate().getTags().includes(i)}o(cE,"getOpportunityTagFilter");function nb(i){return()=>{const e={};for(const t of setup.TagHelper.getAllTagsOfType("opportunity",i))e[t]={title:setup.TagHelper.tagRep("opportunity",t,!0),filter:cE(t)};return e}}o(nb,"getOpportunityTagFilters"),setup.MenuFilter._MENUS.opportunity={tag_rarity:{title:"Rarity",default:"All",icon_menu:!0,options:nb("rarity")},tag_region:{title:"Region",default:"All",icon_menu:!0,options:nb("region")},tag_type:{title:"Type",default:"All",icon_menu:!0,options:nb("type")},tag_reward:{title:"Reward",default:"All",icon_menu:!0,options:nb("reward")},sort:{title:"Sort",default:oe("Obtained"),options:{obtainedup:{title:pe("Obtained"),sort:o((i,e)=>e.key-i.key,"sort")},leveldown:O.templateleveldown,levelup:O.templatelevelup,namedown:O.namedown,nameup:O.nameup}},display:{title:"Display",default:"Full",hardreload:!0,options:{short:{title:"Short"}}}},setup.MenuFilter._MENUS.party={sort:{title:"Sort",default:oe("Obtained"),options:{namedown:O.namedown,nameup:O.nameup}},display:{title:"Display",default:"Full",hardreload:!0,options:{compact:{title:"Compact"}}}};function dE(i){return e=>e.getTemplate().getTags().includes(i)}o(dE,"getQuestTagFilter");function ob(i){return()=>{const e={};for(const t of setup.TagHelper.getAllTagsOfType("quest",i))e[t]={title:setup.TagHelper.tagRep("quest",t,!0),filter:dE(t)};return e}}o(ob,"getQuestTagFilters"),setup.MenuFilter._MENUS.quest={tag_rarity:{title:"Rarity",default:"All",icon_menu:!0,options:ob("rarity")},tag_region:{title:"Region",default:"All",icon_menu:!0,options:ob("region")},tag_type:{title:"Type",default:"All",icon_menu:!0,options:ob("type")},tag_reward:{title:"Reward",default:"All",icon_menu:!0,options:ob("reward")},status:{title:"Status",default:"All",options:{assigned:{title:"Assigned",filter:o(i=>i.getTeam(),"filter")},free:{title:"Free",filter:o(i=>!i.getTeam(),"filter")}}},history:{title:"History",default:"All",options:{new:{title:"New",filter:o(i=>!State.variables.statistics.isHasSuccess(i.getTemplate()),"filter")},free:{title:"Cleared",filter:o(i=>State.variables.statistics.isHasSuccess(i.getTemplate()),"filter")}}},ignored:{title:"Ignored",default:"Hide",default_filter:o(i=>!State.variables.company.player.isIgnored(i.getTemplate()),"default_filter"),options:{show:{title:"Show"},ignoredonly:{title:"Ignored only",filter:o(i=>State.variables.company.player.isIgnored(i.getTemplate()),"filter")}}},sort:{title:"Sort",default:oe("Obtained"),options:{obtainedup:{title:pe("Obtained"),sort:o((i,e)=>e.key-i.key,"sort")},leveldown:O.templateleveldown,levelup:O.templatelevelup,expiresdown:{title:oe("Expires"),sort:o((i,e)=>i.getWeeksUntilExpired()-e.getWeeksUntilExpired(),"sort")},expiresup:{title:pe("Expires"),sort:o((i,e)=>e.getWeeksUntilExpired()-i.getWeeksUntilExpired(),"sort")},weeksdown:{title:oe("Weeks"),sort:o((i,e)=>i.getTemplate().getWeeks()-e.getTemplate().getWeeks(),"sort")},weeksup:{title:pe("Weeks"),sort:o((i,e)=>e.getTemplate().getWeeks()-i.getTemplate().getWeeks(),"sort")},namedown:O.namedown,nameup:O.nameup}},display:{title:"Display",default:"Full",hardreload:!0,options:{short:{title:"Short"},compact:{title:"Compact"}}},text:{title:"Story",default:"Full",hardreload:!0,options:{new:{title:"New only"},hidden:{title:"Hidden"}}}},setup.MenuFilter._MENUS.questassign={score:{title:'<i class="sfa sfa-cog"></i>',default:"Default",hardreload:!0,options:{crit:{title:"Max. Critical"},failure:{title:"Min. Disaster"}}}};function gE(i){return e=>{var t;return((t=e.getParty())==null?void 0:t.key)==i}}o(gE,"getUnitPartyFilter");function mE(){const i={};for(const e of State.variables.partylist.getParties())i[e.key]={title:e.getName(),filter:gE(e.key)};return i.no_party={title:"No Party",filter:o(e=>!e.getParty(),"filter")},i}o(mE,"getUnitParties");function fE(i){return(e,t)=>t.getSkill(setup.skill[i])-e.getSkill(setup.skill[i])}o(fE,"getUnitSkillSort");function bE(){const i={};for(const e of setup.skill)i[e.keyword]={title:e.getImageRep(),sort:fE(e.key)};return i}o(bE,"getUnitSkillsSort");function yE(i){return e=>e.getJob().key==i}o(yE,"getJobFilter");function kE(){return()=>{const i={};for(const e in setup.job)i[e]={title:setup.job[e].rep(),filter:yE(e)};return i}}o(kE,"getJobFilters");function vE(i){return e=>e.isHasTrait(setup.trait[i])}o(vE,"getTraitFilter");function SE(i){return()=>{const e={};for(const t of Object.values(setup.trait))t.getTags().includes(i)&&(e[t.key]={title:t.rep(),filter:vE(t.key)});return e}}o(SE,"getTraitFilters");function TE(){const i={idle:{img:setup.Unit.BUSY_IDLE_URL,tooltip:"Idle",filter:o(t=>!t.isBusy(),"filter")},duty:{img:setup.Unit.BUSY_DUTY_URL,tooltip:"On duty",filter:o(t=>t.getDuty(),"filter")},busy:{img:setup.Unit.BUSY_OTHER_URL,tooltip:"Not available",filter:o(t=>!t.isAvailable(),"filter")},quest:{img:setup.Unit.BUSY_QUEST_URL,tooltip:"On a quest / opportunity",filter:o(t=>t.getQuest()||t.getOpportunity(),"filter")},leave:{img:setup.Unit.BUSY_LEAVE_URL,tooltip:"On leave",filter:o(t=>State.variables.leave.isOnLeave(t),"filter")},injured:{img:setup.Unit.BUSY_INJURY_URL,tooltip:"Injured",filter:o(t=>t.isInjured(),"filter")}},e={};for(const t in i){const a=i[t];e[t]={title:setup.repImgIcon(a.img,a.tooltip),filter:a.filter}}return e}o(TE,"getStatusFilters"),setup.MenuFilter._MENUS.unit={job:{title:"Job",icon_menu:!0,options:kE()},gender:{title:"Gender",icon_menu:!0,options:SE("gender")},party:{title:"Party",default:"All",options:mE},status:{title:"Status",default:"All",options:TE},traits:{title:"Traits",trait_menu:!0},display:{title:"Display",default:"Full",hardreload:!0,options:{compact:{title:"Compact"}}},sort:{title:"Sort",default:"Default",resets:["sortskill"],options:{namedown:O.namedown,nameup:O.nameup,race:{title:oe("Race"),sort:o((i,e)=>setup.Trait_Cmp(i.getSubrace(),e.getSubrace()),"sort")},leveldown:O.leveldown,levelup:O.levelup,joindown:O.joindown,joinup:O.joinup,slavevaluedown:O.slavevaluedown,slavevalueup:O.slavevalueup,party:{title:oe("Party"),sort:o((i,e)=>setup.Party.Cmp(i.getParty(),e.getParty()),"sort")}}},sortskill:{title:"Skill",default:"None",resets:["sort"],options:bE}},setup.MenuFilter._MENUS.unitslave=setup.MenuFilter._MENUS.unit,setup.MenuFilter._MENUS.unitslaver=setup.MenuFilter._MENUS.unit,setup.MenuFilter._MENUS.unitequipmentset=setup.MenuFilter._MENUS.unit,setup.MenuFilter._MENUS.unitnewgameplus={};for(const i in setup.MenuFilter._MENUS.unit){const e=setup.MenuFilter._MENUS.unit[i];e.hardreload||(setup.MenuFilter._MENUS.unitnewgameplus[i]=e)}setup.MenuFilter._MENUS.unitmarket=Object.assign({},setup.MenuFilter._MENUS.unit),setup.MenuFilter._MENUS.unitmarket.sort=Object.assign({},setup.MenuFilter._MENUS.unit.sort),setup.MenuFilter._MENUS.unitmarket.sort.options=Object.assign({},setup.MenuFilter._MENUS.unit.sort.options),delete setup.MenuFilter._MENUS.unitmarket.team,delete setup.MenuFilter._MENUS.unitmarket.status,delete setup.MenuFilter._MENUS.unitmarket.display,delete setup.MenuFilter._MENUS.unitmarket.sort.options.joindown,delete setup.MenuFilter._MENUS.unitmarket.sort.options.joinup,delete setup.MenuFilter._MENUS.unitmarket.sort.options.leveldown,delete setup.MenuFilter._MENUS.unitmarket.sort.options.levelup,setup.MenuFilter._MENUS.unitmarket.sort.options.raritydown=O.raritydown,setup.MenuFilter._MENUS.unitmarket.sort.options.rarityup=O.rarityup,setup.MenuFilter._MENUS.unitmarket.display={title:"Display",default:"Full",hardreload:!0,options:{compact:{title:"Compact"}}},setup.MenuFilter._MENUS.unitmarket.rarity={title:"Rarity",default:"All",icon_menu:!0,options:O.rarityFilters},setup.MenuFilter._MENUS.unitduty=Object.assign({},setup.MenuFilter._MENUS.unit),setup.MenuFilter._MENUS.unitduty.sort=Object.assign({},setup.MenuFilter._MENUS.unit.sort),setup.MenuFilter._MENUS.unitduty.sort.options=Object.assign({},setup.MenuFilter._MENUS.unit.sort.options),setup.MenuFilter._MENUS.unitduty.sort.options.triggerdown={title:pe("Trigger / Prestige"),sort:o((i,e)=>{const t=State.variables.duty[State.variables.gDuty_key];return t.getTemplate().computeChanceForUnit(e)-t.getTemplate().computeChanceForUnit(i)},"sort")},setup.MenuFilter._MENUS.unitso=Object.assign({},setup.MenuFilter._MENUS.unit),setup.MenuFilter._MENUS.unitso.sort=Object.assign({},setup.MenuFilter._MENUS.unit.sort),setup.MenuFilter._MENUS.unitso.sort.options=Object.assign({},setup.MenuFilter._MENUS.unit.sort.options),setup.MenuFilter._MENUS.unitso.sort.options.pricedown={title:oe("Price"),sort:o((i,e)=>{const t=State.variables.slaveorder[State.variables.gSlaveOrder_key];return t.getFulfillPrice(i)-t.getFulfillPrice(e)},"sort")},setup.MenuFilter._MENUS.unitso.sort.options.priceup={title:pe("Price"),sort:o((i,e)=>{const t=State.variables.slaveorder[State.variables.gSlaveOrder_key];return t.getFulfillPrice(e)-t.getFulfillPrice(i)},"sort")},setup.MenuFilter._MENUS.unitquest=Object.assign({},setup.MenuFilter._MENUS.unit),delete setup.MenuFilter._MENUS.unitquest.display,setup.MenuFilter._MENUS.unitquest.sort=Object.assign({},setup.MenuFilter._MENUS.unit.sort),setup.MenuFilter._MENUS.unitquest.sort.resets=["sortskill","sortscore"],setup.MenuFilter._MENUS.unitquest.sortskill=Object.assign({},setup.MenuFilter._MENUS.unit.sortskill),setup.MenuFilter._MENUS.unitquest.sortskill.resets=["sort","sortscore"],setup.MenuFilter._MENUS.unitquest.sortscore={title:"Score",default:"Overall",resets:["sort","sortskill"],hardreload:!0,options:{crit:{title:pe("Critical")},success:{title:pe("Success+")},failure:{title:pe("Failure+")}}},setup.MenuFilter._MENUS.unitretired=Object.assign({},setup.MenuFilter._MENUS.unit),delete setup.MenuFilter._MENUS.unitretired.party,delete setup.MenuFilter._MENUS.unitretired.status,setup.MenuFilter._MENUS.questquick={tag_region:setup.MenuFilter._MENUS.quest.tag_region,status:setup.MenuFilter._MENUS.quest.status,sort:setup.MenuFilter._MENUS.quest.sort};function _E(i){return e=>e.getTemplate().getTags().includes(i)}o(_E,"getRoomTagFilter");function jy(i){return()=>{const e={};for(const t of setup.TagHelper.getAllTagsOfType("room",i))e[t]={title:setup.TagHelper.tagRep("room",t,!0),filter:_E(t)};return e}}o(jy,"getRoomTagFilters"),setup.MenuFilter._MENUS.room={tag_location:{title:"Location",default:"All",icon_menu:!0,options:jy("location")},tag_unique:{title:"Type",default:"All",icon_menu:!0,options:jy("unique")},tag_type:{title:"Building type",default:"All",icon_menu:!0,options:jy("type")},status:{title:"Status",default:"All",options:{used:{title:"Placed",filter:o(i=>!State.variables.roomlist.getRoomCount(i.getTemplate()).unplaced,"filter")},free:{title:"Unplaced",filter:o(i=>State.variables.roomlist.getRoomCount(i.getTemplate()).unplaced,"filter")}}},sort:{title:"Sort",default:oe("Default"),default_sort:o((i,e)=>{const t=`${i.getTemplate().getTags().toString()}${i.getName()}`,a=`${e.getTemplate().getTags().toString()}${e.getName()}`;return t.localeCompare(a)},"default_sort"),options:{namedown:O.namedown,nameup:O.nameup,widthdown:{title:oe("Width"),sort:o((i,e)=>i.getTemplate().getWidth()-e.getTemplate().getWidth(),"sort")},widthup:{title:pe("Width"),sort:o((i,e)=>e.getTemplate().getWidth()-i.getTemplate().getWidth(),"sort")},heightdown:{title:oe("Height"),sort:o((i,e)=>i.getTemplate().getHeight()-e.getTemplate().getHeight(),"sort")},heightup:{title:pe("Height"),sort:o((i,e)=>e.getTemplate().getHeight()-i.getTemplate().getHeight(),"sort")}}},display:{title:"Display",default:"Full",hardreload:!0,options:{compact:{title:"Compact"}}}};function AE(i){return e=>e.getTags().includes(i)}o(AE,"getRoomTemplateTagFilter");function Ky(i){return()=>{const e={};for(const t of setup.TagHelper.getAllTagsOfType("room",i))e[t]={title:setup.TagHelper.tagRep("room",t,!0),filter:AE(t)};return e}}o(Ky,"getRoomTemplateTagFilters");function ME(i){return e=>e.isHasSkillBonusOn(setup.skill[i])}o(ME,"getSkillFilter");function wE(){const i={};for(const e of setup.skill)i[e.keyword]={title:e.getImageRep(),filter:ME(e.key)};return i}o(wE,"getSkillFilters"),setup.MenuFilter._MENUS.roomtemplate={tag_location:{title:"Location",default:"All",icon_menu:!0,options:Ky("location")},tag_unique:{title:"Type",default:"All",icon_menu:!0,options:Ky("unique")},tag_type:{title:"Building type",default:"All",icon_menu:!0,options:Ky("type")},skill:{title:"Skill",default:"All",options:wE},sort:{title:"Sort",default:oe("Default"),default_sort:o((i,e)=>{const t=`${i.getTags().toString()}${i.getName()}`,a=`${e.getTags().toString()}${e.getName()}`;return t.localeCompare(a)},"default_sort"),options:{namedown:O.namedown,nameup:O.nameup,widthdown:{title:oe("Width"),sort:o((i,e)=>i.getWidth()-e.getWidth(),"sort")},widthup:{title:pe("Width"),sort:o((i,e)=>e.getWidth()-i.getWidth(),"sort")},heightdown:{title:oe("Height"),sort:o((i,e)=>i.getHeight()-e.getHeight(),"sort")},heightup:{title:pe("Height"),sort:o((i,e)=>e.getHeight()-i.getHeight(),"sort")}}},display:{title:"Display",default:"Full",hardreload:!0,options:{compact:{title:"Compact"}}}};function RE(i){return e=>e.getTags().includes(i)}o(RE,"getSexActionTagFilter");function Vy(i){return()=>{const e={};for(const t of setup.TagHelper.getAllTagsOfType("sexaction",i))e[t]={title:setup.TagHelper.tagRep("sexaction",t,!0),filter:RE(t)};return e}}o(Vy,"getSexActionTagFilters"),setup.MenuFilter._MENUS.sexaction={tag_subdom:{title:"Sub/Dom",default:"All",icon_menu:!0,options:Vy("subdom")},tag_type:{title:"Type",default:"All",icon_menu:!0,options:Vy("type")},tag_bodypart:{title:"Bodypart",default:"All",icon_menu:!0,options:Vy("bodypart")},sort:{title:"Sort",default:oe("Name"),default_sort:o((i,e)=>i.desc().localeCompare(e.desc()),"default_sort"),options:{nameup:{title:pe("Name"),sort:o((i,e)=>e.desc().localeCompare(i.desc()),"sort")}}},display:{title:"Display",default:"Full",hardreload:!0,options:{compact:{title:"Compact"}}}};function EE(i){return e=>e.getSourceCompany()==i}o(EE,"slaveOrderFilter");function xE(){const i=State.variables.slaveorderlist.getSlaveOrders().map(e=>e.getSourceCompany());return Object.values(State.variables.company).filter(e=>i.includes(e)).map(e=>({title:e.rep(),filter:EE(e)}))}o(xE,"getSourceCompanyFilter"),setup.MenuFilter._MENUS.slaveorder={source:{title:"Source",default:"All",options:xE},ignored:{title:"Ignored",default:"Hide",default_filter:o(i=>!i.isIgnored(),"default_filter"),options:{show:{title:"Show"},ignoredonly:{title:"Ignored only",filter:o(i=>i.isIgnored(),"filter")}}},sort:{title:"Sort",default:oe("Obtained"),options:{obtainedup:{title:pe("Obtained"),sort:o((i,e)=>e.key-i.key,"sort")},expiresdown:{title:oe("Expires"),sort:o((i,e)=>i.getExpiresIn()-e.getExpiresIn(),"sort")},expiresup:{title:pe("Expires"),sort:o((i,e)=>e.getExpiresIn()-i.getExpiresIn(),"sort")},namedown:O.namedown,nameup:O.nameup}},display:{title:"Display",default:"Full",hardreload:!0,options:{compact:{title:"Compact"}}}},setup.MenuFilter._MENUS.slaveorderquick={sort:setup.MenuFilter._MENUS.slaveorder.sort},setup.MenuFilter._MENUS.team={sort:{title:"Sort",default:oe("Obtained"),options:{namedown:O.namedown,nameup:O.nameup}},display:{title:"Display",default:"Full",hardreload:!0,options:{compact:{title:"Compact"}}}},setup.MenuFilter._MENUS.living={sort:{title:"Sort",default:"Default",options:{namedown:O.namedown,nameup:O.nameup}}};function DE(i){return e=>e.getTags().includes(i)}o(DE,"getTraitTagFilter");function IE(i){return()=>{const e={};for(const t of setup.TagHelper.getAllTagsOfType("trait",i))e[t]={title:setup.TagHelper.tagRep("trait",t,!0),filter:DE(t)};return e}}o(IE,"getTraitTagFilters"),setup.MenuFilter._MENUS.trait={type:{title:"Type",default:"All",icon_menu:!0,options:IE("type")},rarity:{title:"Rarity",default:"All",icon_menu:!0,options:O.rarityFilters},show:{title:"Show",default:"Default",default_filter:o(i=>!i.getTags().filter(e=>["perk","blessingcurse","trauma","boon"].includes(e)).length,"default_filter"),options:{all:{title:"All"}}},sort:{title:"Sort",default:"Type",options:{namedown:O.namedown,nameup:O.nameup,slavevaluedown:O.slavevaluedown,slavevalueup:O.slavevalueup}}};function $E(i){return e=>e.getTags().includes(i)}o($E,"getUnitActionTagFilter");function OE(i){return()=>{const e={};for(const t of setup.TagHelper.getAllTagsOfType("unitaction",i))e[t]={title:setup.TagHelper.tagRep("unitaction",t,!0),filter:$E(t)};return e}}o(OE,"getUnitActionTagFilters"),setup.MenuFilter._MENUS.unitaction={type:{title:"Type",icon_menu:!0,options:OE("type")},status:{title:"Status",default:"All",options:{doable:{title:"Usable",filter:o(i=>i.isCanTrain(State.temporary.unitaction_unit),"filter")},notdoable:{title:"Not usable",filter:o(i=>!i.isCanTrain(State.temporary.unitaction_unit),"filter")}}},sort:{title:"Sort",default:"Default",options:{namedown:O.namedown,nameup:O.nameup}},display:{title:"Display",default:"Full",hardreload:!0,options:{short:{title:"Short"},compact:{title:"Compact"}}}},setup.MenuFilter._MENUS.unitquick={job:setup.MenuFilter._MENUS.unit.job,status:setup.MenuFilter._MENUS.unit.status,sort:Object.assign({},setup.MenuFilter._MENUS.unit.sort)},delete setup.MenuFilter._MENUS.unitquick.sort.resets,setup.Item_keygen=1,setup.Item=(as=class extends setup.TwineClass{constructor({key:e,name:t,description:a,item_class:r,value:s,tags:n}){if(super(),!e)throw new Error("Missing key for item");if(this.key=e,this.order_key=setup.Item_keygen,setup.Item_keygen+=1,this.name=t,this.description=a,this.itemclass_key=r.key,this.value=s,!Array.isArray(n))throw new Error(`Missing array tag for item ${e}`);if(this.tags=n,!this.itemclass_key)throw new Error("Define item_class_key");if(e in setup.item)throw new Error(`Duplicate item key ${e}`);setup.item[e]=this}delete(){delete setup.item[this.key]}getTags(){return this.tags}getRarity(){const e=this.getValue();return e>=setup.ITEM_PRICE_MASTER?setup.rarity.legendary:e>=setup.ITEM_PRICE_GOOD?setup.rarity.epic:e>=setup.ITEM_PRICE_NORMAL?setup.rarity.rare:e>=setup.ITEM_PRICE_LOW?setup.rarity.uncommon:setup.rarity.common}getImageRep(){const e=this.getItemClass().getImage(),t=`<<itemcardkey '${this.key}'>>`,a=setup.escapeHtml(setup.resolveImageUrl(e));return`<span class="trait" data-tooltip="${t}"><img src="${a}"/></span>`}rep(){return setup.repMessageDict({instance:this,macroname:"itemcardkey",icontext:this.getImageRep(),text_class:this.getRarity().getTextColorClass()})}getOwnedNumber(){return State.variables.inventory.countItem(this)}getItemClass(){return setup.itemclass[this.itemclass_key]}getName(){return this.name}getValue(){return this.value}getSellValue(){return Math.floor(this.getValue()*setup.MONEY_SELL_MULTIPLIER)}getDescription(){return this.description}isUsable(){return!1}isAvailableInAlchemistShop(){return!!["usableitem","notusableitem","usablefreeitem"].includes(this.getItemClass().key)}static Cmp(e,t){return e.order_key-t.order_key}},o(as,"Item"),as),setup.Furniture=(is=class extends setup.Item{constructor(e,t,a,r,s,n,l,u){if(super({key:e,name:t,description:a,item_class:setup.itemclass.furniture,value:r,tags:n}),this.skillmods=setup.Skill.translate(l),this.slot_key=s.key,this.texts=u,!u)throw new Error(`Missing text for furniture: ${this.key}`)}getTexts(){return this.texts}getBedchamberText(){var e;return((e=this.getTexts())==null?void 0:e.bedchamber)||""}getSlot(){return setup.furnitureslot[this.slot_key]}getSkillMods(){return this.skillmods}getSkillMod(e){return this.getSkillMods()[e.key]}getMainSkill(){const e=this.getSkillMods(),t=Math.max(...e);if(t<=0)return null;const a=e.indexOf(t);return setup.skill[a]}getRarity(){const e=this.getValue();return e>=setup.FURNITURE_PRICE_MASTER?setup.rarity.legendary:e>=setup.FURNITURE_PRICE_GOODMASTER?setup.rarity.epic:e>=setup.FURNITURE_PRICE_GOOD?setup.rarity.rare:e>=setup.FURNITURE_PRICE_NORMAL?setup.rarity.uncommon:setup.rarity.common}getImageRep(){const e=this.getSlot().getImage(),t=this.getMainSkill();let a="";t?a=`colorize-${t.keyword}`:a="colorize-white",a+=` ${this.getRarity().getIconTriangleClass()}`;const r=`<<itemcardkey '${this.key}'>>`,s=setup.escapeHtml(setup.resolveImageUrl(e));return`<span class="trait ${a}" data-tooltip="${r}"><img src="${s}"/></span>`}repFull(){let e=this.rep();const t=setup.SkillHelper.explainSkills(this.getSkillMods());return t&&(e+=" "+t),e}isBasic(){return this.getTags().includes("basic")}},o(is,"Furniture"),is),setup.FurnitureSlot=(rs=class extends setup.TwineClass{constructor(e,t){if(super(),this.key=e,this.name=t,e in setup.furnitureslot)throw new Error(`Furniture Slot ${e} already exists`);setup.furnitureslot[e]=this}getName(){return this.name}getImage(){return`img/furnitureslot/${this.key}.svg`}getImageRep(){const e=`<img src="${setup.escapeHtml(setup.resolveImageUrl(this.getImage()))}" />`;return`<span class='trait colorize-white' data-tooltip="${setup.capitalize(this.getName())}">${e}</span>`}rep(){return this.getImageRep()}getBasicFurniture(){const e=`f_${this.key}_none`;return setup.item[e]}},o(rs,"FurnitureSlot"),rs),setup.Interaction=(ss=class extends De{constructor(e,t,a,r,s,n,l,u,h,p,c){super(e,t,a,r,{},setup.qdiff.normal40);const d="interaction";if(this.TYPE=d,this.passage=s,this.costs=n,this.prerequisites=l,this.unit_requirements=u,this.rewards=h,this.cooldown=p,this.current_cooldown={},!c)throw new Error(`Pool of ${e} cannot be null`);if(e in setup.interaction)throw new Error(`Duplicate ${e}`);setup.interaction[e]=this,c.register(this)}sanityCheck(e,t,a,r,s,n,l){return e?e in setup.interaction?`Key ${e} is duplicated with another interaction`:t?a?l<0?"Cooldown cannot be negative":null:"Description cannot be empty":"Name cannot be null":"Key cannot be empty"}getName(){return this.name}getAuthor(){return this.author}getPassage(){return this.passage}getCosts(){return this.costs}getTags(){return this.tags}getPrerequisites(){return this.prerequisites}getUnitRequirements(){return this.unit_requirements}getRewards(){return this.rewards}getCooldown(){return this.cooldown}canInteractWith(e){return!(e==State.variables.unit.player||this.isOnCooldown(e)||!setup.RestrictionLib.isPrerequisitesSatisfied(this,this.getPrerequisites())||!setup.RestrictionLib.isPrerequisitesSatisfied(this,this.getCosts())||State.variables.hospital.isInjured(e)||!e.isHome()||!State.variables.unit.player.isAvailable()||!setup.RestrictionLib.isUnitSatisfyIncludeDefiancy(e,this.getUnitRequirements())||State.variables.settings.isBanned(this.getTags()))}isOnCooldown(e){let t=State.variables.interaction_cooldowns;return this.key in t&&t[this.key][e.key]>0}static advanceWeek(){let e=State.variables.interaction_cooldowns;for(let t in e){let a=Object.keys(e[t]);for(let r=0;r<a.length;++r){let s=a[r];e[t][s]-=1,e[t][s]<=0&&delete e[t][s]}}}resetCooldown(e){if(!this.cooldown)return;let t=State.variables.interaction_cooldowns;this.key in t||(t[this.key]={}),t[this.key][e.key]=this.getCooldown()}makeInstance(e){this.resetCooldown(e);let t=new setup.InteractionInstance(this,e);return t.applyCosts(),t}debugMakeInstance(e){const t=State.variables.company.player.getUnits({});let a=null;for(let r=0;r<t.length;++r){let s=t[r];if(this.canInteractWith(s)){a=s;break}}if(!a){a=setup.generateAnyUnit(),State.variables.company.player.addUnit(a,setup.job.slave);let r=setup.generateAnyUnit();State.variables.company.player.addUnit(r,setup.job.slave);let s=State.variables.bedchamberlist.newBedchamber();s.getDuties()[0].assignUnit(a),s.getDuties()[1].assignUnit(r)}return new setup.InteractionInstance(this,a)}getAllActorNames(){return[]}},o(ss,"Interaction"),ss),setup.InteractionInstance=(ns=class extends setup.TwineClass{constructor(e,t){if(super(),!e)throw new Error("Interaction cannot be null");this.interaction_key=e.key,this.unit_key=t.key,t.isSlaver()?State.variables.statistics.add("interactions_slaver",1):t.isSlave()&&State.variables.statistics.add("interactions_slave",1)}getName(){return this.getInteraction().getName()}getInteraction(){return setup.interaction[this.interaction_key]}getTemplate(){return this.getInteraction()}getUnit(){return State.variables.unit[this.unit_key]}applyCosts(){setup.RestrictionLib.applyAll(this.getInteraction().getCosts(),this)}applyRewards(){setup.RestrictionLib.applyAll(this.getInteraction().getRewards(),this)}getActorsList(){return[["target",this.getUnit()]]}getActorObj(){let e=this.getActorsList(),t={};return e.forEach(a=>{t[a[0]]=a[1]}),t}getActorUnit(e){if(e=="target")return this.getUnit();throw new Error(`Unrecognized actor ${e}`)}debugKillActors(){setup.QuestInstance.debugKillActorsDo(this.getActorsList())}},o(ns,"InteractionInstance"),ns),setup.InteractionPool=(os=class extends setup.TwineClass{constructor(e){if(super(),this.key=e,this.interaction_keys=[],e in setup.interactionpool)throw new Error(`Duplicate ${e} in interaction pool`);setup.interactionpool[e]=this}register(e){this.interaction_keys.push(e.key)}getInteractions(){let e=[];for(let t=0;t<this.interaction_keys.length;++t)e.push(setup.interaction[this.interaction_keys[t]]);return e}},o(os,"InteractionPool"),os);const Pv=class Pv extends setup.TwineClass{constructor(){super(),this.itemkey_quantity_map={}}addItem(e){State.variables.statistics.add("items_obtained",1),State.variables.statistics.acquireItem(e);const t=e.key,a=this.itemkey_quantity_map[t]|0;this.itemkey_quantity_map[t]=a+1,setup.notify(`Obtained ${e.rep()}`)}removeItem(e){State.variables.statistics.add("items_lost",1);const t=e.key,a=this.itemkey_quantity_map[t]|0;if(a<1)throw new Error("Inventory bugged?");a==1?delete this.itemkey_quantity_map[t]:this.itemkey_quantity_map[t]=a-1,setup.notify(`Lost ${e.rep()}`)}sell(e){State.variables.statistics.add("items_sold",1),State.variables.company.player.addMoney(e.getSellValue()),this.removeItem(e)}isHasItem(e){const t=setup.selfOrObject(e,setup.item).key;return(this.itemkey_quantity_map[t]|0)>0}isHasItemAnywhere(e){if(this.isHasItem(e))return!0;if(e instanceof setup.Furniture){for(const t of State.variables.bedchamberlist.getBedchambers())if(t.isHasFurniture(e))return!0}return!1}countItem(e){return this.isHasItem(e)?this.itemkey_quantity_map[e.key]|0:0}getItems(){const e=[];for(let t in this.itemkey_quantity_map){const a=this.itemkey_quantity_map[t]|0;a>0&&e.push({item:setup.item[t],quantity:a})}return e.sort((t,a)=>setup.Item.Cmp(t.item,a.item)),e}isHasItemWithItemClass(e){return this.getItems().filter(t=>t.item.getItemClass()==e).length}};o(Pv,"Inventory");let Yy=Pv;setup.Inventory=Yy,setup.ItemLorebook=(ls=class extends setup.Item{constructor({key:e,name:t,lore:a,tags:r}){const s=setup.lore[a];if(!s)throw new Error(`Lore ${a} not found for lorebook ${e}`);const n=`Unlocks the ${s.getName()} lore`;super({key:e,name:t,description:n,item_class:setup.itemclass.lorebook,tags:r}),s.restrictions.push(setup.qres.HasItem(this))}},o(ls,"ItemLorebook"),ls),setup.ItemNotUsable=(us=class extends setup.Item{constructor({key:e,name:t,description:a,value:r,tags:s}){super({key:e,name:t,description:a,item_class:setup.itemclass.notusableitem,value:r,tags:s})}},o(us,"ItemNotUsable"),us),setup.ItemQuest=(hs=class extends setup.Item{constructor({key:e,name:t,description:a,tags:r}){super({key:e,name:t,description:a,item_class:setup.itemclass.questitem,tags:r})}},o(hs,"ItemQuest"),hs),setup.ItemSexManual=(ps=class extends setup.Item{constructor({key:e,name:t,description:a,tags:r}){super({key:e,name:t,description:a,item_class:setup.itemclass.sexmanual,tags:r})}},o(ps,"ItemSexManual"),ps),setup.ItemTechnology=(cs=class extends setup.Item{constructor({key:e,name:t,description:a,tags:r}){super({key:e,name:t,description:a,item_class:setup.itemclass.technologyitem,tags:r})}},o(cs,"ItemTechnology"),cs),setup.ItemUnitUsable=(ds=class extends setup.Item{constructor({key:e,name:t,description:a,value:r,unit_restrictions:s,effects:n,tags:l}){super({key:e,name:t,description:a,item_class:setup.itemclass.usableitem,value:r,tags:l}),this.unit_restrictions=s,this.effects=n}getActorUnit(e){if(e!="unit")throw new Error(`Unknown actor name ${e}`);if(!this.temporary_unit_key)throw new Error("temporary unit not set");return State.variables.unit[this.temporary_unit_key]}getUnitRestrictions(){return this.unit_restrictions}isUsable(){return!0}isUsableOn(e){return setup.RestrictionLib.isUnitSatisfyIncludeDefiancy(e,this.getUnitRestrictions())}use(e){this.temporary_unit_key=e.key,setup.RestrictionLib.applyAll(this.effects,this),delete this.temporary_unit_key,State.variables.inventory.removeItem(this)}static make_perk_potions(){const e={};for(const t of setup.TraitHelper.getAllTraitsOfTags(["perkstandard"]).filter(a=>!a.getTags().includes("perkbasic"))){const a=t,r=[setup.qres.Job(setup.job.slaver),setup.qres.Not(setup.qres.HasPerkChoice(a))];r.push(...a.getPerkChoiceRestrictions());const s=new setup.ItemUnitUsable({key:`potion_${a.key}`,name:`Potion of ${setup.title_case(a.getName())}`,description:`Make a unit able to learn the <<rep setup.trait.${a.key}>> perk.`,value:setup.PERK_POTION_STANDARD_PRICE,unit_restrictions:r,effects:[setup.qc.PerkChoice("unit",a,!0)],tags:[]});e[s.key]=1}new setup.ItemPool("perk_potions",e)}},o(ds,"ItemUnitUsable"),ds),setup.ItemUsable=(gs=class extends setup.Item{constructor({key:e,name:t,description:a,value:r,restrictions:s,effects:n,tags:l}){super({key:e,name:t,description:a,item_class:setup.itemclass.usablefreeitem,value:r,tags:l}),this.restrictions=s,this.effects=n}getPrerequisites(){return this.restrictions}isUsable(){return setup.RestrictionLib.isPrerequisitesSatisfied(null,this.restrictions)}use(){setup.RestrictionLib.applyAll(this.effects,this),State.variables.inventory.removeItem(this)}},o(gs,"ItemUsable"),gs),setup.ItemClass=(ms=class extends setup.TwineClass{constructor(e,t){if(super(),this.key=e,this.name=t,e in setup.itemclass)throw new Error(`Item Class ${e} already exists`);setup.itemclass[e]=this}getName(){return this.name}getImage(){return`img/itemclass/${this.key}.svg`}getImageRep(){return setup.repImgIcon(this.getImage())}rep(){return setup.repImgIcon(this.getImage(),this.getName())}},o(ms,"ItemClass"),ms),setup.ItemPool=(fs=class{constructor(e,t){if(this.key=e,this.item_chances=t,e in setup.itempool)throw new Error(`Duplicate item pool key ${e}`);setup.itempool[e]=this}getItemChances(e){const t=[];for(const a in this.item_chances)t.push([a,this.item_chances[a]]);return e&&setup.rng.normalizeChanceArray(t),t}getName(){return this.key}rep(){return setup.repMessage(this,"itempoolcardkey")}getAverageValue(){const e=this.getItemChances(!0);let t=0;for(const[a,r]of e)t+=r*(setup.item[a].getValue()||0);return Math.round(t)}generateItem(){let e=setup.rng.sampleObject(this.item_chances,!0);return setup.item[e]}},o(fs,"ItemPool"),fs),setup.Job=(bs=class extends setup.TwineClass{constructor(e,t){if(super(),this.key=e,this.name=t,e in setup.job)throw new Error(`Job ${e} already exists`);setup.job[e]=this}getImage(){return`img/job/${this.key}.svg`}getImageRep(){return setup.repImgIcon(this.getImage(),this.getName())}rep(){return this.getImageRep()}getTrait(){return setup.trait[`job_${this.key}`]}getName(){return this.name}},o(bs,"Job"),bs),setup.Job_Cmp=function(i,e){return i.name<e.name?-1:i.name>e.name?1:0},setup.Market=(ys=class extends setup.TwineClass{constructor(e,t,a,r){if(super(),this.key=e,this.name=t,this.varname=a,this.setupvarname=r,a){if(!(a in State.variables))throw new Error(`Incorrect varname ${a} for ${e}`)}else if(r){if(!(r in setup))throw new Error(`Incorrect setup varname ${r} for ${e}`)}else throw new Error(`No varname or setupvarname for ${e}`);if(a&&r)throw new Error(`${e} cannot have both varname and setupvarname`);if(this.market_objects=[],this.key in State.variables.market)throw new Error(`Market ${this.key} duplicated`);State.variables.market[this.key]=this}rep(){return this.getName()}getName(){return this.name}getObject(e){if(this.varname)return State.variables[this.varname][e];if(this.setupvarname)return setup[this.setupvarname][e];throw new Error("No varname or setupvarname")}getMarketObject(e){for(const t of this.getMarketObjects())if(t.getObject()==e)return t;return null}getMarketObjects(){return this.market_objects}countMarketObjects(){return this.market_objects.length}advanceWeek(){let e=this.getMarketObjects(),t=[];for(let a=0;a<e.length;++a){let r=e[a];r.advanceWeek(),r.isExpired()&&t.push(r)}for(let a=0;a<t.length;++a){let r=t[a];this.removeObjectAndCheckDelete(r)}}removeObjectAndCheckDelete(e){this.removeObject(e);let t=e.getObject();"checkDelete"in t&&t.checkDelete()}addObject(e){if(this==State.variables.market.slavermarket?State.variables.statistics.add("slavers_offered",1):this==State.variables.market.slavemarket?State.variables.statistics.add("slaves_offered",1):this==State.variables.market.itemmarket?State.variables.statistics.add("items_offered",1):(this==State.variables.market.equipmentmarket||this==State.variables.market.equipmentmarket)&&State.variables.statistics.add("equipment_offered",1),e.market_key)throw new Error(`Item ${e} already in a market`);e.setMarket(this),this.market_objects.unshift(e)}removeObject(e){if(!this.market_objects.includes(e))throw new Error(`object ${e}$ not in market ${this.key}`);this.market_objects=this.market_objects.filter(t=>t!=e),e.setMarket(null)}isCanBuyObjectOther(e){return!0}isCanBuyObject(e){return e.getPrice()&&State.variables.company.player.getMoney()<e.getPrice()?!1:this.isCanBuyObjectOther()}doAddObject(e){throw new Error("Implement")}buyObject(e){this==State.variables.market.itemmarket?State.variables.statistics.add("items_bought",1):(this==State.variables.market.equipmentmarket||this==State.variables.market.equipmentmarket)&&State.variables.statistics.add("equipment_bought",1),State.variables.company.player.substractMoney(e.getPrice()),e.isInfinite()||this.removeObject(e),this.doAddObject(e)}},o(ys,"Market"),ys),setup.MarketEquipment=(ks=class extends setup.Market{constructor(e,t){super(e,t,null,"equipment")}doAddObject(e){let t=e.getObject();State.variables.armory.addEquipment(t)}},o(ks,"MarketEquipment"),ks),setup.MarketItem=(vs=class extends setup.Market{constructor(e,t){super(e,t,null,"item")}doAddObject(e){let t=e.getObject();State.variables.inventory.addItem(t)}static advanceWeek(){if(State.variables.fort.player.isHasBuilding("alchemistshop"))for(const e of Object.values(setup.item))e.isAvailableInAlchemistShop()&&e.getValue()&&State.variables.statistics.isItemAcquired(e)&&!State.variables.statistics.isItemInAlchemistShop(e)&&(State.variables.statistics.putInAlchemistShop(e),new setup.MarketObject(e,Math.round(e.getValue()*setup.ITEM_MARKET_ALCHEMIST_POTION_MARKUP),setup.INFINITY,State.variables.market.itemmarket,setup.buildingtemplate.alchemistshop))}},o(vs,"MarketItem"),vs),setup.MarketUnit=(Ss=class extends setup.Market{constructor(e,t,a,r){super(e,t,a),this.job_key=r.key}getJob(){return setup.job[this.job_key]}isCanBuyObjectOther(e){return!!State.variables.company.player.isCanAddUnitWithJob(this.getJob())}doAddObject(e){const t=e.getObject();State.variables.company.player.addUnit(t,this.getJob());const a=e.repSource();!t.getWeeksWithCompany()&&a&&t.addHistory(`originated from: ${a}.`)}},o(Ss,"MarketUnit"),Ss),setup.MarketObject=(Ts=class extends setup.TwineClass{constructor(e,t,a,r,s){if(super(),this.object_key=e.key,this.price=t,t==null)throw new Error("Price for item in market cannot be null or undefined!");if(this.expires_in=a,this.market_key=null,this.origin_market_key=r.key,this.rep_source,s&&typeof s=="object"&&"getName"in s?this.rep_source=s.getName():s&&typeof s=="string"?this.rep_source=s:this.rep_source=null,!r.getObject(this.object_key))throw new Error("Invalid object");r.addObject(this)}getRarity(){if(this.isInfinite())return setup.rarity.always;const e=this.getObject();return"getRarity"in e?e.getRarity():setup.rarity.common}rep(){return this.getObject().rep()}getExpiresIn(){return this.expires_in}isInfinite(){return this.expires_in==setup.INFINITY}getPrice(){return this.price}repSource(){return this.rep_source||""}advanceWeek(){this.isInfinite()||(this.expires_in-=1)}isExpired(){return this.expires_in<=0}getOriginMarket(){return State.variables.market[this.origin_market_key]}getObject(){let e=this.getOriginMarket();if(!e)throw new Error(`${this.object_key} has no market`);return e.getObject(this.object_key)}getName(){return this.getObject().getName()}setMarket(e){let t=null;e&&(t=e.key),this.market_key=t;let a=this.getObject();a.market_key=t,"resetCache"in a&&a.resetCache()}},o(Ts,"MarketObject"),Ts),setup.OpportunityInstance=(_s=class extends setup.TwineClass{constructor(e,t){super(),this.key=State.variables.OpportunityInstance_keygen,State.variables.OpportunityInstance_keygen+=1,this.opportunity_template_key=e.key,this.actor_unit_key_map={},this.option_number_selected=null;for(let a in t){let r=t[a];if(r.quest_key!==null)throw new Error("unit is busy on another quest");if(r.opportunity_key)throw new Error("unit is busy on another opportunity");this.actor_unit_key_map[a]=r.key,r.opportunity_key=this.key,r.setDebugInfo(e)}if(this.weeks_until_expired=e.getDeadlineWeeks(),this.key in State.variables.opportunityinstance)throw new Error(`Opportunity ${this.key} already exists`);State.variables.opportunityinstance[this.key]=this}delete(){delete State.variables.opportunityinstance[this.key]}rep(){return setup.repMessage(this,"opportunitycardkey")}cleanup(){let e=this.getActorObj();for(let t in e)e[t].opportunity_key=null,e[t].checkDelete()}getWeeksUntilExpired(){return this.weeks_until_expired}isExpired(){return this.getTemplate().isMustBeAnswered()?!1:this.getWeeksUntilExpired()==0}expire(){this.cleanup();let e=this.getTemplate().getExpiredOutcomes();setup.RestrictionLib.applyAll(e,this),State.variables.opportunitylist.removeOpportunity(this)}advanceWeek(){this.weeks_until_expired-=1}getName(){return this.getTemplate().getName()}getTemplate(){return setup.opportunitytemplate[this.opportunity_template_key]}getOptions(){return this.getTemplate().getOptions()}isCanSelectOption(e){let t=this.getOptions()[e];if(!t)throw new Error(`Wrong option number ${e}`);const a=t.costs,r=t.restrictions,s=t.visibility_restrictions;return!(!setup.RestrictionLib.isPrerequisitesSatisfied(this,a)||!setup.RestrictionLib.isPrerequisitesSatisfied(this,r)||!setup.RestrictionLib.isPrerequisitesSatisfied(this,s))}finalize(){const e=this.getOptions()[this.option_number_selected];if(!e)throw new Error("Option not yet selected");this.cleanup();let t=e.costs,a=e.outcomes;setup.RestrictionLib.applyAll(t,this),setup.RestrictionLib.applyAll(a,this),State.variables.opportunitylist.removeOpportunity(this),State.variables.statistics.add("opportunity_answered",1)}selectOption(e){if(typeof this.option_number_selected=="number")throw new Error("Option already selected in this opportunity");if(!this.getOptions()[e])throw new Error(`Wrong option number ${e}`);this.option_number_selected=e}getSelectedOptionPassage(){const e=this.getOptions()[this.option_number_selected];if(!e)throw new Error("Option not yet selected");return e.outcome_passage}getActorsList(){let e=[];for(let t in this.actor_unit_key_map){let a=State.variables.unit[this.actor_unit_key_map[t]];e.push([t,a])}return e}getActorObj(){let e=this.getActorsList(),t={};return e.forEach(a=>{t[a[0]]=a[1]}),t}getActorUnit(e){return State.variables.unit[this.actor_unit_key_map[e]]}getSeed(){return this.seed?this.seed:(this.seed=1+Math.floor(Math.random()*999999997),this.seed)}debugKillActors(){setup.QuestInstance.debugKillActorsDo(this.getActorsList())}},o(_s,"OpportunityInstance"),_s),setup.OpportunityList=(As=class extends setup.TwineClass{constructor(){super(),this.opportunity_keys=[],this.opportunity_autoanswer={}}getAutoAnswer(e){return e.key in this.opportunity_autoanswer?this.opportunity_autoanswer[e.key]:null}setAutoAnswer(e,t){this.opportunity_autoanswer[e.key]=t}removeAutoAnswer(e){if(!(e.key in this.opportunity_autoanswer))throw new Error(`${e.key} not found in autoanswer`);delete this.opportunity_autoanswer[e.key]}getOpportunityAutoAnswers(){const e=[];for(const t in this.opportunity_autoanswer)e.push([setup.opportunitytemplate[t],this.opportunity_autoanswer[t]]);return e}getOpportunities(){let e=[];for(let t=0;t<this.opportunity_keys.length;++t)e.push(State.variables.opportunityinstance[this.opportunity_keys[t]]);return e}addOpportunity(e){if(!e)throw new Error("Opportunity undefined adding opportunity to opportunitylist");if(this.opportunity_keys.includes(e.key))throw new Error(`Opportunity ${e.key} already in opportunitylist`);this.opportunity_keys.unshift(e.key),State.variables.statistics.add("opportunity_obtained",1)}removeOpportunity(e){if(!e)throw new Error("Opportunity undefined removing opportunity to opportunitylist");if(!this.opportunity_keys.includes(e.key))throw new Error(`Opportunity ${e.key} not found in opportunitylist`);this.opportunity_keys=this.opportunity_keys.filter(t=>t!=e.key),setup.queueDelete(e,"opportunityinstance")}isHasOpportunity(e){let t=this.getOpportunities();for(let a=0;a<t.length;++a)if(t[a].getTemplate()==e)return!0;return!1}advanceWeek(){let e=[],t=this.getOpportunities();for(let a=0;a<t.length;++a){let r=t[a];r.advanceWeek(),r.isExpired()&&e.push(r)}for(let a=0;a<e.length;++a)e[a].expire()}autoAnswer(){if(!State.variables.dutylist.isViceLeaderAssigned())return;let e=0,t=this.getOpportunities();for(let a=0;a<t.length;++a){let r=t[a],s=this.getAutoAnswer(r.getTemplate());s!==null&&r.isCanSelectOption(s)&&(r.selectOption(s),r.finalize(),e+=1)}e&&setup.notify(`Your vice leader answered ${e} mails on your behalf.`)}isHaveMustAnswerOpportunities(){return this.getOpportunities().filter(e=>e.getTemplate().isMustBeAnswered()).length>0}},o(As,"OpportunityList"),As),setup.OpportunityTemplate=(Ms=class extends De{constructor(e,t,a,r,s,n,l,u,h,p,c,d,g){super(e,t,a,r,c,l);const m="opportunity";if(this.TYPE=m,this.deadline_weeks=s,this.options=[],!Array.isArray(u))throw new Error(`Unknown array for ${e}`);for(const f of u)Array.isArray(f)?this.options.push({description_passage:f[0],outcome_passage:f[1],costs:f[2],restrictions:f[3],outcomes:f[4],visibility_restrictions:f[5]||[]}):this.options.push(f);if(!n)throw new Error(`Unknown description passage for ${e}`);if(this.description_passage=n,p?this.prerequisites=p:this.prerequisites=[],d?this.expired_outcomes=d:this.expired_outcomes=[],this.is_must_be_answered=g,e in setup.opportunitytemplate)throw new Error(`OpportunityTemplate ${e} already exists`);setup.opportunitytemplate[e]=this,this.pools=[],this.rarities=[];for(let f=0;f<h.length;++f){let b=h[f],v=b[1];if(!(v instanceof setup.Rarity))throw new Error(`Opportunity rarity of ${e} must be of type setup.Rarity!`);b[0].registerOpportunity(this,v),this.pools.push(b[0].key),this.rarities.push(v.key)}}getAnyQuestPoolRarity(){return this.pools.length?{pool:setup.questpool[this.pools[0]],rarity:setup.rarity[this.rarities[0]]}:null}static sanityCheck(e,t,a,r,s,n,l){if(!e)return"Key cannot be empty";if(e in setup.opportunitytemplate)return`Key ${e} is duplicated with another opportunity`;if(!t)return"Name cannot be null";if(a<=0)return"Opportunity must have at least 1 week before expiring";if(!r)return"Difficulty cannot be empty";if(!s)return"Description must not be empty";if(l<0||l>100)return"Rarity must be between 0 and 100";if(!n.length)return"Must have at least one option.";for(let u=0;u<n.length;++u)if(!n[u].title)return`${u}-th option must have a title`;return null}rep(){return this.getName()}getOptions(){return this.options}getVisibleOptions(){return this.getOptions().filter(e=>setup.RestrictionLib.isPrerequisitesSatisfied(null,e.visibility_restrictions))}getWeeks(){return 1}getDeadlineWeeks(){return this.deadline_weeks}getDescriptionPassage(){return this.description_passage}getPrerequisites(){return this.prerequisites}getExpiredOutcomes(){return this.expired_outcomes}isMustBeAnswered(){return this.is_must_be_answered}getAllActorNames(){return Object.keys(this.getActorUnitGroups())}isCanGenerate(){let e=this.getTags(),t=State.variables.settings.getBannedTags();for(let r=0;r<e.length;++r)if(t.includes(e[r]))return!1;if(!setup.RestrictionLib.isActorUnitGroupViable(this.getActorUnitGroups())||State.variables.calendar.isOnCooldown(this))return!1;let a=this.getPrerequisites();return setup.RestrictionLib.isPrerequisitesSatisfied(this,a)}debugMakeInstance(e){let t=this,a=setup.DebugActor.getActors(t.getActorUnitGroups(),e);return new setup.OpportunityInstance(t,a)}getActorResultJob(e){let t=this.getOptions();for(let a=0;a<t.length;++a){let r=t[a].outcomes;for(let s=0;s<r.length;++s){let n=r[s];if(n.IS_SLAVE&&n.getActorName()==e)return setup.job.slave;if(n.IS_SLAVER&&n.getActorName()==e)return setup.job.slaver}}return null}getCardClass(){return setup.TagHelper.getQuestCardClass(this.getTags())}},o(Ms,"OpportunityTemplate"),Ms),setup.Party=(ws=class extends setup.TwineClass{constructor(){if(super(),this.key=State.variables.Party_keygen,State.variables.Party_keygen+=1,this.name=`Party ${this.key}`,this.unit_keys=[],this.is_cannot_go_on_quests_auto=!1,this.key in State.variables.party)throw new Error(`Party ${this.key} duplicated`);State.variables.party[this.key]=this}delete(){delete State.variables.party[this.key]}rep(){return setup.repMessage(this,"partycardkey")}getName(){return this.name}setName(e){this.name=e}addUnit(e){if(e.getParty())throw new Error(`${e.name} already in party ${e.party_key}`);this.unit_keys.push(e.key),e.party_key=this.key,setup.notify(`${e.rep()} is added to ${this.rep()}`)}removeUnit(e){if(!this.unit_keys.includes(e.key))throw new Error(`${e.name} not in this party`);if(e.party_key!=this.key)throw new Error(`${e.name} party key is incorrect and cannot be removed`);this.unit_keys=this.unit_keys.filter(t=>t!=e.key),e.party_key=null,setup.notify(`${e.rep()} is removed from ${this.rep()}`)}getUnits(){return this.unit_keys.map(e=>State.variables.unit[e])}isCanDisband(){return!this.getUnits().length}isCanGoOnQuestsAuto(){return!this.is_cannot_go_on_quests_auto}toggleIsCanGoOnQuestsAuto(){this.is_cannot_go_on_quests_auto=!this.is_cannot_go_on_quests_auto}static Cmp(e,t){return e==t?0:e?t?e.getName().localeCompare(t.getName()):-1:1}},o(ws,"Party"),ws),setup.PartyList=(Rs=class extends setup.TwineClass{constructor(){super(),this.party_keys=[]}newParty(){const e=new setup.Party;return this.party_keys.push(e.key),e}removeParty(e){if(!this.party_keys.includes(e.key))throw new Error(`Party ${e.getName()} not in partylist`);this.party_keys=this.party_keys.filter(t=>t!=e.key),e.delete()}getParties(){return this.party_keys.map(e=>State.variables.party[e])}isCanAddNewParty(){return this.getParties().length<setup.PARTY_MAX}},o(Rs,"PartyList"),Rs),setup.MONEY_MULTIS={easiest:.8,easier:.9,easy:.95,normal:1,hard:1.06,harder:1.15,hardest:1.25,extreme:1.5,hell:2,abyss:2.5,death:3};const CE={easiest:1,easier:1,easy:1,normal:1,hard:1,harder:1,hardest:2,extreme:2,hell:3,abyss:3,death:4};setup.QuestDifficulty=(Es=class extends setup.TwineClass{constructor(e,t,a,r,s,n){if(super(),this.key=e,this.name=t,this.diffname=s,this.level=n,!("crit"in a))throw new Error(`Missing crit in ${e}`);if(!("success"in a))throw new Error(`Missing success in ${e}`);if(!("failure"in a))throw new Error(`Missing failure in ${e}`);let l=0;for(let u in a){let h=a[u];l+=h}if(l>1.00001)throw new Error(`Invalid difficulty sum ${e}`);if(l<1e-5)throw new Error(`Invalid difficulty sum ${e}`);if(a.disaster=1-l,this.base_chances=a,!("crit"in r))throw new Error(`Missing crit offset in ${e}`);if(!("success"in r))throw new Error(`Missing success offset in ${e}`);if(!("failure"in r))throw new Error(`Missing failure offset in ${e}`);if(!("disaster"in r))throw new Error(`Missing disaster offset in ${e}`);if(this.offset_mods=r,e in setup.qdiff)throw new Error(`Quest difficulty ${e} already exists`);setup.qdiff[e]=this}rep(){let e="",t=this.getDiffName();return t=="easiest"?e=setup.DOM.toString(setup.DOM.Text.success(t)):["easier","easy"].includes(t)?e=setup.DOM.toString(setup.DOM.Text.successlite(t)):t=="normal"?e=`${t}`:["hard","harder"].includes(t)?e=setup.DOM.toString(setup.DOM.Text.dangerlite(t)):e=setup.DOM.toString(setup.DOM.Text.danger(t)),`Lv. ${this.getLevel()} ${e}`}get(){if(this.level<setup.LEVEL_VETERANHALL&&State.variables.fort.player.isHasBuilding(setup.buildingtemplate.veteranhall)){let e=`${this.diffname}${setup.LEVEL_VETERANHALL}`;return setup.qdiff[e]}return this}getName(){return this.name}getLevel(){return this.level}getDiffName(){return this.diffname}getBlessingOfLuckStacks(){return CE[this.getDiffName()]}static explainChance(e){let t=Math.round(100*e.crit),a=Math.round(100*e.success),r=Math.round(100*e.failure),s=Math.round(100*e.disaster);return`(${setup.DOM.toString(setup.DOM.Text.success(t))} / ${setup.DOM.toString(setup.DOM.Text.successlite(a))} / ${setup.DOM.toString(setup.DOM.Text.dangerlite(r))} / ${setup.DOM.toString(setup.DOM.Text.danger(s))})`}static computeSumScore(e){let t=setup.QUEST_OUTCOMES,a={};return t.forEach(r=>{let s=0;e.forEach(n=>{s+=n[r]}),a[r]=s}),a}static convertSuccessModifierToChances(e,t){const a=e.success*t.offset_mods.success,r=e.failure*t.offset_mods.failure,s=e.disaster*t.offset_mods.disaster;return{crit:setup.DIFFICULTY_CRIT_CHANCE_TABLE[Math.min(setup.DIFFICULTY_CRIT_CHANCE_TABLE.length-1,e.crit)]*t.offset_mods.crit,success:a,failure:r,disaster:s}}static computeSuccessObj(e,t,a){const r=setup.deepCopy(e.base_chances);let s=[];for(let d in t){let g=t[d].criteria,m=t[d].offsetmod||1;if(!(d in a))throw new Error(`missing ${d} from assignment`);let f=a[d];const b=g.computeSuccessModifiers(f),v=setup.QuestDifficulty.convertSuccessModifierToChances(b,e);for(const S of setup.QUEST_OUTCOMES)v[S]*=m;s.push(v)}const n=setup.QuestDifficulty.computeSumScore(s);let l=n.crit,u=n.success,h=n.failure,p=n.disaster,c=Math.min(r.disaster*setup.DIFFICULTY_BASE_DISASTER_ELIMINATION_FRACTION,l);if(c=Math.max(c,0),l-=c,r.disaster-=c,r.disaster+=p,r.failure+=h,r.success+=u,r.crit+=l,r.success>1&&(r.crit+=(r.success-1)*setup.DIFFICULTY_SUCCESS_EXCESS_CRIT_CONVERSION),r.success<0){let d=-r.success*setup.DIFFICULTY_FAILURE_EXCESS_DISASTER_CONVERSION;const g=Math.min(d,r.crit);d-=g,r.crit-=g,r.disaster+=d}return r.disaster>=1?(r.disaster=1,r.failure=0,r.success=0,r.crit=0):(r.disaster<0&&(r.disaster=0),r.disaster+r.crit>=1?(r.crit=1-r.disaster,r.failure=0,r.success=0):(r.crit<0&&(r.crit=0),r.success+r.disaster+r.crit>=1&&(r.success=1-r.disaster-r.crit,r.failure=0),r.success<0&&(r.success=0),r.failure=1-r.success-r.disaster-r.crit)),r}static rollOutcome(e){let t=[];for(let a in e)t.push([a,e[a]]);return setup.rng.sampleArray(t)}static generate(){const e={easiest:{crit:10,disaster:0,success:80,dism:2,critm:75},easier:{crit:10,disaster:0,success:75,dism:6,critm:65},easy:{crit:7,disaster:2,success:70,dism:10,critm:55},normal:{crit:5,disaster:4,success:65,dism:13,critm:45},hard:{crit:5,disaster:6,success:57,dism:16,critm:40},harder:{crit:5,disaster:8,success:50,dism:19,critm:35},hardest:{crit:5,disaster:10,success:42,dism:22,critm:31},extreme:{crit:0,disaster:20,success:37,dism:25,critm:27},hell:{crit:0,disaster:30,success:32,dism:28,critm:23},abyss:{crit:0,disaster:50,success:27,dism:32,critm:21},death:{crit:0,disaster:70,success:20,dism:36,critm:18}},t=setup.DIFFICULTY_BASE_STAT_SUM_PER_LEVEL,a=3,r=setup.DIFFICULTY_LV0_STAT;for(let s in e){let n=e[s];for(let l=1;l<=setup.DIFFICULTY_MAX_LEVEL;++l){let h=Math.min(l-20,l/3),p=n.success/100/a/(l-h)/t,d=-p*a*(r+t*h),g=1-d-n.crit/100-n.disaster/100,m={crit:n.crit/100,success:d,failure:g},f={crit:n.critm/100,disaster:n.dism/100,success:p,failure:p};new setup.QuestDifficulty(`${s}${l}`,`Lv ${l} ${s}`,m,f,s,l)}}}doGetMoney(){if(!this.diffname)throw new Error(`No diffname for this difficulty ${this.key}`);if(!this.level)throw new Error(`No level for this difficulty ${this.key}`);let e=this.diffname,t=this.level;if(!(e in setup.MONEY_MULTIS))throw new Error(`Unknown difficulty: ${e}`);if(t<=0||t>1e3)throw new Error(`Level out of range: ${t}`);let r=(3*setup.MONEY_PER_SLAVER_WEEK+1/setup.QUEST_WEEKS_PER_SCOUT*3*setup.MONEY_PER_SLAVER_WEEK)*setup.MONEY_MULTIS[e];if(t<setup.LEVEL_PLATEAU){let s=setup.MONEY_LEVEL_ONE_MULTI+(1-setup.MONEY_LEVEL_ONE_MULTI)*(t/setup.LEVEL_PLATEAU);r*=s}return Math.round(r)}getMoney(){return this.get().doGetMoney()}doGetExp(){const e={easiest:.8,easier:.9,easy:.95,normal:1,hard:1.05,harder:1.1,hardest:1.2,extreme:1.4,hell:1.8,abyss:2.2,death:3};if(!this.diffname)throw new Error(`No diffname for this difficulty ${this.key}`);if(!this.level)throw new Error(`No level for this difficulty ${this.key}`);let t=this.diffname,a=this.level;if(!(t in e))throw new Error(`Unknown difficulty: ${t}`);if(a<=0||a>1e3)throw new Error(`Level out of range: ${a}`);let r=setup.EXP_LEVEL_PLATEAU/setup.EXP_LOW_LEVEL_LEVEL_UP_FREQUENCY;if(a<setup.LEVEL_PLATEAU){const n=Math.pow(setup.EXP_LEVEL_PLATEAU/setup.EXP_LEVEL_1,1/setup.LEVEL_PLATEAU);r=setup.EXP_LEVEL_1*Math.pow(n,a-1),r/=setup.EXP_LOW_LEVEL_LEVEL_UP_FREQUENCY}r*=e[t];let s=Math.random()*setup.EXP_NUDGE;return Math.random()<.5&&(s*=-1),r*=1+s,Math.round(r)}getExp(){return this.get().doGetExp()}},o(Es,"QuestDifficulty"),Es),setup.QuestGen=(xs=class extends setup.TwineClass{constructor(){super(),this.to_generate=[]}queue(e,t){this.to_generate.push([e.key,t])}generate(){for(let e=0;e<this.to_generate.length;++e){let t=setup.questpool[this.to_generate[e][0]],a=this.to_generate[e][1];for(let r=0;r<a;++r)t.generateQuest()}this.to_generate=[]}},o(xs,"QuestGen"),xs),setup.QuestInstance=(Ds=class extends setup.TwineClass{constructor(e,t){super(),this.key=State.variables.QuestInstance_keygen,State.variables.QuestInstance_keygen+=1,this.quest_template_key=e.key,this.actor_unit_key_map={};for(let a in t){let r=t[a];if(r.quest_key!==null)throw new Error("unit is busy on another quest");if(r.opportunity_key)throw new Error("unit is busy on another opportunity");this.actor_unit_key_map[a]=r.key,r.quest_key=this.key,r.setDebugInfo(e)}if(this.team_key=null,this.elapsed_week=null,this.outcome=null,this.weeks_until_expired=e.getDeadlineWeeks(),this.is_team_forced_assigned=!1,this.cached_score_obj=null,this.key in State.variables.questinstance)throw new Error(`Quest Instance ${this.key} already exists`);State.variables.questinstance[this.key]=this}delete(){delete State.variables.questinstance[this.key]}rep(){return setup.repMessage(this,"questcardkey")}isDismissable(){return!(this.team_key||!State.variables.company.player.getQuests().includes(this)||this.getTemplate().getDeadlineWeeks()==setup.INFINITY)}getWeeksUntilExpired(){return this.weeks_until_expired}isExpired(){return this.getTemplate().getDeadlineWeeks()==setup.INFINITY?!1:this.getWeeksUntilExpired()<=0}cleanup(e){if(this.getTeam()){let a=State.variables.team[this.team_key];a.removeQuest(this),e?a.unsetUnits():a.disband()}let t=this.getActorObj();for(let a in t)t[a].quest_key=null,t[a].checkDelete()}expire(){this.cleanup();let e=this.getTemplate().getExpiredOutcomes();setup.RestrictionLib.applyAll(e,this),State.variables.company.player.archiveQuest(this)}rollOutcome(){if(!this.isFinished())throw new Error("Quest not yet ready to be finished");if(this.isFinalized())throw new Error("Quest already finalized");if(this.outcome)throw new Error("Outcome already rolled");let e=this.getScoreObj();if(this.outcome=setup.QuestDifficulty.rollOutcome(e),this.outcome=="disaster"){const t=this.getTemplate().getDifficulty().getBlessingOfLuckStacks(),a=setup.trait[`blessing_luck${t}`],r=this.getTeam().getUnits().filter(s=>s.isHasTrait(a));if(r.length){const s=setup.rng.choice(r);setup.notify("a|Reps Blessing of Luck may have prevented a disastrous outcome...",{a:s});for(let n=0;n<t;++n)s.decreaseTrait(a.getTraitGroup());this.outcome=setup.QuestDifficulty.rollOutcome(e)}}if(this.outcome=="crit"&&e.crit<=setup.CURSE_CROW_MAX_CRIT_CHANCE){const t=this.getTeam().getUnits().filter(a=>a.isHasTrait(setup.trait.curse_crow1));if(t.length){const a=setup.rng.choice(t);setup.notify("a|Reps Curse of Crow prevented a critical success outcome...",{a}),a.decreaseTrait(setup.trait.curse_crow1.getTraitGroup()),this.outcome="success"}}}getOutcome(){return this.outcome}getOutcomeObject(){let t=this.getTemplate().getOutcomes();if(!this.outcome)throw new Error("Outcome has not been rolled");let a=null;if(this.outcome=="crit")a=t[0];else if(this.outcome=="success")a=t[1];else if(this.outcome=="failure")a=t[2];else if(this.outcome=="disaster")a=t[3];else throw new Error(`Weird outcome ${this.outcome}`);return a}finalize(){if(!this.outcome)throw new Error("Outcome has not been rolled");this.cleanup(!0);const e=setup.qcImpl.MoneyNormal.computeBaseMoney(this),t=1*e/setup.qdiff.normal40.getMoney()*setup.PERK_SCAVENGER_GOLD_PER_WEEK;for(const s of this.getTeam().getUnits())s&&s.isHasTrait("perk_scavenger")&&setup.qc.Money(Math.round(t)).apply();this.getOutcomeObject()[1].forEach(s=>{s.apply(this)});let r=this.getTeam();if(r&&r.disband(),State.variables.company.player.archiveQuest(this),["failure","disaster"].includes(this.outcome)){let s=State.variables.dutylist.getDuty("insurer");if(s){let n=s.getProc();if(n=="proc"||n=="crit"){const l=setup.INSURER_MULTIS[this.outcome][n],u=Math.round(l*e);setup.notify(`${setup.capitalize(s.repYourDutyRep())} produced some money to cushion the quest failure.`),State.variables.company.player.addMoneyNudged(u)}}}State.variables.statistics.add(`quest_${this.outcome}`,1),State.variables.statistics.setMax("quest_max_took_level",this.getTemplate().getDifficulty().getLevel()),this.getTemplate().getTags().includes("veteran")&&State.variables.statistics.add("quest_done_veteran",1),State.variables.statistics.setQuestResult(this.getTemplate(),this.outcome)}isFinished(){return this.getRemainingWeeks()<=0}isFinalized(){return this.outcome}advanceQuestOneWeek(){this.getTeam()?(this.elapsed_week+=1,this.cached_score_obj||(this.cached_score_obj=this.getScoreObj())):this.weeks_until_expired-=1}getElapsedWeeks(){return this.elapsed_week}getRemainingWeeks(){return this.getTemplate().getWeeks()-this.getElapsedWeeks()}getName(){return this.getTemplate().getName()}getDescriptionPassage(){return this.getTemplate().getDescriptionPassage()}getTeam(){return this.team_key?State.variables.team[this.team_key]:null}getTemplate(){return setup.questtemplate[this.quest_template_key]}getActorsList(){let e=[];for(let t in this.actor_unit_key_map){let a=State.variables.unit[this.actor_unit_key_map[t]];e.push([t,a])}return e}getExtraActors(){const e={};for(const t in this.getTemplate().getActorUnitGroups()){let a=this.getActorUnit(t);a.isYourCompany()&&(e[t]=a)}return e}swapActors(e,t){if(!(e in this.actor_unit_key_map))throw new Error(`unknown actor 1 ${e}`);if(!(t in this.actor_unit_key_map))throw new Error(`unknown actor 2 ${t}`);let a=this.actor_unit_key_map[e],r=this.actor_unit_key_map[t];this.actor_unit_key_map[e]=r,this.actor_unit_key_map[t]=a}replaceActor(e,t){if(!(e in this.actor_unit_key_map))throw new Error(`unknown actor ${e}`);if(t.quest_key!=this.key)throw new Error(`unit ${t.key} already in quest ${t.quest_key}`);this.actor_unit_key_map[e]=t.key}isUnitInQuest(e){for(let t in this.actor_unit_key_map)if(this.actor_unit_key_map[t]==e.key)return!0;return!1}getUnitCriteriasList(){let e=this.getTemplate(),t=[],a=e.getUnitCriterias();for(let r in a){let s=a[r],n=null;r in this.actor_unit_key_map&&(n=State.variables.unit[this.actor_unit_key_map[r]]),t.push([r,s,n])}return t}getActorObj(){let e=this.getActorsList(),t={};return e.forEach(a=>{t[a[0]]=a[1]}),t}getActorUnit(e){return State.variables.unit[this.actor_unit_key_map[e]]}isCostsSatisfied(){let t=this.getTemplate().getCosts();for(let a=0;a<t.length;++a)if(!t[a].isOk(this))return!1;return!0}getScoreObj(){if(this.cached_score_obj)return this.cached_score_obj;let e=this.getTemplate(),t=e.getUnitCriterias();return setup.QuestDifficulty.computeSuccessObj(e.getDifficulty(),t,this.getActorObj())}_assignTeamWithAssignment(e,t,a){e.setQuest(this),this.team_key=e.key,this.elapsed_week=0;let r=this.getTemplate().getUnitCriterias();for(let s in r){let n=r[s];if(!(s in t))throw new Error(`missing ${s} in assignment`);let l=t[s];if(s in this.actor_unit_key_map)throw new Error(`duplicate ${s}`);if(!State.variables.gDebugQuestTest&&!a&&!n.criteria.isCanAssign(l))throw new Error(`invalid unit for ${s}`);this.actor_unit_key_map[s]=l.key}if(!a){let n=this.getTemplate().getCosts();setup.RestrictionLib.applyAll(n,this)}}assignTeam(e,t){if(e.quest_key)throw new Error(`Team ${e.name} already in quest ${e.quest_key}`);const a=t;if(!a)throw new Error("No assignment found");return this._assignTeamWithAssignment(e,a)}cancelAssignTeam(){this.getTemplate().getCosts().forEach(s=>{s.undoApply(this)});let a=this.getTeam();if(!a.quest_key)throw new Error("no quest");a.removeQuest(this),a.disband(),this.team_key=null,this.elapsed_week=0;let r=this.getTemplate().getUnitCriterias();for(let s in r){if(!(s in this.actor_unit_key_map))throw new Error(`missing ${s}`);delete this.actor_unit_key_map[s]}}isCanChangeTeam(){return!(this.getElapsedWeeks()>0&&this.getTeam()||this.isTeamForcedAssigned())}getSeed(){return this.seed?this.seed:(this.seed=1+Math.floor(Math.random()*999999997),this.seed)}setTeamForcedAssigned(){this.is_team_forced_assigned=!0}isTeamForcedAssigned(){return this.is_team_forced_assigned}debugKillActors(){setup.QuestInstance.debugKillActorsDo(this.getActorsList())}static debugKillActorsDo(e){for(const[t,a]of Object.values(e))a instanceof setup.Unit&&(a.isYourCompany()?(a.quest_key=null,a.opportunity_key=null,a.market_key=null,a.team_key=null):a.delete())}},o(Ds,"QuestInstance"),Ds);const Lv=class Lv extends setup.QuestInstance{hasInjuredUnit(){for(const[e,t]of this.getActorsList())if(t&&State.variables.hospital.isInjured(t))return!0;return!1}advanceQuestOneWeek(){this.getTeam()?this.hasInjuredUnit()||(this.elapsed_week+=1):super.advanceQuestOneWeek()}};o(Lv,"QuestInstanceAllowedInjured");let lb=Lv;setup.QuestInstanceUnitAction=(Is=class extends lb{constructor(e,t,a){super(e,{trainee:t}),this.trainee_unit_key=t.key,this.target_trait_keys=a.map(r=>r.key)}getDescriptionPassage(){return"QuestInstanceUnitActionDescriptionPassage"}getTargetTraits(){return this.target_trait_keys.map(e=>setup.trait[e])}getTraineeUnit(){return State.variables.unit[this.trainee_unit_key]}finalize(){super.finalize();const e=this.getTraineeUnit(),t=this.getTargetTraits(),a=Object.keys(this.getTemplate().getUnitCriterias()).map(r=>this.getActorUnit(r));setup.UnitActionHelper.generateQuest(e,t,a)}},o(Is,"QuestInstanceUnitAction"),Is),setup.QuestInstanceUnitActionRepeatSelf=($s=class extends lb{constructor(e,t,a){super(e,{trainee:t}),this.trainee_unit_key=t.key,this.unit_action_key=a.key}getDescriptionPassage(){return"QuestInstanceUnitActionRepeatSelfPassage"}getTraineeUnit(){return State.variables.unit[this.trainee_unit_key]}getUnitAction(){return setup.unitaction[this.unit_action_key]}finalize(){super.finalize();const e=this.getUnitAction(),t=this.getTraineeUnit();if(e.isCanTrain(t)){const a=e.generateQuest(t,null,!0);if(State.variables.company.player.isCanDeployTeam()&&a.isCostsSatisfied()){const r={};for(const s in this.getTemplate().getUnitCriterias())r[s]=this.getActorUnit(s).key;ja(a,r)}else setup.notify("Unable to assign team automatically for a|reps quest.",{a:t})}else setup.notify("No more actions for a|rep.",{a:t})}},o($s,"QuestInstanceUnitActionRepeatSelf"),$s),setup.QuestPool=(Os=class extends setup.TwineClass{constructor(e,t){if(super(),this.key=e,this.name=t,this.quest_template_rarity_map={},this.opportunity_template_rarity_map={},e in setup.questpool)throw new Error(`Quest Pool ${e} already exists`);setup.questpool[e]=this}getDeck(){return setup.Deck.get(`questdeck_${this.key}`)}rep(){return this.getName()}getName(){return this.name}getAllQuestsAndOpportunities(){const e=[];for(const t in this.quest_template_rarity_map){const a=setup.questtemplate[t];e.push({template:a,rarity:this.quest_template_rarity_map[t]})}for(const t in this.opportunity_template_rarity_map){const a=setup.opportunitytemplate[t];e.push({template:a,rarity:this.opportunity_template_rarity_map[t]})}return e}registerQuest(e,t){if(!State.variables.qDevTool&&e.key in this.quest_template_rarity_map)throw new Error("Quest already in pool");this.quest_template_rarity_map[e.key]=t}registerOpportunity(e,t){if(!State.variables.qDevTool&&e.key in this.opportunity_template_rarity_map)throw new Error("Opportunity already in pool");this.opportunity_template_rarity_map[e.key]=t}static getYourUnitBaseCandidates(e){return setup.Living.isRestrictionsAllowRetired(e)?State.variables.retiredlist.getUnits():State.variables.company.player.getUnits({})}static instantiateActors(e,t){const a=e.getActorUnitGroups(),r={};let s={};if(t)for(const n in t){if(!(n in a))throw new Error(`Actor name ${n} missing from ${e.key}`);const l=t[n];r[n]=l,s[l.key]=!0}for(let n in a){if(r[n])continue;const l=a[n];if(!l)throw new Error(`Actor ${n} lacks unitgroup in ${e.key}`);if(Array.isArray(l)){let u=setup.QuestPool.getYourUnitBaseCandidates(l);setup.rng.shuffleArray(u);let h=null;for(let p=0;p<u.length;++p){let c=u[p];if(!(c.key in s)&&setup.RestrictionLib.isUnitSatisfyIncludeDefiancy(c,l)){h=c;break}}if(!h)return null;s[h.key]=!0,r[n]=h}else if(l instanceof setup.UnitGroup){const u=e.getActorResultJob(n),h=State.variables.settings.getGenderPreference(u);r[n]=l.getUnit(h)}else if(l instanceof setup.ContactTemplate){const u=State.variables.contactlist.getContacts(l).filter(p=>p.getUnit()&&!p.getUnit().isEngaged());if(!u.length)return null;const h=setup.rng.choice(u);r[n]=h.getUnit()}else throw new Error("Unrecognized actor type")}return r}static instantiateQuest(e,t){let a=setup.QuestPool.instantiateActors(e,t);if(!a)return null;let r=new setup.QuestInstance(e,a);return State.variables.company.player.addQuest(r),r}static instantiateOpportunity(e,t){let a=setup.QuestPool.instantiateActors(e,t);if(!a)return null;let r=new setup.OpportunityInstance(e,a);return State.variables.opportunitylist.addOpportunity(r),r}generateQuest(){State.variables.statistics.addScoutedQuest(this);const e=this.getAllQuestsAndOpportunities(),t=this.getAllQuestsAndOpportunities().filter(r=>r.rarity.isForced()&&r.template.isCanGenerate());let a=null;if(t.length)a=setup.rng.choice(t).template;else{const r=this.getDeck();for(let s=0;s<setup.DECK_DRAW_RETRIES_QUEST;++s){r.isEmpty()&&r.regenerateDeck(e.filter(u=>!u.rarity.isForced()).map(u=>({object:{key:u.template.key,type:u.template.TYPE},rarity:u.rarity})));const n=r.drawCard();let l;if(n.type=="quest"?l=setup.questtemplate[n.key]:l=setup.opportunitytemplate[n.key],l.isCanGenerate()){a=l;break}}}if(!a)return null;if(State.variables.calendar.record(a),a.TYPE=="quest")return setup.QuestPool.instantiateQuest(a);if(a.TYPE=="opportunity")return setup.QuestPool.instantiateOpportunity(a);throw new Error(`Unrecognized type ${a.TYPE}`)}},o(Os,"QuestPool"),Os),setup.QUEST_OUTCOMES=["crit","success","failure","disaster"],setup.QuestTemplate=(Cs=class extends De{constructor(e,t,a,r,s,n,l,u,h,p,c,d,g,m,f){super(e,t,a,r,u,c);const b="quest";this.TYPE=b,this.weeks=s,this.deadline_weeks=n;let v=[];this.unit_criteria_map={};let S=0;for(let M in l){if(v.includes(M))throw new Error(`Duplicate actor/unit key ${M}`);v.push(M);let k=l[M],_=1;if(!k)throw new Error(`unit criteria ${M} undefined`);Array.isArray(k)&&(_=k[1],k=k[0]);const T=k,E=T.getSkillMultis().reduce((x,W)=>x+W,0);if(T.getJob()==setup.job.slaver&&E&&(S+=_,Math.abs(E-3)>1e-5&&!State.variables.devtooltype))throw new Error(`Quest ${e}: The skills of unit criteria ${M} must sum to exactly 3.0, but ${E} was found instead`);this.unit_criteria_map[M]={criteria:k,offsetmod:_}}if(Math.abs(S-3)>1e-5&&!State.variables.devtooltype)throw new Error(`Quest ${e}: total offset of all criteria must sum exactly to 3.0, but ${S} was found instead`);if(this.costs=h,this.description_passage=p,d.length!=4)throw new Error("Must have exactly four outcomes");this.outcomes=setup.deepCopy(d),this.outcomes[0][1].push(setup.qc.ExpCrit()),this.outcomes[1][1].push(setup.qc.ExpNormal()),this.outcomes[2][1].push(setup.qc.ExpFailure()),this.outcomes[3][1].push(setup.qc.ExpDisaster());for(let M=0;M<this.outcomes.length;++M)for(let k=0;k<this.outcomes[M][1].length;++k)if(!this.outcomes[M][1][k])throw new Error(`missing outcome for quest ${e}: ${M} ${k}`);if(m?this.quest_prerequisites=m:this.quest_prerequisites=[],f?this.expired_outcomes=f:this.expired_outcomes=[],e in setup.questtemplate)throw new Error(`Quest Base ${e} already exists`);setup.questtemplate[e]=this,this.pools=[],this.rarities=[];for(let M=0;M<g.length;++M){let k=g[M],_=setup.questpool[k[0].key];this.pools.push(k[0].key),this.rarities.push(k[1].key);let T=k[1];if(!(T instanceof setup.Rarity))throw new Error(`Rarity of quest ${this.key} must be of type setup.Rarity! (new since v1.3.3.13)`);_.registerQuest(this,T)}}getAnyQuestPoolRarity(){return this.pools.length?{pool:setup.questpool[this.pools[0]],rarity:setup.rarity[this.rarities[0]]}:null}static sanityCheck(e,t,a,r,s,n,l,u,h,p,c){if(!e)return"Key cannot be empty";if(e in setup.questtemplate)return`Key ${e} is duplicated with another quest`;if(!t)return"Name cannot be null";if(a<=0)return"Quest must take at least 1 week";if(r<=0)return"Quest must have at least 1 week before expiring";if(!s)return"Difficulty cannot be empty";if(!Object.keys(n).length)return"Must have at least one role";for(let d=0;d<u.length;++d)if(!setup.QuestTemplate.isCostActorIn(u[d],n,l))return`Actor ${u[d].actor_name} not found in the ${d}-th quest costs`;for(let d=0;d<p.length;++d)if(!setup.QuestTemplate.isCostActorIn(p[d],n,l))return`Actor ${p[d].actor_name} not found in the ${d}-th quest restriction`;for(let d=0;d<h.length;++d)for(let g=0;g<h[d].length;++g)if(!setup.QuestTemplate.isCostActorIn(h[d][g],n,l))return`Actor ${h[d][g].actor_name} not found in the ${g}-th outcome of the ${d}-th result`;return c<0||c>100?"Rarity must be between 0 and 100":null}static isCostActorIn(e,t,a){return!("actor_name"in e&&!(e.actor_name in t||e.actor_name in a))}rep(){return this.getName()}getExpiredOutcomes(){return this.expired_outcomes}getWeeks(){return this.weeks}getOutcomes(){return this.outcomes}getDeadlineWeeks(){return this.deadline_weeks}getCosts(){return this.costs}getDescriptionPassage(){return this.description_passage}getPrerequisites(){return this.quest_prerequisites}isCanGenerate(){if(State.variables.settings.isBanned(this.getTags()))return!1;let e=this.getPrerequisites();return!setup.RestrictionLib.isActorUnitGroupViable(this.getActorUnitGroups())||State.variables.calendar.isOnCooldown(this)?!1:setup.RestrictionLib.isPrerequisitesSatisfied(this,e)}getUnitCriterias(){let e={};for(let t in this.unit_criteria_map){let a=this.unit_criteria_map[t],r={offsetmod:a.offsetmod,criteria:a.criteria};e[t]=r}return e}getAllActorNames(){return Object.keys(this.getUnitCriterias()).concat(Object.keys(this.getActorUnitGroups()))}debugMakeInstance(e){let t=this,a=setup.DebugActor.getActors(t.getActorUnitGroups(),e);return new setup.QuestInstance(t,a)}debugMakeFilledInstance(e,t){const a=this.debugMakeInstance(t);let r=null;if(t||(r=setup.QuestAssignHelper.computeAutoAssignment(a)),!r){r={};const s=a.getUnitCriteriasList(),n=State.variables.company.player.getUnits({}).filter(c=>!c.isEngaged()&&!State.variables.leave.isOnLeave(c));setup.rng.shuffleArray(n);const l=n.filter(c=>c.isSlaver()),u=n.filter(c=>c.isSlave());let h=0,p=0;for(let c=0;c<s.length;++c){const d=s[c][0];let g=!1;for(const f of s[c][1].criteria.getRestrictions())if(f instanceof setup.qresImpl.Job&&f.job_key==setup.job.slave.key){g=!0;break}let m;g&&p<u.length?(m=u[p],p+=1):!g&&h<l.length?(m=l[h],h+=1):(m=setup.unitpool.subrace_humankingdom_male.generateUnit(),State.variables.company.player.addUnit(m,g?setup.job.slave:setup.job.slaver)),r[d]=m.key}}return State.variables.gDebugQuestTest=!0,ja(a,r),State.variables.gDebugQuestTest=!1,a.outcome=e,a}getActorResultJob(e){let t=this.getOutcomes();for(let r=0;r<t.length;++r){let s=t[r][1];for(let n=0;n<s.length;++n){let l=s[n];if(l.IS_SLAVE&&l.getActorName()==e)return setup.job.slave;if(l.IS_SLAVER&&l.getActorName()==e)return setup.job.slaver}}let a=this.getUnitCriterias();return e in a?a[e].criteria.getJob():null}getMainSkills(){const e=Array(setup.skill.length).fill(0);for(const r of Object.values(this.getUnitCriterias())){const n=r.criteria.getSkillMultis();for(let l=0;l<n.length;++l)e[l]+=n[l]}const t=e.reduce((r,s)=>r+s,0),a=[];for(;a.length<setup.QUEST_SKILL_SUMMARY;){const r=e.indexOf(Math.max(...e));a.push(setup.skill[r]),e[r]-=t/setup.QUEST_SKILL_SUMMARY}return a.sort((r,s)=>r.key-s.key),a}getSkillSummary(){return this.getMainSkills().map(t=>t.rep()).join("")}getCardClass(){return setup.TagHelper.getQuestCardClass(this.getTags())}computeRecommendedReward(e){let t=0;for(const a of Object.values(this.getUnitCriterias())){const r=a.criteria.getJob();r==setup.job.slaver?t+=setup.MONEY_PER_SLAVER_WEEK:r==setup.job.slave&&(t+=setup.MONEY_PER_SLAVE_WEEK)}if(t*=this.weeks,e=="crit")return 2*t;if(e=="success")return t;throw new Error(`Recommended Reward only for crit and success outcomes, not ${e}`)}static resultIndex(e){if(e=="crit")return 0;if(e=="success")return 1;if(e=="failure")return 2;if(e=="disaster")return 3;throw new Error(`Unrecognized result: ${e}`)}static parseAuthorInfo(e){if(setup.isString(e))return{name:e,url:""};if(!("name"in e))throw new Error("Author Info must have a name!");return e}},o(Cs,"QuestTemplate"),Cs),setup.qres={},setup.qresImpl={},setup.Restriction=(Ps=class extends setup.TwineClass{static initConstructors(){setup.qresImpl=Object.freeze(setup.qresImpl);for(const[e,t]of Object.entries(setup.qresImpl))setup.qres[e]=function(...a){return new t(...a)},setup.qres[e].class=t}static deserialize(e,t){const a=setup.qresImpl[e];if(a){const r=Object.create(a.prototype);return Object.assign(r,t)}else return console.error(`Attempted to deserialize restriction "${e}" which does not exist`),new setup.qresImpl.Never("Never")}toJSON(){const e={};return setup.copyProperties(e,this),JSON.reviveWrapper(`setup.Restriction.deserialize("${this.constructor.name}", $ReviveData$)`,e)}apply(){}undoApply(){}text(){return""}explain(e){return""}isOk(e){return!1}},o(Ps,"Restriction"),Ps),setup.SexRestriction=(Ls=class extends setup.Restriction{constructor(){super(),this.sex=State.temporary.gSex}},o(Ls,"SexRestriction"),Ls),setup.qresImpl.Building=(Us=class extends setup.Restriction{constructor(e,t){if(super(),!e)throw new Error("null template for building restriction");this.template_key=setup.keyOrSelf(e),t?this.level=t:this.level=1,this.IS_BUILDING=!0}text(){return`setup.qres.Building(setup.buildingtemplate.${this.template_key})`}explain(){let e=`${setup.buildingtemplate[this.template_key].rep()}`;return this.level>1&&(e=`Lv. ${this.level}`+e),e}isOk(e){return State.variables.fort.player.isHasBuilding(setup.buildingtemplate[this.template_key],this.level)}},o(Us,"Building"),Us),setup.qresImpl.Cooldown=(aa=class extends setup.Restriction{constructor(e){super(),this.cooldown=e}text(){return`setup.qres.Cooldown(${this.cooldown})`}isOk(e){let t=State.variables.calendar.getLastWeekOf(e);return State.variables.calendar.getWeek()-t>=this.cooldown}apply(e){throw new Error("Not a reward")}undoApply(e){throw new Error("Not a reward")}explain(){return`Cooldown of ${this.cooldown} weeks`}},o(aa,"Cooldown"),y(aa,"NAME","Cooldown weeks (quest can only be generated at most once per this many weeks)"),y(aa,"PASSAGE","RestrictionCooldown"),aa),setup.qresImpl.FavorAtLeast=(Ns=class extends setup.Restriction{constructor(e,t){super(),this.company_key=setup.keyOrSelf(e),this.favor_amt=t}text(){return`setup.qres.FavorAtLeast('${this.company_key}', ${this.favor_amt})`}isOk(){let e=State.variables.company[this.company_key];return State.variables.favor.getFavor(e)>=this.favor_amt}explain(){return`Favor with ${State.variables.company[this.company_key].rep()} at least ${setup.DOM.toString(setup.DOM.Util.favor(this.favor_amt))}`}},o(Ns,"FavorAtLeast"),Ns),setup.qresImpl.FortLevelAtLeast=(Hs=class extends setup.Restriction{constructor(e){super(),this.level=e}text(){return`setup.qres.FortLevelAtLeast(${this.level})`}isOk(e){return State.variables.fortgrid.getTotalExpansions()>=this.level}explain(){return`Have expanded fort at least ${this.level} times`}},o(Hs,"FortLevelAtLeast"),Hs),setup.qresImpl.Function=(Bs=class extends setup.Restriction{constructor(e,t){super(),this.func=e,this.display_text=t}text(){return`setup.qres.Function(
      ${this.func.toString()},
      "${this.display_text}",
    )`}isOk(e){return this.func(e)}explain(e){return this.display_text?this.display_text:"Runs a custom function"}},o(Bs,"Function"),Bs),setup.qresImpl.HasAnyItemAnywhere=(Gs=class extends setup.Restriction{constructor(e){super(),this.item_keys=e.map(t=>setup.keyOrSelf(t))}getItems(){return this.item_keys.map(e=>setup.item[e])}text(){return`setup.qres.HasAnyItem([${this.getItems().map(e=>`"${e.key}"`).join(", ")}])`}explain(){return`Has any of these items anywhere: ${this.getItems().map(e=>e.rep()).join("")}`}isOk(){for(const e of this.getItems())if(State.variables.inventory.isHasItemAnywhere(e))return!0;return!1}},o(Gs,"HasAnyItemAnywhere"),Gs),setup.qresImpl.HasContact=(ia=class extends setup.Restriction{constructor(e){if(super(),this.template_key=e.key,!e)throw new Error("null template for has contact restriction")}text(){return`setup.qres.HasContact(setup.contacttemplate.${this.template_key})`}explain(){return`Must have the contact: ${setup.contacttemplate[this.template_key].rep()}`}isOk(){let e=setup.contacttemplate[this.template_key];return State.variables.contactlist.isHasContact(e)}},o(ia,"HasContact"),y(ia,"NAME","Must have a certain contact"),y(ia,"PASSAGE","RestrictionHasContact"),ia),setup.qresImpl.HasItem=(qs=class extends setup.Restriction{constructor(e){if(super(),!e)throw new Error("Item null in HasItem");this.item_key=setup.keyOrSelf(e)}text(){return`setup.qres.HasItem(setup.item.${this.item_key})`}getItem(){return setup.item[this.item_key]}explain(){return`${this.getItem().rep()}`}isOk(){return State.variables.inventory.isHasItem(this.getItem())}},o(qs,"HasItem"),qs),setup.qresImpl.HaveMetCompany=(zs=class extends setup.Restriction{constructor(e){super(),this.company_key=setup.keyOrSelf(e)}text(){return`setup.qres.HaveMetCompany('${this.company_key}')`}isOk(){const e=State.variables.company[this.company_key];return State.variables.favor.isCompanyKnown(e)}explain(){return`Have met ${State.variables.company[this.company_key].getName()}`}},o(zs,"HaveMetCompany"),zs),setup.qresImpl.IreAtLeast=(Fs=class extends setup.Restriction{constructor(e,t){super(),this.company_key=setup.keyOrSelf(e),this.ire_amt=t}text(){return`setup.qres.IreAtLeast('${this.company_key}', ${this.ire_amt})`}isOk(){let e=State.variables.company[this.company_key];return State.variables.ire.getIre(e)>=this.ire_amt}explain(){return`Ire with ${State.variables.company[this.company_key].rep()} at least ${setup.DOM.toString(setup.DOM.Text.dangerlite(this.ire_amt))}`}},o(Fs,"IreAtLeast"),Fs),setup.qresImpl.Money=(ra=class extends setup.Restriction{constructor(e){super(),this.money=e}text(){return`setup.qres.Money(${this.money})`}explain(){return`Minimum money: ${this.money}`}isOk(){return this.money?State.variables.company.player.getMoney()>=this.money:!0}},o(ra,"Money"),y(ra,"NAME","Money minimum"),y(ra,"PASSAGE","RestrictionMoney"),ra),setup.qresImpl.MoneyAtMost=(js=class extends setup.Restriction{constructor(e){super(),this.money=e}text(){return`setup.qres.MoneyAtMost(${this.money})`}explain(){return`Maximum money: ${this.money}`}isOk(){return State.variables.company.player.getMoney()<=this.money}},o(js,"MoneyAtMost"),js),setup.qresImpl.Never=(sa=class extends setup.Restriction{constructor(e){super(),this.keytext=e||"Never"}text(){return`setup.qres.Never('${this.keytext}')`}explain(){return this.keytext}isOk(){return!1}},o(sa,"Never"),y(sa,"NAME","Never"),y(sa,"PASSAGE","RestrictionNever"),sa),setup.qresImpl.NoContact=(na=class extends setup.Restriction{constructor(e){if(super(),this.template_key=e.key,!e)throw new Error("null template for no contact restriction")}text(){return`setup.qres.NoContact(setup.contacttemplate.${this.template_key})`}explain(){return`Do not have the contact: ${setup.contacttemplate[this.template_key].rep()}`}isOk(){let e=setup.contacttemplate[this.template_key];return!State.variables.contactlist.isHasContact(e)}},o(na,"NoContact"),y(na,"NAME","Do NOT have a certain contact"),y(na,"PASSAGE","RestrictionNoContact"),na),setup.qresImpl.NoItem=(oa=class extends setup.Restriction{constructor(e){if(super(),!e)throw new Error("Item null in NoItem");this.item_key=e.key}text(){return`setup.qres.NoItem(setup.item.${this.item_key})`}getItem(){return setup.item[this.item_key]}explain(){return`Do not have ${this.getItem().rep()}`}isOk(){return!State.variables.inventory.isHasItem(this.getItem())}},o(oa,"NoItem"),y(oa,"NAME","Do not have an item"),y(oa,"PASSAGE","RestrictionNoItem"),oa),setup.qresImpl.Prestige=(la=class extends setup.Restriction{constructor(e){super(),this.prestige=e}text(){return`setup.qres.Prestige(${this.prestige})`}explain(){return`Minimum prestige: ${this.prestige}`}isOk(){return State.variables.company.player.getPrestige()>=this.prestige}},o(la,"Prestige"),y(la,"NAME","Prestige minimum"),y(la,"PASSAGE","RestrictionPrestige"),la),setup.qresImpl.RandomlyTrue=(Ks=class extends setup.Restriction{constructor(e){super(),this.chance=e}text(){return`setup.qres.RandomlyTrue(${this.chance})`}explain(){return State.variables.gDebug?`With ${(this.chance*100).toFixed(1)}% chance`:"Sometimes true"}isOk(){return Math.random()<this.chance}},o(Ks,"RandomlyTrue"),Ks),setup.qresImpl.RandomlyTrueSeeded=(Vs=class extends setup.Restriction{constructor(e,t){if(super(),t>=e)throw new Error(`Remainder (${t}) cannot be larger than modulo (${e})`);this.modulo=e,this.remainder=t}text(){return`setup.qres.RandomlyTrueSeeded(${this.modulo}, ${this.remainder})`}explain(){return State.variables.gDebug?`True when seed % ${this.modulo} equals ${this.remainder}`:"Sometimes true"}isOk(e){return e.getSeed()%this.modulo==this.remainder}},o(Vs,"RandomlyTrueSeeded"),Vs),setup.qresImpl.UnitGroupEmpty=(Ys=class extends setup.Restriction{constructor(e){if(super(),!e)throw new Error("Unit group cannot be empty");this.unit_group_key=setup.keyOrSelf(e)}text(){return`setup.qres.UnitGroupEmpty('${this.unit_group_key}')`}explain(){return`Unit group ${setup.unitgroup[this.unit_group_key].rep()} must be empty`}isOk(){return setup.unitgroup[this.unit_group_key].isEmpty()}},o(Ys,"UnitGroupEmpty"),Ys),setup.qresImpl.UnitGroupHasUnit=(Js=class extends setup.Restriction{constructor(e){if(super(),!e)throw new Error("Unit group cannot be empty");this.unit_group_key=setup.keyOrSelf(e)}text(){return`setup.qres.UnitGroupHasUnit('${this.unit_group_key}')`}explain(){return`Unit group ${setup.unitgroup[this.unit_group_key].rep()} has at least one unit`}isOk(){return setup.unitgroup[this.unit_group_key].hasUnbusyUnit()}},o(Js,"UnitGroupHasUnit"),Js),setup.qresImpl.UnitGroupNotBusy=(Ws=class extends setup.Restriction{constructor(e){if(super(),!e)throw new Error("Unit group cannot be empty");this.unit_group_key=setup.keyOrSelf(e)}text(){return`setup.qres.UnitGroupNotBusy('${this.unit_group_key}')`}explain(){return`No unit from ${setup.unitgroup[this.unit_group_key].rep()} must be on any quest / event / opportunity`}isOk(){return!setup.unitgroup[this.unit_group_key].isBusy()}},o(Ws,"UnitGroupNotBusy"),Ws),setup.living={},setup.Living=(Qs=class extends setup.TwineClass{constructor({key:e,name:t,tags:a,unit_restrictions:r,default_preference:s,trait_preferences:n,business:l,location:u}){if(super(),!e)throw new Error("null key for living");if(this.key=e,!t)throw new Error(`null name for living ${e}`);if(this.name=t,!Array.isArray(a))throw new Error(`tags must be array for living ${e}`);if(this.tags=a,!Array.isArray(r))throw new Error(`unit restrictions must be array for living ${e}`);this.unit_restrictions=r,this.default_preference=s,this.trait_preferences=n;for(const h in this.trait_preferences){if(!(h in setup.trait))throw new Error(`Unknown trait ${h} for living ${e}`);if(!this.trait_preferences[h])throw new Error(`Missing value for ${h} in Living ${e}`)}if(!Array.isArray(l))throw new Error(`business must be array for living ${e}`);if(this.business=l,!u)throw new Error(`Missing locatin for living ${e}`);if(this.location=u,e in setup.living)throw new Error(`Living with key ${e} duplicated`);if(setup.living[e]=this,!Story.has(this.getDescriptionPassage()))throw new Error(`Passage ${this.getDescriptionPassage()} not found for living ${e}!`)}getDefaultPreference(){return this.default_preference}getUnitRestrictions(){return this.unit_restrictions}getTraitPreferences(){return this.trait_preferences}getLocation(){return this.location}getName(){return this.name}getDescriptionPassage(){return`LIVING_${this.key}`}getTags(){return this.tags}getBusiness(){return this.business}repBusiness(e){return setup.Text.replaceUnitMacros(this.getBusiness(),{a:e})}computePreference(e){const t=this.getUnitRestrictions();if(!setup.RestrictionLib.isUnitSatisfy(e,t))return 0;let a=this.getDefaultPreference();const r=this.getTraitPreferences();for(const s in r)e.isHasTrait(s)&&(a+=r[s]);return Math.max(0,a)}rep(){return this.getName()}static getLiving(e){const t=[];for(const r of Object.values(setup.living)){const s=r.computePreference(e);s&&t.push([r,s])}if(!t.length)throw new Error(`Empty living candidates for unit ${e.getName()}`);return setup.rng.sampleArray(t,!0)}static isRestrictionsAllowRetired(e){for(const t of e)if(t instanceof setup.qresImpl.Job&&t.job_key==setup.job.retired.key||t instanceof setup.qresImpl.Living)return!0;return!1}},o(Qs,"Living"),Qs),setup.RetiredList=(Zs=class extends setup.TwineClass{constructor(){super(),this.unit_key_to_living_key={}}isRetired(e){return e.key in this.unit_key_to_living_key}getLiving(e){if(!e.isRetired())throw new Error(`Can only get living of retired units, not ${e.getName()}!`);return setup.living[this.unit_key_to_living_key[e.key]]}getUnits(){return Object.keys(this.unit_key_to_living_key).map(e=>State.variables.unit[e])}retire(e){if(e.isRetired())throw new Error(`Unit ${e.getName()} already retired!`);if(e.getJob()!=setup.job.slaver)throw new Error(`Can only retire slavers, not ${e.getName()}!`);State.variables.company.player.removeUnit(e);const t=setup.Living.getLiving(e);this.unit_key_to_living_key[e.key]=t.key,e.addHistory("retired."),e.resetCache()}unretire(e){if(!e.isRetired())throw new Error(`Cannot retire ${e.getName()} because they are not retired`);delete this.unit_key_to_living_key[e.key],e.checkDelete()}getMaxTrackedUnits(){let e;return State.variables.fort.player.isHasBuilding(setup.buildingtemplate.inn)?e=State.variables.fort.player.getBuilding(setup.buildingtemplate.inn).getLevel():e=0,e*setup.FORT_GUEST_ROOM_CAPACITY_PER_LEVEL}isCanRetire(e){return e.isRetired()||e.isInjured()||this.getUnits().length>=this.getMaxTrackedUnits()||!e.isHasTrait(setup.trait.join_senior)?!1:e.isCanBeDismissed()}},o(Zs,"RetiredList"),Zs);const tt=class tt extends setup.TwineClass{constructor(){super(),this.indoor_expansions=0,this.outdoor_expansions=0,this.is_paths_computed=!1,this.cached_tiles=null}resetCache(){this.cached_tiles=null}initialize(){this.recomputeTiles();const e=this.getWidth();if(e%2!=0)throw new Error("Fort Grid width must be even");for(let a=0;a<e;++a){if(a==e/2||a==e/2-1)continue;const r=new setup.RoomInstance({template:setup.roomtemplate.fortwalls});a==e/2-2?r.setRotation(3):a==e/2+1&&r.setRotation(1),this.relocateRoom(r,{row:0,col:a})}const t=new setup.RoomInstance({template:setup.roomtemplate.roadindoor});this.relocateRoom(t,{row:0,col:e/2-1}),new setup.RoomInstance({template:setup.roomtemplate.road}),this._buildRoad(this.getOutdoorHeight()),tt.initializeUpgradeCosts(!0),tt.initializeUpgradeCosts(!1)}getTotalExpansions(){return this.outdoor_expansions+this.indoor_expansions}_buildRoad(e){const t=State.variables.roomlist.getRoomInstances({template:setup.roomtemplate.road})[0];this.relocateRoom(t,{row:e,col:this.getWidth()/2-1})}expandIndoors(){if(!this.isCanExpandIndoor()){setup.notify("You have reached the indoor expansion limit.");return}setup.qc.Money(-this.getIndoorExpansionMoneyCost()).apply(),this.indoor_expansions+=1,this.recomputeTiles()}expandOutdoors(){if(!this.isCanExpandOutdoor()){setup.notify("You have reached the indoor expansion limit.");return}setup.qc.Money(-this.getOutdoorExpansionMoneyCost()).apply(),this.outdoor_expansions+=1,this.recomputeTiles(),this._buildRoad(this.getOutdoorHeight())}getWidth(){return setup.FORTGRID_WIDTH}getIndoorHeight(){return setup.FORTGRID_INDOOR_HEIGHT_INIT+this.indoor_expansions}getOutdoorHeight(){return setup.FORTGRID_OUTDOOR_HEIGHT_INIT+this.outdoor_expansions}isCanExpandIndoor(){return this.getIndoorHeight()<setup.MAX_TILE_INSIDE/this.getWidth()}isCanExpandOutdoor(){return this.getOutdoorHeight()<setup.MAX_TILE_OUTSIDE/this.getWidth()}getIndoorExpansionMoneyCost(){return tt.INDOOR_UPGRADE_COSTS[this.indoor_expansions]}getOutdoorExpansionMoneyCost(){return tt.OUTDOOR_UPGRADE_COSTS[this.outdoor_expansions]}getTiles(){return this.cached_tiles||this.recomputeTiles(),this.cached_tiles}recomputeTiles(){throw new Error("Implement in subclass!")}translateLocationToArrayIndex(e){return{idx1:e.row-1+this.getIndoorHeight(),idx2:e.col}}getTile(e){const t=this.translateLocationToArrayIndex(e);return this.getTiles()[t.idx1][t.idx2]}isOutOfBounds(e){return e.row>this.getOutdoorHeight()||e.row<=-this.getIndoorHeight()||e.col<0||e.col>=this.getWidth()}isRoomOutOfBounds(e,t){return this.isOutOfBounds({row:t.row+e.getHeight()-1,col:t.col+e.getWidth()-1})||this.isOutOfBounds(t)}relocateRoom(e,t,a){this.getTiles(),this.is_paths_computed=!1;let r=e.getLocation(),s;a&&(s=this.cachePaths());const n=[],l=e.getLocation();if(e.isPlaced()&&n.push(...this.getAffectingRooms(e,e.getLocation()).rooms),e._relocate(t),l){for(let u=l.row;u<l.row+e.getHeight();++u)for(let h=l.col;h<l.col+e.getWidth();++h)this.getTile({row:u,col:h}).unsetRoomInstance();e.getTemplate().isHasDoor()&&this.getTile(e.getEntranceLocation(l)).unsetEntranceOf(e)}if(t){for(let u=t.row;u<t.row+e.getHeight();++u)for(let h=t.col;h<t.col+e.getWidth();++h)this.getTile({row:u,col:h}).setRoomInstance(e,u==t.row&&h==t.col);e.getTemplate().isHasDoor()&&this.getTile(e.getEntranceLocation(t)).setEntranceOf(e)}e.isPlaced()&&n.push(...this.getAffectingRooms(e,e.getLocation()).rooms);for(const u of n)u.resetCache();if(a){const u=[],h=[r,t];for(const c of h)if(c){for(let d=c.row;d<c.row+e.getHeight()+1;++d)for(let g=c.col;g<c.col+e.getWidth();++g)u.push({row:d,col:g});if(e.getTemplate().isHasDoor()){const d=e.getEntranceLocation(c);u.push(d)}}this.recomputePaths();const p=this.cachePaths();for(let c=-this.getIndoorHeight()+1;c<=this.getOutdoorHeight();c+=1)for(let d=0;d<this.getWidth();++d){const g={row:c,col:d},m=this.translateLocationToArrayIndex(g);p[m.idx1][m.idx2]!=s[m.idx1][m.idx2]&&u.push({row:c,col:d})}return u}else return null}isRoomPlacementsValid(){return State.variables.roomlist.getRoomInstances().filter(e=>!e.isPlaced()&&!e.getTemplate().isOptional()).length==0}getAffectingRooms(e,t){throw new Error("implement!")}static getOldFortCosts(e){const t=[[0,15],[10,17],[20,19],[30,21],[40,23],[50,26],[60,30],[70,35],[80,40],[90,50],[100,60],[110,75],[120,90],[130,120],[140,150],[150,200],[160,250],[170,500],[180,1e3],[190,2e3],[200,4e3],[210,8e3],[220,16e3],[230,32e3],[240,64e3]];let a=1,r=0;const s=[];for(;a<=e;){s.push(r);let n=0;for(const l of t)l[0]<a&&(n=l[1]);r+=n,a+=1}return s}static initializeUpgradeCosts(e){const a=tt.getOldFortCosts(300),r=setup.FORTGRID_WIDTH,s=e?setup.FORTGRID_INDOOR_HEIGHT_INIT:setup.FORTGRID_OUTDOOR_HEIGHT_INIT;let n=e?setup.MAX_TILE_INSIDE:setup.MAX_TILE_OUTSIDE;n-=s*r;let l=0,u=-1;for(let h=0;h<n+r;++h){for(;u<h/n*250;)u+=1;l+=a[u]/(n/250),(h+1)%r==0&&(e?tt.INDOOR_UPGRADE_COSTS.push(Math.round(l)):tt.OUTDOOR_UPGRADE_COSTS.push(Math.round(l)),l=0)}}cachePaths(){throw new Error("Implement in subclass!")}recomputePaths(){throw new Error("Implement in subclass!")}};o(tt,"FortGridBase"),y(tt,"OUTDOOR_UPGRADE_COSTS",[]),y(tt,"INDOOR_UPGRADE_COSTS",[]);let Jy=tt;setup.FortGrid=(Xs=class extends Jy{_makeEmptyTiles(){const e=[];for(let t=-this.getIndoorHeight()+1;t<=this.getOutdoorHeight();t+=1){const a=[];for(let r=0;r<this.getWidth();++r)a.push(new setup.Tile({row:t,col:r}));e.push(a)}return e}removeIntersectingRooms(){const e=[];for(let t=-this.getIndoorHeight()+1;t<=this.getOutdoorHeight();t+=1){const a=[];for(let r=0;r<this.getWidth();++r)a.push(!1);e.push(a)}for(const t of State.variables.roomlist.getRoomInstances().filter(a=>a.isPlaced())){const a=t.getLocation(),r=t.getWidth(),s=t.getHeight();let n=!0;for(let l=0;l<r;++l){for(let u=0;u<s;++u){const h={row:a.row+u,col:a.col+l};if(this.isOutOfBounds(h)){n=!1;break}const p=this.translateLocationToArrayIndex({row:a.row+u,col:a.col+l});if(e[p.idx1][p.idx2]){n=!1;break}else e[p.idx1][p.idx2]=!0}if(!n)break}if(t.getTemplate().isHasDoor()){const l=t.getEntranceLocation();if(this.isOutOfBounds(l))n=!1;else{const u=this.translateLocationToArrayIndex(l);e[u.idx1][u.idx2]&&(n=!1)}}n||(console.log(`Removing ${t.getTemplate().key} because its location is no longer valid`),t._relocate(null))}if(State.variables.roomlist.resetCacheAll(),this.recomputeTiles(),!this.isEmptySpaceRemainsConnected()){console.log("Removing all rooms because empty space becomes disconnected");for(const t of State.variables.roomlist.getRoomInstances().filter(a=>a.isPlaced()&&!a.getTemplate().isFixed()))t._relocate(null);State.variables.roomlist.resetCacheAll(),this.recomputeTiles()}}_fillTilesWithRooms(e){for(const t of State.variables.roomlist.getRoomInstances().filter(a=>a.isPlaced())){const a=t.getLocation(),r=t.getWidth(),s=t.getHeight();for(let n=0;n<r;++n)for(let l=0;l<s;++l){const u=this.translateLocationToArrayIndex({row:a.row+l,col:a.col+n});e[u.idx1][u.idx2].setRoomInstance(t,n==0&&l==0)}if(t.getTemplate().isHasDoor()){const n=t.getEntranceLocation(),l=this.translateLocationToArrayIndex(n);e[l.idx1][l.idx2].setEntranceOf(t)}}}recomputeTiles(){this.is_paths_computed=!1;const e=this._makeEmptyTiles();this._fillTilesWithRooms(e),this.cached_tiles=e}_makeDFSGraph(e,t){const a=this.getTiles(),r=a.length,s=a[0].length;let n,l;if(t)n=State.variables.fortgrid.translateLocationToArrayIndex(t),l=State.variables.fortgrid.translateLocationToArrayIndex({row:t.row+e.getHeight()-1,col:t.col+e.getWidth()-1});else if(e){const h=e.getLocation();n=State.variables.fortgrid.translateLocationToArrayIndex(h),l=State.variables.fortgrid.translateLocationToArrayIndex({row:h.row+e.getHeight()-1,col:h.col+e.getWidth()-1})}else n=null,l=null;const u=[];for(let h=0;h<r;++h){const p=[];for(let c=0;c<s;++c){let d=a[h][c].isPassable();n&&h>=n.idx1&&h<=l.idx1&&c>=n.idx2&&c<=l.idx2&&(d&&t&&!e.getTemplate().isPassable()?d=!1:!d&&!t&&(d=!0)),p.push({passable:d,visited:!1})}u.push(p)}return u}_countReachableTiles(e,t){const a=e.length,r=e[0].length,s=[];e[t[0]][t[1]].visited=!0,s.push(t);let n=0;for(;s.length>0;){n+=1;const l=s.pop();for(const u of[[-1,0],[1,0],[0,1],[0,-1]]){const h=l[0]+u[0],p=l[1]+u[1];h>=0&&h<a&&p>=0&&p<r&&e[h][p].passable&&!e[h][p].visited&&(e[h][p].visited=!0,s.push([h,p]))}}return n}isEmptySpaceRemainsConnected(e,t){const a=this._makeDFSGraph(e,t),r=a.length,s=a[0].length;let n=null,l=0;for(let u=0;u<r;++u)for(let h=0;h<s;++h)a[u][h].passable&&(n=[u,h],l+=1);return this.isCanExpandIndoor()&&a[0].map(u=>u.passable).length==0?!1:n?this._countReachableTiles(a,n)==l:!0}checkRoomCanRelocateTo(e,t,a){if(t){if(this.isRoomOutOfBounds(e,t))return"Room is outside of map boundary";if(e.getTemplate().isHasDoor()){const r=e.getEntranceLocation(t);if(this.isOutOfBounds(r))return"Room entrance is outside of map boundary";if(this.getTile(r).getRoomInstance())return"Room entrance is blocked"}for(let r=0;r<e.getHeight();++r)for(let s=0;s<e.getWidth();++s){const n=this.getTile({row:t.row+r,col:t.col+s});if(n.isOutdoors()!=e.getTemplate().isOutdoors())return e.getTemplate().isOutdoors()?"Room must be outdoors":"Room must be indoors";if(n.getRoomInstance())return"Location is occupied";if(n.entranceOfRooms().length)return"Cannot block the entrance of other rooms"}}return!a&&!this.isEmptySpaceRemainsConnected(e,t)?"Room cannot divide the remaining empty spaces into two or more parts":null}_getAdjacentRoomKeys(e,t){const a=State.variables.fortgrid,r={};for(let s=t.row-1;s<=t.row+e.getHeight();++s)for(let n=t.col-1;n<=t.col+e.getWidth();++n){const l={row:s,col:n};if(this.isOutOfBounds(l))continue;const h=a.getTile(l).getRoomInstance();h&&h!=e&&!(h.key in r)&&(r[h.key]=!0)}return r}_getNearbyRooms(e,t,a){const r={},s=setup.FORTGRID_NEAR_DISTANCE;function n(h){return`${h.row},${h.col}`}o(n,"serialize");const l={},u=[];if(e.getTemplate().isPassable())for(let h=t.row;h<t.row+e.getHeight();++h)for(let p=t.col;p<t.col+e.getWidth();++p){const c={row:h,col:p};this.isOutOfBounds(c)||(u.push(c),l[n(c)]={distance:1,camefrom:null})}else{const h=e.getEntranceLocation(t);this.isOutOfBounds(h)||(u.push(h),l[n(h)]={distance:1,camefrom:null})}for(;u.length;){const h=u.shift(),p=this.getTile(h),c=[],d=p.getRoomInstance();d&&c.push(d);for(const b of p.entranceOfRooms().concat(c))if(b!=e&&!(b.key in r)){const v=[];let S=h;for(;S;)v.push(S),S=l[n(S)].camefrom;v.reverse(),r[b.key]=v}const g=l[n(h)].distance;if(!a&&g>=s)continue;const m=[[-1,0],[1,0],[0,-1],[0,1]],f=[];for(const b of m)f.push({row:h.row+b[0],col:h.col+b[1]});if(!a&&d&&d.getTemplate().isPortal()){const b=[];for(const v of setup.RoomTemplate.PORTAL_ROOM_TEMPLATE_KEYS)b.push(...State.variables.roomlist.getRoomInstances({template:setup.roomtemplate[v]}));for(const v of b.filter(S=>S.isPlaced()))f.push(v.getLocation())}a||setup.rng.shuffleArray(f);for(const b of f)this.isOutOfBounds(b)||n(b)in l||!this.getTile(b).isPassable()||!e.getTemplate().isPassable()&&b.row>=t.row&&b.col>=t.col&&b.col<t.col+e.getWidth()&&b.row<t.row+e.getHeight()||(l[n(b)]={distance:g+1,camefrom:h},u.push(b))}return r}getAffectingRooms(e,t){const a=Array(setup.skill.length).fill(0),r=a.map(g=>[]);State.variables.fortgrid;const s=e.getTemplate().getSkillBonus();let n;s.filter(g=>g.type=="adjacent").length&&(n=this._getAdjacentRoomKeys(e,t));let l;s.filter(g=>g.type=="near").length?l=this._getNearbyRooms(e,t):l={};const u={},h={};for(const g of s){const m=setup.skill[g.skill_key],f=g.bonus;if(g.type=="always"){a[m.key]+=f;continue}const b=setup.roomtemplate[g.room_template_key];if(!b)throw new Error(`Missing room template for ${e.getName()} vicinity bonus!`);let v;g.type=="adjacent"?v=n:v=l;for(const S of Object.keys(v)){const M=State.variables.roominstance[S];M.getTemplate()==b&&(a[m.key]+=f,r[m.key].push(M),g.type=="adjacent"?u[M.key]=!0:h[M.key]=!0)}}const p=[...new Set(Object.keys(u).concat(Object.keys(h)))],c=[];for(const g of Object.keys(h))c.push(l[g].map(m=>this.getTile(m)));const d=[...new Set([].concat.apply([],c))];return{rooms:p.map(g=>State.variables.roominstance[g]),paths:d,skill_bonuses:a,skill_to_room:r}}placeAnywhere(e,t){const a=[0,1,2,3];setup.rng.shuffleArray(a);const r=[0];for(let s=-1;s>=-this.getIndoorHeight();--s)r.push(s);for(let s=1;s<=this.getOutdoorHeight();++s)r.push(s);for(let s of r)for(let n=0;n<this.getWidth();++n)for(let l of a)if(e.setRotation(l),!this.checkRoomCanRelocateTo(e,{row:s,col:n},!1)){setup.notify(`${e.rep()} has been auto-placed`);const u=this.relocateRoom(e,{row:s,col:n},t);return t?u:!0}return setup.notify("No valid room placement found. Try expanding your fort."),null}cachePaths(){const e=[];for(let t=-this.getIndoorHeight()+1;t<=this.getOutdoorHeight();t+=1){const a=[];for(let r=0;r<this.getWidth();++r){const s=this.getTile({row:t,col:r});if(!s.isPath())a.push(-1);else{const n=s.getPathDirectionId();a.push(n[0]+n[1]*5+n[2]*25+n[3]*125)}}e.push(a)}return e}recomputePaths(){if(this.is_paths_computed)return;this.is_paths_computed=!0;const e=State.variables.roomlist.getRoomInstances({template:setup.roomtemplate.roadindoor})[0],t=this._getNearbyRooms(e,e.getLocation(),!0),a=this.getTiles();for(const r of a)for(const s of r)s.removePath();for(const r of Object.values(t))for(const s of r){const n=this.getTile(s);n.isPath()||n.isPassable()&&n.setPath()}}},o(Xs,"FortGrid"),Xs),setup.RoomInstance=(en=class extends setup.TwineClass{constructor({template:e}){if(super(),this.key=State.variables.RoomInstance_keygen,State.variables.RoomInstance_keygen+=1,this.template_key=e.key,!this.template_key)throw new Error("Unrecognized room template");if(this.owner_keys=[],this.location=null,this.clockwise_rotations=0,this.cached_skill_bonuses=null,this.key in State.variables.roominstance)throw new Error(`Room instance ${this.key} already exists`);State.variables.roominstance[this.key]=this,State.variables.roomlist.resetCache()}resetCache(){this.cached_skill_bonuses=null,State.variables.roomlist.resetCache()}rep(){return setup.repMessage(this,"roominstancecardkey")}repFull(){return this.getTemplate().repTags()+setup.repMessage(this,"roominstancecardkey")+` (${this.getTemplate().getWidth()} x ${this.getTemplate().getHeight()})`}delete(){delete State.variables.roominstance[this.key],State.variables.roomlist.resetCache()}getSkillBonuses(){return this.cached_skill_bonuses||(State.variables.fort.player.isHasBuilding(setup.buildingtemplate.landscapingoffice)?this.isPlaced()?this.cached_skill_bonuses=State.variables.fortgrid.getAffectingRooms(this,this.getLocation()).skill_bonuses:this.cached_skill_bonuses=Array(setup.skill.length).fill(0):this.cached_skill_bonuses=Array(setup.skill.length).fill(0)),this.cached_skill_bonuses}getTemplate(){return setup.roomtemplate[this.template_key]}getOwners(){return this.owner_keys.map(e=>State.variables.unit[e])}getName(){return this.getTemplate().getName()}isPlaced(){return this.location!=null}getLocation(){return this.location}_relocate(e){if(e&&State.variables.fortgrid.isRoomOutOfBounds(this,e))throw new Error(`New room placement for ${this.getName()} is out of bounds!`);this.location=e,delete this.seed,this.resetCache()}getWidth(){return this.getClockwiseRotations()%2?this.getTemplate().getHeight():this.getTemplate().getWidth()}getHeight(){return this.getClockwiseRotations()%2?this.getTemplate().getWidth():this.getTemplate().getHeight()}getClockwiseRotations(){return this.clockwise_rotations}rotate90anticlockwise(){if(this.getTemplate().isFixed())throw new Error(`Cannot rotate fixed room: ${this.key}`);this.clockwise_rotations=(this.clockwise_rotations+3)%4}rotate90clockwise(){if(this.getTemplate().isFixed())throw new Error(`Cannot rotate fixed room: ${this.key}`);this.clockwise_rotations=(this.clockwise_rotations+1)%4}rotate180(){if(this.getTemplate().isFixed())throw new Error(`Cannot rotate fixed room: ${this.key}`);this.clockwise_rotations=(this.clockwise_rotations+2)%4}setRotation(e){this.clockwise_rotations=e}resetRotation(){this.clockwise_rotations=0}getSeed(){return this.seed?this.seed:(this.seed=1+Math.floor(Math.random()*999999997),this.seed)}getImageObject(){const e=this.getTemplate().getImageList();return e.length?e[this.getSeed()%e.length]:null}isShouldRotateImage(){const e=this.getImageObject();return!e||!e.info.directional&&!e.info.norotate}isWalled(){const e=this.getImageObject();return!e||!e.info.nowalls}static getDirectionalImagePath(e,t){const a=e.path.split("."),r=a[a.length-1];a.pop();const s=a.join(".");let n;return t==0?n="s":t==1?n="w":t==2?n="n":n="e",`${s}-${n}.${r}`}getImage(){const e=this.getImageObject();return e?e.info.directional?setup.RoomInstance.getDirectionalImagePath(e,this.getClockwiseRotations()):e.path:"img/room/noimage.png"}getEntranceLocation(e){const t=this.getClockwiseRotations();if(!e&&(e=this.getLocation(),!e))throw new Error("Unknown location for getting entrance location");const a=this.getTemplate().getDoorColumn();return t==0?{row:e.row+this.getHeight(),col:e.col+a}:t==1?{row:e.row+a,col:e.col-1}:t==2?{row:e.row-1,col:e.col+this.getWidth()-a-1}:{row:e.row+this.getHeight()-a-1,col:e.col+this.getWidth()}}},o(en,"RoomInstance"),en),setup.RoomList=(tn=class extends setup.TwineClass{constructor(){super(),this.cached_skill_bonuses=Array(setup.skill.length).fill(0),this.cached_unplaced_room_keys=null,this.cached_room_count=null,this.cached_template_key_to_room_key=null}resetCache(){this.cached_unplaced_room_keys=null,this.cached_skill_bonuses=null,this.cached_room_count=null,this.cached_template_key_to_room_key=null}resetCacheAll(){this.resetCache();for(const e of this.getRoomInstances())e.resetCache()}getRoomCount(e){return this.cached_room_count||this.recomputeRoomCountsAndInstance(),e.key in this.cached_room_count?this.cached_room_count[e.key]:{unplaced:0,placed:0}}recomputeRoomCountsAndInstance(){const e=State.variables.roomlist.getRoomInstances();this.cached_room_count={},this.cached_template_key_to_room_key={};for(const t of e){const a=t.getTemplate().key;a in this.cached_room_count||(this.cached_room_count[a]={placed:0,unplaced:0},this.cached_template_key_to_room_key[a]=[]),this.cached_template_key_to_room_key[a].push(t.key),t.isPlaced()?this.cached_room_count[a].placed+=1:this.cached_room_count[a].unplaced+=1}}_doGetRoomInstances({template:e}){return e?(this.cached_template_key_to_room_key||this.recomputeRoomCountsAndInstance(),e.key in this.cached_template_key_to_room_key?this.cached_template_key_to_room_key[e.key].map(t=>State.variables.roominstance[t]):[]):Object.values(State.variables.roominstance)}getRoomInstances(e){return this._doGetRoomInstances(e||{})}getUnplacedRooms(){return this.cached_unplaced_room_keys||(this.cached_unplaced_room_keys=this.getRoomInstances().filter(e=>!e.isPlaced()).map(e=>e.key)),this.cached_unplaced_room_keys.map(e=>State.variables.roominstance[e])}getTotalSkillBonuses(){return this.cached_skill_bonuses||this.recomputeTotalSkillBonuses(),this.cached_skill_bonuses}recomputeTotalSkillBonuses(){const e=this.getRoomInstances(),t=Array(setup.skill.length).fill(0);for(const a of e){const r=a.getSkillBonuses();for(let s=0;s<setup.skill.length;++s)t[s]+=r[s]}for(let a=0;a<setup.skill.length;++a)t[a]=Math.round(Math.min(t[a],setup.ROOM_MAX_SKILL_BOOST));this.cached_skill_bonuses=t;for(const a of State.variables.company.player.getUnits({}))a.resetCache()}},o(tn,"RoomList"),tn),setup.RoomTemplate=(ua=class extends setup.TwineClass{constructor({key:e,name:t,description_passage:a,tags:r,width:s,height:n,skill_bonus:l,door_column:u,is_fixed:h,is_passable:p,is_door:c,is_optional:d,is_outdoors:g}){if(super(),this.key=e,this.name=t,this.description_passage=a,this.tags=r,!Array.isArray(r))throw new Error(`${e} room tags must be array`);if(this.tags.sort(),this.width=s,this.height=n,this.door_column=u,c){if(this.door_column===void 0)throw new Error(`Door column must be defined for rooms with door: room ${this.key}`);if(this.door_column<0||this.door_column>=this.width)throw new Error(`Door column of ${this.key} is out of range: must be between 0 and ${this.width-1}`)}else if(this.door_column!==void 0)throw new Error(`Room ${this.key} has no door but it has door column defined!`);if(p&&c)throw new Error(`Room ${this.key} is both passable and has a door!`);if(this.image_list=[],this.raw_skill_bonus=l||[],!Array.isArray(l))throw new Error(`${e} room skill bonus must be array`);this.skill_bonus=[];for(const m of l)if(!["always","near","adjacent"].includes(m.type))throw new Error(`${e} unrecognized room type: ${m.type}`);if(this.building_template_key=null,this.is_fixed=!!h,this.is_passable=!!p,this.is_door=!!c,this.is_optional=!!d,this.is_outdoors=!!g,this.is_hide_name=this.getTags().includes("hidename"),this.is_hide_skill=this.getTags().includes("hideskill"),this.is_outdoors?this.tags.push("outdoors"):this.tags.push("indoors"),this.is_door||this.tags.push("nodoor"),this.is_passable&&this.tags.push("passable"),this.is_optional&&this.tags.push("optional"),this.is_fixed&&this.tags.push("fixed"),this.cached_rep_tag=null,this.cached_type_tag=null,this.max_room_count=null,e in setup.roomtemplate)throw new Error(`Room template ${e} already exists`);setup.roomtemplate[e]=this}static initialize(){let e=0,t=0;for(const s of Object.values(setup.roomtemplate)){const n=s.getBuildingTemplate();n?s==n.getMainRoomTemplate()&&s==n.getSubRoomTemplate()?s.max_room_count=n.getMaxLevel():s==n.getMainRoomTemplate()?s.max_room_count=1:s==n.getSubRoomTemplate()?s.max_room_count=n.getMaxLevel()-1:s.max_room_count=0:s.max_room_count=0,s.isOutdoors()?t+=s.getWidth()*s.getHeight()*s.max_room_count:e+=s.getWidth()*s.getHeight()*s.max_room_count}const a=setup.FORTGRID_WIDTH;console.log(`Total tiles: ${e} in (${e/a} rows), ${t} out (${t/a} rows)`),setup.MAX_TILE_INSIDE=Math.round(setup.FORTGRID_EXTRA_TILE_MULTIPLIER*e),setup.MAX_TILE_OUTSIDE=Math.round(setup.FORTGRID_EXTRA_TILE_MULTIPLIER*t);const r=Array(setup.skill.length).fill(0);for(const s of Object.values(setup.roomtemplate))for(const n of s.raw_skill_bonus)n.bonus_amount||(r[setup.skill[n.skill_key].key]+=1);for(const s of Object.values(setup.roomtemplate))for(const n of s.raw_skill_bonus)if(!n.bonus_amount){let l=setup.ROOM_BONUS_SKILL_BONUS_DEFAULT/r[setup.skill[n.skill_key].key];if(n.type=="adjacent"||n.type=="near"){let u=0;for(const h of n.room_keys){if(!(h in setup.roomtemplate))throw new Error(`Missing room template key ${h} in ${s.key}`);const p=setup.roomtemplate[h];u+=p.max_room_count}l/=u*s.max_room_count}n.bonus_amount=l}for(const s of Object.values(setup.roomtemplate))for(const n of s.raw_skill_bonus)if(n.type=="always")s.skill_bonus.push({type:"always",skill_key:n.skill_key,bonus:n.bonus_amount});else for(const l of n.room_keys){const u={type:n.type,skill_key:n.skill_key,bonus:n.bonus_amount/2,room_template_key:l};if(l==s.key&&(u.bonus*=2),s.skill_bonus.push(u),l!=s.key){if(!(l in setup.roomtemplate))throw new Error(`Missing room template key ${l} in ${s.key}!`);setup.roomtemplate[l].skill_bonus.push({type:u.type,skill_key:u.skill_key,bonus:u.bonus,room_template_key:s.key})}}}getTypeTag(){if(!this.cached_type_tag){const e=this.getTags().filter(t=>setup.TAG_ROOM[t].type=="type");if(!e.length)throw new Error(`Room ${this.key} missing type tag!`);if(e.length!=1)throw new Error(`Room ${this.key} has duplicated type tags!`);this.cached_type_tag=e[0]}return this.cached_type_tag}repTags(){return this.cached_rep_tag===null&&(this.cached_rep_tag=setup.TagHelper.getTagsRep("room",this.getTags())),this.cached_rep_tag}rep(){return setup.repMessage(this,"roomtemplatecardkey")}repFull(){return this.repTags()+setup.repMessage(this,"roomtemplatecardkey")+` (${this.getWidth()} x ${this.getHeight()})`}getImageList(){return this.image_list}getBuildingTemplate(){return this.building_template_key?setup.buildingtemplate[this.building_template_key]:null}getDoorColumn(){return this.door_column}isMainRoom(){const e=this.getBuildingTemplate();return e&&e.getMainRoomTemplate()==this}getName(){if(!this.name&&!this.getBuildingTemplate())throw new Error(`Unknown name for room ${this.key}`);return this.name||this.getBuildingTemplate().getName()}getDescriptionPassage(){return this.description_passage}getTags(){const e=this.tags,t=this.getBuildingTemplate();if(t){const a=setup.TagHelper.getTagsMap("room");return e.concat(t.getTags().filter(r=>r in a))}return e}getWidth(){return this.width}getHeight(){return this.height}getSkillBonus(){return this.skill_bonus}isHasSkillBonusOn(e){return this.getSkillBonus().filter(t=>t.skill_key==e.keyword&&t.bonus>0).length>0}isFixed(){return this.is_fixed}isPassable(){return this.is_passable}isHasDoor(){return this.is_door}isOptional(){return this.is_optional}isOutdoors(){return this.is_outdoors}isHideName(){return this.is_hide_name}isHideSkill(){return this.is_hide_skill}isPortal(){return setup.RoomTemplate.PORTAL_ROOM_TEMPLATE_KEYS.includes(this.key)}static getAllWithTags(e){return Object.values(setup.roomtemplate).filter(t=>{const a=t.getTags();return e.every(r=>a.includes(r))})}static getCreditsByArtist(){const e={};for(const t of Object.values(setup.roomtemplate)){const a=t.getImageList();for(const r of a)r.info&&(r.info.artist in e||(e[r.info.artist]=[]),e[r.info.artist].push(r))}return e}},o(ua,"RoomTemplate"),y(ua,"ROOM_IMAGES",{}),y(ua,"PORTAL_ROOM_TEMPLATE_KEYS",["portalindoors","portaloutdoors"]),ua),setup.initializeRoomImageTable=function(){function i(r,s){const n=[];for(const l in s){const u=`${r}/${l}`,h=s[l],p={path:u,info:h};setup.RoomTemplate.ROOM_IMAGES[u]=p,n.push(p)}return n}o(i,"parseImageList");function e(r,s){return importScripts(r+"/imagemeta.js").then(function(){const n=window.ROOMIMAGE_CREDITS;if(!n)throw new Error(`ROOMIMAGE_CREDITS not found in ${r}`);const l=i(r,n);s.image_list=l,delete window.ROOMIMAGE_CREDITS},()=>{console.log(`Image meta for room ${r} not found`)})}o(e,"Construct");const t="img/room";importScripts("img/room/imagepack.js").then(()=>{const r=window.ROOMIMAGEPACK;delete window.ROOMIMAGEPACK;for(const s in r){const n=r[s];n.images&&(setup.roomtemplate[s].image_list=n.images.map(l=>{const u={path:`${t}/${s}/${l.path}`,info:l.info};return setup.RoomTemplate.ROOM_IMAGES[u.path]=u,u}))}},()=>{for(const r of Object.values(setup.roomtemplate))e(`${t}/${r.key}`,r)})};const PE={zoom0_25:.25,zoom0_5:.5,zoom0_75:.75,zoom1_25:1.25,zoom1_5:1.5,zoom1_75:1.75,zoom2:2,zoom2_5:2.5,zoom3:3,zoom4:4};function ub(i,e,t){return i&&e&&t?4:i+e*2}o(ub,"encode"),setup.Tile=(si=class extends setup.TwineClass{constructor(e){super(),this.location=e,this.room_key=null,this.room_key_entrances=[],this.is_top_left_of_room=!1,this.is_path=!1}isPath(){return this.is_path}setPath(){this.is_path=!0}removePath(){this.is_path=!1}getPathDirectionId(){const e=this.getLocation();let t=[];for(const[a,r]of[[-1,0],[0,1],[1,0],[0,-1],[-1,-1],[-1,1],[1,1],[1,-1]]){const s={row:e.row+a,col:e.col+r};if(State.variables.fortgrid.isOutOfBounds(s)){t.push(0);continue}let n=0;const l=State.variables.fortgrid.getTile(s);if(l.isPath()&&(n=1),!n&&!l.isPassable()&&l.getRoomInstance().getTemplate().isHasDoor()){const h=l.getRoomInstance().getEntranceLocation();h.row==e.row&&h.col==e.col&&(n=1)}t.push(n)}return[ub(t[0],t[3],t[4]),ub(t[0],t[1],t[5]),ub(t[2],t[1],t[6]),ub(t[2],t[3],t[7])]}setRoomInstance(e,t){if(this.room_key)throw new Error(`Duplicate room on the same tile: ${this.location.row} ${this.location.col} ${this.room_key}`);this.room_key=e.key,this.is_top_left_of_room=t}unsetRoomInstance(){this.room_key=null,this.is_top_left_of_room=!1}setEntranceOf(e){this.room_key_entrances.push(e.key)}unsetEntranceOf(e){if(!this.room_key_entrances.includes(e.key))throw new Error("unsetting entrance of something that does not exist");this.room_key_entrances=this.room_key_entrances.filter(t=>t!=e.key)}getLocation(){return this.location}getRoomInstance(){return this.room_key?State.variables.roominstance[this.room_key]:null}entranceOfRooms(){return this.room_key_entrances.map(e=>State.variables.roominstance[e])}isTopLeftOfRoom(){return this.is_top_left_of_room}isOutdoors(){return this.getLocation().row>0}isPassable(){const e=this.getRoomInstance();return e?e.getTemplate().isPassable():!0}isWalled(){const e=this.getRoomInstance();return e?e.isWalled():!1}getTileDisplay(){const e=this.getRoomInstance();if(e&&!this.isTopLeftOfRoom())return"";let t,a,r,s,n,l,u=!1,h;this.isOutdoors()?h="outdoors":h="indoors";let p="",c=[],d=["tile-main-image"],g=setup.rng.choice([1,2,3,4]);const m=si.getTileSize();if(e)if(t=e.getImage(),a=`<<roominstancecardkey ${e.key}>>`,n=e.getWidth()*m,l=e.getHeight()*m,r=e.getTemplate().getWidth()*m,s=e.getTemplate().getHeight()*m,p="",e.isShouldRotateImage()){(r!=n||s!=l)&&(p+=`translate(${(n-r)/2}px, ${(l-s)/2}px)`);const _=e.getClockwiseRotations();_&&(p+=` rotate(${90*_}deg)`)}else r=n,s=l;else n=l=r=s=m,this.entranceOfRooms().filter(_=>_.isWalled()&&_.getClockwiseRotations()==0).length?(t=`img/room/${h}_entrance${g}.png`,u=!0):t=`img/room/${h}_empty${g}.png`,a="";c.push(`tile-${h}`),e?e.getImageObject()||d.push(`tile-type-${e.getTemplate().getTypeTag()}`):this.entranceOfRooms().length?d.push("tile-entrance"):d.push("tile-empty"),State.variables.menufilter.get("fortgrid","show_tooltip")=="hide"&&(a="");let f="";if(e&&!e.getTemplate().isHideName()&&State.variables.menufilter.get("fortgrid","show_caption")!="hide"&&(f+=`<div class='tile-caption'>${e.getName()}</div>`),e&&!e.getTemplate().isHideSkill()&&State.variables.menufilter.get("fortgrid","show_skills")!="hide"){const _=setup.SkillHelper.explainSkills(e.getSkillBonuses(),!1,!0);_&&(f+=`<div class='tile-caption-bottom'>${_}</div>`)}let b="";if(!e&&this.isPath()){const _=this.getPathDirectionId();let T=m/2;for(let[E,x,W,X]of[[0,"nw",0,0],[1,"ne",0,1],[2,"se",1,1],[3,"sw",1,0]]){const se=`img/room/${h}-path-${x}-${_[E]}.png`,ae=setup.escapeHtml(setup.resolveImageUrl(se));b+=`<div class="tile-path" style="width: ${T}px; height: ${T}px; top:${T*W}px; left:${T*X}px"><img style="width:${T}px; height:${T}px;" src="${ae}"/></div>`}}if(!u&&!this.isWalled())for(let _=0;_<(e?e.getWidth():1);++_){const T={row:this.getLocation().row-1,col:this.getLocation().col+_};if(!State.variables.fortgrid.isOutOfBounds(T)&&State.variables.fortgrid.getTile(T).isWalled()){const x=`img/room/${h}_wall${g}.png`,W=setup.escapeHtml(setup.resolveImageUrl(x));b+=`<div class="tile-extra-wall" style="top:0px; left:${m*_}px"><img style="width:${m}px; height:${m}px;" src="${W}"/></div>`}}let v="";if(e&&State.variables.gFortGridControl&&State.variables.gFortGridControl.mode=="view"&&State.variables.menufilter.get("fortgrid","show_activities")!="hide"){const _=State.variables.activitylist.getActivityAt(e);_&&(v+=`<span class='activity-unit-container'>${_.getDisplay()}</span>`)}const S=`img/room/${h}_floor${g}.png`,M=setup.escapeHtml(setup.resolveImageUrl(S)),k=setup.escapeHtml(setup.resolveImageUrl(t));return`${v}<div style="background-image: url('${M}'); width:${n}px; height:${l}px" class="${c.join(" ")}" ${a?`data-tooltip="${a}"`:""}>${b}<img ${p?`style="transform: ${p};"`:""} width="${r}" height="${s}" class="${d.join(" ")}" src="${k}"/>${f}</div>`}static getTileSize(){const e=State.variables.menufilter.get("fortgrid","zoom");return e?Math.round(setup.FORTGRID_TILE_SIZE*PE[e]):setup.FORTGRID_TILE_SIZE}},o(si,"Tile"),si),setup.Sex={},setup.Sex.TRAIT_MULTI_LOW=.2,setup.Sex.TRAIT_MULTI_MEDIUM=.4,setup.Sex.TRAIT_MULTI_HIGH=.6,setup.Sex.STRAPON_GIVE_PLEASURE_MULTI=.75,setup.Sex.STRAPON_GET_PLEASURE_MULTI=.5,setup.Sex.AROUSAL_MAX=1e3,setup.Sex.AROUSAL_ORGASM_THRESHOLD=800,setup.Sex.AROUSAL_DECAY=.03,setup.Sex.AROUSAL_TINY=10,setup.Sex.AROUSAL_SMALL=40,setup.Sex.AROUSAL_SMALLMEDIUM=60,setup.Sex.AROUSAL_MEDIUM=80,setup.Sex.AROUSAL_MEDIUMLARGE=120,setup.Sex.AROUSAL_LARGE=160,setup.Sex.AROUSAL_HUGE=240,setup.Sex.AROUSAL_ICON="img/special/arousal.svg",setup.Sex.DISCOMFORT_MAX=1e3,setup.Sex.DISCOMFORT_RESIST_INITIAL=500,setup.Sex.DISCOMFORT_DECAY=.1,setup.Sex.DISCOMFORT_AROUSAL_REDUCTION=.1,setup.Sex.DISCOMFORT_MASOCHIST_AROUSAL_MULTIPLIER=.5,setup.Sex.DISCOMFORT_TOUGH_MULTIPLIER=.5,setup.Sex.DISCOMFORT_NIMBLE_MULTIPLIER=2,setup.Sex.DISCOMFORT_ORGASM_REDUCTION=500,setup.Sex.DISCOMFORT_TINY=10,setup.Sex.DISCOMFORT_TINYSMALL=30,setup.Sex.DISCOMFORT_SMALL=50,setup.Sex.DISCOMFORT_SMALLMEDIUM=75,setup.Sex.DISCOMFORT_MEDIUM=100,setup.Sex.DISCOMFORT_MEDIUMLARGE=140,setup.Sex.DISCOMFORT_LARGE=200,setup.Sex.DISCOMFORT_HUGE=400,setup.Sex.DISCOMFORT_ICON="img/special/discomfort.svg",setup.Sex.ENERGY_MAX=1e3,setup.Sex.ENERGY_DEPLETED_AROUSAL_MULTIPLIER=.3,setup.Sex.ENERGY_TINY=-1,setup.Sex.ENERGY_SMALL=-5,setup.Sex.ENERGY_SMALLMEDIUM=-7,setup.Sex.ENERGY_MEDIUM=-10,setup.Sex.ENERGY_MEDIUMLARGE=-15,setup.Sex.ENERGY_LARGE=-25,setup.Sex.ENERGY_HUGE=-50,setup.Sex.ENERGY_ORGASM_REDUCTION=200,setup.Sex.ENERGY_ICON="img/special/energy.svg",setup.Sex.AI_END_PENETRATION_SUB_WEIGHT=200,setup.Sex.AI_POSITION_CHANGE_MAX_ATTEMPTS=5,setup.Sex.AI_POSE_CHANGE_MAX_ATTEMPTS={dom:4,normal:2,sub:1,resist:1,forced:1,mindbroken:1},setup.Sex.AI_POSE_CHANGE_PLAN_CHANCE=.5,setup.Sex.AI_POSITION_CHANGE_PLAN_CHANCE=.2,setup.Sex.AI_END_SEX_CHANCE=.1,setup.Sex.DISCOMFORT_MIN_TRIGGER=400,setup.Sex.DISCOMFORT_MAX_TRIGGER=900,setup.Sex.AROUSAL_MIN_TRIGGER=200,setup.Sex.AROUSAL_MAX_TRIGGER=600,setup.Sex.AROUSAL_PENETRATION_SCORE={per_chaste:[200,0],per_lustful:[300,200,100,50,25,10,0],per_sexaddict:[400],per_lunatic:[100],default:[200,100,0]},setup.Sex.UI_PLAYER_ACTIONS=5,setup.Sex.BODYPART_SIZE_TRAINING_BASIC=1,setup.Sex.BODYPART_SIZE_TRAINING_ADVANCED=2,setup.Sex.BODYPART_SIZE_TRAINING_MASTER=3,setup.Sex.BODYPART_MAX_SIZE=6,setup.Sex.BODYPART_SIZE_DIFFERENCE_DISCOMFORT_MULTIPLIER_GIVER=[0,0,.2,.4,.6,.8,1,1.1,1.2,1.3,1.4,1.5,1.6],setup.Sex.BODYPART_SIZE_DIFFERENCE_DISCOMFORT_MULTIPLIER_RECEIVER=[0,0,.2,.4,.6,.8,1,1.2,1.5,2,3,4,6],setup.Sex.BODYPART_SIZE_DIFFERENCE_AROUSAL_MULTIPLIER_GIVER=[.5,.7,.8,.9,1,1,1,1.1,1.2,1.3,1.4,1.5,1.7],setup.Sex.BODYPART_SIZE_DIFFERENCE_AROUSAL_MULTIPLIER_RECEIVER=[.5,.7,.8,.9,1,1,1,1.1,1.2,1.3,1.4,1.5,1],setup.Sex.AMBIENCE_TURNS=10,setup.SexActionClass={},setup.SexAction=(ni=class extends setup.TwineClassCustom{constructor(e,t){if(super(),this.getActorDescriptions().length!=e.length)throw new Error("Incorrect number of units for sex action");if(this.unit_keys=e.map(r=>r.key),this.unit_keys.length>setup.SexAction.ACTOR_NAMES.length)throw new Error("Too many actors in SexAction!")}getContainer(){return"setup.SexActionClass"}getActorDescriptions(){return[]}getTags(){return[]}getRestrictions(){return[]}getOutcomes(){return[]}getArousalMultiplier(e,t,a){return 1}getDiscomfortMultiplier(e,t,a){return 1}getEnergyMultiplier(e,t,a){return 1}getUnits(){return this.unit_keys.map(e=>State.variables.unit[e])}getUnitCount(){return this.unit_keys.length}getActorName(e){return setup.SexAction.ACTOR_NAMES[this.getUnits().indexOf(e)]}getActorDescription(e,t){const a=this.getUnits().indexOf(e);return this.getActorDescriptions()[a]}getActorUnit(e){for(let t=0;t<setup.SexAction.ACTOR_NAMES.length;++t)if(e==setup.SexAction.ACTOR_NAMES[t])return this.getUnits()[t];throw new Error(`Missing actor ${e} in SexAction!`)}getActorObj(){const e={},t=this.getUnits();for(let a=0;a<t.length;++a)e[setup.SexAction.ACTOR_NAMES[a]]=t[a];return e}isAllowed(e){if(!setup.RestrictionLib.isPrerequisitesSatisfied(this,this.getRestrictions()))return!1;const t=this.getUnits();for(const a of t){const r=this.getActorDescription(a,e);if(!setup.RestrictionLib.isUnitSatisfy(a,r.restrictions||[]))return!1}return!State.variables.settings.isSexActionDisabled(this)}isAIAllowed(e,t){for(const r of this.getUnits()){const s=this.getActorDescription(r,t).paces,n=t.getPace(r);if(!s.includes(n))return!1}return!!t.getPermission(e).isActionAllowed(this,t)}getArousalBase(e,t){return this.getActorDescription(e,t).arousal}getArousal(e,t){this.getActorDescription(e,t);let a=this.getArousalBase(e,t);if(a*=this.getArousalMultiplier(this.getActorName(e),e,t),a>0){const r=t.getEnergy(e)/setup.Sex.ENERGY_MAX,s=setup.Sex.ENERGY_DEPLETED_AROUSAL_MULTIPLIER;a=(s+(1-s)*r)*a,e.isMasochistic()&&(a+=this.getDiscomfort(e,t)*setup.Sex.DISCOMFORT_MASOCHIST_AROUSAL_MULTIPLIER)}return Math.round(a)}getDiscomfortBase(e,t){return this.getActorDescription(e,t).discomfort}getDiscomfort(e,t){this.getActorDescription(e,t);let a=this.getDiscomfortBase(e,t);return a*=this.getDiscomfortMultiplier(this.getActorName(e),e,t),a>0&&(e.isHasTrait("tough_tough")?a*=setup.Sex.DISCOMFORT_TOUGH_MULTIPLIER:e.isHasTrait("tough_nimble")&&(a*=setup.Sex.DISCOMFORT_NIMBLE_MULTIPLIER)),Math.round(a)}getEnergy(e,t){this.getActorDescription(e,t);let a=this.getActorDescription(e,t).energy;return a*=this.getEnergyMultiplier(this.getActorName(e),e,t),Math.round(a)}applyOutcomes(e){setup.RestrictionLib.applyAll(this.getOutcomes(),this);const t=this.getUnits();for(const a of t){const r=this.getArousal(a,e);r&&e.adjustArousal(a,r);const s=this.getDiscomfort(a,e);s&&e.adjustDiscomfort(a,s);const n=this.getEnergy(a,e);n&&e.adjustEnergy(a,n)}}isVisibleInClassroom(){if(!this.desc())return!1;const t=this.getRestrictions();for(const a of t)if((a instanceof setup.qresImpl.HasItem||a instanceof setup.qresImpl.Building||a instanceof setup.qresImpl.HasAnyItemAnywhere||a instanceof setup.qresImpl.QuestDone)&&!a.isOk(this))return!1;return!0}desc(){return""}rawTitle(e){return""}rawDescription(e){return""}rawStory(e){return""}title(e){return setup.Text.replaceUnitMacros(this.rawTitle(e),this.getActorObj())}description(e){return setup.Text.replaceUnitMacros(this.rawDescription(e),this.getActorObj())}story(e){return setup.SexUtil.convert(this.rawStory(e),this.getActorObj(),e)}rep(e){return`<span data-tooltip="${setup.escapeHtml(this.description(e))}">${this.title(e)}</span>`}static getAllSexActions(){return Object.values(setup.SexActionClass)}},o(ni,"SexAction"),y(ni,"ACTOR_NAMES",["a","b","c"]),ni),setup.SexUtil={},setup.SexUtil.convert=function(i,e,t){let a;if(Array.isArray(i)?a=setup.rng.choice(i):a=i,t){const r={a_moan:o(s=>setup.Article(setup.SexText.moan(s,t)),"a_moan"),A_moan:o(s=>setup.Article(setup.SexText.moan(s,t),!0),"A_moan"),moans:o(s=>`${setup.SexText.moan(s,t)}s`,"moans"),a_sob:o(s=>setup.Article(setup.SexText.sob(s,t)),"a_sob"),A_sob:o(s=>setup.Article(setup.SexText.sob(s,t),!0),"A_sob"),sobs:o(s=>`${setup.SexText.sob(s,t)}s`,"sobs"),eagerly:o(s=>t.getPace(s).repAdverb(s,t),"eagerly"),Eagerly:o(s=>setup.capitalize(t.getPace(s).repAdverb(s,t)),"Eagerly")};a=a.replace(/(\w+)\|([\w_]+)/g,(s,n,l)=>{if(l in r){const u=e[n];if(u)return r[l](u)}return`${n}|${l}`})}return setup.Text.replaceUnitMacros(a,e)},setup.SexUtil.repArousal=function(i){const e=Math.round((1e3-i)/1e3*255);return`<span
  style="color:rgb(${e}, 255, ${e})"
  data-tooltip="Arousal: How close this unit is to climax">
    ${(i/10).toFixed(1)} ${setup.repImgIcon(setup.Sex.AROUSAL_ICON)}
  </span>`},setup.SexUtil.repDiscomfort=function(i){return`<span
  style="color:rgb(255, 255, ${Math.round((1e3-i)/1e3*255)})"
  data-tooltip="Discomfort: Amount of discomfort this unit is having from this intercourse">
    ${(i/10).toFixed(1)} ${setup.repImgIcon(setup.Sex.DISCOMFORT_ICON)}
  </span>`},setup.SexUtil.repEnergy=function(i){const e=Math.round((1e3-i)/1e3*255);return`<span
  style="color:rgb(${e}, ${e}, 255)"
  data-tooltip="Energy: How much energy left in this unit for sex action">
    ${(i/10).toFixed(1)} ${setup.repImgIcon(setup.Sex.ENERGY_ICON)}
  </span>`},setup.SexUtil.sumTraitMultipliers=function(i,e){for(const r in e)if(r!="default"&&!(r in setup.trait))throw new Error(`Unknown trait in calculateTraitMultiplier: ${r}`);let t=!1,a=0;for(const r in e)if(r!="default"){if(!(r in setup.trait))throw new Error(`unknown trait: ${r}`);i.isHasTraitExact(r)&&(t=!0,a+=e[r])}return!t&&"default"in e&&(a+=e.default),a},setup.SexUtil.calculateTraitMultiplier=function(i,e){const t=setup.SexUtil.sumTraitMultipliers(i,e)+1;return Math.max(t,0)},setup.SexUtil.traitSelect=function(i,e){let t=e.default;for(const a in e)if(a!="default"&&i.isHasTraitExact(a))return e[a];if(!t)throw new Error('Missing "default" in trait_choices!');return t},setup.SexUtil.traitSelectArray=function(i,e){const t=setup.SexUtil.traitSelect(i,e);if(!t.length)throw new Error(`No selection for traitselectarray for unit ${i.key}`);return setup.rng.choice(t)},setup.SexUtil.SexSanityChecks=function(){for(const i of setup.SexAction.getAllSexActions()){const e=Object.create(i.prototype),t=e.getActorDescriptions();if(t.length==0||t.length>setup.SexAction.ACTOR_NAMES.length)throw new Error(`Incorrect actor length for ${i.name}`);for(const l of t)if(!l.paces)throw new Error(`Missing paces in cctor of ${i.name}`);const a=e.getTags();for(const l of a)if(!(l in setup.TAG_SEXACTION))throw new Error(`Unknown tag ${l} in ${i.name}`);if(a.filter(l=>["sub","dom","normal"].includes(l)).length!=1)throw new Error(`Odd number of sub/dom/normal tag for Sex Action: ${i.name}`);const s=e.getRestrictions();if(!Array.isArray(s))throw new Error(`Restrictions of ${i.name} must be an array`);const n=e.getOutcomes();if(!Array.isArray(n))throw new Error(`Outcomes of ${i.name} must be an array`)}for(const i of setup.SexPermission.getAllPermissions())for(const e of i.getDisallowedTags())if(!(e in setup.TAG_SEXACTION))throw new Error(`Unknown tag in permission ${i.key}: ${e}`)},setup.SlaveOrder=(an=class extends setup.TwineClass{constructor(t,a,r,s,n,l,u,h,p,c){super();y(this,"getUnit",o(function(){return this.unit_key?State.variables.unit[this.unit_key]:null},"getUnit"));if(this.key=State.variables.SlaveOrder_keygen,State.variables.SlaveOrder_keygen+=1,!t)throw new Error("missing name for slave order");if(this.name=t,a?this.source_company_key=setup.keyOrSelf(a):this.source_company_key=null,!r)throw new Error(`missing criteria for ${t}`);if(this.criteria=setup.deepCopy(r),this.base_price=s,this.trait_multiplier=n,this.value_multiplier=l,this.expires_in=u,this.unit_key=null,this.is_ignored=!1,c?this.destination_unit_group_key=c.key:this.destination_unit_group_key=null,h?this.fulfilled_outcomes=setup.deepCopy(h):this.fulfilled_outcomes=[],p?this.unfulfilled_outcomes=setup.deepCopy(p):this.unfulfilled_outcomes=[],this.key in State.variables.slaveorder)throw new Error(`Duplicate slave order ${this.key}`);State.variables.slaveorder[this.key]=this,State.variables.slaveorderlist._addSlaveOrder(this)}delete(){delete State.variables.slaveorder[this.key]}rep(){return setup.repMessage(this,"slaveordercardkey")}doUnfulfill(){let t=this.getUnfulfilledOutcomes();for(let a=0;a<t.length;++a)t[a].apply(this)}fulfillMoney(t){State.variables.company.player.addMoney(t)}fulfill(t){if(State.variables.statistics.add("slave_order_fulfilled",1),State.variables.statistics.setMax("slave_order_slave_value_max",t.getSlaveValue()),this.unit_key)throw new Error("Already fulfilled");this.unit_key=t.key;let a=this.getFulfillPrice(t);State.variables.statistics.setMax("slave_order_money_max",a),State.variables.statistics.add("slave_order_money_sum",a),this.fulfillMoney(a);let r=this.getFulfilledOutcomes();for(let n=0;n<r.length;++n)r[n].apply(this);if(State.variables.slaveorderlist.archiveSlaveOrder(this),t.addHistory(` sold for ${a}g to fulfill ${this.getName()}`),t.isYourCompany())State.variables.company.player.removeUnit(t);else{const n=t.getMarket();if(!n)throw new Error("Unit must either be in your company or in the slave pens to be sold to slave order");const l=n.getMarketObject(t);n.removeObjectAndCheckDelete(l)}let s=this.getDestinationUnitGroup();s?s.addUnit(t):setup.unitgroup.none.addUnit(t)}isFulfilled(){return this.unit_key}getFulfillPrice(t){let r=this.getCriteria().computeSuccessModifiers(t,!0),s=r.crit-r.disaster+(r.success-r.failure);return s*=this.trait_multiplier,s+=this.base_price,s+=this.value_multiplier*t.getSlaveValue(),Math.round(s)}isSatisfyRestrictions(t){return!(t.isYourCompany()&&t.isBusy()||!this.getCriteria().isCanAssign(t))}isCanFulfill(t){return!(!this.isSatisfyRestrictions(t)||t.getParty()||this.getFulfillPrice(t)<=0)}getDestinationUnitGroup(){return this.destination_unit_group_key?setup.unitgroup[this.destination_unit_group_key]:null}getSourceCompany(){if(!this.source_company_key)return null;const t=State.variables.company[this.source_company_key];if(!t)throw new Error(`Missing source company for slave order with key: ${this.source_company_key}`);return t}getName(){return this.name}isExpired(){return this.getExpiresIn()<=0}getExpiresIn(){return this.expires_in}isCannotExpire(){return this.getExpiresIn()==setup.INFINITY}advanceWeek(){this.expires_in!=setup.INFINITY&&(this.expires_in-=1)}getFulfilledOutcomes(){return this.fulfilled_outcomes}getUnfulfilledOutcomes(){return this.unfulfilled_outcomes}getCriteria(){return this.criteria}explainFulfilled(){const t=[];this.base_price&&t.push(setup.DOM.toString(setup.DOM.Util.money(this.base_price))),this.trait_multiplier&&t.push(`${setup.DOM.toString(setup.DOM.Util.money(this.trait_multiplier))} x traits`),this.value_multiplier&&t.push(`${this.value_multiplier.toFixed(2)} x value`);let a=t.join(" + ");return html`
      ${a}
      ${setup.DOM.Card.cost(this.getFulfilledOutcomes(),this)}
    `}isIgnored(){return this.is_ignored}toggleIsIgnored(){this.is_ignored=!this.isIgnored()}getSeed(){return this.seed?this.seed:(this.seed=1+Math.floor(Math.random()*999999997),this.seed)}},o(an,"SlaveOrder"),an),setup.SlaveOrderItem=(rn=class extends setup.SlaveOrder{constructor(e,t,a,r,s,n,l,u,h,p,c,d){super(e,t,a,r,s,n,l,u,h,p),this.item_key=c.key,this.maximum=d}getMaximum(){return this.maximum}getItem(){return setup.item[this.item_key]}fulfillMoney(e){const t=Math.min(Math.floor(e/this.getItem().getValue()),this.getMaximum()),a=setup.qc.Item(this.getItem());for(let r=0;r<t;++r)a.apply()}isCanFulfill(e){return this.getFulfillPrice(e)<this.getItem().getValue()?!1:super.isCanFulfill(e)}},o(rn,"SlaveOrderItem"),rn),setup.SlaveOrderList=(sn=class extends setup.TwineClass{constructor(){super(),this.slave_order_keys=[]}advanceWeek(){let e=this.getSlaveOrders(),t=[];for(let a=0;a<e.length;++a){let r=e[a];r.advanceWeek(),r.isExpired()&&t.push(r)}for(let a=0;a<t.length;++a)this.archiveSlaveOrder(t[a])}archiveSlaveOrder(e){if(!this.slave_order_keys.includes(e.key))throw new Error("slave order not found");e.isFulfilled()||e.doUnfulfill(),this.slave_order_keys=this.slave_order_keys.filter(t=>t!=e.key),setup.queueDelete(e,"slaveorder")}getSlaveOrders(){return this.slave_order_keys.map(e=>State.variables.slaveorder[e])}countSlaveOrders(){return this.slave_order_keys.length}_addSlaveOrder(e){State.variables.statistics.add("slave_order_obtained",1),this.slave_order_keys.push(e.key),setup.notify(`${e.rep()}`)}},o(sn,"SlaveOrderList"),sn),setup.BUILDING_TAGS={critical:{type:"unique",title:"Key Improvement",description:"A critical improvement for any slaving company"},unlocker:{type:"unique",title:"Unlocker",description:"Improvements that unlocks other improvements"},structural:{type:"type",title:"Structural",description:"Foundations of your fort"},accomodation:{type:"type",title:"Accomodation",description:"A place to call home"},hiring:{type:"type",title:"Hiring",description:"Helps in recruiting slavers and obtaining slaves"},office:{type:"type",title:"Office",description:"Desk job and red tape"},scout:{type:"type",title:"Scout",description:"Enables you to scout more quests"},storage:{type:"type",title:"Inventory",description:"Dealing with items and equipments"},training:{type:"type",title:"Slave Training",description:"For training your slaves"},recreation:{type:"type",title:"Recreation",description:"Recreation Wing and its upgrades"},heal:{type:"type",title:"Heal",description:"Healing and treating your units"},corruption:{type:"type",title:"Corruption",description:"Ritual chamber and its upgrades, for corrupting your units"},purification:{type:"type",title:"Purification",description:"Temple and its upgrades, for purifying your units"},biolab:{type:"type",title:"Flesh-shaping",description:"Biolab and its upgrades, for transforming your units"},decoration:{type:"type",title:"Decoration",description:"Fort decoration and minor skill boosts"},misc:{type:"type",title:"Miscellaneous",description:"Other improvements essentials for your fort"}},setup.TAG_LORE={concept:{type:"type",title:"Concept",description:"Important concepts and principles of the workings of this world"},region:{type:"type",title:"Region",description:"A scoutable region"},race:{type:"type",title:"Race",description:"The various races coexisting in the world"},location:{type:"type",title:"Location",description:"Man-made landmark of the land"},person:{type:"type",title:"Person",description:"A person of particular importance"},geo:{type:"type",title:"Geo",description:"Geographical features of the land"},history:{type:"type",title:"history",description:"A thing of the past"},culture:{type:"type",title:"Culture",description:"A way of life"}},setup.QUESTTAGS={maleonly:{type:"fetish",hide:!0,title:"Male unit only",description:"Content that only gives male slaves / male slavers"},femaleonly:{type:"fetish",hide:!0,title:"Female unit only",description:"Content that only gives female slaves / female slavers"},furry:{type:"fetish",hide:!0,title:"Furry",description:"Heavy emphasis on furry species such as werewolves and tigerkin. This does not completely ban all furry content -- just those that feature furries in a sexual way. Neko (cat ears but otherwise human) are not considered furries"},scaley:{type:"fetish",hide:!0,title:"Scaley",description:"Heavy emphasis on scaley species such as lizardkin and dragonkin. This does not completely ban all scaley content -- just those that feature scalies in a sexual way"},transformation:{type:"fetish",hide:!0,title:"Transformation",description:"Heavy emphasis on physical and bodily transformation"},watersport:{type:"fetish",hide:!0,title:"Watersport",description:"Heavy emphasis on the consumption of urine. Note that banning watersport does not ban watersport slave training, but will instead censor all its descriptions. There are only few of this content in the game. Extreme versions of this fetish are not included in the game, due to legal reasons"},monstersex:{type:"fetish",hide:!0,title:"Monster sex",description:"Heavy emphasis on sexual intercourse with monsters and other non-humanlikes. There are only an extremely limited amount of this content in the game. Bestiality is not included, due to legal reasons"},gore:{type:"fetish",hide:!0,title:"Blood",description:"Containing description of blood and mild violence. The game does not contain excessive violence"},breeding:{type:"fetish",hide:!0,title:"Breeding",description:"Heavy emphasis procreating. Note that playable units cannot become pregnant. Instead, some quests may contain brief mentions of pregnancy and/or breeding. There are only an extremely limited amount of this content in the game"},vale:{type:"region",hide:!0,title:"Northern Vale",description:"Located in the <<lore region_vale>>"},forest:{type:"region",hide:!0,title:"Western Forest",description:"Located in the <<lore region_forest>>"},city:{type:"region",hide:!0,title:"City of Lucgate",description:"Located in the <<lore region_city>>"},deep:{type:"region",hide:!0,title:"Deeprealm",description:"Located in the <<lore region_deep>>"},desert:{type:"region",hide:!0,title:"Eastern Desert",description:"Located in the <<lore region_desert>>"},sea:{type:"region",hide:!0,title:"Southern Seas",description:"Located in the <<lore region_sea>>"},fort:{type:"region",hide:!0,title:"Fort",description:"Located in your fort"},rare:{type:"rarity",title:"Rare",description:"Does not appear often"},legendary:{type:"rarity",title:"Extremely Rare",description:"An extremely rare opportunity"},special:{type:"rarity",title:"Special",description:"Needs your immediate attention"},veteran:{type:"type",title:"Veteran",description:"A quest that is only scouted after you build the Veteran Hall"},prep:{type:"type",title:"Extra preparation",description:"Requires specialized units to do"},contact:{type:"type",title:"Repeat",description:"Repeatable quest given by one of your contacts"},danger:{type:"reward",title:"Danger",description:"Highly dangerous quest"},money:{type:"reward",title:"Money",description:"Probably rewards money"},item:{type:"reward",title:"Item",description:"Probably gives you some kind of loot"},quest:{type:"reward",title:"Quest",description:"Probably gives you quest leads"},unit:{type:"reward",title:"Unit",description:"Probably gives you slaves or slavers"},order:{type:"reward",title:"Order",description:"Probably allows you to sell your slaves"},favor:{type:"reward",title:"Favor",description:"Probably gains you favor with other companies"},ire:{type:"reward",title:"Ire",description:"Probably makes your company less popular with some other companies"},trait:{type:"reward",title:"Improvement",description:"Probably alters your unit"},upgrade:{type:"reward",title:"Upgrade",description:"Probably improves your fort"},unknown:{type:"reward",title:"???",description:"Who knows what else this quest might reward..."},playercapture:{type:"hidden",hide:!0,title:"Events for when the player is captured",description:"A random event with this tag will be chosen when the player is captured"}},setup.QUESTTAGS_DEFAULT_PANORAMA="questcardfort",setup.QUESTTAGS_PANORAMA={vale:"questcardvale",forest:"questcardforest",city:"questcardcity",deep:"questcarddeep",desert:"questcarddesert",sea:"questcardsea",fort:"questcardfort"},setup.QUESTTAGS_BORDER={rare:"questcardborder_rare",legendary:"questcardborder_legendary",special:"questcardborder_special"},setup.TAG_ROOM={hidename:{type:"hidden",title:"Hide name",description:"Hide name",hide:!0},hideskill:{type:"hidden",title:"Hide skills",description:"Hide skills",hide:!0},indoors:{type:"location",title:"Indoors",description:"Must be build indoors"},outdoors:{type:"location",title:"Indoors",description:"Must be build outdoors"},nodoor:{type:"unique",title:"Object",description:"Not a room and does not have an entrance"},passable:{type:"unique",title:"Passable",description:"Act like an empty space and can be a part of a path"},optional:{type:"unique",title:"Optional",description:"Can be optionally removed from your fort"},fixed:{type:"unique",title:"Fixed",description:"Cannot be moved"}};for(const i in setup.BUILDING_TAGS){const e=setup.BUILDING_TAGS[i];if(e.type=="type"){if(i in setup.TAG_ROOM)throw new Error(`Duplicated room/building tag: ${i}`);setup.TAG_ROOM[i]=e}}setup.TAG_SEXACTION={endsex:{type:"class",description:"Ends sex",hide:!0},orgasm:{type:"class",description:"Orgasms",hide:!0},positionself:{type:"class",description:"Changes own position",hide:!0},positionother:{type:"class",description:"Changes other's position",hide:!0},poseself:{type:"class",description:"Changes own pose",hide:!0},poseother:{type:"class",description:"Changes other's pose",hide:!0},equipmentself:{type:"class",description:"Changes self's equipment",hide:!0},equipmentother:{type:"class",description:"Changes other's equipment",hide:!0},penetrationstartdom:{type:"class",description:"Initiates a penetration as a dom",hide:!0},penetrationstartsub:{type:"class",description:"Initiates a penetration as a sub",hide:!0},penetrationenddom:{type:"class",description:"Ends a penetration as a dom",hide:!0},penetrationendsub:{type:"class",description:"Ends a penetration as a sub",hide:!0},dom:{type:"subdom",title:"Dominant",description:"Leaning towards a dominant action"},normal:{type:"subdom",title:"Neutral",description:"Does not particularly lean towards dominant or submissive"},sub:{type:"subdom",title:"Submissive",description:"Leaning towards a submissive action"},orgasm_type:{type:"type",title:"Orgasm",description:"Reach climax"},penetration:{type:"type",title:"Penetration",description:"Initiates a penetration"},discomfort:{type:"type",title:"Discomforting",description:"Gives significant discomfort"},relief:{type:"type",title:"Relieving",description:"Reduces discomfort"},pose:{type:"type",title:"Pose",description:"A sexual pose"},equipment:{type:"type",title:"Equipment",description:"Special equipment to use during sex"},anus:{type:"bodypart",title:"Anus",description:"Involves the anus"},arms:{type:"bodypart",title:"Arms",description:"Involves use of the hands or fingers"},breasts:{type:"bodypart",title:"Breasts",description:"Involves nipples or breasts"},legs:{type:"bodypart",title:"Legs",description:"Involves the use of the feet"},mouth:{type:"bodypart",title:"Mouth",description:"Involves the mouth"},penis:{type:"bodypart",title:"Penis",description:"Involves the penis or strap-on"},tail:{type:"bodypart",title:"Tail",description:"Involves use of the tail"},vagina:{type:"bodypart",title:"Vagina",description:"Involves the vagina"},nobodypart:{type:"bodypart",title:"No associated bodypart",description:"Does not particularly involve any bodypart"}},setup.TAG_TRAIT={gender:{type:"type",title:"Gender",description:"Which genitals do the unit has"},race:{type:"type",title:"Race",description:"The umbrella species of the unit"},subrace:{type:"type",title:"Subrace",description:"The specific species of the unit"},bg:{type:"type",title:"Background",description:"What the unit hails from"},physical:{type:"type",title:"Physical",description:"Physical attributes of the unit"},per:{type:"type",title:"Personality",description:"The unit's personalities"},skill:{type:"type",title:"Skill",description:"Special skills possessed by the unit"},perk:{type:"type",title:"Perk",description:"Perks learnable by units at certain levels"},blessingcurse:{type:"type",title:"Blessing / Curse",description:"Traits that protect / amplify an ailments on a unit"},equipment:{type:"type",title:"Equipment",description:"How the unit dress"},training:{type:"type",title:"Training",description:"Slave trainings"},will:{type:"type",title:"Defiance",description:"Prevents slave from being trained until removed"},computed:{type:"type",title:"Computed",description:"Traits that are computed based on other factors"},skin:{type:"type",title:"Bodyparts",description:"Non-human-like bodyparts of the unit"},temporary:{type:"type",title:"Temporary",description:"Traits that will go away with time"}},setup.TAG_UNITACTION={training:{type:"type",title:"Training",description:"Trains the slave in the art of servicing their betters"},purification:{type:"type",title:"Purification",description:"Restores a unit's body to its original and uncorrupted state"},corruption:{type:"type",title:"Corruption",description:"Corrupts the unit, replacing their bodyparts with something of demonic origin"},treatment:{type:"type",title:"Treatment",description:"Various procedures to heal a unit in both body and mind"},fleshshape:{type:"type",title:"Flesh-Shaping",description:"A collection of invasive procedure to alter the physique of a unit"}},setup.TagHelper=(oi=class extends setup.TwineClass{static getTagsMap(e){const t={quest:setup.QUESTTAGS,opportunity:setup.QUESTTAGS,buildingtemplate:setup.BUILDING_TAGS,buildinginstance:setup.BUILDING_TAGS,unitaction:setup.TAG_UNITACTION,lore:setup.TAG_LORE,sexaction:setup.TAG_SEXACTION,trait:setup.TAG_TRAIT,room:setup.TAG_ROOM};if(!(e in t))throw new Error(`Unrecognized menu in tags: ${e}`);return t[e]}static getAllTagsOfType(e,t){const a=[],r=setup.TagHelper.getTagsMap(e);for(const s in r)r[s].type==t&&a.push(s);return a}static tagRep(e,t,a){const r=setup.TagHelper.getTagsMap(e);if(!(t in r))throw new Error(`Unknown ${e} tag: ${t}`);const s=r[t];if(!a&&s.hide)return"";const n=setup.TagHelper.TAG_INFO[e].img_folder;return setup.repImgIcon(`img/${n}/${t}.svg`,s.description)}static tagRepLong(e,t){const a=setup.TagHelper.getTagsMap(e);if(!(t in a))throw new Error(`Unknown ${e} tag: ${t}`);const r=a[t];return`${setup.TagHelper.tagRep(e,t)}<span data-tooltip="${r.description}">${r.title}</span>`}static getTagsRep(e,t){const a=setup.TagHelper.getTagsMap(e),r=Object.keys(a),s=t.filter(n=>!0);return s.sort((n,l)=>{const u=r.indexOf(n),h=r.indexOf(l);return u-h}),s.map(n=>setup.TagHelper.tagRep(e,n)).join("")}static getQuestCardClass(e){let t=setup.QUESTTAGS_DEFAULT_PANORAMA,a="";for(const r of e)r in setup.QUESTTAGS_PANORAMA&&(t=setup.QUESTTAGS_PANORAMA[r]),r in setup.QUESTTAGS_BORDER&&(a=setup.QUESTTAGS_BORDER[r]);return t+" "+a}},o(oi,"TagHelper"),y(oi,"TAG_INFO",{quest:{img_folder:"tag_quest"},opportunity:{img_folder:"tag_quest"},buildingtemplate:{img_folder:"tag_building"},buildinginstance:{img_folder:"tag_building"},room:{img_folder:"tag_room"},unitaction:{img_folder:"tag_unitaction"},lore:{img_folder:"tag_lore"},sexaction:{img_folder:"tag_sexaction"},trait:{img_folder:"tag_trait"}}),oi),setup.Title=(nn=class extends setup.TwineClass{constructor(e,t,a,r,s,n,l){if(super(),l||(l={}),!e)throw new Error("null key for title");if(this.key=e,!t)throw new Error(`null name for title ${e}`);if(this.name=t,!a)throw new Error(`null name for title ${e}`);if(this.description=a,this.unit_text=r,this.slave_value=s,this.skill_adds=setup.Skill.translate(n),this.is_negative=!!l.is_negative,e in setup.title)throw new Error(`Title ${e} duplicated`);setup.title[e]=this}toText(){let e=`new setup.Title(
`;e+=`"${setup.escapeJsString(this.key)}",  """/* key */"""
`,e+=`"${setup.escapeJsString(this.name)}",  """/* name */"""
`,e+=`"${setup.escapeTwine(setup.escapeJsString(this.description))}",  """/* description */"""
`,this.unit_text?e+=`"${setup.escapeTwine(setup.escapeJsString(this.unit_text))}",  """/* unit text */"""
`:e+=`null,  """/* unit text */"""
`,e+=`${this.slave_value},  """/* slave value */"""
`,e+=`{   """/* skill additives */"""
`;let t=this.getSkillAdds();for(let a=0;a<t.length;++a){let r=t[a];r&&(e+=`&nbsp;${setup.skill[a].keyword}: ${r},`)}return e+=`},
`,e+=`{
`,e+=`&nbsp;is_negative: ${this.isNegative()},
`,e+=`},
`,e+=`)
`,e}isNegative(){return this.is_negative}getName(){return this.name}getDescription(){return this.description}getUnitText(e){return e?setup.Text.replaceUnitMacros(this.unit_text,{a:e}):this.unit_text}getSlaveValue(){return this.slave_value}getSkillAdds(){return this.skill_adds}rep(){let e=setup.repMessage(this,"titlecardkey");return`<span class="titlecardmini${this.isNegative()?"-negative":""}">${e}</span>`}},o(nn,"Title"),nn),setup.TitleHelper={},setup.TitleHelper.unitTitleDescribe=function(i){let e=State.variables.titlelist.getAllTitles(i),t=[];for(let s=0;s<e.length;++s){let l=e[s].getUnitText(i);l&&t.push(l)}if(!t.length)return"";let a=["a|Rep ","Also, a|they ","In addition, a|they "],r="";for(let s=0;s<t.length;s+=3){let n=[];n.push(t[s]),s+1<t.length&&n.push(t[s+1]),s+2<t.length&&n.push(t[s+2]);let l=a[s/3%3];r+=l,n.length==1&&(r+=`${n[0]}. `),n.length==2&&(r+=`${n[0]} and ${n[1]}. `),n.length==3&&(r+=`${n[0]}, ${n[1]}, and ${n[2]}. `)}return setup.Text.replaceUnitMacros(r,{a:i})},setup.TITLE_MAX_ASSIGNED=2,setup.TitleList=(on=class extends setup.TwineClass{constructor(){super(),this.titles={},this.assigned={},this.last_obtained={},this.last_obtained_negative={}}deleteUnit(e){const t=e.key;delete this.titles[t],delete this.assigned[t],delete this.last_obtained[t]}addTitle(e,t){if(!t.key)throw new Error(`Missing title for addTitle ${t}`);const a=e.key;a in this.titles||(this.titles[a]={}),this.titles[a][t.key]=!0;let r;t.isNegative()?r=this.last_obtained_negative:r=this.last_obtained,a in r||(r[a]={}),r[a]=t.key,this.isCanAssignTitle(e,t)&&this.assignTitle(e,t),e.resetCache()}getLastTitlePositive(e){if(!(e.key in this.last_obtained))return null;const t=this.last_obtained[e.key];return t?setup.title[t]:null}getLastTitleNegative(e){if(!(e.key in this.last_obtained_negative))return null;const t=this.last_obtained_negative[e.key];return t?setup.title[t]:null}removeTitle(e,t){const a=e.key;a in this.titles&&t.key in this.titles[a]&&(delete this.titles[a][t.key],t==this.getLastTitlePositive(e)&&delete this.last_obtained[e.key],t==this.getLastTitleNegative(e)&&delete this.last_obtained_negative[e.key],this.unassignTitle(e,t,!0),e.resetCache())}_setAssigned(e){e.key in this.assigned||(this.assigned[e.key]=[])}isCanAssignTitle(e,t){if(t.isNegative())return!1;const a=this.getAssignedTitles(e,!0);return!(a.length>=setup.TITLE_MAX_ASSIGNED||a.includes(t))}assignTitle(e,t){if(!this.isHasTitle(e,t))throw new Error(`unit ${e.key} missing title ${t.key}`);this._setAssigned(e);let a=this.assigned[e.key];if(a.length>=setup.TITLE_MAX_ASSIGNED)throw new Error("unit already has too many titles");if(a.includes(t.key))throw new Error(`unit already have title ${t.key}`);a.push(t.key),e.resetCache()}getAssignableTitles(e){return this.getAllTitles(e).filter(t=>!t.isNegative()&&!this.assigned[e.key].includes(t.key))}unassignTitle(e,t,a){if(this._setAssigned(e),this.assigned[e.key].includes(t.key)&&(this.assigned[e.key]=this.assigned[e.key].filter(r=>r!=t.key),a)){const r=this.getAssignableTitles(e);if(r.length){const s=setup.rng.choice(r);this.assignTitle(e,s)}}e.resetCache()}getAllTitles(e){return e.key in this.titles?Object.keys(this.titles[e.key]).map(t=>setup.title[t]):[]}isHasTitle(e,t){return e.key in this.titles?setup.selfOrObject(t,setup.title).key in this.titles[e.key]:!1}getAssignedTitles(e,t){let a=[];if(e.key in this.assigned&&(a=this.assigned[e.key].map(r=>setup.title[r])),!t){const r=[this.getLastTitlePositive(e),this.getLastTitleNegative(e)];for(const s of r)s&&!a.includes(s)&&a.push(s)}return a}computeSkillAddsNegative(e){const t=Array(setup.skill.length).fill(0);for(const a of this.getAllTitles(e).filter(r=>r.isNegative())){const r=a.getSkillAdds();for(let s=0;s<r.length;++s)t[s]=Math.min(t[s],r[s])}return t}computeSkillAddsPositive(e){const t=Array(setup.skill.length).fill(0),a=this.getAssignedTitles(e).filter(r=>!r.isNegative());for(const r of a){const s=r.getSkillAdds();for(let n=0;n<t.length;++n)t[n]+=s[n]}return t}computeSkillAdds(e){const t=Array(setup.skill.length),a=this.computeSkillAddsPositive(e),r=this.computeSkillAddsNegative(e);for(let s=0;s<a.length;++s)t[s]=a[s]+r[s];return t}},o(on,"TitleList"),on),setup.TraitHelper={},setup.Trait=(ha=class extends setup.TwineClass{constructor(e,t,a,r,s,n,l){if(super(),!e)throw new Error("null key for trait");if(this.key=e,!t)throw new Error(`null name for trait ${e}`);if(this.name=t,!a)throw new Error(`null name for trait ${e}`);if(this.description=a,n){if(!Array.isArray(n))throw new Error(`${e} tags wrong: ${n}`);this.tags=n}else this.tags=[];this.icon_settings=l||{},this.order_no=setup.Trait.keygen++,this.trait_group_key=null,this.skill_bonuses=setup.Skill.translate(s),this.is_has_skill_bonuses=!1;for(let u=0;u<setup.skill.length;++u)this.skill_bonuses[u]&&(this.is_has_skill_bonuses=!0);if(r?this.slave_value=r:this.slave_value=0,e in setup.trait)throw new Error(`Trait ${e} duplicated`);setup.trait[e]=this}advanceWeek(e){}text(){return this.getTexts()}getTexts(){return setup.TRAIT_TEXTS[this.key]}getDescription(){return this.description}getDescriptionDisplay(){let e=this.description;return this.slave_value&&(e=`${e} (worth: ${setup.DOM.toString(setup.DOM.Util.money(this.getSlaveValue()))})`),this.isHasSkillBonuses()&&(e=`(${setup.SkillHelper.explainSkillMods(this.getSkillBonuses())}) ${e}`),e}isHasSkillBonuses(){return this.is_has_skill_bonuses}getSkillBonuses(){return this.skill_bonuses}getImage(){return"img/trait/"+(this.icon_settings.icon||this.key)+".svg"}getRarity(){const e=this.getSlaveValue();return e>=setup.MONEY_TRAIT_LEGENDARY?setup.rarity.legendary:e>=setup.MONEY_TRAIT_EPIC?setup.rarity.epic:e>=setup.MONEY_TRAIT_RARE?setup.rarity.rare:e>=setup.MONEY_TRAIT_MEDIUM?setup.rarity.uncommon:e<0?setup.rarity.never:setup.rarity.common}_getCssAttrs(){let e="",t="trait "+this.getRarity().getIconTriangleClass();this.icon_settings.tier&&(t+=" trait-tier"+this.icon_settings.tier),this.icon_settings.minus&&(t+=" trait-minus"),this.icon_settings.plus&&(t+=" trait-plus"),this.icon_settings.cross&&(t+=" trait-cross");const a=this.icon_settings.background?[this.icon_settings.background]:this.tags;for(const r of Object.keys(setup.Trait.ICON_BACKGROUNDS))if(a.includes(r)){const s=setup.Trait.ICON_BACKGROUNDS[r];e+=`--trait-bg-image: url(${setup.resolveImageUrl("img/trait/backgrounds/"+r+".svg")});`,!this.icon_settings.colors&&s.effect&&(t+=" "+s.effect);break}return`class="${t}" style="${e}"`}_rep(e,t){let a=e?setup.repImg({imagepath:this.getImage(),tooltip_content:`<<tooltiptrait '${this.key}'>>`,tooltip_noclick:t}):setup.repImg({imagepath:this.getImage()});return this.icon_settings.background||this.tags.join(" "),`<span ${this._getCssAttrs()}><span>${a}</span></span>`}getImageRep(){return this._rep(!1)}rep(e){return this._rep(!0,e)}repFull(){return`<span class='capitalize' data-tooltip="<<tooltiptrait '${this.key}'>>">${this._rep(!1)} ${this.getName()}</span>`}repNegative(e){return`<span class="negtraitcard">${this.rep(e)}</span>`}repPositive(e){return`<span class="traitcardglow">${this.rep(e)}</span>`}repSizeAdjective(){const e=this.text();return e&&e.size_adjective?setup.rng.choice(e.size_adjective):""}repAdjective(){const e=this.text();return e&&e.adjective?setup.rng.choice(e.adjective):""}repNounGood(){return setup.rng.choice(this.text().noungood)}repNounBad(){return setup.rng.choice(this.text().nounbad)}getName(){return this.name}getSlaveValue(){return this.slave_value}getTraitGroup(){return setup.traitgroup[this.trait_group_key]}getTraitLevel(){const e=this.getTraitGroup()._getTraitIndex(this),t=this.getTraitGroup()._getTraitIndex(null);return e-t}getTags(){return this.tags}isHasTag(e){return this.getTags().includes(e)}isHasAnyTag(e){return this.getTags().includesAny(e)}isHasAllTags(e){return this.getTags().includesAll(e)}getTraitCover(){let e=this.getTraitGroup();return e?e.getTraitCover(this):[this]}isNeedDick(){return this.getTags().includes("needdick")}isNeedVagina(){return this.getTags().includes("needvagina")}isNeedGenital(){return this.isNeedDick()||this.isNeedVagina()}isCorruption(){return this.getTags().includes("corruption")||this==setup.trait.corrupted||this==setup.trait.corruptedfull}isAttachable(){return!this.getTags().filter(e=>["computed","temporary","equipment"].includes(e)).length}isAttachableInContentCreator(){return this.isAttachable()&&!this.getTags().includes("perk")&&!this.getTags().includes("blessingcurse")&&this!=setup.trait.training_mindbreak}isCompatibleWithGender(e){if(!e.getTags().includes("gender"))throw new Error(`Gender in iscompatiblewithgender must be a gender, not ${e.key}`);return!(this.isNeedDick()&&e==setup.trait.gender_female||this.isNeedVagina()&&e==setup.trait.gender_male)}isAttachableTo(e){return!(!this.isAttachable()||this.getTags().includes("training")&&this!=setup.trait.training_mindbreak&&e.isDefiant()||!e.isHasDick()&&this.isNeedDick()||!e.isHasVagina()&&this.isNeedVagina())}},o(ha,"Trait"),y(ha,"keygen",1),y(ha,"ICON_BACKGROUNDS",{negative2:{effect:"trait-fx-invert"},negative:{effect:"trait-fx-invert"},positive3:{effect:"trait-fx-positive3"},positive2:{effect:"trait-fx-invert"},positive:{effect:"trait-fx-invert"},blessing:{},blessing_max:{},curse:{},curse_max:{},boon:{},trauma:{},skin:{},trmaster:{effect:"trait-fx-trmaster"},tradvanced:{},training:{},equipment:{effect:"trait-fx-invert"},magic:{},skill:{},per:{effect:"trait-fx-invert"},race:{effect:"trait-fx-invert"},subrace:{},bg:{},perkspecial:{effect:"trait-fx-invert"},perkbasic:{},perkstandard:{effect:"trait-fx-invert"}}),ha),setup.Trait_Cmp=function(i,e){return i.order_no<e.order_no?-1:i.order_no>e.order_no?1:0},setup.TraitHelper.getAllTraitsOfTags=function(i){if(!Array.isArray(i))throw new Error("getAllTraitsOftags must be called with array");let e=[];for(let t in setup.trait){let a=setup.trait[t],r=!0;for(let s=0;s<i.length;++s)if(!a.isHasTag(i[s])){r=!1;break}r&&e.push(a)}return e},setup.TraitHelper.getAttachableTraits=function(){return Object.values(setup.trait).filter(i=>i.isAttachable())},setup.TraitHelper.getAttachableTraitsInContentCreator=function(){return Object.values(setup.trait).filter(i=>i.isAttachableInContentCreator())},setup.Perk=(ln=class extends setup.Trait{constructor(e,t,a,r,s,n,l,{perk_choice_restrictions:u,perk_end_of_week_effect:h,perk_null_traits:p,perk_extra_traits:c}){super(e,t,a,r,s,n,l),this.perk_choice_restrictions=u,this.perk_end_of_week_effect=h,this.perk_null_trait_keys=(p||[]).map(d=>d.key),this.perk_extra_trait_keys=(c||[]).map(d=>d.key)}getPerkChoiceRestrictions(){return this.perk_choice_restrictions}getEndOfWeekEffect(){return this.perk_end_of_week_effect}getPerkNullTraits(){return this.perk_null_trait_keys.map(e=>setup.trait[e])}getPerkExtraTraits(){return this.perk_extra_trait_keys.map(e=>setup.trait[e])}isPerkAvailableInChoiceFor(e){return setup.RestrictionLib.isUnitSatisfy(e,this.getPerkChoiceRestrictions())}isSpecial(){return this.getTags().includes("perkspecial")}advanceWeek(e){super.advanceWeek(e),e.isSlaver()&&setup.RestrictionLib.applyAll(this.getEndOfWeekEffect(),setup.costUnitHelper(e,this.getName()))}},o(ln,"Perk"),ln),setup.TraitGroup=(li=class extends setup.TwineClass{constructor(e,t,a){super(),this.key=setup.TraitGroup.keygen++;let r=0;this.trait_key_list=[];for(let s=0;s<e.length;++s){let n=e[s];if(n){if(this.trait_key_list.push(n.key),n.trait_group_key)throw new Error(`Trait ${n.key} already have a trait group`);if(n.trait_group_key=this.key,t)for(let l=0;l<t.length;++l)n.tags.push(t[l])}else r+=1,this.trait_key_list.push(null)}if(r>1)throw new Error(`Too many nulls for ${t}. Did you forgot to add new to the trait?`);if(a?this.is_not_ordered=!0:this.is_not_ordered=!1,this.key in setup.traitgroup)throw new Error(`${this.key} duplicated on trait group`);setup.traitgroup[this.key]=this}isOrdered(){return!this.is_not_ordered}_getTraitIndex(e){if(this.is_not_ordered)throw new Error("trait group is unordered index");let t=this.getTraits();for(let a=0;a<t.length;++a)if(t[a]==e)return a;if(!e)return-1;throw new Error(`Trait not found: ${e.key}`)}computeResultingTrait(e,t){if(this.is_not_ordered)throw new Error("trait group is unordered");let a=null,r=-1,s=this.getTraits();for(let p=0;p<s.length;++p)if(s[p]&&e.isHasTraitExact(s[p])){a=s[p],r=p;break}if(a==t)return a;let n=this._getTraitIndex(t),l=this._getTraitIndex(null);a===null&&(r=l);let u=null;if(t==null)l<r?u=-1:u=1;else if(n>l)u=1;else if(n<l)u=-1;else throw new Error("Unknown error weird null position");if(u>0&&r>n||u<0&&r<n)return a;let h=r+u;if(h==-1)return null;if(h<-1||h>=s.length)throw new Error("Cant find next trait");return s[h]}getTraits(){let e=[];for(let t=0;t<this.trait_key_list.length;++t){let a=this.trait_key_list[t];a?e.push(setup.trait[a]):e.push(null)}return e}getSmallestTrait(){let e=this.getTraits();for(let t=0;t<e.length;++t)if(e[t])return e[t];throw new Error("Smallest trait not found")}getLargestTrait(){let e=this.getTraits();for(let t=e.length-1;t>=0;--t)if(e[t])return e[t];throw new Error("Largest trait not found")}getTraitCover(e,t){if(this.is_not_ordered)return[e];let a=this._getTraitIndex(e),r=this._getTraitIndex(null),s=1;r>a&&(s=-1),t&&(s*=-1);let n=this.getTraits(),l=[];for(let u=0;u<n.length;++u)n[u]&&(s==1&&u>=a||s==-1&&u<=a)&&l.push(n[u]);return l}},o(li,"TraitGroup"),y(li,"keygen",1),li),setup.Unit=(Le=class extends setup.TwineClass{constructor(e,t,a,r){super(),r?this.key=r:(this.key=State.variables.Unit_keygen,State.variables.Unit_keygen+=1),this.level=1,this.first_name=e[0],this.surname=e[1],this.surname?this.name=`${this.first_name} ${this.surname}`:this.name=this.first_name,this.custom_image_name="",this.nickname=this.first_name,this.trait_key_map={},this.innate_trait_key_map={};for(const n of t){if(!n)throw new Error(`Unrecognized trait for unit ${this.name}`);this.trait_key_map[n.key]=!0,n.getTags().includes("skin")&&(this.innate_trait_key_map[n.key]=!0)}this.perk_keys_choices=[],this.speech_key=null,this.job_key=setup.job.unemployed.key;let s=setup.Skill.translate(a);if(this.skills=[],this.tags=[],this.base_skills=[],s.length!=setup.skill.length)throw new Error("Skills must have exactly 10 elements");for(let n=0;n<s.length;++n)this.skills.push(s[n]),this.base_skills.push(s[n]);if(this.team_key=null,this.party_key=null,this.company_key=null,this.unit_group_key=null,this.duty_key=null,this.contact_key=null,this.quest_key=null,this.opportunity_key=null,this.market_key=null,this.equipment_set_key=null,this.exp=0,this.weeks_with_you=0,this.origin="",this.debug_generator_type=null,this.debug_generator_key=null,this.skill_focus_keys=[],this.history=[],this.key in State.variables.unit)throw new Error(`Unit ${this.key} duplicated`);State.variables.unit[this.key]=this,this.is_speech_reset=!0,this.reSeed()}getStandardPerkLimit(){let e=0;for(const t of setup.PERK_GAIN_AT_LEVEL)this.getLevel()>=t&&++e;return e}getSpecialPerkLimit(){return setup.TRAIT_MAX_HAVE.perkspecial}isCanLearnNewPerk(){return this.getLearnablePerks().length>0}getPerkChoices(){if(!this.perk_keys_choices.length){const t=[],a=setup.TraitHelper.getAllTraitsOfTags(["perk"]).filter(l=>!l.getTags().includes("perkspecial")),r=a.filter(l=>l.isPerkAvailableInChoiceFor(this)),n=r.filter(l=>!l.getTags().includes("perkbasic")).filter(l=>!t.includes(l));if(setup.rng.shuffleArray(n),this.isYou())t.push(...a);else{for(const l of n)t.length<setup.PERK_EXTRA_CHOICES&&t.push(l);t.push(...r.filter(l=>l.getTags().includes("perkbasic")))}this.perk_keys_choices=t.map(l=>l.key)}const e=this.perk_keys_choices.map(t=>setup.trait[t]);return e.sort(setup.Trait_Cmp),e}getLearnablePerks(){const e=[];if(!this.isSlaver())return e;const t=this.getAllTraitsWithTag("perk"),a=this.getPerkChoices().filter(n=>!this.isHasTrait(n));return t.filter(n=>!n.isSpecial()).length<this.getStandardPerkLimit()&&e.push(...a.filter(n=>!n.isSpecial())),t.filter(n=>n.isSpecial()).length<this.getSpecialPerkLimit()&&e.push(...a.filter(n=>n.isSpecial())),e}addPerkChoice(e){if(e.getTags().includes("perkbasic"))throw new Error(`Can only add non basic perks, not ${e.key}!`);return this.getPerkChoices(),this.perk_keys_choices.includes(e.key)?(this.isYourCompany()&&setup.notify(`a|Rep a|was supposed to gain access to the ${e.rep()} perk, but a|they already a|know it`,{a:this}),!1):(this.perk_keys_choices.push(e.key),this.isYourCompany()&&setup.notify(`a|Rep a|gain access to the ${e.rep()} perk!`,{a:this}),!0)}removePerkChoice(e){if(e.getTags().includes("perkbasic"))throw new Error(`Can only remove non-basic traits from perk choice, not ${e.key}!`);this.getPerkChoices(),this.perk_keys_choices.includes(e.key)&&(this.perk_keys_choices=this.perk_keys_choices.filter(t=>t!=e.key),this.isYourCompany()&&setup.notify(`a|Rep a|lose access to the ${e.rep()} perk!`,{a:this}),this.isHasRemovableTrait(e)&&this.removeTraitExact(e))}isHasPerkChoice(e){return this.getPerkChoices().includes(e)}getContact(){return this.contact_key?State.variables.contact[this.contact_key]:null}_isCanDelete(){return!this.quest_key&&!this.opportunity_key&&!this.market_key&&!this.company_key&&!this.unit_group_key&&!this.contact_key&&!this.isRetired()&&!State.variables.bodyshift.isSpareBody(this)&&!State.variables.eventpool.isUnitScheduledForEvent(this)}delete(){const e=State.variables.unit[this.key];e&&e._isCanDelete()&&(this.clearCache(),State.variables.unitimage.deleteUnit(this),State.variables.activitylist.removeUnitActivity(this),State.variables.hospital.deleteUnit(this),State.variables.friendship.deleteUnit(this),State.variables.trauma.deleteUnit(this),State.variables.family.deleteUnit(this),State.variables.leave.deleteUnit(this),State.variables.bodyshift.deleteUnit(this),State.variables.skillboost.deleteUnit(this),this.key in State.variables.unit&&delete State.variables.unit[this.key])}checkDelete(){let e=State.variables.unit[this.key];e&&e._isCanDelete()&&setup.queueDelete(e,"unit")}isRetired(){return State.variables.retiredlist.isRetired(this)}getLiving(){return State.variables.retiredlist.getLiving(this)}advanceWeek(){this.isYourCompany()&&(this.weeks_with_you+=1);for(const e of this.getTraits())e.advanceWeek(this);this.resetCache()}reSeed(){this.seed=Math.floor(Math.random()*999999997)}setName(e,t){let a=this.nickname==this.first_name;this.first_name=e,this.surname=t,a&&(this.nickname=this.first_name),this.surname?this.name=`${this.first_name} ${this.surname}`:this.name=this.first_name,this.resetCache()}getWeeksWithCompany(){return this.weeks_with_you}resetWeeksWithCompany(){this.weeks_with_you=0}getOrigin(){return setup.Text.replaceUnitMacros(this.origin,{a:this})}setOrigin(e){this.origin=e,this.resetCache()}getSlaveValueBreakdown(){const e=[];e.push({value:setup.SLAVE_BASE_VALUE,title:"Base"});let t=this.getBaseTraits();t=t.concat(State.variables.trauma.getTraits(this));const a=this.getRace()==setup.trait.race_demon;for(const r of t){const s=r.getSlaveValue();a&&s<0&&r.isCorruption()||s&&e.push({value:s,title:r.rep()})}for(const r of State.variables.titlelist.getAllTitles(this)){const s=r.getSlaveValue();s&&e.push({value:s,title:r.rep()})}return e}getSlaveValue(){if(!State.variables.cache.has("unitvalue",this.key)){const e=Math.round(this.getSlaveValueBreakdown().map(t=>t.value).reduce((t,a)=>t+a,0));State.variables.cache.set("unitvalue",this.key,e)}return State.variables.cache.get("unitvalue",this.key)}getSluttinessLimit(){if(this.isYou())return setup.INFINITY;let e;return this.isHasTraitExact(setup.trait.per_chaste)?e=setup.EQUIPMENT_SLAVER_SLUTTY_LIMIT_CHASTE:this.isHasTraitExact(setup.trait.per_sexaddict)?e=setup.EQUIPMENT_SLAVER_SLUTTY_LIMIT_SEXADDICT:this.isHasTraitExact(setup.trait.per_lustful)?e=setup.EQUIPMENT_SLAVER_SLUTTY_LIMIT_LUSTFUL:e=setup.EQUIPMENT_SLAVER_SLUTTY_LIMIT_NORMAL,!this.isHasTrait(setup.trait.per_chaste)&&this.isHasTrait(setup.trait.perk_sluttiness)&&(e+=setup.PERK_SLUTTINESS_LIMIT_INCREASE),e}isCanChangeEquipmentSet(){return State.variables.fort.player.isHasBuilding("armory")&&this.isYourCompany()&&this.isHome()}isCanWear(e){return this.isCanChangeEquipmentSet()&&e.isEligibleOn(this)}isEngaged(){return this.quest_key||this.opportunity_key||this.market_key}isHome(e){return!(!this.isYourCompany()||this.isEngaged()||!e&&State.variables.leave.isOnLeave(this))}isAvailable(){return this.isHome()&&!State.variables.hospital.isInjured(this)}isBusy(){return!!(!this.isAvailable()||this.getDuty())}Seed(e){let t=`${e}_${this.seed}`;return Math.abs(t.hashCode())%1000000009}seedFloat(e){return this.Seed(e)/1000000009}getBedchamber(){if(this.isSlave()){const e=this.getDuty();return e&&e instanceof setup.DutyInstanceBedchamberSlave?e.getBedchamber():null}else if(this.isSlaver()){const e=State.variables.bedchamberlist.getBedchambers({slaver:this});return e.length?setup.rng.choice(e):null}else return null}getSpeechRule(){if(!this.isSlave())return"full";const e=this.getBedchamber();return e?e.getOption("speech"):"full"}getFoodRule(){if(!this.isSlave())return"normal";const e=this.getBedchamber();return e?e.getOption("food"):"normal"}getBedchamberOtherSlave(){const e=this.getBedchamber();if(this.isSlave()&&e){for(const t of e.getSlaves())if(t!=this)return t}return null}isUsableBy(e){if(State.variables.hospital.isInjured(this)||!this.isHome())return!1;let t=this.getBedchamber();return!e.isSlave()||!t||!t.isPrivate()?!0:t.getSlaver()==e}getMainTraining(){return setup.UnitTitle.getMainTraining(this)}clearCache(){this.resetTraitMapCache(),this.resetSkillCache(),State.variables.cache.clear("unitvalue",this.key),this.resetSpeech()}resetCache(){this.clearCache(),State.variables.unitimage.resetImage(this)}isCanHaveSexWithYou(){return!this.isYou()&&this.isAvailable()&&State.variables.unit.player.isAvailable()&&State.variables.fort.player.isHasBuilding("dungeons")&&this.isUsableBy(State.variables.unit.player)&&!this.isDefiant()}isSubmissiveTo(e){return this.isSlave()&&!e.isSlave()?!0:!this.isDominant()&&e.isDominant()||this.isSubmissive()&&!e.isSubmissive()}isCanBeDismissed(){return this.isYourCompany()&&this.isHome()&&!this.getParty()&&!this.isYou()&&(this.isSlave()||State.variables.company.player.getUnits({job:setup.job.slaver}).length>setup.SLAVER_COUNT_MINIMUM)}isCanGoOnQuestsAuto(){return!(this.getDuty()&&!this.getDuty().isCanGoOnQuestsAuto()||this.getParty()&&!this.getParty().isCanGoOnQuestsAuto())}setDebugInfo(e){this.debug_generator_key||(this.debug_generator_key=e.key,this.debug_generator_type=e.TYPE)}getRarity(){const e=this.getSlaveValue();return e>=3e4?setup.rarity.legendary:e>=1e4?setup.rarity.epic:e>=5e3||State.variables.titlelist.getAllTitles(this).length?setup.rarity.rare:e>=3e3?setup.rarity.uncommon:setup.rarity.common}},o(Le,"Unit"),y(Le,"BUSY_QUEST_URL","img/special/busy_quest.svg"),y(Le,"BUSY_OPPORTUNITY_URL","img/special/busy_opportunity.svg"),y(Le,"BUSY_LEAVE_URL","img/special/busy_leave.svg"),y(Le,"BUSY_INJURY_URL","img/special/busy_injury.svg"),y(Le,"BUSY_DUTY_URL","img/special/busy_duty.svg"),y(Le,"BUSY_OTHER_URL","img/special/busy_other.svg"),y(Le,"BUSY_IDLE_URL","img/special/busy_idle.svg"),y(Le,"DANGER_IMAGE_URL","img/special/danger.svg"),y(Le,"LOVERS_IMAGE_URL","img/special/lovers.svg"),y(Le,"INJURY_IMAGE_URL","img/other/injury.svg"),Le),setup.getUnit=function({job:i,tag:e,duty:t,title:a,available:r,skill_max:s,trait:n,random:l,alltraits:u,anytraits:h,notyou:p,injured:c}){let d=[];if(t&&!(t in setup.dutytemplate))throw new Error(`Unrecognized duty template key: ${t}`);for(let g in State.variables.unit){const m=State.variables.unit[g];if(!(i&&m.getJob()!=setup.selfOrObject(i,setup.job))&&!(e&&!m.getTags().includes(e))&&!(a&&!m.isHasTitle(setup.selfOrObject(a,setup.title)))&&!(r&&!m.isAvailable())&&!(n&&!m.isHasTrait(n))&&!(u&&u.filter(f=>!m.isHasTraitExact(f)).length)&&!(h&&!m.isHasAnyTraitExact(h))&&!(p&&m.isYou())&&!(c&&!m.isInjured())&&!(t&&(!m.getDuty()||m.getDuty().getTemplate().key!=t))){if(!l&&!s)return m;d.push(m)}}return d.length?s?(d.sort((g,m)=>m.getSkill(s)-g.getSkill(s)),d[0]):setup.rng.choice(d):null},setup.getUnitOrAny=function(i){const e=setup.getUnit(i);return e||State.variables.unit.player},setup.getUnitRandom=function(i){return i.random=!0,setup.getUnit(i)};function j_({preferences:i,forbidden:e}){const t=e||[];for(const r of i){const s=State.variables.dutylist.getUnitIfAvailable(r);if(s&&!s.isYou()&&s.isAvailable()&&!t.includes(s))return s}let a=State.variables.company.player.getUnits({available:!0,job:setup.job.slaver}).filter(r=>!r.isYou()&&!t.includes(r));return a.length||(a=State.variables.company.player.getUnits({job:setup.job.slaver}).filter(r=>!r.isYou()&&!t.includes(r))),setup.rng.choice(a)}o(j_,"getDutySlaverForTalkingTo"),setup.getDutySlaver=function(...i){return j_({preferences:i})},setup.getAnySlaver=function(i){return j_({preferences:["viceleader"],forbidden:i})},setup.selectUnit=function(i,{trait:e,anytrait:t,notrait:a,alltrait:r}){return e&&(i=i.filter(s=>s.isHasTrait(setup.selfOrObject(e,setup.trait)))),t&&(i=i.filter(s=>s.isHasAnyTraitExact(t.map(n=>setup.selfOrObject(n,setup.trait))))),a&&(i=i.filter(s=>!s.isHasAnyTraitExact(a.map(n=>setup.selfOrObject(n,setup.trait))))),r&&(i=i.filter(s=>!s.isHasTraitsExact(r.map(n=>setup.selfOrObject(n,setup.trait))))),i.length?setup.rng.choice(i):null},setup.Unit_CmpDefault=function(i,e){const t=setup.Job_Cmp(i.getJob(),e.getJob());return t!=0?t:i.getName()<e.getName()?-1:i.getName()>e.getName()?1:0},setup.Unit_CmpName=function(i,e){return i.getName()<e.getName()?-1:i.getName()>e.getName()?1:setup.Unit_CmpDefault(i,e)},setup.Unit_CmpJob=function(i,e){const t=setup.Job_Cmp(i.getJob(),e.getJob());return t||setup.Unit_CmpDefault(i,e)},setup.Unit.prototype.getGenitalCovering=function(){const i=this.getEquipmentAt(setup.equipmentslot.legs);if(i&&i.isCovering())return i;const e=this.getEquipmentAt(setup.equipmentslot.rear);return e&&e.isCovering()?e:null},setup.Unit.prototype.getChestCovering=function(){const i=this.getEquipmentAt(setup.equipmentslot.torso);if(i&&i.isCovering())return i;const e=this.getEquipmentAt(setup.equipmentslot.nipple);return e&&e.isCovering()?e:null},setup.Unit.prototype.isNaked=function(){return setup.Text.Unit.Equipment.isNaked(this)},setup.Unit.prototype.getLevel=function(){return this.level},setup.Unit.prototype.resetLevel=function(){this.level=1,this.exp=0,this.skills=setup.deepCopy(this.base_skills),this.isYourCompany()&&setup.notify("a|Reps level is reset to 1.",{a:this}),this.resetCache()},setup.Unit.prototype.levelUp=function(i){i||(i=1);let e;for(let t=0;t<i;++t)this.level+=1,this.exp=0,e=this.getRandomSkillIncreases(),this.increaseSkills(e);if(this.isYourCompany()){let t=setup.SkillHelper.explainSkillsCopy(e);const a=setup.Text.replaceUnitMacros(`a|Rep a|level up to level ${this.getLevel()} and gained`,{a:this});setup.notify(`${a} ${t}`),State.variables.fort.player.isHasBuilding("warroom")&&this.isSlaver()&&this.isCanLearnNewPerk()&&setup.PERK_GAIN_AT_LEVEL.includes(this.getLevel())&&setup.notify("a|Rep a|is ready to learn a new perk",{a:this})}this.resetCache()},setup.Unit.prototype.gainExp=function(i){if(i<=0)return;setup.LEVEL_UP_MAX_ONE_SITTING=5;let e=0;for(;i>0&&e<setup.LEVEL_UP_MAX_ONE_SITTING;){this.exp+=i,i=0;let t=this.getExpForNextLevel();this.exp>=t&&(i=this.exp-t,this.levelUp(),e+=1)}this.resetCache()},setup.Unit.prototype.getExp=function(){return this.exp},setup.Unit.prototype.getExpForNextLevel=function(){let i=this.getLevel();if(i<setup.LEVEL_PLATEAU){let e=Math.pow(setup.EXP_LEVEL_PLATEAU/setup.EXP_LEVEL_1,1/setup.LEVEL_PLATEAU);return Math.round(setup.EXP_LEVEL_1*Math.pow(e,i-1))}else{let e=Math.pow(4,1/setup.EXP_LATE_GAME_QUAD_EVERY);return Math.round(setup.EXP_LEVEL_PLATEAU/setup.EXP_LOW_LEVEL_LEVEL_UP_FREQUENCY*setup.EXP_LATE_CLIFF*Math.pow(e,i-setup.LEVEL_PLATEAU))}},setup.Unit.prototype.getOnDutyExp=function(){return this.getLevel()>=setup.LEVEL_PLATEAU?Math.round(setup.EXP_DUTY_MULTIPLIER*setup.EXP_LEVEL_PLATEAU/setup.EXP_LOW_LEVEL_LEVEL_UP_FREQUENCY):Math.round(setup.EXP_DUTY_MULTIPLIER*this.getExpForNextLevel()/setup.EXP_LOW_LEVEL_LEVEL_UP_FREQUENCY)},setup.Unit.prototype.getName=function(){return this.nickname},setup.Unit.prototype.getFullName=function(){return this.name},setup.Unit.prototype.getFirstName=function(){return this.first_name},setup.Unit.prototype.getSurname=function(){return this.surname},setup.Unit.prototype.getDuty=function(){return this.duty_key?State.variables.duty[this.duty_key]:null},setup.Unit.prototype.getTeam=function(){return this.team_key?State.variables.team[this.team_key]:null},setup.Unit.prototype.getParty=function(){return this.party_key?State.variables.party[this.party_key]:null},setup.Unit.prototype.getQuest=function(){return this.quest_key?State.variables.questinstance[this.quest_key]:null},setup.Unit.prototype.getOpportunity=function(){return this.opportunity_key?State.variables.opportunityinstance[this.opportunity_key]:null},setup.Unit.prototype.getEquipmentSet=function(){return this.equipment_set_key?State.variables.equipmentset[this.equipment_set_key]:null},setup.Unit.prototype.isPlayerSlaver=function(){return this.getJob()==setup.job.slaver&&this.isYourCompany()},setup.Unit.prototype.isYou=function(){return this==State.variables.unit.player},setup.Unit.prototype.getUnitGroup=function(){return this.unit_group_key?setup.unitgroup[this.unit_group_key]:null},setup.Unit.prototype.getCompany=function(){return this.company_key?State.variables.company[this.company_key]:null},setup.Unit.prototype.isYourCompany=function(){return this.getCompany()==State.variables.company.player},setup.Unit.prototype.getJob=function(){return this.isRetired()?setup.job.retired:setup.job[this.job_key]},setup.Unit.prototype.isSlaver=function(){return this.getJob()==setup.job.slaver},setup.Unit.prototype.isSlave=function(){return this.getJob()==setup.job.slave},setup.Unit.prototype.isSlaveOrInSlaveMarket=function(){if(this.isSlave())return!0;if(!this.isYourCompany()){const i=this.getMarket();if(i&&i.getJob()==setup.job.slave)return!0}return!1},setup.Unit.prototype.isObedient=function(){return this.isHasTrait("training_obedience_advanced")},setup.Unit.prototype.isCompliant=function(){return this.isHasTrait("training_obedience_basic")},setup.Unit.prototype.isMindbroken=function(){return setup.trait.training_mindbreak.key in this.trait_key_map},setup.Unit.prototype.isDefiant=function(){return this.isHasTrait("will_defiant")||this.isHasTrait("will_indomitable")},setup.Unit.prototype.isHasStrapOn=function(){const i=this.getEquipmentAt(setup.equipmentslot.genital);return!!(i&&i.getTags().includes("strapon"))},setup.Unit.prototype.isHasDicklike=function(){return this.isHasDick()||this.isHasStrapOn()},setup.Unit.prototype.isHasDick=function(){return this.isHasTrait(setup.trait.dick_tiny)},setup.Unit.prototype.isInChastity=function(){return this.isHasTrait(setup.trait.eq_chastity)},setup.Unit.prototype.isHasVagina=function(){return this.isHasTrait(setup.trait.vagina_tight)},setup.Unit.prototype.isHasBreasts=function(){return this.isHasTrait(setup.trait.breast_tiny)},setup.Unit.prototype.isSubmissive=function(){return this.isHasTrait(setup.trait.per_submissive)},setup.Unit.prototype.isDominant=function(){return this.isHasTrait(setup.trait.per_dominant)},setup.Unit.prototype.isDominantSlave=function(){return this.isSlave()?this.getMainTraining().getTags().includes("trdominance"):!1},setup.Unit.prototype.isMasochistic=function(){return this.isHasTrait(setup.trait.per_masochistic)||this.isSlave()&&this.getMainTraining().getTags().includes("trmasochist")},setup.Unit.prototype.isInjured=function(){return State.variables.hospital.isInjured(this)},setup.Unit.prototype.isHasTitle=function(i){return State.variables.titlelist.isHasTitle(this,i)},setup.Unit.prototype.addTitle=function(i){return State.variables.titlelist.addTitle(this,i)},setup.Unit.prototype.getEquipmentAt=function(i){return setup.Text.Unit.Equipment.getEquipmentAt(this,setup.selfOrObject(i,setup.equipmentslot))},setup.Unit.prototype.getMarket=function(){return this.market_key?State.variables.market[this.market_key]:null},setup.Unit.prototype.getLover=function(){return State.variables.friendship.getLover(this)},setup.Unit.prototype.getBestFriend=function(){return State.variables.friendship.getBestFriend(this)},setup.Unit.prototype.getOwnedBedchambers=function(){return this.isSlaver()?State.variables.bedchamberlist.getBedchambers({slaver:this}):[]},setup.Unit.prototype.addHistory=function(i,e,t){if(!t&&!this.isYourCompany())return;this.history||(this.history=[]);let a=`Week ${State.variables.calendar.getWeek()}: a|Rep ${i}`;e&&"getName"in e&&(a=`${a} (${e.getName()})`),this.history.unshift(a),this.history.length>setup.HISTORY_UNIT_MAX&&(this.history=this.history.slice(0,setup.HISTORY_UNIT_MAX)),this.resetCache()},setup.Unit.prototype.getHistory=function(){return this.history?this.history:[]},setup.Unit.prototype.getImageInfo=function(){return this.custom_image_name?null:State.variables.unitimage.getImageObject(this).info},setup.Unit.prototype.getCustomImageName=function(){return this.custom_image_name},setup.Unit.prototype.getImage=function(){let i=this.custom_image_name;return i?`img/customunit/${i}`:State.variables.unitimage.getImagePath(this)},setup.Unit.prototype.getWage=function(){if(this==State.variables.unit.player)return 0;const i=this.getLevel();let e=Math.floor(9+i);return State.variables.calendar.getWeek()>=3&&(State.variables.settings.challengemode=="impossible"?e*=10:State.variables.settings.challengemode=="unfair"&&(e*=5)),e},setup.Unit.prototype.getSlaverMarketValue=function(){return Math.max(this.getSlaveValue(),setup.SLAVE_VALUE_MARKET_MINIMUM)},setup.Unit.autoAssignPerks=function(){const i=State.variables.company.player.getUnits({job:setup.job.slaver}).filter(e=>e.isCanLearnNewPerk());for(const e of i){const t=e.getSkillsBase(),a=[];for(let r=0;r<t.length;++r)a.push([r,t[r]]);a.sort((r,s)=>s[1]-r[1]);for(const[r,s]of a)if(e.isCanLearnNewPerk()){const n=setup.trait[`perk_${setup.skill[r].keyword}`];e.addTrait(n)}}},setup.Unit.prototype.busyInfo=function(i,e){let t,a;if(this.getQuest())t=setup.Unit.BUSY_QUEST_URL,a="on a quest";else if(this.getOpportunity())t=setup.Unit.BUSY_OPPORTUNITY_URL,a="on an opportunity";else if(State.variables.leave.isOnLeave(this))t=setup.Unit.BUSY_LEAVE_URL,a="on leave";else if(this.isInjured())t=setup.Unit.BUSY_INJURY_URL,a="injured";else if(!this.isAvailable())t=setup.Unit.BUSY_OTHER_URL,a="unknown";else if(this.getDuty()){if(a="on duty",i)return{icon:this.getDuty().repIcon(),title:a};t=setup.Unit.BUSY_DUTY_URL}else t=setup.Unit.BUSY_IDLE_URL,a="idle";return{icon:setup.repImgIcon(t,e),title:a}},setup.Unit.prototype.repBusyState=function(i){return this.isYourCompany()?this.busyInfo(i,`<<tooltipunitstatus '${this.key}'>>`).icon:""},setup.Unit.prototype.repShort=function(){let i="";return State.variables.settings.inline_color&&(this.isSlaver()?i=` rep-${this.getJob().key}-${this.isMale()?"male":"female"}`:i=` rep-${this.getJob().key}`),State.variables.settings.inline_font&&(i+=` text-${this.getSubrace().key}`),!State.variables.gDebug&&!this.isYourCompany()&&!this.getMarket()&&!this.getContact()&&!this.isRetired()?`<span class="${i}">${this.getName()}</span>`:`<span data-tooltip="<<tooltipunit '${this.key}'>>" data-tooltip-wide><a class="replink${i}">${this.getName()}</a></span>`},setup.Unit.prototype.repLong=function(){const i=this.getJob();let e='<span class="rep">';if(i==setup.job.slaver){e+='<div class="icongrid">',e+=this.repBusyState(!1);const t=this.getSkillFocuses(State.variables.settings.unsortedskills);for(let a=0;a<t.length;++a)e+=t[a].rep();e+="</div>"}else e+=this.repBusyState(!0),e+=i.rep();return e+=this.repShort(),State.variables.hospital.isInjured(this)&&(e+=setup.DOM.toString(setup.DOM.Card.injury(this))),e+"</span>"},setup.Unit.prototype.rep=function(){return State.variables.settings.inline_icon?this.repLong():this.repShort()},setup.Unit.prototype.repGender=function(){return this.isSissy()?"sissy":this.getGender().getName()},setup.Unit.prototype.repFull=function(){let i=`${this.repLong()}`;const e=this.getParty();return e?`${i} of ${e.rep()}`:i};function ff(i,e,t){if(!State.variables.cache.has(e,i.key)){const a=t();State.variables.cache.set(e,i.key,a)}return State.variables.cache.get(e,i.key)}o(ff,"getOrCreateCachedValue"),setup.Unit.prototype.resetSkillCache=function(){State.variables.cache.clear("unitskillmodifiers",this.key),State.variables.cache.clear("unitskillmodifiersbaseonly",this.key),State.variables.cache.clear("unitskillsbase",this.key),State.variables.cache.clear("unitskillsbaseignoreskillboost",this.key),State.variables.cache.clear("unitskilladditives",this.key),State.variables.cache.clear("unitskilladditivesbaseonly",this.key),State.variables.cache.clear("unitskilladds",this.key),State.variables.cache.clear("unitskilladdsbaseonly",this.key),State.variables.cache.clear("unitskills",this.key),State.variables.cache.clear("unitskillsbaseonly",this.key)};function LE(i,e){const t=i.getSkillModifiersBreakdown(e),a=setup.Skill.makeEmptySkills();for(let r=0;r<a.length;++r)a[r]=t[r].reduce((s,n)=>s+n.value,0),a[r]<setup.SKILL_MODIFIER_MIN_MULT&&(a[r]=setup.SKILL_MODIFIER_MIN_MULT);return a}o(LE,"computeSkillModifiers");function UE(i,e){const t=i.getSkillsBaseBreakdown(e),a=setup.Skill.makeEmptySkills();for(let r=0;r<a.length;++r)a[r]=t[r].reduce((s,n)=>s+n.value,0);return a}o(UE,"computeSkillsBase");function NE(i,e){const t=i.getSkillAdditivesBreakdown(e),a=setup.Skill.makeEmptySkills();for(let r=0;r<a.length;++r)a[r]=t[r].reduce((s,n)=>s+n.value,0);return a}o(NE,"computeSkillAdditives");function HE(i,e){const t=setup.skill.length,a=i.getSkillModifiers(e),r=i.getSkillAdditives(e),s=i.getSkillsBase(),n=setup.Skill.makeEmptySkills();for(let l=0;l<t;++l)n[l]=Math.floor(s[l]*a[l])+r[l];return n}o(HE,"computeSkillsAdd");function BE(i,e){const t=setup.skill.length,a=i.getSkillsBase(),r=setup.Skill.makeEmptySkills(),s=i.getSkillsAdd(e);for(let n=0;n<t;++n)r[n]=a[n]+s[n];return r}o(BE,"computeSkills"),setup.Unit.prototype.getSkills=function(i){return ff(this,i?"unitskillsbaseonly":"unitskills",()=>BE(this,i))},setup.Unit.prototype.getSkillsAdd=function(i){return ff(this,i?"unitskilladdsbaseonly":"unitskilladds",()=>HE(this,i))},setup.Unit.prototype.getSkillModifiers=function(i){return ff(this,i?"unitskillmodifiersbaseonly":"unitskillmodifiers",()=>LE(this,i))},setup.Unit.prototype.getSkillsBase=function(i){return ff(this,i?"unitskillsbaseignoreskillboost":"unitskillsbase",()=>UE(this,i))},setup.Unit.prototype.getSkillAdditives=function(i){return ff(this,i?"unitskilladditivesbaseonly":"unitskilladditives",()=>NE(this,i))},setup.Unit.prototype.getSkillModifiersBreakdown=function(i){let e;i?e=this.getBaseTraits():e=this.getAllTraits();const t=[];for(let u=0;u<setup.skill.length;++u)t.push([]);const a=this.isHasTrait(setup.trait.race_demon),r=this.isHasTrait(setup.trait.perk_reduce_trauma),s=this.isHasTrait(setup.trait.perk_reduce_corruption),n=this.isHasTrait(setup.trait.perk_increase_boon),l=this.isHasTrait(setup.trait.perk_needy_bottom);for(const u of e){if(a&&u.isCorruption())continue;const h=u.getSkillBonuses();let p=1;l&&[setup.trait.anus_gape,setup.trait.vagina_gape].includes(u)&&(p*=-1),r&&u.getTags().includes("trauma")&&(p*=1-setup.PERK_TRAUMA_PENALTY_REDUCTION),s&&u.isCorruption()&&(p*=1-setup.PERK_CORRUPTION_PENALTY_REDUCTION),n&&u.getTags().includes("boon")&&(p*=1+setup.PERK_BOON_BONUS_INCREASE);for(let c=0;c<h.length;++c){const d=h[c]*p;Math.abs(d*p)>Number.EPSILON&&t[c].push({value:d,title:u.rep()})}}if(!i){const u=this.getEquipmentSet();if(u){const h=u.getSkillMods();for(let p=0;p<h.length;++p)h[p]&&t[p].push({value:h[p],title:u.rep()})}}return t},setup.Unit.prototype.getSkillsBaseBreakdown=function(i){const e=[];for(let r=0;r<setup.skill.length;++r)e.push([]);const t=this.skills,a=this.base_skills;for(let r=0;r<setup.skill.length;++r){e[r].push({value:a[r],title:"Base"});const s=t[r]-a[r];s&&e[r].push({value:s,title:"Level up"})}if(!i&&State.variables.skillboost.isHasAnyBoost(this)){const r=State.variables.skillboost.getBoosts(this);for(let s=0;s<r.length;++s)r[s]&&e[s].push({value:r[s],title:"Boost"})}return e},setup.Unit.prototype.getSkillAdditivesBreakdown=function(i){const e=[];for(let t=0;t<setup.skill.length;++t)e.push([]);if(!i){if(this==State.variables.unit.player){const n=State.variables.dutylist.getDuty("viceleader");if(n&&n.getAssignedUnit()){const l=n.getAssignedUnit(),u=l.getSkills(!0);for(let h=0;h<u.length;++h){const p=Math.floor(u[h]*setup.VICELEADER_SKILL_MULTI);p&&e[h].push({value:p,title:`Vice leader ${l.rep()}`})}}}const t=State.variables.friendship.getBestFriend(this);if(t){let n=!1;if(this.isSlaver()&&t.isSlaver()&&(n=!0),n){const l=State.variables.friendship.getFriendship(this,t),u=t.getSkills(!0),h=this.getSkills(!0),p=State.variables.friendship.isLoversWithBestFriend(this);if(l>0||p){const c=setup.FRIENDSHIP_MAX_SKILL_GAIN*Math.abs(l)/1e3;for(let d=0;d<u.length;++d)if(u[d]>h[d]){const g=Math.floor(c*(u[d]-h[d]));g&&e[d].push({value:g,title:`Friendship: ${t.rep()}`})}}if(l<0||p){const c=setup.RIVALRY_MAX_SKILL_GAIN*Math.abs(l)/1e3;for(let d=0;d<u.length;++d)if(u[d]<h[d]){const g=Math.floor(c*u[d]);g&&e[d].push({value:g,title:`Rivalry: ${t.rep()}`})}}}}const a=State.variables.bedchamberlist.getBedchambers({slaver:this});if(a.length){const n=Array(setup.skill.length).fill(0);for(let l=0;l<a.length;++l){const u=a[l].getSkillAddition();for(let h=0;h<setup.skill.length;++h)n[h]=Math.max(n[h],u[h])}for(let l=0;l<setup.skill.length;++l)n[l]&&e[l].push({value:n[l],title:"Bedchamber"})}const r=State.variables.titlelist.computeSkillAdds(this);for(let n=0;n<r.length;++n)r[n]&&e[n].push({value:r[n],title:"Titles"});const s=State.variables.roomlist.getTotalSkillBonuses();for(let n=0;n<s.length;++n)s[n]&&e[n].push({value:s[n],title:"Fort"})}return e},setup.Unit.prototype.getSkill=function(i){return this.getSkills()[i.key]},setup.Unit.prototype.setSkillFocus=function(i,e){if(this.initSkillFocuses(),i<0||i>=this.skill_focus_keys.length)throw new Error("index out of range for set skill focus");if(!e)throw new Error("skill not found for set skill focus");this.skill_focus_keys[i]=e.key},setup.Unit.prototype.getRandomSkillIncreases=function(){let i=this.getSkillFocuses(),e=Array(setup.skill.length).fill(0),t=setup.SKILL_INCREASE_PER_LEVEL;for(let r=0;r<i.length;++r){let s=i[r];e[s.key]||(e[s.key]=1,t-=1)}for(let r=0;r<i.length;++r){let s=i[r];Math.random()<setup.SKILL_FOCUS_MULTI_INCREASE_CHANCE&&(e[s.key]+=1,t-=1)}let a=this.getSkills(!0);for(;t;){let r=[];for(let n=0;n<setup.skill.length;++n)e[n]==0&&r.push([n,Math.max(1,a[n]-setup.SKILL_INCREASE_BASE_OFFSET)]);setup.rng.normalizeChanceArray(r);let s=setup.rng.sampleArray(r);e[s]+=1,t-=1}return e},setup.Unit.prototype.getSkillFocuses=function(i){this.initSkillFocuses();const e=this.skill_focus_keys.map(t=>setup.skill[t]);return i||e.sort(setup.Skill_Cmp),e},setup.Unit.prototype._increaseSkill=function(i,e){this.skills[i.key]+=e,this.resetCache()},setup.Unit.prototype.increaseSkills=function(i){if(!Array.isArray(i))throw new Error(`Skill gains must be array, not ${i}`);for(let e=0;e<i.length;++e)i[e]&&this._increaseSkill(setup.skill[e],i[e])},setup.Unit.prototype.initSkillFocuses=function(){if(this.skill_focus_keys&&this.skill_focus_keys.length)return;let i=this.getSkillModifiers(),e=[];for(let s=0;s<i.length;++s)e.push([s,i[s]]);setup.rng.shuffleArray(e),e.sort((s,n)=>n[1]-s[1]);let t=setup.skill[e[0][0]],a=setup.skill[e[1][0]],r=setup.skill[e[2][0]];Math.random()<setup.SKILL_TRIPLE_FOCUS_CHANCE?this.skill_focus_keys=[t.key,t.key,t.key]:Math.random()<setup.SKILL_DOUBLE_FOCUS_CHANCE?this.skill_focus_keys=[t.key,t.key,a.key]:this.skill_focus_keys=[t.key,a.key,r.key],this.resetCache()},setup.Unit.getConflictingPerTraits=function(i,e){const t=setup.TraitHelper.getAllTraitsOfTags(["per"]),a=[];for(const r of t){const s=r.getTraitGroup();if(s&&i.isHasTraitExact(r)){const n=e.getTraitFromTraitGroup(s);n&&(!s.isOrdered()||s._getTraitIndex(r)*s._getTraitIndex(n)<0)&&a.push([r,n])}}return a},setup.Unit.getAnyConflictingPerTraits=function(i,e){const t=setup.Unit.getConflictingPerTraits(i,e);return t.length?setup.rng.choice(t):null},setup.Unit.getSamePerTraits=function(i,e){return setup.TraitHelper.getAllTraitsOfTags(["per"]).filter(t=>i.isHasTraitExact(t)&&e.isHasTraitExact(t))},setup.Unit.getAnySamePerTraits=function(i,e){const t=setup.Unit.getSamePerTraits(i,e);return t.length?setup.rng.choice(t):null},setup.Unit.prototype.getTags=function(){return this.tags},setup.Unit.prototype.addTag=function(i){this.tags.push(i),this.resetCache()},setup.Unit.prototype.removeTag=function(i){this.tags=this.tags.filter(e=>e!=i),this.resetCache()},setup.Unit.prototype.isHasTag=function(i){return this.getTags().includes(i)},setup.UnitTitle={},setup.UnitTitle.UNIT_TITLE_SLAVE_NO_TRAINING="Defiant Slave",setup.UnitTitle.UNIT_TITLE_NONE="Generalist",setup.UnitTitle.UNIT_TITLE_MAP_SINGLE=["Fighter","Brawler","Scout","Spy","Slaver","Scholar","Trader","Healer","Wizard","Whore"],setup.UnitTitle.UNIT_TITLE_MAP_DOUBLE=[["","Gladiator","Archer","Rogue","Raider","Battle Scholar","Bard","Paladin","Magic Knight","Barbarian"],["","","Wildman","Enforcer","Breaker","Coach","Intimidator","Rescuer","Magic Brawler","Actor"],["","","","Hunter","Nomad","Survivor","Pioneer","Herbalist","Hermit","Beast"],["","","","","Torturer","Information Broker","Socialite","Artillery","Invisible","Kidnapper"],["","","","","","Experimentor","Schemer","Jailor","Magus","Sex Slaver"],["","","","","","","Wiseman","Medic","Sage","Pro"],["","","","","","","","Caretaker","Mindwasher","Hustler"],["","","","","","","","","Priest","Heal Slut"],["","","","","","","","","","Magic Whore"]],setup.UnitTitle.getMainTraining=function(i,e){if(i.isMindbroken())return setup.trait.training_mindbreak;let t=i.getAllTraitsWithTag("training");if(!t.length)return e&&i.isDefiant()?i.getTraitWithTag("will"):setup.trait.training_none;let a=Math.max.apply(Math,t.map(function(s){return s.getSlaveValue()})),r=[];for(let s=0;s<t.length;++s)t[s].getSlaveValue()==a&&r.push(t[s]);if(!r.length)throw new Error("??? why is this array empty???");return r[i.Seed("unittraining")%r.length]},setup.UnitTitle.getTitleSlave=function(i){return this.getMainTraining(i,!0).text().title},setup.UnitTitle.getTitleSlaver=function(i){let t=8+i.getLevel()*1.1,a=i.getSkillsBase(),r=[];for(let l=0;l<a.length;++l)a[l]>t&&r.push(l);if(!r.length||r.length>4)return this.UNIT_TITLE_NONE;if(r.length==1)return this.UNIT_TITLE_MAP_SINGLE[r[0]];r.sort((l,u)=>a[u]-a[l]);const s=this.UNIT_TITLE_MAP_DOUBLE[Math.min(r[0],r[1])][Math.max(r[0],r[1])];if(r.length==2)return s;if(r.length==3)return`${s}-${this.UNIT_TITLE_MAP_SINGLE[r[2]]}`;const n=this.UNIT_TITLE_MAP_DOUBLE[Math.min(r[2],r[3])][Math.max(r[2],r[3])];return`${s}-${n}`},setup.UnitTitle.getTitle=function(i){return i.isSlave()?setup.UnitTitle.getTitleSlave(i):setup.UnitTitle.getTitleSlaver(i)},setup.Unit.prototype.getTitle=function(){return setup.UnitTitle.getTitle(this)},setup.Unit.prototype.addTrait=function(i,e,t){if(!i&&!e)throw new Error("Must have either non null trait or non null trait group");if(i){if(e){if(i.getTraitGroup()!=e)throw new Error(`Incorrect trait group for ${i.key}`)}else e=i.getTraitGroup();if(!i.isAttachable())throw new Error(`Cannot add trait ${i.key} because it is not an attachable trait`)}let a=i;if(e&&!t&&e.isOrdered()&&(a=e.computeResultingTrait(this,i)),a&&(a.getTags().includes("vagina")||a.getTags().includes("anus"))){const s=a.getTraitGroup(),n=this.getTraitFromTraitGroup(s),l=s._getTraitIndex(a)-s._getTraitIndex(n);if(l<0){if(this.isHasTrait(setup.trait.curse_agape1)){this.decreaseTrait(setup.trait.curse_agape8.getTraitGroup());let u;return a.getTags().includes("vagina")?u="vagina":u="anus",this.isYourCompany()&&setup.notify(`a|Reps Curse of Agape prevents a|their ${u} from being tightened`,{a:this}),null}}else if(l>0&&this.isHasTrait(`blessing_virginity${l}`)){for(let h=0;h<l;++h)this.decreaseTrait(setup.trait.blessing_virginity8.getTraitGroup());let u;return a.getTags().includes("vagina")?u="vagina":u="anus",this.isYourCompany()&&setup.notify(`a|Reps Blessing of Virginity prevents a|their ${u} from being gaped`,{a:this}),null}}{const s=setup.trait.per_submissive,n=setup.trait.per_dominant;if(e&&[s,n].includes(e.getTraits()[0])){if(a==s&&!this.isHasTrait(s)||!a&&this.isHasTrait(n)){if(this.isHasTrait(setup.trait.blessing_wolf1))return this.decreaseTrait(setup.trait.blessing_wolf8.getTraitGroup()),this.isYourCompany()&&setup.notify("a|Reps Blessing of Wolf prevents a|them from becoming more submissive",{a:this}),null}else if((a==n&&!this.isHasTrait(n)||!a&&this.isHasTrait(s))&&this.isHasTrait(setup.trait.curse_lamb1))return this.decreaseTrait(setup.trait.curse_lamb8.getTraitGroup()),this.isYourCompany()&&setup.notify("a|Reps Curse of Lamb prevents a|them from becoming more dominant",{a:this}),null}}if(e){let s=e.getTraits();for(let n=0;n<s.length;++n){let l=s[n];l&&this.isHasRemovableTrait(l)&&l!=a&&(this.removeTraitExact(l),this.isYourCompany()&&setup.notify(`a|Rep <<dangertext 'a|lose'>> ${l.rep()}`,{a:this}))}}let r=null;if(a&&!this.isHasRemovableTrait(a)){let s=!1;for(const n of a.getTags())if(n in setup.TRAIT_MAX_HAVE){const l=setup.TRAIT_MAX_HAVE[n];if(this.getAllTraitsWithTag(n).filter(h=>this.isHasRemovableTrait(h)).length>=l){s=!0,(this.isYourCompany()||State.variables.gDebug)&&(a.getTags().includes("perk")?setup.notify(`a|Rep <<dangertext 'a|fail'>> to gain ${a.rep()} because a|they already a|have too many perks! You can reset a|their perks using the ${setup.item.potion_perk.rep()}.`,{a:this}):setup.notify(`a|Rep <<dangertext 'a|fail'>> to gain ${a.rep()} because a|they already a|have too many traits of this same type`,{a:this}));break}}s||(this.trait_key_map[a.key]=!0,r=a,((!this.isMindbroken()||Wy([a]).length)&&this.isYourCompany()||State.variables.gDebug)&&setup.notify(`a|Rep <<successtext 'a|gain'>> ${a.rep()}`,{a:this}))}return this.resetCache(),r},setup.Unit.prototype.decreaseTrait=function(i){if(!i)throw new Error("Missing trait group in decreaseTrait");return this.addTrait(null,i)},setup.Unit.prototype.getInnateTraits=function(){return Object.keys(this.innate_trait_key_map).map(i=>setup.trait[i])},setup.Unit.prototype.isHasInnateTrait=function(i){return i.key in this.innate_trait_key_map},setup.Unit.prototype.makeInnateTrait=function(i,e){if(!i.getTags().includes("skin"))throw new Error("Can only make innate traits from skin traits");e=e||i.getTraitGroup();for(const t of this.getInnateTraits())t.getTraitGroup()==e&&delete this.innate_trait_key_map[t.key];this.innate_trait_key_map[i.key]=!0},setup.Unit.prototype.setInnateTraits=function(i){this.innate_trait_key_map={};for(const e of i)this.innate_trait_key_map[e.key]=!0},setup.Unit.prototype.resetInnateTraits=function(){this.setInnateTraits(this.getAllTraitsWithTag("skin"))},setup.Unit.prototype.getMissingInnateTraits=function(){const i=this.getInnateTraits(),e=[];for(const t of i)this.isHasRemovableTrait(t)||e.push(t);return e},setup.Unit.prototype.getNonInnateSkinTraits=function(){const i=this.getAllTraitsWithTag("skin"),e=[];for(const t of i)this.isHasInnateTrait(t)||e.push(t);return e};function Wy(i){const e=["per","skill","perk"];return i.filter(t=>!t.getTags().includesAny(e)).filter(t=>t!=setup.trait.will_defiant).filter(t=>t==setup.trait.training_mindbreak||!t.getTags().includes("training"))}o(Wy,"removeMindbrokenTraits"),setup.Unit.prototype.getBaseTraits=function(){return Object.keys(this.getBaseTraitMapCache()).map(i=>setup.trait[i])},setup.Unit.prototype.getTraits=function(){return Object.keys(this.getTraitMapCache()).map(i=>setup.trait[i])},setup.Unit.prototype.getAllTraits=function(){const i=this.getTraits().concat(this.getExtraTraits());return i.sort(setup.Trait_Cmp),i},setup.Unit.prototype.getExtraTraits=function(){return Object.keys(this.getExtraTraitMapCache()).map(i=>setup.trait[i])},setup.Unit.prototype.getRemovableTraits=function(){return this.getBaseTraits().filter(i=>i.isAttachable())},setup.Unit.prototype.getTraitFromTraitGroup=function(i){if(!i)throw new Error("missing trait group");const e=i.getTraits();for(const t of e)if(t&&this.isHasTraitExact(t))return t;return null},setup.Unit.prototype.isHasAnyTraitExact=function(i,...e){if(Array.isArray(i)){for(const t of i)if(this.isHasTraitExact(t))return!0}else for(const t of[i].concat(e))if(this.isHasTraitExact(t))return!0;return!1},setup.Unit.prototype.isHasTraitsExact=function(i){for(const e of i)if(!this.isHasTraitExact(e))return!1;return!0},setup.Unit.prototype.isHasTraitIncludeExtra=function(i){for(const e of i.getTraitCover())if(this.isHasTraitIncludeExtraExact(e))return!0;return!1},setup.Unit.prototype.isHasTraitIncludeExtraExact=function(i){return this.isHasTraitExact(i)||i.key in this.getExtraTraitMapCache()},setup.Unit.prototype.isHasTrait=function(i,e,t){const a=setup.selfOrObject(i,setup.trait);if(a&&!(a instanceof setup.Trait))throw new Error(`isHasTrait expects either a string or a trait, e.g., isHasTrait("per_kind") or isHasTrait(setup.trait.per.kind), but found a ${typeof i}: ${i} instead.`);let r=e;if(!r){if(!a)throw new Error(`Missing trait: ${i}`);r=a.getTraitGroup()}if(r&&!t){if(a)return this.isHasAnyTraitExact(r.getTraitCover(a));{const s=r.getTraitCover(a,!0);return!this.isHasAnyTraitExact(s)}}else return this.isHasAnyTraitExact([a])},setup.Unit.prototype.removeTraitsWithTag=function(i){const e=[],t=this.getTraits();for(const a of t)a.getTags().includes(i)&&e.push(a);for(const a of e)this.removeTraitExact(a)},setup.Unit.prototype.removeTraitExact=function(i){if(i.isAttachable())return i.key in this.trait_key_map?(delete this.trait_key_map[i.key],this.resetCache(),!0):!1},setup.Unit.prototype.isHasTraitExact=function(i){let e=setup.selfOrObject(i,setup.trait);if(!e)throw new Error(`Missing trait in is has trait exact: ${i}`);return e.key in this.getTraitMapCache()},setup.Unit.prototype.isHasRemovableTrait=function(i,e){const t=setup.selfOrObject(i,setup.trait);return t.isAttachable()?this.isHasTrait(t,null,!e):!1},setup.Unit.prototype.isMale=function(){return this.isHasTraitExact(setup.trait.gender_male)},setup.Unit.prototype.isFemale=function(){return this.isHasTraitExact(setup.trait.gender_female)||this.isSissy()},setup.Unit.prototype.isSissy=function(){return this.isHasTraitExact(setup.trait.training_sissy_advanced)||this.isHasTraitExact(setup.trait.training_sissy_master)},setup.Unit.prototype.isHasBalls=function(){return this.isHasTrait(setup.trait.balls_tiny)},setup.Unit.prototype.isHasVagina=function(){return this.isHasTrait(setup.trait.vagina_tight)},setup.Unit.prototype.getWings=function(){return this.getTraitWithTag("wings")},setup.Unit.prototype.getTail=function(){return this.getTraitWithTag("tail")},setup.Unit.prototype.getTailPlug=function(){const i=this.getEquipmentAt(setup.equipmentslot.rear);return i&&i.getTags().includes("tailplug")?i:null},setup.Unit.prototype.isHasTail=function(i){return!!(this.getTail()||i&&this.getTailPlug())},setup.Unit.prototype.getTraitWithTag=function(i){let e=this.getTraits();for(let t=0;t<e.length;++t)if(e[t]&&e[t].getTags().includes(i))return e[t];return null},setup.Unit.prototype.getAllTraitsWithTag=function(i){return this.getTraits().filter(e=>e.getTags().includes(i))},setup.Unit.prototype.getSubrace=function(){const i=Object.keys(this.trait_key_map).map(e=>setup.trait[e]).filter(e=>e.getTags().includes("subrace"));if(i.length>1)throw`Incorrect subrace for unit ${this.key}. Unit has ${i.length} subraces.`;return i.length?i[0]:setup.trait.subrace_humankingdom},setup.Unit.prototype.getRace=function(){const i=this.getSubrace(),e=i.getTags().map(t=>setup.trait[t]).filter(t=>t&&t.getTags().includes("race"));if(e.length!=1)throw new Error(`Unknown main race for ${i}!`);return e[0]},setup.Unit.prototype.getGender=function(){return this.getTraitWithTag("gender")},setup.Unit.prototype._getPurifiable=function(i){const e=setup.TraitHelper.getAllTraitsOfTags(["skin"]),t=[],a=this.isHasTrait(setup.trait.dick_tiny);for(const r of e)i&&!r.getTags().includes(i)||r.getTags().includes("dickshape")&&!a||(this.isHasInnateTrait(r)&&!this.isHasRemovableTrait(r)?t.push([r,r.getTraitGroup()]):!this.isHasInnateTrait(r)&&this.isHasRemovableTrait(r)&&t.push([null,r.getTraitGroup()]));return t},setup.Unit.prototype.isCanPurify=function(i){return this._getPurifiable(i).length>0},setup.Unit.prototype.purify=function(i){if(this.isSlaver()?State.variables.statistics.add("purifications_slaver",1):this.isSlave()&&State.variables.statistics.add("purifications_slave",1),this.getRace()==setup.trait.race_demon)return this.isYourCompany()&&setup.notify("a|Rep a|attempt to be purified but demons cannot be purified, no matter what",{a:this}),null;let e=this._getPurifiable(i);if(!e.length)return this.isYourCompany()&&setup.notify("a|Rep a|attempt to be purified but nothing happened",{a:this}),null;let t=setup.rng.choice(e);this.addTrait(t[0],t[1])};function Qy({unit:i,trait_tag:e,is_return_anyways:t,is_ignore_blessing:a}){if(!a&&i.isHasTrait(setup.trait.blessing_purity1))return i.decreaseTrait(setup.trait.blessing_purity1.getTraitGroup()),i.isYourCompany()&&setup.notify("a|Reps Blessing of Purity prevents an impending corruption",{a:i}),null;i.isSlaver()?State.variables.statistics.add("corruptions_slaver",1):i.isSlave()&&State.variables.statistics.add("corruptions_slave",1);let r=Math.random(),s=[],n=["skin"];e&&n.push(e);let l=setup.CORRUPTION_MISFIRE_RARE_CHANCE,u=setup.CORRUPTION_MISFIRE_MEDIUM_CHANCE;if(t&&(l*=setup.CORRUPTION_PERMANENT_MISFIRE_CHANCE_MULTIPLIER,u*=setup.CORRUPTION_PERMANENT_MISFIRE_CHANCE_MULTIPLIER),r<l?s=setup.TraitHelper.getAllTraitsOfTags(n.concat(["rare"])):r<u&&(s=setup.TraitHelper.getAllTraitsOfTags(n.concat(["medium"]))),s.length||(s=setup.TraitHelper.getAllTraitsOfTags(n.concat(["common"]))),s=s.filter(c=>i.isTraitCompatible(c)),!s.length)return null;let h=setup.rng.choice(s),p=!1;return i.isHasRemovableTrait(h)&&(p=!0),p?(i.isYourCompany()&&setup.notify("a|Rep a|is supposed to be corrupted but nothing happened.",{a:i}),t?h:null):i.addTrait(h)}o(Qy,"doCorrupt"),setup.Unit.prototype.corrupt=function(i,e){return!e&&!i&&this.isHasTrait(setup.trait.curse_vice1)&&(this.decreaseTrait(setup.trait.curse_vice1.getTraitGroup()),this.isYourCompany()&&setup.notify("a|Reps Curse of Vice amplifies the corruption...",{a:this}),Math.random()<setup.CURSE_VICE_PERMANENT_CORRUPTION_CHANCE?this.corruptPermanently():Qy({unit:this})),Qy({unit:this,trait_tag:i,is_return_anyways:e})},setup.Unit.prototype.corruptPermanently=function(){const i=Qy({unit:this,is_ignore_blessing:!0});return i?(this.makeInnateTrait(i),i):null},setup.Unit.prototype.getSpeech=function(){return this.is_speech_reset&&this.recomputeSpeech(),setup.speech[this.speech_key]},setup.Unit.prototype.getSpeechChances=function(){let i={};for(let e in setup.speech){let t=setup.speech[e];i[e]=t.computeScore(this)}return i},setup.Unit.prototype.resetSpeech=function(){this.is_speech_reset=!0},setup.Unit.prototype.recomputeSpeech=function(){let i=this.getSpeechChances(),e=Object.values(i),t=Math.max(...e);if(this.speech_key&&i[this.speech_key]==t)return;this.speech_key=null;let a=Object.keys(i);setup.rng.shuffleArray(a);for(let r=0;r<a.length;++r){let s=a[r];if(i[s]==t){this.speech_key=s;break}}if(!this.speech_key)throw new Error("??????");this.is_speech_reset=!1},setup.Unit.prototype.isAllowedTalk=function(){let i=this.getBedchamber();return!(this.isSlave()&&i&&i.getOption("speech")!="full")},setup.Unit.prototype.isCanTalk=function(){return this.isAllowedTalk()&&this.isCanPhysicallyTalk()},setup.Unit.prototype.isAllowedWalk=function(){let i=this.getBedchamber();return!(this.isSlave()&&i&&i.getOption("walk")!="walk")},setup.Unit.prototype.isCanWalk=function(){return this.isAllowedWalk()&&this.isCanPhysicallyWalk()},setup.Unit.prototype.isAllowedOrgasm=function(){let i=this.getBedchamber();return!(this.isSlave()&&i&&i.getOption("orgasm")!="yes")},setup.Unit.prototype.isCanOrgasm=function(){return!(!this.isAllowedOrgasm()||this.isHasTrait(setup.trait.eq_chastity)||this.isHasDick()&&!this.isCanPhysicallyCum())},setup.Unit.prototype.isCanPhysicallyTalk=function(){return!this.isHasTrait(setup.trait.eq_gagged)},setup.Unit.prototype.isCanPhysicallyWalk=function(){return!this.isHasTrait(setup.trait.eq_restrained)},setup.Unit.prototype.isCanPhysicallyOrgasm=function(){return!this.isHasTrait(setup.trait.eq_chastity)},setup.Unit.prototype.isCanPhysicallyCum=function(){return this.isHasDick()&&this.isCanPhysicallyOrgasm()},setup.Unit.prototype.isCanSee=function(){return this.isHasTrait(setup.trait.eq_blind)},setup.Unit.prototype.isDietCum=function(){let i=this.getBedchamber();return this.isSlave()&&i&&i.getOption("food")=="cum"},setup.Unit.prototype.isDietMilk=function(){let i=this.getBedchamber();return this.isSlave()&&i&&i.getOption("food")=="milk"},setup.Unit.prototype.getDefaultWeapon=function(){return[setup.equipment.weapon_sword,setup.equipment.weapon_spear,setup.equipment.weapon_axe,setup.equipment.weapon_dagger,setup.equipment.weapon_staff][this.Seed("defaultweapon")%5]},setup.Unit.prototype.isTraitCompatible=function(i){return!(!i.isAttachableTo(this)||i instanceof setup.Perk&&!this.getPerkChoices().includes(i))},setup.Unit.prototype.getInheritableTraits=function(){const i=this.getRemovableTraits().filter(t=>{const a=t.getTags();return a.includes("physical")||a.includes("per")||a.includes("skill")}),e=this.getInnateTraits();return i.concat(e)},setup.Unit.prototype.getHomeland=function(){return setup.Text.Race.region(this.getSubrace())},setup.Unit.prototype.getHomeCompany=function(){if(this.isHasAnyTraitExact(["bg_boss","bg_raider","bg_slaver","bg_thief","bg_thug"]))return State.variables.company.outlaws;{const i=this.getSubrace(),e=i.getTexts().company_key;if(!(e in State.variables.company))throw new Error(`Missing company key ${e} for race ${i.getName()}`);return State.variables.company[e]}},setup.Unit.prototype.isFurryBody=function(){const i=this.getTraitWithTag("body");return i&&i.getTags().includes("furry")},setup.Unit.prototype.resetTraitMapCache=function(){State.variables.cache.clear("unitbasetrait",this.key),State.variables.cache.clear("unittrait",this.key),State.variables.cache.clear("unitextratrait",this.key)};function Zy(i,e,t){let a=State.variables.cache.get(e,i.key);if(!a){const r=t();a={};for(const s of r)a[s.key]=!0;State.variables.cache.set(e,i.key,a)}return a}o(Zy,"getTraitMapCacheBackend"),setup.Unit.prototype.getTraitMapCache=function(){return Zy(this,"unittrait",()=>this._computeAllTraits())},setup.Unit.prototype.getExtraTraitMapCache=function(){return Zy(this,"unitextratrait",()=>this._computeAllExtraTraits())},setup.Unit.prototype.getBaseTraitMapCache=function(){return Zy(this,"unitbasetrait",()=>this._computeAllBaseTraits())},setup.Unit.prototype._computeAllExtraTraits=function(){const i={},e=this.getEquipmentSet();if(e){const r=e.getTraitsObj();for(const s in r){const n=setup.trait[s];n.isAttachable()&&(i[n.key]=!0)}}for(const r of this.getAllTraitsWithTag("perk")){const s=r;for(const n of s.getPerkExtraTraits())i[n.key]=!0}let t=Object.keys(i).map(r=>setup.trait[r]).filter(r=>!this.isHasTrait(r));return this.isMindbroken()&&(t=Wy(t)),t.sort(setup.Trait_Cmp),t},setup.Unit.prototype._computeAllBaseTraits=function(){let i=Object.keys(this.trait_key_map).map(a=>setup.trait[a]);this.isMindbroken()&&(i=Wy(i));let e=0,t=0;for(const a of i)a.getTags().includes("wings")&&i.push(setup.trait.skill_flight),a.isCorruption()&&!a.isNeedGenital()&&(e+=1),a.getTags().includes("training")&&(t+=1);return t==0&&this.isSlaveOrInSlaveMarket()&&i.push(setup.trait.training_none),e>=7?i.push(setup.trait.corruptedfull):e>=2&&i.push(setup.trait.corrupted),i.push(this.getRace()),i.sort(setup.Trait_Cmp),i},setup.Unit.prototype._computeAllTraits=function(){let i=this.getBaseTraits();const e=this.getBaseTraitMapCache(),t=this.getEquipmentSet();if(t){let r=t.getTraitsObj();for(let s in r){const n=setup.trait[s];n.key in e||n.isAttachable()||i.push(n)}}if(this.isYourCompany()){let r=this.getWeeksWithCompany();r<setup.TRAIT_JUNIOR_THRESHOLD?i.push(setup.trait.join_junior):r>=setup.TRAIT_SENIOR_THRESHOLD&&i.push(setup.trait.join_senior)}let a=this.getSlaveValue();if(a<setup.TRAIT_VALUE_LOW_THRESHOLD)i.push(setup.trait.value_low);else for(let r=setup.TRAIT_VALUE_HIGH_THRESHOLDS.length-1;r>=0;--r)if(a>=setup.TRAIT_VALUE_HIGH_THRESHOLDS[r]){i.push(setup.trait[`value_high${r+1}`]);break}return i=i.concat(State.variables.trauma.getTraits(this)),i.push(this.getJob().getTrait()),i.sort(setup.Trait_Cmp),i},setup.UnitBirth=(un=class{static generateChild(e,t,a){if(!a)throw new Error("preference must be set for generateChild");let r=1;a&&(r=a.retries+1);let s=null;for(let n=0;n<r;++n){const l=GE(e,t);if(n<r-1&&a&&!l.isHasTraitExact(setup.trait[a.trait_key]))l.delete();else{s=l;break}}return State.variables.family.setParent(t,s),State.variables.family.setParent(e,s),s}},o(un,"Unitbirth"),un);function GE(i,e){const t=setup.rng.choice([i.getSubrace(),e.getSubrace()]),r=setup.UnitPool.getUnitPool(t).generateUnit();if(Math.random()<setup.CHILD_TRAIT_BACKGROUND_INHERIT_CHANCE){const n=i.getAllTraitsWithTag("bg").filter(h=>i.isHasRemovableTrait(h)),l=e.getAllTraitsWithTag("bg").filter(h=>e.isHasRemovableTrait(h)),u=n.concat(l);if(u.length){const h=setup.rng.choice(u);setup.qc.BgTraitReset("unit",h).apply(setup.costUnitHelper(r))}}const s=i.getInheritableTraits().concat(e.getInheritableTraits()).concat(r.getInheritableTraits());setup.qc.RemoveTraitsWithTag("unit","per").apply(setup.costUnitHelper(r)),setup.qc.RemoveTraitsWithTag("unit","skill").apply(setup.costUnitHelper(r)),setup.rng.shuffleArray(s);for(const n of s)!r.isTraitCompatible(n)||n.getTags().includes("breast")&&r.isMale()||Math.random()<setup.CHILD_TRAIT_NON_BACKGROUND_INHERIT_CHANCE&&setup.qc.TraitReplace("unit",n).apply(setup.costUnitHelper(r));return r.resetInnateTraits(),r}o(GE,"doGenerateChild"),setup.UnitGroup=(ui=class extends setup.TwineClass{constructor(e,t,a,r,s){super(),e?this.key=e:this.key=String(setup.UnitGroup.keygen++),this.name=t,this.unitpool_keys=[],setup.isString(a)&&(a=setup.unitgroup[a].getUnitPools());for(let n=0;n<a.length;++n)this.unitpool_keys.push([a[n][0].key,a[n][1]]);this.unitpool_keys.length&&setup.rng.normalizeChanceArray(this.unitpool_keys),this.reuse_chance=r,this.is_base=!1,this.unit_post_process=s||[];for(let n=0;n<s.length;++n){let l=s[n];if(!l)throw new Error(`unit group ${e} missing unit post process ${n}`);if("actor_name"in l&&l.actor_name!="unit")throw new Error(`unit group ${e} post process ${n} actor name must be "unit"`)}this.key in setup.unitgroup||(setup.unitgroup[this.key]=this),this.temporary_unit_key=null}isBase(){return this.is_base}toJs(){let e=`new setup.UnitGroup(
`;e+=`"${this.key}",
`,e+=`"${setup.escapeJsString(this.name)}",
`;let t=null;for(const a of Object.values(setup.unitgroup))if(a instanceof setup.UnitGroup&&a.isBase()){const r=a.unitpool_keys,s=this.unitpool_keys;if(r.length==s.length){let n=!0;for(let l=0;l<r.length;++l)(r[l][0]!=s[l][0]||Math.abs(r[l][1]-s[l][1])>1e-6)&&(n=!1);if(n){t=a;break}}}if(t)e+=`'${t.key}', """ /* pools */ """
`;else{e+=`[ """ /* pools */ """
`;for(const[a,r]of this.getUnitPools())e+=`&nbsp; [setup.unitpool.${setup.keyOrSelf(a)}, ${r}],
`;e+=`],
`}e+=`${this.reuse_chance},  """ /* reuse chance */ """
`,e+=`[ """ /* unit post process */ """
`;for(const a of this.unit_post_process)e+=`&nbsp; ${a.text()},
`;return e+=`],
`,e+=")",e}rep(){return setup.repMessage(this,"unitgroupcardkey")}getUnitPools(){let e=[];for(let t=0;t<this.unitpool_keys.length;++t){let a=this.unitpool_keys[t];e.push([setup.unitpool[a[0]],a[1]])}return e}getActorUnit(e){if(e!="unit")throw new Error(`Unknown actor name ${e}`);if(!this.temporary_unit_key)throw new Error("temporary unit not set");return State.variables.unit[this.temporary_unit_key]}resetUnitGroupUnitKeys(){this.reuse_chance&&(this.key in State.variables.unitgroup_unit_keys||(State.variables.unitgroup_unit_keys[this.key]=[]))}getOnlyUnit(){if(this.resetUnitGroupUnitKeys(),!this.reuse_chance)throw new Error("GetOnlyUnit only usable when reuse chance is non zero");let e=State.variables.unitgroup_unit_keys[this.key];return e.length?State.variables.unit[e[0]]:null}getAllUnits(){if(this.resetUnitGroupUnitKeys(),!this.reuse_chance)throw new Error("getAllUnits only usable when reuse chance is non zero");const e=State.variables.unitgroup_unit_keys[this.key];return e?e.map(t=>State.variables.unit[t]):[]}_generateUnit(e){let t=1;e&&(t=e.retries+1);let a=null;for(let r=0;r<t;++r){const s=setup.rng.sampleArray(this.unitpool_keys),n=setup.unitpool[s];if(!n)throw new Error(`Missing unit pool for ${this.key} unit group?`);if(a=n.generateUnit(),r<t-1&&e&&!a.isHasTraitExact(setup.trait[e.trait_key]))a.delete();else break}return setup.RestrictionLib.applyAll(this.unit_post_process,setup.costUnitHelperDict({unit:a})),a}getUnit(e){if(this.resetUnitGroupUnitKeys(),this.cleanUnits(),Math.random()<this.reuse_chance){let a=[],r=State.variables.unitgroup_unit_keys[this.key];for(let s=0;s<r.length;++s){let n=r[s],l=State.variables.unit[n];l.isEngaged()||a.push(l)}if(a.length)return a[Math.floor(Math.random()*a.length)]}const t=this._generateUnit(e);return this.reuse_chance&&(this.resetUnitGroupUnitKeys(),t.unit_group_key=this.key,State.variables.unitgroup_unit_keys[this.key].push(t.key)),t}removeUnit(e){if(this.resetUnitGroupUnitKeys(),e.unit_group_key!=this.key)throw new Error("invalid unit");if(this.reuse_chance){let t=State.variables.unitgroup_unit_keys[this.key];if(!t.includes(e.key))throw new Error("invalid array");State.variables.unitgroup_unit_keys[this.key]=t.filter(a=>a!=e.key)}e.unit_group_key=null,e.checkDelete()}isEmpty(){return this.resetUnitGroupUnitKeys(),this.reuse_chance?State.variables.unitgroup_unit_keys[this.key].length==0:!0}isBusy(){for(const e of this.getAllUnits())if(e.isEngaged())return!0;return!1}hasUnbusyUnit(){if(this.resetUnitGroupUnitKeys(),!this.reuse_chance)return!1;let e=State.variables.unitgroup_unit_keys[this.key];if(!e)throw new Error(`Unit keys not found for ${this.key}`);for(let t=0;t<e.length;++t)if(!State.variables.unit[e[t]].isEngaged())return!0;return!1}addUnit(e){if(e.unit_group_key)throw new Error("Already in a group");if(e.company_key)throw new Error("Already in a company");this.reuse_chance?(this.resetUnitGroupUnitKeys(),State.variables.unitgroup_unit_keys[this.key].push(e.key),e.unit_group_key=this.key):e.checkDelete(),this.cleanUnits()}cleanUnits(){if(this.resetUnitGroupUnitKeys(),!this.reuse_chance||this.reuse_chance==2)return;let e=State.variables.unitgroup_unit_keys[this.key];for(;e.length>setup.UNIT_GROUP_MAX_UNITS;){let t=setup.rng.choice(e),a=State.variables.unit[t];this.removeUnit(a),e=State.variables.unitgroup_unit_keys[this.key]}}removeAllUnits(){if(this.resetUnitGroupUnitKeys(),!this.reuse_chance)return;let e=State.variables.unitgroup_unit_keys[this.key];for(;e.length>0;){let t=e[0],a=State.variables.unit[t];this.removeUnit(a),e=State.variables.unitgroup_unit_keys[this.key]}}getName(){return this.name}computeStatistics(){try{let e=0,t=setup.INFINITY,a=0;for(let s=0;s<setup.COMPUTE_APPROXIMATE_VALUE_REPS;++s){const n=this._generateUnit();e+=n.getSlaveValue(),t=Math.min(t,n.getSlaveValue()),a=Math.max(a,n.getSlaveValue()),n.delete()}State.variables.notification.popAll();const r=Math.round(e/setup.COMPUTE_APPROXIMATE_VALUE_REPS*setup.COMPUTE_APPROXIMATE_VALUE_MULTIPLIER);return{min:t,max:a,mean:r}}catch{return{min:0,max:0,mean:0}}}},o(ui,"UnitGroup"),y(ui,"keygen",1),ui),setup.UnitGroupSoldSlaves=(hn=class extends setup.UnitGroup{addUnit(e){if(e.isMindbroken()||e.isDefiant()){super.addUnit(e);return}e.isObedient()?setup.unitgroup.soldslavesobedient.addUnit(e):e.isCompliant()?setup.unitgroup.soldslavesbasicobedience.addUnit(e):setup.unitgroup.soldslavesuntrained.addUnit(e)}},o(hn,"UnitGroupSoldSlaves"),hn);const Si="imagepacks",qE=U_("Imagepacks","seagreen"),Uv=class Uv{constructor(){y(this,"images",[]);y(this,"is_back_allowed",!0);y(this,"further",{})}};o(Uv,"UnitImageTableNode");let Ka=Uv;setup.UnitImage=(Ue=class extends setup.TwineClass{constructor(){super(),this.unit_image_map={},this.image_last_used={},this.image_ignored={},this.image_need_reset={},this.image_use_counter=1}resetAllImages(){this.unit_image_map={},this.image_last_used={},this.image_ignored={},this.image_need_reset={},this.image_use_counter=1}advanceWeek(){this.image_use_counter+=setup.UNIT_IMAGE_WEEKEND_MEMORY_LAPSE}getImagePath(e){return this._doResetImage(e),e.key in this.unit_image_map||this._updateImage(e),this.unit_image_map[e.key]}getImageObject(e){return setup.UnitImage.getImageObject(this.getImagePath(e))}getImages(e,t){function a(u){const h=(u.images||[]).slice(),p=u.further||{};for(const c in p)if(c in setup.trait&&e.isHasTrait(setup.trait[c])){const d=p[c],g=a(d);h.push(...g)}return h}o(a,"resolveImageList");const r=this._getDeepestNode(e);let s=r?a(r):[];if(t||(s=s.filter(u=>!this.image_ignored[u.path])),s.length||s.push(Ue.DEFAULT_IMAGE),t)return s;const n={};for(const u in this.unit_image_map){const h=this.unit_image_map[u];n[h]=!0}const l=s.filter(u=>!n[u.path]);return l.length?l:s}getImagesByTraitSet(e,t){const a={};function r(n,l){var h,p;(h=n.images)!=null&&h.length&&(a[p=l.join("|")]??(a[p]=[])).push(...n.images);const u=n.further||{};for(const c in u)c in setup.trait&&e.isHasTrait(setup.trait[c])&&r(u[c],[...l,c])}o(r,"processNode");const s=t?setup.UnitImage.UNIT_IMAGE_TABLE:this._getDeepestNode(e);return s&&r(s,[]),Object.entries(a).map(([n,l])=>({traits:n.split("|"),images:l}))}_getDeepestNode(e,t){t||(t=setup.UnitImage.UNIT_IMAGE_TABLE);for(const a in t.further){const r=setup.trait[a];if(!e.isHasTrait(r))continue;const s=t.further[a],n=this._getDeepestNode(e,s);if(n)return n;if(!s.is_back_allowed)return s}return t==setup.UnitImage.UNIT_IMAGE_TABLE?t:null}getLastUsed(e){return e.path in this.image_last_used?this.image_last_used[e.path]:-setup.UNIT_IMAGE_MEMORY}resetImage(e,t){this.image_need_reset[e.key]=t}deleteUnit(e){delete this.image_need_reset[e.key],delete this.unit_image_map[e.key]}_doResetImage(e){if(!(e.key in this.image_need_reset))return;const t=this.image_need_reset[e.key];if(setup.UnitImage.IMAGES_LOADED){if(delete this.image_need_reset[e.key],!t&&e.key in this.unit_image_map){const a=this.getImages(e,!0),r=this.getImageObject(e);if(a.includes(r))return}e.key in this.unit_image_map&&(this.image_last_used[this.unit_image_map[e.key]]=this.image_use_counter,delete this.unit_image_map[e.key])}}setImage(e,t){this.resetImage(e,!0),this._doResetImage(e);const a=typeof t=="string"?t:t.path;this.unit_image_map[e.key]=a,this.image_last_used[a]=this.image_use_counter,this.image_use_counter+=1}getRandomImage(e){let t=this.getImages(e);setup.rng.shuffleArray(t);const a={};for(let n=0;n<t.length;++n)a[t[n].path]=n;const r=this;function s(n,l){const u=r.getLastUsed(n),h=r.getLastUsed(l),p=u>=r.image_use_counter-setup.UNIT_IMAGE_MEMORY,c=h>=r.image_use_counter-setup.UNIT_IMAGE_MEMORY;return p&&!c?-1:!p&&c?1:(n.depth??0)<(l.depth??0)?-1:(l.depth??0)<(n.depth??0)?1:u>h?-1:u<h?1:a[n.path]<a[l.path]?-1:1}return o(s,"ImageCmp"),t.sort(s),t[t.length-1]}_updateImage(e){if(e.key in this.unit_image_map)throw new Error(`resetImage() not called before _updateImage for ${e}`);const t=this.getRandomImage(e);this.setImage(e,t)}isImageIgnored(e){return!!this.image_ignored[e]}setImageIgnored(e,t){t?this.image_ignored[e]=!0:delete this.image_ignored[e]}static initializeImageTable(e){function t(u,h){u.is_back_allowed===void 0&&(u.is_back_allowed=!0),h.is_back_allowed!==void 0&&(u.is_back_allowed=u.is_back_allowed&&h.is_back_allowed);for(const p of h.images||[]){const c=u.images.findIndex(d=>d.path===p.path);c!==-1?u.images[c]=p:u.images.push(p)}}o(t,"mergeTableNode");function a(u,h,p,c,d,g){return importScripts(u+"imagemeta.js").then(function(){var S;if(!window.UNITIMAGE_CREDITS)throw new Error(`UNITIMAGE_CREDITS not found in ${u}`);if(!window.UNITIMAGE_LOAD_FURTHER)throw new Error(`UNITIMAGE_LOAD_FURTHER not found in ${u}`);const m=[];for(const M in window.UNITIMAGE_CREDITS){const k=`${u}${M}.jpg`,_=window.UNITIMAGE_CREDITS[M]||{};_.imagepack=g;const T={path:k,info:_,depth:c};d||(setup.UnitImage.UNIT_IMAGES[k]=T),m.push(T)}p.numimages+=m.length;const f=!0,b=window.UNITIMAGE_LOAD_FURTHER;if(t(h,{images:m,is_back_allowed:f}),c===1){const M=window.IMAGEPACK||{};p.title=M.title,p.author=M.author,p.description=M.description}delete window.UNITIMAGE_CREDITS,delete window.UNITIMAGE_NOBACK,delete window.UNITIMAGE_LOAD_FURTHER,delete window.IMAGEPACK;let v=[];for(const M of b){if(!(M in setup.trait))throw new Error(`Unrecognized trait key ${M} in directory ${u}!`);const k=`${u}${M}/`,_=(S=h.further)[M]??(S[M]=new Ka);v.push(a(k,_,p,c+1,d,g))}return Promise.allSettled(v)})}o(a,"processImageMeta");function r(u,h,p,c,d,g){var f;for(const b of h.images||[])b.path=p.url+"/"+b.path,b.depth=g,b.info&&(b.info.imagepack=d),setup.UnitImage.UNIT_IMAGES[b.path]=b;p.numimages+=(h.images||[]).length,t(u,h);const m=h.further||{};for(const b of Object.keys(m)){const v=(f=u.further)[b]??(f[b]=new Ka);r(v,m[b],p,c,d,g+1)}}o(r,"processImagePack");const s=o((u,h)=>{const p={url:u,numimages:0},c=h?new Ka:this.UNIT_IMAGE_TABLE;return new Promise((d,g)=>{importScripts(u+"/imagepack.js").then(()=>{const m=window.IMAGEPACK;delete window.IMAGEPACK,m?(p.title=m.title,p.author=m.author,p.description=m.description,r(c,m,p,h,u,1),d(p)):(alert('Detected image pack at "'+u+'", but its "imagepack.js" is invalid'),g())},()=>{console.log('If the error: "Failed to load resource: net::ERR_FILE_NOT_FOUND" is shown immediately above this for imagepack.js, it is normal and can be ignored.'),a(u+"/",c,p,1,h,u).then(d,g)})}).then(()=>p)},"tryLoadImagePack");this.UNIT_IMAGE_TABLE=new Ka,this.UNIT_IMAGES={},this.LOADED_IMAGEPACKS=[],this.IMAGES_LOADED=!1;const n=[],l=setup.globalsettings.imagepacks||[];n.push(...setup.UnitImage.DEFAULT_IMAGE_PACKS_SHOWN.filter(u=>!l.includes(u)));for(let u of l)u&&n.push(u);return Promise.allSettled(n.map(u=>s(u,!l.includes(u)).then(h=>{console.info(...qE(`Loaded "${u}"`)),this.LOADED_IMAGEPACKS.push(h)},h=>{console.warn(`Failed to load image pack "${u}" (${String(h)})`);const p=setup.UnitImage.DEFAULT_IMAGE_PACKS_SHOWN.indexOf(u);p!=-1&&setup.UnitImage.DEFAULT_IMAGE_PACKS_SHOWN.splice(p,1);const c=setup.UnitImage.DEFAULT_IMAGE_PACKS.indexOf(u);c!=-1&&setup.UnitImage.DEFAULT_IMAGE_PACKS.splice(c,1)}))).then(()=>{if(this.IMAGES_LOADED=!0,e&&!setup.globalsettings.imagepacks)return setup.globalsettings.imagepacks=setup.UnitImage.DEFAULT_IMAGE_PACKS,this.initializeImageTable()})}static getImagePackMetadata(e){return this.LOADED_IMAGEPACKS.find(t=>t.url===e)}static getCreditsByArtist(){const e={};function t(a){for(const r of a.images)r.info&&r.info.artist&&(r.info.artist in e||(e[r.info.artist]=[]),e[r.info.artist].push(r));for(const r in a.further)t(a.further[r])}return o(t,"populateResult"),t(this.UNIT_IMAGE_TABLE),e}static getImageObject(e){const t=this.UNIT_IMAGES[e];return t||(e?{path:e,info:{}}:setup.UnitImage.DEFAULT_IMAGE)}},o(Ue,"UnitImage"),y(Ue,"UNIT_IMAGE_TABLE",new Ka),y(Ue,"UNIT_IMAGES",{}),y(Ue,"LOADED_IMAGEPACKS",[]),y(Ue,"IMAGES_LOADED",!1),y(Ue,"loading_promise",null),y(Ue,"IMAGEPACK_DIR_NAME",Si),y(Ue,"DEFAULT_IMAGE_PACKS_SHOWN",[`${Si}/default`,`${Si}/CCSubmission`,`${Si}/example`]),y(Ue,"DEFAULT_IMAGE_PACKS",[`${Si}/default`,`${Si}/CCSubmission`]),y(Ue,"DEFAULT_IMAGE",Object.freeze({path:"img/special/defaultunit.svg",depth:0,info:{}})),Ue),setup.UnitImage.loading_promise=setup.UnitImage.initializeImageTable(!0),setup.UnitAction=(pn=class extends setup.TwineClass{constructor({key:e,tags:t,quest_template:a,prerequisites:r,unit_requirements:s,result_traits:n,prerequisite_traits:l,is_decrease:u,is_multitrain:h,is_allow_injured:p}){if(super(),!e)throw new Error(`null key base for ${e}`);if(this.key=e,!Array.isArray(t))throw new Error(`tags for unitaction ${e} must be an array`);if(this.tags=t,!a)throw new Error(`null quest base for ${e}`);if(this.quest_template_key=a.key,!("trainee"in a.getActorUnitGroups()))throw new Error(`actor trainee not found in quest ${a.key} in training ${e}`);this.prerequisites=r,this.unit_requirements=s;for(let c=0;c<s.length;++c)if(!s[c])throw new Error(`${c}-th requirement of training ${e} is blank.`);for(let c=0;c<r.length;++c)if(!r[c])throw new Error(`${c}-th prerequisites of training ${e} is blank.`);if(this.result_trait_keys=(n||[]).map(c=>c.key),this.result_trait_keys.filter(c=>!c).length)throw new Error(`Missing result trait for ${this.key}`);if(this.prerequisite_trait_keys=(l||[]).map(c=>c.key),this.prerequisite_trait_keys.filter(c=>!c).length)throw new Error(`Missing prerequisite trait for ${this.key}`);if(this.is_decrease=!!u,this.is_multitrain=!!h,this.is_allow_injured=!!p,e in setup.unitaction)throw new Error(`Training ${this.key} duplicated`);setup.unitaction[e]=this}getTags(){return this.tags}generateQuest(e,t,a){const r={};r.trainee=e;let s;return t?s=new setup.QuestInstanceUnitAction(this.getTemplate(),e,t):s=new setup.QuestInstance(this.getTemplate(),r),State.variables.company.player.addQuest(s),setup.notify(`New quest: ${s.rep()}`),!a&&State.variables.settings.unitactionautoassign&&setup.QuestAssignHelper.tryAutoAssign(s),s}isAvailable(){return setup.RestrictionLib.isPrerequisitesSatisfied(this,this.prerequisites)}isCanTrain(e){if(!this.isAvailable())return!1;if(this.is_allow_injured){if(!e.isHome())return!1}else if(!e.isAvailable())return!1;let t=this.getUnitRequirements();return!!setup.RestrictionLib.isUnitSatisfyIncludeDefiancy(e,t)}getName(){return this.getTemplate().getName()}getDescriptionPassage(){return this.getTemplate().getDescriptionPassage()}getUnitRequirements(){return this.unit_requirements}getPrerequisites(){return this.prerequisites}getTemplate(){return setup.questtemplate[this.quest_template_key]}isUnlocked(e){for(const t of this.getPrerequisites())if(t instanceof setup.qresImpl.Building&&!t.isOk(e))return!1;if(e.isDefiant()&&!setup.RestrictionLib.isRestrictionsAllowDefiant(this.getUnitRequirements()))return!1;for(const t of this.getUnitRequirements())if(t instanceof setup.qresImpl.Building&&!t.isOk()||t instanceof setup.qresImpl.Job&&!t.isOk(e)||t instanceof setup.qresImpl.NoTraits&&!t.isOk(e)||t instanceof setup.qresImpl.NoTrait&&t.trait_key==setup.trait.training_mindbreak.key&&!t.isOk(e))return!1;return!(this.isMultiTrain()&&!this.getFinalTraits(e).length)}isHidden(e){if(!this.isUnlocked(e))return!0;const t=this.getResultTraits().map(a=>a.getTraitGroup()).filter(a=>a);for(const a of this.getRequiredTraits())if(t.includes(a.getTraitGroup())&&!e.isHasTrait(a))return!0;return!1}isMultiTrain(){return this.is_multitrain}isDecreaseTrait(){return this.is_decrease}isPartOfTraining(e,t){const a=this.getFinalTraits(e);for(const r of t){if(e.isHasTraitExact(r))continue;const s=r.getTraitGroup();for(const n of a)if(s){if(s==n.getTraitGroup()){const l=e.getTraitFromTraitGroup(s),u=s._getTraitIndex(l);if((s._getTraitIndex(r)-u)*(this.isDecreaseTrait()?-1:1)>0)return!0}}else if(n==r)return!0}return!1}getFinalTraits(e){const t=this.getResultTraits(),a=[];for(const r of t)if(e.isTraitCompatible(r))if(this.isDecreaseTrait()){const s=r.getTraitGroup();if(!s)throw new Error(`Missing trait group from trait: ${r.key}`);const n=e.getTraitFromTraitGroup(s),l=s._getTraitIndex(n);s._getTraitIndex(r)<l&&a.push(r)}else e.isHasTrait(r)||a.push(r);return a}getResultTraits(){return this.result_trait_keys.map(e=>setup.trait[e])}getRequiredTraits(){return this.prerequisite_trait_keys.map(e=>setup.trait[e])}},o(pn,"UnitAction"),pn),setup.UnitActionHelper={},setup.UnitActionHelper.getTraitChoices=function(i){const e={};for(const a of Object.values(setup.unitaction))if(a.isMultiTrain()&&a.isUnlocked(i)){const r=a.getFinalTraits(i);for(const s of r)e[s.key]=!0}const t=Object.keys(e).map(a=>setup.trait[a]);return t.sort(setup.Trait_Cmp),t};function K_(i,e,t){for(const a of Object.values(setup.unitaction))if(a.isMultiTrain()&&a.isUnlocked(i)&&a.getResultTraits().includes(e))for(const r of a.getRequiredTraits())!t.includes(r)&&!i.isHasTrait(r)&&(t.push(r),K_(i,r,t))}o(K_,"doPopulateTraits"),setup.UnitActionHelper.populateTraits=function(i,e){for(const t of e.filter(a=>!0))K_(i,t,e);for(const t of e.filter(a=>!0)){const a=t.getTraitGroup();if(a){const r=Math.abs(a._getTraitIndex(t));e.filter(s=>s.getTraitGroup()==a&&Math.abs(a._getTraitIndex(s))>r).length&&e.splice(e.indexOf(t),1)}}for(const t of e.filter(a=>!0))t.getTags().includes("trmaster")&&e.filter(a=>a.getTags().includes("trmaster")&&a!=t).length&&e.splice(e.indexOf(t),1);e.sort(setup.Trait_Cmp)},setup.UnitActionHelper.generateQuest=function(i,e,t){const a=[];for(const r of Object.values(setup.unitaction))r.isMultiTrain()&&r.isUnlocked(i)&&r.isCanTrain(i)&&r.isPartOfTraining(i,e)&&a.push(r);if(a.length){a.sort((n,l)=>n.getTemplate().getDifficulty().getLevel()-l.getTemplate().getDifficulty().getLevel());const s=a[0].generateQuest(i,e,!!t);if(t&&State.variables.company.player.isCanDeployTeam()&&s.isCostsSatisfied()){let n=t;const l=setup.QuestAssignHelper.computeAutoAssignment(s,n);l?ja(s,l):setup.notify("Unable to find an assignment for the ongoing training for a|rep! Please assign the team manually.",{a:i})}else t&&setup.notify("Unable to deploy a team for the ongoing training for a|rep! Please assign the team manually.",{a:i})}else setup.notify("a|Reps trainings has been completed.",{a:i})},setup.UnitActionRepeatSelf=(cn=class extends setup.UnitAction{constructor(e){super(e)}getName(){return`${super.getName()} (Repeated)`}getDescriptionPassage(){return"QuestInstanceUnitActionRepeatSelfPassage"}generateQuest(e,t,a){const r=new setup.QuestInstanceUnitActionRepeatSelf(this.getTemplate(),e,this);return State.variables.company.player.addQuest(r),setup.notify(`New quest: ${r.rep()}`),!a&&State.variables.settings.unitactionautoassign&&setup.QuestAssignHelper.tryAutoAssign(r),r}},o(cn,"UnitActionRepeatSelf"),cn),setup.DOM.Card.questauthor=function(i){return i.getAuthor().name?setup.DOM.Card.author(i.getAuthor()):null};function Xy(i){return`questhubquestdiv${i.key}`}o(Xy,"getCompactDivId");function V_(i){const e=i[1].criteria,t=i[1].offsetmod,a=i[2];return html`
    <div class='actorcard'>
      ${setup.DOM.Util.namebold(e)}
      ${t==1?"":`(Important: ${t}x)`}
      ${setup.DOM.Card.criteria(e,a)}
    </div>
  `}o(V_,"getQuestUnitRoleFragment");function zE(i){return setup.DOM.create("span",{},Object.values(i.getUnitCriteriasList()).map(e=>V_(e)))}o(zE,"getQuestUnitRolesFragment");function FE(i){const e=i.getTemplate();return html`
    ${setup.TagHelper.getTagsRep("quest",e.getTags())}
    ${State.variables.statistics.isHasSuccess(e)?"":setup.DOM.Text.successlite("NEW")}
    ${e.getDifficulty().rep()}
    ${we(i)}
  `}o(FE,"getQuestTitleFragment");function Y_(i){const e=i.getTeam(),t=i.getTemplate();if(e)return html`
      ${i.getRemainingWeeks()} wks left
    `;let a;return t.getDeadlineWeeks()<setup.INFINITY&&(a=i.getWeeksUntilExpired()),html`
    <span data-tooltip="Quest duration">
      ${t.getWeeks()} wks
    </span>
    ${t.getDeadlineWeeks()>=setup.INFINITY?"":html`
        | <span data-tooltip="Quest expiration">
          ${a==1?setup.DOM.Text.danger(a):`${a}`}
          wks left
        </span>
      `}
  `}o(Y_,"getQuestExpiresFragment");function J_(i,e,t,a){const r=i.getTemplate(),s=[],n=[];a&&s.push(I({text:"Close",callback:o(()=>{const u=`#${Xy(i)} `;setup.DOM.Helper.replace(u,Q_(i,e))},"callback")})),t&&s.push(I({text:"View",callback:o(()=>{const u=`#${Xy(i)}`;setup.DOM.Helper.replace(u,setup.DOM.Card.quest(i,e))},"callback")})),s.push(de({text:FE(i)})),s.push(I({text:html`${r.getSkillSummary()} <span data-tooltip="Number of units">(${Object.values(r.getUnitCriterias()).length})</span>`,callback:o(()=>{setup.Dialogs.open({title:"Full quest roles",content:html`
          <div>Quest roles for ${i.rep()}:</div>
          <div>${zE(i)}</div>
        `}).then(()=>{setup.DOM.Nav.goto()})},"callback")}));const l=r.getCosts();return l.length&&s.push(P({text:html`Costs: ${setup.DOM.Card.cost(l,i)}`})),s.push(P({text:Y_(i)})),State.variables.gDebug&&n.push(Oe({text:"Debug remove",callback:o(()=>{i.cleanup(),State.variables.company.player.archiveQuest(i),setup.DOM.Nav.goto()},"callback")})),n.length&&s.push(be({children:n})),s}o(J_,"questNameActionMenu");function W_(i){if(i.isCanChangeTeam()){if(!i.getTeam()&&!State.variables.company.player.isCanDeployTeam())return html`
    <div>
    You cannot send more teams concurrently on a quest
        ${setup.DOM.Util.help(html`You are limited to sending at most
          ${setup.DOM.Text.success(State.variables.company.player.getMaxActiveTeams())}
          teams concurrently on a quest.
          You can increase this limit by building and upgrading the
          ${setup.buildingtemplate.missioncontrol.rep()}.`)}
        </div>
      `;{const e=setup.QuestAssignHelper.getAssignMenu(i);return setup.DOM.Util.menuItemToolbar(e)}}else return html`
      <div>
      ${setup.QuestDifficulty.explainChance(i.getScoreObj())}
      </div>
      `}o(W_,"getQuestToolbar");function jE(i){const e=Object.values(i.getExtraActors()).filter(t=>t.isYourCompany());return e.length?setup.DOM.create("div",{},[html`Involved: `].concat(e.map(t=>t.repLong()))):null}o(jE,"getQuestExtraActorsFragment");function Q_(i,e){const t=State.variables.menufilter.get("quest","display")=="short";i.getTeam();const a=i.getTemplate();let r="";t&&(r=a.getCardClass());const s=[];return s.push(setup.DOM.Util.menuItemToolbar(J_(i,e,!0))),t&&s.push(W_(i)),setup.DOM.create("div",{class:r},s)}o(Q_,"questCardCompactInternal");function Pe(i,e){setup.DOM.Helper.loadQuestVars(i),State.temporary.quest=i,State.temporary.outcome_passage=e;const t=setup.DOM.Util.include_replace("WeekendRenderQuestEvent");return delete State.temporary.quest,delete State.temporary.outcome_passage,html`
    <div class='description-render'>
      ${t}
      ${setup.DOM.Card.questauthor(i.getTemplate())}
    </div>
  `}o(Pe,"renderDescription"),setup.renderDescription=Pe;function KE(i){const e=i.getTemplate(),t=State.variables.menufilter.get("quest","text");return t=="hidden"||t=="new"&&State.variables.statistics.isHasSuccess(e)?html`
  ${setup.DOM.Util.message("(description)",()=>Pe(i,i.getDescriptionPassage()))}`:Pe(i,i.getDescriptionPassage())}o(KE,"getQuestDescriptionFragment");function VE(i,e){const t=[],a=i.getTemplate(),r=i.getTeam(),s=i.getUnitCriteriasList();if(e||t.push(W_(i)),r)for(const n of Object.values(s)){const l=n[1].criteria,u=n[2];t.push(html`
    <div>
    ${setup.DOM.Util.namebold(l)}
  ${setup.DOM.Util.message("(+)",()=>V_(n))}:
  ${u.repLong()} ${l.repActor(u,a.getDifficulty())}
        </div>
    `)}return State.variables.devtooltype||t.push(html`
    <div class='textcard'>
    ${KE(i)}
      </div>
    `),setup.DOM.create("span",{},t)}o(VE,"getQuestCardAsyncFragment"),setup.DOM.Card.questcompact=function(i,e){return html`
    <div id="${Xy(i)}">
      ${Q_(i,e)}
    </div>
    `},setup.DOM.Card.quest=function(i,e){const t=i.getTemplate(),a=[],r=!e&&["short","compact"].includes(State.variables.menufilter.get("quest","display"));a.push(setup.DOM.Util.menuItemToolbar(J_(i,e,!1,r))),a.push(jE(i)),a.push(setup.DOM.Util.async(()=>VE(i,e))),State.variables.gDebug&&a.push(html`
    <div>
    ${setup.DOM.Util.message("(DEBUG: show actors)",()=>i.getActorsList().map(l=>`<div>${l[0]}: ${l[1].repLong()}</div>`))}
      </div>
    `);const s=`${t.getCardClass()} card`;return setup.DOM.create("div",{class:s},a)},setup.DOM.Card._activityrender=function(i){const e=State.variables.activityinstance[i],t=[];let a=0;const r=e.getActorObj();for(const s of e.getTemplate().getDialogues()){a+=1;const n=e.getActorUnit(s.actor),l=s.texts[n.getSpeech().key],u=setup.Text.replaceUnitMacros(l,r);t.push(setup.DOM.Card.dialogue({unit:n,dialogue:u,position:a%2?"left":"right"}))}return setup.DOM.create("div",{class:"activitycard"},t)},setup.DOM.Card.activity=function(i){State.temporary.activity_card_key=i.key;const e=Pe(i,"RenderActivity");return delete State.temporary.activity_card_key,e},setup.DOM.Card.author=function(i){const e=[];return setup.isString(i)&&(i={name:i}),i.name?(e.push(html`
      by ${i.name}
    `),i.url&&e.push(html`
        <a target="_blank" class="link-external" href="${setup.escapeHtml(i.url)}" tabindex="0">(source)</a>
      `),e.push(setup.DOM.Util.help(`Author of this quest.
      If you like story written by an author, do give the author a shout-out
      in <a target="_blank" class="link-external" href="https://discord.gg/PTD9D7mZyg" tabindex="0">Discord</a>!
      It will make their day.`))):e.push(html`by anonymous`),setup.DOM.create("div",{class:"authorinfo"},e)},setup.DOM.Card.bantertext=function(i){return html`${i.getTexts()}`},setup.DOM.Card.banter=function(i){const e=i.getInitiator(),t=i.getTarget(),a=i.getFriendshipAmt(),r=[];r.push(html`
    ${setup.DOM.Card.bantertext(i)}
  `);let s;State.variables.fort.player.isHasBuilding("moraleoffice")?s=setup.DOM.Util.friendship(a,"+"):a>=0?s=setup.DOM.create("span",{class:"friendshipspanplus"},"+ friendship"):s=setup.DOM.create("span",{class:"friendshipspanmin"},"+ rivalry");const n=`<<bantercarddetails '${e.key}' '${t.key}' ${a}>>`;return r.push(html`
    <small data-tooltip="${n}">
      ${s}
    </small>
  `),setup.DOM.create("span",{},r)};function YE(i,e){return()=>{e.setFurniture(i,null),setup.DOM.Nav.goto()}}o(YE,"removeFurnitureCallback"),setup.DOM.Card.bedchamber=function(i,e,t){const a=[];a.push(setup.DOM.Util.menuItemToolbar(i.getMenu(!e)));{const r=i.getSlaves(),s=[];r.length?s.push(html`
        ${r.map(n=>n.rep()).join(" ")}
      `):s.push(html`
        ${setup.DOM.Text.dangerlite("No slaves")}
      `),s.push(setup.DOM.Util.message("(Rules)",()=>{const n=i.getOptionMap(),l=[];for(let u in n)l.push(html`
            <div>
              Slaves ${setup.BEDCHAMBER_OPTIONS[u][n[u]].text}.
            </div>
          `);return setup.DOM.create("div",{},l)})),a.push(setup.DOM.create("div",{},s))}{const r=setup.SkillHelper.explainSkills(i.getSkillAddition());r&&a.push(html`
        <div>
          ${r}
        </div>
      `)}{const r=[];for(const s of Object.values(setup.furnitureslot)){const n=i.getFurniture(s),l=[],u={};n.isBasic()&&(u.class="graytext"),l.push(setup.DOM.create("span",u,n.rep())),t&&!n.isBasic()&&l.push(html`
          ${setup.DOM.Util.message("(remove)",YE(s,i))}
          `),r.push(setup.DOM.create("div",{},l))}a.push(setup.DOM.create("div",{class:"equipmentgrid"},r))}return setup.DOM.create("div",{class:"equipmentsetcard card"},a)};function Z_(i){return html`
    ${setup.TagHelper.getTagsRep("buildingtemplate",i.getTags())}
    ${we(i)}
  `}o(Z_,"buildingTemplateNameFragment");function X_(i){return setup.DOM.create("div",{},setup.DOM.Util.include(i.getDescriptionPassage()))}o(X_,"buildingTemplateDescriptionFragment");function JE(i){const e=[];e.push(html`
    ${setup.TagHelper.getTagsRep("buildinginstance",i.getTemplate().getTags())}
  `);const t=i.getLevel(),a=i.getTemplate().getMaxLevel();return a>1&&e.push(html`
      ${setup.DOM.Util.level(t)} / ${a}
    `),e.push(html`${we(i)}`),setup.DOM.create("span",{},e)}o(JE,"buildingNameFragment");function eA(i,e){const t=[];if(t.push(de({text:JE(i)})),!e&&i.isHasUpgrade()&&(i.isUpgradable()?(t.push(I({text:"Upgrade",tooltip:"Upgrade this improvement, potentially getting a new room to place",callback:o(()=>{const a=i.getUpgradeRoom();a?(State.variables.gFortGridBuildRoomKey=a.key,delete State.variables.gFortGridControl,setup.DOM.Nav.goto("FortGridBuild")):(i.upgrade(),setup.DOM.Nav.goto())},"callback")})),t.push(I({text:"Upgrade and auto-place",tooltip:"Upgrade this improvement and automatically place its room (if any) on the fort",callback:o(()=>{const a=i.getUpgradeRoom();!a||State.variables.fortgrid.placeAnywhere(a)?(i.upgrade(a),setup.DOM.Nav.goto()):(a&&a.delete(),setup.DOM.Nav.goto())},"callback")}))):t.push(P({text:"Cannot upgrade"}))),i.isHasUpgrade()){const a=i.getUpgradeCost();a.length&&t.push(P({text:html`${setup.DOM.Card.cost(a)}`}));const r=i.getTemplate().getSubRoomTemplate();r&&t.push(P({text:html`${r.repFull()}`}))}return t}o(eA,"buildingInstanceNameActionMenu");function WE(i,e){return!e&&State.variables.menufilter.get("buildinginstance","display")=="short"?setup.DOM.Util.message("(description)",()=>setup.DOM.Util.include(i.getTemplate().getDescriptionPassage())):html`
          <div>
          ${setup.DOM.Util.include(i.getTemplate().getDescriptionPassage())}
      </div>
        `}o(WE,"buildingDescriptionFragment"),setup.DOM.Card.buildinginstance=function(i,e){const t=[];if(t.push(setup.DOM.Util.menuItemToolbar(eA(i,e))),i.isHasUpgrade()){const r=[],s=i.getUpgradePrerequisite();s.length&&r.push(setup.DOM.Card.restriction(s)),t.push(setup.DOM.create("div",{},r))}return t.push(WE(i,e)),setup.DOM.create("div",{class:"card buildingcard"},t)},setup.DOM.Card.buildinginstancecompact=function(i,e){return setup.DOM.Util.menuItemToolbar(eA(i,e))};function tA(i,e){const t=[];if(t.push(de({text:Z_(i)})),!e&&!State.variables.fort.player.isHasBuilding(i)){i.isBuildable()?(t.push(I({text:"Build",tooltip:"Build this improvement and place its room on the fort",callback:o(()=>{const s=State.variables.fort.player.getBuildRoom(i);s?(State.variables.gFortGridBuildRoomKey=s.key,delete State.variables.gFortGridControl,setup.DOM.Nav.goto("FortGridBuild")):(State.variables.fort.player.build(i),setup.DOM.Nav.goto())},"callback")})),t.push(I({text:"Build and auto-place",tooltip:"Build this improvement and automatically place its room somewhere on the fort",callback:o(()=>{const s=State.variables.fort.player.getBuildRoom(i);!s||State.variables.fortgrid.placeAnywhere(s)?(State.variables.fort.player.build(i,s),setup.DOM.Nav.goto()):(s&&s.delete(),setup.DOM.Nav.goto())},"callback")}))):t.push(P({text:"Not buildable"})),t.push(P({text:html`${setup.DOM.Card.cost(i.getCost(0))}`}));const r=i.getMainRoomTemplate();r&&t.push(P({text:html`${r.repFull()}`}))}const a=[];return e||State.variables.fort.player.isHasBuilding(setup.buildingtemplate.greathall)&&a.push(I({text:"Hidden",checked:State.variables.fort.player.isTemplateIgnored(i),callback:o(()=>{State.variables.fort.player.isTemplateIgnored(i)?State.variables.fort.player.unignoreTemplate(i):State.variables.fort.player.ignoreTemplate(i),setup.DOM.Nav.goto()},"callback")})),a.length&&t.push(be({children:a})),t}o(tA,"buildingTemplateNameActionMenu"),setup.DOM.Card.buildingtemplate=function(i,e){const t=[];t.push(setup.DOM.Util.menuItemToolbar(tA(i,e)));const a=i.getPrerequisite(0);a.length&&t.push(setup.DOM.Card.restriction(a)),t.push(X_(i));let r;return!e&&!i.isBuildable()?r="card buildingtemplatebadcard":r="card buildingtemplatecard",setup.DOM.create("div",{class:r},t)},setup.DOM.Card.buildingtemplatecompact=function(i,e){return setup.DOM.Util.menuItemToolbar(tA(i,e))};function hb(i){return(i/10).toFixed(1)}o(hb,"repFavor"),setup.DOM.Util.favor=function(i){const e=hb(i);return i>0?setup.DOM.Text.successlite(e):i<0?setup.DOM.Text.dangerlite(e):html`${e}`};function QE(i){if(i.isFavorActive()){const e=State.variables.favor.getFavor(i);let t;return e>=setup.FAVOR_EFFECT_THRESHOLDS[2]?t=setup.DOM.Text.success("[Ally]"):e>=setup.FAVOR_EFFECT_THRESHOLDS[1]?t=setup.DOM.Text.successlite("[Trusting]"):e>=setup.FAVOR_EFFECT_THRESHOLDS[0]?t=setup.DOM.Text.successlite("[Friendly]"):t=html`[Neutral]`,setup.DOM.create("span",{"data-tooltip":`When you have at least ${hb(setup.FAVOR_EFFECT_THRESHOLDS[0])} favor with this company, you will get certain bonuses. This bonus increases at ${hb(setup.FAVOR_EFFECT_THRESHOLDS[1])} and ${hb(setup.FAVOR_EFFECT_THRESHOLDS[2])} favor.`},t)}else return setup.DOM.Text.danger("[Disabled]")}o(QE,"companyFavorStatusFragment");function ZE(i){const e=[];return State.variables.favor.getManagedCompanies().includes(i)&&e.push(html`
      <span data-tooltip="Your relationship manager is managing the favor of this company right now">
        ${setup.DOM.Text.success("[Managed]")}
      </span>
    `),e.push(html`
    ${State.variables.ire.getIreDisplay(i)}
  `),setup.DOM.create("span",{"data-tooltip":"This represents how annoyed certain members of this company is against your company. When their annoyance hits a breaking point, you should be wary of retaliation against your company. It is possible that you have a high favor and a high level of ire at the same time, because the favor and the ire came from two different group of people from the same company."},e)}o(ZE,"companyIreFragment");function XE(i){const e=State.variables.favor.getDecay(i);return html`
    Favor: ${setup.DOM.Util.favor(State.variables.favor.getFavor(i))}
    ${e?setup.DOM.create("span",{"data-tooltip":"Favor will tend to decay over time. This can be mitigated by building the Relations Office and hiring a Relationship Manager,  who can reduce or eliminate favor decay from some chosen companies."},html`(${setup.DOM.Util.favor(-e)})`):""}
`}o(XE,"companyFavorDecayInfoFragment");function aA(i,e){const t=[];t.push(de({text:we(i)})),t.push(P({text:QE(i)})),t.push(P({text:XE(i)})),t.push(P({text:ZE(i)}));const a=[];return e||a.push(I({text:"Favor bonus active",tooltip:"If unchecked, you will stop receiving bonuses from being allied with this company",checked:i.isFavorActive(),callback:o(()=>{i.toggleIsFavorActive(),setup.DOM.Nav.goto()},"callback")})),a.length&&t.push(be({children:a})),t}o(aA,"companyNameActionMenu"),setup.DOM.Card.company=function(i,e){const t=[];return t.push(html`
${setup.DOM.Util.menuItemToolbar(aA(i,e))}
<div>
  ${setup.DOM.Util.include(i.getTemplate().getDescriptionPassage())}
</div>
`),setup.DOM.create("div",{class:"companycard"},t)},setup.DOM.Card.companycompact=function(i,e){return setup.DOM.Util.menuItemToolbar(aA(i,e))};function ex(i){return html`
    ${we(i)}
    ${i.isActive()?"":html`
      ${setup.DOM.Text.dangerlite("[Inactive]")}
    `}
  `}o(ex,"contactNameFragment");function iA(i,e){const t=[];t.push(de({text:ex(i)})),i.isCanExpire()&&t.push(P({text:`Expires in ${i.getExpiresIn()} weeks`}));const a=[];return e||a.push(I({text:"Active",tooltip:"If unchecked, this contact will stop giving you their weekly benefit",checked:i.isActive(),callback:o(()=>{i.toggleIsActive(),setup.DOM.Nav.goto()},"callback")})),a.length&&t.push(be({children:a})),t}o(iA,"contactNameActionMenu"),setup.DOM.Card.contact=function(i,e){const t=[];return t.push(setup.DOM.Util.menuItemToolbar(iA(i,e))),i.getApplyObjs().length&&t.push(setup.DOM.create("div",{},html`
      Every week: ${setup.DOM.Card.cost(i.getApplyObjs())}
    `)),setup.DOM.create("div",{class:"contactcard"},t)},setup.DOM.Card.contactcompact=function(i,e){return setup.DOM.Util.menuItemToolbar(iA(i,e))};function bf(i){const e=i.getAuthor();return html`
    ${setup.TagHelper.getTagsRep("quest",i.getTags())}
    ${i.getDifficulty().rep()}
    ${G_(i)}
    ${e.name?`by ${e.name}`:""}
  `}o(bf,"getContentTemplateTitleFragment"),setup.DOM.Card.questtemplate=function(i){return html`
    <div>
      ${setup.DOM.Nav.button("Edit",()=>(State.temporary.questchosen=i,setup.DOM.Util.include("QuestGenSetupExistingDo")))}
      ${setup.DOM.Nav.link("(test)",()=>(State.variables.qDebugQuestTemplate_key=i.key,setup.DOM.Nav.goto("QuestDebugDo")))}
      ${bf(i)}
    </div>
  `},setup.DOM.Card.opportunitytemplate=function(i){return html`
    <div>
      ${setup.DOM.Nav.button("Open",()=>(State.temporary.opportunitychosen=i,setup.DOM.Util.include("OpportunityGenSetupExistingDo")))}
      ${setup.DOM.Nav.link("(test)",()=>(State.variables.qDebugOpportunityTemplate_key=i.key,setup.DOM.Nav.goto("OpportunityDebugDo")))}
      ${bf(i)}
    </div>
  `},setup.DOM.Card.event=function(i){return html`
    <div>
      ${setup.DOM.Nav.button("Open",()=>(State.temporary.eventchosen=i,setup.DOM.Util.include("EventGenSetupExistingDo")))}
      ${setup.DOM.Nav.link("(test)",()=>(State.variables.qDebugEventTemplate_key=i.key,setup.DOM.Nav.goto("EventDebugDo")))}
      ${bf(i)}
    </div>
  `},setup.DOM.Card.interaction=function(i){return html`
    <div>
      ${setup.DOM.Nav.button("Open",()=>{State.temporary.ibase=i,setup.DOM.Util.include("InteractionGenSetup"),setup.runSugarCubeCommand("<<goto InteractionGen>>")})}
      ${setup.DOM.Nav.link("(test)",()=>(State.variables.qDebugInteractionTemplate_key=i.key,setup.DOM.Nav.goto("InteractionDebugDo")))}
      ${bf(i)}
    </div>
  `},setup.DOM.Card.activitytemplate=function(i){return html`
    <div>
      ${setup.DOM.Nav.button("Open",()=>(State.temporary.activitychosen=i,setup.DOM.Util.include("ActivityGenSetupExistingDo")))}
      ${setup.DOM.Nav.link("(test)",()=>(State.variables.qDebugActivityTemplate_key=i.key,setup.DOM.Nav.goto("ActivityDebugDo")))}
      ${bf(i)}
    </div>
  `},setup.DOM.Card.cost=function(i,e){return html`
    <span class='restrictioncard'>
      ${i.map(t=>t.explain(e)).filter(t=>t).join(" | ")}
    </span>
  `},setup.DOM.Card.criteria=function(i,e){const t=i.getRestrictions(),a=setup.SkillHelper.explainSkillMods(i.getSkillMultis()),r=i.getCritTraits(),s=i.getDisasterTraits();let n;return e?n=i.getMatchingTraits(e):n={crit:[],disaster:[]},html`
    ${t.length?"Must:":""}
    ${t.length?setup.DOM.Card.cost(t):""}
    ${a?setup.DOM.create("div",{},a):""}
    <div>
      ${r.length?"Crit:":""}
      ${r.map(l=>n.crit.includes(l)?l.repPositive():l.rep()).join("")}
    </div>
    <div>
      ${s.length?"Disaster:":""}
      ${s.map(l=>n.disaster.includes(l)?l.repNegative():l.rep()).join("")}
    </div>
  `},setup.DOM.Card.criteriatraitlist=function(i,e,t){const a=[],r=i.getMatchingTraits(e,t);for(const s of i.getCritTraits())r.crit.includes(s)&&a.push(html`${s.rep()}`);for(const s of i.getDisasterTraits())r.disaster.includes(s)&&a.push(html`${s.repNegative()}`);return setup.DOM.create("span",{},a)},setup.DOM.Card.dialogue=function({unit:i,dialogue:e,position:t,content_image:a}){t||(t="left");const r=[];let s=null;return a&&(s=setup.ContentImage.getImageObjectIfAny(a)),s||(s=setup.UnitImage.getImageObject(i.getImage())),r.push(setup.DOM.create("div",{class:`dialogue-card-unit dialogue-card-unit-${t}`},setup.DOM.Util.onEvent("click",setup.DOM.Util.Image.load({image_name:s.path}),()=>{a?setup.Dialogs.openImage(s,s.info.title??"Unknown Title"):setup.Dialogs.openUnitImage(i)}))),r.push(setup.DOM.create("div",{},html`${i.repLong()}:`)),r.push(setup.DOM.create("div",{class:`dialogue-card-text dialogue-card-text-${i.getGender().key} dialogue-card-text-${t}`},html`<div>"${twee`${setup.DevToolHelper.stripNewLine(e.trim())}`}"</div>`)),setup.DOM.create("div",{class:"dialogue-card-container"},r)};function rA(i){return State.temporary.gDuty=i,setup.DOM.Util.include(i.getTemplate().getDescriptionPassage())}o(rA,"dutyDescriptionFragment");function tx(i){if(i.isSpecialistActive()){const e=i.getAssignedUnit();return html`
    <span data-tooltip="${e.getName()} is currently unavailable, and a temporary replacement has been hired to staff this duty. The replacement will cost you ${setup.DUTY_SPECIALIST_WEEKLY_UPKEEP} gold each week.">
      ${setup.DOM.Text.successlite("[Replacement active]")}
    </span>
    `}else return i.isActive()?null:html`
    <span data-tooltip="This duty is inactive, and not providing its bonuses. There are several reasons, but most commonly the unit on duty is either injured or is away on a quest.">
      ${setup.DOM.Text.danger("[Inactive]")}
    </span>
    `}o(tx,"dutyStatusFragment");function ax(i,e){const t=i.getTemplate(),a=t.getRelevantTraitsGrouped(),r=Object.keys(a);r.sort(),r.reverse();const s=[];for(const n of r){const l=[];if(t.isHasTriggerChance()){const u=(parseFloat(n)*100).toFixed(0);parseFloat(n)>0?l.push(setup.DOM.Text.successlite(`+${u}%: `)):parseFloat(n)<0&&l.push(setup.DOM.Text.dangerlite(`${u}%: `))}else t.isHasPrestigeAmount()&&l.push(setup.DOM.Util.prestige(parseFloat(n)));for(const u of a[n])e&&e.isHasTraitExact(u)?l.push(html`${u.repPositive()}`):l.push(html`${u.rep()}`);s.push(setup.DOM.create("div",{},l))}return setup.DOM.create("div",{},s)}o(ax,"dutyFullDetails");function ix(i){const e=[],t=i.getTemplate();return i.getAssignedUnit()&&(t.isHasTriggerChance()?e.push(html`
        Trigger chance: ${(i.computeChance()*100).toFixed(2)}%
      `):t.isHasPrestigeAmount()&&e.push(setup.DOM.Util.prestige(i.getCurrentPrestige()))),setup.DOM.create("span",{},e)}o(ix,"triggerChanceOrPrestige");function sA(i,e){const t=[];t.push(de({text:we(i)}));const a=i.getAssignedUnit();if(a){const s=html`${a.repLong()} ${tx(i)}`;if(i.getTemplate().isHasTriggerChance()||i.getTemplate().isHasPrestigeAmount()){let n=ix(i);t.push(P({text:html`${s} (${n})`}))}else t.push(P({text:s}))}else t.push(P({text:"Vacant"}));e||(a?t.push(I({text:"Unassign",tooltip:"Remove unit from this duty",callback:o(()=>{i.unassignUnit(),setup.DOM.Nav.goto()},"callback")})):t.push(I({text:"Assign",tooltip:"Assign unit to this duty",callback:o(()=>{State.variables.gDuty_key=i.key,setup.DOM.Nav.goto("DutyListAssign")},"callback")})));const r={text:'<span data-tooltip="If checked, then units on this duty can be selected to go on quests by quest auto-assign. Regardless of this settings, the unit can always be selected when using manual unit assignment.">Auto-assign pickable</span>',checked:i.isCanGoOnQuestsAuto()};if(e?t.push(P(r)):(r.callback=()=>{i.toggleIsCanGoOnQuestsAuto(),setup.DOM.Nav.goto()},t.push(I(r))),i.getTemplate().isCanReplaceWithSpecialist()&&State.variables.fort.player.isHasBuilding("specialistoffice")){const s={text:`<span data-tooltip="When enabled, this duty will remain active even when the duty unit is busy, injured, or otherwise occupied. The unit will arrange for a skillful contract specialist to replace them in their absence, which will have to be paid ${setup.DUTY_SPECIALIST_WEEKLY_UPKEEP}g per week.">Specialist</span>`,checked:i.isSpecialistEnabled()};e?t.push(P(s)):(s.callback=()=>{i.toggleIsSpecialistEnabled(),setup.DOM.Nav.goto()},t.push(I(s)))}return t}o(sA,"dutyNameActionMenus"),setup.DOM.Card.duty=function(i,e){const t=i.getTemplate(),a=[],r=i.getAssignedUnit();a.push(setup.DOM.Util.menuItemToolbar(sA(i,e)));const s=t.getUnitRestrictions();if(s.length&&a.push(setup.DOM.Card.cost(s)),t.isHasPrestigeAmount()||t.isHasTriggerChance()){const l=[];l.push(html` | `);const u=t.getRelevantSkills();if(Object.keys(u).length){l.push(html`Trigger chance: `);let d=!0;for(const g in u){d||l.push(html` + `),d=!1;const m=setup.skill[g],f=u[g];l.push(html`${(f*100).toFixed(2)} `),r&&r.getSkillFocuses().includes(m)?l.push(html`${m.repPositive()}`):l.push(html`${m.rep()}`)}l.push(html` % | `)}const h=t.getRelevantTraits(),p=[],c=[];for(const d in h){const g=setup.trait[d];h[d]<0?c.push(g):p.push(g)}if(p.length){l.push(setup.DOM.Text.successlite("Good: "));for(const d of p)r&&r.isHasTraitExact(d)?l.push(html`${d.repPositive()}`):l.push(html`${d.rep()}`);l.push(html` | `)}if(c.length){l.push(setup.DOM.Text.dangerlite("Bad: "));for(const d of c)r&&r.isHasTraitExact(d)?l.push(html`${d.repNegative()}`):l.push(html`${d.rep()}`);l.push(html` | `)}Object.keys(h).length&&l.push(setup.DOM.Util.message("(full details)",()=>ax(i,r))),a.push(setup.DOM.create("div",{},l))}return!e&&State.variables.menufilter.get("duty","display")=="shortened"?a.push(setup.DOM.Util.message("(description)",()=>rA(i))):a.push(rA(i)),setup.DOM.create("div",{class:"dutycard"},a)},setup.DOM.Card.dutycompact=function(i,e){return setup.DOM.Util.menuItemToolbar(sA(i,e))};function rx(i){const e=i.getEquippedNumber(),t=i.getSpareNumber();return html`
    ${we(i)}
    <span data-tooltip="You have ${e} equipped and ${t} spare">
      x ${e+t}
    </span>
  `}o(rx,"equipmentNameFragment");function nA(i,e){const t=[];t.push(de({text:rx(i)})),t.push(P({text:i.getSlot().rep()}));const a=i.getSluttiness();a&&t.push(P({text:html`Slutty: ${setup.DOM.Text.dangerlite(a)}`}));const r=i.getValue();t.push(P({text:setup.DOM.Util.money(r)}));const s=i.getSellValue();!e&&s&&State.variables.fort.player.isHasBuilding(setup.buildingtemplate.bazaar)&&t.push(Oe({text:html`Sell (${setup.DOM.Util.money(s)})`,tooltip:"Sell this equipment for a profit",callback:o(()=>{State.variables.company.player.addMoney(i.getSellValue()),State.variables.armory.removeEquipment(i),setup.DOM.Nav.goto()},"callback")}));const n=[];return State.variables.gDebug&&n.push(Oe({text:"(Debug) Remove",callback:o(()=>{State.variables.armory.removeEquipment(i),setup.DOM.Nav.goto()},"callback")})),n.length&&t.push(be({children:n})),t}o(nA,"equipmentNameActionMenu"),setup.DOM.Card.equipment=function(i,e){const t=[];t.push(setup.DOM.Util.menuItemToolbar(nA(i,e)));const a=i.getUnitRestrictions();a.length&&t.push(html`
      <div>
        Requires: ${setup.DOM.Card.cost(a)}
      </div>
    `);const r=setup.SkillHelper.explainSkillMods(i.getSkillMods());r&&t.push(setup.DOM.create("div",{},r));{const s=i.repTraits();s&&t.push(setup.DOM.create("div",{},html`Grants: ${s}`))}return t.push(html`
    <div>
      ${i.getDescription()}
    </div>
  `),setup.DOM.create("div",{class:"equipmentcard"},t)},setup.DOM.Card.equipmentcompact=function(i,e){return setup.DOM.Util.menuItemToolbar(nA(i,e))};function sx(i){return html`${we(i)}`}o(sx,"equipmentPoolNameFragment");function nx(i,e){const t=[];t.push(de({text:sx(i)}));const a=i.getAverageValue();t.push(P({text:html`Average value: ${setup.DOM.Util.money(a)}`}));const r=[];return r.length&&t.push(be({children:r})),t}o(nx,"equipmentPoolNameActionMenu"),setup.DOM.Card.equipmentpool=function(i,e){const t=[];if(t.push(setup.DOM.Util.menuItemToolbar(nx(i))),i instanceof setup.EquipmentPoolGroup)for(const[r,s]of i.getEquipmentPoolChances(!0))t.push(html`
        <div>
          ${setup.equipmentpool[r].rep()}: ${setup.DOM.Text.percentage(s)}
        </div>
      `);else if(i instanceof setup.EquipmentPool)for(const[r,s]of i.getEquipmentChances(!0))t.push(html`
        <div>
          ${setup.equipment[r].rep()}: ${setup.DOM.Text.percentage(s)}
        </div>
      `);else throw new Error(`Unknown equipment pool/group: ${i}`);return setup.DOM.create("div",{class:"card equipmentcard"},t)};function ox(i){const e=[];e.push(html`
    <div>
      Value: ${setup.DOM.Util.money(i.getValue())}
    </div>
  `);const t=i.getSluttiness();return t&&e.push(html`
      <div>
        Sluttiness: ${setup.DOM.Text.dangerlite(t)}
      </div>
    `),setup.DOM.create("span",{class:"toprightspan"},e)}o(ox,"equipmentSetTopRightInfo");function lx(i,e){return()=>{State.variables.armory.unassignEquipment(i,e),setup.DOM.Nav.goto()}}o(lx,"removeEquipmentCallback"),setup.DOM.Card.equipmentset=function(i,e,t){const a=[];a.push(ox(i)),!e&&!i.is_default&&a.push(setup.DOM.Util.menuItemToolbar(i.getMenu())),i.getSluttiness()>=setup.EQUIPMENT_SLAVER_SLUTTY_LIMIT_NORMAL&&a.push(html`
      <div>
        This equipment is ${setup.DOM.Text.dangerlite("slutty")}
        ${setup.DOM.Util.help(()=>html`
          Slavers cannot wear equipments whose sluttiness is
          ${setup.EQUIPMENT_SLAVER_SLUTTY_LIMIT_NORMAL} or higher.
          ${setup.trait.per_lustful.rep()}${setup.trait.per_sexaddict.rep()}
          increase this limit while ${setup.trait.per_chaste.rep()} decreases it.
        `)}
      </div>
    `);{const r=i.getUnitRestrictions();r.length&&a.push(setup.DOM.Card.restriction(r,null,!0))}{const r=setup.SkillHelper.explainSkillMods(i.getSkillMods());r&&a.push(html`
        <div>
          ${r}
        </div>
      `)}{const r=i.getTraits();r.length&&a.push(html`
        <div>
          ${r.map(s=>s.rep()).join("")}
        </div>
      `)}{const r=[];for(const[s,n]of i.getEquipmentsList()){const l=[];n?l.push(html`${n.rep()}`):l.push(html`
          <span class='empty-slot'>${s.rep()}</span>
          <span class='graytext'>none</span>
        `),t&&n&&l.push(html`
          ${setup.DOM.Util.message("(remove)",lx(n,i))}
          `),r.push(setup.DOM.create("div",{},l))}a.push(setup.DOM.create("div",{class:"equipmentgrid"},r))}return setup.DOM.create("div",{class:"equipmentsetcard card"},a)},setup.DOM.Card.equipmentsetcompact=function(i,e){return e?html`
      <div>
        ${i.rep()}
      </div>
    `:html`
      <div>
        ${setup.DOM.Util.menuItemToolbar(i.getMenu())}
      </div>
    `},setup.DOM.Card.injury=function(i){if(!State.variables.hospital.isInjured(i))return null;const e=State.variables.hospital.getInjury(i),t=`Injured for ${e} week${e>1?"s":""}`;return html`<span data-tooltip="${t}" class="injurycard">${setup.repImgIcon(setup.Unit.INJURY_IMAGE_URL)} ${e}</span>`};function ux(i){const e=i.getOwnedNumber();return html`
    ${we(i)}
    x ${e}
  `}o(ux,"itemNameFragment");function oA(i,e){const t=[];t.push(de({text:ux(i)}));const a=i.getValue();a&&t.push(P({text:setup.DOM.Util.money(a)})),!e&&i.isUsable()&&t.push(I({text:"Use",tooltip:"Consume this item to use its effect",callback:o(()=>{i instanceof setup.ItemUnitUsable?(State.variables.gUseItem_key=i.key,setup.DOM.Nav.goto("ItemUnitUsableUse")):i instanceof setup.ItemUsable&&(i.use(),setup.DOM.Nav.goto())},"callback")}));const r=i.getSellValue();!e&&r&&State.variables.fort.player.isHasBuilding(setup.buildingtemplate.bazaar)&&t.push(Oe({text:html`Sell (${setup.DOM.Util.money(r)})`,tooltip:"Sell this item for a profit",callback:o(()=>{State.variables.inventory.sell(i),setup.DOM.Nav.goto()},"callback")}));const s=[];return State.variables.gDebug&&s.push(Oe({text:"(Debug) Remove",callback:o(()=>{State.variables.inventory.removeItem(i),setup.DOM.Nav.goto()},"callback")})),s.length&&t.push(be({children:s})),t}o(oA,"itemNameActionMenu");function lA(i){return html`${setup.runSugarCubeCommandAndGetOutput(i.getDescription())}`}o(lA,"itemDescriptionFragment"),setup.DOM.Card.item=function(i,e){const t=[];if(t.push(setup.DOM.Util.menuItemToolbar(oA(i,e))),i instanceof setup.Furniture){const s=setup.SkillHelper.explainSkills(i.getSkillMods());t.push(html`
      <div>${s}</div>
    `)}if(i instanceof setup.ItemUsable){const s=i.getPrerequisites();t.push(setup.DOM.Card.restriction(s))}if(i instanceof setup.ItemUnitUsable){const s=i.getUnitRestrictions();t.push(setup.DOM.Card.restriction(s,null,!0))}return!e&&State.variables.menufilter.get("item","display")=="short"?t.push(setup.DOM.create("div",{},setup.DOM.Util.message("(description)",()=>lA(i)))):t.push(setup.DOM.create("div",{},lA(i))),setup.DOM.create("div",{class:"card itemcard"},t)},setup.DOM.Card.itemcompact=function(i,e){return setup.DOM.Util.menuItemToolbar(oA(i,e))};function hx(i){return html`${we(i)}`}o(hx,"itemPoolNameFragment");function px(i,e){const t=[];t.push(de({text:hx(i)}));const a=i.getAverageValue();t.push(P({text:html`Average value: ${setup.DOM.Util.money(a)}`}));const r=[];return r.length&&t.push(be({children:r})),t}o(px,"itemPoolNameActionMenu"),setup.DOM.Card.itempool=function(i,e){const t=[];t.push(setup.DOM.Util.menuItemToolbar(px(i)));for(const[r,s]of i.getItemChances(!0))t.push(html`
      <div>
        ${setup.item[r].rep()}: ${setup.DOM.Text.percentage(s)}
      </div>
    `);return setup.DOM.create("div",{class:"card itemcard"},t)},setup.DOM.Card.job=function(i,e){return html`
  <span class='jobcard'>
    ${i.rep()}
  </span>
  `},setup.DOM.Card.living=function(i){const e=[];e.push(html`
    <span class='toprightspan'>
      <div>
        Default preference: ${i.default_preference}
      </div>
    </span>
  `);const t=[],a=[],r=i.getTraitPreferences();for(const s in r){const n=r[s],l=setup.trait[s];n>0?t.push(l):a.push(l)}return e.push(html`
    <div>
      ${setup.DOM.Nav.link("(test)",()=>{State.variables.gUnit_key=setup.rng.choice(State.variables.company.player.getUnits({job:setup.job.slaver})).key,State.variables.gDebugLiving_key=i.key},"LivingDebugDo")}
      ${G_(i)}
    </div>
    <div>
      ${setup.DOM.Card.restriction(i.getUnitRestrictions(),null,!0)}
    </div>
    <div>
      ${t.map(s=>s.rep()).join("")}
      ${a.map(s=>s.repNegative()).join("")}
    </div>
  `),setup.DOM.create("div",{class:"livingcard card"},e)};function cx(i){return html`
    ${setup.TagHelper.getTagsRep("lore",i.getTags())}
    ${we(i)}
  `}o(cx,"loreNameFragment");function uA(i,e){const t=[],a=[];return t.push(de({text:cx(i)})),a.length&&t.push(be({children:a})),t}o(uA,"loreNameActionMenu"),setup.DOM.Card.lore=function(i,e){return html`
  <div class='lorecard'>
    <div>${setup.DOM.Util.menuItemToolbar(uA(i))}
    <div>
      ${setup.DOM.Card.restriction(i.getRestrictions(),null,!0)}
    </div>
    <div>
      ${setup.DOM.Util.include(i.getDescriptionPassage())}
    </div>
  </div>
  `},setup.DOM.Card.lorecompact=function(i,e){return setup.DOM.Util.menuItemToolbar(uA(i))};function hA(i,e,t,a,r){const s=[],n=[];s.push(de({text:e.getRarity().rep()})),"rep"in e.getObject()&&s.push(de({text:we(e.getObject())}));const l=e.getPrice();if(i.isCanBuyObject(e)?s.push(I({text:l?html`Buy for ${setup.DOM.Util.money(l)}`:html`Get for ${setup.DOM.Text.successlite("Free")}`,callback:o(()=>{setup.DevToolHelper.saveScrollPos(),i.buyObject(e),t()},"callback")})):s.push(P({text:html`Cannot get (${l?setup.DOM.Util.money(l):setup.DOM.Text.successlite("Free")})`})),e.isInfinite())s.push(P({text:setup.DOM.create("span",{"data-tooltip":"There are no limit how many times you can purchase this object"},html`Infinite`)}));else{r&&n.push(Oe({text:"Remove",callback:o(()=>{i.removeObjectAndCheckDelete(e),t()},"callback")}));const h=e.getExpiresIn();h?s.push(P({text:setup.DOM.create("span",{"data-tooltip":"This market object will expire in this many weeks"},html`${h} week${h>1?"s":""} `)})):s.push(P({text:"Never expires"}))}const u=e.repSource();return u&&s.push(P({text:`From: ${u}`})),n.length&&s.push(be({children:n})),s}o(hA,"marketObjectNameActionMenu");function dx(i,e,t,a,r,s){return html`
      <div class='marketobjectcard ${e.getRarity().getBorderColorClass()}'>
        ${setup.DOM.Util.menuItemToolbar(hA(i,e,t,r,s))}
    <div>
      ${a(e.getObject())}
    </div>
    </div>
      `}o(dx,"marketObjectFragment");function gx(i,e,t,a,r){return setup.DOM.Util.menuItemToolbar(hA(i,e,t,a,r))}o(gx,"marketObjectCompactFragment"),setup.DOM.Card.market=function({market:i,on_buy_callback:e,is_can_delete:t}){const a=o(()=>{e&&e()||setup.DOM.Nav.goto()},"market_refresh_callback");let r,s;if(i instanceof setup.MarketEquipment)r="equipmentmarket",s=o(p=>setup.DOM.Card.equipment(p,!0),"display_callback");else if(i instanceof setup.MarketItem)r="itemmarket",s=o(p=>setup.DOM.Card.item(p,!0),"display_callback");else if(i instanceof setup.MarketUnit)r="unitmarket",s=o(p=>setup.DOM.Card.unit(p,!0),"display_callback");else throw new Error(`Unknown market: ${i.key} `);i.getMarketObjects();let n=i.getMarketObjects();if(i instanceof setup.MarketItem){const p=State.variables.menufilter.get(r,"availability");p=="limited"?n=n.filter(c=>!c.isInfinite()):p=="unlimited"&&(n=n.filter(c=>c.isInfinite()))}const l=n.map(p=>p.getObject()),u=State.variables.menufilter.get(r,"display"),h=!1;return setup.DOM.Util.async(()=>{const p=setup.DOM.Util.filterAll({menu:r,filter_objects:l,display_objects:n,display_callback:o(c=>u=="compact"?gx(i,c,a,h,t):dx(i,c,a,s,h,t),"display_callback")});return setup.DevToolHelper.restoreScrollPos(),p})},setup.DOM.Card.notifications=function(i){const e=[];let t;i?t=i:t=State.variables.notification.popAll();for(const a of t)e.push(setup.DOM.create("div",{},setup.DOM.Util.twine(a)));return e.length?setup.DOM.create("div",{class:"notification-container"},setup.DOM.create("div",{class:"notificationcard"},e)):null};function mx(i){const e=i.getTemplate();return html`
    ${setup.TagHelper.getTagsRep("opportunity",e.getTags())}
    ${e.getDifficulty().rep()}
    ${we(i)}
  `}o(mx,"getOpportunityTitleFragment");function fx(i,e){const t=i.getTemplate(),a=[],r=[];if(a.push(de({text:mx(i)})),t.isMustBeAnswered())a.push(P({tooltip:"This mail must be answered before you can end the week",text:setup.DOM.Text.danger("Important")}));else if(t.getDeadlineWeeks()<setup.INFINITY){const s=i.getWeeksUntilExpired();a.push(P({text:`${s} week${s>1?"s":""} left`}))}else a.push(P({text:"Never expires"}));return State.variables.fort.player.isHasBuilding(setup.buildingtemplate.mailroom)||a.push(P({text:html`Build the ${setup.buildingtemplate.mailroom.rep()} to answer this mail`})),State.variables.gDebug&&r.push(Oe({text:"Debug remove",callback:o(()=>{State.variables.opportunitylist.removeOpportunity(i)},"callback")})),r.length&&a.push(be({children:r})),a}o(fx,"opportunityNameActionMenu");function bx(i){const e=i.getTemplate();return State.variables.menufilter.get("opportunity","display")=="short"?html`
      ${setup.DOM.Util.message("(description)",()=>Pe(i,e.getDescriptionPassage()))}`:Pe(i,e.getDescriptionPassage())}o(bx,"getOpportunityDescriptionFragment"),setup.DOM.Card.opportunity=function(i,e){const t=i.getTemplate(),a=[];a.push(setup.DOM.Util.menuItemToolbar(fx(i))),a.push(html`
    <div class='textcard'>
      ${bx(i)}
    </div>
  `),setup.DOM.Helper.loadQuestVars(i);const r=t.getVisibleOptions();for(let n=0;n<r.length;++n){const l=r[n],u=l.description_passage,h=l.costs,p=l.restrictions,c=[];c.push(html`
      <div>
        ${setup.DOM.Util.include_replace(u)}
        ${setup.DOM.Card.cost(h)}
        ${setup.DOM.Card.restriction(p,i)}
      </div>
    `),e||(c.push(html`
        ${i.isCanSelectOption(n)?setup.DOM.Nav.button("Select",()=>{i.selectOption(n),State.variables.gOpportunity_key=i.key},"OpportunityOptionSelected"):html`${setup.DOM.Text.dangerlite("Not available")}`}
      `),State.variables.dutylist.isViceLeaderAssigned()&&(State.variables.opportunitylist.getAutoAnswer(t)==n?c.push(html`
            [When available, your vice leader will ${setup.DOM.Text.successlite("auto-answer")} with this]
            ${setup.DOM.Nav.link("(remove auto-answer)",()=>{State.variables.opportunitylist.removeAutoAnswer(t),setup.DOM.Nav.goto()})}
          `):c.push(html`
            ${setup.DOM.Nav.link("(set as auto-answer response)",()=>{State.variables.opportunitylist.setAutoAnswer(t,n),setup.DOM.Nav.goto()})}
          `))),a.push(setup.DOM.create("div",{class:"opportunitycardoption clear-both"},c))}State.variables.gDebug&&a.push(html`
      <div>
        ${setup.DOM.Util.message("(DEBUG: show actors)",()=>i.getActorsList().map(l=>`<div>${l[0]}: ${l[1].repLong()}</div>`))}
      </div>
    `);const s=`${t.getCardClass()} card`;return setup.DOM.create("div",{class:s},a)},setup.DOM.Card.opportunity_option_selected=function(i){const e=i.getSelectedOptionPassage(),t=[];e&&t.push(Pe(i,e)),i.finalize(),delete State.variables.gOpportunity_key;function a(){State.variables.opportunitylist.getOpportunities().length?setup.DOM.Nav.goto("OpportunityList"):setup.DOM.Nav.goto("QuestHub")}return o(a,"continue_callback"),e?(State.variables.gPassage="QuestHub",State.variables.gMenuVisible&&(State.variables.gMenuVisible=!1,setup.DOM.Nav.topLeftNavigation(setup.DOM.Nav.link("Continue",a)),t.push(html`
        <div>
          ${setup.DOM.Nav.link("Continue...",a)}
        </div>
      `)),setup.DOM.create("div",{},t)):(a(),null)};function yx(i){return html`${we(i)}`}o(yx,"partyNameFragment");function pA(i,e){const t=[],a=[];t.push(de({text:yx(i)})),e||t.push(I({text:"Add unit",tooltip:"Assign units to this party",callback:o(()=>{State.variables.gPartySelected_key=i.key,setup.DOM.Nav.goto("PartyAddUnit")},"callback")}));const r={text:'<span data-tooltip="If checked, then units on this party CAN be selected to go on quests by quest auto-assign. Regardless of this settings, the units can always be selected when using manual unit assignment.">Auto-assign pickable</span>',checked:i.isCanGoOnQuestsAuto()};return e?t.push(P(r)):(r.callback=()=>{i.toggleIsCanGoOnQuestsAuto(),setup.DOM.Nav.goto()},t.push(I(r))),e||(a.push(I({text:"Rename",tooltip:"Change this party's name",callback:o(()=>{State.variables.gParty_key=i.key,setup.DOM.Nav.goto("PartyNameChange")},"callback")})),i.isCanDisband()?a.push(Oe({text:"Disband",tooltip:"Delete this party",callback:o(()=>{State.variables.partylist.removeParty(i),setup.DOM.Nav.goto()},"callback")})):a.push(P({text:"Remove all units to disband"}))),a.length&&t.push(be({children:a})),t}o(pA,"partyNameActionMenu");function kx(i,e){return()=>{i.removeUnit(e),setup.DOM.Nav.goto()}}o(kx,"removeUnitCallback$1"),setup.DOM.Card.party=function(i,e){const t=[];t.push(setup.DOM.Util.menuItemToolbar(pA(i,e)));for(const a of i.getUnits())t.push(html`
      <div>
        ${setup.DOM.Util.level(a.getLevel())}
        ${a.repLong()}
        ${!e&&setup.DOM.Nav.link("(remove)",kx(i,a))}
      </div>
    `);return setup.DOM.create("div",{class:"partycard card"},t)},setup.DOM.Card.partycompact=function(i,e){return setup.DOM.Util.menuItemToolbar(pA(i,e))};function vx(i,e){const t=[],a=[];return t.push(de({text:`${i.repFull()} ${State.variables.gDebug?`(key: '${i.key}')`:""}`})),a.length&&t.push(be({children:a})),t}o(vx,"traitNameActionMenu");function cA(i){const e=[];e.push(html`
      <div>
      ${setup.DOM.Util.twine(i.getDescription())}
    </div>
    `),i.isHasSkillBonuses()&&e.push(html`
    <div>
    ${setup.SkillHelper.explainSkillMods(i.getSkillBonuses())}
      </div>
    `);const t=i.getSlaveValue();return t&&e.push(html`
    <div>
    Worth: ${setup.DOM.Util.money(t)}
      </div>
    `),setup.DOM.create("div",{},e)}o(cA,"getTraitEtcFragment"),setup.DOM.Card.trait=function(i,e){const t=[];return t.push(html`
    ${setup.DOM.Util.menuItemToolbar(vx(i))}
    ${cA(i)}
    `),setup.DOM.create("div",{},t)};function Sx(i,e){return html`${i.repFull()}${State.variables.gDebug?` (key: '${i.key}')`:""}`}o(Sx,"perkNameFragment");function Tx(i,e,t){const a=[],r=[];return a.push(de({text:Sx(i)})),t||(e.getLearnablePerks().includes(i)?a.push(I({text:"Learn",callback:o(()=>{e.addTrait(i),e.isCanLearnNewPerk()?setup.DOM.Nav.goto():setup.DOM.Nav.gotoreturn()},"callback")})):a.push(P({text:"Limit reached"}))),r.length&&a.push(be({children:r})),a}o(Tx,"perkNameActionMenu"),setup.DOM.Card.perk=function(i,e,t){const a=[];a.push(setup.DOM.Util.menuItemToolbar(Tx(i,e,t))),a.push(html`
    <div>
      ${cA(i)}
    </div>
  `);let r;return e.getLearnablePerks().includes(i)?r="perkcard":r="perkcardinactive",setup.DOM.create("div",{class:`${r} card`},a)},setup.DOM.Card.restriction=function(i,e,t){const a=[];e instanceof setup.Unit&&e.isDefiant()&&!setup.RestrictionLib.isRestrictionsAllowDefiant(i)&&a.push(html`
    <span class='restrictioncard'>
      ${e.rep()} is ${setup.DOM.Text.dangerlite("defiant")}
    </span>
    `);for(const r of i)(t||!r.isOk(e))&&a.push(html`
        <span class='restrictioncard'>
          ${r.explain(e)}
        </span>
      `);return!t&&i.length&&a.push(setup.DOM.Util.message("(all requirements)",()=>setup.DOM.Card.cost(i,e))),setup.DOM.create("div",{},a)};const dA="fortgrid-grid-div",gA="fortgrid-toolbar-div",mA="fortgrid-titlebar-div";function fA(){if(setup.DevToolHelper.saveScrollPos(),State.variables.fortgrid.isRoomPlacementsValid()){const i=State.variables.gFortGridControl.getRenovateCost();i&&setup.qc.Money(-i).apply(),setup.DOM.Nav.goto("FortGrid")}else setup.Dialogs.open({title:"Invalid room placements",content:html`<p>
        You must place all mandatory rooms inside the fort.
      </p>`}),State.variables.gFortGridControl.refreshToolbar()}o(fA,"return_callback"),setup.FortGridController=(dn=class extends setup.TwineClass{constructor(e,t){if(super(),Mousetrap.unbind("["),Mousetrap.unbind("]"),this.mode=e,this.room_key=t,this.current_mouse_enter_tile=null,this.is_show_bonus=State.variables.fort.player.isHasBuilding(setup.buildingtemplate.landscapingoffice),this.is_show_renovation=State.variables.fort.player.isHasBuilding(setup.buildingtemplate.renovationoffice),this.move_origin_location=null,this.move_origin_rotation=null,this.tile_to_elem=[],this.elems_with_class=[],this.reset_data={},["place","edit"].includes(this.mode)){const a=State.variables.roomlist.getRoomInstances();for(const r of a)this.reset_data[r.key]=Object.assign({},r)}}resetCache(){this.tile_to_elem=[],this.elems_with_class=[]}addClass(e,t){const r=State.variables.fortgrid.getTile(e).getRoomInstance();r&&(e=r.getLocation());const s=this.getElem(e);$(s).hasClass(t)||($(s).addClass(t),this.elems_with_class.push({elem:s,elemclass:t}))}clearClasses(){for(const e of this.elems_with_class)$(e.elem).removeClass(e.elemclass);this.elems_with_class=[]}getChangedRooms(){const e=State.variables.roomlist.getRoomInstances(),t=[];for(const a of e){if(!(a.key in this.reset_data))continue;const r=this.reset_data[a.key].location,s=a.getLocation();(r&&!s||s&&!r||r&&r.row!=s.row||r&&r.col!=s.col||this.reset_data[a.key].clockwise_rotations!=a.getClockwiseRotations())&&t.push(a)}return t}getRenovateCost(){let e=0;for(const t of this.getChangedRooms())this.reset_data[t.key].location&&(e+=t.getWidth()*t.getHeight()*setup.FORTGRID_RELOCATE_PRICE_PER_TILE);return e}resetAllRooms(){const e=State.variables.roomlist.getRoomInstances();for(const t of e)t.key in this.reset_data&&Object.assign(t,this.reset_data[t.key]);State.variables.fortgrid.recomputeTiles(),State.variables.roomlist.resetCacheAll()}getElem(e){const t=State.variables.fortgrid.translateLocationToArrayIndex(e),a=this.tile_to_elem[t.idx1][t.idx2];if(!a)throw new Error(`Unknown result for location: ${e.row} ${e.col}`);return a}drawTiles(){const e=State.variables.fortgrid.getTiles();State.variables.fortgrid.recomputePaths(),this.elems_with_class=[],this.tile_to_elem=[];for(const r of e){const s=[];for(const n of r)s.push(null);this.tile_to_elem.push(s)}const t=[];{const r=[];for(let s=0;s<State.variables.fortgrid.getWidth();++s)r.push(setup.DOM.create("td",{style:`height: 0px; width: ${setup.Tile.getTileSize()}px;`},null));t.push(setup.DOM.create("tr",{},r))}State.variables.fortgrid.isCanExpandIndoor()&&t.push(kA(!0));for(let r=0;r<e.length;++r){const s=e[r],n=[];for(let l=0;l<s.length;++l){const u=s[l],h=u.getRoomInstance(),p=u.getTileDisplay(),c=h?h.getHeight():1,d=h?h.getWidth():1,g=setup.DOM.create("td",{rowspan:c,colspan:d,class:"tile-event-listen","data-row":r,"data-col":l},p);p||$(g).hide(),this.tile_to_elem[r][l]=g,n.push(g)}t.push(setup.DOM.create("tr",{},n))}State.variables.fortgrid.isCanExpandOutdoor()&&t.push(kA(!1));const a=setup.DOM.create("table",{class:"fortgrid-table"},setup.DOM.create("tbody",{},t));return $(a).on("mouseenter",".tile-event-listen",function(){const r=parseInt($(this).attr("data-row")),s=parseInt($(this).attr("data-col"));pb(State.variables.fortgrid.getTiles()[r][s])()}),$(a).on("click",".tile-event-listen",function(){const r=parseInt($(this).attr("data-row")),s=parseInt($(this).attr("data-col"));_x(State.variables.fortgrid.getTiles()[r][s])()}),setup.DevToolHelper.restoreScrollPos(),setup.DOM.create("div",{style:`width: ${setup.Tile.getTileSize()*State.variables.fortgrid.getWidth()+100}px`},a)}getRoom(){return this.room_key?State.variables.roominstance[this.room_key]:null}refreshToolbar(){setup.DOM.refresh(`#${gA}`),setup.DOM.refresh(`#${mA}`)}resetRoom(){this.getRoom().setRotation(this.move_origin_rotation);const e=State.variables.fortgrid.relocateRoom(this.getRoom(),this.move_origin_location,!0);this.refreshTiles(e)}refreshGrid(){setTimeout(()=>setup.DOM.refresh(`#${dA}`),1)}refreshMeta(){this.clearClasses(),this.refreshToolbar(),State.variables.fortgrid.isCanExpandIndoor()&&setup.DOM.refresh(`#${tk(!0)}`),State.variables.fortgrid.isCanExpandOutdoor()&&setup.DOM.refresh(`#${tk(!1)}`),setup.runSugarCubeCommand("<<refreshmenu>>>")}refreshAll(){this.refreshMeta(),this.refreshGrid(),setup.runSugarCubeCommand("<<refreshmenu>>>")}setElem(e){if(State.variables.fortgrid.isOutOfBounds(e))return;const t=State.variables.fortgrid.getTile(e),a=this.getElem(e),r=t.getRoomInstance(),s=t.getTileDisplay();if(!s)$(a).hide();else{const n=r?r.getHeight():1,l=r?r.getWidth():1;$(a).attr("rowspan",n),$(a).attr("colspan",l),$(a).html(s),$(a).show()}}refreshTiles(e){this.refreshMeta(),setTimeout(()=>{for(const t of e)this.setElem(t)},1)}setRoom(e,t){this.room_key=e.key,t?(this.move_origin_location=e.getLocation(),this.move_origin_rotation=e.getClockwiseRotations()):this.move_origin_rotation=this.move_origin_location=null}getTitleToolbar(){const e=[];e.push(de({text:State.variables.company.player.rep()}));const t=setup.SkillHelper.explainSkills(State.variables.roomlist.getTotalSkillBonuses()),a=`You can get bonuses to the skills of all units
in your company by carefully placing your rooms. The bonus is capped at ${setup.ROOM_MAX_SKILL_BOOST} per skill. This bonus is small enough
that you can play the game without even bothering with this bonus if you prefer.`;return t&&e.push(P({text:html`${t}`,tooltip:a})),e}getToolbars(){const e=o(()=>{if(setup.DevToolHelper.saveScrollPos(),this.mode=="build"){const s=this.getRoom().getTemplate().getBuildingTemplate();this.getRoom().delete(),State.variables.fort.player.isHasBuilding(s)?setup.DOM.Nav.goto("Fort"):setup.DOM.Nav.goto("FortBuild");return}else if(this.mode=="place"&&this.move_origin_location)this.resetRoom(),this.mode="edit";else if(this.mode=="place")if(this.getChangedRooms().length){setup.DOM.Nav.goto("RoomListPlace");return}else{setup.DOM.Nav.goto("RoomList");return}else this.mode="edit";this.refreshAll()},"cancel_callback"),t=o(()=>{const s=this.getRoom(),n=s.getTemplate().getBuildingTemplate();State.variables.fort.player.isHasBuilding(n)?(State.variables.fort.player.getBuilding(n).upgrade(s),setup.DevToolHelper.saveScrollPos(),setup.DOM.Nav.goto("Fort")):(State.variables.fort.player.build(n,s),setup.DevToolHelper.saveScrollPos(),setup.DOM.Nav.goto("FortBuild"))},"confirm_build_callback");if(["delete"].includes(this.mode))setup.DOM.Nav.topLeftNavigation(setup.DOM.Nav.link("Finish removals",e));else if(this.mode=="edit"){const s=this.getRenovateCost();s>0&&State.variables.company.player.getMoney()<s?setup.DOM.Nav.topLeftNavigation(html`
            Not enough money
            (Need: ${setup.DOM.Util.money(s)})
          `):setup.DOM.Nav.topLeftNavigation(setup.DOM.Nav.link(html`Finish${s?html` (${setup.DOM.Util.money(-s)})`:""}`,fA))}else this.mode=="confirmbuild"&&setup.DOM.Nav.topLeftNavigation(setup.DOM.Nav.link(html`Confirm`,t));const a=[];if(["place","build"].includes(this.mode)?a.push(P({text:`Place ${this.getRoom().rep()}`})):["delete"].includes(this.mode)?a.push(P({text:"Click to remove"})):["edit"].includes(this.mode)&&this.is_show_renovation&&a.push(P({text:"Click to move"})),["place","build"].includes(this.mode)){const s=this.getRoom();a.push(I({text:"Rotate",tooltip:'Rotate this room clockwise 90 degrees. You can use the "[" and "]" keyboard shortcuts for rotating rooms.',callback:o(()=>{s.rotate90clockwise(),this.current_mouse_enter_tile&&pb(this.current_mouse_enter_tile)(),this.refreshToolbar()},"callback")})),a.push(I({text:"Auto-place",tooltip:"Let the game automatically place this room somewhere on the fort.",callback:o(()=>{const n=State.variables.fortgrid.placeAnywhere(s,!0);location&&yA(s,n)},"callback")})),Mousetrap.unbind("[").bind("[",()=>{["place","build"].includes(this.mode)&&(s.rotate90anticlockwise(),this.current_mouse_enter_tile&&pb(this.current_mouse_enter_tile)(),this.refreshToolbar())}),Mousetrap.unbind("]").bind("]",()=>{["place","build"].includes(this.mode)&&(s.rotate90clockwise(),this.current_mouse_enter_tile&&pb(this.current_mouse_enter_tile)(),this.refreshToolbar())})}if(this.is_show_renovation){if(["edit","delete"].includes(this.mode)){const s=State.variables.roomlist.getUnplacedRooms();let n;s.length?n=html`Room list (${setup.DOM.Text.successlite(s.length)})`:n=html`Room list`,a.push(I({text:n,tooltip:"See your room list, and optionally place/remove some of them from your fort",callback:o(()=>{setup.DevToolHelper.saveScrollPos(),setup.DOM.Nav.goto("RoomListPlace")},"callback")}))}["edit"].includes(this.mode)&&a.push(I({text:"Remove rooms",tooltip:"Remove rooms from your fort. You can place them back later",callback:o(()=>{this.mode="delete",this.refreshMeta()},"callback")}))}if(this.mode=="view"){const s=State.variables.roomlist.getUnplacedRooms().length;a.push(I({text:"View / Upgrade",tooltip:"See all buildings as well as upgrade existing ones",callback:o(()=>{setup.DevToolHelper.saveScrollPos(),setup.DOM.Nav.goto("Fort")},"callback")}),I({text:"Build",tooltip:"Construct new buildings",callback:o(()=>{setup.DevToolHelper.saveScrollPos(),setup.DOM.Nav.goto("FortBuild")},"callback")}),I({text:html`Room list${s?html` (${setup.DOM.Text.successlite(`${s}`)})`:""}`,tooltip:"List all rooms",callback:o(()=>{setup.DevToolHelper.saveScrollPos(),setup.DOM.Nav.goto("RoomList")},"callback")}),I({text:this.is_show_renovation?"Renovate / Expand":"Expand",tooltip:this.is_show_renovation?"Expand the size of your fort as well as move rooms around":"Expand the size of your fort either inwards or outwards",callback:o(()=>{setup.DevToolHelper.saveScrollPos(),delete State.variables.gFortGridControl,setup.DOM.Nav.goto("FortGridRenovate")},"callback")}))}if(["place","delete","build"].includes(this.mode))a.push(I({text:["delete"].includes(this.mode)?"Finish removals":"Cancel",tooltip:["delete"].includes(this.mode)?"Finish removing rooms":"Cancel the current action",callback:e}));else if(["confirmbuild"].includes(this.mode))a.push(I({text:"Confirm placement",tooltip:"Finish the room placement",callback:t}),I({text:"Cancel",tooltip:"Cancel the room placement and pick another position",callback:o(()=>{const s=this.getRoom(),n=State.variables.fortgrid.relocateRoom(s,null,!0);this.mode="build",this.refreshTiles(n)},"callback")}));else if(this.mode=="edit"){const s=this.getRenovateCost();s>0&&State.variables.company.player.getMoney()<s?a.push(P({text:html`Not enough money: ${setup.DOM.Util.money(s)}`})):a.push(I({text:html`Finish${s?html` (${setup.DOM.Util.money(-s)})`:""}`,tooltip:"Finish the renovation",callback:fA}))}const r=[];return this.mode=="edit"&&r.push(Oe({text:"Reset to start",tooltip:"Reset all room positions to what it was at the start of this renovation",callback:o(()=>{this.resetAllRooms(),this.refreshAll()},"callback")})),r.push(State.variables.menufilter.getMenuItemChecked("fortgrid","show_caption",()=>{this.refreshAll()},"Show titles of the rooms at the top left corner of their images")),r.push(State.variables.menufilter.getMenuItemChecked("fortgrid","show_tooltip",()=>{this.refreshAll()},"Show room tooltips when hovering over them")),this.is_show_bonus&&r.push(State.variables.menufilter.getMenuItemChecked("fortgrid","show_skills",()=>{this.refreshAll()},"Show the skill benefits of each room, if any, on the bottom left corner of their images")),r.push(State.variables.menufilter.getMenuItemChecked("fortgrid","show_activities",()=>{this.refreshAll()},"Show unit activities on the rooms")),a.push(State.variables.menufilter.getMenuFilterToolbarSingleMenu(setup.MenuFilter.getMenus("fortgrid"),"fortgrid","zoom",()=>{this.refreshAll()})),r.length&&a.push(be({children:r})),a}},o(dn,"FortGridController"),dn);function bA(i,e){const t=State.variables.gFortGridControl;if(!t.is_show_bonus)return;const a=State.variables.fortgrid.getAffectingRooms(i,e);for(const r of a.rooms)t.addClass(r.getLocation(),"fortgrid-highlight"),t.addClass(r.getLocation(),"fortgrid-neighbor");for(const r of a.paths)t.addClass(r.getLocation(),"fortgrid-highlight"),t.addClass(r.getLocation(),"fortgrid-path")}o(bA,"show_adjacencies");function pb(i){return()=>{if(!State.variables.gFortGridControl)return;const e=State.variables.gFortGridControl.mode,t=State.variables.gFortGridControl;if(t.current_mouse_enter_tile=i,t.clearClasses(),["place","build"].includes(e)){const a=State.variables.gFortGridControl.getRoom(),r=State.variables.fortgrid.checkRoomCanRelocateTo(a,i.getLocation(),!0);let s;r?s="fortgrid-invalid":s="fortgrid-valid";const n=i.getLocation();for(let l=n.row;l<n.row+a.getHeight();++l)for(let u=n.col;u<n.col+a.getWidth();++u){const h={row:l,col:u};State.variables.fortgrid.isOutOfBounds(h)||(t.addClass(h,"fortgrid-highlight"),t.addClass(h,s))}if(a.getTemplate().isHasDoor()){const l=a.getEntranceLocation(n);State.variables.fortgrid.isOutOfBounds(l)||(t.addClass(l,"fortgrid-highlight"),t.addClass(l,`${s}-entrance`))}r||bA(a,n)}if(e=="delete"){const a=i.getRoomInstance();if(a&&!a.getTemplate().isFixed()){const r=i.getLocation();t.addClass(r,"fortgrid-highlight"),t.addClass(r,"fortgrid-invalid")}}if(["view","edit","delete","confirmbuild"].includes(e)){const a=i.getRoomInstance();if(a&&(bA(a,i.getLocation()),a.getTemplate().isHasDoor())){const r=a.getEntranceLocation(i.getLocation());State.variables.fortgrid.isOutOfBounds(r)||(t.addClass(r,"fortgrid-highlight"),t.addClass(r,"fortgrid-valid-entrance"))}}}}o(pb,"on_mouse_enter_callback");function ek(i,e,t){setup.Dialogs.open({title:"Invalid position",content:html`
      <div>Unable to ${t} ${i.rep()} here because:</div>
      <div>${e}</div>
    `})}o(ek,"show_reason");function yA(i,e){const t=State.variables.gFortGridControl;if(t.mode=="build")t.mode="confirmbuild",t.refreshTiles(e);else{if(t.move_origin_location)t.mode="edit";else{const r=i.getTemplate(),s=ak(r);s?(t.setRoom(s,!1),s.setRotation(i.getClockwiseRotations())):t.mode="edit"}t.refreshTiles(e)}}o(yA,"on_build_success");function _x(i){return()=>{const e=State.variables.gFortGridControl,t=e.mode;if(["place","build"].includes(t)){const a=e.getRoom(),r=State.variables.fortgrid.checkRoomCanRelocateTo(a,i.getLocation(),!1);let s;r?ek(a,r,"build"):(s=State.variables.fortgrid.relocateRoom(a,i.getLocation(),!0),yA(a,s))}else if(t=="delete"){const a=i.getRoomInstance();if(a&&!a.getTemplate().isFixed()){const r=State.variables.fortgrid.checkRoomCanRelocateTo(a,null,!1);if(r)ek(a,r,"remove");else{const s=State.variables.fortgrid.relocateRoom(a,null,!0);e.refreshTiles(s),a.resetRotation()}}else a&&a.getTemplate().isFixed()&&setup.Dialogs.open({title:"Cannot move room",content:`${a.rep()} cannot be moved.`})}else if(t=="edit"&&State.variables.gFortGridControl.is_show_renovation){const a=i.getRoomInstance();if(a&&!a.getTemplate().isFixed()){e.mode="place",e.setRoom(a,!0);const r=State.variables.fortgrid.relocateRoom(a,null,!0);e.refreshTiles(r)}else a&&a.getTemplate().isFixed()&&setup.Dialogs.open({title:"Cannot move room",content:`${a.rep()} cannot be moved.`})}else if(t=="confirmbuild"){const a=i.getRoomInstance();if(a==e.getRoom()){a.getLocation();const r=State.variables.fortgrid.relocateRoom(a,null,!0);e.mode="build",e.refreshTiles(r)}}}}o(_x,"on_click_callback");function Ax(i){let e=null,t,a;return i?(t=State.variables.fortgrid.getIndoorExpansionMoneyCost(),a="indoors"):(t=State.variables.fortgrid.getOutdoorExpansionMoneyCost(),a="outdoors"),State.variables.gFortGridControl.mode=="edit"?State.variables.company.player.getMoney()>=t?e=setup.DOM.Nav.button(html`Expand ${a} for ${setup.DOM.Util.money(t)}`,()=>{i?State.variables.fortgrid.expandIndoors():State.variables.fortgrid.expandOutdoors(),State.variables.gFortGridControl.refreshAll()}):e=html`You lack the ${setup.DOM.Util.money(t)} required to expand ${a}`:e=html`Room for expansion (costs ${setup.DOM.Util.money(t)})`,e}o(Ax,"get_expansion_row_content");function tk(i){return i?"fortgrid-expansion-indoor-id":"fortgrid-expansion-outdoor-id"}o(tk,"get_expansion_row_refreshable_id");function kA(i){const e=setup.Tile.getTileSize();return html`
    <tr>
      <td
        class="fortgrid-expansion"
        colspan=${State.variables.fortgrid.getWidth()}
      >
        <div
          height="${e}"
          width="${e*State.variables.fortgrid.getWidth()}"
        >
          ${setup.DOM.createRefreshable("div",{id:tk(i)},()=>Ax(i))}
        </div>
      </td>
    </tr>
  `}o(kA,"get_expansion_row"),setup.DOM.Menu.fortgrid=function({mode:i,room_key:e}){State.variables.gFortGridControl||(State.variables.gFortGridControl=new setup.FortGridController(i,e));const t=[];return t.push(setup.DOM.createRefreshable("div",{id:mA},()=>setup.DOM.Util.menuItemToolbar(State.variables.gFortGridControl.getTitleToolbar()))),t.push(setup.DOM.createRefreshable("div",{id:gA,class:"tagtoolbarsticky"},()=>setup.DOM.Util.menuItemToolbar(State.variables.gFortGridControl.getToolbars()))),t.push(setup.DOM.create("div",{class:"overflow-story-container"},setup.DOM.createRefreshable("div",{id:dA},()=>State.variables.gFortGridControl.drawTiles(),!0))),setup.DOM.create("div",{},t)};function Mx(i){const e=[];return e.push(html`${i.getTemplate().repTags()}`),e.push(html`${we(i)}`),e.push(html`(${i.getTemplate().getWidth()}x${i.getTemplate().getHeight()})`),setup.DOM.create("span",{},e)}o(Mx,"roomNameFragment");function wx(i){const e=[];return e.push(html`${i.repTags()}`),e.push(html`${we(i)}`),e.push(html`(${i.getWidth()}x${i.getHeight()})`),setup.DOM.create("span",{},e)}o(wx,"roomTemplateNameFragment");function vA(i,e){const t=[],a=State.variables.roomlist.getRoomCount(i);if(a.placed+a.unplaced){let s;a.placed&&!a.unplaced?s=`${a.placed>1?`${a.placed} placed`:"Placed"}`:a.placed?s=`${a.placed}/${a.placed+a.unplaced} placed`:s=html`${a.unplaced} ${setup.DOM.Text.dangerlite("not placed")}`,t.push(P({text:s}))}const r=i.getBuildingTemplate();return r&&t.push(P({text:Z_(r)})),t}o(vA,"roomTemplateActionFragmentCommon");function ak(i){const e=State.variables.roomlist.getUnplacedRooms().filter(t=>t.getTemplate()==i);return e.length?e[0]:null}o(ak,"getUnplacedRoom");function Rx(i){const e=State.variables.roomlist.getRoomInstances({template:i}).filter(t=>t.isPlaced());return e.length?e[0]:null}o(Rx,"getPlacedRoom");function SA(i,e){const t=[];return t.push(de({text:Mx(i)})),!e&&State.variables.roomlist.getRoomCount(i.getTemplate()).unplaced&&(t.push(I({text:"Place",tooltip:"Place this room somewhere on your fort",callback:o(()=>{const a=ak(i.getTemplate());a.resetRotation(),State.variables.gFortGridPlaceRoomKey=a.key,State.variables.gFortGridControl.mode="place",State.variables.gFortGridControl.setRoom(a,!1),setup.DOM.Nav.goto("FortGridPlace")},"callback")})),t.push(I({text:"Auto-place",tooltip:"Automatically place this room somewhere on your fort",callback:o(()=>{const a=ak(i.getTemplate());State.variables.fortgrid.placeAnywhere(a),setup.DOM.Nav.goto()},"callback")}))),!e&&!i.getTemplate().isFixed()&&State.variables.roomlist.getRoomCount(i.getTemplate()).placed&&State.variables.gFortGridControl&&State.variables.gFortGridControl.mode!="view"&&t.push(I({text:"Remove",tooltip:"Remove this room from your fort. You may need to place it back later",callback:o(()=>{const a=Rx(i.getTemplate()),r=State.variables.fortgrid.checkRoomCanRelocateTo(a,null,!1);if(r)ek(a,r,"remove");else{const s=State.variables.fortgrid.relocateRoom(a,null,!0);State.variables.gFortGridControl.refreshTiles(s),a.resetRotation(),setup.DOM.Nav.goto()}},"callback")})),t.push(...vA(i.getTemplate())),t}o(SA,"roomInstanceNameActionMenu");function TA(i,e){const t=[];return t.push(de({text:wx(i)})),t.push(...vA(i)),t}o(TA,"roomTemplateNameActionMenu");function _A(i){return html`
    <div class="graytext">
      ${setup.DOM.Text.successlite("Contributors wanted!")}
      This room currently does not have any images.
      See <a target="_blank" href="https://gitgud.io/darkofocdarko/fort-of-chains/-/issues/290">here</a>
      for more information.
      Images for this room would go into the
      "img/room/${i.key}/" folder.
    </div>`}o(_A,"artContributorWanted");function Ex(i){const e=i.getImageObject();return e?setup.DOM.Util.Image.credits(e.info,"room"):html`<br/>${_A(i.getTemplate())}`}o(Ex,"getArtCreditFragment");function AA(i,e){const t=[];if(i.getDescriptionPassage())t.push(setup.DOM.create("div",{},setup.DOM.Util.include(i.getDescriptionPassage())));else{const a=i.getBuildingTemplate();a&&t.push(X_(a))}if(State.variables.gDebug||State.variables.fort.player.isHasBuilding(setup.buildingtemplate.landscapingoffice)){const a=i.getSkillBonus(),r={};for(const n of a)if(n.type=="always")t.push(html`
          <div>Grant ${n.bonus.toFixed(2)} ${setup.skill[n.skill_key].rep()}.</div>
        `);else{const l=n.room_template_key,u=setup.roomtemplate[l];if(!u)throw new Error(`Missing room with template ${l}!`);const h=u.getBuildingTemplate();if(h&&!State.variables.gDebug&&!State.variables.fort.player.isHasBuilding(h)&&h.isHidden())continue;const p=JSON.stringify([setup.skill[n.skill_key].key,n.type,n.bonus]);p in r||(r[p]={type:n.type,bonus:n.bonus,skill:setup.skill[n.skill_key],templates:[]}),r[p].templates.push(u)}const s=Object.keys(r);s.sort();for(const n of s){const l=r[n],u=l.templates.map(h=>h.rep()).join(", ");if(l.type=="adjacent")t.push(html`
            <div>Grant ${l.bonus.toFixed(2)} ${l.skill.rep()} for every ${setup.DOM.Text.dangerlite("directly adjacent")}: ${u}.</div>
          `);else if(l.type=="near")t.push(html`
          <div>Grant ${l.bonus.toFixed(2)} ${l.skill.rep()} for every
          <span data-tooltip="Entrances within ${setup.FORTGRID_NEAR_DISTANCE} tiles of each other">nearby</span>: ${u}.
          </div>
        `);else throw new Error(`Unrecognized adjacency type: ${l.type}`)}}return setup.DOM.create("div",{},t)}o(AA,"getRoomAndTemplateCommonFragment");function xx(i){if(!i.getLocation())return html`Room is not currently placed in your fort.`;const e=[],t=State.variables.fortgrid.getAffectingRooms(i,i.getLocation()),a=t.skill_to_room,r=t.skill_bonuses;for(let s=0;s<a.length;++s){const n=a[s];n.length&&e.push(html`
          <div>
            ${r[s].toFixed(1)} ${setup.skill[s].rep()} from ${n.map(l=>l.rep()).join(", ")}
          </div>
        `)}return setup.DOM.create("div",{},e)}o(xx,"fullAdjacencyExplanation"),setup.DOM.Card.roominstance=function(i,e){const t=[];if(t.push(setup.DOM.Util.menuItemToolbar(SA(i,e))),State.variables.fort.player.isHasBuilding(setup.buildingtemplate.landscapingoffice)){const r=setup.SkillHelper.explainSkills(i.getSkillBonuses(),!1,!0);r&&t.push(html`<div>Current effects: ${r} ${setup.DOM.Util.message("(full details)",()=>html`<div class='helpcard'>${xx(i)}</div>`)}</div>`)}return t.push(AA(i.getTemplate())),t.push(Ex(i)),setup.DOM.create("div",{class:"card roominstancecard"},t)},setup.DOM.Card.roominstancecompact=function(i,e){return setup.DOM.Util.menuItemToolbar(SA(i,e))},setup.DOM.Card.roomtemplate=function(i,e){const t=[];return t.push(setup.DOM.Util.menuItemToolbar(TA(i))),State.variables.gDebug&&!i.getImageList().length&&t.push(_A(i)),t.push(AA(i)),setup.DOM.create("div",{class:"card roomtemplatecard"},t)},setup.DOM.Card.roomtemplatecompact=function(i,e){return setup.DOM.Util.menuItemToolbar(TA(i))};function Dx(i){return html`
    ${setup.TagHelper.getTagsRep("sexaction",i.getTags())}
    ${i.desc()}
    ${State.variables.settings.isSexActionDisabled(i)?setup.DOM.Text.danger("[DISABLED]"):""}
  `}o(Dx,"sexActionNameFragment");function MA(i,e){const t=[],a=[];return t.push(de({text:Dx(i)})),e||a.push(I({callback:o(()=>{State.variables.settings.toggleSexActionDisabled(i),setup.DOM.Nav.goto()},"callback"),text:"Disabled",tooltip:"If disabled, sex actions will not be selected during Interactive Sex",checked:State.variables.settings.isSexActionDisabled(i)})),a.length&&t.push(be({children:a})),t}o(MA,"sexActionNameActionMenu"),setup.DOM.Card.sexactioncompact=function(i,e){return setup.DOM.Util.menuItemToolbar(MA(i,e))},setup.DOM.Card.sexaction=function(i,e){const t=[];t.push(setup.DOM.Util.menuItemToolbar(MA(i,e)));const a=i.getRestrictions();a.length&&t.push(html`
      <div>
        ${setup.DOM.Card.cost(a)}
      </div>
    `);let r=0;for(const n of i.getActorDescriptions()){r+=1;const l=n.restrictions||[];l.length&&t.push(html`
        <div>
          Actor ${r}: ${setup.DOM.Card.cost(l)}
        </div>
      `)}return setup.DOM.create("div",{class:"card interactive-sex-action-card"},t)},setup.DOM.Card.skill=function(i){return html`
    <header>
      ${i.getImageRep()}
      ${setup.DOM.Util.namebold(i)}
    </header>
    <div>
      ${setup.DOM.Util.twine(i.getDescription())}
    </div>
  `};function Ix(i){return html`${we(i)}`}o(Ix,"slaveOrderNameFragment");function wA(i,e){const t=[],a=[];t.push(de({text:Ix(i)})),i.isIgnored()&&t.push(P({text:"Ignored"})),e||t.push(I({text:"Fulfill",tooltip:"Fulfill this slave order with a unit",callback:o(()=>{State.variables.gSlaveOrder_key=i.key,setup.DOM.Nav.goto("SlaveOrderFulfill")},"callback")}));const r=i.getSourceCompany();if(r&&t.push(P({text:html`from ${r.rep()}`})),i.isCannotExpire())t.push(P({text:"Cannot expire"}));else{const n=i.getExpiresIn();t.push(P({text:setup.DOM.create("span",{"data-tooltip":"Weeks before this slave order expires"},`${n} week${n>1?"s":""}`)}))}const s={text:"Ignored",checked:i.isIgnored()};return e?a.push(P(s)):(s.callback=()=>{i.toggleIsIgnored(),setup.DOM.Nav.goto()},a.push(I(s))),a.length&&t.push(be({children:a})),t}o(wA,"slaveOrderNameActionMenu"),setup.DOM.Card.slaveorder=function(i,e){const t=[];t.push(setup.DOM.Util.menuItemToolbar(wA(i,e)));{const r=i.getCriteria();r&&t.push(setup.DOM.create("div",{},setup.DOM.Card.criteria(r)))}{const r=i.explainFulfilled();r&&t.push(html`
        <div>
          Rewards: ${r}
        </div>
      `),i instanceof setup.SlaveOrderItem&&t.push(html`
        <div>
          Rewards ${i.getItem().rep()} instead of money
          (one item per ${setup.DOM.Util.money(i.getItem().getValue())}, up to
          ${i.getMaximum()} copies)
        </div>
      `);const s=i.getUnfulfilledOutcomes();s.length&&t.push(html`
        <div>
          If expires: ${setup.DOM.Card.cost(s,i)}
        </div>
      `)}return setup.DOM.create("div",{class:"slaveordercard card"},t)},setup.DOM.Card.slaveordercompact=function(i,e){return setup.DOM.Util.menuItemToolbar(wA(i,e))};function $x(i){return html`${we(i)}`}o($x,"teamNameFragment");function Ox(i){return i.getQuest()?html`
      <span data-tooltip="<<questcardkey '${i.getQuest().key}' 1>>">
        ${setup.DOM.Text.dangerlite("[Quest]")}
      </span>
    `:html``}o(Ox,"teamStatusFragment");function RA(i,e){const t=[],a=[];t.push(de({text:$x(i)}));const r=Ox(i);r&&t.push(P({text:r}));const s=i.getQuest();return s&&!e&&s.isCanChangeTeam()&&t.push(Oe({text:"Cancel quest",tooltip:"Cancel this quest team assignment",callback:o(()=>{s.cancelAssignTeam(),setup.DOM.Nav.goto()},"callback")})),a.length&&t.push(be({children:a})),t}o(RA,"teamNameActionMenu");function Cx(i,e){return()=>{i.removeUnit(e),setup.DOM.Nav.goto()}}o(Cx,"removeUnitCallback"),setup.DOM.Card.team=function(i,e){const t=[];t.push(setup.DOM.Util.menuItemToolbar(RA(i,e)));const a=i.getQuest();if(a){const r=[];r.push(html`
      On ${a.rep()} for ${a.getRemainingWeeks()} more weeks.
    `),t.push(setup.DOM.create("div",{},r))}for(const r of i.getUnits())t.push(html`
      <div>
        ${setup.DOM.Util.level(r.getLevel())}
        ${r.repLong()}
        ${!e&&!i.getQuest()&&setup.DOM.Nav.link("(remove)",Cx(i,r))}
      </div>
    `);return setup.DOM.create("div",{class:"teamcard"},t)},setup.DOM.Card.teamcompact=function(i,e){return setup.DOM.Util.menuItemToolbar(RA(i,e))},setup.DOM.Card.title=function(i){const e=[];{const a=[];a.push(html`
      ${Fy(i)}
    `),i.isNegative()&&a.push(html`
        <span data-tooltip="A negative title confers penalty instead of a benefit. Negative titles don't fully stack -- only the highest penalty to each skill applies.">
          ${setup.DOM.Text.dangerlite("[Negative Title]")}
        </span>
      `);const r=i.getSlaveValue();r&&a.push(html`
        <span class='toprightspan'>
          Value: ${setup.DOM.Util.money(r)}
        </span>
      `),e.push(setup.DOM.create("div",{},a))}const t=setup.SkillHelper.explainSkills(i.getSkillAdds());return t&&e.push(setup.DOM.create("div",{},t)),e.push(html`
    <div>
      ${setup.DOM.Util.twine(i.getDescription())}
    </div>
  `),setup.DOM.create("div",{class:`titlecard${i.isNegative()?"-negative":""}`},e)},setup.DOM.Card.tooltipunitstatus=function(i){const e=[],t=i.busyInfo();e.push(html`
    <header>
      ${t.icon} <b>${setup.capitalize(t.title)}</b>
    </header>
  `);const a=i.getQuest();a&&e.push(html`
      <div>
        Busy with ${a.rep()}
      </div>
    `);const r=i.getOpportunity();r&&e.push(html`
      <div>
        Busy with ${r.rep()}
      </div>
    `),State.variables.leave.isOnLeave(i)&&e.push(html`
      <div>
        ${setup.DOM.Card.leave(i)}
      </div>
    `),i.isInjured()&&e.push(html`
      <div>
        Injured: ${setup.DOM.Card.injury(i)}
      </div>
    `);const l=i.getDuty();return l&&e.push(html`
      <div>
        Duty: ${l.rep()}
      </div>
    `),setup.DOM.create("div",{},e)};function Px(i){return I({text:"Skill focus",tooltip:"Modify the unit's skill focus, which primarily determines how they will increase their skills",callback:o(()=>{State.variables.gUnit_skill_focus_change_key=i.key,setup.DOM.Nav.goto("UnitChangeSkillFocus")},"callback")})}o(Px,"getSkillFocusMenu");function Lx({unit:i,hide_details:e}){const t=[];return State.variables.fort.player.isHasBuilding("lodgings")&&!e&&i.isYourCompany()&&t.push(I({text:"Details",tooltip:"See unit's details as well as long description",callback:o(()=>{State.variables.gUnit_key=i.key,State.variables.gUnitDetailReturnPassage=State.variables.gPassage,setup.DOM.Nav.goto("UnitDetail")},"callback")})),i.isCanHaveSexWithYou()&&t.push(I({text:"Sex",tooltip:"Propose sex with the unit. Purely flavor and has no gameplay effects. The unit may refuse, however, depending on circumstances...",callback:o(()=>{State.variables.gUnit_key=i.key,setup.DOM.Nav.goto("SexPropose")},"callback")})),State.variables.fort.player.isTrainingUnlocked(i)&&(i.isAvailable()&&State.variables.dutylist.isViceLeaderAssigned()&&t.push(I({text:"Multi-Action",tooltip:"With a vice-leader, you can now schedule multiple actions for the unit over the next few weeks.",callback:o(()=>{State.variables.gUnitMultiTraining_key=i.key,delete State.temporary.chosentraits,setup.DOM.Nav.goto("MultiTraining")},"callback")})),(i.isAvailable()||i.isInjured()&&i.isHome()&&State.variables.fort.player.isHasBuilding("treatmentroom"))&&t.push(I({text:"Action",tooltip:"Arrange some activity for the unit for the next few weeks",callback:o(()=>{State.variables.gUnitSelected_key=i.key,setup.DOM.Nav.goto("UnitActionChoose")},"callback")}))),i.isYourCompany()&&State.variables.fort.player.isHasBuilding("warroom")&&i.isCanLearnNewPerk()&&t.push(I({text:"Learn Perk",tooltip:"Teach the unit a new perk. Available twice per unit throughout their career",callback:o(()=>{State.variables.gUnit_key=i.key,setup.DOM.Nav.goto("UnitPerkLearn")},"callback")})),i.isSlaver()&&t.push(Px(i)),t}o(Lx,"getNonRetiredUnitMenuItems");function Ux({unit:i}){const e=[];return e.push(I({text:"Status",tooltip:"Shows the retiree's current occupation.",callback:o(()=>{setup.Dialogs.open({title:"Status",classnames:"",content:setup.DOM.Card.livingdescription(i)}).then(()=>{setup.DOM.Nav.goto()})},"callback")})),e}o(Ux,"getRetiredUnitMenuItems");function ik({unit:i,hide_details:e,as_extras_only:t}){const a=[];i.isRetired()?a.push(...Ux({unit:i})):a.push(...Lx({unit:i,hide_details:e}));const r=[];if(State.variables.fort.player.isHasBuilding(setup.buildingtemplate.traumacenter)){const s=State.variables.trauma.getTraitsWithDurations(i);if(s.length){const n=[html`<div>${i.rep()} currently has the following temporary trauma/boons:</div>`].concat(s.map(l=>html`<div>${l[0].rep()}: ${l[1]} weeks</div>`));r.push(I({text:"View traumas / boons",callback:o(()=>{setup.Dialogs.open({title:"Traumas / Boons",content:setup.DOM.create("div",{},n)})},"callback")}))}}if(State.variables.skillboost.isHasAnyBoost(i)&&r.push(I({text:"View skill boosts",tooltip:"Skill boosts give the unit a permanent boost to one of their skills. However, a unit cannot have too many boosts, and when they acquire one while already having some existing boosts, the old boosts may decay.",callback:o(()=>{const s=State.variables.skillboost.getBoosts(i),n=setup.SkillHelper.explainSkills(s);setup.Dialogs.open({title:"Skill boosts",content:html`
            <div>
              The following are the amount of ${i.rep()}'s skills that has been boosted:
              ${setup.DOM.Util.include("SkillBoostHelpText")}
            </div>
            <div>
              ${n}
            </div>
          `})},"callback")})),i.isSlaver()&&State.variables.titlelist.getAllTitles(i).length>setup.TITLE_MAX_ASSIGNED&&r.push(I({text:"View / change active titles",tooltip:"Swap the active titles on the unit. While a unit can have an unlimited number of positive titles, it can only have a few active at a time.",callback:o(()=>{State.variables.gUnit_key=i.key,setup.DOM.Nav.goto("UnitChangeTitles")},"callback")})),i.isCanChangeEquipmentSet()&&r.push(I({text:"Change equipment set",tooltip:"Swap the unit's equipment set",callback:o(()=>{State.variables.gUnit_key=i.key,setup.DOM.Nav.goto("UnitEquipmentSet")},"callback")})),r.push(I({text:"Change nickname",tooltip:"Change how you will address the unit",callback:o(()=>{State.variables.gUnit_key=i.key,setup.DOM.Nav.goto("UnitChangeName")},"callback")})),r.push(I({text:"Change portrait",tooltip:"Swap the unit's portrait with another one or a custom one",callback:o(()=>{setup.Dialogs.openUnitImagePicker(i).then(()=>{setup.DOM.Nav.goto()})},"callback")})),i.isRetired())if(!i.isEngaged()&&State.variables.company.player.isCanAddUnitWithJob(setup.job.slaver)){const s=setup.RETIRE_RERECRUIT_COST_MONEY;r.push(I({text:html`Re-hire for ${setup.DOM.Util.money(s)}`,tooltip:"Pay the unit to return to your company as a proper slaver",callback:o(()=>{State.variables.gUnit_key=i.key,setup.DOM.Nav.goto("RehireRetiredConfirm")},"callback")}))}else i.isEngaged()?r.push(P({text:"Unit is busy and cannot be re-hired"})):r.push(P({text:"Your slaver roster is full"}));return State.variables.retiredlist.isCanRetire(i)&&r.push(Oe({text:"Retire unit",tooltip:"Retire the unit. A retired unit will be removed from your company, but will be available in the retirees list. You can re-hire them at a later date should you change your mind, although at a cost.",callback:o(()=>{State.variables.gUnit_key=i.key,setup.DOM.Nav.goto("UnitRetireConfirm")},"callback")})),i.isRetired()?i.isEngaged()?r.push(P({text:"Unit is busy and cannot be removed"})):r.push(Oe({text:"Remove unit permanently",tooltip:"Permanently sever contacts with the unit. They will be gone forever, and you will never see them ever again.",callback:o(()=>{State.variables.gUnit_key=i.key,setup.DOM.Nav.goto("RetiredUnitDismissConfirm")},"callback")})):i.isCanBeDismissed()?r.push(Oe({text:"Dismiss unit",tooltip:"Permanently dismiss unit from your company. They will be gone forever, and you will never see them ever again.",callback:o(()=>{State.variables.gUnit_key=i.key,setup.DOM.Nav.goto("UnitDismissConfirm")},"callback")})):i.isYou()?r.push(P({text:"This is you"})):r.push(P({text:"Unit can't be dismissed right now"})),State.variables.gDebug&&(r.push(Oe({text:"Debug tags",callback:o(()=>{setup.Dialogs.open({title:"Unit tags",content:html`${i.getTags().join(", ")}`})},"callback")})),r.push(Oe({text:"Debug edit",callback:o(()=>{State.variables.gUnit_key=i.key,setup.DOM.Nav.goto("UnitDebugDo")},"callback")}))),t?a.concat(r):(r.length&&a.push(be({children:r})),a)}o(ik,"getRosterListMenuItems"),setup.DOM.Roster.rosterlist=function(i,e){return setup.DOM.Roster.show({menu:e,units:i,actions_callback:o(t=>ik({unit:t}),"actions_callback")})},setup.DOM.Card.skillFocus=function(i){const e=i.getSkillFocuses(State.variables.settings.unsortedskills);return setup.DOM.create("span",{},e.map(t=>t.rep()))},setup.DOM.Card.leave=function(i){if(!State.variables.leave.isOnLeave(i))return null;const e=State.variables.leave.isLeaveDurationUnknown(i);return html`
    ${setup.DOM.PronounYou.They(i)} ${State.variables.leave.getLeaveReason(i)}.
    ${e?"":`(${State.variables.leave.getRemainingLeaveDuration(i)} wk left)`}
  `};function Nx(i){const e=[];e.push(html`
      ${i.repBusyState(!0)}
      ${setup.DOM.Card.job(i.getJob(),!0)}
      <span data-tooltip="Full name: <b>${setup.escapeJsString(i.getFullName())}</b>">
        ${Fy(i)}
      </span>
    `);const t=i.getParty();return t&&e.push(html`
        of ${t.rep()}
      `),setup.DOM.create("div",{},e)}o(Nx,"unitNameFragment");function Hx(i){const e=[];e.push(de({text:Nx(i)})),i.isYou()&&e.push(P({text:"This is you"}));const t="This is the unit's current title, which is determined mostly by their traits or skills. As the unit improves over time, their title may also change. This title is purely cosmetics.";if(i.isRetired())e.push(P({text:html`${i.getLiving().rep()} (ex-${i.getTitle()})`}));else{let a=html``;i.isSlaver()&&(a=html`${setup.DOM.Card.skillFocus(i)} `);let r=null;i.isSlaver()?r=html`
          <span data-tooltip="Wage: <<money ${i.getWage()}>>, Exp: ${i.getExp()} / ${i.getExpForNextLevel()}">
            ${setup.DOM.Util.level(i.getLevel())}
          </span>
        `:i.isSlaveOrInSlaveMarket()||(r=setup.DOM.Util.level(i.getLevel())),e.push(P({text:html`<span data-tooltip="${t}">${a}${r}${i.getTitle()}</span>`}))}return e.push(I({text:html`${setup.DOM.Util.money(i.getSlaveValue())}`,tooltip:"This is the unit's value. Click for more information",is_no_close:!0,callback:o(()=>{setup.Dialogs.open({title:"Unit value",content:setup.DOM.Card.unitvalue(i,!0)})},"callback")})),State.variables.gMenuVisible&&e.push(be({children:ik({unit:i,as_extras_only:!0})})),e}o(Hx,"unitNameActionMenus"),setup.DOM.Card.unit=function(i,e){const t=[];t.push(html`
  <span class='unitimage'>
    ${setup.DOM.Util.onEvent("click",setup.DOM.Util.Image.load({image_name:i.getImage(),fallback:setup.UnitImage.DEFAULT_IMAGE.path}),()=>{setup.Dialogs.openUnitImage(i)})}
  </span>
  `),t.push(setup.DOM.Util.async(()=>{const r=[];r.push(setup.DOM.Util.menuItemToolbar(Hx(i)));{const s=SugarCube.State.variables.titlelist.getAssignedTitles(i),n=s.map(u=>html`${u.rep()}`),l=SugarCube.State.variables.titlelist.getAllTitles(i);l.length>s.length&&n.push(html`
          ${setup.DOM.Util.message(`(+${l.length-s.length})`,()=>html`
                <div class='helpcard'>
                  ${setup.Text.replaceUnitMacros("a|Rep also a|have the following titles, but these titles are inactive",{a:i})}
                  ${setup.DOM.Util.help(html`
                      A unit can only have at most three active titles.
                      Active titles will grant their skill bonuses to the unit,
                      while inactive titles will not. You can change the set of active titles
                      from the Slaver or Slave menu.
                    `)}:
                  ${l.filter(u=>!s.includes(u)).map(u=>u.rep())}
                </div>
              `)}
        `),r.push(setup.DOM.create("div",{},n))}{let s=i.getTraits();State.variables.settings.hideskintraits&&(s=s.filter(u=>!u.getTags().includes("skin")));const n=s.map(u=>html`${u.rep()}`),l=i.getExtraTraits();l.length&&n.push(html`
          + ${l.map(u=>html`${u.rep()}`)}
          ${setup.DOM.Util.help(html`
              These are extra traits that the unit possess.
              While these traits will affect the unit's skills and the critical/disaster
              traits on missions, the units themselves are ${setup.DOM.Text.danger("not")}
              counted as having these traits for satisfying requirements or for story purposes.
            `)}
        `),r.push(setup.DOM.create("div",{},n))}if(!i.isSlaveOrInSlaveMarket()){const s=[];s.push(html`
          ${setup.SkillHelper.explainSkillsWithAdditives(i)}
        `),s.push(setup.DOM.Util.help(html`
            These are the unit's skills. It is displayed as [base_amount] + [amount from modifiers].
            For example, a unit can have 48${setup.DOM.Text.successlite("+10")} ${setup.skill.combat.rep()},
            which means that the unit has 48 base ${setup.skill.combat.rep()}, while their traits,
            equipments, and modifiers add another
            10 ${setup.skill.combat.rep()} on top of it, for a total of 58 ${setup.skill.combat.rep()}.
          `)),r.push(setup.DOM.create("div",{},s))}{const s=i.getMarket(),n=[];if(i.getContact()&&n.push(html`${i.getContact().rep()}`),i.getDuty()&&n.push(html`${i.getDuty().rep()}`),i.getEquipmentSet()&&n.push(html`${i.getEquipmentSet().rep()}`),i.getQuest()){const u=i.getQuest();let h=u.rep();u.getTeam()&&(h=`${h} (${u.getRemainingWeeks()} wk left)`),n.push(h)}if(i.getOpportunity()&&n.push(html`${i.getOpportunity().rep()}`),s&&n.push(s.rep()),State.variables.leave.isOnLeave(i)&&n.push(setup.DOM.Card.leave(i)),i.isSlaver()&&State.variables.fort.player.isHasBuilding("moraleoffice")){const u=State.variables.friendship.getBestFriend(i),h=`<<friendcard ${i.key}>>`;let p;if(u){const c=State.variables.friendship.getFriendship(i,u);p=html`
            ${setup.DOM.Util.name(u)}
            ${i.getLover()==u?setup.Friendship.loversIcon():setup.DOM.Util.friendship(c)}
          `}else p="No friend";n.push(html`
          <span data-tooltip="${h}">
            ${p}
          </span>
        `)}const l=[];for(const u of n)l.length&&l.push(html` | `),l.push(u);r.push(setup.DOM.create("div",{},l))}return setup.DOM.create("span",{},r)},!0));let a=`${i.getJob().key}card ${i.isMale()?"male-card":"female-card"}`;return setup.DOM.create("div",{class:a},t)};function Bx(i,e){return html`
    ${setup.TagHelper.getTagsRep("unitaction",i.getTags())}
    <span data-tooltip="${setup.escapeHtml(`<<unitactioncardkey '${i.key}' '${e.key}' 1>>`)}">
      ${Fy(i)}
    </span>
  `}o(Bx,"unitActionNameFragment");function EA(i,e,t){const a=[],r=[];return a.push(de({text:Bx(i,e)})),t||(i.isCanTrain(e)?a.push(I({text:"Select",callback:o(()=>{i.generateQuest(e),setup.DOM.Nav.goto("QuestHub")},"callback")})):a.push(P({text:"Not eligible"}))),r.length&&a.push(be({children:r})),a}o(EA,"unitActionNameActionMenu");function xA(i,e){return State.variables.g={trainee:e},State.variables.gQuest=i,setup.DOM.Util.include(i.getDescriptionPassage())}o(xA,"unitActionDescriptionFragment"),setup.DOM.Card.unitaction=function(i,e,t){const a=[];a.push(setup.DOM.Util.menuItemToolbar(EA(i,e,t)));const r=i.getPrerequisites();r.length&&a.push(setup.DOM.Card.restriction(r));const s=i.getUnitRequirements();s.length&&a.push(setup.DOM.Card.restriction(s,e)),State.variables.menufilter.get("unitaction","display")=="short"?a.push(setup.DOM.create("div",{},setup.DOM.Util.message("(description)",()=>xA(i,e)))):State.variables.menufilter.get("unitaction","display")||a.push(xA(i,e));const n=e&&!t&&i.isCanTrain(e);let l;return e&&!n?l="unitactionbadcard card":l="unitactioncard card",setup.DOM.create("div",{class:l},a)},setup.DOM.Card.unitactioncompact=function(i,e,t){return setup.DOM.Util.menuItemToolbar(EA(i,e,t))};function cb(i){return i>0?setup.DOM.Text.successlite(`+${i}`):i<0?setup.DOM.Text.dangerlite(i):html`${i}`}o(cb,"format_skill");function rk(i){const e=[];for(let t=0;t<i.length;++t)t&&e.push(html` | `),e.push(i[t]);return setup.DOM.create("div",{},e)}o(rk,"delineate_fragments"),setup.DOM.Card.unitskill=function(i,e){const t=[];t.push(html`
    <div>
      ${i.rep()}'s ${e.rep()}: ${i.getSkill(e)}
    </div>
    <hr/>
  `);const a=e.key,r=i.getSkillsBase()[a];t.push(html`
    <div>
      Base: ${cb(r)}
    </div>
  `);const s=i.getSkillsBaseBreakdown()[a];t.push(rk(s.map(p=>html`${p.title}: ${cb(p.value)}`))),t.push(html`<hr/>`);const n=i.getSkillModifiers()[a];t.push(html`
    <div>
      Mods: ${setup.DOM.Text.percentage(n)}
    </div>
  `);const l=i.getSkillModifiersBreakdown()[a];l.sort((p,c)=>c.value-p.value),t.push(rk(l.map(p=>html`${p.title}: ${setup.DOM.Text.percentage(p.value)}`))),t.push(html`<hr/>`);const u=i.getSkillAdditives()[a];t.push(html`
    <div>
      Add: ${cb(u)}
    </div>
  `);const h=i.getSkillAdditivesBreakdown()[a];return h.sort((p,c)=>c.value-p.value),t.push(rk(h.map(p=>html`${p.title}: ${cb(p.value)}`))),setup.DOM.create("div",{},t)},setup.DOM.Card.unitvalue=function(i,e){const t=[],a=i.getSlaveValue();t.push(html`
    <div>
    ${i.rep()} is valued at ${setup.DOM.Util.money(a)}.
    ${setup.DOM.Util.help(html`
      This is the unit's value. It has little effect on slavers, but for slaves,
      this is roughly how much they are worth when being sold.
    `)}
    </div>
  `);const r=[],s=i.getSlaveValueBreakdown();s.sort((n,l)=>l.value-n.value);for(const n of s)r.push([html`${n.title}`,setup.DOM.Util.money(n.value)]);return t.push(setup.DOM.Util.table(r)),setup.DOM.create("div",{},t)};var sk=Y("<div>"),Gx=Y("<div><span>Custom image path:</span><input type=text>"),qx=Y('<div><div>To see the list of your custom images here, you need to give permission to the browser by click the following button and picking the <span class=successtextlite>dist/img/customunit</span> folder.</div><button>Open "customunit" folder...'),zx=Y('<div><div><input type=text placeholder="Search in custom images..."></div><button>Refresh list'),Fx=Y("<footer>"),jx=Y("<img>"),Kx=Y("<div><div><div>Failed to load custom image:</div><div>"),Vx=Y("<div class=graytext>"),Yx=Y("<figcaption>"),Jx=Y("<button><i></i>Eligible in generation"),Wx=Y("<div class=dialog-imagepicker-container><header style=display:flex><span class=dialog-imagepicker-filters></span><div style=flex-grow:1></div>Source: &nbsp;<span class=dialog-imagepicker-modes></span></header><div class=dialog-imagepicker-leftpane><header></header><div class=thumbnails></div></div><aside class=dialog-imagepicker-preview><figure></figure><footer class=dialog-buttons><div class=dialog-imagepicker-ignorebtn></div><div style=flex-grow:1></div><button>Randomize</button>&nbsp;<button>OK</button><button>Cancel"),DA=Y("<button>"),Qx=Y("<small>No images found"),Zx=Y("<header>"),Xx=Y("<div><div>No custom image selected</div><footer><b>How to use a custom image:</b><p>Put your image in the <span class=successtext>dist/img/customunit</span> folder. Then, enter the filename in the text box on the left. For example, if you have an image located at <span class=successtextlite>dist/img/customunit/girl.png</span> file, then write <span class=successtextlite>girl.png</span>.</p><p>Alternatively, you can also drag and drop the image into this dialog, or also directly to the unit details screen. However, the image must still be located in the <span class=successtextlite>dist/img/customunit</span> folder.");const eD=[{text:"Use image from packs",value:"packs"},{text:"Use custom image",value:"custom"}],IA=[{text:"Enabled",value:!1},{text:"Disabled",value:!0},{text:"All",value:null}],tD=o(i=>{let e;return QT(()=>{const t=i.imageInfo;if(e){for(;e.firstChild;)e.removeChild(e.firstChild);const a=setup.DOM.Util.Image.credits(t);a&&e.appendChild(a)}}),(()=>{var t=sk(),a=e;return typeof a=="function"?u_(a,t):e=t,t})()},"ImageCredits"),aD=o(i=>{const e=State.variables.unitimage.getImagesByTraitSet(i.unit,!0),[t,a]=Se(void 0),[r,s]=Se(i.unit.custom_image_name?"custom":"packs"),[n,l]=Se(i.unit&&State.variables.unitimage.getImagePath(i.unit)||null),[u,h]=Se(i.unit.custom_image_name),[p,c]=Se(!1);QT(()=>(u(),c(!1)));const d=Se({}),g=Se({}),[m,f]=Se(""),[b,v]=Se(!1);let S;const M=o(()=>{const H=r()==="custom"?u():n();if(H&&S){const G=[...S.children].find(J=>J.getAttribute("data-path")===H);G&&G.scrollIntoView()}},"scrollSelectedThumbnailIntoView"),k=Fe(()=>{var H;if(r()==="packs"){const G=n();if(G)return(H=setup.UnitImage.getImageObject(G))==null?void 0:H.info}}),[_,T]=Se(!0),E=o(H=>(_(),State.variables.unitimage.isImageIgnored(H)),"isImageDisabled"),x=o((H,G)=>{State.variables.unitimage.setImageIgnored(H,G),T(!_())},"setImageDisabled"),W=Fe(()=>{const H=new Array(IA.length).fill(0);for(const G of e){H[2]+=G.images.length;for(const J of G.images){const ce=E(J.path);H[ce?1:0]+=1}}return H}),X=o(()=>{if(r()==="custom"){const H=u();return setup.isAbsoluteUrl(H)?H:"img/customunit/"+H}else return n()??void 0},"getSelectedImageUrl");function se(H){if(!H)return;const G=H.replace(/\.[^/]+$/,".png");return`url(${JSON.stringify(setup.escapeHtml(H))}), url(${JSON.stringify(setup.escapeHtml(G))})`}o(se,"getCssImageFallbacks");const ae=Fe(()=>{if(r()=="packs"){const H=b();return e.map(G=>({title:G.traits.map(J=>setup.capitalizeWords(setup.trait[J].name)).join("  "),traits:G.traits,images:G.images.filter(J=>!(H!==null&&E(J.path)!==H))})).filter(G=>G.images.length).sort((G,J)=>G.traits.length!=J.traits.length?J.traits.length-G.traits.length:G.title.localeCompare(J.title))}else{let H=t()??[];const G=m().toLowerCase();return G&&(H=H.filter(J=>!(G&&J.path.toLowerCase().indexOf(G)===-1))),[{title:null,images:H}]}}),V=o(H=>{switch(r()){case"custom":return H.custom&&H.path===u();case"packs":return!H.custom&&H.path===n()}},"isSelected"),re=o(H=>{IR(H).then(G=>{if(!G){a(null);return}const J=[],ce=[];function Re(Ae,ve){return ab(Ae.entries()).then(Ee=>{for(const[ue,ie]of Ee){const ne=(ve?ve+"/":"")+ie.name;ie.kind=="directory"?J.push(Re(ie,ne)):ie.name!=="putyourimageshere"&&ce.push({custom:!0,path:ne,url:setup.isAbsoluteUrl(ne)?ne:"img/customunit/"+ne})}})}o(Re,"processDir"),J.push(Re(G)),Promise.all(J).then(()=>{a(ce.sort((Ae,ve)=>(Ae.path??"").localeCompare(ve.path??"")))})})},"refreshCustomImagesList");return re(!0),(()=>{var H=Wx(),G=H.firstChild,J=G.firstChild,ce=J.nextSibling,Re=ce.nextSibling,Ae=Re.nextSibling,ve=G.nextSibling,Ee=ve.firstChild,ue=Ee.nextSibling,ie=ve.nextSibling,ne=ie.firstChild,ye=ne.nextSibling,Ne=ye.firstChild,C=Ne.nextSibling,R=C.nextSibling,D=R.nextSibling,z=D.nextSibling,ke=z.nextSibling;L(J,B(fe,{get when(){return r()=="packs"},get children(){return["Show: ",B(Vt,{each:IA,children:o((F,U)=>(()=>{var Z=DA();return Z.$$click=()=>v(F.value),L(Z,()=>F.text+" ("+W()[U()]+")"),_e(()=>lt(Z,b()===F.value?"selected":"")),Z})(),"children")})]}})),L(Ae,B(Vt,{each:eD,children:o(F=>(()=>{var U=DA();return U.$$click=()=>s(F.value),L(U,()=>F.text),_e(()=>lt(U,r()===F.value?"selected":"")),U})(),"children")})),L(Ee,B(fe,{get when(){return r()=="custom"},get children(){return[(()=>{var F=Gx(),U=F.firstChild,Z=U.nextSibling;return Z.$$input=le=>{r()!=="custom"&&s("custom"),h(le.target.value)},Z.style.setProperty("width","100%"),Z.style.setProperty("box-sizing","border-box"),_e(()=>Z.value=u()),F})(),B(fe,{get when(){return t()===null},get children(){var F=qx(),U=F.firstChild,Z=U.nextSibling;return F.style.setProperty("margin","1em"),F.style.setProperty("margin-top","3em"),U.style.setProperty("font-size","smaller"),Z.$$click=()=>re(!1),F}})]}}));var ge=S;return typeof ge=="function"?u_(ge,ue):S=ue,L(ue,B(Vt,{get each(){return ae()},get fallback(){return B(fe,{get when(){return r()!=="custom"||!!t()},get children(){var F=Qx();return F.style.setProperty("margin-top","1em"),F}})},children:o(F=>[B(fe,{get when(){return F.title},get children(){var U=Zx();return L(U,()=>F.title),U}}),B(Vt,{get each(){return F.images},children:o(U=>(()=>{var Z=sk();return Z.$$click=()=>{U.custom?h(U.path):l(U.path)},_e(le=>{var He=U.path,Je=!!V(U),Be=!!(!U.custom&&E(U.path)),Ge=se(U.url??U.path);return He!==le.e&&Dy(Z,"data-path",le.e=He),Je!==le.t&&Z.classList.toggle("selected",le.t=Je),Be!==le.a&&Z.classList.toggle("disabled",le.a=Be),Ge!==le.o&&((le.o=Ge)!=null?Z.style.setProperty("background-image",Ge):Z.style.removeProperty("background-image")),le},{e:void 0,t:void 0,a:void 0,o:void 0}),Z})(),"children")})],"children")})),L(ve,B(fe,{get when(){return r()==="custom"},get children(){var F=Fx();return L(F,B(fe,{get when(){return t()},get children(){var U=zx(),Z=U.firstChild,le=Z.firstChild,He=Z.nextSibling;return U.style.setProperty("display","grid"),U.style.setProperty("grid-template-columns","1fr auto"),U.style.setProperty("gap","1em"),le.$$input=Je=>f(Je.target.value),He.$$click=()=>re(!1),_e(()=>le.value=m()),U}})),F}}),null),L(ne,B(fe,{get when(){return n()},get children(){return[(()=>{var F=sk();return L(F,B(fe,{get when(){return r()==="custom"},get children(){return[B(fe,{get when(){return u()},get fallback(){return(()=>{var U=Xx(),Z=U.firstChild,le=Z.nextSibling;return le.style.setProperty("font-size","smaller"),le.style.setProperty("text-align","left"),le.style.setProperty("padding","0 2em"),U})()},get children(){var U=jx();return U.addEventListener("error",Z=>c(!0)),_e(()=>Dy(U,"src",X())),U}}),B(fe,{get when(){return p()},get children(){var U=Kx(),Z=U.firstChild,le=Z.firstChild,He=le.nextSibling;return L(He,X),U}})]}})),_e(U=>{var Z=r()==="custom"&&p()?"error":void 0,le=r()!=="custom"?se(X()):p()?`url(${JSON.stringify(setup.UnitImage.DEFAULT_IMAGE.path)})`:void 0;return Z!==U.e&&lt(F,U.e=Z),le!==U.t&&((U.t=le)!=null?F.style.setProperty("background-image",le):F.style.removeProperty("background-image")),U},{e:void 0,t:void 0}),F})(),(()=>{var F=Yx();return L(F,B(fe,{get when(){return k()!=null},get children(){return B(tD,{get imageInfo(){return k()??{}}})}}),null),L(F,B(fe,{get when(){return State.variables.gDebug},get children(){var U=Vx();return U.style.setProperty("word-break","break-all"),L(U,X),U}}),null),F})()]}})),L(Ne,B(fe,{get when(){return Fe(()=>r()==="packs")()&&n()},get children(){var F=Jx(),U=F.firstChild;return F.$$click=()=>{const Z=n();console.log("PRE",E(Z),Z),x(Z,!E(Z)),console.log("POST",E(Z),Z),setup.DOM.refresh(".dialog-imagepicker-ignorebtn")},_e(()=>lt(U,`sfa ${E(n())?"sfa-check-empty":"sfa-check"}`)),F}})),R.$$click=()=>{const F=r(),U=F==="custom"?t()??[]:e.flatMap(Ge=>Ge.images.filter(gi=>!E(gi.path)));if(!U.length)return;const[Z,le]=F==="custom"?g:d;let He={...Z()},Je=U.filter(Ge=>!He[Ge.path]);Je.length||(He={},Je=U);const Be=setup.rng.choice(Je).path;He[Be]=!0,le(He),F==="custom"?h(Be):l(Be),setTimeout(M,1)},z.$$click=()=>{r()==="custom"&&u()?i.unit.custom_image_name=u():(i.unit.custom_image_name="",State.variables.unitimage.setImage(i.unit,n())),Dialog.close()},ke.$$click=()=>{Dialog.close()},_e(()=>z.disabled=r()==="custom"&&!u()),H})()},"ImagePicker");l_(["input","click"]);function Ti(i,e){const t=document.createElement("span");return t.className=i,t.appendChild(document.createTextNode(String(e))),t}o(Ti,"createSpan");const _i={success(i){return Ti("successtext",i)},successlite(i){return Ti("successtextlite",i)},danger(i){return Ti("dangertext",i)},dangerlite(i){return Ti("dangertextlite",i)},info(i){return Ti("infotext",i)},infolite(i){return Ti("infotextlite",i)},percentage(i){return`${(i*100).toFixed(2)}%`}};setup.DOM.Text=_i;var iD=Y("<span class=message-text><a tabindex=0></a><span>"),rD=Y("<div class=helpcard>"),sD=Y("<input type=text>"),nD=Y("<label><input type=checkbox><span>"),oD=Y("<button>"),lD=Y("<a>");const nk=o(i=>{const[e,t]=Se(!1);return(()=>{var a=iD(),r=a.firstChild,s=r.nextSibling;return r.$$click=()=>t(!e()),L(r,()=>i.label),L(s,B(fe,{get when(){return e()},get children(){return i.children}})),_e(n=>(n=e()?"block":"none")!=null?s.style.setProperty("display",n):s.style.removeProperty("display")),a})()},"Message"),$A=o(i=>B(nk,{label:"(?)",get children(){var e=rD();return L(e,()=>i.children),e}}),"Help"),OA=o(i=>(()=>{var e=sD();return e.$$input=t=>{var a;return(a=i.onChange)==null?void 0:a.call(i,t.currentTarget.value)},_e(()=>e.value=i.value),e})(),"Textbox"),ok=o(i=>(()=>{var e=nD(),t=e.firstChild;return t.addEventListener("change",a=>{var r;return(r=i.onChange)==null?void 0:r.call(i,a.currentTarget.checked)}),_e(a=>{var r=`ToggleSwitch ToggleSwitch-${i.color??"blue"}`,s=i.disabled;return r!==a.e&&lt(e,a.e=r),s!==a.t&&(t.disabled=a.t=s),a},{e:void 0,t:void 0}),_e(()=>t.checked=i.value),e})(),"ToggleSwitch");function CA(i){State.variables.gOldPassage=State.variables.gPassage,State.variables.gPassage=i,Yt(!1,State.variables.gPassage!=State.variables.gOldPassage)}o(CA,"goToPassage");const yf=o(i=>(()=>{var e=oD();return e.$$click=()=>{var t;(t=i.onClick)==null||t.call(i),i.passage&&CA(i.passage)},L(e,()=>i.children),_e(t=>{var a=i.disabled,r=i.active?"selected":void 0;return a!==t.e&&(e.disabled=t.e=a),r!==t.t&&lt(e,t.t=r),t},{e:void 0,t:void 0}),e})(),"Button"),kf=o(i=>(()=>{var e=lD();return e.$$click=t=>{var a;t.preventDefault(),t.stopPropagation(),i.disabled||((a=i.onClick)==null||a.call(i),i.passage&&CA(i.passage))},L(e,()=>i.children),_e(()=>lt(e,i.disabled?"disabled":void 0)),e})(),"Link");l_(["click","input"]),setup.DOM.Helper={},setup.DOM.Helper.append=function(i,e,t){e&&(t?$(setup.DOM.toDOM(e)).hide().appendTo(i).fadeIn(500):$(i).append(setup.DOM.toDOM(e)))},setup.DOM.Helper.loadQuestVars=function(i){State.variables.g=i.getActorObj(),State.variables.gQuest=i,State.variables.gOutcome=i.outcome,"getTeam"in i&&(State.variables.gTeam=i.getTeam())},setup.DOM.Helper.replace=function(i,e){$(i).empty(),e&&$(i).append(setup.DOM.toDOM(e))},setup.DOM.Menu.bedchambercruelslaver=function(i,e,t){let a={},r={};return setup.DOM.pronounload(a,i),setup.DOM.pronounload(r,e),html`
      You watch as ${i.rep()} approached one of ${setup.DOM.PronounYou.their(i)} private slaves ${e.rep()}.
      Poor ${e.name} cringes at ${i.name} predatory expression,
      but the cruel slaver doesn't pounce at once.
      Instead, ${a.he} starts to walk around ${e.name}, whose
      ${setup.Text.Unit.Trait.torso(e)} is nude for bed,
      groping and prodding ${r.him} as ${e.name} shivers with fear.
      Finally ${i.rep()} sidles up behind ${e.rep()} snaking ${a.his} ${setup.Text.Unit.Trait.arms(e)}
      around ${e.rep()}'s
      waist to cup ${r.his}
      ${e.isHasDick()?setup.Text.Unit.Trait.dick(e):"pussy"}
      possessively with one ${setup.Text.Unit.Trait.hand(i)}.
      ${e.name} closes ${r.his} ${setup.Text.Unit.Trait.eyes(e)}.
      <br><br>
      ${i.rep()} chuckles into ${e.rep()}'s ${setup.Text.Unit.Trait.ears(e)}, crooning,
      "${setup.Text.Insult.prerape(i,e)}"
      ${r.He} grinds against the wilting ${i.name}, and then continues,
      "I felt your butt clench just now."
      ${r.He} gives ${e.name}'s
      ${e.isHasBalls()?"balls a gentle squeeze":e.isHasDick()?"dick a gentle tug":"pussylips a gentle massage"}
      "It's going to hurt, you little bitch.
      I'm going to hold you down and shove my
      ${i.isHasDick()?"cockhead":"strap-on"}
      right up against this tight little hole."
      ${r.He} gropes the quivering slave's anus.
      "You're going to do your best to relax like a good little ${r.boy}.
      But it's going to be so big.
      It's going to burn.
      And then you're going to panic, and struggle,
      and I'm going to hold you down and rape your butt while you scream and cry."

      <br><br>
      ${i.rep()} suddenly shove ${e.rep()} towards the ${t}.
      ${r.He} crashes facedown into the ${t}, already sobbing in terror.
      ${a.He} places a ${setup.Text.Unit.Trait.hand(i)} on ${r.his} back to hold ${r.him} down and then use the other to
      apply some lube to ${a.his} ${i.isHasDick()?"penis":"strap-on"}
      pressing it against the quivering slave's anus.
      ${r.He} shakes with anguish, causing 
      ${i.isHasDick()?`${i.name}'s cock to rub deliciously`:"the strap-on to slide amusingly"}
      up and down ${r.his} asscrack.
      ${e.name} desperately takes in a huge breath.
      Here ${i.name} begin to apply inexorable pressure.
      ${e.name} manages one more deep breath, but it becomes a squeal of
      anguish and ${r.he} tries frantically to burrow into the ${t}, away from the penetrating
      ${i.isHasDick()?"cock":"strap-on"}.
      In the end, ${e.name} is a mess, but hurries fearfully to obey ${i.name}'s instructions
      to go clean ${r.himself}.
    `},setup.DOM.Menu.bedchamberdescription=function(i){const e=[],t=i.getSlaver(),a=i.getSlaves(),r=t===State.variables.unit.player;if(e.push(html`
    <p/>
  `),e.push(html`
      ${i.rep()} belongs to ${r?"you.":t.rep()}
  `),a.length===0)e.push(html`
        There are currently
        ${setup.DOM.Text.dangerlite("no slaves")}
        in the room. You can assign some by assigning slaves into
    `),i.getDuties().forEach(b=>{e.push(html`
          <span>
            ${b.rep()}
          </span>
        `)}),e.push(html`
        duties.
    `);else{e.push(html`
        There are
        ${setup.DOM.Text.success(a.length)} slaves in this room, to be used by
        ${r?"you as you see fit.":t.getName()+" as "+setup.DOM.PronounYou.They(t)+" see fit."}
    `);for(let b=0;b<a.length;++b){let v=a[b],S=setup.UnitTitle.getMainTraining(v),M=setup.Text.Unit.Trait.description(v,S),k=State.variables.family.getRelation(v,t);e.push(html`
        ${v.rep()} is currently wearing ${setup.Text.Unit.Equipment.equipmentSummary(v)}, and ${M}.
      `),k&&(e.push(html`
          This slave is ${t.rep()}'s ${k.rep()}.
        `),t.getSpeech()===setup.speech.friendly?e.push(html`
            ${t.rep()} tries ${setup.DOM.PronounYou.their(t)} best to be nice to ${setup.DOM.PronounYou.their(t)} ${k.rep()}.
          `):t.getSpeech()===setup.speech.cool?e.push(html`
            ${t.rep()} uses ${setup.DOM.PronounYou.their(t)} ${k.rep()} like any other slave for ${setup.DOM.PronounYou.their(t)} own enjoyment.
          `):t.getSpeech()===setup.speech.proud?e.push(html`
            ${t.rep()} enjoys teaching ${setup.DOM.PronounYou.their(t)} ${k.rep()} their proper place in the world.
          `):e.push(html`
            ${t.rep()} enjoys the perversity of having ${setup.DOM.PronounYou.their(t)} ${k.rep()} as a personal slave.
          `))}if(a.length===2){let b=State.variables.family.getRelation(a[0],a[1]);b&&e.push(html`
          ${a[0].rep()} is ${a[1].rep()}'s ${b.rep()}.
        `)}}e.push(html`
    <p/>
  `);let s=i.getAssignedSlaves().filter(b=>!b.isAvailable());if(s.length!=0){for(let b=0;b<s.length;++b){let v=s[b];e.push(html`
        ${setup.DOM.Util.YourRep(v)} is assigned to this bedchamber, but is currently
        unavailable for use.
      `)}e.push(html`
      <p/>
    `)}a.length!=0?(e.push(html`
      ${r?"You have":t.rep()+" has"} written some rules that the slaves
      are forced to follow.
    `),i.getOption("walk")==="crawl"?e.push(html`
        The slaves are not allowed to stand on equal footing with
        ${r?"you":"the slaver"} and are forced to crawl on all fours at all times.
        ${a[0].isHasTrait(setup.trait.eq_restrained)?`It's not like they have a choice either, given the restraints that ${a[0].rep()} is wearing.`:""}
      `):i.getOption("walk")==="walk"&&e.push(html`
        The slaves are allowed to move by walking like a normal humanlike.
        ${a[0].isHasTrait(setup.trait.eq_restrained)?`Although given the restraints that ${a[0].rep()} is wearing, walking is a difficult task.`:""}
      `),i.getOption("orgasm")==="no"?e.push(html`
        None of the slaves are ever allowed to orgasm.
        ${a[0].isHasTrait(setup.trait.eq_chastity)?`A somewhat redundant rule given the state of ${a[0].rep()}'s 
          ${setup.Text.Unit.Trait.dick(a[0],!0)}.`:""}
        ${a.length>1&&a[1].isHasTrait(setup.trait.eq_chastity)?`The rule has little effect on ${a[1].rep()}'s ${setup.Text.Unit.Trait.dick(a[1],!0)}.`:""}
      `):i.getOption("orgasm")==="yes"&&e.push(html`
        Occasionally, ${r?"you allow":`${t.rep()} allows`} the slaves to climax.
        ${a[0].isHasTrait(setup.trait.eq_chastity)?`It's a rare occasion however, and most of the time ${a[0].rep()} 
          displays  ${setup.DOM.PronounYou.their(a[0])} ${setup.Text.Unit.Trait.dick(a[0],!0)}.`:""}
        ${a.length>1&&a[1].isHasTrait(setup.trait.eq_chastity)?`Even so, ${a[1].rep()} rarely reaches orgasm --- 
           the reason is obvious when you look at ${setup.DOM.PronounYou.their(a[1])} ${setup.Text.Unit.Trait.dick(a[1],!0)}.`:""}
      `),i.getOption("speech")==="full"?e.push(html`
        The slaves are allowed to communicate like a human being
        ${a[0].isHasTrait(setup.trait.eq_gagged)?`during the rare moments when ${a[0].rep()}'s 
          ${setup.Text.Unit.Trait.cmouth(a[0])} are taken off`:""}
        .
        ${a.length>1&&a[1].isHasTrait(setup.trait.eq_gagged)?`The priviledge is somewhat lost to ${a[1].rep()} whose ${setup.Text.Unit.Trait.mouth(a[1])}
          remains gagged with ${setup.Text.Unit.Trait.cmouth(a[1])} most of the time.`:""}
      `):i.getOption("speech")==="animal"?e.push(html`
        The slaves are only allowed to communicate using animal-like sounds, like barks and moos.
        ${a[0].isHasTrait(setup.trait.eq_gagged)?`Even then, ${a[0].rep()} can only do it during the rare moments when ${a[0].rep()}'s
          ${setup.Text.Unit.Trait.cmouth(a[0])} are taken off.`:""}
        ${a.length>1&&a[1].isHasTrait(setup.trait.eq_gagged)?`The degrading priviledge is somewhat lost to ${a[1].rep()} whose ${setup.Text.Unit.Trait.mouth(a[1])}
          remains gagged with ${setup.Text.Unit.Trait.cmouth(a[1])} most of the time.`:""}
      `):i.getOption("speech")==="none"&&e.push(html`
        The slaves are not allowed to make any sound, and must remain quiet most of the time lest
        they receive harsh punishment.
        ${a[0].isHasTrait(setup.trait.eq_gagged)?`As an extra insurance, ${a[0].rep()}'s ${setup.Text.Unit.Trait.mouth(a[0])}
          is stuffed with ${setup.Text.Unit.Trait.cmouth(a[0])} most of the time.`:""}
        ${a.length>1&&a[1].isHasTrait(setup.trait.eq_gagged)?`${a[1].rep()} also wears ${setup.Text.Unit.Trait.cmouth(a[1])}
          for most of the time to ensure compliance with the rules.`:""}
      `),i.isPrivate()?e.push(html`
        ${r?"You have":`${t.rep()} has`}
        strictly disallowed anyone else to use ${r?"your":` ${setup.DOM.PronounYou.their(t)}`} private slaves.
      `):e.push(html`
        ${r?"You have":`${t.rep()} has`}
        generously allowed ${r?"your":` ${setup.DOM.PronounYou.their(t)}`} private slaves to be used by your other slavers.
      `)):e.push(html`
      There are no slaves around to be forced to follow
      ${r?"your":`${t.rep()}'s`} rules.
    `),e.push(html`
    <p/>
  `);const n=i.getFurniture(setup.furnitureslot.slaverbed),l=i.getFurniture(setup.furnitureslot.slavebed);e.push(html`
    The centerpiece of the room is the ${n.rep()}, where
    ${r?"you can make use of your slaves.":`${t.rep()} can make use of ${setup.DOM.PronounYou.their(t)} slaves.`}
    ${a.length?"":"There are none right now, however."}
    ${n.getBedchamberText()}
    On its feet is the ${l.rep()}, where the slaves sleep.
    ${l.getBedchamberText()}
  `),e.push(html`
    <p/>
  `);const u=i.getFurniture(setup.furnitureslot.foodtray);e.push(html`
    The slaves${a.length?"":", were there to be any,"}
    ${i.getOption("food")==="normal"?"are given standard food to eat on the":""}
    ${i.getOption("food")==="cum"?"can only eat food that has been tainted with cum on the":""}
    ${i.getOption("food")==="milk"?"can only eat food that has been mixed with humanlike cum on the":""}
    ${u.rep()}.
  `),a.length&&i.getOption("food")==="cum"&&e.push(html`
      ${a[0].isHasDick()?`Sometimes, ${a[0].rep()} mixed ${setup.DOM.PronounYou.their(a[0])} own cum into
      ${setup.DOM.PronounYou.their(a[0])} own food.`:""}
      ${a.length>1&&a[1].isHasDick()?`Sometimes, ${a[1].rep()} mixed ${setup.DOM.PronounYou.their(a[1])} own cum into
      ${setup.DOM.PronounYou.their(a[1])} own food.`:""}
    `),e.push(html`
    ${u.getBedchamberText()}
  `),t.isHasDick()&&a.length&&t.Seed("slavecum")%3==0&&e.push(html`
      ${r?"You":`${t.rep()}`}
      sometimes provide fresh desserts to the slaves and allow them to suck the cream directly from
      ${r?"your":`${setup.DOM.PronounYou.their(t)}`}
      "eclair".
    `);const h=i.getFurniture(setup.furnitureslot.drinktray);e.push(html`
    The slaves nourishes their thirst by drinking from the ${h.rep()}.
  `),a.length&&!State.variables.settings.isBanned("watersport")&&t.Seed("piss")%5==0&&e.push(html`
      Sometimes,
      ${r?"you adds a little of your":`${t.rep()} adds a little`}
      piss to spice up their drink.
    `),e.push(html`
    ${h.getBedchamberText()}
  `),e.push(html`
    <p/>
  `);const p=i.getFurniture(setup.furnitureslot.reward);e.push(html`
    ${p.isBasic()?"The room is not equipped with any amusements for the slaves.":`To amuse the slaves when their owners are not in the room,
    the room is equipped with ${p.rep()}.`}
    ${p.getBedchamberText()}
    ${i.getOption("walk")=="crawl"?"The slaves must remain on all fours, of course.":""}
  `);const c=i.getFurniture(setup.furnitureslot.punishment);e.push(html`
    ${a.length?html`When the slaves misbehave,`:html`${r?"You have":`${t.rep()} has`}
    planned what to do when a slave misbehaves. When they misbehave,`}
    they will be punished using
    ${c.isBasic()?`nothing but bare ${setup.Text.Unit.Trait.hands(State.variables.unit.player)}.`:`${c.rep()}.`}
    ${c.getBedchamberText()}
    ${c.getTags().includes("upsidedown")?html`${c.rep()} allows you to hang slaves upside-down from the ceiling,
    ${setup.qres.HasItem(setup.item.sexmanual_upsidedown)?html`which unlocks the ${setup.sexpose.upsidedown.rep()} for sex in the room.`:html`but you
      ${setup.DOM.Text.danger("don't know")} how to use that in sex for now...`}`:""}
  `),e.push(html`
    <p/>
  `);const d=i.getFurniture(setup.furnitureslot.lighting);e.push(html`
    The room is illuminated by the ${d.rep()}.
    ${d.getBedchamberText()}
  `);const g=i.getFurniture(setup.furnitureslot.tile);e.push(html`
    ${g.isBasic()?"Nothing is covering the worn-out floor.":`The floor is covered with ${g.rep()}.`}
    ${g.getBedchamberText()}
  `);const m=i.getFurniture(setup.furnitureslot.object);e.push(html`
    ${m.isBasic()?"There are no decorative furniture placed on the floor.":`On the corner of the room is a decorative ${m.rep()}.`}
    ${m.getBedchamberText()}
  `);const f=i.getFurniture(setup.furnitureslot.wall);if(e.push(html`
    ${f.isBasic()?"Nothing is covering the worn out walls of the room.":`The walls of the room are decorated with ${f.rep()}.`}
    ${f.getBedchamberText()}
  `),e.push(html`
    <p/>
  `),a.length)if(r){for(let v=0;v<a.length;++v){let S=a[v];e.push(html`
          ${v?`Next, you turn your attention to ${S.rep()}.`:""}
          You command  ${S.rep()} to

          ${i.getOption("walk")=="crawl"?`crawl over to you like a dog, since ${setup.DOM.PronounYou.they(S)} is not allowed to walk.`:"approach you."}
        `),S.isHasDick()?e.push(html`
            ${setup.Text.Unit.Equipment.stripDick(S)}.
            ${i.getOption("orgasm")=="yes"?`${Math.random()<.5?`You fondle ${setup.DOM.PronounYou.their(S)} ${setup.Text.Unit.Trait.balls(S)}, eliciting moans from the slave.`:`You fondle ${setup.DOM.PronounYou.their(S)} leaking ${setup.Text.Unit.Trait.dick(S)}, eliciting moans from the slave.`}`:`You fondle ${setup.DOM.PronounYou.their(S)} overly full ${setup.Text.Unit.Trait.balls(S)}, which is practically begging for release.`}
            ${S.isHasTrait(setup.trait.eq_chastity)?`You locked ${setup.DOM.PronounYou.their(S)} ${setup.Text.Unit.Trait.dick(S)} back in the chastity cage.`:""}
          `):e.push(html`
            ${i.getOption("orgasm")=="yes"?`You fondle ${setup.DOM.PronounYou.their(S)} wet pussy and play with ${setup.DOM.PronounYou.their(S)} clit.`:`You fondle ${setup.DOM.PronounYou.their(S)} wet pussy and play with ${setup.DOM.PronounYou.their(S)} clit, which is practically begging for climax after so much time in denial.`}
          `),S.isHasTrait(setup.trait.eq_gagged)?e.push(html`
            ${setup.DOM.PronounYou.They(S)} moaned through ${setup.DOM.PronounYou.their(S)} ${setup.Text.Unit.Trait.cmouth(S)}
            as you continue to manhandle ${setup.DOM.PronounYou.them(S)}.
          `):i.getOption("speech")=="full"?e.push(html`
            ${setup.DOM.PronounYou.They(S)} moaned verbally as you continue to manhandle ${setup.DOM.PronounYou.them(S)}.
          `):i.getOption("speech")=="animal"?e.push(html`
            ${setup.DOM.PronounYou.They(S)} gave ${setup.DOM.PronounYou.their(S)} best impression of a cow moo as
              you continue to manhandle ${setup.DOM.PronounYou.them(S)}.
          `):i.getOption("speech")=="none"&&e.push(html`
            ${setup.DOM.PronounYou.They(S)} tried ${setup.DOM.PronounYou.their(S)} best avoiding making any sound
            as continue to manhandle ${setup.DOM.PronounYou.them(S)}.
          `)}const b=i.getFurniture(setup.furnitureslot.foodtray);e.push(html`
        Finally, it is time to feed your slaves.
        You place their food on the ${b.rep()}
      `),i.getOption("food")=="normal"?e.push(html`
          , a nutritious mixture of ingredients to keep them healthy.
          Your slaves giddily lap up the food.
        `):i.getOption("food")=="cum"?(State.variables.unit.player.isHasDick()?e.push(html`
            . Shoving your ${setup.Text.Unit.Trait.dick(State.variables.unit.player)} into ${a[0].rep()}'s mouth,
            you quickly orgasmed ---
            you spray your cum over the slaves' food to make it edible for your slaves.
          `):a[0].isHasDick()?e.push(html`
            . You proceed to milk ${a[0].rep()}'s ${setup.Text.Unit.Trait.dick(a[0])}
            and spray the cum over the food.
          `):e.push(html`
            . You opened the bottle of cum you brought to the room and emptied it on
            the ${b.rep()}.
          `),e.push(html`
          Your slaves lap up the cum-soaked food as their only option to not starve.
        `)):i.getOption("food")=="milk"&&(a[0].isHasBreasts()?e.push(html`
            . You proceed to milk ${a[0].rep()}'s ${setup.Text.Unit.Trait.breast(a[0])}
            and spill the milk over the food.
          `):e.push(html`
            . You opened the bottle of humanlike milk you brought to the room and emptied it on
            the ${b.rep()}.
          `),e.push(html`
          Your slaves lap up the milk-soaked food as their only option to not starve.
        `))}else{e.push(html`
        ${t.rep()} often play with ${setup.DOM.PronounYou.their(t)} slaves in the room.
      `),i.getOption("walk")=="crawl"&&e.push(html`
          Sometimes, ${t.rep()} plays catch with ${setup.DOM.PronounYou.their(t)} slaves who are
          forced to crawl on all fours and grab the thrown ball.
        `);const b=a[0];if(i.getOption("orgasm")=="yes"){const v=i.getFurniture(setup.furnitureslot.slaverbed);e.push(html`
          ${t.rep()} often came together with ${setup.DOM.PronounYou.their(t)} slaves,
          resting all together on the
          ${v.rep()}.
        `)}else e.push(html`
          ${t.rep()} enjoys tormenting ${setup.DOM.PronounYou.their(t)} slaves' genitals,
          who are forbidden to orgasm.
        `);i.getOption("food")=="normal"?e.push(html`
          ${t.rep()} likes to keep ${setup.DOM.PronounYou.their(t)} slaves healthy by feeding
          them with standard nutritious diet.
        `):i.getOption("food")=="cum"?(e.push(html`
          ${t.rep()} keeps ${setup.DOM.PronounYou.their(t)} slaves in strict cum-added diet,
        `),b.isHasDick()?e.push(html`
            using the slaves' own dick to produce the cum.
          `):t.isHasDick()?e.push(html`
            often adding ${setup.DOM.PronounYou.their(t)} own cum to the slaves' diet.
          `):e.push(html`
            borrowing the cum from elsewhere.
          `)):i.getOption("food")=="milk"&&e.push(html`
          ${t.rep()} keeps ${setup.DOM.PronounYou.their(t)} slaves in strict milk-added diet,
          ${b.isHasBreasts()?"using the slaves' own udders to produce the milk.":"obtaining the humanlike milk from elsewhere."}
        `)}else r?e.push(html`
        You cannot wait until you get some slaves to play with here.
      `):e.push(html`
        ${t.rep()} is eagerly waiting for ${setup.DOM.PronounYou.their(t)} own personal slaves to play with.
      `);return e.push(html`
    <p/>
  `),!r&&t.isHasTrait("per_cruel")&&a.length&&e.push(html`
      <div>
        ${setup.DOM.Util.message(`(Watch ${t.getName()} cruelly uses a slave)`,()=>{const b=setup.rng.choice(a),v=i.getFurniture(setup.furnitureslot.slaverbed).rep();return setup.DOM.Menu.bedchambercruelslaver(t,b,v)})}
      </div>
    `),setup.DOM.create("div",{},e)},setup.DOM.Menu.bedchamberedit=function(i){const e=[];e.push(setup.DOM.Card.bedchamber(i,!1,!0));const t=State.variables.inventory.getItems().map(a=>a.item).filter(a=>a instanceof setup.Furniture);return e.push(setup.DOM.Util.filterAll({menu:"furnitureattach",filter_objects:t,display_callback:o(a=>{const r=[],s=i.getFurniture(a.getSlot()),n=[];return s==a?n.push(html` Already in room: `):n.push(html`
            ${setup.DOM.Nav.button("Attach",()=>{i.setFurniture(a.getSlot(),a),setup.DOM.Nav.goto()})}
        `),n.push(html`${a.repFull()}`),s!=a&&!s.isBasic()&&n.push(html`
          (replacing ${s.repFull()})
        `),r.push(setup.DOM.create("div",{},n)),setup.DOM.create("div",{},r)},"display_callback")})),setup.DOM.create("div",{},e)},setup.DOM.Menu.changeactivetitles=function(i){const e=[];e.push(html`
    <div>
      Change ${i.rep()}'s active titles.
      ${setup.DOM.Util.help(html`
        <p>
          While a unit can have multiple titles, they can only have at most four active at any time:
          two titles that you can freely choose, plus their last obtained positive and negative title.
          Amongst the positive titles, only these active titles will confer their benefits
          (i.e., skill boosts).
          All negative titles will confer their penalties, however, regardless of whether they are
          active or not, but their penalties don't stack (i.e., only the highest value of each
          skill counts).
        </p>
        <p>
          Note that for the purpose of the story,
          the unit is still considered to have all the other titles, including inactive ones.
          They just won't confer their skill bonuses.
        </p>
      `)}
    </div>
  `),e.push(setup.DOM.Card.unit(i,!0));const t=State.variables.titlelist.getLastTitlePositive(i),a=State.variables.titlelist.getLastTitleNegative(i);return(t||a)&&e.push(html`
      <div>
        Last obtained title${t&&a?"s":""}:
        ${setup.DOM.Util.help(html`
          The last obtained positive and negative titles are always included as one of the unit's active titles, regardless of whether
          they are chosen below or not.
        `)}
        ${t?t.rep():""}
        ${a?a.rep():""}
      </div>
    `),State.variables.titlelist.getAssignedTitles(i,!0).forEach(s=>{e.push(html`
      <div>
        ${s.rep()}
        ${setup.DOM.Nav.link("(Change active title)",()=>{setup.DevToolHelper.pickTitle(State.variables.titlelist.getAssignableTitles(i)).then(n=>{n&&(State.variables.titlelist.unassignTitle(i,s),State.variables.titlelist.assignTitle(i,n),setup.DOM.Nav.goto())})})}
      </div>
    `)}),e.push(html`<div>${setup.DOM.Nav.return("(finish)")}</div>`),setup.DOM.Nav.topLeftNavigation(setup.DOM.Nav.return("Finish")),setup.DOM.create("div",{},e)},setup.DOM.Menu.changeskillfocus=function(i){const e=[];e.push(html`
    <div>
      Change ${i.rep()}'s skill focuses.
      ${setup.DOM.Util.help(html`
        <p>
        Skill focus is the priority skill that the unit will try to focus on.
        These skills will always increase whenever the unit gains a level.
        Set the skill focus according to which skills the unit is talented at!
        More details below.
        </p>
        <div>
        If a skill is one of the skill focuses, then it is guaranteed to gain at least one point per
        level up.
        However, they can sometimes gain more than one point:
        Each skill focus grants a ${(setup.SKILL_FOCUS_MULTI_INCREASE_CHANCE*100).toFixed(0)}% chance
        the skill will get another extra point at level up.
        You can select the same skills multiple times as a skill focus, which will increase the chance further.
        For example,
        ${setup.skill.brawn.rep()}${setup.skill.brawn.rep()}${setup.skill.arcane.rep()}
        means the unit will always gain
        ${setup.skill.brawn.rep()}${setup.skill.arcane.rep()}
        on level up.
        It has roughly
        ${setup.DOM.Util.help(html`
          Each skill focus chance is calculated independently. So
          ${setup.skill.brawn.rep()}${setup.skill.brawn.rep()}${setup.skill.arcane.rep()}
          means that there are two chances, each with
          ${(setup.SKILL_FOCUS_MULTI_INCREASE_CHANCE*100).toFixed(0)}% probability,
          that the unit will get an extra
          ${setup.skill.brawn.rep()}
          point.
          This means there is a small chance the unit will get
          ${setup.skill.brawn.rep()}${setup.skill.brawn.rep()}${setup.skill.brawn.rep()}
          during one level up.
        `)}
        ${(2*setup.SKILL_FOCUS_MULTI_INCREASE_CHANCE*100).toFixed(0)}%
        chance to get
        an extra ${setup.skill.brawn.rep()} point, and
        ${(setup.SKILL_FOCUS_MULTI_INCREASE_CHANCE*100).toFixed(0)}% chance to get
        an extra ${setup.skill.arcane.rep()} point.
        The order of the skill focuses does not matter.
        </div>
        <p>
        A unit always gain six skill points on level up -- the remaining points
        after those taken by the skill focuses are allocated to the remaining skills,
        skewed towards the skills they are particularly good at.
        </p>
        </div>
      `)}
    </div>
  `),e.push(setup.DOM.Card.unit(i,!0));const t=i.getSkillFocuses(!0);let a=[];for(let r=0;r<t.length;++r)a.push(r);return a.forEach(r=>{const s=t[r],n=[];n.push(html`
      <div>
      Change focus #${r+1} from
      ${setup.SkillHelper.explainSkillWithAdditive(i,s)}
      to:
      </div>
    `);const l=[];setup.skill.forEach(u=>{const h=html`${setup.SkillHelper.explainSkillWithAdditive(i,u)}`;u==s?l.push(P({text:h})):l.push(I({text:h,callback:o(()=>{i.setSkillFocus(r,u),setup.DOM.Nav.goto()},"callback")}))}),n.push(setup.DOM.Util.menuItemToolbar(l)),n.push(html`<hr/>`),e.push(setup.DOM.create("div",{},n))}),e.push(html`
    <div>
      ${setup.DOM.Nav.button("Confirm",()=>{setup.DOM.Nav.gotoreturn()})}
    </div>
  `),setup.DOM.Nav.topLeftNavigation(setup.DOM.Nav.return("Confirm")),setup.DOM.create("div",{},e)};function db(i){return i==-1e3?"archrival":i<=-900?"big rival":i<=-500?"rival":i<=-300?"competitor":i<=-150?"minor rival":i<150?"acquaintance":i<300?"distant friend":i<500?"friend":i<900?"companion":i<1e3?"confidant":"best friend"}o(db,"getFriendTitle");function PA(i){return i==-1e3?"is terrified by":i<=-900?"is frightened by":i<=-500?"respects":i<=-300?"is scared by":i<=-150?"slightly respects":i<150?"is indifferent to":i<300?"slightly trusts":i<500?"is loyal to":i<900?"is devoted to":i<1e3?"is bonded to":"is fully bonded to"}o(PA,"getFriendSlaveTitle");function lk(i,e){if(i.getLover()==e)return"lover";let t=State.variables.friendship.getFriendship(i,e);return db(t)}o(lk,"getFriend");const LA=o((i,e)=>{if(i.getLover()==e)return"lover";let t=State.variables.family.getRelation(e,i);if(t)return t.rep();{if(i.isSlave()||e.isSlave())return"";let a=State.variables.friendship.getFriendship(i,e);return a>-200&&a<200?"":lk(i,e)}},"getRel"),uD=o((i,e)=>{let t=LA(i,e);return t?`<<their "${i.key}">> ${t}`:""},"getTheirRel"),hD=o((i,e)=>{let t=LA(i,e);return t?`${i.rep()} ${t}`:""},"getNameRel");function uk(i,e,...t){i.appendChild(document.createTextNode(e(...t)))}o(uk,"internalOutput$2");const UA=o((i,e,...t)=>{let a=$(document.createElement("span"));a.wiki(e(...t)),a.appendTo(i)},"wikiOutput");Macro.add("tfriendtitle",{handler(){uk(this.output,db,...this.args)}}),Macro.add("tfriendslave",{handler(){uk(this.output,PA,...this.args)}}),Macro.add("ufriend",{handler(){uk(this.output,lk,...this.args)}}),Macro.add("utheirrel",{handler(){UA(this.output,uD,...this.args)}}),Macro.add("unamerel",{handler(){UA(this.output,hD,...this.args)}});const NA=["divdebugfriendshipcontainerslaver","divdebugfirendshipcontainerslave"];function gb(){for(const i of NA)setup.DOM.refresh(`#${i}`)}o(gb,"refreshAll");function pD(i,e,t){return()=>{State.variables.friendship.adjustFriendship(i,e,t),gb()}}o(pD,"friendshipAdjustCallback");function cD(i,e){return()=>{const t=[];for(const a of State.variables.company.player.getUnits({job:e}).filter(r=>r.key!=i.key)){const r=State.variables.friendship.getFriendship(i,a),s=[];s.push(html`
        ${setup.DOM.Util.friendship(r)}
        ${lk(i,a)}
        ${a.rep()}
      `);const n=[["(+1) ",10],["(+20) ",200],["(Max) ",2e3],["(-1) ",-10],["(-20) ",-200],["(Min) ",-2e3]];for(const[l,u]of n)s.push(setup.DOM.Nav.link(html`${l}`,pD(i,a,u)));s.push(setup.DOM.Nav.link(html`(Delete) `,()=>{State.variables.friendship.deleteFriendship(i,a),gb()})),i.getLover()!=a?s.push(setup.DOM.Nav.link(html`(Lovers) `,()=>{setup.qc.Hookup("a","b").apply(setup.costUnitHelperDict({a:i,b:a})),gb()})):s.push(setup.DOM.Nav.link(html`(Breakup) `,()=>{setup.qc.Breakup("a","b").apply(setup.costUnitHelperDict({a:i,b:a})),gb()})),t.push(setup.DOM.create("div",{},s))}return setup.DOM.create("div",{},t)}}o(cD,"makeJobDivCallback"),setup.DOM.Menu.debugfriendship=function(i){const e=[setup.job.slaver,setup.job.slave],t=[];for(let a=0;a<e.length;++a){const r=e[a],s=NA[a];t.push(setup.DOM.Util.message(`(Friendship with a ${r.getName()}) `,setup.DOM.createRefreshable("div",{id:s},cD(i,r))))}return setup.DOM.create("div",{},t)},setup.DOM.Menu.dismissConfirm=function(i){const e=[];return e.push(html`
    <div>
      Are you sure you want to
      ${setup.DOM.Text.danger("DISMISS")}
      ${i.rep()}?
      ${setup.Text.replaceUnitMacros("a|They will be gone forever from your company and you will never see a|them ever again.",{a:i})}
    </div>
  `),e.push(html`
    <div>
      ${setup.DOM.Nav.button(`Yes, I want to DISMISS ${i.rep()}`,()=>{let t;i.isSlaver()?t="Lodgings":t="Dungeons",State.variables.company.player.removeUnit(i),setup.DOM.Nav.goto(t)})}
    </div>
  `),e.push(html`
    <div>
      ${setup.DOM.Nav.link("(cancel)",()=>{setup.DOM.Nav.gotoreturn()})}
    </div>
  `),setup.DOM.create("div",{},e)},setup.DOM.Menu.retireConfirm=function(i){const e=[];return e.push(html`
    <div>
      Are you sure you want to
      ${setup.DOM.Text.dangerlite("retire")}
      ${i.rep()}?
      ${setup.Text.replaceUnitMacros(`a|They will no longer be one of your slavers, but you will try to maintain contact with a|them
     with the help of your ${setup.buildingtemplate.inn.rep()}.`,{a:i})}
    </div>
  `),e.push(html`
    <div>
      ${setup.DOM.Nav.button(`Yes, I want to retire ${i.rep()}`,()=>{setup.qc.Retire("unit").apply(setup.costUnitHelper(i)),State.variables.gUnit_key=i.key,setup.DOM.Nav.goto("UnitRetireAftermath")})}
    </div>
  `),e.push(html`
    <div>
      ${setup.DOM.Nav.link("(cancel)",()=>{setup.DOM.Nav.gotoreturn()})}
    </div>
  `),setup.DOM.create("div",{},e)},setup.DOM.Menu.retireAftermath=function(i){const e=[];function t(a){return setup.Text.replaceUnitMacros(a,{a:i})}o(t,"parse");{const a=i.getWeeksWithCompany(),r=[];r.push(t(["You call a|rep over to your office, and a|they arrives a|adv. ","You summon a|rep into your office, and a|they enters a|adv. ","Per your summons, a|rep enters a|adv into your office, not knowing what this is all about. "])),r.push(t([`You thank a|them for all a|their services for having work with you for all the ${a} weeks so far, before finally letting a|them know that you have decided to retire a|them. `,`After thanking a|them for a|their services in the past ${a} weeks, you cut straight to the point and tell a|them that it is time for a|them to retire from being a slaver. `,`You cut straight to the point, thanking a|them for a|their services in the ${a} weeks together with you, asking a|them to retire from being a slaver. `]));const s=State.variables.friendship.getFriendship(State.variables.unit.player,i);s>=300?r.push(t(["You do so with a heavy heart, as you still consider a|them your friend, but it has to be done. ","You try to deliver the news as straightforwardly as possible, as a|they a|is your friend.","a|They considers you a friend, and knows that you are not joking around this time."])):s<=-300?r.push(t(["You and a|rep might have been rivals throughout, which might have affected your judgment somewhat. ","You already know that you will be missing your rival in the coming days, but it has to be done. ","Despite being rivals, a|they still consider you an ally, and a|they does not expect this kind of request from you. "])):r.push(t(["Frankly speaking, your relationship with a|them isn't anything special, so you deliver the news with the most professional tone you can muster. ","Despite not knowing much about the a|race, you still consider a|them a valuable ally, and you deliver the news with heavy heard. ","You might not be a|their friend, but a|they a|was your colleague throughout these years, and you can feel a tinge of sadness as you realize what is going to happen. "])),r.push([t(["Still, you console yourself and also a|them by making sure that both of you will see each other again in the future, and to keep contacts with each other. ","Still, you invite a|them to come and visit your fort anytime a|they happens to be around in the future, which the a|race a|adv agrees to. ","However, you are planning to keep in touch with a|them, so the goodbye isn't for forever, and perhaps you'll see each other again in the future. "])]),r.push(t(["a|They takes the news a|adv, but understands your decision. ","a|They a|adv takes in the news, and understanding appears on a|their face. ","a|They takes in the news a|adv, and although it took you some time, they finally see the benefits of having the luxury to retire early. "]));const n=i.getAllTraitsWithTag("bg"),l=n.filter(h=>h.getTags().includes("rich")),u=n.filter(h=>!h.getTags().includes("poor"));l.length?r.push(t([`Still, a|they have another home other than your fort, and a|they looks quite eager to return to a|their old luxurious life of being a ${l[0].rep()}.`,`Still, a|rep is a ${l[0].rep()}, and this just means a|they could simply return to the luxury where a|they came from.`,"Still, a|rep came from a rather well-off past, and this just means a|they could return to the opulence of a|their past."])):u.length?r.push(t([`Despite not coming from a particularly rich background, having been a ${u[0].rep()}, a|they has amassed quite a bit of personal wealth working with you, and a|they could use it to build a different future for a|them. `,`a|They have accumulated quite a bit of gold from both the wages a|they took from you, as well as a bit of coins a|they found during the missions here and there, much more than what a|they used to make as a ${u[0].rep()}. It should prove sufficient for whatever a|they a|is planning to do in the future. `,`a|They may not have come from a particularly rich background, but having worked with you for some time, by now a|they a|have accumulated quite a bit of money to jumpstart another career, or perhaps simply resuming being a ${u[0].rep()}. `])):r.push(t(["Despite coming from a poor background, a|they has amassed quite a bit of personal wealth working with you, and a|they could use it to build a different future for a|them. ","a|They a|have turned around from being a poor a|race into having accumulated quite a bit of gold from both the wages a|they took from you, as well as a bit of coins a|they found during the missions here and there. It should prove sufficient for whatever a|they a|is planning to do in the future. ","a|They might come from a poor background, but having worked with you for some time, by now a|they a|have accumulated quite a bit of money to jumpstart another career. "])),r.push(t(["You both say your goodbyes and soon enough, a|rep walks out of your fort, throwing you a last glance before being gone from your sigh. ","After packing all a|their personal belongings and saying a|their goodbyes to the other slavers, a|they give you a last nod before walking away from your fort. ","a|Rep collects and packs all a|their considerable money and belongings, before packing them on a hired cart and ride off to some unknown future. "])),e.push(html`
      <p>
        ${r.join(" ")}
      </p>
    `)}{const a=[];a.push(t(["Some time later, you receive the news about a|reps new whereabouts. ","After a while, you receive an update from your ex-slaver. ","A few days later, you learn about a|reps new living. "])),e.push(html`
      <p>
        ${a.join(" ")}
      </p>
    `)}return e.push(html`
      <p>
        ${setup.DOM.Card.livingdescription(i)}
      </p>
    `),setup.DOM.Nav.topLeftNavigation(setup.DOM.Nav.move("Continue","Lodgings")),e.push(html`
    <div>
      ${setup.DOM.Nav.move("Continue","Lodgings")}
    </div>
  `),setup.DOM.create("div",{},e)},setup.DOM.Menu.retiredDismissConfirm=function(i){const e=[];return e.push(html`
    <div>
      Are you sure you want to
      ${setup.DOM.Text.danger("REMOVE")}
      ${i.rep()} permanently?
      ${setup.Text.replaceUnitMacros("a|They will be gone forever and you will never see a|them ever again.",{a:i})}
    </div>
  `),e.push(html`
    <div>
      ${setup.DOM.Nav.button(`Yes, I want to REMOVE ${i.rep()} permanently`,()=>{State.variables.retiredlist.unretire(i),setup.notify("a|Rep a|have been removed from the game",{a:i}),setup.DOM.Nav.gotoreturn()})}
    </div>
  `),e.push(html`
    <div>
      ${setup.DOM.Nav.link("(cancel)",()=>{setup.DOM.Nav.gotoreturn()})}
    </div>
  `),setup.DOM.create("div",{},e)},setup.DOM.Menu.rehireRetiredConfirm=function(i){const e=setup.RETIRE_RERECRUIT_COST_MONEY,t=setup.RETIRE_RERECRUIT_AFK_WEEKS,a=[];return a.push(html`
    <div>
      Are you sure you want to
      ${setup.DOM.Text.successlite("re-hire")}
      ${i.rep()} for ${setup.DOM.Util.money(e)}?
      ${setup.Text.replaceUnitMacros(`a|They will need ${t} weeks to wrap up things on a|their end first before a|they will become available again.`,{a:i})}
    </div>
  `),a.push(html`
    <div>
      ${setup.DOM.Nav.button(`Yes, I want to re-hire ${i.rep()}`,()=>{State.variables.company.player.substractMoney(e),State.variables.notification.disable(),State.variables.retiredlist.unretire(i),State.variables.company.player.addUnit(i,setup.job.slaver),State.variables.leave.leave(i,"a|is wrapping up ends in order to rejoin your company as a slaver proper",t),State.variables.notification.enable(),setup.notify(`a|Rep a|have rejoined your company! a|They will need ${t} weeks in order to wrap up things on a|their end first, however`,{a:i}),setup.DOM.Nav.gotoreturn()})}
    </div>
  `),a.push(html`
    <div>
      ${setup.DOM.Nav.link("(cancel)",()=>{setup.DOM.Nav.gotoreturn()})}
    </div>
  `),setup.DOM.create("div",{},a)};function dD(){const i=State.variables.eventpool.getScheduledEvents({is_visible_in_calendar:!State.variables.gDebug}),e=State.variables.calendar.getWeek(),t=[];for(const a of i){const r=[],s=a.occur_week-e;for(const n of a.events)r.push(html`${s} weeks: ${n.event.getName()}`),n.is_visible_in_calendar||r.push(html` ${setup.DOM.Text.dangerlite("[Hidden]")}`);t.push(setup.DOM.create("div",{},r))}return setup.DOM.create("div",{},t)}o(dD,"showAllNextEvents");function gD(){const i=State.variables.eventpool.getNextVisibleEvents(),e=[];if(i)e.push(html`In ${i.occur_week-State.variables.calendar.getWeek()} wk${i.events.length>1?"s":""}: `),i.events.length==1?e.push(i.events[0].event.getName()):e.push(`${i.events.length} events`);else if(State.variables.gDebug)e.push("[DEBUG] No known events");else return null;return setup.DOM.Nav.link(setup.DOM.create("div",{},e),()=>{setup.Dialogs.open({title:"Upcoming events",content:dD()})})}o(gD,"getNextEventsMenu");function mD(){var t;const i=[];let e=null;if(State.variables.gDebug&&(e=html` ${setup.DOM.Text.dangerlite("[DEBUG]")}`),i.push(html`
        <div>Fort of Chains ${setup.VERSION}${e}</div>
        `),State.variables.calendar&&((t=State.variables.unit)!=null&&t.player)){i.push(html`
      ${State.variables.company.player.getName()} / Week ${State.variables.calendar.getWeek()}
          `),(State.variables.gDebug||State.variables.fort.player.isHasBuilding("noticeboards"))&&i.push(gD());const a=[];a.push(html`${setup.DOM.Util.money(State.variables.company.player.getMoney())}`),State.variables.fort.player.isHasBuilding("recreationwing")&&(a.push(html` / `),a.push(html`${setup.DOM.Util.prestige(State.variables.company.player.getPrestige())}`)),i.push(setup.DOM.create("div",{},a))}return setup.DOM.create("div",{},i)}o(mD,"getInfoMenu");function HA(){setup.deleteEndOfWeekCaches(),setup.runSugarCubeCommand("<<focsavestategoto 'WeekEnd'>>")}o(HA,"endWeek");function fD(){if(!State.variables.calendar)return null;const i=[];if(State.variables.gMenuVisible)if(State.variables.opportunitylist.isHaveMustAnswerOpportunities())i.push(setup.DOM.create("span",{class:"press_on_space"},setup.DOM.Nav.move(html`ANSWER MAIL`,"OpportunityList"))),i.push(setup.DOM.Util.help(html`
          You have some ${setup.DOM.Text.danger("important")} mail that 
          must be answered before you can end the week.
        `));else{const e=State.variables.company.player.getDeployableTeams();if(!e)i.push(setup.DOM.create("span",{class:"press_on_space"},setup.DOM.Nav.link(html`END WEEK`,HA)));else{const t="end_week_link_confirm_id",a=setup.DOM.create("span",{id:t,class:"press_on_space"},setup.DOM.Nav.link(html`END WEEK`,()=>{setup.DOM.Helper.replace(`#${t}`,setup.DOM.Nav.link(html`REALLY END WEEK`,HA))}));i.push(a),i.push(html` `),i.push(setup.DOM.Text.danger(`[${e}]`)),i.push(setup.DOM.create("small",{},setup.DOM.Util.help(html`You can still send ${e} more teams on quests.`)))}}else i.push(setup.DOM.create("div",{id:"topleftnavigation"}));return setup.DOM.create("div",{id:"topleftnavdiv"},i)}o(fD,"getTopLeftNavigationMenu"),setup.DOM.Menu.endweekmenu=function(){const i=[];return i.push(mD()),i.push(fD()),setup.DOM.create("div",{},i)},setup.DOM.Menu.equipmentsetedit=function(i){const e=[];e.push(setup.DOM.Card.equipmentset(i,!1,!0));const t=State.variables.armory.getEquipments();return e.push(setup.DOM.Util.filterAll({menu:"equipmentattach",filter_objects:t.map(a=>a[0]),display_callback:o(a=>{const r=[],s=i.getEquipmentAtSlot(a.getSlot()),n=i.isCanAttach(a),l=[];return s==a?l.push(html` Already equipped: `):n?l.push(html`
            ${setup.DOM.Nav.button("Attach",()=>{State.variables.armory.replaceEquipment(a,i),setup.DOM.Nav.goto()})}
        `):l.push(html` Unit ${setup.DOM.Text.dangerlite("cannot")} wear: `),l.push(html`${a.getSlot().rep()}${a.repFull()}`),s!=a&&n&&s&&l.push(html`
          (replacing ${s.repFull()})
        `),r.push(setup.DOM.create("div",{},l)),setup.DOM.create("div",{},r)},"display_callback")})),setup.DOM.create("div",{},e)};function hk(i,e){e.getEquipmentSet()&&e.getEquipmentSet().unequip(),i.getUnit()&&i.unequip(),i.equip(e)}o(hk,"setEquipmentSetOnUnit"),setup.DOM.Menu.equipmentsetpickequip=function(i){const e=[];let t="";i.getEquipmentSet()&&(t=`, replacing ${i.getEquipmentSet().rep()}`),e.push(html`
    <div>
      Select equipment set to equip on ${i.rep()}${t}:
      ${setup.DOM.Nav.return("(cancel)")}
    </div>
  `),State.variables.armory.isCanAddNewEquipmentSet()&&e.push(html`
      <div>
        ${setup.DOM.Nav.link("(create a new equipment set and equip it)",()=>{const s=State.variables.armory.newEquipmentSet();hk(s,i),setup.DOM.Nav.gotoreturn()})}
      </div>
    `);let a=State.variables.armory.getEquipmentSets();const r=State.variables.menufilter.get("equipmentsetpickequip","eligibility");return r=="all"||(r=="not"?a=a.filter(s=>!i.isCanWear(s)):a=a.filter(s=>i.isCanWear(s))),e.push(setup.DOM.Util.filterAll({menu:"equipmentsetpickequip",filter_objects:a,display_callback:o(s=>{const n=[],l=[];return l.push(de({text:s.rep()})),s==i.getEquipmentSet()?l.push(P({text:"Already wearing this"})):i.isCanWear(s)?l.push(I({text:s.getUnit()?"Replace":"Equip",callback:o(()=>{hk(s,i),setup.DOM.Nav.gotoreturn()},"callback")})):l.push(P({text:"Not eligible"})),s.getUnit()&&l.push(P({text:s.getUnit().rep()})),n.push(setup.DOM.Util.menuItemToolbar(l)),State.variables.menufilter.get("equipmentsetpickequip","display")=="compact"||n.push(setup.DOM.Card.equipmentset(s,!0)),setup.DOM.create("div",{},n)},"display_callback")})),setup.DOM.create("div",{},e)},setup.DOM.Menu.interactionpool=function(i,e){if(e.isDefiant()){const r=setup.Text.replaceUnitMacros("a|rep is",{a:e}),s=setup.Text.replaceUnitMacros("You cannot interact with a|them until a|their defiancy is removed.",{a:e}),n=setup.DOM.Util.help(()=>html`
          A unit with either ${setup.trait.will_defiant.rep()} or ${setup.trait.will_indomitable.rep()}
          is considered ${setup.DOM.Text.dangerlite("defiant")} and cannot be interacted with
          until these traits are removed.
          <br/>
          <br/>
          Defiancy can represent that the unit is far too dangerous and headstrong to be interacted with,
          or some other reasons that would prevent the unit from being usable for anything.
        `);return html`${r} ${setup.DOM.Text.dangerlite("defiant")} ${n}. ${s}`}State.passage;const t=[],a=[];for(const r of i.getInteractions())r.canInteractWith(e)&&(r.getCosts().length||r.getRewards().length?t.push(r):a.push(r));if(t.length||a.length){const r=[];r.push(html`${setup.Text.replaceUnitMacros("You can interact with a|them:",{a:e})}`);let s=!1;for(const n of[t,a]){s&&r.push(html`<br/>`),n.length&&(s=!0);for(const l of n){const u=l.getCosts(),h=`(${l.getName()})`;r.push(html`
          ${setup.DOM.Nav.link(h,()=>{State.variables.gInteractionReturnPassage=State.variables.gPassage,State.variables.gInteractionInstance=l.makeInstance(e),setup.DOM.Nav.goto("InteractionPerform")})}
          ${!!u.length&&setup.DOM.Card.cost(u)}
        `)}}return setup.DOM.create("span",{},r)}else return html`No available interaction.`},setup.DOM.Menu.interactivesex=function(i,e){const t=setup.SexInstance.initParticipants(i),a=new setup.SexInstance(e||setup.sexlocation.dungeonsfloor,t);if(!e){const r=setup.rng.choice(setup.SexLocation.getAllAllowedLocations(a));a.setLocation(r)}return i.includes(State.variables.unit.player)?vD(a,!!e):GA(a)};function mb(){return html`
    ${setup.DOM.Nav.link("(Finish sex)",()=>{setup.SexInstance.cleanup(),delete State.variables.gInteractiveSexUnitIds,setup.DOM.Nav.gotoreturn()})}
  `}o(mb,"interactiveSexDoneButton");function BA(i,e){const t=[];for(const a of e){const r=i.getUnitAtPosition(a);r&&t.push(html`
         <div>${i.repUnit(r)} (${i.getPace(r).rep()})</div>
         <div>
          ${setup.SexUtil.repArousal(i.getArousal(r))}
          ${setup.SexUtil.repDiscomfort(i.getDiscomfort(r))}
          ${setup.SexUtil.repEnergy(i.getEnergy(r))}
        </div>
      `)}return setup.DOM.create("div",{},t)}o(BA,"participantsDisplayInternal");function bD(i){return BA(i,setup.SexPosition.getAllPositions())}o(bD,"participantsDisplay");function yD(i){const e=[];for(const t of[setup.sexposition.front,setup.sexposition.center,setup.sexposition.back]){const a=i.getUnitAtPosition(t);let r=null,s=[t];if(a&&(a.isYou()?r=i.getPose(a).repBigPlayer(t,i):r=i.getPose(a).repBig(t,i)),t==setup.sexposition.center){const n=setup.sexposition.top,l=i.getUnitAtPosition(n);l&&(l.isYou()?r=i.getPose(l).repBigPlayer(t,i):r=i.getPose(l).repBig(t,i),s=[n].concat(s))}if(r){const n=`<<set _dom = setup.DOM.interactiveSexTooltip(${s.map(l=>`"${l.key}"`).join(", ")})>><<attach _dom>>`;e.push(html`
        <span data-tooltip='${n}'>
          ${r}
        </span>
      `)}else e.push(html`${setup.SexPose.repBigNone()}`)}return setup.DOM.create("div",{},e)}o(yD,"participantsDraw"),setup.DOM.interactiveSexTooltip=function(...i){return BA(State.temporary.gSex,i.map(e=>setup.sexposition[e]))};function pk(i){setup.DOM.Helper.replace("#menudiv",setup.DOM.create("div",{},[bD(i),yD(i),html`
          <div>
            Location: ${i.getLocation().rep()}
          </div>
        `]))}o(pk,"infoDisplay");function kD(i){if(i instanceof setup.SexActionClass.DoNothing||i instanceof setup.SexActionClass.SexEnd||i instanceof setup.SexAction.PoseChange||i instanceof setup.SexAction.PoseChangeOther||i instanceof setup.SexAction.PositionChange||i instanceof setup.SexAction.PositionChangeOther||i instanceof setup.SexAction.UnequipSelf||i instanceof setup.SexAction.UnequipOther||i instanceof setup.SexActionClass.EquipStrapon)return!0}o(kD,"isHideAction");function vD(i,e){const t="interactive_sex_setup_div";return setup.DOM.createRefreshable("div",{id:t},()=>{const a=[];if(a.push(html`
      <div>
        ${mb()}
      </div>
    `),setTimeout(()=>{pk(i)},1),!e){let h=function(c){return()=>{u=c,Dialog.close()}};o(h,"locationCallback");let u=null;const p=setup.SexLocation.getAllAllowedLocations(i);a.push(html`
        <div>
          Location: ${i.getLocation().rep()}
          ${setup.DOM.Nav.link("(change)",()=>{const c=[];for(const d of p)c.push(html`
                <div>
                  ${setup.DOM.Nav.button("Select",h(d))}
                  ${d.rep()}
                </div>
              `);setup.Dialogs.open({title:"Pick location",classnames:"",content:html`${setup.DOM.create("div",{},c)}`}).then(()=>{u&&(i.setLocation(u),setup.DOM.refresh(`#${t}`))})})}
        </div>
      `)}let r=null;function s(u){return()=>{r=u,Dialog.close()}}o(s,"paceCallback");const n=setup.SexPace.getPaceChances(State.variables.unit.player).filter(u=>u[1]).map(u=>u[0]);a.push(html`
      <div>
        Your mood: ${i.getPace(State.variables.unit.player).rep()}
        ${setup.DOM.Nav.link("(change)",()=>{const u=[];for(const h of n)u.push(html`
              <div>
                ${setup.DOM.Nav.button("Select",s(h))}
                ${h.rep()}
              </div>
            `);setup.Dialogs.open({title:"Pick mood",classnames:"",content:html`${setup.DOM.create("div",{},u)}`}).then(()=>{r&&(i.setPace(State.variables.unit.player,r),setup.DOM.refresh(`#${t}`))})})}
      </div>
    `);function l(){setup.DOM.Helper.replace(`#${t}`,GA(i))}return o(l,"startCallback"),a.push(html`
      <div>
        ${setup.DOM.Nav.button("Begin",l)}
      </div>
    `),setup.DOM.Nav.topLeftNavigation(setup.DOM.Nav.link("Begin [space]",l)),setup.DOM.create("div",{id:"interactive-sex-setup-container"},a)})}o(vD,"interactiveSexSetup");function fb(i,e,t){i.advanceTurn(e),setup.DOM.refresh(`#${t}`)}o(fb,"selectAction");function SD(i,e,t){function a(p){return()=>{fb(e,p,t)}}o(a,"actionCallback");const s=e.getPossibleActions(State.variables.unit.player).filter(p=>!kD(p)),n=Math.min(setup.Sex.UI_PLAYER_ACTIONS,s.length);let l=setup.rng.choicesRandom(s,n);const u=i.getLatestAction(State.variables.unit.player);if(u){const p=s.filter(c=>c instanceof u.constructor);p.length&&(l=l.filter(c=>c!=p[0]),l.length>n&&l.splice(l.length-1,1),l=[p[0]].concat(l))}const h=[];for(const p of l)h.push(html`
      <div>
        ${setup.DOM.Nav.button("Select",a(p))}
        ${setup.TagHelper.getTagsRep("sexaction",p.getTags())}
        ${p.rep(i)}
      </div>
    `);return setup.DOM.create("div",{},h)}o(SD,"getPlayerActionsFragment");function Ai(i,e,t,a,r){const s=o(()=>{const n=[];for(const l of a)n.push(A({text:`${l.title(i)}`,callback:o(()=>{fb(e,l,t)},"callback")}));return n},"children");return State.variables.settings.mobilemode?s():A({text:`${r}`,children:s})}o(Ai,"getActionsMenuItem");function TD(i,e,t,a,r){const s=[];let n="";e==State.variables.unit.player?(n="You",s.push(Ai(t,a,r,i.filter(u=>u instanceof setup.SexAction.PoseChange),"Pose")),s.push(Ai(t,a,r,i.filter(u=>u instanceof setup.SexAction.PositionChange),"Position")),s.push(Ai(t,a,r,i.filter(u=>u instanceof setup.SexAction.UnequipSelf||u instanceof setup.SexActionClass.EquipStrapon),"Equipment"))):(n=e.getName(),s.push(Ai(t,a,r,i.filter(u=>u instanceof setup.SexAction.PoseChangeOther&&u.getActorUnit("b")==e),"Pose")),s.push(Ai(t,a,r,i.filter(u=>u instanceof setup.SexAction.PositionChangeOther&&u.getActorUnit("b")==e),"Position")),s.push(Ai(t,a,r,i.filter(u=>u instanceof setup.SexAction.UnequipOther&&u.getActorUnit("b")==e),"Equipment")));let l=[];if(State.variables.settings.mobilemode)for(const u of s)l.push(...u);else l=s;return l.length||l.push(P({text:"No possible action"})),A({text:`${n} <i class='sfa sfa-down-dir'></i>`,clickonly:!0,children:l})}o(TD,"sexMenuFragmentUnit");function _D(i,e,t){const a=[],r=e.getPossibleActions(State.variables.unit.player);for(const u of i.getUnits())a.push(TD(r,u,i,e,t));const s=r.filter(u=>u instanceof setup.SexActionClass.DoNothing);s.length&&a.push(A({text:`<span data-tooltip="Do nothing"><i class='sfa sfa-pause'></i></span>`,callback(){fb(e,s[0],t)}}));function n(){e.advanceTurn(),setup.DOM.refresh(`#${t}`)}o(n,"doRandomCallback"),a.push(A({text:`<span data-tooltip="Random"><i class='sfa sfa-play'></i></span>`,callback:n})),setup.DOM.Nav.topLeftNavigation(setup.DOM.Nav.link("Random [space]",n)),a.push(A({text:`<span data-tooltip="Random x100"><i class='sfa sfa-fast-fw'></i></span>`,callback(){e.advanceTurns(100),setup.DOM.refresh(`#${t}`)}})),a.push(A({text:`<span data-tooltip="Reroll"><i class='sfa sfa-ccw'></i></span>`,callback(){setup.DOM.refresh(`#${t}`)}}));const l=r.filter(u=>u instanceof setup.SexActionClass.SexEnd);return l.length&&a.push(A({text:`<span data-tooltip="End sex"><i class='sfa sfa-off'></i></span>`,callback(){fb(e,l[0],t)}})),a.push(A({text:"<i class='sfa sfa-cog'></i><i class='sfa sfa-down-dir'></i>",children:[A({text:"Mobile mode",checked:!!State.variables.settings.mobilemode,callback:o(()=>{State.variables.settings.mobilemode=!State.variables.settings.mobilemode,setup.DOM.refresh(`#${t}`)},"callback")})]})),setup.DOM.Util.menuItemToolbar(a)}o(_D,"sexMenuFragment");function GA(i){const e="interactive_sex_description_div",t=new setup.SexScene(i,`#${e}`);setTimeout(()=>{t.appendInitText()},1);const a=[];a.push(mb()),a.push(html`
    <div class="interactive-sex-description-card card" id="${e}">
    </div>
  `);const r="interactive_sex_interface_div";return a.push(setup.DOM.createRefreshable("div",{class:"interactive-sex-action-card card",id:r},()=>{for(;;){if(t.isEnded())return pk(i),t.appendEndText(),setup.DOM.Nav.topLeftNavigation(mb()),mb();if(!t.getTurnUnit().isYou())t.advanceTurn();else break}const s=[];return s.push(_D(i,t,r)),s.push(SD(i,t,r)),pk(i),setup.DOM.create("div",{},s)})),setup.DOM.create("div",{},a)}o(GA,"interactiveSexDo"),setup.DOM.Menu.useitemonunit=function(i,e){i.use(e),setup.notify(`Used ${i.rep()} on a|rep.`,{a:e}),State.variables.inventory.isHasItem(i)?setup.DOM.Nav.goto():setup.DOM.Nav.goto("Inventory")};function bb(i){const e=i.getMarketObjects(),t={};for(const r of Object.values(setup.rarity))t[r.key]=0;for(const r of e){const s=r.getRarity();t[s.key]+=1}const a=[];for(const r in t){const s=t[r],n=setup.rarity[r];s&&a.push(`<span data-tooltip="${n.getName()}" class="${n.getTextColorClass()}">${s}</span>`)}return a.length?`(${a.join("|")})`:null}o(bb,"marketObjectsDescriptor");function AD(){return"MAINMENU"in setup.DOM.Card||(setup.DOM.Menu.MAINMENU_ITEMS=[[{title:"Quest",passage:"QuestHub",restrictions:[setup.qres.Building("questoffice")],extra(){const i=State.variables.company.player.getOpenQuests().length;return i?html`(${setup.DOM.Text.success(i)})`:null}},{title:"Mail",passage:"OpportunityList",restrictions:[setup.qres.Building("mailroom")],extra(){const i=State.variables.opportunitylist.getOpportunities().length;return i?html`(${setup.DOM.Text.success(i)})`:null}}],[{title:"Slaver",passage:"Lodgings",restrictions:[setup.qres.Building("lodgings")],extra(){const i=State.variables.company.player.getUnits({job:setup.job.slaver}).length,e=State.variables.company.player.getMaxUnitOfJob(setup.job.slaver);return html`(${i}/${e})`}},{title:"Slave",passage:"Dungeons",restrictions:[setup.qres.Building("dungeons")],extra(){const i=State.variables.company.player.getUnits({job:setup.job.slave}).length,e=State.variables.company.player.getMaxUnitOfJob(setup.job.slave);return html`(${i}/${e})`}}],[{title:"Hall",passage:"MarketSlaver",restrictions:[setup.qres.Building("prospectshall")],extra(){return bb(State.variables.market.slavermarket)}},{title:"Pen",passage:"MarketSlave",restrictions:[setup.qres.Building("slavepens")],extra(){return bb(State.variables.market.slavemarket)}}],[{title:"Team",passage:"TeamManagement",restrictions:[setup.qres.Building("missioncontrol")]},{title:"Party",passage:"PartyManagement",restrictions:[setup.qres.Building("moraleoffice")]},{title:"Duty",passage:"DutyList",restrictions:[setup.qres.Building("dutyroom")],extra(){const i=State.variables.dutylist.getOpenDutiesCount();return i?html`(${setup.DOM.Text.successlite(i)})`:null}}],[{title:"Fort",passage:"FortGrid",restrictions:[setup.qres.Building("constructionoffice")],extra(){const i=State.variables.roomlist.getUnplacedRooms();return i.length?html`(${setup.DOM.Text.success(i.length)})`:null}},{title:"Injury",passage:"Hospital",restrictions:[setup.qres.Building("hospital")],extra(){const i=State.variables.company.player.getUnits({injured:!0}).length;return i?html`(${setup.DOM.Text.dangerlite(i)})`:null}},{title:"Order",passage:"SlaveOrderList",restrictions:[setup.qres.Building("marketingoffice")],extra(){const i=State.variables.slaveorderlist.countSlaveOrders();return i?html`(${setup.DOM.Text.successlite(i)})`:null}}],[{title:"Buy Equipment",passage:"MarketEquipment",restrictions:[setup.qres.Or([setup.qres.Building("forge"),setup.qres.Building("sexshop")])],extra(){return bb(State.variables.market.equipmentmarket)}}],[{title:"Market",passage:"MarketItem",restrictions:[setup.qres.Building("market")],extra(){return bb(State.variables.market.itemmarket)}},{title:"Item",passage:"Inventory",restrictions:[setup.qres.Building("warehouse")]}],[{title:"Equipment",passage:"Armory",restrictions:[setup.qres.Building("armory")]},{title:"Classroom",passage:"Classroom",restrictions:[setup.qres.Building("classroom")]}],[{title:"Bedchamber",passage:"BedchamberList",restrictions:[setup.qres.Building("bedchamberwing")]},{title:"Rec. Wing",passage:"RecreationWing",restrictions:[setup.qres.Building("recreationwing")]}],[{title:"Relations",passage:"RelationsOffice",restrictions:[setup.qres.Building("relationsoffice")]},{title:"Contact",passage:"ContactList",restrictions:[setup.qres.Building("messengerpost")]},{title:"Lore",passage:"Library",restrictions:[setup.qres.Building("library")]}],[{title:"Retirees",passage:"RetiredList",restrictions:[setup.qres.Building("inn")],extra(){const i=State.variables.retiredlist.getUnits().length,e=State.variables.retiredlist.getMaxTrackedUnits();return html`(${i}/${e})`}},{title:"Company",passage:"CompanyInfo",restrictions:[setup.qres.Building("greathall")]}],[{title:"Settings",passage:"SettingsMenu",restrictions:[]}]]),setup.DOM.Menu.MAINMENU_ITEMS}o(AD,"getMainMenuItems"),setup.DOM.Menu.mainmenu=function(){const i=[];for(const e of AD()){const t=[];for(const a of e)setup.RestrictionLib.isPrerequisitesSatisfied(null,a.restrictions)&&(t.length&&t.push(html` | `),t.push(setup.DOM.Nav.move(a.title,a.passage)),a.extra&&(t.push(html` `),t.push(setup.DOM.create("span",{},a.extra()))));t.length&&i.push(setup.DOM.create("div",{},t))}return setup.DOM.create("span",{},i)},setup.DOM.Menu.opportunityautoanswer=function(){const i=[];{const e=State.variables.dutylist.getUnitIfAvailable("viceleader");i.push(html`
      <p>
        You went over to ${e.rep()}'s desk. The following is the list of all
        mails that ${e.rep()} will automatically responds to.
        You can make changes to it, if you wish.
      </p>
    `)}return i.push(html`
    <div>
      ${setup.DOM.Nav.return("(Finish)")}
    </div>
  `),State.variables.opportunitylist.getOpportunityAutoAnswers().forEach(e=>{const[t,a]=e;i.push(html`
      <div>
        ${setup.DOM.Util.namebold(t)}: Respond with
        ${setup.DOM.Util.include(t.getOptions()[a].description_passage)}
        ${setup.DOM.Nav.link("(remove auto-answer)",()=>{State.variables.opportunitylist.removeAutoAnswer(t),setup.DOM.Nav.goto()})}
      </div>
    `)}),setup.DOM.create("div",{},i)},setup.DOM.Menu.perklearn=function(i){const e=[],t=i.getPerkChoices().filter(r=>!i.isHasTrait(r));i.getLearnablePerks();const a=!1;for(const r of t)e.push(setup.DOM.Card.perk(r,i,a));return setup.DOM.create("div",{},e)};function yb(i,e,t){return(a,r)=>{const s=t[e](a,i.getTemplate().getDifficulty()),n=t[e](r,i.getTemplate().getDifficulty());return s<n?1:s>n?-1:0}}o(yb,"compareScoreSort");function MD(i,e,t,a){const r=[];r.push(html`
    <div>
      <b>Select unit for</b>
      ${setup.DOM.Util.namebold(t)}:
      ${setup.DOM.Util.include("QuestAssignHelp")}
    </div>
  `);const s=t.getEligibleUnits(i).filter(l=>l!=a),n=State.variables.menufilter.get("unitquest","sortscore");return n=="crit"?s.sort(yb(i,"computeScoreCrit",t)):n=="success"?s.sort(yb(i,"computeScoreSuccess",t)):n=="failure"?s.sort(yb(i,"computeScoreFailure",t)):s.sort(yb(i,"computeScore",t)),r.push(setup.DOM.Util.filterAll({menu:"unitquest",filter_objects:s,display_callback:o(l=>{const u=[];return u.push(html`
        ${setup.DOM.Nav.button("Select",()=>{setup.QuestAssignHelper.assignUnit(e,l,t),delete State.variables.gAdhocQuestCriteriaOpenActor,setup.DOM.Nav.goto()})}
        ${l.key in State.variables.gAdhocUnitUsed?html`${setup.repImgIcon(setup.Unit.DANGER_IMAGE_URL,"Unit already goin on this quest")}`:html`${l.repBusyState(!0)}`}
        ${setup.DOM.Util.level(l.getLevel())}
        ${l.repFull()}
        ${t.repActor(l,i.getTemplate().getDifficulty())}
      `),setup.DOM.create("div",{},u)},"display_callback")})),setup.DOM.create("div",{},r)}o(MD,"getSelectUnitFragment");function wD(i,e,t,a){return html`<span class='toprightspan'>
    <div class='button-full-container'>
      ${setup.DOM.Nav.button(a?"Change":"Select unit",()=>{State.variables.gAdhocQuestCriteriaOpenActor=e,setup.DOM.Nav.goto()})}
    </div>
  </span>`}o(wD,"getOpenCriteriaFragment");function kb(){delete State.variables.gAdhocUnitUsed,delete State.variables.gAdhocQuestActorMap,delete State.variables.gAdhocQuest_key,delete State.variables.gAdhocQuestCriteriaOpenActor}o(kb,"clearVariables"),setup.DOM.Menu.questassign=function(i){State.temporary.foctimed_is_tooltip=!0;const e=[];e.push(html`
    <div>
      ${setup.DOM.Nav.link("Cancel",()=>{kb()},"QuestHub")}
    </div>
  `),e.push(setup.DOM.Card.quest(i,!0));const t=i.getTemplate().getUnitCriterias();if(!State.variables.gAdhocQuestCriteriaOpenActor){for(const s in t)if(!State.variables.gAdhocQuestActorMap[s]){State.variables.gAdhocQuestCriteriaOpenActor=s;break}}const a=State.variables.gAdhocQuestCriteriaOpenActor;for(const s in t){const n=t[s].criteria,l=State.variables.gAdhocQuestActorMap[s],u=State.variables.unit[l],h=[];h.push(html`
      ${setup.DOM.Util.namebold(n)}
    `),u?h.push(html`
        : ${u.rep()} ${n.repActor(u,i.getTemplate().getDifficulty())}
      `):a==s&&h.push(html`
        | ${setup.DOM.Card.criteria(n)}
      `),a==s?h.push(MD(i,s,n,u)):h.push(wD(i,s,n,u)),e.push(setup.DOM.create("div",{class:"questassignrolecard card"},h))}const r=setup.QuestAssignHelper.isAllActorsFilled();r&&e.push(html`
      <div>
        ${setup.QuestAssignHelper.computeSuccessObjRep()}
        ${setup.DOM.Util.include("QuestAssignHelp")}
      </div>
    `);{const s=[];r&&(s.push(setup.DOM.Nav.button("Confirm",()=>{setup.QuestAssignHelper.finalize(i),kb()},"QuestHub")),setup.DOM.Nav.topLeftNavigation(setup.DOM.Nav.link("Confirm [space]",()=>{setup.QuestAssignHelper.finalize(i),kb()},"QuestHub"))),s.push(setup.DOM.Nav.link("(cancel)",()=>{kb()},"QuestHub")),e.push(setup.DOM.create("div",{},s))}return State.temporary.foctimed_is_tooltip=!1,setup.DOM.create("div",{},e)},setup.DOM.Menu.questquicklist=function(){const i=State.variables.company.player.getQuests();return i.sort((e,t)=>e.getTeam()&&!t.getTeam()?-1:t.getTeam()&&!e.getTeam()?1:t.key-e.key),setup.DOM.Util.filterAll({menu:"questquick",filter_objects:i,display_callback:o(e=>{const t=[];t.push(html`
        <div>
          ${setup.TagHelper.getTagsRep("quest",e.getTemplate().getTags())}
          ${e.getTemplate().getDifficulty().rep()}
          ${e.rep()}
          ${e.getTeam()?html`(${Y_(e)})`:""}
        </div>
      `);const a=e.getTeam();if(a){for(const r of a.getUnits())t.push(html`
            <div>
              ${r.rep()}
            </div>
          `);t.push(html`<hr/>`)}return setup.DOM.create("div",{},t)},"display_callback")})},setup.DOM.Menu.quicklistmenu=function(){const i={unit:"Unit",quest:"Quest",slaveorder:"Order"};function e(a){return()=>{State.variables.settings.rightsidebar=a,setup.DOM.Menu.refreshRightSidebar()}}o(e,"menuItemCallback");const t=[];for(const a in i){if(a=="slaveorder"&&!State.variables.fort.player.isHasBuilding("marketingoffice"))continue;const r=State.variables.settings.rightsidebar==a,s=i[a];r?t.push(A({text:s,cssclass:r?"submenu-tag-selected":""})):t.push(A({text:s,cssclass:r?"submenu-tag-selected":"",callback:e(a)}))}return setup.DOM.create("div",{class:"menu toolbar"},setup.DOM.Util.menuItemToolbar(t))},setup.DOM.Menu.rightsidebar=function(){const i=[];i.push(html`
    <div class='tagtoolbarsticky'>
      ${setup.DOM.Menu.quicklistmenu()}
    </div>
  `);const e=State.variables.settings.rightsidebar;return e=="quest"?i.push(setup.DOM.Menu.questquicklist()):e=="slaveorder"?i.push(setup.DOM.Menu.slaveorderquicklist()):i.push(setup.DOM.Menu.unitquicklist()),setup.DOM.create("div",{},i)},setup.DOM.Menu.refreshRightSidebar=function(){setup.DOM.Helper.replace("#menurightdata",setup.DOM.Menu.rightsidebar())},setup.DOM.Menu.relationsofficemanagedcompanies=function(){const i=[],e=State.variables.dutylist.getDuty("relationshipmanager");i.push(html`
    <div>
      Select the companies for your
      ${e.rep()} to manage their favors.
      When managed, their favors will no longer decay when below
      ${setup.DOM.Text.successlite("85.0")} favor.
      Their decay will also be much slower when the favor is above
      ${setup.DOM.Text.successlite("85.0")}.
      <p/>
    </div>
  `);const t=State.variables.favor.getMaxManagedCompanies(),a=e.getAssignedUnit(),r=State.variables.favor.getRelationshipManagerUpkeep();a&&a.isAvailable()?i.push(html`
      <div>
        ${a.rep()} is your ${e.rep()}.
        ${setup.DOM.PronounYou.They(a)} is able to manage ${t} companies right now.
        That means only the first ${t} of the companies below will have their relationship decay
        reduced.
        ${setup.DOM.PronounYou.They(a)} requires an upkeep of
        ${setup.DOM.Util.money(r)} per week.
        <p/>
      </div>
    `):a?i.push(html`
      <div>
        ${setup.DOM.Util.YourRep(a)} usually works here, but ${setup.DOM.PronounYou.they(a)}
        is currently unavailable to attend to ${setup.DOM.PronounYou.their(a)} duties.
      <p/>
      </div>
    `):i.push(html`
      <div>
        You do not have any slaver assigned to ${e.rep()} right now.
      <p/>
      </div>
    `),i.push(html`
    <div>
      ${setup.DOM.Nav.link("(Finish changing managed companies)",()=>{setup.DOM.Nav.goto("RelationsOffice")})}
      <p/>
    </div>
  `);const s=State.variables.favor.getAllManagedCompanies();for(let[n,l]of s.entries())n>=t&&i.push(html`
        <div>
          ${setup.DOM.Text.dangerlite("[Inactive]")}
          ${setup.DOM.Util.message("'(?)'",()=>html`
                Your ${e.rep()} can only manage ${t} companies.
              `)}
        </div>
      `),i.push(html`
        <div>
          ${l.rep()}
          ${setup.DOM.Nav.link("(remove)",()=>{State.variables.favor.removeManagedCompany(l),setup.DOM.Nav.goto()})}
        </div>
      `);if(s.length<t){const n=[];for(const l in State.variables.company){const u=State.variables.company[l];State.variables.favor.isCompanyKnown(u)&&u!=State.variables.company.player&&(s.includes(u)||n.push(u))}i.push(html`
      <div>
        ${setup.DOM.Util.message("(Manage new company)",()=>{const l=[];return n.forEach(u=>{l.push(html`
                <div>
                  ${setup.DOM.Nav.button("Manage",()=>{State.variables.favor.addManagedCompany(u),setup.DOM.Nav.goto()})}
                  ${u.rep()}
                </div>
                `)}),l.length?setup.DOM.create("div",{},l):null})}
      </div>
    `)}return setup.DOM.Nav.topLeftNavigation(setup.DOM.Nav.move("Finish [space]","RelationsOffice")),setup.DOM.create("div",{},i)},setup.DOM.Menu.roomlist=function(){const i=State.variables.roomlist.getRoomInstances(),e=[],t={};for(const a of i){const r=a.getTemplate().key;t[r]||(t[r]=!0,e.push(a))}return setup.DOM.Util.filterAll({menu:"room",filter_objects:e,display_callback:o(a=>State.variables.menufilter.get("room","display")=="compact"?setup.DOM.Card.roominstancecompact(a,!1):setup.DOM.Card.roominstance(a,!1),"display_callback")})};function RD(i){let e;if(!i.isCanTalk())i.isObedient()?e=setup.Text.Gagged.pleasure({unit:i}):e=setup.Text.Gagged.discomfort({unit:i});else{let t,a;State.variables.unit.player.isMale()?a="master":a="mistress",i.isObedient()?t=[`Yes, ${a}! Please fuck me!`,`${setup.capitalize(a)}, please fuck me senseless!`,`I am to use as you see fit, ${a}.`,`I live to serve, ${a}.`,`Anything you desire, ${a}.`]:i.isCompliant()?t=[`...yes, ${a}.`,`...yes, m-${a}.`,`...m-${a}...`,`Ahh, uhh, yes, m-${a}.`]:i.isMindbroken()?t=["...","...moans"]:t=["No! Get away from me!","No, please, have mercy on me!","No! I hate you!","Please, no! No!","No, please go away!"],e=setup.Text.replaceUnitMacros(t,{a:i})}return{acceptance:"yes",dialogue:e}}o(RD,"proposeSexSlave");function ED(i){const e=i.getSpeech(),t=setup.Text.Greeting.nickname({unit:i,target:State.variables.unit.player}),a=setup.Text.Greeting.short({unit:i});let r=[];if(e==setup.speech.friendly)r=[`${a} you want to have sex with me?`,`${a} you're proposing some fun times?`,`${a} you're asking for a swing?`];else if(e==setup.speech.bold)r=[`${a} you're asking if I want to have sex?`,"Do I want to have sex with you?","Do I want to have some fun time with you?"];else if(e==setup.speech.cool)r=["Sex? With you?",`${a} sex?`,`${a} fun times?`];else if(e==setup.speech.witty)r=[`${a} did I hear that correctly? You want to engage in some kind of animalistic ritual behavior with me?`,`${a} am I up to get it going with you?`,`${a} are you proposing we go to some shady corner and, you know?`];else if(e==setup.speech.debauched)r=[`${a} are you asking me for sex? Well I do it all the time, but if it's with you...`,`${a} you're proposing sex so brazenly during the day? Reminds me of myself really, but well...`,`${a} do I want some action? If you are thinking what I am thinking, then, well...`];else throw new Error(`Unrecognized speech pattern: ${e.key}`);let s=null,n;if(i.getLover()==State.variables.unit.player)if(n="yes",e==setup.speech.friendly)s=[`Of course! Anytime my ${t} asks.`,`But of course! You're my ${t}, after all.`];else if(e==setup.speech.bold)s=[`Glad you asked, ${t}! I've been pent up all day.`,`Of course, ${t}! I've been fantasizing about you all day, in fact, so you better get ready.`,"I've been waiting for you all day, actually. It's rude to keep me waiting, you now."];else if(e==setup.speech.cool)s=[`Sure, ${t}.`,"Of course, ."];else if(e==setup.speech.witty)s=[`Who am I kidding, of course I want to ${t}!`,`Yes, of course I want to, ${t}! Prepare your body...`];else if(e==setup.speech.debauched)s=["That's all I've been thinking today, in fact. So yes, let's do it!",`Of course, ${t}! In fact, I'll do it anytime, anywhere.`,"Yes! Yes! I hope your schedule is empty today...",`Yes, ${t}! Now, talk dirty to me...`];else throw new Error(`Unrecognized speech pattern: ${e.key}`);else if(i.isHasTrait("per_lustful"))n="yes";else if(i.isHasTrait("per_chaste"))if(n="no",e==setup.speech.friendly)s=[`Sorry ${t}, but I really don't feel comfortable doing sex with just anyone like this...`,`Sorry ${t}, this may sound strange, but I'm really not comfortable with a swing...`];else if(e==setup.speech.bold)s=["Let's not. I only have sex with someone I consider my lifetime partner.","Seems like you don't know me well enough if you think I'd just accept a swing offer like this."];else if(e==setup.speech.cool)s=["I don't have sex with just anyone.","No, please. I'm not comfortable with casual sex."];else if(e==setup.speech.witty)s=["Heh, you got me. I'm really not comfortable with casual sex, you see. Sorry.","Well, sorry to disappoint you, but more of a swan kind of a|race and less of a rabbit one."];else if(e==setup.speech.debauched)s=["Well, despite my usual persona, I'm actually not that into casual sex. Weird, I know.","Well, this is going to be a bit awkward. I love sex, I really do. Just... only with the right partners, sorry."];else throw new Error(`Unrecognized speech pattern: ${e.key}`);else if(i.isHasTrait("join_junior"))if(n="no",e==setup.speech.friendly)s=[`Sorry ${t}, but I really don't know you anywhere near well enough to get it going.`,`Sorry ${t}, maybe when we know each other a bit more?`];else if(e==setup.speech.bold)s=[`You haven't earned the priviledge of having sex with me yet, ${t}. But maybe in a few months or so.`,`Try again when you know me better, ${t}.`];else if(e==setup.speech.cool)s=["I don't know you.","I don't have sex with strangers."];else if(e==setup.speech.witty)s=["I'm still waiting for the punchline. No? Well, maybe when we get to know each other better.","As much as I approve of your... curiosity, let's not do it until we know each other better."];else if(e==setup.speech.debauched)s=["I never refused sex, but I'll make an exception this time. I don't know you well enough.","I love sex, but I have my principles to not do sex with strangers. Let's get acquintanced better first, hmm?"];else throw new Error(`Unrecognized speech pattern: ${e.key}`);else if(i.getLover()&&!i.isHasTrait("join_senior"))if(n="no",e==setup.speech.friendly)s=[`Sorry ${t}, but I don't want to cheat on my lover, especially when I haven't known you for that long...`,`Sorry ${t}, but I don't know you well enough to cheat on my lover.`];else if(e==setup.speech.bold)s=[`Nope, not today ${t}. My lover will have all my attention for today.`,"Nope, got enough sex today from my lover. Perhaps when we know each other better..."];else if(e==setup.speech.cool)s=["No. Don't know what my lover would say.","No. I like my lover more."];else if(e==setup.speech.witty)s=["My horoscope today said that I would have unsuspecting challenges. Guess this is it -- having to choose between you and my lover. That's a no, by the way.","Would you like me to invite my lovers too? Just kidding, let's not do it until I get to know you more.","Well, this is awkward. But I'm not going to risk being known as a cheater with my lover."];else if(e==setup.speech.debauched)s=["Never thought I'd live long enough to see the day I have to refuse sex from you. But can't risk my lover's ire.",`Sorry ${t}, my lover had me exhausted already today.`];else throw new Error(`Unrecognized speech pattern: ${e.key}`);else n="yes";if(n=="yes"&&!s)if(e==setup.speech.friendly)s=["Do you even need to ask? Of course!","Yes! Finally a chance for some good ol' relief.","Yes, can't wait to see what you can show me in the bedroom!"];else if(e==setup.speech.bold)s=["Yes! Hope you're ready for me!","Sure, just prepare your body for me...",`You don't know how much I've been dreaming about you asking me for sex, ${t}.`];else if(e==setup.speech.cool)s=["...why not.","Fine, let's go.","Sure."];else if(e==setup.speech.witty)s=[`Glad you ask, ${t}! There's this new pose I've been wanting to try out...`,"Sure, sounds like harmless fun!","I was just about to ask you, actually! Great minds to think alike."];else if(e==setup.speech.debauched)s=["Well, sex occupies like half of my thoughts for the day already so let's make it 100% instead!","No, wait, yes! I mean yes! I wouldn't dream of refusing sex from such a b|adjgood b|race like you.","Yes! Now work my body like you work your slavers..."];else throw new Error(`Unrecognized speech pattern: ${e.key}`);const l=setup.Text.replaceUnitMacros(r,{a:i,b:State.variables.unit.player}),u=setup.Text.replaceUnitMacros(s,{a:i,b:State.variables.unit.player});return{acceptance:n,dialogue:l+" "+u}}o(ED,"proposeSexSlaver"),setup.DOM.Menu.proposeSex=function(i){const e=[];let t;if(i.isSlave()?t=RD(i):t=ED(i),e.push(setup.DOM.Card.dialogue({unit:i,dialogue:t.dialogue})),t.acceptance=="yes")State.variables.gInteractiveSexUnitIds=[State.variables.unit.player.key,i.key],delete State.variables.gInteractiveSexLocation_key,e.push(setup.DOM.Util.include("SexSetup"));else if(t.acceptance=="no")setup.DOM.Nav.topLeftNavigation(setup.DOM.Nav.return("Return")),e.push(html`
      <div>
        ${setup.DOM.Nav.return("(return)")}
      </div>
    `);else throw new Error(`Unrecognized acceptance: ${t.acceptance}`);return setup.DOM.create("div",{},e)},setup.DOM.Menu.slaveorderquicklist=function(){const i=State.variables.slaveorderlist.getSlaveOrders();return setup.DOM.Util.filterAll({menu:"slaveorderquick",filter_objects:i,display_callback:o(e=>html`
      ${e.rep()}
    `,"display_callback")})};function qA({raw_traits:i,init_selected:e,finish_callback:t,is_multiple:a,no_overlap:r,on_change_callback:s}){const n=i.filter(g=>!0),l=+new Date,u=`traitselectordiv1${l}`,h=`traitselectordiv2${l}`;let p=e;function c(g){return()=>{if(!a)t(g);else{if(p.includes(g))p.splice(p.indexOf(g),1);else{if(r&&g.getTraitGroup()){const m=p.filter(f=>f.getTraitGroup()==g.getTraitGroup());for(const f of m)p.includes(f)&&p.splice(p.indexOf(f),1)}p.push(g)}s&&s(p),setup.DOM.refresh(`#${u}`),setup.DOM.refresh(`#${h}`)}}}o(c,"callback");const d=[];if(a){d.push(setup.DOM.createRefreshable("div",{id:u},()=>{const m=[];{m.push(html`
          <div>Selected: ${p.length}</div>
        `);const f=[];for(const b of p)f.push(setup.DOM.create("div",{style:"margin: 0 4px; cursor: pointer"},setup.DOM.Util.onEvent("click",b.rep(!0),c(b))));m.push(setup.DOM.create("div",{style:"display: flex; flex-wrap: wrap"},f)),f.length||m.push(html`<div>(none)</div>`)}return setup.DOM.create("div",{},m)}));const g=[];g.push(setup.DOM.Nav.link("(Clear)",()=>{p.splice(0,p.length),s&&s(p),setup.DOM.refresh(`#${u}`),setup.DOM.refresh(`#${h}`)})),t&&g.push(setup.DOM.Nav.button("Confirm",()=>{t(p)})),d.push(setup.DOM.create("div",{},g)),d.push(html`<hr/>`)}return a&&d.push(html`
      <div>Click on a trait to add it to selection:</div>
    `),d.push(setup.DOM.createRefreshable("div",{id:h},()=>setup.DOM.Util.filterAll({menu:"trait",filter_objects:n,style_override:"display: grid; grid-template-columns: repeat(auto-fill, minmax(34px, 1fr))",display_callback:o(g=>setup.DOM.create("div",{style:"cursor: pointer"},setup.DOM.Util.onEvent("click",p.includes(g)?g.repPositive(!0):g.rep(!0),c(g))),"display_callback")}))),setup.DOM.create("div",{},d)}o(qA,"doTraitPick"),setup.DOM.Menu.traitpickermulti=function({raw_traits:i,init_selected:e,finish_callback:t,no_overlap:a,on_change_callback:r}){return qA({raw_traits:i,init_selected:e,finish_callback:t,is_multiple:!0,no_overlap:a,on_change_callback:r})},setup.DOM.Menu.traitpickersingle=function({raw_traits:i,finish_callback:e}){return qA({raw_traits:i,init_selected:[],finish_callback:e,is_multiple:!1})};function xD(i){const e=[];for(const t of i.getHistory())e.push(html`
      <div>
        ${setup.DOM.Util.twine(setup.Text.replaceUnitMacros(t,{a:i}))}
      </div>
    `);return setup.DOM.create("div",{},e)}o(xD,"getHistoryFragment");function DD(i){let e;return State.variables.settings.unitimagefull?e="unitimagefull unitimagelarge":e="unitimagehalf unitimagelarge",html`
    <figure class='${e}'>
      ${setup.DOM.Util.Image.load({image_name:i.getImage()})}
      <figcaption class='${e}'>
        ${setup.DOM.Util.Image.credits(i)}
        ${setup.DOM.Nav.link(State.variables.settings.unitimagefull?"(switch to half-size)":"(switch to full-size)",()=>{State.variables.settings.unitimagefull=!State.variables.settings.unitimagefull,setup.DOM.Nav.goto()})}
      </figcaption>
    </figure>
  `}o(DD,"unitImageFragment"),setup.DOM.Menu.unitdescription=function(i){const e=[];function t(r){return setup.Text.replaceUnitMacros(r,{a:i})}o(t,"format");{const r=[];r.push(DD(i));{const s=i.getSpeech().getName().toLowerCase();let n;i.isMindbroken()?n="an":n=setup.Article(s),r.push(html`
        ${t("a|Rep a|is")}
        ${n}
        ${i.isSlaver()&&setup.DOM.Util.level(i.getLevel())}
        ${i.repGender()}
        ${i.getSubrace().getName()}
        ${i.getTitle().toLowerCase()}.
      `)}if(i.getFullName()!=i.getName()&&r.push(html`
        ${t("a|Their full name is")}
        ${i.getFullName()},
        ${t(setup.rng.choice(["but a|they a|is usually called","although a|they simply a|go by","but everyone calls a|them"]))}
        ${i.getName()}.
      `),i.isSlave()){const s=setup.Text.Unit.Trait.description(i,i.getMainTraining());r.push(html`
        ${t("a|They")} ${s}.
      `);const n=i.getSlaveValue();let l;n<setup.TRAIT_VALUE_LOW_THRESHOLD?l=["a|They a|is worth nothing in the slave markets -- you better off selling a|them for fixed-priced slave orders.","a|They a|worth nothing -- it might be better to sell a|them to a fixed-price slave order."]:n<setup.TRAIT_VALUE_HIGH_THRESHOLDS[0]?l=["a|They a|is a decently valuable slave.","You could probably sell a|them for a decent sum."]:n<setup.TRAIT_VALUE_HIGH_THRESHOLDS[1]?l=["a|They a|is quite valuable and would fetch a tidy amount of sum should you find the right buyer.","You could get a good amount of money from selling this slave."]:n<setup.TRAIT_VALUE_HIGH_THRESHOLDS[2]?l=["a|They a|is greatly valuable, easily attracting potential buyers.","When sold, a|they would fetch quite a large amount of money."]:n<setup.TRAIT_VALUE_HIGH_THRESHOLDS[3]?l=["a|They a|is extremely valuable, deserving to be sold in proper venues.","a|Their high value attracts potential buyer far and wide."]:n<setup.TRAIT_VALUE_HIGH_THRESHOLDS[4]?l=["a|They a|is insanely valuable, famous throughout the entire region.","If you find the right buyer, selling a|them would easily make you very rich."]:n<setup.TRAIT_VALUE_HIGH_THRESHOLDS[5]?l=["a|They a|is insanely valuable, famous throughout the entire region.","Many would give everything they have for the priviledge of fucking such a valuable slave as a|rep."]:l=["a|They a|is a god-tier slave, commanding ludicruous price in the slave markets.","a|Their value is so high that even otherwordly beings are interested in the slave."],r.push(html`
        ${t(l)}
      `)}if(i.getDuty()){const s=i.getDuty();r.push(html`
        ${t(["a|rep a|work as your ","a|rep a|as your "])}
        ${s.rep()},
      `),i.isAvailable()?r.push(html`${setup.Text.Duty.competence(s)}.`):r.push(html`
          ${t(["but a|they a|is busy and unable to attend to a|their duties right now.","but a|they a|is currently unable to attend to a|their duties."])}
        `),s.isSpecialistActive()&&r.push(html`
          ${t(["A specialist is working in a|their stead, although the specialist costs quite a sum of money to pay.","a|They a|have arranged for a skilled but expensive specialist to work in a|their absence."])}
        `)}if(i.getLover()){const s=i.getLover();let n;s.isYou()?n=["a|They a|is your lover.","You are a|their lover."]:n=[`a|They a|is ${s.rep()}'s lover.`,`${s.rep()} is a|their lover.`],r.push(html`
        ${t(n)}
      `)}{const s=i.getWeeksWithCompany();let n;s?i.isSlave()?n=[`a|They a|have been enslaved by your company for ${s} weeks.`,`a|They a|have been your slave for ${s} weeks.`]:n=[`a|They a|have been with your company for ${s} weeks`,`a|They a|have served your company for ${s} weeks`]:i.isSlave()?n=["a|They a|have just been enslaved by your company.","You have just acquired a|them.","This is a|their first week under your company's management."]:n=["a|They a|have just joined your company","This is a|their first week working with your company"],r.push(html`
        ${t(n)}
        ${i.isSlaver()&&html`
          ${t(["and a|they a|is being paid","and a|their wage is"])}
          ${setup.DOM.Util.money(i.getWage())} per week.
        `}
      `)}r.push(html`
        ${setup.Text.Unit.background(i)}
      `),i.getOrigin()&&r.push(html`
        ${t("a|Rep")} ${i.getOrigin()}
      `);{r.push(html`
        ${t(["a|They a|is currently wearing a|equipment.","a|They a|is wearing a|equipment.","a|They a|wear a|equipment."])}
      `);const s=i.getExtraTraits();s.length&&r.push(html`
          ${t(["The equipment a|they a|is wearing is magical, giving a|them extra traits:","The equipment a|they a|is wearing is enchanted, and gives a|them some extra traits:","a|They a|have extra traits thanks to the magical equipment a|they a|is wearing:"])}
          ${s.map(n=>n.rep())}.
        `)}i.getHistory().length&&r.push(html`
        ${t(["a|They a|have a "])}
        ${setup.DOM.Nav.link("history",()=>{setup.Dialogs.open({title:"History",classnames:"",content:xD(i)})})}
        ${t(["with your company.","in your company."])}
      `);{const s=State.variables.titlelist.getAllTitles(i);if(s.length){let n;s.length<=2?n=["a|They a|is known as","a|They a|is also known as"]:n=["a|They a|have several titles to a|their name: ","a|They a|is known by multiple titles: "],r.push(html`
          ${t(n)}
          ${setup.Text.addCommas(s.map(l=>l.rep()))}.
        `)}}r.push(html`
        ${setup.DOM.Util.twine(setup.TitleHelper.unitTitleDescribe(i))}
      `),e.push(setup.DOM.create("p",{},r))}{const r=State.variables.family.getFamily(i),s=Object.keys(r).length;if(s){const n=[];n.push(html`
        ${t([`a|Rep a|have at least ${s} family member${s>1?"s":""}.`,`You are aware that a|rep a|have at least ${s} family member${s>1?"s":""}.`])}
        ${t("a|They a|is")}
        ${setup.Text.addCommas(Object.keys(r).map(l=>{const u=State.variables.unit[l];return`
              ${u.isYourCompany()?setup.Text.replaceUnitMacros("a|reps",{a:u}):`${u.getName()}'s`}
              ${r[l].rep()}`}))}
      `),e.push(setup.DOM.create("p",{},n))}}{const r=State.variables.bedchamberlist.getBedchambers({slaver:i});if(r.length){const s=[];s.push(html`
        ${t(["a|Rep a|is the owner of","a|Rep a|own"])}
        ${setup.Text.addCommas(r.map(l=>l.rep()))}.
      `);const n=[];for(const l of r)n.push(...l.getSlaves());if(n.length){let l=setup.rng.choice(["slave","fucktoy"]);n.length>=2&&(l+="s"),s.push(html`
          ${t([`a|They a|keep a|their personal ${l} there: `,`a|They a|have ${n.length} personal ${l}: `])}
          ${setup.Text.addCommas(n.map(u=>u.rep()))}.
        `)}else{let l;r.length>=2?l=setup.rng.choice(["bedchambers are","rooms are"]):l=setup.rng.choice(["bedchamber is","room is"]),s.push(html`
          ${t([`The ${l} empty now, and a|rep a|do not have any personal slave.`,`a|Rep a|do not have any personal slave, and the ${l} empty now.`])}
        `)}e.push(setup.DOM.create("p",{},s))}}function a(r){return setup.Text.Unit.Trait.flavor(i,r)}o(a,"flavor");{const r=[];if(r.push(html`
      ${t(`
        a|Rep a|have a|afaceall, a|earsall, and a|eyesall.
      `)}
      ${a("ears")}
      ${a("eyes")}
      ${t(["a|They a|have a|amouthall."])}
      ${a("mouth")}
    `),i.isHasTrait("mouth_dragonkin")){let s=[];i.isHasTrait("magic_fire")?s=["a|They a|is able to breathe scorching fire from a|their a|mouth."]:i.isHasTrait("magic_dark")?s=["a|They a|is able to breathe out corruption from a|their a|mouth."]:i.isHasTrait("magic_light")?s=["a|They a|is able to breathe out pure magic from a|their a|mouth."]:i.isHasTrait("magic_earth")?s=["a|They a|is able to breathe out venom from a|their a|mouth."]:i.isHasTrait("magic_water")?s=["a|They a|is able to breathe out freezing ice from a|their a|mouth."]:i.isHasTrait("magic_wind")&&(s=["a|They a|is able to breathe out sharp slicing wind from a|their a|mouth."]),s.length&&r.push(html`
          ${t(s)}
        `)}e.push(setup.DOM.create("p",{},r))}{const r=[];let s="";i.isHasTrait(setup.trait.corruptedfull)?s="fully corrupted":i.isHasTrait(setup.trait.corrupted)&&(s="notably corrupted");{let u=[`a|Rep a|have a ${s} a|bodyall.`];s&&(u=u.concat([`a|Reps a|body is ${s}.`])),r.push(html`
        ${t(u)}
        ${a("body")}
      `)}setup.Text.Unit.Equipment.isChestCovered(i)&&r.push(html`
        ${t(`
          Underneath a|their clothes, a|rep a|have a|breastall.
        `)}
      `);const n=i.getWings();if(n){let u;i.getRace()==setup.trait.race_demon&&n==setup.trait.wings_dragonkin?u=["Despite being a demon, a|they a|have a|wingsall, making a|them particularly fierce and mythical-looking."]:i.getRace()==setup.trait.race_demon&&n==setup.trait.wings_elf?u=["Unlike most demons, a|their a|wings are beautiful and devoid of corruption."]:i.getRace()==setup.trait.race_demon&&n==setup.trait.wings_angel?u=["a|Their wings are atypical of demons: dark feathery wings which paint the image of a fallen angel."]:u=["From a|their back grows a|wingsall."],r.push(html`
        ${t(u)}
        ${a("wings")}
      `)}if(r.push(html`
      ${t(["a|They a|have a|aneckall and a pair of a|armsall."])}
      ${a("arms")}
    `),i.getEquipmentAt(setup.equipmentslot.weapon)){let u="";i.isHasTrait("muscle_strong")?u="powerfully":i.getSkill(setup.skill.combat)>=60&&(u="masterfully"),r.push(html`
        ${t([`a|Their a|hands can ${u} wield a|their preferred weapon: the a|weaponall.`])}
      `)}e.push(setup.DOM.create("p",{},r))}{const r=[];r.push(html`
      ${t(["Moving down, a|rep a|have a|legsall.","Going down, a|rep a|have a|legsall."])}
      ${a("legs")}
    `);const s=i.getGenitalCovering();let n;s?n=[`a|Their genitals are covered by a|their ${s.rep()}, and underneath, `,`a|Their ${s.rep()} covers a|their genitals underneath, hiding the fact that `]:n=["a|Their genitals are exposed, and ","a|They a|wear nothing covering a|their nethers, and "],r.push(html`
      ${t(n)}
      ${t(["a|rep a|have a|agenitalall."])}
      ${a("dickshape")}
      ${t(["Deep inside a|their ass, a|they a|have a|aanusall.","Hidden inside a|their ass is a|their a|anusall."])}
    `),i.getTail()&&r.push(html`
        ${t(["a|Their spine extends, forming a|atailall.","a|Their a|tailall is just above a|their ass."])}
        ${a("tail")}
      `),r.push(html`
      ${t(["Finally, a|they a|have a|feetall."])}
    `),e.push(setup.DOM.create("p",{},r))}{const r=i.getMissingInnateTraits(),s=i.getNonInnateSkinTraits();if(r.length||s.length){const n=[];n.push(html`
        ${t(["a|Rep a|have been visibly transformed,","a|Reps body a|have been visibly changed,"])}
      `),s.length&&n.push(html`
          gaining ${s.map(l=>l.rep())}${r.length?", while ":"."}
        `),r.length&&n.push(html`
          missing ${r.map(l=>l.rep())}.
        `),e.push(setup.DOM.create("p",{},n))}}{const r=[],s=setup.Text.Unit.Trait.describeAll(i,"per");s?r.push(html`
        ${setup.DOM.Util.twine(s)}
      `):i.isMindbroken()?r.push(html`
          ${t([`a|Rep a|have been mindbroken, and whatever skills and personalities
             a|they once had have been lost.
             a|They can now serve only as a hollowed-out fucktoy for yours and your slavers' pleasure.`])}
        `):r.push(html`
          ${t(["Nothing stands out about a|reps personality, which is rather outstanding by itself.","a|Rep a|have no personality whatsoever, and is a little bit eerie as a result."])}
        `),r.push(html`
      ${setup.DOM.Util.twine(setup.Text.Unit.Trait.describeAll(i,"skill"))}
    `),State.variables.bodyshift.isBodyshifter(i)&&r.push(html`
        ${setup.Text.replaceUnitMacros(`a|They a|is a known bodyshifter, capable of shifting from a|their current a|race body into
            a b|race one.`,{a:i,b:State.variables.bodyshift.getBody(i)})}
      `);const n=setup.Text.Unit.Trait.describeAll(i,"trauma");n&&r.push(html`
        ${t(["Recent experiences have temporarily traumatized a|rep.","a|Rep a|have been recently traumatized."])}
        ${setup.DOM.Util.twine(n)}
      `);const l=setup.Text.Unit.Trait.describeAll(i,"boon");l&&(n?r.push(html`
          ${t(["However, a|their spirits have also been lifted by recent events.","However, recent events have also lifted a|their spirits."])}
        `):r.push(html`
          ${t(["a|Reps spirits have been lifted temporarily from recent events.","Recent events have temporarily lifted a|reps spirits."])}
        `),r.push(html`
        ${setup.DOM.Util.twine(l)}
      `)),i.isSlaver()&&r.push(html`
        ${t(["a|Their preferred weapon is the a|weapon.","a|weapon is a|their weapon of choice."])}
      `);const u=i.getAllTraitsWithTag("perk");if(u.length){let p=[`a|They a|have learned the following perk${u.length>1?"s":""}:`,`a|They a|know the following perk${u.length>1?"s":""}:`];r.push(html`
        ${t(p)}
        ${u.map(c=>c.rep()).join("")}.
      `)}if(i.isSlaver()&&State.variables.fort.player.isHasBuilding("warroom")){const p=i.getPerkChoices();let c;i.isCanLearnNewPerk()?c=["a|They a|is capable of learning a new perk out of these","a|They can learn a new perk out of these"]:c=["a|They cannot learn a new perk right now, but a|have access to these","a|They already a|know too many perks, but otherwise a|they a|have access to these"],r.push(html`
        ${t(c)}
        ${setup.DOM.Util.message("perks",()=>html`<div class='helpcard'>
              ${p.map(d=>d.rep()).join("")}
            </div>
            `)}.
      `)}const h=i.getAllTraitsWithTag("blessingcurse");if(h.length){let p;p=[`a|They currently a|have the following curse/blessing${h.length>1?"s":""}:`,`a|They a|is blessed with the following curse/blessing${h.length>1?"s":""}:`],r.push(html`
        ${t(p)}
        ${h.map(c=>c.rep()).join("")}.
      `)}if(i.isInjured()){const p=State.variables.hospital.getInjury(i);let c;p>=10?c=["a|They a|is suffering from massive injuries, ","a|They a|is suffering from chronic injuries, "]:p>=4?c=["a|They a|is heavily injured, ","a|They a|is currently recovering from heavy injuries, "]:c=["a|They a|is lightly injured, ","a|They a|is currently sustaining minor injuries, "],r.push(html`
        ${t(c)}
        ${t([`and is expected to recover fully in ${p} weeks.`,`and would need to rest for ${p} more weeks.`])}
      `)}if(!i.isMindbroken()&&!i.isYou()){const p=State.variables.friendship.getFriendship(i,State.variables.unit.player);let c;i.isSlave()?c=[`a|They ${PA(p)} you.`]:c=[`a|They a|consider you a|their ${db(p)}.`],r.push(html`
        ${t(c)}
      `)}e.push(setup.DOM.create("p",{},r))}{const r=[],s=i.getParty();if(s&&r.push(html`
        ${t([`a|Rep a|is in ${s.rep()}.`])}
      `),!i.isHome()){r.push(html`
        ${t(["a|Rep a|is not currently available.","a|Rep a|is not currently available for work."])}
      `);const l=i.getQuest();l&&r.push(html`
          ${t([`a|They a|is away on ${l.rep()}, and should return within ${l.getRemainingWeeks()} weeks.`])}
        `);const u=i.getOpportunity();if(u&&r.push(html`
          ${t([`a|They a|is currently involved in ${u.rep()}`])}
        `),State.variables.leave.isOnLeave(i)){let h;if(State.variables.leave.isLeaveDurationUnknown(i))h=["It is unclear how long a|they will remain away from your company."];else{const p=State.variables.leave.getRemainingLeaveDuration(i);p==1?h=["a|They should return within a week from now."]:h=[`a|They should return within ${p} weeks.`]}r.push(html`
          ${t(h)}
          ${t("a|They")}
          ${State.variables.leave.getLeaveReason(i)}
        `)}}if(i.isSlaver()&&State.variables.fort.player.isHasBuilding(setup.buildingtemplate.moraleoffice)){const l=State.variables.friendship.getBestFriend(i);if(l){const u=State.variables.friendship.getFriendship(i,l);r.push(html`
          ${setup.Text.replaceUnitMacros(`
            a|Rep is closest to b|rep, which a|they a|consider a|their ${db(u)}.
          `,{a:i,b:l})}
        `)}}e.push(setup.DOM.create("p",{},r))}if(i.isSlave()){const r=[];r.push(html`
      ${t(["If a|rep was to become a slaver, a|their starting skills would be"])}
      ${setup.SkillHelper.explainSkillsWithAdditives(i)}.
    `),e.push(setup.DOM.create("p",{},r))}return setup.DOM.create("div",{},e)};function zA(i,e){return setup.DOM.Util.menuItemToolbar([de({text:`${setup.DOM.toString(setup.DOM.Util.level(i.getLevel()))} ${i.repLong()}`})].concat(e))}o(zA,"parseRosterMenuToolbar"),setup.DOM.Roster.show=function({units:i,actions_callback:e,menu:t,is_menu_generated_async:a,no_compact_display:r}){return setup.DOM.Util.filterAll({menu:t,filter_objects:i,display_callback:o(s=>{function n(){return zA(s,e(s))}o(n,"generateMenu");let l;return a?l=setup.DOM.Util.async(()=>n()):l=n(),!r&&State.variables.menufilter.get(t,"display")=="compact"?l:html`
          ${l}
          <div>
            ${setup.DOM.Card.unit(s,!0)}
          </div>
        `},"display_callback")})};function FA(i){return setup.DOM.Nav.link("(Go back)",()=>{if(State.variables.gUnitDetailReturnPassage){const e=State.variables.gUnitDetailReturnPassage;delete State.variables.gUnitDetailReturnPassage,setup.DOM.Nav.goto(e)}else i.isSlave()?setup.DOM.Nav.goto("Dungeons"):setup.DOM.Nav.goto("Lodgings")})}o(FA,"getBackButton"),setup.DOM.Menu.unitdetail=function(i){const e=[];if(e.push(html`
    <div>
      ${FA(i)}
    </div>
  `),e.push(zA(i,ik({unit:i,hide_details:!0}))),e.push(html`
    <div class="hide-unit-card-image">
      ${setup.DOM.Card.unit(i,!1)}
    </div>
  `),e.push(html`
    <div>
      ${setup.DOM.Menu.interactionpool(setup.interactionpool.unit,i)}
    </div>
    <hr/>
  `),e.push(html`
    <div>
      ${setup.DOM.Menu.unitdescription(i)}
    </div>
    <hr/>
  `),State.variables.fort.player.isHasBuilding("armory")){let t=i.getEquipmentSet(),a=null;i.isCanChangeEquipmentSet()&&(a=setup.DOM.Nav.link("(change)",()=>{State.variables.gUnit_key=i.key,setup.DOM.Nav.goto("UnitEquipmentSet")})),t?e.push(html`
      <div>
        ${setup.Text.replaceUnitMacros("a|Rep a|is currently wearing",{a:i})}
        ${t.rep()}:
        ${a}
      </div>
    `):(t=setup.EquipmentSet.getDefaultEquipmentSet(i),i.isSlave()?e.push(html`
      <div>
        ${setup.Text.replaceUnitMacros("a|Rep a|is currently naked:",{a:i})}
        ${a}
      </div>
    `):e.push(html`
      <div>
        ${setup.Text.replaceUnitMacros("a|Rep a|is currently wearing a|their own basic clothings:",{a:i})}
        ${a}
      </div>
    `)),e.push(setup.DOM.Card.equipmentset(t,!1,!1)),e.push(html`<hr/>`)}return e.push(html`
    <div>
      ${FA(i)}
    </div>
  `),setup.DOM.create("div",{},e)},setup.DOM.Menu.unitquicklist=function(){const i=State.variables.company.player.getUnits({});return i.sort((e,t)=>e.isSlaver()&&!t.isSlaver()?-1:t.isSlaver()&&!e.isSlaver()?1:e.getName().localeCompare(t.getName())),setup.DOM.Util.filterAll({menu:"unitquick",filter_objects:i,display_callback:o(e=>html`
        <div>
          ${e.isSlaver()?e.repBusyState(!0):""}${e.repLong()}<span class='toprightspan'>${e.getSubrace().rep()}</span>
        </div>
      `,"display_callback")})};function ID(i,e,t,a){return setup.qc.MissingUnitForever("slave").apply(a),setup.qc.Leave("gambler",'a|is recovering from being "mindbroken" by a demon',30).apply(a),html`
    ${setup.DOM.Card.dialogue({unit:t,dialogue:"You dared to offer a slave in such mental state, mortal? Well then, you shall receive just punishment!"})}
    <p>
      A few days later, a large crate was delivered to your fort, from somewhere in the Deepworld.
      Inside was two slaves, or rather, one slave, ${e.rep()} and also a completely unresponsive ${i.rep()}.
      It seems the demon had seen it fit to punish your slaver for trying to offer
      ${setup.Text.replaceUnitMacros(`demon|them a slave in such a state.
      Fortunately for you, gambler|reps mind seems fixable, given enough time to rest...`,{gambler:i,demon:t})}
    </p>
  `}o(ID,"mindbreak_slaver");function $D(i,e,t,a){return setup.qc.MissingUnitForever("slave").apply(a),setup.qc.BodyswapOneDirection("doll","slave").apply(a),setup.qc.ClearMentalTraits("doll").apply(a),setup.qc.Slave("doll").apply(a),html`
    ${setup.DOM.Card.dialogue({unit:t,dialogue:"Mmm, take this doll. I'm sure you will find it a fitting counterpart to what you have offered me."})}
    <p>
      From the gateway, ${e.rep()} was seemingly returned, launched headfirst onto the floor.
      But upon closer inspection, the slave was a completely different person that your original slave.
      They look absolutely similar in physical appearance, but this one is not mindbroken.
      However,
      the slave is completely devoid of any emotion or personality, just like a doll...
      Unnerving.
    </p>
  `}o($D,"doll");function OD(i,e,t,a){return setup.qc.Slaver("demon","a|was a demon who maintained a portal deep within the Deeprealm").apply(a),setup.qc.AddTitle("slave","quest_tainted_by_demons_0").apply(a),html`
    ${setup.DOM.Card.dialogue({unit:t,dialogue:"My, my, what an utterly delightful little slave. Nothing I've ever seen in the demon plane. Mind if I come out and play?"})}
    <p>
      From the gateway,
      ${e.rep()} appeared, crawling on all fours next to a demon.
      Even from afar, ${setup.Text.replaceUnitMacros("gambler|rep",{gambler:i})} could feel power emanating from the demon -- this must be one
      of the most powerful demons to reside within the plane.
      The demon has offered to join your company, out of pure curiosity
      on how you managed to obtain your hands on such a valuable slave.
      Even before you decide whether to accept or refuse, the demon has already marked
      ${e.rep()} permanently, tainting the slave with a demonic brand marking
      ${e.rep()} as the demon's property for all eternity.
    </p>
  `}o(OD,"services");function CD(i,e,t,a){return setup.qc.MissingUnitForever("slave").apply(a),html`
    ${setup.DOM.Card.dialogue({unit:t,dialogue:"Hmph, what a worthless slave. Worths nothing, and that's exactly what you're going to get."})}
    <p>
      Even after a few more days of waiting, nothing else came out from the portal.
      Perhaps offering such a low-valued slave was not such a bright idea...
    </p>
  `}o(CD,"nothing");function PD(i,e,t,a){return setup.qc.Blessing("gambler",1,null,!0).apply(a),html`
    ${setup.DOM.Card.dialogue({unit:t,dialogue:"Is this an insult?! You will pay for your insolence."})}
    <p>
      The next few moments came out in a chaos. ${e.rep()} was thrown out from the portal,
      followed by numerous balls of dark energy. Some hit ${setup.Text.replaceUnitMacros("gambler|rep",{gambler:i})},
      cursing the slaver...
    </p>
  `}o(PD,"curse");function LD(i,e,t,a){setup.qc.MissingUnitForever("slave").apply(a);const r=e.getSlaveValue();return setup.qc.Money(Math.round(r*1.1)).apply(a),html`
    ${setup.DOM.Card.dialogue({unit:t,dialogue:"Well well, this is a delightful little slave. I'm a fair demon, you will get your slave's worth back."})}
    <p>
      Coin started to stream out of the portal.
      ${setup.Text.replaceUnitMacros("gambler|Rep",{gambler:i})} scrambled to find whatever nearby ancient vase
      and jugs to contain the coins.
      In the end, your slaver ended with quite a bit of gold, a very fair amount considering the value of the
      slave.
    </p>
  `}o(LD,"money");function UD(i,e,t,a){return setup.qc.AddTitle("slave","quest_filled_by_demons_1").apply(a),html`
    ${setup.DOM.Card.dialogue({unit:t,dialogue:"Today is your lucky day, mortal, for I have no need for such a slave. They will be returned, with compliments."})}
    <p>
      A completely unresponsive ${e.rep()} fell from the portal with a thud.
      ${setup.Text.replaceUnitMacros(`After verifying that the slave is still alive, gambler|rep noted something has changed.
      Despite looking the same as before, something in the slave now draws people's attention to them.
      But whenever gambler|rep tried to point out the reason, gambler|they gambler|was at a loss.
      Either way, this will surely increase the slave's price in the right markets...`,{gambler:i})}
    </p>
    `}o(UD,"title");function ND(i,e,t,a){return setup.qc.PerkChaoticPersonality("slave").apply(a),html`
  ${setup.DOM.Card.dialogue({unit:t,dialogue:"You will have your slave back, mortal, and rejoice that I did not damage the worthless slut."})}
  <p>
    A completely unresponsive ${e.rep()} fell from the portal with a thud.
      There seems to be no change at all, and your slavers took it at face value.
      But when the slave regained consciousness, it was apparent that mentally,
      the slave is a completely different person.
      It's as if the slave's entire personality has been shattered and remade opposite...
    </p>
  `}o(ND,"personality_reverse");function HD(i,e,t,a){const r=e.getSlaveValue();setup.qc.Mindbreak("slave").apply(a),setup.qc.TraitReplaceExisting("slave",setup.trait.anus_gape).apply(a),setup.qc.TraitReplaceExisting("slave",setup.trait.vagina_gape).apply(a),setup.qc.Corrupt("slave");const s=e.getSlaveValue(),n=Math.max(r-s,1e3);return setup.qc.Money(Math.round(n*1.5)).apply(a),html`
  ${setup.DOM.Card.dialogue({unit:t,dialogue:"Amusing entertainment. It was a pleasant distraction from my usual group of toys, but I am finished now. You can have your slave back, as well as some money for the damages."})}
  <p>
    With a flash of dark light, ${e.rep()} reappeared from the portal,
      as well as a dark ominous chest.
      The slave looks quite different.
      In particular, the slave's gaze that was once relatively alert, now completely fazed,
      looking at nothing in particular.
      How the demon managed to break such a slave within just a few minutes of use, you would never know...
    </p>
  `}o(HD,"used_body");function BD(i,e,t,a){setup.qc.MissingUnitForever("slave").apply(a),setup.qc.BodyswapOneDirection("doll","slave").apply(a);const r=a.getActorUnit("doll"),s=e.getSlaveValue()-r.getSlaveValue();return setup.qc.AddValueTitles("doll",Math.round(s/2)).apply(a),setup.qc.Slave("doll").apply(a),html`
  ${setup.DOM.Card.dialogue({unit:t,dialogue:"I think I'll keep this slave. Ahah, you shall receive your reward -- a perfect copy, so you won't miss them."})}
  <p>
    The portal warps and fizzles, until a slave much like ${e.rep()} appeared daze from the
      portal.
      But while they may look alike, it is a completely different person, with different personalities
      to boot...
    </p>
  `}o(BD,"mirror_copy"),setup.DOM.Quest.gateway_gamble=function(i,e,t,a){const r=[];e.isMindbroken()?r.push(ID,$D):e.isHasTrait(setup.trait.value_high7)?r.push(OD):e.isHasTrait(setup.trait.value_low)?r.push(CD,PD):(r.push(LD,ND,HD,BD),e.isHasTitle("quest_filled_by_demons_1")||r.push(UD));const s=r[a.getSeed()%r.length];return s(i,e,t,a)},setup.DOM.Roster.bedchambersetslaver=function(i){const e=State.variables.company.player.getUnits({job:setup.job.slaver}).filter(t=>t!=i.getSlaver());return setup.DOM.Roster.show({menu:"unit",units:e,actions_callback:o(t=>[I({text:"Select",callback:o(()=>{i.setSlaver(t),setup.DOM.Nav.gotoreturn()},"callback")})],"actions_callback")})},setup.DOM.Roster.codeeditorreplaceunit=function(){return setup.DOM.Roster.show({menu:"unit",units:State.variables.company.player.getUnits({}),actions_callback:o(i=>[I({text:"Select",callback:o(()=>{State.variables.dtEditActor=="Target"?State.variables.compiledquest.unit_key=i.key:State.variables.compiledquest.actor_unit_key_map[State.variables.dtEditActor]=i.key,delete State.variables.dtEditActor,setup.runSugarCubeCommand("<<devgotoreturn>>")},"callback")})],"actions_callback")})},setup.DOM.Roster.dutyassign=function(i){const e=State.variables.company.player.getUnits().filter(t=>i.isCanUnitAssign(t));return setup.DOM.Roster.show({menu:"unitduty",units:e,is_menu_generated_async:!0,actions_callback:o(t=>{const a=[];a.push(I({text:"Select",callback:o(()=>{State.variables.gUnitSelected_key=t.key,i.assignUnit(t),setup.notify(`a|Rep a|is now assigned for ${i.rep()}.`,{a:t}),setup.DOM.Nav.gotoreturn()},"callback")}));const r=[],s=i.getTemplate().getRelevantSkills();for(const l in s){const u=setup.skill[l];t.getSkillFocuses().includes(u)&&r.push(html`${u.rep()}`)}const n=i.getTemplate().getRelevantTraits();for(const l in n){const u=setup.trait[l];t.isHasTraitExact(u)&&(n[l]>0?r.push(html`${u.rep()}`):r.push(html`${u.repNegative()}`))}return i.getTemplate().isHasTriggerChance()?r.push(html`
          Trigger chance: ${(i.getTemplate().computeChanceForUnit(t)*100).toFixed(2)}%
        `):i.getTemplate().isHasPrestigeAmount()&&r.push(html`
          ${setup.DOM.Util.prestige(i.getTemplate().computeChanceForUnit(t))}
        `),a.push(P({text:setup.DOM.create("div",{},r)})),a},"actions_callback")})},setup.DOM.Roster.equipmentsetequip=function(i){const e=State.variables.company.player.getUnits().filter(t=>t.isCanWear(i)&&t.getEquipmentSet()!=i);return setup.DOM.Roster.show({menu:"unitequipmentset",units:e,actions_callback:o(t=>{const a=[];return a.push(I({text:t.getEquipmentSet()?"Replace":"Equip",callback:o(()=>{hk(i,t),setup.DOM.Nav.gotoreturn()},"callback")})),t.getEquipmentSet()&&a.push(P({text:t.getEquipmentSet().rep()})),a},"actions_callback")})},setup.DOM.Roster.quest_enlightenmentofthesoul=function(i){const e=State.variables.company.player.getUnits({job:setup.job.slaver}).filter(t=>t!=State.variables.unit.player&&t.isHasDick()&&t!=i);return setup.DOM.Roster.show({menu:"unit",units:e,actions_callback:o(t=>[I({text:"Select",callback:o(()=>{const a=State.variables.settings.getGenderPreference(setup.job.slaver),r=setup.UnitBirth.generateChild(t,i,a);setup.qc.Event("enlightenment_of_the_soul___interlude2",0,{child:"child",pupil:"pupil"}).apply(setup.costUnitHelperDict({child:r,pupil:i})),setup.DOM.Nav.goto("OpportunityList")},"callback")})],"actions_callback")})},setup.DOM.Roster.rehireRetired=function(i){const e=setup.RETIRE_RERECRUIT_COST_MONEY;State.variables.company.player.substractMoney(e),State.variables.notification.disable(),State.variables.retiredlist.unretire(i),State.variables.company.player.addUnit(i,setup.job.slaver),State.variables.leave.leave(i,"a|is wrapping up ends in order to rejoin your company as a slaver proper",setup.RETIRE_RERECRUIT_AFK_WEEKS),State.variables.notification.enable(),setup.notify(`a|Rep a|have rejoined your company! a|They will need ${setup.RETIRE_RERECRUIT_AFK_WEEKS} weeks in order to wrap up things on a|their end first, however`,{a:i})},setup.DOM.Roster.selectunit=function({units:i,return_passage:e,unit_callback:t}){const a=[];return a.push(html`<div>${setup.DOM.Nav.return("(Cancel)")}</div>`),i.length?a.push(setup.DOM.Roster.show({units:i,menu:"unit",actions_callback:o(r=>[I({text:"Select",callback:o(()=>t?t(r):(State.variables.gUnitSelected_key=r.key,setup.DOM.Util.include(e)),"callback")})],"actions_callback")})):a.push(html`
      <div>
        ${setup.DOM.Text.danger("No eligible unit.")}
      </div>
    `),setup.DOM.create("div",{},a)},setup.DOM.Roster.selectunitforparty=function(i){return setup.DOM.Roster.show({menu:"unit",units:State.variables.company.player.getUnits({}).filter(e=>e.getParty()!=i),actions_callback:o(e=>{const t=[];return t.push(I({text:"Select",callback:o(()=>{e.getParty()&&e.getParty().removeUnit(e),i.addUnit(e),setup.DOM.Nav.goto()},"callback")})),e.getParty()&&t.push(P({text:html`
            ${setup.DOM.Text.dangerlite("Warning:")}
            this will remove this unit from ${e.getParty().rep()}
          `})),t},"actions_callback")})};function GD(i,e){const t=[];e.isCanFulfill(i)?t.push(I({text:"Select",callback:o(()=>{e.fulfill(i),setup.notify(`a|Rep a|have been sold to ${e.getSourceCompany().rep()}`,{a:i}),setup.DOM.Nav.goto("SlaveOrderList")},"callback")})):i.getParty()?t.push(P({text:html`
          <span data-tooltip="You cannnot sell units that are currently in a party. Remove them from the party if you wish to sell them.">
          ${setup.DOM.Text.dangerlite("Unit in party")}
          </span>
        `})):t.push(P({text:html`
          <span data-tooltip="A unit can only fulfill a slave order if they would give you at least 1g. Some quests would require the slave to have several of the critical traits in order to do so.">
          ${setup.DOM.Text.dangerlite("Price too low")}
          </span>
        `}));const a=[];return a.push(setup.DOM.Card.criteriatraitlist(e.getCriteria(),i,!0)),a.push(html` `),a.push(setup.DOM.Util.money(e.getFulfillPrice(i))),t.push(P({text:setup.DOM.create("span",{},a)})),t}o(GD,"slaveOrderMenuItems"),setup.DOM.Roster.slaveorderselect=function(i){const e=Object.values(State.variables.unit).filter(t=>i.isSatisfyRestrictions(t));return setup.DOM.Roster.show({menu:"unitso",units:e,is_menu_generated_async:!0,actions_callback:o(t=>GD(t,i),"actions_callback")})},setup.DOM.Pronoun={},setup.DOM.PronounYou={};function qD(i){return e=>e.isMale()?Ie.he[i]:Ie.she[i]}o(qD,"getFunc");function zD(i){return e=>e.isYou()&&i<Ie.you.length?Ie.you[i]:e.isMale()?Ie.he[i]:Ie.she[i]}o(zD,"getFuncYou");for(let i=0;i<Ie.they.length;++i)setup.DOM.Pronoun[Ie.they[i]]=qD(i),setup.DOM.PronounYou[Ie.they[i]]=zD(i);setup.DOM.pronounload=function(i,e){for(let t=0;t<Ie.he.length;++t)Ie.he[t]in i||(i[Ie.he[t]]=Ie[f_(b_(e),t)][t])},setup.DOM.Util.async=function(i,e){if(State.temporary.foctimed_is_tooltip)return setup.DOM.create("span",{},i());let t="";e&&(t="macro-timed-insert macro-timed-in");const a=setup.DOM.create("span",{class:t},[]);return setTimeout(()=>{const r=i();a.append(r)},1),e&&setTimeout(()=>$(a).removeClass("macro-timed-in"),Engine.minDomActionDelay),a},setup.DOM.Util.exception=function(i){const e=`Fort of Chains v${setup.VERSION}: ${State.variables.gDebug?" [YOU HAVE DEBUG MODE ACTIVE -- DO NOT REPORT BUGS INCLUDING THIS ONE WITH DEBUG MODE ACTIVE]":"The game has encountered an error. Please report this bug and provide a screenshot of this complete error and any other relevation information."}`,t=`${i.name}: ${i.message}`,a=[];a.push(html`
    <div class='error'>
      ${e}
    </div>
    <div class='error'>
      ${t}
    </div>
  `);const r=i.stack.split(`
`).map(s=>s.replace(/file:.*\//,"<path>/"));return a.push(html`
    <div class='error-source'>
      ${r.join("<br/>")}
    </div>
  `),console.error(`${e}
	${t}
	${r.join(`
`)}`),setup.DOM.create("div",{class:"error-view"},a)};function FD(i,e){if(!(i in setup.MenuFilter._MENUS))throw new Error(`menu ${i} not found`);const t=State.variables.menufilter.getMenuFilterToolbarRender(i,e);return setup.DOM.create("div",{class:"menu toolbar"},setup.DOM.Util.menuItemToolbar(t))}o(FD,"filterToolbarInternal"),setup.DOM.Util.filterAll=function({menu:i,filter_objects:e,display_objects:t,display_callback:a,style_override:r}){const s=[],n=State.variables.menufilter.getFilterFunc(i,e);if(State.variables.fort.player.isHasBuilding("greathall")){let p="";State.variables.menufilter.getOption(i,"sticky")?p="tagtoolbarsticky":p="",s.push(setup.DOM.create("div",{class:p},setup.DOM.createRefreshable("div",{class:"filtertoolbar"},()=>FD(i,e))))}const l=[],u=t||e;for(let p=0;p<e.length;++p){const c=e[p],d=u[p];try{l.push(html`
        <div data-filter-key="${c.key}">
          ${a(d)}
        </div>
      `)}catch(g){l.push(setup.DOM.Util.exception(g))}}let h="display: flex; flex-direction: column; ";return r&&(h=r),s.push(setup.DOM.Util.filterable("div",n,{class:"filtercontainer"},setup.DOM.create("div",{style:h},l))),s.push(html`
    <div class='lightgraytext filterwidgethidden${i}'>
    </div>
  `),setup.DOM.create("div",{},s)};function jA(i,e){const t=e().map(r=>r.toString()),a=i.querySelectorAll("[data-filter-key]");for(const r of a){const s=r.getAttribute("data-filter-key"),n=t.indexOf(s.toString()),l=$(r);n!==-1?(l.show(),l.css("order",String(n))):l.hide()}}o(jA,"updateFilterable"),setup.DOM.Util.filterable=function(i,e,t,a){const r=$(setup.DOM.create(i,t||{},a));return r.addClass("filterable"),r.data("filterable-callback",e),jA(r.get(0),e),r.get(0)},setup.DOM.Util.filterableRefresh=function(i){$(i).each((t,a)=>{const s=$(a).data("filterable-callback");s&&jA(a,s)})},setup.DOM.Util.friendship=function(i,e){let t="";return i>0&&(t="friendshipspanplus"),i<0&&(t="friendshipspanmin"),html`<span class="${t}">${e||""}${(Math.abs(i)/10).toFixed(1)}</span>`},setup.DOM.Util.help=function(i){return setup.DOM.Util.message("(?)",()=>{let e;return i instanceof Function?e=i():e=i,setup.DOM.create("div",{class:"helpcard"},e)})},setup.DOM.Util.Image={},setup.DOM.Util.Image.load=function({image_name:i,fallback:e,tooltip:t,image_class:a,extra_styles:r}){const s=window.IMAGES&&window.IMAGES[i]||i,n={src:s};a&&(n.class=a),r&&(n.style=r);let l=!1;const u=setup.DOM.create("img",n);return u.addEventListener("error",()=>{if(!l&&(l=!0,!s.endsWith(".png"))){const h=s.replace(/\.[^/]+$/,".png");if(u.src!==h){u.src=h;return}}e&&(u.src=e)}),t?setup.DOM.create("span",{"data-tooltip":t},u):u},setup.DOM.Util.Image.flipHorizontal=function(i){return html`
  <span class='flip-horizontal'>
    ${i}
  </span>
  `},setup.DOM.Util.Image.credits=function(i,e){let t;if(i&&"artist"in i)t=i;else if(i&&"getImageInfo"in i)t=i.getImageInfo();else return null;const a=(t==null?void 0:t.url)||e==="room"&&"https://gitgud.io/darkofocdarko/fort-of-chains/-/blob/master/docs/tileset_credits.md",r=(t==null?void 0:t.extra)||e==="room"&&"See URL for complete tileset credits";return t?html`
      <span class='artistinfo'>
        "${t.title||"Unknown Title"}" by ${t.artist||"Unknown Artist"}
        ${a?setup.DOM.Nav.linkExternal("(source)",a):""}
        (${t.license||"Unknown License"})
        ${r?`[${r}]`:""}
        ${t.imagepack?` : ${t.imagepack}`:""}
      </span>
    `:null},setup.DOM.Util.Image.contentimage=function(i){if(State.variables.settings.hidecontentimages)return null;const e=setup.ContentImage.getImageObjectIfAny(i);if(!e){if(State.variables.gDebug)throw new Error(`Missing content image: ${i}`);return null}return html`
    <figure class='content-image-figure'>
      ${setup.DOM.Util.onEvent("click",setup.repImg({imagepath:e.path,extra_class:"content-image"}),()=>{setup.Dialogs.openImage(e,e.info.title??"Unknown Title")})}
      <figcaption>
        ${setup.DOM.Util.Image.credits(e.info)}
      </figcaption>
    </figure>
  `},setup.DOM.Util.Image.flipHorizontal=function(i){return html`
  <span class='flip-horizontal'>
    ${i}
  </span>
  `},setup.DOM.Util.include=function(i){if(!Story.has(i))throw new Error(`Passage "${i}" does not exist`);const e=Story.get(i),t=document.createDocumentFragment();return new Wikifier(t,e.processText()),t},setup.DOM.Util.include_replace=function(i){if(!Story.has(i))throw new Error(`passage "${i}" does not exist`);return setup.DOM.Util.replaceUnitInFragment(setup.DOM.Util.include(i))},setup.DOM.Util.level=function(i){return html`
    Lv. <span class='levelspan'>${i}</span>
  `},setup.DOM.Util.menuItemToolbar=function(i){return setup.DOM.create("div",{class:"menu toolbar"},i.map(e=>e.get(0)))},setup.DOM.Util.message=function(i,e,t,a,r){const s=$(document.createElement("span")),n=$(document.createElement("a"));let l=i,u=t;l=l||setup.messageMacro.default,u&&(u=setup.DevToolHelper.stripNewLine(u)),l&&(l=setup.DevToolHelper.stripNewLine(l)),setup.isString(e)&&(e=setup.DevToolHelper.stripNewLine(e)),r&&n.addClass(r);const h=a;u=u||(l==="(+)"?"()":l);let p=h?null:$(document.createElement("span")),c=!1;return n.wiki(l).ariaClick(function(){if(!p&&h){p=$(document.createElement("span"));const d=setup.querySelectorRelative(s.get(0),h);d&&$(d).append(p)}if(p){if(s.hasClass("open"))u!==l&&n.empty().wiki(l),p.css("display","none");else if(u!==l&&n.empty().wiki(u),p.css("display","block"),!c){if(setup.isString(e))p.wiki(e);else{let d;e instanceof Function?d=e():d=e;const g=setup.DOM.create("span",{},d);p.append(g)}c=!0}s.toggleClass("open")}}),s.attr("id","macro-"+this.name+"-"+new Date().getTime()).addClass("message-text").append(n),p&&s.append(p),s.get(0)};function KA(i){return Number(i).toLocaleString()}o(KA,"formatMoney"),setup.DOM.Util.money=function(i){let e="";return i>0&&(e="moneyspanplus"),i<0&&(e="moneyspanmin"),setup.DOM.create("span",{class:e},`${KA(i)}g`)},setup.DOM.Util.moneyloss=function(i){let e="";return i>0&&(e="moneyspanmin"),i<0&&(e="moneyspanplus"),setup.DOM.create("span",{class:e},`${KA(i)}g`)},setup.DOM.Util.namebold=function(i){return html`
    <span class='namespan'>${i.getName()}</span>
  `},setup.DOM.Util.name=function(i){return html`${i.getName()}`},setup.DOM.Util.onEvent=function(i,e,t){const a={};return a[i]=r=>{r.currentTarget&&"value"in r.currentTarget?t(r.currentTarget.value):t(r)},setup.DOM.create("span",a,e)},setup.DOM.Util.outcome=function(i){return i=="crit"?setup.DOM.Text.success("Critical Success"):i=="success"?setup.DOM.Text.successlite("Success"):i=="failure"?setup.DOM.Text.dangerlite("Failure"):setup.DOM.Text.danger("Disaster")},setup.DOM.Util.prestige=function(i){let e="";return i>0?e="prestigespanplus":i<0&&(e="prestigespanmin"),setup.DOM.create("span",{class:e},`${i} prestige`)},setup.DOM.Util.unitRep=o(function(e){return e.isYou()?"you":e.rep()},"unitRep"),setup.DOM.Util.yourRep=o(function(e){let t=setup.DOM.Util.unitRep(e);if(t!="you"){const a=e.getDuty();let r;a?r=a.getName():e.isSlave()?r="slave":e.isRetired()?r="ex-slaver":e.isSlaver()?r="slaver":r=setup.Text.Unit.Trait.race(e),t=setup.Text.replaceUnitMacros(`your a|adj ${r} a|rep`,{a:e})}return t},"yourRep"),setup.DOM.Util.YourRep=o(function(e){return setup.capitalize(setup.DOM.Util.yourRep(e))},"YourRep"),setup.DOM.Util.table=function(i){const e=[];for(const t of i)e.push(setup.DOM.create("tr",{},t.map(a=>setup.DOM.create("td",{},a))));return setup.DOM.create("table",{class:"table"},setup.DOM.create("tbody",{},e))},setup.DOM.Util.replaceUnitInFragment=function(i){let e="";return[i,...i.querySelectorAll("*:not(script):not(noscript):not(style)")].reverse().forEach(({childNodes:[...t]})=>t.filter(({nodeType:a})=>a===document.TEXT_NODE).reverse().forEach(a=>{a.textContent=setup.Text.fixArticles(setup.Text.replaceUnitMacros(a.textContent),e),a.textContent.trim()&&(e=a.textContent)})),i},setup.DOM.Util.twine=function(i){const e=document.createDocumentFragment();return new Wikifier(e,setup.DevToolHelper.stripNewLine(i)),e},Macro.add("bantertext",{handler(){this.output.append(setup.DOM.Card.bantertext(this.args[0]))}}),Macro.add("inyourbuilding",{handler(){this.output.append(setup.DOM.Util.twine(setup.Text.Building.inYourBuilding(this.args[0])))}}),Macro.add("ugaggeddiscomfort",{handler(){this.output.append(setup.Text.Gagged.discomfort(this.args[0]))}}),Macro.add("ugaggedpleasure",{handler(){this.output.append(setup.Text.Gagged.pleasure(this.args[0]))}}),Macro.add("missingunitquest",{handler(){this.output.append(html`
    ${setup.DOM.Text.danger("The unit required to complete this quest no longer exists.")}
    This quest is no longer able to be completed. You should remove this quest.
  `)}}),Macro.add("topic",{handler(){this.output.append(setup.Text.topicnoun())}});function te(i,e,t,a){let r=t;setup.isString(t)&&(r=State.variables.unit[t]);let s=e(r);a&&(s=setup.Article(s)),i.append(setup.DOM.Util.twine(s))}o(te,"internalOutput$1");function Mi(i,e,t,a){let r=setup.selfOrObject(t,State.variables.unit),s;a?s=setup.selfOrObject(a,State.variables.unit):s=null;let n=e({unit:r,target:s});i.append(setup.DOM.Util.twine(n))}o(Mi,"internalOutputUnitTarget");const VA=["torso","back","head","face","mouth","eyes","ears","cbreast","breast","neck","wings","arms","hand","hands","legs","cfeet","clegs","ctorso","carms","cneck","ceyes","cnipple","ctail","cmouth","feet","foot","tail","dick","balls","vagina","anus","genital","cgenital","ass","nipple","nipples","hole","tongue","skin","scent","horns","teeth","belly","waist","dickorstrap","cum","cleavage","slaverbed","slavebed","foodtray","drinktray","punishment","lighting","tile","object","wall"];for(let i=0;i<VA.length;++i)(function(e){Macro.add(`u${e}`,{handler(){te(this.output,setup.Text.Unit.Trait[e],this.args[0])}}),Macro.add(`u${e}all`,{handler(){te(this.output,t=>setup.Text.Unit.Trait[e](t,!0),this.args[0])}}),Macro.add(`ua${e}`,{handler(){te(this.output,setup.Text.Unit.Trait[e],this.args[0],!0)}}),Macro.add(`ua${e}all`,{handler(){te(this.output,t=>setup.Text.Unit.Trait[e](t,!0),this.args[0],!0)}}),setup.MACROS_METADATA[`u${e}`]={info:`Describes the unit ${e}`,args:Q},setup.MACROS_METADATA[`u${e}all`]={info:`Describes the unit ${e}, including clothed status`,args:Q},setup.MACROS_METADATA[`ua${e}`]={info:`Describes the unit ${e}, and prepend an article`,args:Q},setup.MACROS_METADATA[`ua${e}all`]={info:`Describes the unit ${e}, including clothed status, and prepend an article`,args:Q}})(VA[i]);Macro.add("ubody","utorso"),Macro.add("ubodyall","utorsoall"),Macro.add("ubreasts","ubreast"),Macro.add("ubreastsall","ubreastall"),Macro.add("ucbreasts","ucbreast"),Macro.add("ucbreastsall","ucbreastall"),Macro.add("ucdick","ucgenital"),Macro.add("ucnipples","ucnipple"),Macro.add("uflavor",{handler(){te(this.output,i=>setup.Text.Unit.Trait.flavor(i,this.args[1]),this.args[0])}}),Macro.add("uequipment",{handler(){te(this.output,setup.Text.Unit.Equipment.equipmentSummary,this.args[0])}}),Macro.add("ubantertraining",{handler(){te(this.output,setup.Text.Banter.slaveTrainingText,this.args[0])}}),Macro.add("uadjphys",{handler(){te(this.output,i=>setup.Text.Unit.Trait.adjectiveRandom(i,"physical"),this.args[0])}}),Macro.add("uadjper",{handler(){te(this.output,i=>setup.Text.Unit.Trait.adjectiveRandom(i,"per"),this.args[0])}}),Macro.add("urace",{handler(){te(this.output,setup.Text.Unit.Trait.race,this.args[0])}}),Macro.add("uhomeland",{handler(){te(this.output,setup.Text.Unit.Trait.homeland,this.args[0])}}),Macro.add("uweapon",{handler(){te(this.output,setup.Text.Unit.Equipment.getWeaponRep,this.args[0])}}),Macro.add("uaweapon",{handler(){te(this.output,setup.Text.Unit.Equipment.getAWeaponRep,this.args[0])}}),Macro.add("uweaponall",{handler(){te(this.output,setup.Text.Unit.Equipment.getWeaponRepFull,this.args[0])}}),Macro.add("uadj",{handler(){te(this.output,i=>setup.Text.Unit.Trait.adjectiveRandom(i),this.args[0])}}),Macro.add("uadjgood",{handler(){te(this.output,i=>setup.Text.Unit.Trait.adjectiveGoodRandom(i),this.args[0])}}),Macro.add("uadjbad",{handler(){te(this.output,i=>setup.Text.Unit.Trait.adjectiveBadRandom(i),this.args[0])}}),Macro.add("uadv",{handler(){te(this.output,i=>setup.Text.Banter._getAdverb(i),this.args[0])}}),Macro.add("uadvcare",{handler(){te(this.output,i=>setup.Text.Banter._getAdverb(i,!0),this.args[0])}}),Macro.add("uadvabuse",{handler(){te(this.output,i=>setup.Text.Banter._getAdverb(i,!1,!0),this.args[0])}}),Macro.add("ustriptorso",{handler(){te(this.output,setup.Text.Unit.Equipment.stripTorso,this.args[0])}}),Macro.add("ustriplegs",{handler(){te(this.output,setup.Text.Unit.Equipment.stripLegs,this.args[0])}}),Macro.add("ustripanus",{handler(){te(this.output,setup.Text.Unit.Equipment.stripAnus,this.args[0])}}),Macro.add("ustripgenital",{handler(){te(this.output,setup.Text.Unit.Equipment.stripGenital,this.args[0])}}),Macro.add("ustripvagina",{handler(){te(this.output,setup.Text.Unit.Equipment.stripVagina,this.args[0])}}),Macro.add("ustripdick",{handler(){te(this.output,setup.Text.Unit.Equipment.stripDick,this.args[0])}}),Macro.add("ustripnipple",{handler(){te(this.output,setup.Text.Unit.Equipment.stripNipple,this.args[0])}}),Macro.add("ustripmouth",{handler(){te(this.output,setup.Text.Unit.Equipment.stripMouth,this.args[0])}}),Macro.add("uslaverstripall",{handler(){te(this.output,setup.Text.Unit.Equipment.slaverStripAll,this.args[0])}}),Macro.add("uyoustripanus",{handler(){te(this.output,setup.Text.Unit.Equipment.youStripAnus,this.args[0])}}),Macro.add("upunishreason",{handler(){te(this.output,setup.Text.Punish.punishreason,this.args[0])}}),Macro.add("uneedrescue",{handler(){te(this.output,setup.Text.Rescue.needrescue,this.args[0])}}),Macro.add("urescuenow",{handler(){te(this.output,setup.Text.Rescue.rescueNow,this.args[0])}}),Macro.add("upraisenoun",{handler(){te(this.output,setup.Text.Praise.noun,this.args[0])}}),Macro.add("uinsultnoun",{handler(){te(this.output,setup.Text.Insult.noun,this.args[0])}}),Macro.add("upetwhine",{handler(){te(this.output,setup.Text.Pet.whine,this.args[0])}}),Macro.add("uhobbyverb",{handler(){te(this.output,setup.Text.Hobby.verb,this.args[0])}}),Macro.add("ustripverb",{handler(){te(this.output,i=>setup.Text.Strip.verb(i,this.args[1]),this.args[0])}}),Macro.add("ustripshirtand",{handler(){te(this.output,setup.Text.Strip.takeoffshirtand,this.args[0])}}),Macro.add("ustrippantsand",{handler(){te(this.output,setup.Text.Strip.takeoffpantsand,this.args[0])}}),Macro.add("ustripequipmentand",{handler(){te(this.output,setup.Text.Strip.takeoffequipmentand,this.args[0])}}),Macro.add("ustripmouthand",{handler(){te(this.output,setup.Text.Strip.takeoffmouthand,this.args[0])}}),Macro.add("ustripeyesand",{handler(){te(this.output,setup.Text.Strip.takeoffeyesand,this.args[0])}}),Macro.add("ustripanusand",{handler(){te(this.output,setup.Text.Strip.takeoffanusand,this.args[0])}}),Macro.add("ustripgenitaland",{handler(){te(this.output,setup.Text.Strip.takeoffgenitaland,this.args[0])}}),Macro.add("unickname",{handler(){Mi(this.output,setup.Text.Greeting.nickname,this.args[0],this.args[1])}}),Macro.add("unicknamebad",{handler(){Mi(this.output,setup.Text.Greeting.nicknamebad,this.args[0],this.args[1])}}),Macro.add("ugreetingshort",{handler(){Mi(this.output,setup.Text.Greeting.short,this.args[0],this.args[1])}}),Macro.add("ugreetingfull",{handler(){Mi(this.output,setup.Text.Greeting.full,this.args[0],this.args[1])}}),Macro.add("ubusyshort",{handler(){Mi(this.output,setup.Text.Greeting.busyshort,this.args[0],this.args[1])}}),Macro.add("uyesmaster",{handler(){Mi(this.output,setup.Text.Slave.yesmaster,this.args[0],this.args[1])}});function YA(i,e,t,a){let r=$(document.createElement("span"));r.wiki(e(t,a)),r.appendTo(i)}o(YA,"internalOutput"),Macro.add("ubodyswap",{handler(){YA(this.output,setup.Text.Unit.Bodyswap.bodyswap,this.args[0],this.args[1])}}),Macro.add("uinsultrape",{handler(){YA(this.output,setup.Text.Insult.prerape,this.args[0],this.args[1])}});const jD=["bananas","slaves","humans","elves","orcs","neko","tigerkin","fairies","angels","dragonkin","lizardkin","foreigners","quests","adventuring","swords","axes","bows","dragons","cooking","mead","game","poetry","sports","exercise","muscle","sex","anal sex","oral sex","vaginal sex","pony slave","pet slave","music","painting","health","history","mathematics","animals","plants","dick","balls","vagina","anus","breasts","relationships","religion","politics","love life","crime","slaving career","knights","peasants","milk","trading","magic","northern vale","southern seas","western forests","eastern deserts","deep","bimbos","mindbroken slaves","fleshshaping","corruption","purification","duties","money","fame","fashion","armor","bondage","submissive slaves","dominant slavers","technology","romance","love","pets","education","mercenaries","pirates","whores","soldiers","raiders","demons","healers","healing","crafting","potions","trauma","equipments","work","combat","survival","stealth","slaving","knowledge","family","nipples","wings","tail","healsluts","friendship","rivalry","mistakes","triumphs","tomorrow","yesterday","next month","last month","next week","last week","hypnotism","domestic slaves","sissies","exhibitionism","edging","roleplaying","sex addiction","ghosts","nature","sleeping","puns","home","hygiene","science","tentacles","favors","eldritch abominations","Neko Port City","harems","low wages","wet dreams","dinner","indigestion","the Mist","the cold","the heat","old flames","sex protection","fungus","feet","barbells","chafing","cats","dogs","philosophy","tea","rumors","big butts","flat butts","cake","birthdays","injuries","dancing","prisoners","networking","one-night stands","orc tusks","elf ears","peach fuzz","other worlds","dildos","fresh fruits","the afterlife","sunrise","sunset","liquor","tail sex","missionary position","brothels","fire magic","water magic","earth magic","wind magic","dark magic","light magic","stale cheese","tentacle monster","insomnia","defiant slaves","mercenaries","wishing wells","undead","blindfolds","cream pie","virginity","monsters","vegetables","corpses"],KD=["you","your race","your gender","your personality","your skills","your career","the company","recent events","slaves","new slaves","their past life","humans","elves","the Kingdom of Tor","the City of Lucgate","orcs","neko","tigerkin","fairies","angels","dragonkin","lizardkin","foreigners","quests","recent quests","past quests","adventuring","swords","dragons","culture","cooking","hobbies","literature","art","entertainment","game","poetry","sports","exercise","muscle","sex","anal sex","oral sex","vaginal sex","pony slave","pet slave","music","painting","health","history","mathematics","animals","plants","dick","balls","vagina","anus","breasts","relationships","religion","politics","love life","crime","slaving career","knights","peasants","milk","trading","magic","northern vale","southern seas","western forests","eastern deserts","bimbos","mindbroken slaves","fleshshaping","corruption","purification","duties","your leadership","their friends","their rivals","the future","the past","the world","their dreams","money","fame","travel","the weather","food","fashion","armor","bondage","naked","submissive slaves","dominant slavers","technology","romance","love","pets","education","mercenaries","pirates","whores","soldiers","raiders","demons","healers","healing","crafting","potions","trauma","equipments","their background","their gender","their race","their personality","work","combat","survival","stealth","slaving","knowledge","social life","sex life","family","nipples","wings","tail","healsluts","friendship","rivalry","mistakes","triumphs","the fort","tomorrow","yesterday","next month","last month","next week","last week","hypnotism","breaking slaves","domestic slaves","sissies","exhibitionism","edging","roleplaying","sex addiction","ghosts","nature","sleeping","puns","home","hygiene","science","tentacles","favors","eldritch abominations","Neko Port City","harems","low wages","wet dreams","dinner","indigestion","the Mist","the cold","the heat","old flames","sex protection","a bad rash","fungus","feet","working out","saving up","getting new clothes","chafing","the thing","getting stains out of clothing","favorite songs","regular cats","weapon maintenance","holey underwear","wearing a mask while raiding","the ethics of slaving","philosophy","tea","rumors","that smell","tall people","short people","big butts","flat butts","cake","birthdays","injuries","scars","childhood friends","perfect handwriting","awful handwriting","new slavers","the meaning of your name","our glorious leader","dancing","prisoners","favorite slaves","networking","one-night stands","the night sky","orc tusks","elf ears","peach fuzz","other worlds","dildos","fresh fruits","the afterlife","sunrise","sunset","camp nightlife","elven hand-woven rugs","Southern Lands dragonspice","orc liquor","werewolf soaps","neko milk-mead","Northern fur coats","Lucgate pickpockets","Eastern crystal tooth-knives","Kingdom of Tor eggplant dishes","seaman-sucking sea serpents","Mist culinary","tail sex","missionary position","brothels","fire magic","water magic","earth magic","wind magic","dark magic","light magic","stale cheese","tentacle monster","bad hangover","insomnia","defiant slaves","your titles","your company's reputation","the latest quest","mercenaries","wishing wells","undead","blindfolds","cream pie","virginity","monsters","vegetables","corpses","bananas"];setup.Text.topicnoun=function(){return setup.rng.choice(jD)};const VD=[{verbs:["talked with b|rep","chatted with b|rep","gossiped with b|rep","discussed with b|rep","conversed with b|rep","practiced with b|rep","joked with b|rep","flirted with b|rep","schemed with b|rep","planned with b|rep","humored b|rep","hanged out with b|rep, talking","flirted with b|rep","spent time with b|rep, talking","befriended b|rep while discussing","advised b|rep","asked for b|reps advice","helped b|rep","relaxed with b|rep while talking","rested with b|rep while talking","supported b|rep while discussing","messed around with b|rep while talking","confessed to b|rep","gambled with b|rep while joking","agreed with what b|rep thinks","supported what b|rep thinks","gives consent on what b|rep thinks","learned b|reps opinions","exchanged opinions with b|rep","exchanged thoughts with b|rep","victimized something together with b|rep while talking","theorized with b|rep","enjoyed talking with b|rep","did maintenance work with b|rep while talking","ate together with b|rep while chatting","drinked together with b|rep while talking","bathed together with b|rep while talking","greeted b|rep","told a joke to b|rep","understood what b|reps thoughts are","shared a secret with b|rep","shared a bed with b|rep while talking","saluted b|rep","hugged b|rep","shared a story to b|rep","shared a book to b|rep","asked b|rep","praised b|rep","acknowledged b|reps knowledge","asked for b|reps knowledge","talked about b|reps past","calmed b|rep","cheered b|rep up","complimented b|rep","apologized to b|rep","commended b|rep","expressed admiration towards b|rep","flattered b|rep","commiserated with b|rep","tricked b|rep into thinking","lost to b|rep at skipping rocks, while idly speaking","pointed out shapes in the clouds to b|rep, while musing","idly honed a knife while talking to b|rep","sat around camp with b|rep, oiling up a blade while discussing","polished some armor to a mirror shine, while b|rep rambled on","sewed up torn clothes with b|rep while chatting","aired out some wet laundry with b|rep while talking","chopped wood with b|rep while discussing","scrubbed b|reps back with a washcloth while talking","dug into b|reps meal, stopping in between bites to discuss","choked down some stale biscuits together with b|rep, chatting","ate half a wheel of Northern Vale cheese, because of a bet with b|rep","gnawed on leathery werewolf-made jerky, pausing occasionally to talk to b|rep","shared a couple elven fruits with b|rep while conversing","shared a meal of neko paella with b|rep and chatted","watched as b|rep finished off an Eastern flatbread with rice, while talking","scarfed down an orc-style kebab that b|rep made, while b|rep blabbered",'sucked down a bowl of "dragon whisker" noodles together with b|rep, speaking',"wondered if the raw fish b|rep caught was good enough to make sushi, while chatting","handed b|rep some of the weak local table beer, while chatting","downed a shot of werewolf potato-liquor while rambling to b|rep","cracked open a cask of Northern Vale stout with b|rep to talk","downed a bottle of neko mead together with b|rep, while discussing","cried into a glass of elven wine, confessing to b|rep","stared at a fruit-laden cocktail concoction from Lucgate, while conversing with b|rep","sipped a cup of Eastern coffee while talking with b|rep","mixed a spoonful of neko honey into b|reps coffee, while gossiping","brewed a pot of tea while chatting with b|rep","swilled around the tea dregs while speaking to b|rep","marveled at the draconic firewater that b|rep brought, who spoke","flaunted a|their a|body at b|rep to show a|their point","asked b|rep if b|they would have a time to discuss","won b|rep over with a|their superior knowledge on"]}],YD=[{verbs:["intimidated b|rep about","punched b|rep because of","slapped b|rep because of","pranked b|rep because of","insulted b|rep about","offended b|rep about","slighted b|rep about","snubbed b|rep because of","slandered b|rep about","kicked b|rep because of","hit b|rep because of","fought with b|rep because of","disagreed with b|rep about","debated with b|rep about","contradicted b|rep about","clashed with b|rep about","challenged b|reps authority about","challenged b|reps skills about","challenged b|reps opinions about","belittled b|reps authority about","belittled b|reps skills about","belittled b|reps opinions about","annoyed b|rep about","argued with b|rep about","disputed b|rep about","altercated with b|rep about","confronted b|rep about","trashed b|rep about","provoked b|rep about","took issue with b|rep about","opposed b|rep about","defied b|rep about","discredited b|rep about","trash-talked b|rep about","humiliated b|rep about","mortified b|rep about","shunned b|rep because of","spurned b|rep about","disparaged b|rep about","scorned b|rep about","defamed b|rep about","bitched to b|rep about","complained to b|rep about","protested to b|rep about","criticized b|rep about","denounced b|rep about","condemned b|rep about","attacked b|rep about","bad-mouthed b|rep about","roasted b|rep about","displeased b|rep about","irritated b|rep about","angered b|rep about","survived some of b|reps home cooking by conversing about","denied b|rep any of the Northern whale-butter because of a disagreement over","stole b|reps Wasteland rock candy, while pretending to talk about","spilled hot orc curry on b|rep during a heated discussion regarding","chucked a bowl of soup at b|rep, after an argument about","got wasted on sake and started a brawl with b|rep over","almost vomited when hearing b|reps opinions about","let out a sigh after discussing","disturbed by b|reps opinion on","disturbed b|rep by describing in too much details about","annoyed b|rep by repeatedly asking b|them about","questioned b|reps opinion on","had a disagreement with b|rep about","slapped b|reps ass in response to b|their opinion on","berated b|rep about","played a prank on b|rep themed after","silently judged b|reps thoughts on"]}],JD=[{verbs:["kissed b|rep","caressed b|rep","hugged b|rep","made love with b|rep","slept with b|rep","smooched b|rep","praised b|rep","had a small chat with b|rep","had sex with b|rep","had a small chat with b|rep","embraced b|rep","danced with b|rep","stripped for b|rep","put on a show for b|rep","dressed sexily for b|rep","invited b|rep for some sexy time","gave b|rep a surprise sex","climaxed together with b|rep","talked dirtily with b|rep","played with b|reps nipples","enjoyed b|reps body","rested together with b|rep","serviced b|rep","victimize a slave together with b|rep","aroused b|rep","stared at b|reps eyes","gazed at b|reps face","exchanged kisses with b|rep","tongue-kissed with b|rep","licked b|reps body","smelled b|reps armpits","touched body with b|rep","locked in a kiss with b|rep","touched b|reps face","sang for b|rep","ate privately with b|rep","put a sexy attire for b|rep","made b|rep horny","caressed b|reps body","shaked ass for b|rep"]},{initiator:["per_submissive"],verbs:["submitted to b|rep","offered body to b|rep","offered genitals to b|rep","role-played as a slave for b|rep","role-played as a fucktoy for b|rep","worshipped b|rep"]},{target:["muscle_strong"],verbs:["touched b|reps muscles","groped b|reps muscles","traced b|reps muscles"]},{target:["muscle_thin"],verbs:["appreciated b|reps b|body","traced b|reps waist"]},{target:["per_submissive"],verbs:["dominated b|rep","objectified b|rep","toyed with b|reps b|body","manhandled b|rep","played master-slave with b|rep"]},{initiator:["per_dominant"],target:["per_submissive"],verbs:["abused b|rep"]},{initiator:["dick_tiny"],target:["vagina_tight"],verbs:["fucked b|rep in the pussy","pussy-fucked b|rep"]},{target:["vagina_tight"],verbs:["ate b|reps pussy","fingered b|reps pussy","played with b|reps clit"]},{initiator:["dick_tiny"],verbs:["anally fucked b|rep","came on top of b|rep","offered dick to b|rep"]},{initiator:["vagina_tight"],verbs:["pussy-sit on b|rep","offered vagina to b|rep"]},{target:["dick_tiny"],verbs:["gave b|rep a blow job","gave b|rep a hand job","groped b|reps b|dick","gave b|rep$ a surprise orgasm"]},{target:["breast_tiny"],verbs:["groped b|reps b|breasts","played with b|reps b|breasts"]},{initiator:["breast_tiny"],target:["breast_tiny"],verbs:["collided breasts with b|rep"]}],WD=[{verbs:["cared for b|rep","appeased b|rep","fostered b|rep","nurtured b|rep","stimulated b|rep","healed b|rep","took care of b|rep","looked after b|rep","watched over b|rep","aided b|rep","enriched b|rep","helped b|rep","strengthened b|rep","helped b|rep recover","talked with b|rep","supported b|reps slave duties","gently used b|rep","gently fuck b|rep","gently have sex with b|rep","tended b|rep","cheered b|rep","guarded b|rep","catered to b|rep","shared a story with b|rep","left b|rep alone","gave b|rep some food","fed b|rep","groomed b|rep","petted b|rep","hugged b|rep","stroked b|rep","caressed b|rep","fondled b|rep","patted b|rep","cuddled b|rep","pampered b|rep","indulged b|rep","embraced b|rep","reassured b|rep","comforted b|rep","encouraged b|rep","soothed b|rep","calmed b|rep","pacified b|rep","lulled b|rep","taught b|rep","allayed b|reps fears","allowed b|rep to rest","sang a lullaby for b|rep","gave b|rep some rest"]}],QD=[{verbs:["abused b|rep","punished b|rep","mistreated b|rep","fucked b|rep","manhandled b|rep","ill-treated b|rep","misused b|rep","molested b|rep","hit b|rep","beat b|rep","bullied b|rep","tortured b|rep","roughed b|rep up","disgraced b|rep","dehumanized b|rep","kicked b|rep","maltreated b|rep","used b|rep","violated b|rep","ravaged b|rep","harmed b|rep","harassed b|rep","tormented b|rep","forced b|rep to lick a|their armpits","forced b|rep to lick a|their a|genital","humiliated b|rep","shamed b|rep","edged b|rep","whipped b|rep","flogged b|rep","pinched b|reps nipples","twisted b|reps nipples","pulled b|reps nipples","degraded b|rep","made b|rep lick a|their a|anus","made b|rep eat a|their a|ass","spanked b|rep"]},{initiator:["dick_tiny"],verbs:["face-fucked b|rep","sprayed b|reps face with cum","anally fucked b|rep","made b|rep choke on a|their a|dick","came in b|reps b|anus","made b|rep suck a|their a|dick","made b|rep deepthroat a|their a|dick","dickslapped b|rep","made b|rep kiss a|their a|dick","made b|rep lick a|their a|dick"]},{target:["dick_tiny"],verbs:["tortured b|reps b|dick","stepped on b|reps b|dick","made b|rep eat b|their own cum","edged b|rep","played with b|reps b|dick","clamped b|reps b|dick","spanked b|reps b|dick","shocked b|reps b|dick","slapped b|reps b|dick","pinched b|reps b|dick"]},{target:["breast_tiny"],verbs:["tortured b|reps b|breasts","stepped on b|reps b|breasts","made b|rep drink b|their own milk from b|their b|breasts","fondled b|reps b|breasts","played with b|reps b|breasts","clamped b|reps b|breasts","spanked b|reps b|breasts","shocked b|reps b|breasts","slapped b|reps b|breasts","pinched b|reps b|breasts"]},{target:["balls_tiny"],verbs:["tortured b|reps b|balls","stepped on b|reps b|balls","made b|rep eat b|their own cum","fondled b|reps b|balls","played with b|reps b|balls","clamped b|reps b|balls","spanked b|reps b|balls","shocked b|reps b|balls","slapped b|reps b|balls","pinched b|reps b|balls"]},{target:["vagina_tight"],initiator:["dick_tiny"],verbs:["vaginally fucked b|rep","filled b|reps b|vagina with cum","played with b|reps b|vagina","inserted dildos into b|reps b|vagina","abused b|reps b|vagina"]}],ZD=["a|spit defiance with a|their every word","a|look at their captors deviantly","a|crave a|their freedom","a|angrily looks at your slavers","a|continue to mock your slavers","a|continue defying most of commands given to a|them","still a|believe a|they a|is a free person","still a|believe in being rescued one day","a|is still holding on to foolish concepts such as freedom","defiantly a|swear given any opportunity","a|try to defy a|their training","a|remain untamed","a|continue to cling to hope","defiantly a|disobey the commands given to a|them","intentionally a|go against a|their given commands","a|break a|their slave rules","still a|abhor the concept of slavery","passionately a|hate your company","a|is angered by a|their predicament","a|continue to swear to end your company"],XD=["a|have a blank look","always a|remain unfocused","a|remain in a constant daze","always a|sport the same expression","a|is unresponsive to stimulus","a|drool continuously","a|is unable to process any information","a|do not understand a|their situation","a|is completely mindbroken","a|have completely lost a|their higher thought process","a|is nothing more than a hollowed-out fucktoy","a|is always staring into the distance","a|maintain an unfocused gaze","a|is unable to process any commands","a|is unable to understand anything that is happening around a|them","a|have already lost a|their capability of thinking","a|possess pupils that never move around","a|give your slavers a blank stare","a|do not respond to your slavers' abuse","a|have neither free nor enforced will"],eI=[["reluctantly a|ask for","uncomfortably a|ask for","a|is made to beg for","unwillingly a|ask for","a|is forced to ask for"],["a|beg for","a|crave","a|have been trained to beg for","a|seek","a|ask permission for"],["cannot help but beg for","intensely a|crave","instinctively a|seek","a|is willing to do anything for","constantly a|degrade a|themself in hope for","a|have undergone extensive training to always crave"]],tI={training_obedience_basic:["a|their next order","a|their next instructions","the next command from a|their","a|their owner's instructions","permission from a|their owner","order from a|their owner","a|their owner's orders","a|their owner's orders","your orders","your instructions"],training_oral_basic:["dick to suck","cum to swallow","dick to deepthroat","dick to lick","dick to worship with a|their mouth","a|their owner's dick to be shoved into a|their mouth","a|their owner's dick to spray cum all over a|their mouth","a|their owner's cum to lick off the floor","a dildo to suck while waiting for a|their next serving of dick","your genitals"],training_anal_basic:["dick to be shoved into a|their ass","dick to fill a|their ass with cum","dicks to fill a|their ass","dicks to penetrate a|their needy ass","dick to pleasure with a|their ass","a|their owner's dick to be shoved into a|their ass","a|their owner's dick to fill a|their ass full with cum","several dicks to fill a|their ass full","a dildo to plug over a|their ass while waiting for a|their next serving of dick","your genitals"],training_vagina_basic:["dick to be shoved into a|their vagina","dick to fill a|their vagina with cum","dicks to fill a|their vagina","dicks to penetrate a|their needy vagina","dick to pleasure with a|their vagina","a|their owner's dick to be shoved into a|their vagina","a|their owner's dick to fill a|their vagina full with cum","several dicks to fill a|their vagina full","a dildo to plug over a|their vagina while waiting for a|their next serving of dick","your genitals"],training_sissy_basic:["owner to pleasure","owner to service","owner to show off a|their feminineness","dicks to worship","dicks to prostrate a|themself before","a|their owner's genitals to worship","a|their owner's body to worship","your genitals","your body"],training_pet_basic:["a|their owner to play fetch with","a|their owner to sniff","a|their owner's feet to lick clean","a|their owner's genitals to lick","a|their owner's shoes to lick clean","dog bowl to eat from","dicks to eat from as a reward","a|their owner for a walkie","your feet to lick","you to play fetch with"],training_pony_basic:["a|their owner to be ridden","a|their owner to smell","a|their owner to use a|them as the beast of burden a|they a|is","a|their owner riding crop to whip a|them with","a|their owner's carriage to pull","through to eat from","a|their owner's attention","a|their owner's care","you and your riding crop","you to ride a|them"],training_dominance_basic:["a submissive slave to dominate","a|their owner to ask for the next slave to dominate","fellow slave to dominate","others to dominate","weaker minded people to dominate","a|their owner for permission to dominate others","other slaves to whip","other slaves to discipline","other slaves to train","you for permission to use your slaves"],training_masochist_basic:["a|their owner's abuse","being abused","being tortured by a|their owner","a|their owner to punish them","more punishment","more pain","punishments from your slavers","hard whipping","your abuse","you to abuse a|them"],training_toilet_basic:["a|their owner's piss","being used as a toilet","being used as an urinal","a|their owner's bodily fluids","being installed in your toilet","being pissed on","your slavers' piss","being used as a living toilet","your piss","you to use a|them as a toilet"],training_endurance_basic:["a|their owner's command","being used as a chair","being used as a footstool","being used as a decoration","a|their owner to play with a|their body","a|their owner to play with a|their genitals","being installed as a statue","being installed as a living decoration","being used as your chair","being molested by you"],training_horny_basic:["a|their owner's instructions","a|their owner's orders","being edged","being allowed to cum","a|their owner permission to cum","a|their owner permission to get hard","a|their genitals to be manhandled","permission to cum","your permission to cum","your next order"],training_roleplay_basic:["fantasies to fulfill","plays to enact","a|their owner's darkest desires","a|their owner's secret desires","a|their owner's fantasies","mirror to practice speech","your deepest secret fantasies"],training_domestic_basic:["rooms to clean","bathrooms to clean","floors to swipe","a|their owner to serve","your slavers to serve","dirty rooms to wipe clean","menial tasks to complete","a|their owner to give a|them orders","your orders","your fort dirtiest places to clean"]};setup.Text.Banter._getRandom=function(i,e,t){let a=[];for(let s=0;s<i.length;++s){let n=i[s],l=!0;if(n.initiator)for(let u=0;u<n.initiator.length;++u){let h=setup.trait[n.initiator[u]];if(!e.isHasTrait(h)){l=!1;break}}if(l){if(n.target)for(let u=0;u<n.target.length;++u){let h=setup.trait[n.target[u]];if(!t.isHasTrait(h)){l=!1;break}}l&&a.push([n.verbs,n.verbs.length])}}if(!a.length)throw new Error("??? eligibles missing???");setup.rng.normalizeChanceArray(a);let r=setup.rng.sampleArray(a);return setup.rng.choice(r)},setup.Text.Banter._getTopic=function(){return setup.rng.choice(KD)},setup.Text.Banter._getAdverb=function(i,e,t){let a=[],r=i.getSpeech(),s=r.getAdverbs();e?(r==setup.speech.friendly||r==setup.speech.cool||r==setup.speech.witty)&&(a=a.concat(s)):t?r!=setup.speech.friendly&&(a=a.concat(s)):a=a.concat(s),a=[].concat(i.getSpeech().getAdverbs());let n=i.getAllTraitsWithTag("per");for(let l=0;l<n.length;++l){let u=n[l].text();if(!(e&&!u.care)&&!(t&&!u.abuse)&&"adverbs"in u){let h=u.adverbs;a=a.concat(h)}}return a.length?setup.rng.choice(a):""},setup.Text.Banter._generateSlaver=function(i,e,t){let a=null,r=null;t<0?(a=YD,r=""):i.getLover()==e?(a=JD,r=setup.rng.choice(["as a reward for","for","rewarding","after appreciating","after a show of","appreciating","as an appreciation for","to show appreciation for","while fantasizing about","all while thinking about"])):(a=VD,r=setup.rng.choice(["about","on the topic of","regarding","concerning","on the subject of"]));let s=setup.Text.Banter._getRandom(a,i,e),n=setup.Text.Banter._getAdverb(i),l;return t>=0&&i.getLover()==e?(l=setup.Text.Praise.noun(e),l=`b|their ${l}`):l=setup.Text.Banter._getTopic(),`a|Rep ${n} ${s} ${r} ${l}.`},setup.Text.Banter._generateSlave=function(i,e,t){let a=null,r=null;t>0?(a=WD,r=setup.Text.Banter._getAdverb(i,!0)):(a=QD,r=setup.Text.Banter._getAdverb(i,!1,!0));let s=setup.Text.Banter._getRandom(a,i,e),n=setup.Text.Banter.slaveTrainingText(e);return`a|Rep ${r} ${s}. ${n}.`},setup.Text.Banter.generate=function(i,e,t){if(!i.isSlaver())throw new Error("Banter initiator must be a slaver");let a;return e.isSlave()?a=setup.Text.Banter._generateSlave(i,e,t):a=setup.Text.Banter._generateSlaver(i,e,t),setup.Text.replaceUnitMacros(a,{a:i,b:e})},setup.Text.Banter.slaveTrainingText=function(i){let e="";if(i.isMindbroken())e=setup.rng.choice(XD);else{let t=setup.UnitTitle.getMainTraining(i);if(t==setup.trait.training_none)e=setup.rng.choice(ZD);else{let a=t.getTraitGroup().getSmallestTrait(),r=t.getTraitGroup()._getTraitIndex(t),s=tI[a.key],n=eI[r],l=setup.rng.choice(n),u=setup.rng.choice(s);e=`${l} ${u}`}}return setup.Text.replaceUnitMacros(`a|Rep ${e}`,{a:i})},setup.Text.Building.inYourBuilding=function(i){let e;const t=setup.selfOrObject(i,setup.buildingtemplate).rep();return State.variables.fort.player.isHasBuilding(i)?e=[`in your ${t}`,`via your ${t}`]:e=[`once you build the ${t}`,`after you build the ${t}`],setup.rng.choice(e)},setup.Text.Dirty={};function aI(i,e,t){const a=[],r=[],s=t.getPace(i),n=t.getPace(e),l=i.getSpeech(),u=setup.Text.Greeting.nicknamebad({unit:i,target:e});let h=!1,p=!1;if(s==setup.sexpace.dom?(h=!0,a.push(`You ready to get fucked, ${u}?`,"I'm going to fuck you senseless!","You're my bitch now, understand?!",`I'm going to use you however I want, you fucking ${u}!`,"How best to use you, I wonder...",`I bet you can't wait for me to give you a good, hard fuck, can you, you worthless ${u}?`,"All you're good for is being my worthless fuck-toy!","You're just my pathetic little fuck-toy now, understand?! You belong to me!",`I love fucking a worthless ${u} like you!`)):s==setup.sexpace.normal?(h=!0,p=!0,a.push("This is going to be good!","Ready for some fun?","I'll be gentle, don't worry!",`You're going to be a good ${u} now, aren't you?`,"Let's have some fun!","You're going to love this!",`You're going to be a good ${u}`)):s==setup.sexpace.sub?(p=!0,a.push("Come on, fuck me already! Please!","Fuck me! Please!","What are you waiting for?! Come on, fuck me!","I'm so horny! Please, fuck me!",`I'll be a good ${u}!`,"I'll do whatever you want!")):s==setup.sexpace.resist?a.push("Go away! Leave me alone!","Stop it! Just go away!","Please stop! Don't do this!"):s==setup.sexpace.forced?(h=!0,p=!0,a.push("What is your command?","I'll be a good slave...","I will obey...")):s==setup.sexpace.mindbroken&&a.push("..."),l==setup.speech.witty&&(i.getLover()==e&&a.push("Life without you is like a broken pencil: pointless.","Do you have a map? I keep getting lost in your eyes.","You must be tired from running through my mind all night.","We're not socks, but I think we'd make a great pair."),[setup.sexpace.dom,setup.sexpace.normal].includes(s)&&i.isSlaver()&&e.isSlaver())){const c=e.isMale()?"handsome":"beautiful";if(a.push("Know what's on the menu? Me 'n' u.","Are you a loan? Because you sure have my interest!","Any chance you have an extra heart? Mine's been stolen!","If you were a chicken, you'd be impeccable.","Are you a broom? Because you've swept me off my feet.",`You're so ${c} that you made me forget my pickup line.`,"Something's wrong with my eyes, because I can't take them off you."),t.getBlockingEquipment(i,setup.sexbodypart.breasts)){let g;i.isMale()?g="Boyfriend":g="Girlfriend",a.push(`Feel my shirt. Know what it's made of? ${g} material.`)}}return n==setup.sexpace.dom?p?r.push(`Yes! You ready to get fucked, ${u}?`,"Yes, I'm going to fuck you senseless!","Yeah, you're my bitch now, understand?!",`I'm going to use you however I want, you fucking ${u}!`,`You just can't wait for me to give you a good, hard fuck, can you, you worthless ${u}?`,"Yes! All you're good for is being my worthless fuck-toy!","Yes! You're just my pathetic little fuck-toy now, understand?! You belong to me!",`Yes! I love fucking a worthless ${u} like you!`):r.push("Come on, fuck me hard!","Fuck me hard now!","Well then, what are you waiting for?! Come on, fuck me!","I'm so horny! Fuck me now!"):n==setup.sexpace.normal?r.push("Yes! This is going to be good!","Yes! Ready for some fun?","Yes! Let's have some fun!","Yes! You're going to love this!"):n==setup.sexpace.sub?h?r.push("Yes! I'm your little slut! Take me however you want!","Yes! I'm yours! Use me! Do what you want with me!","Yeah! I'm your worthless little bitch! Fuck me!","Yes, I'm your worthless slut! Use me like your little fuck-toy!"):r.push("Yes! I'm your little slut! Order me however you want!","Yes! I'm yours! Order me! Command me anything!","Yeah! I'm your worthless little bitch! Order me around!","Yes, I'm your worthless slut! Abuse me like your little fuck-toy!"):n==setup.sexpace.resist?r.push("No! Go away! Leave me alone!","No! Stop it! Just go away!","No! Please stop! Don't do this!"):n==setup.sexpace.forced?(h=!0,p=!0,r.push("Yes, anything you command...","Yes, I'll be a good slave...","Yes, I will obey...")):n==setup.sexpace.mindbroken&&r.push("..."),{unit_dialogue:setup.SexUtil.convert(a,{a:i,b:e},t),target_dialogue:setup.SexUtil.convert(r,{a:i,b:e},t)}}o(aI,"noPenetrationDialogue"),setup.Text.Dirty.talk=function({unit:i,target:e,sex:t,unit_bodypart:a,target_bodypart:r,unit_pace:s,target_pace:n,strip:l}){const u=State.temporary.gSex;if(!t){const g=setup.SexInstance.initParticipants([i,e]);if(t=new setup.SexInstance(setup.sexlocation.dungeonsfloor,g),State.temporary.gSex=t,a.isCanPenetrate(r))t.setOngoing(i,a,e,r);else if(r.isCanPenetrate(a))t.setOngoing(e,r,i,a);else throw new Error(`${a.key} cannot interact with ${r.key}`);s&&t.setPace(i,s),n&&t.setPace(e,n),l&&t.displaceAllEquipments(),a==setup.sexbodypart.penis&&!i.isHasDick()&&t.equipTemporarily(i,setup.equipment.strapon),r==setup.sexbodypart.penis&&!e.isHasDick()&&t.equipTemporarily(e,setup.equipment.strapon)}const h=t.getAllOngoing(i);let p=null;if(h.length&&(p=setup.rng.choice(h)),s=t.getPace(i),n=t.getPace(e),!p)return aI(i,e,t);const c=JA(i,e,p,t);let d;return e.isCanTalk()?d=JA(e,i,p,t):[setup.sexpace.resist,setup.sexpace.forced,setup.sexpace.dom].includes(n)?d=setup.Text.Gagged.discomfort({unit:e}):d=setup.Text.Gagged.pleasure({unit:e}),u?State.temporary.gSex=u:delete State.temporary.gSex,{unit_dialogue:c,target_dialogue:d}};function JA(i,e,t,a){if(t.unit!=i&&(t=a.getBodypartOther(t.unit,t.bodypart)),t.unit!=i)throw new Error("??? penetration unit is not me?");const r=t.bodypart,s=a.getBodypartOther(t.unit,t.bodypart).bodypart;let n,l;a.getBodypartPenetrationTarget(t.unit,t.bodypart)?(n=!1,l=r.repFuck(i,a)):(n=!0,l=s.repFuck(e,a));const u=setup.Text.Greeting.nicknamebad({unit:i,target:e}),h=a.getPace(i);let p=[];if(n){const c=s.rep(e,a),d=s.repSimple(e);r.rep(i,a);const g=r.repSimple(i);h==setup.sexpace.normal?(p.push(`That's right, be a good ${u} now and push your ${c} in deeper!`,`Good ${u}! Keep that ${c} of yours busy!`,`Good ${u}! Push your ${c} in deep!`,`What a good ${u}! My ${g} loves the feeling of your ${c}!`,`What a good ${u}! Enjoy my ${g} as your reward now!`,`That's right, push your ${c} in deep!`,`Good ${u}! Get those ${c} in deep!`),s==setup.sexbodypart.penis&&p.push(`Good ${u}! Keep sliding that delicious ${c} of yours in and out of me!`,`You like feeling my ${g} gripping down on your ${c}?!`,`Keep going! Get that ${c} in deep like a good ${u}!`)):h==setup.sexpace.dom?p.push(`Come on ${u}, you can get your ${c} in deeper than that!`,`Keep it up ${u}! Get those ${c} in deep!`,`Keep going ${u}! Put in a little more effort and insert it all in!`,`That's right ${u}, you're my little fuck toy now!`,`Come on ${u}! You can get your worthless ${d} in deeper than that!`,`Fucking ${u}, put some more effort in! My ${g} deserves better than your worthless ${d}!`):h==setup.sexpace.sub?p.push(`Yes! Keep ${l}ing me!`,`Keep going! My ${g} loves your attention!`,`Oh yes! I love being ${l}ed!`,"Yes! Fuck me! Fuck me harder! Don't stop!","Don't stop! Harder! Fuck me! Yes, yes, yes!",`Oh yes! Fuck me! I love your ${d}!`):h==setup.sexpace.resist?p.push(`Get your ${d} out of me! Stop! Please!`,`Stop ${l}ing me! Please, no more!`,"Stop it! Stop! Please!","Get out of me! Stop! Please!",`Please, no more! Take your ${d} out!`,"Get out of me! Stop! Please!"):h==setup.sexpace.forced?p.push("Ugh... agh...","Oooh... I will obey...","Ugh... as you ordered..."):h==setup.sexpace.mindbroken&&p.push("...gasp!","...mmmm!","...!"),s==setup.sexbodypart.mouth&&(h==setup.sexpace.dom?p=[`That's right ${u}, keep eating me out like the worthless little fuck toy you are!`,`Come on ${u}! Get that tongue of yours in deeper!`,`Fucking ${u}, put some more effort in! You know how lucky you are, being allowed to taste my ${g} like this?!`]:h==setup.sexpace.normal?p=["That's right, keep eating me out!",`Good ${u}! Keep that tongue of yours busy!`,`What a good ${u}! You love the taste of my ${g}, don't you?!`,"Oh yes! Get that tongue in deep!",`Good ${u}! Get that tongue of yours in deep!`,`Keep going! My ${g} loves your ${d}!`]:h==setup.sexpace.sub&&(p=[`Yes! I love your ${c}! Don't stop!`,"Don't stop! Deeper! Eat me out! Yes, yes, yes!",`Oh yes! Taste my ${g}! I love your ${d}! Get it deeper!`])),r==setup.sexbodypart.breasts&&(h==setup.sexpace.dom?p=[`That's right slut, my ${g} could use some attention from a little fuck toy like you!`,`Come on ${u}! You can get your worthless ${d} deeper between my ${g} than that!`,`Fucking ${u}, put some more effort in! My ${g} deserve better than your worthless ${d}!`]:h==setup.sexpace.normal?p=[`My ${g} love your ${c}!`,`Good ${u}! Keep sliding that delicious ${d} of yours between my ${g}!`,`What a good ${u}! Enjoy my ${g} as your reward now!`,`You like feeling my ${g} gripping down around your ${d}?!`,`Good ${u}! Push your ${c} deep between my ${g}!`,`Keep going! Get that ${c} between my ${g} like a good ${u}!`]:h==setup.sexpace.sub&&(p=[`Yes! Fuck my ${g}! Fuck them harder! Don't stop!`,`Don't stop! Harder! Fuck my ${g}! Yes, yes, yes!`,`Oh yes! Fuck my tits! I love your ${c}!`])),r==setup.sexbodypart.mouth&&(h==setup.sexpace.dom?p=[`Hold still ${u}, be a good little fuck toy and just be thankful that I love sucking cock!`,`Stay still ${u}! You'd better be happy that your worthless ${d} is the only thing for me to suck right now!`,`Fucking ${u}, hold still! I need to practice my oral skills on your worthless ${d}!`]:h==setup.sexpace.normal?p=[`I love your ${c}!`,`Good ${u}! Your delicious ${d} deserves this nice reward!`,`What a good ${u}! I hope you're enjoying your reward!`,`Your ${c} tastes so good!`,`I love sucking your ${d}!`,`Oh yes! Your ${d} tastes so good!`]:h==setup.sexpace.sub&&(p=[`Oh yes! I love your ${d}! I need it! Use my throat!`,"Don't stop! Harder! Fuck my throat! Yes, yes, yes!",`Oh yes! I love your ${c}! You taste so good!`]))}else{const c=r.rep(i,a),d=r.repSimple(i),g=s.rep(e,a),m=s.repSimple(e);h==setup.sexpace.normal?(p.push(`Good ${u}! Feel my ${d} slide deep into your ass!`,`That's right, be a good ${u} and moan for me! Feel my ${c} sliding deep into your ${m}!`,`Your ${m} feels so good squeezing down around my ${d}!`,`Fuck! Your ${m} feels so good!`,`Oh yes! Take my ${d}! Take it deep!`,`Your ${m} was made for my ${d}!`),r==setup.sexbodypart.penis&&p.push("Take my entire length! Take it all in!")):h==setup.sexpace.dom?(p.push(`That's right ${u}, take my ${d}! Your ${g} belongs to me!`,`What a horny ${u}! Take my ${d} you filthy little ${u}!`,`You feel that, fuck toy?! Do you feel my ${d} sinking deep into your slutty little ${m}?!`),r==setup.sexbodypart.penis&&p.push(`I'm going to insert my entire length, so get ready you ${u}!`)):h==setup.sexpace.sub?p.push(`Yes! Use my ${d}! I love your ${m}!`,`Don't stop! Harder! Use my ${d}! Yes, yes, yes!`,`Oh yes! Use me! I love your ${m}!`):h==setup.sexpace.resist?p.push("I don't want to do this! Please let me stop!","Let me go! I don't want to do this!","Please! Stop! I don't want this!"):h==setup.sexpace.forced?p.push("Ohh, it feels good...","As you command...","Anything you ask for..."):h==setup.sexpace.mindbroken&&p.push("..."),s==setup.sexbodypart.breasts&&(h==setup.sexpace.dom?p=[`That's right slut, pleasure my cock! Push your ${m} together and make this good for me!`,`What a horny ${u}! Using your ${m} to please my ${d} like a desperate ${u}!`,`You like this, fuck toy?! Squeezing your ${m} around my ${d} and pleasing me like the ${u} you are?!`]:h==setup.sexpace.normal?p=[`Good ${u}! Feel my cock slide up between your ${m}!`,`That's right, be a good ${u} and moan for me! Feel my ${d} sliding up between your ${m}!`,`Your ${m} feel so good squeezing down around my ${d}!`,`Fuck! Your ${m} feel so good to fuck!`,`Oh yes! Wrap your ${m} around my cock!`,`Your ${m} were made for my cock!`]:h==setup.sexpace.sub&&(p=[`Yes! Use my cock! I love your ${m}!`,"Don't stop! Harder! Fuck me! Yes, yes, yes!",`Oh yes! Use me! I love your ${m}!`])),s==setup.sexbodypart.mouth&&(h==setup.sexpace.dom?p=[`Come on you ${u}! You can suck cock better than that!`,`That's right ${u}! Take my ${d} deep down your throat!`,`Put some effort into it ${u}! You can suck cock better than that!`]:h==setup.sexpace.normal?p=[`Good ${u}, keep sucking my ${d}!`,`That's right, use your tongue as well! You're good at sucking ${d}!`,`What a good ${u}! You love sucking my ${d}, don't you?`,"You're good at sucking cock!",`Oh yeah! Keep sucking my ${d}!`,"Use your tongue as well! Yeah, like that!"]:h==setup.sexpace.sub&&(p=[`Yes! Keep sucking my ${d}! Just like that!`,`Oh yes! Wrap those lips of yours around my ${d}! Keep going!`,`Keep sucking my ${d}! Yes! Just like that!`])),r==setup.sexbodypart.mouth&&(h==setup.sexpace.dom?p=[`Keep still ${u}, I need to practice my oral skills on your worthless ${m}!`,`Stay still ${u}! Just keep moaning and enjoying this while it lasts!`,`You'd better appreciate this ${u}! You know how lucky you are, being used as oral practice?!`]:h==setup.sexpace.normal?p=[`That's right, moan for me as I pleasure your ${m}!`,`Good ${u}! I love licking cute little ${m} like yours!`,`What a good ${u}! You love my tongue in your ${m}, don't you?`,`That's right, moan for me as I lick your ${m}!`,`Feel my tongue deep in your ${m}! Moan for me!`,`You love my tongue in your ${m}, don't you?`]:h==setup.sexpace.sub&&(p=[`Yes! I love your ${m}! Feel my tongue pushing deep!`,`Oh yes! Let me lick your ${m}! Yes, yes, yes!`,`Oh yes! I love licking ${m}! Let me get my tongue nice and deep!`]))}return setup.SexUtil.convert(p,{a:i,b:e},a)}o(JA,"yesPenetrationDialogue"),setup.Text.Gagged={},setup.Text.Gagged.discomfort=function({unit:i}){const e=["Mmph!! Mmmph!!","Mmm-mmph!","Mmmpphh!","Hmmmpff!!","Mmmmrrrff!!","Mmm-mmgh!"];return setup.rng.choice(e)},setup.Text.Gagged.pleasure=function({unit:i}){const e=["Mmmphh~~~","Mmmph... mmmph...","Mmmph~","mmmMMMmmphh...","Mmmph?! Mmmphh...","Mmmghh... mmghh~"];return setup.rng.choice(e)},setup.Text.Greeting={};function WA(i,e){return e.isMale()?"master":"mistress"}o(WA,"getMasterNickname"),setup.Text.Greeting.nickname=function({unit:i,target:e}){if(e||(e=State.variables.unit.player),i.isSlave()&&!e.isSlave())return WA(i,e);const t=i.getSpeech();let a=["b|name"];if([setup.speech.bold,setup.speech.friendly,setup.speech.witty,setup.speech.debauched].includes(t)){e.isYou()&&a.push("boss","chief");let n;e.isMale()?n="guy":n="girl",e.isHasTrait(setup.trait.muscle_strong)&&(e.isMale()&&a.push("hunk"),a.push(`strong ${n}`)),e.isHasTrait(setup.trait.tough_tough)&&a.push(`tough ${n}`),e.isHasTrait(setup.trait.height_tall)&&a.push(`big ${n}`)}[setup.speech.bold,setup.speech.witty,setup.speech.debauched].includes(t)&&(e.isYou()&&(e.isMale()?a.push("bossman"):a.push("bosswoman")),e.isHasTrait("face_attractive")&&(e.isMale()?a.push("handsome"):a.push("gorgeous")),(e.isHasTrait("breast_large")||e.isHasTrait("dick_large"))&&a.push("sexy"),e.isHasTrait("skill_hypnotic")&&a.push("charming")),[setup.speech.witty,setup.speech.debauched].includes(t)&&(e.isHasTrait("height_short")&&a.push("dwarfy"),(e.isHasTrait("anus_gape")||e.isHasTrait("anus_loose"))&&a.push("gapey"),e.isHasTrait("corrupted")&&a.push("corruptey"),e.isHasTrait("per_slow")&&a.push("dumby"),e.isHasTrait("face_scary")&&a.push("ugly")),State.variables.friendship.getFriendship(i,e)>=500&&a.push("friend");const r=State.variables.family.getRelation(e,i);if(r&&(a=r.getNicknames()[t.key]),i.getLover()==e){if(a=["love"],t==setup.speech.friendly)a.push("honey","darling","sugar","dearest");else if(t==setup.speech.bold)a.push("baby","hun","bunny","angel");else if(t!=setup.speech.cool)if(t==setup.speech.witty)a.push("charming"),e.isMale()?a.push("princey"):a.push("princess");else if(t==setup.speech.debauched)a.push("hottie","sexy","tasty","delicious"),e.isMale()?a.push("hunk","handsome"):a.push("your sexiness","gorgeous");else throw new Error(`Unrecognized speech pattern: ${t.key}`)}const s=i.Seed(`nicknamefor${e.key}`);return setup.Text.replaceUnitMacros(a[s%a.length],{a:i,b:e})},setup.Text.Greeting.short=function({unit:i,target:e}){const t=[];e||(e=State.variables.unit.player);let a=setup.Text.Greeting.nickname({unit:i,target:e});const r=i.getSpeech();if(r==setup.speech.friendly)t.push(`Hey ${a},`,`Heya ${a},`,`Hi ${a},`,`How's it going ${a},`,`Hey there ${a},`,`Oh hey, ${a},`);else if(r==setup.speech.bold)t.push(`Oh ${a},`,`Hey ${a}, `,`Hey ${a},`,`Heh ${a},`,`Hello to you ${a},`,`Heya ${a},`,`Ahoy ${a},`);else if(r==setup.speech.cool)t.push(`Hey ${a}, `,`...${a},`,"...,");else if(r==setup.speech.witty)t.push(`Well if it isn't ${a},`,`Why hello there ${a},`,`Welcome ${a},`,`Heh heh it's ${a},`,`Perfect timing ${a},`,`Oh, it's just ${a},`);else if(r==setup.speech.debauched)t.push(`Ah, it's ${a},`,`Oho, it's ${a},`,`Hmm, hi ${a},`,`Well well ${a},`,`Hey there ${a},`,`Hi ${a},`),i.isFemale()&&t.push(`Ara, it's ${a},`);else throw new Error(`Unrecognized speech pattern: ${r.key}`);i.isHasTrait("bg_priest")&&r!=setup.speech.debauched&&t.push(`Blessings upon you ${a},`,`Good tidings on you ${a},`),i.isHasTrait("bg_farmer")&&r!=setup.speech.debauched&&t.push("Howdy partner,","Howdy pardner,"),i.isHasAnyTraitExact(["bg_pirate","bg_seaman"])&&t.push(`Arr, it's ${a},`,`Y'arr ${a},`,`Ahoy ${a},`);const s=setup.rng.choice(t);return setup.Text.replaceUnitMacros(s,{a:i,b:e})},setup.Text.Greeting.full=function({unit:i,target:e}){e||(e=State.variables.unit.player);const t=[];let a=setup.Text.Greeting.nickname({unit:i,target:e});const r=setup.Text.Greeting.short({unit:i,target:e}),s=i.getSpeech();if(s==setup.speech.friendly)t.push(`${r} how are ya?`,`${r} how's it going?`,`${r} glad to see you.`,`${r} happy to see you.`,`${r} always glad to see you.`,`${r} need me for something?`);else if(s==setup.speech.bold)t.push(`${r} something on your mind?`,`${r} came to admire me?`,`${r} come nearer!`,`${r} come around!`,`${r} nice to see ya!`);else if(s==setup.speech.cool)t.push("b|name.","...","Hmm?",`${r} do you need me?`,`${r} hmm?`);else if(s==setup.speech.witty)t.push(`${r} miss me?`,`${r} miss me already?`,`Would you look at that, it's ${a}!`,`Ooo, ${a} welcome!`,`Why, it's ${a}!`);else if(s==setup.speech.debauched)t.push(`${r} come to stare at my magnificence or just here to talk?`,`${r} come to admire me haven't you?`,`${r} come don't be shy!`,`${r} need something from little old me hmm?`,`${r} welcome, welcome!`);else throw new Error(`Unrecognized speech pattern: ${s.key}`);const n=setup.rng.choice(t);return setup.Text.replaceUnitMacros(n,{a:i,b:e})},setup.Text.Greeting.busyshort=function({unit:i,target:e}){const t=[];e||(e=State.variables.unit.player);let a=setup.Text.Greeting.nickname({unit:i,target:e});const r=setup.Text.Greeting.short({unit:i,target:e}),s=i.getSpeech();if(s==setup.speech.friendly)t.push(`${r} sorry a little busy right now`,`Sorry ${a} I'm a bit busy right now`,`${r} but I'm a bit busy right now`,`${r} sorry I really have work to do right now`,`Uh ${a}? Sorry I'm a bit busy right now`,`${r} talk later? I really have some work to do right now`);else if(s==setup.speech.bold)t.push(`Hey ${a}, can't you see I'm busy right now? I have work to do`,`${r} I'm busy right now`,`${r} but I'm busy right now`,`${r} not now, I'm busy`,`${r} catch up with you later, I'm busy`);else if(s==setup.speech.cool)t.push(`${r} I'm busy`,"Urgh..., I'm busy",`${r} sorry got work to do`,"...Busy right now",`${r} not now, I'm busy`);else if(s==setup.speech.witty)t.push(`${r} as much as I'd love to spend more time with you, I'm busy for once`,`${r} unlike a certain someone, I have work to do`,`${r} must be nice being you, but I'm busy right now`,`${r} come here to help with my work? Believe it or not, I really have a lot of work to do today`,`${r} I'm not drinking on the job I swear. I'm actually busy`);else if(s==setup.speech.debauched)t.push(`${r} but why don't you come back tomorrow. I'm a bit busy`,`${r} but the door's over there. I'm busy`,`${r} sorry, are you lost? I'm busy`,`${r} heh heh come to substitute me at my job? I could use some slaves why you're busy`,`${r} as much as I'd love to go into the dungeons with you together, I'm actually busy`);else throw new Error(`Unrecognized speech pattern: ${s.key}`);const n=setup.rng.choice(t);return setup.Text.replaceUnitMacros(n,{a:i,b:e})},setup.Text.Greeting.nicknamebad=function({unit:i,target:e}){e||(e=State.variables.unit.player);const t=i.getSpeech();let a=["slut"];e.isSlave()&&a.push("slave"),e.isMale()&&a.push("bitch");const r=setup.Text.Unit.Trait.adjectiveBadRandom(e),s=setup.rng.choice(a);a.push(`${r} ${s}`),[setup.speech.bold,setup.speech.witty,setup.speech.debauched].includes(t)&&(e.isHasTrait("height_short")&&a.push("dwarfey"),(e.isHasTrait("anus_gape")||e.isHasTrait("anus_loose"))&&a.push("gapey"),e.isHasTrait("face_scary")&&a.push("ugly"));const n=i.Seed(`nicknamebadfor${e.key}`);return setup.Text.replaceUnitMacros(a[n%a.length],{a:i,b:e})},setup.Text.Hobby={},setup.Text.Hobby.verb=function(i,e){return kR({unit:i,field:"hobby",trait:e})},setup.Text.Insult={},setup.Text.Insult.prerape=function(i,e){let t=[];if(e.isSlave()&&(e.isHasDick()&&!e.isHasTrait(setup.trait.dick_small)?t.push("You useless little bitch. Your pathetic cock is so small, no wonder you're a slave."):e.isHasDick()&&t.push("You big sad bitch. You've got a nice cock, haven't you? Too bad you're only good for taking dick now."),e.isHasTrait("training_vagina_advanced")&&t.push("You poor sorry slut. You think you're pretty good in bed, don't you? You have no fucking idea."),(e.isHasTraitExact("vagina_gape")||e.isHasTraitExact("anus_gape"))&&t.push("You poor gaping slut. You think you know what it's like to take a pounding, don't you? You have no fucking idea."),e.isHasTrait("muscle_strong")&&t.push("You poor big bitch. You think all these muscles can save you? You're gonna get raped."),e.isHasTrait("per_smart")?t.push("You book-smart slut. You think any of the classes you passed is going to save you from getting raped?"):t.push("You stupid slut. Too bad you never went to school, maybe you could have learned something and not ended up as a fuck slave.")),t.length<2){let a=setup.Text.Unit.Trait.adjectiveBadRandom(e);t.push(`You ${a} slut.`)}return setup.rng.choice(t)},setup.Text.Insult.noun=function(i){const e=i.getTraits(),t=i.getGender();let a=[];for(const r of e){const s=r.getTexts();s&&(a=a.concat(s.nounbad||[]),t==setup.trait.gender_male?a=a.concat(s.nounbadmale||[]):a=a.concat(s.nounbadfemale||[]))}return a.length?setup.rng.choice(a):"lifelessness"},setup.Text.Pet={},setup.Text.Pet.rearwag=function(i){const e=i.getTail(),t=i.getTailPlug();let a;!e&&!t?a="a|ass":a="a|ctail";let r=[`wagging a|their ${a} invitingly`,`cutely wagging a|their ${a}`,`obediently swaying a|their ${a} left and right like a pet dog`,`submissively swaying a|their ${a} left and right like a good pet`];return setup.Text.replaceUnitMacros(r,{a:i})},setup.Text.Pet.whine=function(i){let e;return i.isCanPhysicallyTalk()?e=["(Whines)...","(Whimpers)...","Yelp...!","Yip...!"]:e=["(Muffled whine)...","Mmph...?","Nnyh...?","Mrrlw...?"],setup.Text.replaceUnitMacros(e,{a:i})},setup.Text.Praise={},setup.Text.Praise.noun=function(i){const e=i.getTraits(),t=i.getGender();let a=[];for(const r of e){const s=r.getTexts();s&&(a=a.concat(s.noungood||[]),t==setup.trait.gender_male?a=a.concat(s.noungoodmale||[]):a=a.concat(s.noungoodfemale||[]))}return a.length?setup.rng.choice(a):"neutrality"},setup.Text.Punish={},setup.Text.Punish.getPunishReasonSlave=function(i){let e=`<<their "${i.key}">>`;`${i.key}`,`${i.key}`,`${i.key}`;let t=i.rep();const a=[];a.push(`${t} failed in to please ${e} owner`);let r=i.getTraits();return r.includes(setup.trait.training_none)&&a.push(`${t} acted disobediently`),i.isMasochistic()&&a.push(`the masochistic slave ${t} disobeys intentionally`),i.isCanOrgasm()||a.push(`${t} orgasmed without permission`),i.isCanTalk()||a.push(`${t} talked without permission`),r.includes(setup.trait.per_loner)&&a.push(`${t} accidentally insulted ${e} owner`),r.includes(setup.trait.per_lunatic)&&a.push(`${t} was being strange`),r.includes(setup.trait.per_chaste)&&a.push(`${t} showed discomfort when being used sexually`),i.isHasTrait(setup.trait.per_lustful)&&(i.isHasDick()?a.push(`${t} came without permission`):a.push(`${t} climaxed without permission`)),r.includes(setup.trait.per_frugal)&&a.push(`${t} hid a small amount of money`),r.includes(setup.trait.per_lavish)&&a.push(`${t} wasted food`),r.includes(setup.trait.per_proud)&&a.push(`${t} showed signs of defiance`),r.includes(setup.trait.per_humble)&&a.push(`${t} refused to help discipline another slave`),r.includes(setup.trait.per_brave)&&a.push(`${t} went overboard with ${e} advances`),r.includes(setup.trait.per_cautious)&&a.push(`${t} was not creative enough with ${e} advances`),r.includes(setup.trait.per_kind)&&a.push(`${t} helped another slave that was being punished`),i.isHasTrait(setup.trait.per_cruel)&&a.push(`${t} helped another slave under punishment`),r.includes(setup.trait.per_direct)&&a.push(`${t} forgot ${e} manners`),r.includes(setup.trait.per_sly)&&a.push(`${t} lied`),r.includes(setup.trait.per_dominant)&&a.push(`${t} overstepped ${e} borders`),r.includes(setup.trait.per_logical)&&a.push(`${t} corrected ${e} master unnecessarily`),r.includes(setup.trait.per_empath)&&a.push(`${t} showed pity to another disobedient slave`),r.includes(setup.trait.per_honorable)&&a.push(`${t} refused sex with an evil slaver`),r.includes(setup.trait.per_evil)&&a.push(`${t} schemed under ${e} owner's nose`),r.includes(setup.trait.per_attentive)&&a.push(`${t} commented unnecessarily`),r.includes(setup.trait.per_dreamy)&&a.push(`${t} did not pay attention`),r.includes(setup.trait.per_slow)&&a.push(`${t} was slow at their task`),r.includes(setup.trait.per_serious)&&a.push(`${t} looks unenthusiastic`),r.includes(setup.trait.per_loyal)&&a.push(`${t} showed excessive loyalty`),r.includes(setup.trait.per_independent)&&a.push(`${t} showed excessive disloyalty`),r.includes(setup.trait.per_playful)&&a.push(`${t} was naughty`),r.includes(setup.trait.per_stubborn)&&r.includes(setup.trait.training_none)&&a.push(`${t} stubbornly showed signs of defiance`),r.includes(setup.trait.per_studious)&&a.push(`${t} was unenthusiastic at physical acts`),r.includes(setup.trait.per_active)&&a.push(`${t} was lazy as their task`),a},setup.Text.Punish.getPunishReasonSlaver=function(i){let e=`<<their "${i.key}">>`;`${i.key}`,`${i.key}`,`${i.key}`;let t=i.rep();const a=[];a.push(`${t} said something wrong`),a.push(`${t} sneezed inappropriately`);let r=i.getTraits();return i.isMasochistic()&&a.push(`the masochistic slaver ${t} showed ${e} masochistic advances`),r.includes(setup.trait.per_loner)&&a.push(`${t} forgot ${e} manners`),r.includes(setup.trait.per_lunatic)&&a.push(`${t} indulged in a lunacy`),r.includes(setup.trait.per_chaste)&&a.push(`${t} kept averting ${e} gaze`),i.isHasTrait(setup.trait.per_lustful)&&a.push(`${t} gestured lustfully and inappropriately`),r.includes(setup.trait.per_frugal)&&a.push(`${t} selfishly cut mid-sentence`),r.includes(setup.trait.per_lavish)&&a.push(`${t} wasted food`),r.includes(setup.trait.per_proud)&&a.push(`${t} arrogantly delivered ${e} demands`),r.includes(setup.trait.per_humble)&&a.push(`${t} refused to join in the discussion`),r.includes(setup.trait.per_brave)&&a.push(`${t} went overboard`),r.includes(setup.trait.per_cautious)&&a.push(`${t} was not creative enough`),r.includes(setup.trait.per_kind)&&a.push(`${t} showed too much empathy`),i.isHasTrait(setup.trait.per_cruel)&&a.push(`${t} suggested something extremely cruel`),r.includes(setup.trait.per_direct)&&a.push(`${t} forgot ${e} manners`),r.includes(setup.trait.per_sly)&&a.push(`${t} lied`),r.includes(setup.trait.per_dominant)&&a.push(`${t} overstepped ${e} boundaries`),r.includes(setup.trait.per_logical)&&a.push(`${t} squealed in fear`),r.includes(setup.trait.per_loyal)&&a.push(`${t} showed excessive loyalty`),r.includes(setup.trait.per_independent)&&a.push(`${t} showed excessive disloyalty`),r.includes(setup.trait.per_empath)&&a.push(`${t} stated something subjective`),r.includes(setup.trait.per_honorable)&&a.push(`${t} suggested ending slavery`),r.includes(setup.trait.per_evil)&&a.push(`${t} schemed something evil`),r.includes(setup.trait.per_attentive)&&a.push(`${t} commented unnecessarily`),r.includes(setup.trait.per_dreamy)&&a.push(`${t} did not pay attention`),r.includes(setup.trait.per_slow)&&a.push(`${t} unable to follow the discussions`),r.includes(setup.trait.per_serious)&&a.push(`${t} responded unenthusiastically`),r.includes(setup.trait.per_playful)&&a.push(`${t} kept sidetracking the dicussions`),r.includes(setup.trait.per_stubborn)&&a.push(`${t} refused to change ${e} opinion`),r.includes(setup.trait.per_studious)&&a.push(`${t} refused to act`),r.includes(setup.trait.per_active)&&a.push(`${t} refused to study`),a},setup.Text.Punish.punishreason=function(i){let e=[];return i.isSlave()?e=setup.Text.Punish.getPunishReasonSlave(i):e=setup.Text.Punish.getPunishReasonSlaver(i),setup.rng.choice(e)},setup.Text.Rescue={},setup.Text.Rescue.needrescue=function(i){let e=State.variables.dutylist.getDuty("rescuer");if(e){const t=e.getAssignedUnit();let a=e.rep();if(t){const r=[`Hearing the news, you sighed audibly before ordering your ${a} a|rep to get to work`,`Your ${a} a|rep will have to work extra hard now`,`Time to inform your ${a} a|rep about a|their new task at hand`,`Best pray your ${a} a|rep can find b|rep in time`,`You consider bribing your ${a} a|rep to work faster and find b|rep`];return setup.Text.replaceUnitMacros(r,{a:t,b:i})}else{const r=[`If you want to see b|rep ever again, best assign someone to be your ${a}`,`You'd have assign someone to be your ${a} if you ever want to see b|rep again`,`Best start thinking about when to hire a ${a}`,`Maybe you can assign someone to be the company's ${a}`,`A skilled ${a} might be able to rescue b|rep`];return setup.Text.replaceUnitMacros(r,{b:i})}}else{let t=setup.buildingtemplate.rescueroffice.rep();const a=[`If you want to see b|rep ever again, best start building that ${t}`,`You'd have to build the ${t} if you ever want to see b|rep again`,`Best start thinking about when to build the ${t} you have always dreamed off`,`The ${t} improvement is mighty tempting to build now. You may want to consider building it`,`If you build the ${t}, you may be able to rescue b|rep`];return setup.Text.replaceUnitMacros(a,{b:i})}},setup.Text.Rescue.rescueNow=function(i){let e=[];return i.isSlaver()?e=["Hearing the news, you sighed audibly as you begin to work locating the slaver","You immediately get to work scouring information for where the slaver could be now. If you are quick, you can perhaps get the slaver back","Fortunately, tracking the slaver down will not be a problem if you are quick","You can probably get the slaver back if you are quick","You sighed as you are left with no choice but to gather information to rescue the slaver back"]:e=["You'll have to be quick if you want to recapture the slave back","You sighed as you immediately get to work scouring possible locations for the slave to recapture","Better get to work locating the slave now","Recapturing the slave will be possible if you are quick","Fortunately, it won't be too hard to track the escaped slave"],setup.Text.replaceUnitMacros(e,{a:i})},setup.Text.Slave={},setup.Text.Slave.yesmaster=function({unit:i,target:e}){const t=WA(i,e),a=[];return i.isObedient()?a.push(`Yes, ${t}.`,`I live to serve, ${t}.`,`As you ordered, ${t}.`,`I am your slave, ${t}.`,`At once, ${t}.`):a.push(`Yes, ${t}...`,`I will obey, ${t}...`,`Y-yes, ${t}...`,`...y-Yes, ${t}.`,`Have mercy please, ${t}...`),setup.Text.replaceUnitMacros(a,{a:i,b:e})},setup.Text.Strip={};const vf=["a|free a|themself of","a|unlock and a|free themself of"],vb=["a|remove","a|take off","a|take out","a|unplug"],Va=["a|remove","a|displace"],ck=["a|undo the bindings and a|get out of","a|unlatch the straps and a|strip out of"],dk=["a|unbuckle the fastenings and a|get out of","a|get out of the protective embrace of","a|unfasten the straps and a|strip out of","a|undo the buckles to get out of"];setup.Text.Strip.verb=function(i,e){const t=e.getSlot(),a=e;let r;return t==setup.equipmentslot.torso?a.getTags().includes("fake_clothes")?r=["a|pretend to take off","a|mime taking off",'"a|take off']:a.getTags().includes("harness")?r=ck:a.getTags().includes("armor")?r=dk:a.getTags().includes("restraints")?r=vf:r=["a|strip out of","a|remove","a|pull off","a|slip out of","a|strip out of"]:t==setup.equipmentslot.legs?a.getTags().includes("harness")?r=ck:a.getTags().includes("armor")?r=dk:a.getTags().includes("restraints")?r=vf:a.getTags().includes("fake_clothes")?r=["a|pretend to strip down",'"a|pull down"']:r=["a|pull down","a|get out of"]:t==setup.equipmentslot.rear?a.getTags().includes("armor")?r=["a|give up the little protection offered and a|take off","a|take off"]:a.getTags().includes("restraints")?r=vf:a.getTags().includes("clothes")?r=["a|slip off","a|take down"]:a.getTags().includes("fake_clothes")?r=["a|pretend to strip out of",'"a|slip off"']:a.getTags().includes("buttplug")||a.getTags().includes("dildo")?r=vb:r=["a|slip off","a|strip out of"]:t==setup.equipmentslot.genital?i.isHasVagina()?a.getTags().includes("dildo")?r=vb:r=Va:a.getTags().includes("chastity")?r=vf:a.getTags().includes("dickplug")?r=vb:r=Va:t==setup.equipmentslot.nipple?a.getTags().includes("nippleclamps")?r=["unclamp","remove"]:a.getTags().includes("nipplechains")?r=["unclamp","remove"]:r=Va:t==setup.equipmentslot.mouth?a.getTags().includes("mouthcover")?r=["a|take off","a|pull down","a|throw aside"]:a.getTags().includes("plaguemask")?r=["a|unmask from","a|discard"]:a.getTags().includes("dildogag")?r=["a|remove","a|take out the dildo from a|their throat and a|remove"]:(a.getTags().includes("gag"),r=Va):t==setup.equipmentslot.arms?a.getTags().includes("mitts")||a.getTags().includes("hooves")?r=["a|unlock","somehow a|remove"]:a.getTags().includes("harness")?r=ck:a.getTags().includes("armor")?r=dk:a.getTags().includes("fake_clothes")?r=['"a|remove"',"a|pretend to remove","a|mimic removing"]:a.getTags().includes("restraints")?r=vf:r=Va:t==setup.equipmentslot.feet?a.getTags().includes("hooves")?r=["a|get a|their a|feet out of","a|take a|their a|feet out of"]:r=["a|get out","a|take off"]:r=Va,setup.Text.replaceUnitMacros(r,{a:i})};function wi(i,e){if(!e||!e.isMakeBodypartUseless())return"";const a=`${setup.Text.Strip.verb(i,e)} a|their ${e} and`;return setup.Text.replaceUnitMacros(a,{a:i})}o(wi,"take_off_helper"),setup.Text.Strip.takeoffpantsand=function(i){return wi(i,i.getGenitalCovering())},setup.Text.Strip.takeoffshirtand=function(i){return wi(i,i.getChestCovering())},setup.Text.Strip.takeoffequipmentand=function(i){if(i.isNaked())return"";const e=setup.Text.Unit.Equipment.equipmentSummary(i);return setup.Text.replaceUnitMacros([`a|take off a|their ${e} and`,`a|strip out of a|their ${e} and`,`a|get out of a|their ${e} and`],{a:i})},setup.Text.Strip.takeoffmouthand=function(i){return wi(i,i.getEquipmentAt(setup.equipmentslot.mouth))},setup.Text.Strip.takeoffeyesand=function(i){return wi(i,i.getEquipmentAt(setup.equipmentslot.eyes))},setup.Text.Strip.takeoffanusand=function(i){return wi(i,i.getEquipmentAt(setup.equipmentslot.rear))},setup.Text.Strip.takeoffgenitaland=function(i){return wi(i,i.getEquipmentAt(setup.equipmentslot.genital))},setup.Text.Unit.background=function(i){let e=i.getTraits().filter(n=>n.getTags().includes("bg"));if(!e.length)return setup.Text.replaceUnitMacros(["a|Rep a|have no discernible background.","a|Rep a|have no background that you know of."],{a:i});const t=i.getRace(),a=i.getSubrace();let r=i.getJob(),s=[];for(let n=0;n<e.length;++n){let l=e[n],u=null,h=null,p=null;if(l==setup.trait.bg_farmer)u="came from a rural background where a|they growed crops and vegetables      as well as handle farm animals",h="Since humans are animals after all, some of these skills will surely      come in handy during a slaving career",p="Now a|they must have learned how the animals must have felt under a|their care";else if(l==setup.trait.bg_noble)u="used to lived in relative luxury and well-provided for.      As a result, a|rep received better education than most as well as some martial training",p="a|They should now use a|their better education to learn fast how to be a good slave";else if(l==setup.trait.bg_slave)u="had never known what it meant to be a free a|race",h="Now that the tables have turned, a|they a|is looking forward to handling the whip",p="And a|they will probably never learn it";else if(l==setup.trait.bg_monk)u="honed their body and spirit in isolation",i.isHasTrait("muscle_strong")?(p="It is surely destiny that a|their sculpted body is now free for your perusal",h="a|Rep a|is strong both mentally and physically, surely a boon for a slaving company such as this"):(p="Although looking at their a|body now you are unsure if a|they remember anything from a|their trainings",h="Although looking at their a|body now you are unsure if a|they remember anything from a|their trainings");else if(l==setup.trait.bg_mercenary)u="a|was part of a mercenary band and travelled across the land in the pursuit of gold.      Such background gives a|rep plenty of combat experience",p="Perhaps a|rep would make an excellent fighting slave for your amusement";else if(l==setup.trait.bg_pirate)u="lived on the sea preying upon unsuspecting victims and merchant ships.      a|Rep a|is no stranger to enslaving whatever people in the ships a|they used to raid",p="How the table have turned now that a|rep is nothing but your slave";else if(l==setup.trait.bg_thief)a==setup.trait.subrace_humankingdom?u="made a|their living pickpocketing people across the City of Lucgate":u="made a|their living breaking into and stealing from people's homes across the nearby land",h="a|Rep a|have an experienced nimble fingers which is surely useful in the slaving career",p="But it seems karma has caught up to a|their crimes";else if(l==setup.trait.bg_mystic){let b=i.getTraits().filter(v=>v.getTags().includes("magic"));b.length?b.length==2?u="a|was a genius magic practitioner gifted in multiple domains of magic":u=`a|was a magic practitioner specializing in the domain of ${b[0].rep()}`:u="a|was a practitioner of general magic without specializing in any field",h="This gives a|rep an affinity of the arcane, which is surely going to help a|their slaving career",p="You have to be careful near the slave until properly trained"}else if(l==setup.trait.bg_apprentice){let b=i.getTraits().filter(v=>v.getTags().includes("magic"));b.length?b.length==2?u="a|was a gifted student of magic who is yet to fulfill a|their true potential":u=`a|was a student magician of ${b[0].rep()}`:u="a|was a student trying to master general magic without specializing in any field",h="This gives a|rep a stronger affinity to the arcane than others, which if mastered is sure to propel a|their slaving career",p="Maybe you can resume a|their magic training once the slave is obedient"}else l==setup.trait.bg_hunter?([setup.trait.race_human,setup.trait.race_wolfkin,setup.trait.race_catkin,setup.trait.race_elf].includes(t)?u="lived from hunting the wild animals of the surrounding forests":t==setup.trait.race_greenskin||a==setup.trait.subrace_humandesert?u="lived from hunting the scarce wild animals in the eastern deserts":u="lived from hunting exotic animals off the southern seas",h="a|Their skills hunting animals will surely come in handy now that a|they hunt the most dangerous animals of all",p="But the hunter has become the hunted and now must live in cages in your company"):l==setup.trait.bg_priest?(u="dedicated a|their body and soul for the greater beings",h="a|They must have ultimately found a|themself disillusioned by the idea to do a 180 flip and become a slaver.      A priest may not be your traditional choice for a slaver, but nobody can deny that a|rep heals better than most",p="And now a|they a|is fated to dedicate a|their soul and especially body for a|their master"):l==setup.trait.bg_whore?(u="followed the ancient tradition of selling a|their own body for profit",i.isHasTrait(setup.trait.per_lustful)||i.isMasochistic()?(u=`${u}.        While most would have been appalled by the idea, a|rep a|seem to have liked        a|their previous occupation too much..`,p="Perhaps this is what you call a natural born slut",h="Perhaps this sluttiness can come in handy for slaving career?"):(h=`${u}.        a|Rep a|was more than happy to bury a|their past and start anew as a slaver`,p="You kinda hope a|they can continue to sell their bodies and earn you money, but you're not running a brothel unfortunately")):l==setup.trait.bg_courtesan?(u="entertained the wealthies of clients with a|their body",i.isHasTrait(setup.trait.per_lustful)||i.isMasochistic()?(u=`${u}.        While most courtesans tend to fake their enjoyment,        a|Rep a|seem to genuinely enjoy the degradation.`,p="Perhaps this is what you call a natural born slut",h="Perhaps this sluttiness can come in handy for slaving career?"):(h=`${u}.        a|Rep will have to learn how to use a|their charm and body for the benefit of your company`,p="Perhaps this is a rare chance for you to make use of such a high-class whore")):l==setup.trait.bg_laborer?u=`did whatever heavy labor available around where a|they lived, be it mining, quarrying, or just moving things around.      The experience have made the ${r.getName().toLowerCase()} stronger than most people,      which is always a good trait to have on ${setup.Article(r.getName().toLowerCase())}`:l==setup.trait.bg_merchant?(u="profited greatly off buying cheap and selling high",h="a|Rep a|is a a|race you can trust with your money"):l==setup.trait.bg_soldier?t==setup.trait.race_lizardkin?(u="were part of a fearsome a|race army who ravaged the lands of other races for treasures",h="Now a|they a|is a|their own master and finally can fight for a|themself and obtain a|their own hoard of treasure",p="Having such a powerful a|race warrior as your slave is a truly incredible feat for yourself and your company"):(u="fought as part of an army without really knowing why",h="Now a|they a|is a|their own master and finally can fight for a|themself",p="At least under your management a|their body and openings will be put to good use"):l==setup.trait.bg_wildman?(u=`lived wildly with little culture over at the ${setup.Text.Race.region(a)}`,p="a|They must have been an interesting animal to tame"):l==setup.trait.bg_nomad?t==setup.trait.race_greenskin?u="lived in one of the orcish encampments and followed the army wherever it goes":u=`lived from place to place in the ${setup.Text.Race.region(a)} without settling at any single place,        which makes a|them particularly hardy`:l==setup.trait.bg_raider?(u=`raided settlements near the ${setup.Text.Race.region(a)}, plundered the camps and raped their people`,p="Your company proves the better raiders as a|them raiding career is cut short      to begin a|their new slave career",h="a|Their experience almost perfectly matches the kind of experience      your company is looking for, making a|them a great fit for the position of being a slaver"):l==setup.trait.bg_adventurer?(t==setup.trait.race_lizardkin?u="left a|their a|race brethrens to go on an adventure for harem and hoard of treasure":u="traveled the land looking for flesh and adventure",p="You wonder if a|they think that being a slave is just a small part of the adventure",h="That is, until a|they realize that being a slaver is a fast-track ticket to getting the flesh part"):l==setup.trait.bg_entertainer?(u="made a|their living from entertaining both highborns and lowborns alike",i.isHasTrait(setup.trait.skill_entertain)&&(u=`${u}. a|Rep a|is particularly good at a|their job and is famous in certain circles`),p="The job description does not really change now that a|they a|is a slave, except maybe the extra hard labor the master may require",h="The ability to entertain will surely come in handy in a|their new career as a slaver"):l==setup.trait.bg_mist?(u="a|was a frequent traveler between this world and the next",p="Owning a slave with such mysterious origin gives you an odd and debauched feeling of power",h="Having a slaver with such unnatural origin sometimes give you shivers during the night"):l==setup.trait.bg_knight?(u="a|was trained in the art of knighthood in protecting the weak and slaying the evil",p="Having a a|race of such highly regarded job as a slave gives you a sense of satisfaction, and you can't wait to toy with a|rep some more later",h="Being a slaver is perhaps the further away a knight could have strayed from a|their path"):l==setup.trait.bg_healer?(u="a|was a dedicated healer soothing the illnesses of a|their people",h="Given the dangers your company face from day to day, having a slaver gifted in the arts of healing must be a blessing",p="With proper training perhaps you can teach a|them to heal not only with spirit but also with a|their body"):l==setup.trait.bg_foodworker?(u="worked in the food industry feeding the stomachs of people",h="You'll keep a|rep in mind if your company needs a chef one day",(i.isHasTrait(setup.trait.dick_tiny)||i.isHasTrait(setup.trait.breast_tiny))&&(p=`a|Rep's change of job to a slaver means that they now need to also produce plenty of fresh "milk" a|themself`)):l==setup.trait.bg_wiseman?u="gave wise advises to a|their community":l==setup.trait.bg_slaver?(u="were used to the sale and resale of other people",h="a|They will be right at home in your company of slavers",p="It is a strangely good feeling knowing that your company have bested another slaver and make a|them your slave"):l==setup.trait.bg_engineer?(u="were widely known for a|their prowess in designing and building complex machineries and structures",h="While a|they a|have unmatched knowledge in a|their field, a|rep a|have a severe aversion to magic",p="Some skills makes the slave extremely valuable, especially on the right market"):l==setup.trait.bg_unemployed?(u="did not have any work to do, and mostly lived out of the kindness of others",h="Slaver as a first job must be rather exciting for the a|race",p="You have to wonder if being a slave is considered a job"):l==setup.trait.bg_artisan?(u="a|was a skilled artisan capable of making of various tools, wearables, and sex toys",h="You occasionally see the a|race a|fashion a|their own      sex toys and restraints to use on the slaves"):l==setup.trait.bg_seaman?(u="sailed the seas and lived off her bounties",p="Fortunately for you, a|they went for the wrong booty and ended up your slave",h="Not to worry, you are sure that there will be opportunities for a|them to sail back to the sea as part a job in your company"):l==setup.trait.bg_woodsman?u="lived off the bounties of the woods, be it wood, fruits, or wildlife":l==setup.trait.bg_clerk?(u="shifted through numerous paperwork daily",p="You wonder if being a slave to your will is better than being a slave to paperwork",h="a|Rep a|is surely grateful for the change in occupation, a far livelier one than the one a|they a|is used to"):l==setup.trait.bg_scholar?(u="knowledgeable in a vast array of disciplines",p="You can certainly make use of a knowledgeable slave for managing your company",h="You can certainly count on a|them if you need to know anything"):l==setup.trait.bg_thug?(u="roughed up others for a living",p="And now there is nothing left of the slave with the tables turned",h="a|They will surely be natural are roughing up slaves"):l==setup.trait.bg_mythical?(u="worshipped as a mythical being akin to gods",p="Such a wondrous slave in your possession makes you feel giddy inside",h="You swear you occasionally see butterflies fluttering around the a|race"):l==setup.trait.bg_royal?(u="a|was a member of the royal family ruling their land",p="You have always dreamt fucking up the royalty, and now you can make the dream come true",h="a|They currently a|view a|their current slaving job as a break from a|their monotonous life"):l==setup.trait.bg_boss?(u="a|was a highly influential member of the crime underworld",p="No doubt a|their thugs are busy trying to rescue a|their boss right now",h="And a|they probably still is -- Every now and then the a|race deeply unnerves you"):l==setup.trait.bg_maid?(u="keeps the house warm and clean",p="A natural maid, if you say so yourself"):l==setup.trait.bg_informer?(u="dealt in information both over and under the table",p="Perhaps a|they even have a contingency plan for when a|they a|is taken as a slave",h="An underhanded rogue, perfect for your company"):l==setup.trait.bg_assassin?(u="took many lives in exchange for gold",p="You have to be careful when a|they a|is near another slave",h="a|They will need some time to adjust from killing fellow men to capturing them"):l==setup.trait.bg_metalworker?(u="a|was locally famous as a masterful crafter of metallic origin",h="a|Their calloused a|hands is well-adapted to handling the whip",p="A remarkably valuable skill to have on a slave"):l==setup.trait.bg_artist&&(u="made their living from practicing art",h="Perhaps a|they will in time see slaving as another form of higher arts",p="The slave would fit straight into the harem of nobility");let c=`${u}.`;i.isSlaver()&&h&&(c=`${c} ${h}.`),i.isSlave()&&p&&(c=`${c} ${p}.`);const d=["Before joining your company, a|rep ","In addition, a|rep also ","But that's not all. In the past, a|rep ","Surprisingly, that's still not all of it. a|rep ","Even more, a|rep "],g=["Before being enslaved by your company, a|rep ","In addition, a|rep also ","But that's not all. In the past, a|rep ","Surprisingly, that's still not all of it. a|rep ","Even more, a|rep "];let m=null;i.isSlaver()?m=d:m=g;let f=Math.min(n,m.length-1);c=`${m[f]} ${c}`,s.push(c)}return setup.Text.replaceUnitMacros(s.join(" "),{a:i})},setup.Text.genital=function(i){return i.isHasTrait(setup.trait.dick_huge)?"gigantic dick":i.isHasTrait(setup.trait.dick_small)?"dick":i.isHasTrait(setup.trait.dick_tiny)?"tiny dick":i.isHasTrait(setup.trait.breast_huge)?"gigantic breasts":i.isHasTrait(setup.trait.breast_small)?"breasts":i.isHasTrait(setup.trait.breast_tiny)?"tiny breasts":i.isHasTrait(setup.trait.vagina_tight)?"vagina":"anus"},setup.Dialogs={},setup.Dialogs.open=function({title:i,classnames:e,passage:t,content:a}){if(Dialog.isOpen()){alert("There is already an open dialog");return}return new Promise((r,s)=>{const n=Dialog.setup(i,e);if(a instanceof Node)Dialog.append(a);else if(a instanceof Function)a(n);else{const l=t?Story.get(t).processText():setup.DevToolHelper.stripNewLine(a||"");Dialog.wiki(l)}Dialog.open({}),$(document).one(":dialogclosing",l=>{r(void 0)})})},setup.Dialogs.openUnitImage=function(i){const e=setup.UnitImage.getImageObject(i.getImage());if(e)return setup.Dialogs.openImage(setup.UnitImage.getImageObject(i.getImage()),e.info.title||"Unknown Title")},setup.Dialogs.openImage=function(i,e){return setup.Dialogs.open({title:e,classnames:"dialog-unitimage",content:html`
      <figure>
        ${setup.repImg({imagepath:i.path,extra_class:"content-image"})}
        <figcaption>
          ${setup.DOM.Util.Image.credits(i.info)}
        </figcaption>
      </figure>
    `})},setup.Dialogs.openUnitImagePicker=function(i){return setup.Dialogs.open({title:"Pick Unit Image",classnames:"dialog-imagepicker dialog-fullwidth dialog-fullheight",content:o(e=>setup.DOM.renderComponentInto(e,aD,{unit:i}),"content")})},document.body.addEventListener("drop",function(i){i.preventDefault();let e=null;if(i.dataTransfer.items){for(let t=0;t<i.dataTransfer.items.length;++t)if(i.dataTransfer.items[t].kind==="file"){e=i.dataTransfer.items[t].getAsFile();break}}else i.dataTransfer.files.length>0&&(e=i.dataTransfer.files[0]);if(e&&/\.(jpg|png|gif)$/.test(e.name)){const t=document.getElementById("ui-dialog");if(t&&t.classList.contains("open")){const a=t.querySelector(".custom input");a instanceof HTMLInputElement&&(a.value=e.name,a.dispatchEvent(new Event("input")))}else if(State.variables.gPassage==="UnitDetail"){const a=State.variables.gUnit_key,r=State.variables.unit[a];r&&(r.custom_image_name=e.name,setup.runSugarCubeCommand("<<focgoto>>"))}}}),document.body.addEventListener("dragover",function(i){i.preventDefault()}),Mousetrap.unbind("space").bind("space",function(){const i=$(".press_on_space > a").get(0);return i&&i.click(),!1});const QA=document.createElement("div");QA.innerHTML=`
<svg>
  <filter id="svg-effect-wavyborder">
    <feturbulence x="0" y="0" baseFrequency="0.02" numOctaves="5" seed="1"></feturbulence>
    <feDisplacementMap in="SourceGraphic" scale="20" />
  </filter>
</svg>
`,document.body.appendChild(QA);let Sf=$('<div id="right-ui-bar"></div>').insertAfter("#ui-bar");Sf.append('<div id="right-ui-bar-tray"><button id="right-ui-bar-toggle" tabindex="0" title="Toggle the Right UI bar" aria-label="Toggle the Right UI bar" type="button"></button></div>'),Sf.append('<div id="right-ui-bar-body"></div>'),Sf.find("#right-ui-bar-toggle").ariaClick({label:"Toggle the Right UI bar"},()=>Sf.toggleClass("stowed")),postrender["Display Right Sidebar Contents"]=function(i,e){setPageElement("right-ui-bar-body","StoryRightSidebar")},$(window).width()<1424&&Sf.toggleClass("stowed");var je="top",Ze="bottom",Xe="right",Ke="left",gk="auto",Tf=[je,Ze,Xe,Ke],Ri="start",_f="end",iI="clippingParents",ZA="viewport",Af="popper",rI="reference",XA=Tf.reduce(function(i,e){return i.concat([e+"-"+Ri,e+"-"+_f])},[]),eM=[].concat(Tf,[gk]).reduce(function(i,e){return i.concat([e,e+"-"+Ri,e+"-"+_f])},[]),sI="beforeRead",nI="read",oI="afterRead",lI="beforeMain",uI="main",hI="afterMain",pI="beforeWrite",cI="write",dI="afterWrite",gI=[sI,nI,oI,lI,uI,hI,pI,cI,dI];function ut(i){return i?(i.nodeName||"").toLowerCase():null}o(ut,"getNodeName");function Ye(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var e=i.ownerDocument;return e&&e.defaultView||window}return i}o(Ye,"getWindow");function Ya(i){var e=Ye(i).Element;return i instanceof e||i instanceof Element}o(Ya,"isElement$1");function et(i){var e=Ye(i).HTMLElement;return i instanceof e||i instanceof HTMLElement}o(et,"isHTMLElement");function mk(i){if(typeof ShadowRoot>"u")return!1;var e=Ye(i).ShadowRoot;return i instanceof e||i instanceof ShadowRoot}o(mk,"isShadowRoot");function mI(i){var e=i.state;Object.keys(e.elements).forEach(function(t){var a=e.styles[t]||{},r=e.attributes[t]||{},s=e.elements[t];!et(s)||!ut(s)||(Object.assign(s.style,a),Object.keys(r).forEach(function(n){var l=r[n];l===!1?s.removeAttribute(n):s.setAttribute(n,l===!0?"":l)}))})}o(mI,"applyStyles");function fI(i){var e=i.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(a){var r=e.elements[a],s=e.attributes[a]||{},n=Object.keys(e.styles.hasOwnProperty(a)?e.styles[a]:t[a]),l=n.reduce(function(u,h){return u[h]="",u},{});!et(r)||!ut(r)||(Object.assign(r.style,l),Object.keys(s).forEach(function(u){r.removeAttribute(u)}))})}}o(fI,"effect$2");const tM={name:"applyStyles",enabled:!0,phase:"write",fn:mI,effect:fI,requires:["computeStyles"]};function ht(i){return i.split("-")[0]}o(ht,"getBasePlacement$1");var Ja=Math.max,Sb=Math.min,Ei=Math.round;function fk(){var i=navigator.userAgentData;return i!=null&&i.brands&&Array.isArray(i.brands)?i.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}o(fk,"getUAString");function aM(){return!/^((?!chrome|android).)*safari/i.test(fk())}o(aM,"isLayoutViewport");function xi(i,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var a=i.getBoundingClientRect(),r=1,s=1;e&&et(i)&&(r=i.offsetWidth>0&&Ei(a.width)/i.offsetWidth||1,s=i.offsetHeight>0&&Ei(a.height)/i.offsetHeight||1);var n=Ya(i)?Ye(i):window,l=n.visualViewport,u=!aM()&&t,h=(a.left+(u&&l?l.offsetLeft:0))/r,p=(a.top+(u&&l?l.offsetTop:0))/s,c=a.width/r,d=a.height/s;return{width:c,height:d,top:p,right:h+c,bottom:p+d,left:h,x:h,y:p}}o(xi,"getBoundingClientRect");function bk(i){var e=xi(i),t=i.offsetWidth,a=i.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-a)<=1&&(a=e.height),{x:i.offsetLeft,y:i.offsetTop,width:t,height:a}}o(bk,"getLayoutRect");function iM(i,e){var t=e.getRootNode&&e.getRootNode();if(i.contains(e))return!0;if(t&&mk(t)){var a=e;do{if(a&&i.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}o(iM,"contains");function kt(i){return Ye(i).getComputedStyle(i)}o(kt,"getComputedStyle$1");function bI(i){return["table","td","th"].indexOf(ut(i))>=0}o(bI,"isTableElement");function Wt(i){return((Ya(i)?i.ownerDocument:i.document)||window.document).documentElement}o(Wt,"getDocumentElement");function Tb(i){return ut(i)==="html"?i:i.assignedSlot||i.parentNode||(mk(i)?i.host:null)||Wt(i)}o(Tb,"getParentNode");function rM(i){return!et(i)||kt(i).position==="fixed"?null:i.offsetParent}o(rM,"getTrueOffsetParent");function yI(i){var e=/firefox/i.test(fk()),t=/Trident/i.test(fk());if(t&&et(i)){var a=kt(i);if(a.position==="fixed")return null}var r=Tb(i);for(mk(r)&&(r=r.host);et(r)&&["html","body"].indexOf(ut(r))<0;){var s=kt(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}o(yI,"getContainingBlock");function Mf(i){for(var e=Ye(i),t=rM(i);t&&bI(t)&&kt(t).position==="static";)t=rM(t);return t&&(ut(t)==="html"||ut(t)==="body"&&kt(t).position==="static")?e:t||yI(i)||e}o(Mf,"getOffsetParent");function yk(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}o(yk,"getMainAxisFromPlacement");function wf(i,e,t){return Ja(i,Sb(e,t))}o(wf,"within");function kI(i,e,t){var a=wf(i,e,t);return a>t?t:a}o(kI,"withinMaxClamp");function sM(){return{top:0,right:0,bottom:0,left:0}}o(sM,"getFreshSideObject");function nM(i){return Object.assign({},sM(),i)}o(nM,"mergePaddingObject");function oM(i,e){return e.reduce(function(t,a){return t[a]=i,t},{})}o(oM,"expandToHashMap");var vI=o(function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,nM(typeof e!="number"?e:oM(e,Tf))},"toPaddingObject");function SI(i){var e,t=i.state,a=i.name,r=i.options,s=t.elements.arrow,n=t.modifiersData.popperOffsets,l=ht(t.placement),u=yk(l),h=[Ke,Xe].indexOf(l)>=0,p=h?"height":"width";if(!(!s||!n)){var c=vI(r.padding,t),d=bk(s),g=u==="y"?je:Ke,m=u==="y"?Ze:Xe,f=t.rects.reference[p]+t.rects.reference[u]-n[u]-t.rects.popper[p],b=n[u]-t.rects.reference[u],v=Mf(s),S=v?u==="y"?v.clientHeight||0:v.clientWidth||0:0,M=f/2-b/2,k=c[g],_=S-d[p]-c[m],T=S/2-d[p]/2+M,E=wf(k,T,_),x=u;t.modifiersData[a]=(e={},e[x]=E,e.centerOffset=E-T,e)}}o(SI,"arrow");function TI(i){var e=i.state,t=i.options,a=t.element,r=a===void 0?"[data-popper-arrow]":a;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||iM(e.elements.popper,r)&&(e.elements.arrow=r))}o(TI,"effect$1");const _I={name:"arrow",enabled:!0,phase:"main",fn:SI,effect:TI,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Di(i){return i.split("-")[1]}o(Di,"getVariation");var AI={top:"auto",right:"auto",bottom:"auto",left:"auto"};function MI(i,e){var t=i.x,a=i.y,r=e.devicePixelRatio||1;return{x:Ei(t*r)/r||0,y:Ei(a*r)/r||0}}o(MI,"roundOffsetsByDPR");function lM(i){var e,t=i.popper,a=i.popperRect,r=i.placement,s=i.variation,n=i.offsets,l=i.position,u=i.gpuAcceleration,h=i.adaptive,p=i.roundOffsets,c=i.isFixed,d=n.x,g=d===void 0?0:d,m=n.y,f=m===void 0?0:m,b=typeof p=="function"?p({x:g,y:f}):{x:g,y:f};g=b.x,f=b.y;var v=n.hasOwnProperty("x"),S=n.hasOwnProperty("y"),M=Ke,k=je,_=window;if(h){var T=Mf(t),E="clientHeight",x="clientWidth";if(T===Ye(t)&&(T=Wt(t),kt(T).position!=="static"&&l==="absolute"&&(E="scrollHeight",x="scrollWidth")),T=T,r===je||(r===Ke||r===Xe)&&s===_f){k=Ze;var W=c&&T===_&&_.visualViewport?_.visualViewport.height:T[E];f-=W-a.height,f*=u?1:-1}if(r===Ke||(r===je||r===Ze)&&s===_f){M=Xe;var X=c&&T===_&&_.visualViewport?_.visualViewport.width:T[x];g-=X-a.width,g*=u?1:-1}}var se=Object.assign({position:l},h&&AI),ae=p===!0?MI({x:g,y:f},Ye(t)):{x:g,y:f};if(g=ae.x,f=ae.y,u){var V;return Object.assign({},se,(V={},V[k]=S?"0":"",V[M]=v?"0":"",V.transform=(_.devicePixelRatio||1)<=1?"translate("+g+"px, "+f+"px)":"translate3d("+g+"px, "+f+"px, 0)",V))}return Object.assign({},se,(e={},e[k]=S?f+"px":"",e[M]=v?g+"px":"",e.transform="",e))}o(lM,"mapToStyles");function wI(i){var e=i.state,t=i.options,a=t.gpuAcceleration,r=a===void 0?!0:a,s=t.adaptive,n=s===void 0?!0:s,l=t.roundOffsets,u=l===void 0?!0:l,h={placement:ht(e.placement),variation:Di(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,lM(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:n,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,lM(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}o(wI,"computeStyles");const RI={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:wI,data:{}};var _b={passive:!0};function EI(i){var e=i.state,t=i.instance,a=i.options,r=a.scroll,s=r===void 0?!0:r,n=a.resize,l=n===void 0?!0:n,u=Ye(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&h.forEach(function(p){p.addEventListener("scroll",t.update,_b)}),l&&u.addEventListener("resize",t.update,_b),function(){s&&h.forEach(function(p){p.removeEventListener("scroll",t.update,_b)}),l&&u.removeEventListener("resize",t.update,_b)}}o(EI,"effect");const xI={name:"eventListeners",enabled:!0,phase:"write",fn:o(function(){},"fn"),effect:EI,data:{}};var DI={left:"right",right:"left",bottom:"top",top:"bottom"};function Ab(i){return i.replace(/left|right|bottom|top/g,function(e){return DI[e]})}o(Ab,"getOppositePlacement");var II={start:"end",end:"start"};function uM(i){return i.replace(/start|end/g,function(e){return II[e]})}o(uM,"getOppositeVariationPlacement");function kk(i){var e=Ye(i),t=e.pageXOffset,a=e.pageYOffset;return{scrollLeft:t,scrollTop:a}}o(kk,"getWindowScroll");function vk(i){return xi(Wt(i)).left+kk(i).scrollLeft}o(vk,"getWindowScrollBarX");function $I(i,e){var t=Ye(i),a=Wt(i),r=t.visualViewport,s=a.clientWidth,n=a.clientHeight,l=0,u=0;if(r){s=r.width,n=r.height;var h=aM();(h||!h&&e==="fixed")&&(l=r.offsetLeft,u=r.offsetTop)}return{width:s,height:n,x:l+vk(i),y:u}}o($I,"getViewportRect");function OI(i){var e,t=Wt(i),a=kk(i),r=(e=i.ownerDocument)==null?void 0:e.body,s=Ja(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),n=Ja(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),l=-a.scrollLeft+vk(i),u=-a.scrollTop;return kt(r||t).direction==="rtl"&&(l+=Ja(t.clientWidth,r?r.clientWidth:0)-s),{width:s,height:n,x:l,y:u}}o(OI,"getDocumentRect");function Sk(i){var e=kt(i),t=e.overflow,a=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+a)}o(Sk,"isScrollParent");function hM(i){return["html","body","#document"].indexOf(ut(i))>=0?i.ownerDocument.body:et(i)&&Sk(i)?i:hM(Tb(i))}o(hM,"getScrollParent");function Rf(i,e){var t;e===void 0&&(e=[]);var a=hM(i),r=a===((t=i.ownerDocument)==null?void 0:t.body),s=Ye(a),n=r?[s].concat(s.visualViewport||[],Sk(a)?a:[]):a,l=e.concat(n);return r?l:l.concat(Rf(Tb(n)))}o(Rf,"listScrollParents");function Tk(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}o(Tk,"rectToClientRect");function CI(i,e){var t=xi(i,!1,e==="fixed");return t.top=t.top+i.clientTop,t.left=t.left+i.clientLeft,t.bottom=t.top+i.clientHeight,t.right=t.left+i.clientWidth,t.width=i.clientWidth,t.height=i.clientHeight,t.x=t.left,t.y=t.top,t}o(CI,"getInnerBoundingClientRect");function pM(i,e,t){return e===ZA?Tk($I(i,t)):Ya(e)?CI(e,t):Tk(OI(Wt(i)))}o(pM,"getClientRectFromMixedType");function PI(i){var e=Rf(Tb(i)),t=["absolute","fixed"].indexOf(kt(i).position)>=0,a=t&&et(i)?Mf(i):i;return Ya(a)?e.filter(function(r){return Ya(r)&&iM(r,a)&&ut(r)!=="body"}):[]}o(PI,"getClippingParents");function LI(i,e,t,a){var r=e==="clippingParents"?PI(i):[].concat(e),s=[].concat(r,[t]),n=s[0],l=s.reduce(function(u,h){var p=pM(i,h,a);return u.top=Ja(p.top,u.top),u.right=Sb(p.right,u.right),u.bottom=Sb(p.bottom,u.bottom),u.left=Ja(p.left,u.left),u},pM(i,n,a));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}o(LI,"getClippingRect");function cM(i){var e=i.reference,t=i.element,a=i.placement,r=a?ht(a):null,s=a?Di(a):null,n=e.x+e.width/2-t.width/2,l=e.y+e.height/2-t.height/2,u;switch(r){case je:u={x:n,y:e.y-t.height};break;case Ze:u={x:n,y:e.y+e.height};break;case Xe:u={x:e.x+e.width,y:l};break;case Ke:u={x:e.x-t.width,y:l};break;default:u={x:e.x,y:e.y}}var h=r?yk(r):null;if(h!=null){var p=h==="y"?"height":"width";switch(s){case Ri:u[h]=u[h]-(e[p]/2-t[p]/2);break;case _f:u[h]=u[h]+(e[p]/2-t[p]/2);break}}return u}o(cM,"computeOffsets");function Ef(i,e){e===void 0&&(e={});var t=e,a=t.placement,r=a===void 0?i.placement:a,s=t.strategy,n=s===void 0?i.strategy:s,l=t.boundary,u=l===void 0?iI:l,h=t.rootBoundary,p=h===void 0?ZA:h,c=t.elementContext,d=c===void 0?Af:c,g=t.altBoundary,m=g===void 0?!1:g,f=t.padding,b=f===void 0?0:f,v=nM(typeof b!="number"?b:oM(b,Tf)),S=d===Af?rI:Af,M=i.rects.popper,k=i.elements[m?S:d],_=LI(Ya(k)?k:k.contextElement||Wt(i.elements.popper),u,p,n),T=xi(i.elements.reference),E=cM({reference:T,element:M,strategy:"absolute",placement:r}),x=Tk(Object.assign({},M,E)),W=d===Af?x:T,X={top:_.top-W.top+v.top,bottom:W.bottom-_.bottom+v.bottom,left:_.left-W.left+v.left,right:W.right-_.right+v.right},se=i.modifiersData.offset;if(d===Af&&se){var ae=se[r];Object.keys(X).forEach(function(V){var re=[Xe,Ze].indexOf(V)>=0?1:-1,H=[je,Ze].indexOf(V)>=0?"y":"x";X[V]+=ae[H]*re})}return X}o(Ef,"detectOverflow");function NI(i,e){e===void 0&&(e={});var t=e,a=t.placement,r=t.boundary,s=t.rootBoundary,n=t.padding,l=t.flipVariations,u=t.allowedAutoPlacements,h=u===void 0?eM:u,p=Di(a),c=p?l?XA:XA.filter(function(m){return Di(m)===p}):Tf,d=c.filter(function(m){return h.indexOf(m)>=0});d.length===0&&(d=c);var g=d.reduce(function(m,f){return m[f]=Ef(i,{placement:f,boundary:r,rootBoundary:s,padding:n})[ht(f)],m},{});return Object.keys(g).sort(function(m,f){return g[m]-g[f]})}o(NI,"computeAutoPlacement");function HI(i){if(ht(i)===gk)return[];var e=Ab(i);return[uM(i),e,uM(e)]}o(HI,"getExpandedFallbackPlacements");function BI(i){var e=i.state,t=i.options,a=i.name;if(!e.modifiersData[a]._skip){for(var r=t.mainAxis,s=r===void 0?!0:r,n=t.altAxis,l=n===void 0?!0:n,u=t.fallbackPlacements,h=t.padding,p=t.boundary,c=t.rootBoundary,d=t.altBoundary,g=t.flipVariations,m=g===void 0?!0:g,f=t.allowedAutoPlacements,b=e.options.placement,v=ht(b),S=v===b,M=u||(S||!m?[Ab(b)]:HI(b)),k=[b].concat(M).reduce(function(ie,ne){return ie.concat(ht(ne)===gk?NI(e,{placement:ne,boundary:p,rootBoundary:c,padding:h,flipVariations:m,allowedAutoPlacements:f}):ne)},[]),_=e.rects.reference,T=e.rects.popper,E=new Map,x=!0,W=k[0],X=0;X<k.length;X++){var se=k[X],ae=ht(se),V=Di(se)===Ri,re=[je,Ze].indexOf(ae)>=0,H=re?"width":"height",G=Ef(e,{placement:se,boundary:p,rootBoundary:c,altBoundary:d,padding:h}),J=re?V?Xe:Ke:V?Ze:je;_[H]>T[H]&&(J=Ab(J));var ce=Ab(J),Re=[];if(s&&Re.push(G[ae]<=0),l&&Re.push(G[J]<=0,G[ce]<=0),Re.every(function(ie){return ie})){W=se,x=!1;break}E.set(se,Re)}if(x)for(var Ae=m?3:1,ve=o(function(ne){var ye=k.find(function(Ne){var C=E.get(Ne);if(C)return C.slice(0,ne).every(function(R){return R})});if(ye)return W=ye,"break"},"_loop"),Ee=Ae;Ee>0;Ee--){var ue=ve(Ee);if(ue==="break")break}e.placement!==W&&(e.modifiersData[a]._skip=!0,e.placement=W,e.reset=!0)}}o(BI,"flip");const GI={name:"flip",enabled:!0,phase:"main",fn:BI,requiresIfExists:["offset"],data:{_skip:!1}};function dM(i,e,t){return t===void 0&&(t={x:0,y:0}),{top:i.top-e.height-t.y,right:i.right-e.width+t.x,bottom:i.bottom-e.height+t.y,left:i.left-e.width-t.x}}o(dM,"getSideOffsets");function gM(i){return[je,Xe,Ze,Ke].some(function(e){return i[e]>=0})}o(gM,"isAnySideFullyClipped");function qI(i){var e=i.state,t=i.name,a=e.rects.reference,r=e.rects.popper,s=e.modifiersData.preventOverflow,n=Ef(e,{elementContext:"reference"}),l=Ef(e,{altBoundary:!0}),u=dM(n,a),h=dM(l,r,s),p=gM(u),c=gM(h);e.modifiersData[t]={referenceClippingOffsets:u,popperEscapeOffsets:h,isReferenceHidden:p,hasPopperEscaped:c},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":c})}o(qI,"hide");const zI={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:qI};function FI(i,e,t){var a=ht(i),r=[Ke,je].indexOf(a)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:i})):t,n=s[0],l=s[1];return n=n||0,l=(l||0)*r,[Ke,Xe].indexOf(a)>=0?{x:l,y:n}:{x:n,y:l}}o(FI,"distanceAndSkiddingToXY");function jI(i){var e=i.state,t=i.options,a=i.name,r=t.offset,s=r===void 0?[0,0]:r,n=eM.reduce(function(p,c){return p[c]=FI(c,e.rects,s),p},{}),l=n[e.placement],u=l.x,h=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=h),e.modifiersData[a]=n}o(jI,"offset");const KI={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:jI};function VI(i){var e=i.state,t=i.name;e.modifiersData[t]=cM({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}o(VI,"popperOffsets");const YI={name:"popperOffsets",enabled:!0,phase:"read",fn:VI,data:{}};function JI(i){return i==="x"?"y":"x"}o(JI,"getAltAxis");function WI(i){var e=i.state,t=i.options,a=i.name,r=t.mainAxis,s=r===void 0?!0:r,n=t.altAxis,l=n===void 0?!1:n,u=t.boundary,h=t.rootBoundary,p=t.altBoundary,c=t.padding,d=t.tether,g=d===void 0?!0:d,m=t.tetherOffset,f=m===void 0?0:m,b=Ef(e,{boundary:u,rootBoundary:h,padding:c,altBoundary:p}),v=ht(e.placement),S=Di(e.placement),M=!S,k=yk(v),_=JI(k),T=e.modifiersData.popperOffsets,E=e.rects.reference,x=e.rects.popper,W=typeof f=="function"?f(Object.assign({},e.rects,{placement:e.placement})):f,X=typeof W=="number"?{mainAxis:W,altAxis:W}:Object.assign({mainAxis:0,altAxis:0},W),se=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ae={x:0,y:0};if(T){if(s){var V,re=k==="y"?je:Ke,H=k==="y"?Ze:Xe,G=k==="y"?"height":"width",J=T[k],ce=J+b[re],Re=J-b[H],Ae=g?-x[G]/2:0,ve=S===Ri?E[G]:x[G],Ee=S===Ri?-x[G]:-E[G],ue=e.elements.arrow,ie=g&&ue?bk(ue):{width:0,height:0},ne=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:sM(),ye=ne[re],Ne=ne[H],C=wf(0,E[G],ie[G]),R=M?E[G]/2-Ae-C-ye-X.mainAxis:ve-C-ye-X.mainAxis,D=M?-E[G]/2+Ae+C+Ne+X.mainAxis:Ee+C+Ne+X.mainAxis,z=e.elements.arrow&&Mf(e.elements.arrow),ke=z?k==="y"?z.clientTop||0:z.clientLeft||0:0,ge=(V=se==null?void 0:se[k])!=null?V:0,F=J+R-ge-ke,U=J+D-ge,Z=wf(g?Sb(ce,F):ce,J,g?Ja(Re,U):Re);T[k]=Z,ae[k]=Z-J}if(l){var le,He=k==="x"?je:Ke,Je=k==="x"?Ze:Xe,Be=T[_],Ge=_==="y"?"height":"width",gi=Be+b[He],mi=Be-b[Je],Bf=[je,Ke].indexOf(v)!==-1,Sy=(le=se==null?void 0:se[_])!=null?le:0,Ty=Bf?gi:Be-E[Ge]-x[Ge]-Sy+X.altAxis,_y=Bf?Be+E[Ge]+x[Ge]-Sy-X.altAxis:mi,Ay=g&&Bf?kI(Ty,Be,_y):wf(g?Ty:gi,Be,g?_y:mi);T[_]=Ay,ae[_]=Ay-Be}e.modifiersData[a]=ae}}o(WI,"preventOverflow");const QI={name:"preventOverflow",enabled:!0,phase:"main",fn:WI,requiresIfExists:["offset"]};function ZI(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}o(ZI,"getHTMLElementScroll");function XI(i){return i===Ye(i)||!et(i)?kk(i):ZI(i)}o(XI,"getNodeScroll");function e$(i){var e=i.getBoundingClientRect(),t=Ei(e.width)/i.offsetWidth||1,a=Ei(e.height)/i.offsetHeight||1;return t!==1||a!==1}o(e$,"isElementScaled");function t$(i,e,t){t===void 0&&(t=!1);var a=et(e),r=et(e)&&e$(e),s=Wt(e),n=xi(i,r,t),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(a||!a&&!t)&&((ut(e)!=="body"||Sk(s))&&(l=XI(e)),et(e)?(u=xi(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):s&&(u.x=vk(s))),{x:n.left+l.scrollLeft-u.x,y:n.top+l.scrollTop-u.y,width:n.width,height:n.height}}o(t$,"getCompositeRect");function a$(i){var e=new Map,t=new Set,a=[];i.forEach(function(s){e.set(s.name,s)});function r(s){t.add(s.name);var n=[].concat(s.requires||[],s.requiresIfExists||[]);n.forEach(function(l){if(!t.has(l)){var u=e.get(l);u&&r(u)}}),a.push(s)}return o(r,"sort"),i.forEach(function(s){t.has(s.name)||r(s)}),a}o(a$,"order");function i$(i){var e=a$(i);return gI.reduce(function(t,a){return t.concat(e.filter(function(r){return r.phase===a}))},[])}o(i$,"orderModifiers");function r$(i){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(i())})})),e}}o(r$,"debounce$1");function s$(i){var e=i.reduce(function(t,a){var r=t[a.name];return t[a.name]=r?Object.assign({},r,a,{options:Object.assign({},r.options,a.options),data:Object.assign({},r.data,a.data)}):a,t},{});return Object.keys(e).map(function(t){return e[t]})}o(s$,"mergeByName");var mM={placement:"bottom",modifiers:[],strategy:"absolute"};function fM(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return!e.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}o(fM,"areValidElements");function n$(i){i===void 0&&(i={});var e=i,t=e.defaultModifiers,a=t===void 0?[]:t,r=e.defaultOptions,s=r===void 0?mM:r;return o(function(l,u,h){h===void 0&&(h=s);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},mM,s),modifiersData:{},elements:{reference:l,popper:u},attributes:{},styles:{}},c=[],d=!1,g={state:p,setOptions:o(function(v){var S=typeof v=="function"?v(p.options):v;f(),p.options=Object.assign({},s,p.options,S),p.scrollParents={reference:Ya(l)?Rf(l):l.contextElement?Rf(l.contextElement):[],popper:Rf(u)};var M=i$(s$([].concat(a,p.options.modifiers)));return p.orderedModifiers=M.filter(function(k){return k.enabled}),m(),g.update()},"setOptions"),forceUpdate:o(function(){if(!d){var v=p.elements,S=v.reference,M=v.popper;if(fM(S,M)){p.rects={reference:t$(S,Mf(M),p.options.strategy==="fixed"),popper:bk(M)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(X){return p.modifiersData[X.name]=Object.assign({},X.data)});for(var k=0;k<p.orderedModifiers.length;k++){if(p.reset===!0){p.reset=!1,k=-1;continue}var _=p.orderedModifiers[k],T=_.fn,E=_.options,x=E===void 0?{}:E,W=_.name;typeof T=="function"&&(p=T({state:p,options:x,name:W,instance:g})||p)}}}},"forceUpdate"),update:r$(function(){return new Promise(function(b){g.forceUpdate(),b(p)})}),destroy:o(function(){f(),d=!0},"destroy")};if(!fM(l,u))return g;g.setOptions(h).then(function(b){!d&&h.onFirstUpdate&&h.onFirstUpdate(b)});function m(){p.orderedModifiers.forEach(function(b){var v=b.name,S=b.options,M=S===void 0?{}:S,k=b.effect;if(typeof k=="function"){var _=k({state:p,name:v,instance:g,options:M}),T=o(function(){},"noopFn");c.push(_||T)}})}o(m,"runModifierEffects");function f(){c.forEach(function(b){return b()}),c=[]}return o(f,"cleanupModifierEffects"),g},"createPopper")}o(n$,"popperGenerator");var o$=[xI,YI,RI,tM,KI,GI,QI,_I,zI],l$=n$({defaultModifiers:o$}),u$="tippy-box",bM="tippy-content",h$="tippy-backdrop",yM="tippy-arrow",kM="tippy-svg-arrow",Wa={passive:!0,capture:!0},vM=o(function(){return document.body},"TIPPY_DEFAULT_APPEND_TO2");function _k(i,e,t){if(Array.isArray(i)){var a=i[e];return a??(Array.isArray(t)?t[e]:t)}return i}o(_k,"getValueAtIndexOrReturn");function Ak(i,e){var t={}.toString.call(i);return t.indexOf("[object")===0&&t.indexOf(e+"]")>-1}o(Ak,"isType");function SM(i,e){return typeof i=="function"?i.apply(void 0,e):i}o(SM,"invokeWithArgsOrReturn");function TM(i,e){if(e===0)return i;var t;return function(a){clearTimeout(t),t=setTimeout(function(){i(a)},e)}}o(TM,"debounce");function p$(i){return i.split(/\s+/).filter(Boolean)}o(p$,"splitBySpaces");function Ii(i){return[].concat(i)}o(Ii,"normalizeToArray");function _M(i,e){i.indexOf(e)===-1&&i.push(e)}o(_M,"pushIfUnique");function c$(i){return i.filter(function(e,t){return i.indexOf(e)===t})}o(c$,"unique");function d$(i){return i.split("-")[0]}o(d$,"getBasePlacement");function Mb(i){return[].slice.call(i)}o(Mb,"arrayFrom");function AM(i){return Object.keys(i).reduce(function(e,t){return i[t]!==void 0&&(e[t]=i[t]),e},{})}o(AM,"removeUndefinedProps");function xf(){return document.createElement("div")}o(xf,"div");function wb(i){return["Element","Fragment"].some(function(e){return Ak(i,e)})}o(wb,"isElement");function g$(i){return Ak(i,"NodeList")}o(g$,"isNodeList");function m$(i){return Ak(i,"MouseEvent")}o(m$,"isMouseEvent");function f$(i){return!!(i&&i._tippy&&i._tippy.reference===i)}o(f$,"isReferenceElement");function b$(i){return wb(i)?[i]:g$(i)?Mb(i):Array.isArray(i)?i:Mb(document.querySelectorAll(i))}o(b$,"getArrayOfElements");function Mk(i,e){i.forEach(function(t){t&&(t.style.transitionDuration=e+"ms")})}o(Mk,"setTransitionDuration");function MM(i,e){i.forEach(function(t){t&&t.setAttribute("data-state",e)})}o(MM,"setVisibilityState");function y$(i){var e,t=Ii(i),a=t[0];return a!=null&&(e=a.ownerDocument)!=null&&e.body?a.ownerDocument:document}o(y$,"getOwnerDocument");function k$(i,e){var t=e.clientX,a=e.clientY;return i.every(function(r){var s=r.popperRect,n=r.popperState,l=r.props,u=l.interactiveBorder,h=d$(n.placement),p=n.modifiersData.offset;if(!p)return!0;var c=h==="bottom"?p.top.y:0,d=h==="top"?p.bottom.y:0,g=h==="right"?p.left.x:0,m=h==="left"?p.right.x:0,f=s.top-a+c>u,b=a-s.bottom-d>u,v=s.left-t+g>u,S=t-s.right-m>u;return f||b||v||S})}o(k$,"isCursorOutsideInteractiveBorder");function wk(i,e,t){var a=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(r){i[a](r,t)})}o(wk,"updateTransitionEndListener");function wM(i,e){for(var t=e;t;){var a;if(i.contains(t))return!0;t=t.getRootNode==null||(a=t.getRootNode())==null?void 0:a.host}return!1}o(wM,"actualContains");var pt={isTouch:!1},RM=0;function v$(){pt.isTouch||(pt.isTouch=!0,window.performance&&document.addEventListener("mousemove",EM))}o(v$,"onDocumentTouchStart");function EM(){var i=performance.now();i-RM<20&&(pt.isTouch=!1,document.removeEventListener("mousemove",EM)),RM=i}o(EM,"onDocumentMouseMove");function S$(){var i=document.activeElement;if(f$(i)){var e=i._tippy;i.blur&&!e.state.isVisible&&i.blur()}}o(S$,"onWindowBlur");function T$(){document.addEventListener("touchstart",v$,Wa),window.addEventListener("blur",S$)}o(T$,"bindGlobalEventListeners");var _$=typeof window<"u"&&typeof document<"u",A$=_$?!!window.msCrypto:!1,M$={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},w$={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},ot=Object.assign({appendTo:vM,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:o(function(){},"onAfterUpdate"),onBeforeUpdate:o(function(){},"onBeforeUpdate"),onCreate:o(function(){},"onCreate"),onDestroy:o(function(){},"onDestroy"),onHidden:o(function(){},"onHidden"),onHide:o(function(){},"onHide"),onMount:o(function(){},"onMount"),onShow:o(function(){},"onShow"),onShown:o(function(){},"onShown"),onTrigger:o(function(){},"onTrigger"),onUntrigger:o(function(){},"onUntrigger"),onClickOutside:o(function(){},"onClickOutside"),placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},M$,w$),R$=Object.keys(ot),E$=o(function(e){var t=Object.keys(e);t.forEach(function(a){ot[a]=e[a]})},"setDefaultProps2");function xM(i){var e=i.plugins||[],t=e.reduce(function(a,r){var s=r.name,n=r.defaultValue;if(s){var l;a[s]=i[s]!==void 0?i[s]:(l=ot[s])!=null?l:n}return a},{});return Object.assign({},i,t)}o(xM,"getExtendedPassedProps");function x$(i,e){var t=e?Object.keys(xM(Object.assign({},ot,{plugins:e}))):R$,a=t.reduce(function(r,s){var n=(i.getAttribute("data-tippy-"+s)||"").trim();if(!n)return r;if(s==="content")r[s]=n;else try{r[s]=JSON.parse(n)}catch{r[s]=n}return r},{});return a}o(x$,"getDataAttributeProps");function DM(i,e){var t=Object.assign({},e,{content:SM(e.content,[i])},e.ignoreAttributes?{}:x$(i,e.plugins));return t.aria=Object.assign({},ot.aria,t.aria),t.aria={expanded:t.aria.expanded==="auto"?e.interactive:t.aria.expanded,content:t.aria.content==="auto"?e.interactive?null:"describedby":t.aria.content},t}o(DM,"evaluateProps");var D$=o(function(){return"innerHTML"},"innerHTML2");function Rk(i,e){i[D$()]=e}o(Rk,"dangerouslySetInnerHTML");function IM(i){var e=xf();return i===!0?e.className=yM:(e.className=kM,wb(i)?e.appendChild(i):Rk(e,i)),e}o(IM,"createArrowElement");function $M(i,e){wb(e.content)?(Rk(i,""),i.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Rk(i,e.content):i.textContent=e.content)}o($M,"setContent");function Ek(i){var e=i.firstElementChild,t=Mb(e.children);return{box:e,content:t.find(function(a){return a.classList.contains(bM)}),arrow:t.find(function(a){return a.classList.contains(yM)||a.classList.contains(kM)}),backdrop:t.find(function(a){return a.classList.contains(h$)})}}o(Ek,"getChildren");function OM(i){var e=xf(),t=xf();t.className=u$,t.setAttribute("data-state","hidden"),t.setAttribute("tabindex","-1");var a=xf();a.className=bM,a.setAttribute("data-state","hidden"),$M(a,i.props),e.appendChild(t),t.appendChild(a),r(i.props,i.props);function r(s,n){var l=Ek(e),u=l.box,h=l.content,p=l.arrow;n.theme?u.setAttribute("data-theme",n.theme):u.removeAttribute("data-theme"),typeof n.animation=="string"?u.setAttribute("data-animation",n.animation):u.removeAttribute("data-animation"),n.inertia?u.setAttribute("data-inertia",""):u.removeAttribute("data-inertia"),u.style.maxWidth=typeof n.maxWidth=="number"?n.maxWidth+"px":n.maxWidth,n.role?u.setAttribute("role",n.role):u.removeAttribute("role"),(s.content!==n.content||s.allowHTML!==n.allowHTML)&&$M(h,i.props),n.arrow?p?s.arrow!==n.arrow&&(u.removeChild(p),u.appendChild(IM(n.arrow))):u.appendChild(IM(n.arrow)):p&&u.removeChild(p)}return o(r,"onUpdate"),{popper:e,onUpdate:r}}o(OM,"render"),OM.$$tippy=!0;var I$=1,Rb=[],xk=[];function $$(i,e){var t=DM(i,Object.assign({},ot,xM(AM(e)))),a,r,s,n=!1,l=!1,u=!1,h=!1,p,c,d,g=[],m=TM(F,t.interactiveDebounce),f,b=I$++,v=null,S=c$(t.plugins),M={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},k={id:b,reference:i,popper:xf(),popperInstance:v,props:t,state:M,plugins:S,clearDelayTimeouts:Ty,setProps:_y,setContent:Ay,show:eC,hide:tC,hideWithInteractivity:aC,enable:Bf,disable:Sy,unmount:iC,destroy:rC};if(!t.render)return k;var _=t.render(k),T=_.popper,E=_.onUpdate;T.setAttribute("data-tippy-root",""),T.id="tippy-"+k.id,k.popper=T,i._tippy=k,T._tippy=k;var x=S.map(function(w){return w.fn(k)}),W=i.hasAttribute("aria-expanded");return z(),Ae(),J(),ce("onCreate",[k]),t.showOnCreate&&gi(),T.addEventListener("mouseenter",function(){k.props.interactive&&k.state.isVisible&&k.clearDelayTimeouts()}),T.addEventListener("mouseleave",function(){k.props.interactive&&k.props.trigger.indexOf("mouseenter")>=0&&re().addEventListener("mousemove",m)}),k;function X(){var w=k.props.touch;return Array.isArray(w)?w:[w,0]}o(X,"getNormalizedTouchSettings");function se(){return X()[0]==="hold"}o(se,"getIsCustomTouchBehavior");function ae(){var w;return!!((w=k.props.render)!=null&&w.$$tippy)}o(ae,"getIsDefaultRenderFn");function V(){return f||i}o(V,"getCurrentTarget");function re(){var w=V().parentNode;return w?y$(w):document}o(re,"getDocument");function H(){return Ek(T)}o(H,"getDefaultTemplateChildren");function G(w){return k.state.isMounted&&!k.state.isVisible||pt.isTouch||p&&p.type==="focus"?0:_k(k.props.delay,w?0:1,ot.delay)}o(G,"getDelay");function J(w){w===void 0&&(w=!1),T.style.pointerEvents=k.props.interactive&&!w?"":"none",T.style.zIndex=""+k.props.zIndex}o(J,"handleStyles");function ce(w,K,ee){if(ee===void 0&&(ee=!0),x.forEach(function(he){he[w]&&he[w].apply(he,K)}),ee){var me;(me=k.props)[w].apply(me,K)}}o(ce,"invokeHook");function Re(){var w=k.props.aria;if(w.content){var K="aria-"+w.content,ee=T.id,me=Ii(k.props.triggerTarget||i);me.forEach(function(he){var ze=he.getAttribute(K);if(k.state.isVisible)he.setAttribute(K,ze?ze+" "+ee:ee);else{var at=ze&&ze.replace(ee,"").trim();at?he.setAttribute(K,at):he.removeAttribute(K)}})}}o(Re,"handleAriaContentAttribute");function Ae(){if(!(W||!k.props.aria.expanded)){var w=Ii(k.props.triggerTarget||i);w.forEach(function(K){k.props.interactive?K.setAttribute("aria-expanded",k.state.isVisible&&K===V()?"true":"false"):K.removeAttribute("aria-expanded")})}}o(Ae,"handleAriaExpandedAttribute");function ve(){re().removeEventListener("mousemove",m),Rb=Rb.filter(function(w){return w!==m})}o(ve,"cleanupInteractiveMouseListeners");function Ee(w){if(!(pt.isTouch&&(u||w.type==="mousedown"))){var K=w.composedPath&&w.composedPath()[0]||w.target;if(!(k.props.interactive&&wM(T,K))){if(Ii(k.props.triggerTarget||i).some(function(ee){return wM(ee,K)})){if(pt.isTouch||k.state.isVisible&&k.props.trigger.indexOf("click")>=0)return}else ce("onClickOutside",[k,w]);k.props.hideOnClick===!0&&(k.clearDelayTimeouts(),k.hide(),l=!0,setTimeout(function(){l=!1}),k.state.isMounted||ye())}}}o(Ee,"onDocumentPress");function ue(){u=!0}o(ue,"onTouchMove");function ie(){u=!1}o(ie,"onTouchStart");function ne(){var w=re();w.addEventListener("mousedown",Ee,!0),w.addEventListener("touchend",Ee,Wa),w.addEventListener("touchstart",ie,Wa),w.addEventListener("touchmove",ue,Wa)}o(ne,"addDocumentPress");function ye(){var w=re();w.removeEventListener("mousedown",Ee,!0),w.removeEventListener("touchend",Ee,Wa),w.removeEventListener("touchstart",ie,Wa),w.removeEventListener("touchmove",ue,Wa)}o(ye,"removeDocumentPress");function Ne(w,K){R(w,function(){!k.state.isVisible&&T.parentNode&&T.parentNode.contains(T)&&K()})}o(Ne,"onTransitionedOut");function C(w,K){R(w,K)}o(C,"onTransitionedIn");function R(w,K){var ee=H().box;function me(he){he.target===ee&&(wk(ee,"remove",me),K())}if(o(me,"listener"),w===0)return K();wk(ee,"remove",c),wk(ee,"add",me),c=me}o(R,"onTransitionEnd");function D(w,K,ee){ee===void 0&&(ee=!1);var me=Ii(k.props.triggerTarget||i);me.forEach(function(he){he.addEventListener(w,K,ee),g.push({node:he,eventType:w,handler:K,options:ee})})}o(D,"on");function z(){se()&&(D("touchstart",ge,{passive:!0}),D("touchend",U,{passive:!0})),p$(k.props.trigger).forEach(function(w){if(w!=="manual")switch(D(w,ge),w){case"mouseenter":D("mouseleave",U);break;case"focus":D(A$?"focusout":"blur",Z);break;case"focusin":D("focusout",Z);break}})}o(z,"addListeners");function ke(){g.forEach(function(w){var K=w.node,ee=w.eventType,me=w.handler,he=w.options;K.removeEventListener(ee,me,he)}),g=[]}o(ke,"removeListeners");function ge(w){var K,ee=!1;if(!(!k.state.isEnabled||le(w)||l)){var me=((K=p)==null?void 0:K.type)==="focus";p=w,f=w.currentTarget,Ae(),!k.state.isVisible&&m$(w)&&Rb.forEach(function(he){return he(w)}),w.type==="click"&&(k.props.trigger.indexOf("mouseenter")<0||n)&&k.props.hideOnClick!==!1&&k.state.isVisible?ee=!0:gi(w),w.type==="click"&&(n=!ee),ee&&!me&&mi(w)}}o(ge,"onTrigger2");function F(w){var K=w.target,ee=V().contains(K)||T.contains(K);if(!(w.type==="mousemove"&&ee)){var me=Ge().concat(T).map(function(he){var ze,at=he._tippy,Qm=(ze=at.popperInstance)==null?void 0:ze.state;return Qm?{popperRect:he.getBoundingClientRect(),popperState:Qm,props:t}:null}).filter(Boolean);k$(me,w)&&(ve(),mi(w))}}o(F,"onMouseMove");function U(w){var K=le(w)||k.props.trigger.indexOf("click")>=0&&n;if(!K){if(k.props.interactive){k.hideWithInteractivity(w);return}mi(w)}}o(U,"onMouseLeave");function Z(w){k.props.trigger.indexOf("focusin")<0&&w.target!==V()||k.props.interactive&&w.relatedTarget&&T.contains(w.relatedTarget)||mi(w)}o(Z,"onBlurOrFocusOut");function le(w){return pt.isTouch?se()!==w.type.indexOf("touch")>=0:!1}o(le,"isEventListenerStopped");function He(){Je();var w=k.props,K=w.popperOptions,ee=w.placement,me=w.offset,he=w.getReferenceClientRect,ze=w.moveTransition,at=ae()?Ek(T).arrow:null,Qm=he?{getBoundingClientRect:he,contextElement:he.contextElement||V()}:i,ew={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:o(function(My){var Zm=My.state;if(ae()){var sC=H(),FT=sC.box;["placement","reference-hidden","escaped"].forEach(function(wy){wy==="placement"?FT.setAttribute("data-placement",Zm.placement):Zm.attributes.popper["data-popper-"+wy]?FT.setAttribute("data-"+wy,""):FT.removeAttribute("data-"+wy)}),Zm.attributes.popper={}}},"fn5")},fi=[{name:"offset",options:{offset:me}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!ze}},ew];ae()&&at&&fi.push({name:"arrow",options:{element:at,padding:3}}),fi.push.apply(fi,(K==null?void 0:K.modifiers)||[]),k.popperInstance=l$(Qm,T,Object.assign({},K,{placement:ee,onFirstUpdate:d,modifiers:fi}))}o(He,"createPopperInstance");function Je(){k.popperInstance&&(k.popperInstance.destroy(),k.popperInstance=null)}o(Je,"destroyPopperInstance");function Be(){var w=k.props.appendTo,K,ee=V();k.props.interactive&&w===vM||w==="parent"?K=ee.parentNode:K=SM(w,[ee]),K.contains(T)||K.appendChild(T),k.state.isMounted=!0,He()}o(Be,"mount");function Ge(){return Mb(T.querySelectorAll("[data-tippy-root]"))}o(Ge,"getNestedPopperTree");function gi(w){k.clearDelayTimeouts(),w&&ce("onTrigger",[k,w]),ne();var K=G(!0),ee=X(),me=ee[0],he=ee[1];pt.isTouch&&me==="hold"&&he&&(K=he),K?a=setTimeout(function(){k.show()},K):k.show()}o(gi,"scheduleShow");function mi(w){if(k.clearDelayTimeouts(),ce("onUntrigger",[k,w]),!k.state.isVisible){ye();return}if(!(k.props.trigger.indexOf("mouseenter")>=0&&k.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(w.type)>=0&&n)){var K=G(!1);K?r=setTimeout(function(){k.state.isVisible&&k.hide()},K):s=requestAnimationFrame(function(){k.hide()})}}o(mi,"scheduleHide");function Bf(){k.state.isEnabled=!0}o(Bf,"enable");function Sy(){k.hide(),k.state.isEnabled=!1}o(Sy,"disable");function Ty(){clearTimeout(a),clearTimeout(r),cancelAnimationFrame(s)}o(Ty,"clearDelayTimeouts");function _y(w){if(!k.state.isDestroyed){ce("onBeforeUpdate",[k,w]),ke();var K=k.props,ee=DM(i,Object.assign({},K,AM(w),{ignoreAttributes:!0}));k.props=ee,z(),K.interactiveDebounce!==ee.interactiveDebounce&&(ve(),m=TM(F,ee.interactiveDebounce)),K.triggerTarget&&!ee.triggerTarget?Ii(K.triggerTarget).forEach(function(me){me.removeAttribute("aria-expanded")}):ee.triggerTarget&&i.removeAttribute("aria-expanded"),Ae(),J(),E&&E(K,ee),k.popperInstance&&(He(),Ge().forEach(function(me){requestAnimationFrame(me._tippy.popperInstance.forceUpdate)})),ce("onAfterUpdate",[k,w])}}o(_y,"setProps");function Ay(w){k.setProps({content:w})}o(Ay,"setContent2");function eC(){var w=k.state.isVisible,K=k.state.isDestroyed,ee=!k.state.isEnabled,me=pt.isTouch&&!k.props.touch,he=_k(k.props.duration,0,ot.duration);if(!(w||K||ee||me)&&!V().hasAttribute("disabled")&&(ce("onShow",[k],!1),k.props.onShow(k)!==!1)){if(k.state.isVisible=!0,ae()&&(T.style.visibility="visible"),J(),ne(),k.state.isMounted||(T.style.transition="none"),ae()){var ze=H(),at=ze.box,Qm=ze.content;Mk([at,Qm],0)}d=o(function(){var fi;if(!(!k.state.isVisible||h)){if(h=!0,T.offsetHeight,T.style.transition=k.props.moveTransition,ae()&&k.props.animation){var zT=H(),My=zT.box,Zm=zT.content;Mk([My,Zm],he),MM([My,Zm],"visible")}Re(),Ae(),_M(xk,k),(fi=k.popperInstance)==null||fi.forceUpdate(),ce("onMount",[k]),k.props.animation&&ae()&&C(he,function(){k.state.isShown=!0,ce("onShown",[k])})}},"onFirstUpdate2"),Be()}}o(eC,"show");function tC(){var w=!k.state.isVisible,K=k.state.isDestroyed,ee=!k.state.isEnabled,me=_k(k.props.duration,1,ot.duration);if(!(w||K||ee)&&(ce("onHide",[k],!1),k.props.onHide(k)!==!1)){if(k.state.isVisible=!1,k.state.isShown=!1,h=!1,n=!1,ae()&&(T.style.visibility="hidden"),ve(),ye(),J(!0),ae()){var he=H(),ze=he.box,at=he.content;k.props.animation&&(Mk([ze,at],me),MM([ze,at],"hidden"))}Re(),Ae(),k.props.animation?ae()&&Ne(me,k.unmount):k.unmount()}}o(tC,"hide");function aC(w){re().addEventListener("mousemove",m),_M(Rb,m),m(w)}o(aC,"hideWithInteractivity");function iC(){k.state.isVisible&&k.hide(),k.state.isMounted&&(Je(),Ge().forEach(function(w){w._tippy.unmount()}),T.parentNode&&T.parentNode.removeChild(T),xk=xk.filter(function(w){return w!==k}),k.state.isMounted=!1,ce("onHidden",[k]))}o(iC,"unmount");function rC(){k.state.isDestroyed||(k.clearDelayTimeouts(),k.unmount(),ke(),delete i._tippy,k.state.isDestroyed=!0,ce("onDestroy",[k]))}o(rC,"destroy")}o($$,"createTippy");function Df(i,e){e===void 0&&(e={});var t=ot.plugins.concat(e.plugins||[]);T$();var a=Object.assign({},e,{plugins:t}),r=b$(i),s=r.reduce(function(n,l){var u=l&&$$(l,a);return u&&n.push(u),n},[]);return wb(i)?s[0]:s}o(Df,"tippy"),Df.defaultProps=ot,Df.setDefaultProps=E$,Df.currentInput=pt,Object.assign({},tM,{effect:o(function(e){var t=e.state,a={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,a.popper),t.styles=a,t.elements.arrow&&Object.assign(t.elements.arrow.style,a.arrow)},"effect")}),Df.setDefaultProps({render:OM});const Eb=[];function CM(i){let e=i._tippy;if(e)return;const t=document.createElement("div");t.className="tooltip";const a=i.getAttribute("data-tooltip")||"",r=State.variables.settings.animatedtooltips,s=r?300:0,n=r?150:0;State.temporary.foctimed_is_tooltip=(State.temporary.foctimed_is_tooltip||0)+1,$(t).wiki(a),State.temporary.foctimed_is_tooltip-=1;const l=i.getAttribute("data-tooltip-placement")||void 0,u=+i.getAttribute("data-tooltip-distance")||0;e=Df(i,{content:t,duration:[s,0],delay:i.getAttribute("data-tooltip-delay")!==null?[500,0]:[n,0],maxWidth:i.getAttribute("data-tooltip-wide")!==null?860:void 0,trigger:i.getAttribute("data-tooltip-noclick")!==null?"mouseenter":"mouseenter click",placement:l,offset:[0,u],showOnCreate:!0,zIndex:Dialog.isOpen()?100100:9e4,appendTo:document.body,onTrigger(h,p){p.type==="click"&&h.setProps({interactive:!0})},onHide(h){h.setProps({interactive:!1})},onDestroy(h){const p=Eb.indexOf(h);p!==-1&&Eb.splice(p,1)}}),Eb.push(e)}o(CM,"createTooltipInstanceIfMissing");function PM(i){if(i.target instanceof Element){let e=i.target;for(;e;){if(e.getAttribute("data-tooltip"))return e;e=e.parentElement}}return null}o(PM,"findDataTooltip");let Dk=null;function O$(i){i.setProps({hideOnClick:!1}),i.destroy(),i.clearDelayTimeouts()}o(O$,"destroyTooltip");function C$(){Dk=null;for(const i of Eb.filter(e=>!e.reference||!e.reference.isConnected))O$(i)}o(C$,"checkTooltipReferences"),document.body.addEventListener("click",function(i){const e=PM(i);e&&CM(e)}),document.body.addEventListener("mouseover",function(i){const e=PM(i);e&&CM(e)});function LM(){setTimeout(function(){new MutationObserver(function(){Dk||(Dk=setTimeout(C$,1))}).observe(document.body,{attributes:!0,attributeFilter:["style"],childList:!0,subtree:!0})},1)}o(LM,"setupMutationObserver"),document.readyState==="complete"?LM():document.addEventListener("DOMContentLoaded",LM,!1),setup.qcImpl.AddHistory=(gn=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,this.history=t}text(){return`setup.qc.AddHistory('${this.actor_name}', "${this.history}")`}apply(e){let t=e.getActorUnit(this.actor_name);if(t.addHistory(this.history,e,!0),t.isYourCompany()){const a=setup.Text.replaceUnitMacros(this.history,{a:t});setup.notify(`An important moment for a|rep as a|they ${a}`,{a:t})}}explain(e){return`${this.actor_name} gains a history: "${this.history}"`}},o(gn,"AddHistory"),gn),setup.qcImpl.AddUnitToUnitGroup=(mn=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,setup.isString(t)?this.unit_group_key=t:this.unit_group_key=t.key}text(){let e=setup.unitgroup[this.unit_group_key],t=State.variables.qcustomunitgroup;t||(t=[]);let a=e.key;for(let r=0;r<t.length;++r){let s=t[r];if(s.key==e.key){a=s.otherkey;break}}return`setup.qc.AddUnitToUnitGroup('${this.actor_name}', '${a}')`}isOk(e){throw new Error("Reward only")}apply(e){let t=e.getActorUnit(this.actor_name);setup.unitgroup[this.unit_group_key].addUnit(t)}undoApply(e){throw new Error("Can't undo")}explain(e){return`${this.actor_name} is added to unit group ${setup.unitgroup[this.unit_group_key].rep()}`}},o(mn,"AddUnitToUnitGroup"),mn),setup.qcImpl.BgTraitReset=(_t=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,this.trait_key=t.key}isOk(e){throw new Error("Reward only")}text(){return`setup.qc.BgTraitReset('${this.actor_name}', setup.trait.${this.trait_key})`}apply(e){let t=setup.trait[this.trait_key],a=setup.qc.RemoveTraitsWithTag(this.actor_name,"bg"),r=setup.qc.Trait(this.actor_name,t);a.apply(e),r.apply(e)}undoApply(e){throw new Error("Can't undo")}explain(e){return`${this.actor_name}'s background is reset to ${setup.trait[this.trait_key].rep()}`}},o(_t,"BgTraitReset"),y(_t,"NAME","Replace Background Trait"),y(_t,"PASSAGE","CostBgTraitReset"),y(_t,"UNIT",!0),_t),setup.qcImpl.Blessing=(fn=class extends setup.Cost{constructor(e,t,a,r){if(super(),this.actor_name=e,a){if(this.max_trait_key=setup.keyOrSelf(a),!setup.trait[this.max_trait_key].getTags().includes("blessingcursemax"))throw new Error(`${this.max_trait_key} is not a max blessing/curse trait for qc.Blessing!`)}else this.max_trait_key=null;if(this.amount=t||1,this.is_curse=r,this.is_curse&&a)throw new Error("Cannot have both is_curse and max_trait set")}text(){return`setup.qc.Blessing('${this.actor_name}', ${this.amount}, ${this.max_trait_key?`'${this.max_trait_key}'`:"null"}, ${this.is_curse})`}apply(e){const t=e.getActorUnit(this.actor_name);let a;if(this.max_trait_key?a=setup.trait[this.max_trait_key]:this.is_curse?a=setup.rng.choice(setup.TraitHelper.getAllTraitsOfTags(["cursemax"])):a=setup.rng.choice(setup.TraitHelper.getAllTraitsOfTags(["blessingmax"])),a.getTags().includes("curse")&&t.isHasTrait("perk_uncursed")){setup.notify("a|Rep cannot get cursed, and get traumatized instead",{a:t});const n=this.amount*setup.PERK_UNCURSED_TRAUMA_DURATION;return setup.qc.TraumatizeRandom(this.actor_name,n).apply(e)}const r=t.getTraitFromTraitGroup(a.getTraitGroup());let s=this.amount;if(!a.getTags().includes("curse")&&t.isHasTrait(a))t.isYourCompany()&&setup.notify(`a|Rep a|is supposed to obtain ${a.rep()}, but a|they already a|have it`,{a:t});else{let n=0;State.variables.notification.disable();for(let l=0;l<s;++l)t.isHasTrait(a)?n+=1:setup.qc.Trait(this.actor_name,a).apply(e);if(State.variables.notification.enable(),n!=s){const l=t.getTraitFromTraitGroup(a.getTraitGroup());t.isYourCompany()&&(l?r?setup.notify(`a|Rep a|lose ${r.rep()} and a|gain ${l.rep()}`,{a:t}):setup.notify(`a|Rep a|gain ${l.rep()}`,{a:t}):r&&setup.notify(`a|Rep a|lose ${r.rep()}`,{a:t}))}if(n&&a.getTags().includes("curse")){if(t.isYourCompany()&&setup.notify(`a|Rep a|is supposed to gain more stacks of ${a.rep()}, but a|they already a|have it at maximum, and the curse overflows`,{a:t}),a.getTags().includes("blessingprotection")){const l=setup.CURSE_INJURY_WEEKS*n;setup.qc.Injury(this.actor_name,l).apply(e)}else if(a.getTags().includes("blessingsanity")){const l=setup.CURSE_TRAUMA_WEEKS*n;setup.qc.TraumatizeRandom(this.actor_name,l).apply(e)}else if(a.getTags().includes("blessingpurity")){const l=n;setup.qc.Corrupt(this.actor_name,null,l).apply(e)}else if(t.isYourCompany()){const l=2500*n;setup.qc.Money(-l).apply(e)}}}}explain(e){if(this.max_trait_key){const t=setup.trait[this.max_trait_key];return`${this.actor_name} gains up to ${this.amount} stacks of ${t.rep()}`}else return this.is_curse?`${this.actor_name} gains up to ${this.amount} stacks of a random curse.`:`${this.actor_name} gains up to ${this.amount} stacks of a random blessing.`}},o(fn,"Blessing"),fn),setup.qcImpl.Bodyswap=(pa=class extends setup.Cost{constructor(e,t,a){super(),this.actor_name=e,this.target_actor_name=t,this.skip_title=a}text(){return`setup.qc.Bodyswap('${this.actor_name}', '${this.target_actor_name}', ${!!this.skip_title})`}static doBodySwap(e,t,a,r){if(!a&&(e.isSlaver()||t.isSlaver())&&e.getGender()!=t.getGender()){setup.notify("Cannot swap a slaver's gender. The bodyswap between a|rep and b|rep did not take place.",{a:e,b:t});return}const s=State.variables.unitimage.getImagePath(e),n=State.variables.unitimage.getImagePath(t),l=e.getCustomImageName(),u=t.getCustomImageName(),h=e.getInnateTraits(),p=t.getInnateTraits();let c=[[e,t.getRemovableTraits(),t,n,u,p],[t,e.getRemovableTraits(),e,s,l,h]];State.variables.notification.disable();for(let d=0;d<2;++d){if(d==1&&r)continue;let g=c[d][0],m=c[d][1],f=["gender","physical","subrace","skin"];const b=g.getRemovableTraits();for(const M of b)M.getTags().filter(k=>f.includes(k)).length&&g.removeTraitExact(M);for(let M=0;M<m.length;++M){let k=m[M];k.getTags().filter(_=>f.includes(_)).length&&g.addTrait(k,null,!0)}g.isHasDick()||g.removeTraitsWithTag("needdick"),g.isHasVagina()||g.removeTraitsWithTag("needvagina");let v=g.getEquipmentSet();v&&v.recheckEligibility(),g.custom_image_name=c[d][4],State.variables.unitimage.setImage(g,c[d][3]);let S=c[d][5];g.setInnateTraits(S)}State.variables.notification.enable(),e.isYourCompany()&&setup.notify("a|reps body transformed...",{a:e}),!r&&t.isYourCompany()&&setup.notify("a|reps body transformed...",{a:t})}apply(e){let t=e.getActorUnit(this.actor_name),a=e.getActorUnit(this.target_actor_name);setup.qcImpl.Bodyswap.doBodySwap(t,a);let r=[[t,a],[a,t]];if(!this.skip_title)for(let s=0;s<2;++s){let n=r[s][0];State.variables.titlelist.addTitle(n,setup.title.bodyswapped),n.addHistory(`swapped bodies with ${r[s][1].getName()}`)}}explain(e){return`${this.actor_name} and ${this.target_actor_name} swap bodies`}},o(pa,"Bodyswap"),y(pa,"NAME","Swaps the bodies of two units"),y(pa,"PASSAGE","CostBodyswap"),pa),setup.qcImpl.BodyswapOneDirection=(bn=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,this.target_actor_name=t}text(){return`setup.qc.BodyswapOneDirection('${this.actor_name}', '${this.target_actor_name}')`}apply(e){let t=e.getActorUnit(this.actor_name),a=e.getActorUnit(this.target_actor_name);setup.qcImpl.Bodyswap.doBodySwap(t,a,!1,!0),t.addHistory(`copied ${a.getName()}'s body`)}explain(e){return`${this.actor_name} copies ${this.target_actor_name}'s body`}},o(bn,"BodyswapOneDirection"),bn),setup.qcImpl.BoonizeRandom=(At=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,this.duration=t}text(){return`setup.qc.BoonizeRandom('${this.actor_name}', ${this.duration})`}isOk(e){throw new Error("Reward only")}apply(e){let t=e.getActorUnit(this.actor_name);State.variables.trauma.boonize(t,this.duration)}undoApply(e){throw new Error("not undo-able")}explain(e){return`${this.actor_name} gains a random and temporary boon for ${this.duration} weeks`}},o(At,"BoonizeRandom"),y(At,"NAME","Unit gains a random temporary boon"),y(At,"PASSAGE","CostBoonizeRandom"),y(At,"UNIT",!0),At),setup.qcImpl.Corrupt=(yn=class extends setup.Cost{constructor(e,t,a){if(super(),t&&!setup.TraitHelper.getAllTraitsOfTags([t]).length)throw new Error(`Trait tag ${t} invalid for corruption.`);this.actor_name=e,this.trait_tag=t||null,this.amount=a||1}text(){return`setup.qc.Corrupt('${this.actor_name}', ${this.trait_tag}, ${this.amount})`}apply(e){const t=e.getActorUnit(this.actor_name);for(let a=0;a<this.amount;++a)t.corrupt(this.trait_tag)}explain(e){return`corrupt ${this.actor_name}'s ${this.trait_tag||"random aspect"} ${this.amount} times`}},o(yn,"Corrupt"),yn);const Nv=class Nv extends setup.Cost{_do_apply(e,t,a){if(t.isMindbroken()){t.isYourCompany()&&setup.notify("Since a|rep a|is mindbroken, a|they could not become more dominant",{a:t});return}const r=a.filter(l=>setup.RestrictionLib.isUnitSatisfy(t,l.requirements)),s=setup.rng.choice(r);t.isYourCompany()&&setup.notify(setup.rng.choice(s.texts),{a:t}),s.effect.apply(e)}};o(Nv,"SluttifyDomifyCost");let xb=Nv;setup.qcImpl.Domify=(kn=class extends xb{constructor(e){super(),this.actor_name=e}text(){return`setup.qc.Domify('${this.actor_name}')`}apply(e){const t=e.getActorUnit(this.actor_name);if(t.isHasTrait(setup.trait.curse_lamb1)){t.decreaseTrait(setup.trait.curse_lamb8.getTraitGroup()),t.isYourCompany()&&setup.notify("a|Reps Curse of Lamb prevents a|them from being domified",{a:t});return}const a=[{requirements:[setup.qres.NoTrait(setup.trait.per_dominant)],effect:setup.qc.Trait(this.actor_name,setup.trait.per_dominant),texts:["a|Rep a|discover the joy behind dominating others","a|Rep a|learn about a|their true nature and become more dominant"]},{requirements:[setup.qres.Not(setup.qres.Job(setup.job.slave))],effect:setup.qc.Blessing(this.actor_name,1,setup.trait.blessing_wolf8),texts:["a|Rep a|is blessed to not become a submissive","a|Rep a|is blessed to resist a|their submissive thoughts"]},{requirements:[setup.qres.NoTrait(setup.trait.per_smart)],effect:setup.qc.Trait(this.actor_name,setup.trait.per_smart),texts:["a|Rep a|gain the ability to think and concentrate","a|Rep a|become smarter and smarter"]},{requirements:[],effect:setup.qc.Trauma(this.actor_name,setup.trait.boon_slaving,75),texts:["a|Rep a|gain a LOT of confidence","a|Rep a|have become much, MUCH more menacing than before"]}],r={requirements:[setup.qres.NoTrait(setup.trait.per_dominant)],effect:setup.qc.Trait(this.actor_name,setup.trait.per_dominant),texts:["a|Rep a|discover the joy behind dominating others","a|Rep a|learn about a|their true nature and become more dominant"]},s=a.length;for(let n=0;n<s;++n)a.push(r);return this._do_apply(e,t,a)}explain(e){return`${this.actor_name} becomes more dominant`}},o(kn,"Domify"),kn),setup.qcImpl.ExpUnit=(vn=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,this.week_multiplier=t}apply(e){const t=e.getActorUnit(this.actor_name),a=Math.round(setup.getUnitPlayerLevelDifficulty().getExp()*this.week_multiplier);t.gainExp(a),t.isYourCompany()&&setup.notify(`a|Rep a|gain ${a} exp`,{a:t})}explain(e){return`${this.actor_name} gain some exp (multiplier: ${this.week_multiplier})`}},o(vn,"ExpUnit"),vn),setup.qcImpl.FirstName=(Sn=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,this.first_name=t}text(){return`setup.qc.FirstName('${this.actor_name}', '${setup.escapeJsString(this.first_name)}')`}apply(e){const t=e.getActorUnit(this.actor_name);t.setName(this.first_name,t.getSurname())}explain(e){return`The first name of ${this.actor_name} becomes ${this.first_name}`}},o(Sn,"FirstName"),Sn),setup.qcImpl.GenName=(Tn=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,this.trait_keys=[];let a=!1,r=!1;for(let s=0;s<t.length;++s){if(!t[s].key)throw new Error(`${t[s]} at ${s}-th position not found for genname`);this.trait_keys.push(t[s].key),t[s].getTags().includes("gender")&&(a=!0),t[s].getTags().includes("subrace")&&(r=!0)}this.gender_found=a,this.subrace_found=r}text(){let e=[];for(let t=0;t<this.trait_keys.length;++t)e.push(`setup.trait.${this.trait_keys[t]}`);return`setup.qc.GenName('${this.actor_name}', [${e.join(", ")}])`}getTraits(){let e=[];for(let t=0;t<this.trait_keys.length;++t)e.push(setup.trait[this.trait_keys[t]]);return e}apply(e){let t=e.getActorUnit(this.actor_name),a=this.getTraits();this.gender_found||a.push(t.getGender()),this.subrace_found||a.push(t.getSubrace());let r=VT(a),s=t.getFullName();t.setName(r[0],r[1]);let n=t.getFullName();t.addHistory(` changed name from ${s} to ${n}.`,e)}explain(e){let t=[],a=this.getTraits();for(let r=0;r<a.length;++r)t.push(a[r].rep());return`${this.actor_name} is name is changed to a generated on based on (${t.join("")})`}},o(Tn,"GenName"),Tn),setup.qcImpl.Heal=(Mt=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,this.heal_amt=t}text(){return`setup.qc.Heal('${this.actor_name}', ${this.heal_amt})`}isOk(e){throw new Error("Reward only")}apply(e){let t=e.getActorUnit(this.actor_name);State.variables.hospital.healUnit(t,this.heal_amt)}undoApply(e){let t=e.getActorUnit(this.actor_name);State.variables.hospital.injureUnit(t,this.heal_amt)}explain(e){return`${this.actor_name} healed by ${this.heal_amt} weeks`}},o(Mt,"Heal"),y(Mt,"NAME","Heal Unit"),y(Mt,"PASSAGE","CostHeal"),y(Mt,"UNIT",!0),Mt),setup.qcImpl.Injury=(wt=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,this.injury_amt=t}text(){return`setup.qc.Injury('${this.actor_name}', ${this.injury_amt})`}isOk(e){throw new Error("Reward only")}apply(e){let t=e.getActorUnit(this.actor_name);State.variables.hospital.injureUnit(t,this.injury_amt)}undoApply(e){let t=e.getActorUnit(this.actor_name);State.variables.hospital.healUnit(t,this.injury_amt)}explain(e){return`${this.actor_name} injured for ${this.injury_amt} week`+(this.injury_amt===1?"":"s")}},o(wt,"Injury"),y(wt,"NAME","Injure Unit"),y(wt,"PASSAGE","CostInjury"),y(wt,"UNIT",!0),wt),setup.qcImpl.levelUp=(ca=class extends setup.Cost{constructor(e){super(),this.actor_name=e}text(){return`setup.qc.levelUp('${this.actor_name}')`}isOk(e){throw new Error("Reward only")}apply(e){e.getActorUnit(this.actor_name).levelUp()}undoApply(e){throw new Error("Cannot be undone")}explain(e){return`${this.actor_name} levels up`}},o(ca,"levelUp"),y(ca,"NAME","Level up a unit"),y(ca,"PASSAGE","CostlevelUp"),ca),setup.qcImpl.LevelUpTo=(_n=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,this.target_level=t}text(){return`setup.qc.LevelUpTo('${this.actor_name}', ${this.target_level})`}apply(e){const t=e.getActorUnit(this.actor_name);for(;t.getLevel()<this.target_level;)t.levelUp()}explain(e){return`${this.actor_name} levels up to level ${this.target_level}`}},o(_n,"LevelUpTo"),_n),setup.qcImpl.Mindbreak=(An=class extends setup.Cost{constructor(e){super(),this.actor_name=e}text(){return`setup.qc.Mindbreak('${this.actor_name}')`}apply(e){e.getActorUnit(this.actor_name).isMindbroken()||(setup.qc.RemoveTraitsWithTag(this.actor_name,"training").apply(e),setup.qc.TraitReplace(this.actor_name,setup.trait.training_mindbreak).apply(e))}explain(e){return`${this.actor_name} is mindbroken`}},o(An,"Mindbreak"),An),setup.qcImpl.Nickname=(Mn=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,this.nickname=t}text(){return`setup.qc.Nickname('${this.actor_name}', '${setup.escapeJsString(this.nickname)}')`}apply(e){let t=e.getActorUnit(this.actor_name);t.nickname=this.nickname}explain(e){return`${this.actor_name} is nicknamed ${this.nickname}`}},o(Mn,"Nickname"),Mn),setup.qcImpl.PermanentlyCorrupt=(wn=class extends setup.Cost{constructor(e){super(),this.actor_name=e}text(){return`setup.qc.PermanentlyCorrupt('${this.actor_name}')`}apply(e){const t=e.getActorUnit(this.actor_name),a=t.corruptPermanently();a&&t.addHistory(`got permanently corrupted and gained ${a.rep()}.`,e)}explain(e){return`permanently corrupt ${this.actor_name}`}},o(wn,"PermanentlyCorrupt"),wn),setup.qcImpl.Purify=(Rt=class extends setup.Cost{constructor(e,t){if(super(),t&&!setup.TraitHelper.getAllTraitsOfTags([t]).length)throw new Error(`Trait tag ${t} invalid for purification.`);this.actor_name=e,this.trait_tag=t}text(){return this.trait_tag?`setup.qc.Purify('${this.actor_name}', ${this.trait_tag})`:`setup.qc.Purify('${this.actor_name}')`}isOk(e){throw new Error("Reward only")}apply(e){e.getActorUnit(this.actor_name).purify(this.trait_tag)}undoApply(e){throw new Error("Can't undo")}explain(e){return`purify ${this.actor_name}'s ${this.trait_tag||"random aspect"}`}},o(Rt,"Purify"),y(Rt,"NAME","Purify unit from a corruption"),y(Rt,"PASSAGE","CostPurify"),y(Rt,"UNIT",!0),Rt),setup.qcImpl.RemoveFromUnitGroup=(Rn=class extends setup.Cost{constructor(e){super(),this.actor_name=e}text(){return`setup.qc.RemoveFromUnitGroup('${this.actor_name}')`}isOk(e){throw new Error("Reward only")}apply(e){let t=e.getActorUnit(this.actor_name),a=t.getUnitGroup();a&&a.removeUnit(t)}undoApply(e){throw new Error("Can't undo")}explain(e){return`${this.actor_name} is removed from their unit group, if any`}},o(Rn,"RemoveFromUnitGroup"),Rn),setup.qcImpl.Retire=(En=class extends setup.Cost{constructor(e){super(),this.actor_name=e}text(){return`setup.qc.Retire('${this.actor_name}')`}apply(e){const t=e.getActorUnit(this.actor_name);State.variables.retiredlist.retire(t)}explain(e){return`Forcefully retires ${this.actor_name}`}},o(En,"Retire"),En),setup.qcImpl.SkillBoost=(xn=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,this.skill_key=setup.keyOrSelf(t)}text(){return`setup.qc.SkillBoost('${this.actor_name}', setup.skill.${this.getSkill().keyword})`}getSkill(){return setup.skill[this.skill_key]}apply(e){const t=e.getActorUnit(this.actor_name),a=this.getSkill();State.variables.skillboost.addBoost(t,a)}explain(e){return`Boost ${this.actor_name}'s ${this.getSkill().rep()} permanently by 1`}},o(xn,"SkillBoost"),xn),setup.qcImpl.Sluttify=(Dn=class extends xb{constructor(e){super(),this.actor_name=e}text(){return`setup.qc.Sluttify('${this.actor_name}')`}apply(e){const t=e.getActorUnit(this.actor_name);if(t.isHasTrait(setup.trait.blessing_wolf1)){t.decreaseTrait(setup.trait.blessing_wolf8.getTraitGroup()),t.isYourCompany()&&setup.notify("a|Reps Blessing of Wolf prevents a|them from being sluttified",{a:t});return}const a=[{requirements:[setup.qres.NoTrait(setup.trait.per_submissive)],effect:setup.qc.Trait(this.actor_name,setup.trait.per_submissive),texts:["a|Rep a|have learned that deep down, a|they a|is nothing but a slut to be dominated by others","a|Rep a|learn about a|their true nature and become more submissive"]},{requirements:[setup.qres.NoTrait(setup.trait.per_sexaddict)],effect:setup.qc.Trait(this.actor_name,setup.trait.per_sexaddict),texts:["a|Rep can only think about sex","a|Rep a|is riddled by dirty thoughts and sex"]},{requirements:[setup.qres.NoTraits([setup.trait.per_masochistic,setup.trait.per_lunatic])],effect:setup.qc.Trait(this.actor_name,setup.trait.per_masochistic),texts:["a|Rep a|begin to crave pain and punishment","a|Rep a|learn the joy of being punished"]},{requirements:[setup.qres.NoTraits([setup.trait.per_masochistic,setup.trait.per_lunatic])],effect:setup.qc.Trait(this.actor_name,setup.trait.per_lunatic),texts:["a|Rep a|lose part of a|their sanity","a|Rep can never be the same again, having lost some of a|their sanity"]},{requirements:[setup.qres.Not(setup.qres.Job(setup.job.slave))],effect:setup.qc.Blessing(this.actor_name,2,setup.trait.curse_lamb8),texts:["a|Rep a|is cursed to forever be a submissive","a|Rep a|is cursed to become a submissive who crave nothing but to be dominated"]},{requirements:[setup.qres.NoTrait(setup.trait.per_slow)],effect:setup.qc.Trait(this.actor_name,setup.trait.per_slow),texts:["a|Rep a|lose the ability to think and concentrate","a|Rep a|become dumber and dumber"]},{requirements:[],effect:setup.qc.Trauma(this.actor_name,setup.trait.trauma_slaving,150),texts:["a|Rep a|lose a LOT of a|their confidence","a|Rep a|have become much, MUCH meeker than before"]},{requirements:[setup.qres.Job(setup.job.slave)],effect:setup.qc.Mindbreak(this.actor_name),texts:["a|Rep a|have finally lost it completely, a|their mind now permanently broken","a|Rep a|have become a permanently disfunctional sex toy, incapable of higher thoughts"]}];return this._do_apply(e,t,a)}explain(e){return`${this.actor_name} becomes sluttier`}},o(Dn,"Sluttify"),Dn),setup.qcImpl.Surname=(In=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,this.surname=t}text(){return`setup.qc.Surname('${this.actor_name}', '${setup.escapeJsString(this.surname)}')`}apply(e){const t=e.getActorUnit(this.actor_name);t.setName(t.getFirstName(),this.surname)}explain(e){return`The surname of ${this.actor_name} becomes ${this.surname}`}},o(In,"Surname"),In),setup.qcImpl.Trauma=(Et=class extends setup.Cost{constructor(e,t,a){super(),this.actor_name=e,this.trait_key=t.key,this.duration=a}isOk(e){throw new Error("Reward only")}text(){return`setup.qc.Trauma('${this.actor_name}', setup.trait.${this.trait_key}, ${this.duration})`}apply(e){let t=e.getActorUnit(this.actor_name),a=setup.trait[this.trait_key];State.variables.trauma.adjustTrauma(t,a,this.duration)}undoApply(e){throw new Error("Can't undo")}explain(e){return`${this.actor_name}'s gains ${setup.trait[this.trait_key].rep()} for ${this.duration} weeks`}},o(Et,"Trauma"),y(Et,"NAME","Gain a specific temporary trauma/boon for several weeks"),y(Et,"PASSAGE","CostTrauma"),y(Et,"UNIT",!0),Et),setup.qcImpl.TraumaHeal=(xt=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,this.duration=t}text(){return`setup.qc.TraumaHeal('${this.actor_name}', ${this.duration})`}isOk(e){throw new Error("Reward only")}apply(e){let t=e.getActorUnit(this.actor_name);State.variables.trauma.healTrauma(t,this.duration)}undoApply(e){throw new Error("not undo-able")}explain(e){return`${this.actor_name} heals ${this.duration} weeks of trauma`}},o(xt,"TraumaHeal"),y(xt,"NAME","Heals given amount of week worth of trauma"),y(xt,"PASSAGE","CostTraumaHeal"),y(xt,"UNIT",!0),xt),setup.qcImpl.TraumatizeRandom=(Dt=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,this.duration=t}text(){return`setup.qc.TraumatizeRandom('${this.actor_name}', ${this.duration})`}isOk(e){throw new Error("Reward only")}apply(e){let t=e.getActorUnit(this.actor_name);State.variables.trauma.traumatize(t,this.duration)}undoApply(e){throw new Error("not undo-able")}explain(e){return`${this.actor_name} gains a random temporary trauma for ${this.duration} weeks`}},o(Dt,"TraumatizeRandom"),y(Dt,"NAME","Unit gains a random temporary trauma"),y(Dt,"PASSAGE","CostTraumatizeRandom"),y(Dt,"UNIT",!0),Dt),setup.qcImpl.AllUnitSatisfyDo=($n=class extends setup.Cost{constructor(e,t){super(),this.requirement=e,this.dowhat=t}text(){return`setup.qc.AllUnitSatisfyDo([${this.requirement.map(e=>e.text()).join(", ")}],
[${this.dowhat.map(e=>e.text()).join(", ")}],
)`}apply(e){for(const t of Object.values(State.variables.unit))if(setup.RestrictionLib.isUnitSatisfy(t,this.requirement)){let a=null;e&&"getName"in e&&(a=e.getName()),setup.RestrictionLib.applyAll(this.dowhat,setup.costUnitHelperDict({unit:t},a))}}explain(e){return`<div class='card livingcard'>For all units that satisfy: ${this.requirement.map(t=>t.explain()).join(", ")} <br/> do:
      <br/>
      ${this.dowhat.map(t=>`${t.explain()}<br/>`).join("")}
    </div>`}getLayout(){return{css_class:"card livingcard",blocks:[{passage:"CostAllUnitSatisfyDo_IfHeader",addpassage:"QGAddRestrictionUnit",listpath:".requirement"},{passage:"CostAllUnitSatisfyDo_ThenHeader",addpassage:"QGAddCostUnit",listpath:".dowhat"}]}}},o($n,"AllUnitSatisfyDo"),$n),setup.qcImpl.DoAll=(On=class extends setup.Cost{constructor(e,t){if(super(),this.costs=e,this.probability=t,!Array.isArray(e))throw new Error(`First element of setup.qc.DoAll must be array, not ${e}`)}text(){return`setup.qc.DoAll([
${this.costs.map(e=>e.text()).join(`,
`)}
], ${this.probability})`}apply(e){if(this.probability===void 0||Math.random()<this.probability)for(let t=0;t<this.costs.length;++t)this.costs[t].apply(e)}explain(e){let t="";return this.probability!==void 0&&(t=` (with ${(this.probability*100).toFixed(1)}% chance)`),`<div class='bedchambercard'>Do all:${t}<br/> ${this.costs.map(a=>a.explain(e)).join("<br/>")}</div>`}getLayout(){return{css_class:"bedchambercard",blocks:[{passage:"CostDoAllHeader",listpath:".costs"}]}}isOk(e){if(this.probability)throw new Error("DoAll with probability is not a cost");for(const t of this.costs)if(!t.isOk(e))return!1;return!0}undoApply(e){if(this.probability)throw new Error("DoAll with probability is not undo-able");for(const t of this.costs)t.undoApply(e)}},o(On,"DoAll"),On),setup.qcImpl.HideAll=(Cn=class extends setup.Cost{constructor(e,t){if(super(),this.costs=e,this.explanation_text=t,!Array.isArray(e))throw new Error(`First element of setup.qc.HideAll must be array, not ${e}`)}text(){return`setup.qc.HideAll([
${this.costs.map(e=>e.text()).join(`,
`)}
], "${setup.escapeJsString(this.explanation_text)}")`}apply(e){for(let t=0;t<this.costs.length;++t)this.costs[t].apply(e)}explain(e){return this.explanation_text}getLayout(){return{css_class:"bedchambercard",blocks:[{passage:"CostHideAllHeader",listpath:".costs"}]}}},o(Cn,"HideAll"),Cn),setup.qcImpl.IfActorSatisfyThen=(Pn=class extends setup.Cost{constructor(e,t,a){super(),this.actor_name=e,this.requirement=t,this.effect=a}text(){return"### DEPRECATED. Use IfThenElse and Actor: restriction. ###"}isOk(e){let t=e.getActorUnit(this.actor_name);return this.requirement.isOk(t)?this.effect.isOk(e):!0}apply(e){let t=e.getActorUnit(this.actor_name);if(this.requirement.isOk(t))return this.effect.apply(e)}undoApply(e){throw new Error("Can't undo")}explain(e){return`If (${this.requirement.explain()}) then ${this.effect.explain()}`}},o(Pn,"IfActorSatisfyThen"),Pn),setup.qcImpl.IfThenElse=(Ln=class extends setup.Cost{constructor(e,t,a){super(),this.requirement=e,this.thenwhat=t,this.elsewhat=a}text(){return this.elsewhat?`setup.qc.IfThenElse(
${this.requirement.text()},
${this.thenwhat.text()},
${this.elsewhat.text()})`:`setup.qc.IfThenElse(${this.requirement.text()},
${this.thenwhat.text()},
null)`}isOk(e){return this.requirement.isOk(e)?this.thenwhat.isOk(e):this.elsewhat?this.elsewhat.isOk(e):!0}apply(e){return this.requirement.isOk(e)?this.thenwhat.apply(e):this.elsewhat?this.elsewhat.apply(e):void 0}undoApply(e){throw new Error("Can't undo")}explain(e){return this.elsewhat?`<div class='card livingcard'> If ${this.requirement.explain()} <br/> then: ${this.thenwhat.explain()} <br/> else: ${this.elsewhat.explain()}</div>`:`<div class='card livingcard'> If ${this.requirement.explain()} <br/> then: ${this.thenwhat.explain()}</div>`}getLayout(){return{css_class:"card livingcard",blocks:[{passage:"CostIfThenElse_IfHeader",addpassage:"QGAddRestriction",entrypath:".requirement",sameline:!0},{passage:"CostIfThenElse_ThenHeader",entrypath:".thenwhat"},{passage:"CostIfThenElse_ElseHeader",entrypath:".elsewhat"}]}}},o(Ln,"IfThenElse"),Ln),setup.qcImpl.OneRandom=(Un=class extends setup.Cost{constructor(e){super(),this.costs=e}text(){let e=[];for(let t=0;t<this.costs.length;++t)e.push(this.costs[t].text());return`setup.qc.OneRandom([
${e.join(`,
`)}
])`}isOk(e){for(let t=0;t<this.costs.length;++t)if(!this.costs[t].isOk(e))return!1;return!0}apply(e){return setup.rng.choice(this.costs).apply(e)}undoApply(e){throw new Error("Can't undo")}explain(e){let t=[];for(let a=0;a<this.costs.length;++a)t.push(this.costs[a].explain());return`<div class='card lorecard'> A random effect out of:<br/>${t.join("<br/>")}</div>`}getLayout(){return{css_class:"card lorecard",blocks:[{passage:"CostOneRandomHeader",listpath:".costs"}]}}},o(Un,"OneRandom"),Un),setup.qcImpl.OneRandomSeed=(Nn=class extends setup.Cost{constructor(e){super(),this.costs=e}text(){let e=[];for(let t=0;t<this.costs.length;++t)e.push(this.costs[t].text());return`setup.qc.OneRandomSeed([
${e.join(`,
`)}
])`}getSeededCost(e){return this.costs[e.getSeed()%this.costs.length]}apply(e){return this.getSeededCost(e).apply(e)}explain(e){if(e)return this.getSeededCost(e).explain(e);let t=[];for(let a=0;a<this.costs.length;++a)t.push(this.costs[a].explain());return`<div class='card lorecard'> A random (SEEDED) effect out of:<br/>${t.join("<br/>")}</div>`}getLayout(){return{css_class:"card lorecard",blocks:[{passage:"CostOneRandomSeedHeader",listpath:".costs"}]}}isOk(e){return this.getSeededCost(e).isOk(e)}undoApply(e){this.getSeededCost(e).undoApply(e)}},o(Nn,"OneRandomSeed"),Nn),setup.qcImpl.Equipment=(Hn=class extends setup.Cost{constructor(e){if(super(),!e)throw new Error("Null equipment pool");this.pool_key=setup.keyOrSelf(e)}text(){return`setup.qc.Equipment(setup.equipmentpool.${this.pool_key})`}apply(e){let a=setup.equipmentpool[this.pool_key].generateEquipment();State.variables.armory.addEquipment(a)}explain(){return`Gain an equipment from ${setup.equipmentpool[this.pool_key].rep()}`}},o(Hn,"Equipment"),Hn),setup.qcImpl.EquipmentDirect=(Bn=class extends setup.Cost{constructor(e){if(super(),!e)throw new Error("Null equipment pool");this.equipment_key=setup.keyOrSelf(e)}text(){return`setup.qc.EquipmentDirect('${this.equipment_key}')`}apply(e){State.variables.armory.addEquipment(setup.equipment[this.equipment_key])}explain(){return`Gain ${setup.equipment[this.equipment_key].rep()}`}},o(Bn,"EquipmentDirect"),Bn),setup.qcImpl.EquipmentForSale=(Gn=class extends setup.Cost{constructor(e,t,a){if(super(),!e)throw new Error("Missing equipment pool for equipment for sale");this.equipment_pool_key=setup.keyOrSelf(e),this.markup=a||1,t?this.amount=t:this.amount=1}text(){return`setup.qc.EquipmentForSale('${this.equipment_pool_key}', ${this.amount}, ${this.markup})`}apply(e){let t=this.getMarket(),a=setup.equipmentpool[this.equipment_pool_key];for(let r=0;r<this.amount;++r){let s=a.generateEquipment();new setup.MarketObject(s,Math.round(s.getValue()*this.markup),setup.MARKET_OBJECT_EQUIPMENT_EXPIRATION,t,e)}}getMarket(){return State.variables.market.equipmentmarket}explain(e){return`${this.amount} new items in ${this.getMarket().rep()} at ${this.markup}x price`}},o(Gn,"EquipmentForSale"),Gn),setup.qcImpl.EquipmentForSaleSingle=(qn=class extends setup.Cost{constructor(e){if(super(),!e)throw new Error("Missing equipment for equipment for sale");this.equipment_key=setup.keyOrSelf(e)}apply(e){const t=this.getMarket(),a=setup.equipment[this.equipment_key];new setup.MarketObject(a,a.getValue(),setup.MARKET_OBJECT_EQUIPMENT_EXPIRATION,t,e)}undoApply(e){throw new Error("Can't undo")}getMarket(){return State.variables.market.equipmentmarket}explain(e){const t=setup.equipment[this.equipment_key];return`${this.getMarket().rep()} now sells ${t.rep()}`}},o(qn,"EquipmentForSaleSingle"),qn),setup.qcImpl.EquipmentLose=(zn=class extends setup.Cost{constructor(e){super(),this.equipment_key=setup.keyOrSelf(e)}text(){return`setup.qc.EquipmentLose(setup.equipment.${this.equipment_key})`}getEquipment(){return setup.equipment[this.equipment_key]}apply(e){const t=this.getEquipment();State.variables.armory.getEquipmentCount(t)&&State.variables.armory.removeEquipment(t,1)}explain(){return`Lose ${this.getEquipment().rep()}`}},o(zn,"EquipmentLose"),zn),setup.qcImpl.Exp=(Fn=class extends setup.Cost{constructor(e){if(super(),!(this.constructor!==setup.qcImpl.Exp&&e===void 0)){if(!Number.isInteger(e))throw new Error(`Unknown exp: ${e}`);if(e<0)throw new Error("exp must be positive");this.exp_amount=e}}isOk(){throw new Error("slaversexp should not be a cost")}getExp(e){return this.exp_amount}apply(e){let t=this.getExp(e),r=e.getTeam().getUnits();for(let s=0;s<r.length;++s){let n=r[s];n.isSlaver()&&n.gainExp(t)}setup.notify(`Your slavers gain ${t} exp.`)}undoApply(){throw new Error("exp should not be a cost")}explain(e){return"some exp"}},o(Fn,"Exp"),Fn),setup.qcImpl.ExpCrit=(jn=class extends setup.qcImpl.Exp{constructor(e){super(),e?this.multi=e:this.multi=null,this.IS_EXP_AUTO=!0}text(){let e="";return this.multi&&(e=this.multi),`setup.qc.ExpCrit(${e})`}getExp(e){let t=e.getTemplate().getDifficulty().getExp();return t*=e.getTemplate().getWeeks(),this.multi&&(t*=this.multi),t*=setup.EXP_CRIT_MULTIPLIER,Math.round(t)}explain(e){return e?`<<exp ${this.getExp(e)}>>`:this.multi?`Exp(Crit) x ${this.multi}`:"Exp(Crit)"}},o(jn,"ExpCrit"),jn),setup.qcImpl.ExpDisaster=(Kn=class extends setup.qcImpl.Exp{constructor(e){super(),e?this.multi=e:this.multi=null,this.IS_EXP_AUTO=!0}text(){let e="";return this.multi&&(e=this.multi),`setup.qc.ExpDisaster(${e})`}getExp(e){let t=e.getTemplate().getDifficulty().getExp();return t*=e.getTemplate().getWeeks(),this.multi&&(t*=this.multi),t*=setup.EXP_DISASTER_MULTIPLIER,Math.round(t)}explain(e){return e?`<<exp ${this.getExp(e)}>>`:this.multi?`Exp(Disaster) x ${this.multi}`:"Exp(Disaster)"}},o(Kn,"ExpDisaster"),Kn),setup.qcImpl.ExpFailure=(Vn=class extends setup.qcImpl.Exp{constructor(e){super(),e?this.multi=e:this.multi=null,this.IS_EXP_AUTO=!0}text(){let e="";return this.multi&&(e=this.multi),`setup.qc.ExpFailure(${e})`}getExp(e){let t=e.getTemplate().getDifficulty().getExp();return t*=e.getTemplate().getWeeks(),this.multi&&(t*=this.multi),t*=setup.EXP_FAILURE_MULTIPLIER,Math.round(t)}explain(e){return e?`<<exp ${this.getExp(e)}>>`:this.multi?`Exp(Failure) x ${this.multi}`:"Exp(Failure)"}},o(Vn,"ExpFailure"),Vn),setup.qcImpl.ExpNormal=(Yn=class extends setup.qcImpl.Exp{constructor(e){super(),e?this.multi=e:this.multi=null,this.IS_EXP_AUTO=!0}text(){let e="";return this.multi&&(e=this.multi),`setup.qc.ExpNormal(${e})`}getExp(e){let t=e.getTemplate().getDifficulty().getExp();return t*=e.getTemplate().getWeeks(),this.multi&&(t*=this.multi),Math.round(t)}explain(e){return e?`<<exp ${this.getExp(e)}>>`:this.multi?`Exp(Normal) x ${this.multi}`:"Exp(Normal)"}},o(Yn,"ExpNormal"),Yn),setup.qcImpl.Favor=(Jn=class extends setup.Cost{constructor(e,t){super(),this.company_key=setup.keyOrSelf(e),this.favor_amt=t}text(){return`setup.qc.Favor('${this.company_key}', ${this.favor_amt})`}getCompany(){return State.variables.company[this.company_key]}isOk(){return State.variables.favor.getFavor(this.getCompany())+this.favor_amt>=0}apply(e){const t=this.getCompany(),a=State.variables.favor.adjustFavor(t,this.favor_amt);a>0?setup.notify(`Gained ${setup.DOM.toString(setup.DOM.Text.successlite((a/10).toFixed(1)))} favor with ${t.rep()}`):a<0&&setup.notify(`Lost ${setup.DOM.toString(setup.DOM.Text.dangerlite((-a/10).toFixed(1)))} favor with ${t.rep()}`)}undoApply(){State.variables.favor.adjustFavor(this.getCompany(),-this.favor_amt)}explain(){const e=this.favor_amt,t=this.getCompany();return e<0?`Lose ${setup.DOM.toString(setup.DOM.Text.dangerlite((-e/10).toFixed(1)))} favor with ${t.rep()}`:`Gain ${setup.DOM.toString(setup.DOM.Text.successlite((e/10).toFixed(1)))} favor with ${t.rep()}`}},o(Jn,"Favor"),Jn),setup.qcImpl.FavorUnitValue=(Wn=class extends setup.Cost{constructor(e,t,a){super(),this.actor_name=e,this.company_key=setup.keyOrSelf(t),this.favor_per_value=a}text(){return`setup.qc.FavorUnitValue('${this.actor_name}', '${this.company_key}', ${this.favor_per_value})`}getCompany(){return State.variables.company[this.company_key]}explain(){const e=this.favor_per_value;return`Gain favor with ${this.getCompany().rep()} equals ${this.actor_name}'s value times ${e}`}apply(e){const a=e.getActorUnit(this.actor_name).getSlaveValue()*this.favor_per_value;setup.qc.Favor(this.getCompany(),Math.round(a)).apply()}},o(Wn,"FavorUnitValue"),Wn),setup.qcImpl.Ire=(Qn=class extends setup.Cost{constructor(e,t){super(),this.company_key=setup.keyOrSelf(e),this.ire_amt=t}text(){return`setup.qc.Ire('${this.company_key}', ${this.ire_amt})`}getCompany(){return State.variables.company[this.company_key]}apply(e){const t=this.getCompany(),a=State.variables.ire.adjustIre(t,this.ire_amt);let r="";const s=Math.abs(a);s>16?r="a huge amount of":s>12?r="a large amount of":s>8?r="significant chunk of":s>6?r="good amount of":s>4?r="some":s>2?r="a little":s&&(r="a tiny amount of"),a>0?setup.notify(`Gain ${setup.DOM.toString(setup.DOM.Text.dangerlite(r))} ire with ${t.rep()}`):a<0&&setup.notify(`Lose ${setup.DOM.toString(setup.DOM.Text.successlite(r))} ire with ${t.rep()}`)}explain(){const e=this.ire_amt,t=this.getCompany();return e<0?`Lose ${setup.DOM.toString(setup.DOM.Text.successlite(`${-e}`))} ire with ${t.rep()}`:`Gain ${setup.DOM.toString(setup.DOM.Text.dangerlite(`${e}`))} ire with ${t.rep()}`}},o(Qn,"Ire"),Qn),setup.qcImpl.Money=(Zn=class extends setup.Cost{constructor(e){if(super(),!(this.constructor!==setup.qcImpl.Money&&e===void 0)){if(!Number.isInteger(e))throw new Error(`Unknown money: ${e}`);this.money=e}}text(){return`setup.qc.Money(${this.money})`}getMoney(e){return this.money}isOk(e){let t=this.getMoney(e);return t>=0?!0:State.variables.company.player.getMoney()>=-t}apply(e){State.variables.company.player.addMoney(this.getMoney(e))}undoApply(e){State.variables.company.player.addMoney(-this.getMoney(e))}explain(e){return setup.DOM.toString(setup.DOM.Util.money(this.getMoney(e)))}},o(Zn,"Money"),Zn),setup.qcImpl.MoneyCrit=(da=class extends setup.qcImpl.Money{constructor(e){super(),e?this.multi=e:this.multi=null}text(){let e="";return this.multi&&(e=this.multi),`setup.qc.MoneyCrit(${e})`}explain(e){return e?super.explain(e):this.multi?`Money (auto, crit) x ${this.multi}`:"Money (auto, crit)"}getMoney(e){let t=setup.qcImpl.MoneyNormal.computeBaseMoney(e),a=this.multi;return a&&(t*=a),t*=setup.MONEY_CRIT_MULTIPLIER,Math.round(t)}},o(da,"MoneyCrit"),y(da,"NAME","Money (Critical)"),y(da,"PASSAGE","CostMoneyCrit"),da),setup.qcImpl.MoneyCustom=(ga=class extends setup.qcImpl.Money{constructor(e){super(e)}text(){return`setup.qc.MoneyCustom(${this.money})`}explain(e){return e?super.explain(e):`Scaled money: ${setup.DOM.toString(setup.DOM.Util.money(this.money))}`}getMoney(e){let t=this.money;if(e&&"getTemplate"in e){let r=`normal${e.getTemplate().getDifficulty().getLevel()}`,s=`normal${setup.LEVEL_PLATEAU}`;t=Math.round(t*setup.qdiff[r].getMoney()/setup.qdiff[s].getMoney())}return Math.max(t,1)}},o(ga,"MoneyCustom"),y(ga,"NAME","Gain Money"),y(ga,"PASSAGE","CostMoneyCustom"),ga),setup.qcImpl.MoneyLoseCustom=(ma=class extends setup.qcImpl.MoneyCustom{constructor(e){super(-e)}},o(ma,"MoneyLoseCustom"),y(ma,"NAME","Lose Money"),y(ma,"PASSAGE","CostMoneyLoseCustom"),ma),setup.qcImpl.MoneyMult=(Xn=class extends setup.qcImpl.Money{constructor(e){super(e*setup.MONEY_PER_SLAVER_WEEK)}},o(Xn,"MoneyMult"),Xn),setup.qcImpl.MoneyNormal=(fa=class extends setup.qcImpl.Money{constructor(e){super(),e?this.multi=e:this.multi=null}text(){let e="";return this.multi&&(e=this.multi),`setup.qc.MoneyNormal(${e})`}explain(e){return e?super.explain(e):this.multi?`Money (auto, success) x ${this.multi}`:"Money (auto, success)"}static computeBaseMoney(e){let t=e.getTemplate().getDifficulty().getMoney();if(t*=e.getTemplate().getWeeks(),e instanceof setup.QuestInstance&&e.getTeam()){const a=e.getTeam().getUnits().filter(r=>r.isSlaver()).length;t*=a/3}return Math.round(t)}getMoney(e){let t=setup.qcImpl.MoneyNormal.computeBaseMoney(e);const a=this.multi;return a&&(t*=a),Math.round(t)}},o(fa,"MoneyNormal"),y(fa,"NAME","Money (Normal)"),y(fa,"PASSAGE","CostMoneyNormal"),fa),setup.qcImpl.MoneySmall=(ba=class extends setup.qcImpl.Money{constructor(e){super(),e?this.multi=e:this.multi=null}text(){let e="";return this.multi&&(e=this.multi),`setup.qc.MoneySmall(${e})`}explain(e){return e?super.explain(e):this.multi?`Money (auto, half) x ${this.multi}`:"Money (auto, half)"}getMoney(e){let t=setup.qcImpl.MoneyNormal.computeBaseMoney(e),a=this.multi;return a&&(t*=a),t*=.5,Math.round(t)}},o(ba,"MoneySmall"),y(ba,"NAME","Money (Half of normal)"),y(ba,"PASSAGE","CostMoneySmall"),ba),setup.qcImpl.MoneyUnitValue=(eo=class extends setup.qcImpl.Money{constructor(e,t,a){if(super(0),!a)throw new Error(`Money unit value for ${e} missing a cap`);if(this.actor_name=e,!t)throw new Error(`Missing multiplier for MoneyUnitValue(${e})`);this.multiplier=t,this.cap=a}text(){return`setup.qc.MoneyUnitValue("${this.actor_name}", ${this.multiplier}, ${this.cap})`}getMoney(e){const a=e.getActorUnit(this.actor_name).getSlaveValue();return Math.min(Math.round(a*this.multiplier*setup.lowLevelMoneyMulti()),this.cap)}explain(e){return e&&"getActorUnit"in e?super.explain(e):`Money equal to ${this.multiplier}x ${this.actor_name}'s value, capped at ${this.cap}`}},o(eo,"MoneyUnitValue"),eo),setup.qcImpl.Event=(to=class extends setup.Cost{constructor(e,t,a,r){if(super(),!e)throw new Error("Missing event for Event");if(this.template_key=setup.keyOrSelf(e),this.weeks=t,a&&typeof a!="object")throw new Error(`Default assignment must be an object or null, not ${a}!`);this.default_assignment=a,this.is_visible_in_calendar=r}text(){const e=setup.qcImpl.QuestDirect.assignmentTextHelper(this.default_assignment);return`setup.qc.Event('${this.template_key}', ${this.weeks}, ${e}, ${this.is_visible_in_calendar})`}apply(e){const t=setup.event[this.template_key],a=setup.qcImpl.QuestDirect.getDefaultAssignment(this.default_assignment,e);State.variables.eventpool.scheduleEvent(t,State.variables.calendar.getWeek()+this.weeks,a,this.is_visible_in_calendar)}explain(){const e=setup.qcImpl.QuestDirect.assignmentExplainHelper(this.default_assignment);let t=setup.event[this.template_key];if(!t)throw new Error(`Event ${this.template_key} is missing`);let a=`In ${this.weeks} weeks, trigger event: ${t.getName()} ${e}`;return this.is_visible_in_calendar||(a+=" (hidden from calendar)"),a}},o(to,"Event"),to),setup.qcImpl.Opportunity=(ao=class extends setup.Cost{constructor(e,t){if(super(),!e)throw new Error("Undefined oporunity");this.template_key=setup.keyOrSelf(e),this.default_assignment=t}text(){const e=setup.qcImpl.QuestDirect.assignmentTextHelper(this.default_assignment);return`setup.qc.Opportunity('${this.template_key}', ${e})`}apply(e){let t=setup.opportunitytemplate[this.template_key];const a=setup.qcImpl.QuestDirect.getDefaultAssignment(this.default_assignment,e);let r=setup.QuestPool.instantiateOpportunity(t,a);r?setup.notify(`New opportunity: ${r.rep()}`):(console.log(`Something wrong when trying to generate opportunity ${t.key}`),setup.notify(`Something wrong when trying to generate opportunity ${t.getName()}. Please save your game and report this bug, while attaching the save file.`))}explain(){const e=setup.qcImpl.QuestDirect.assignmentExplainHelper(this.default_assignment);return`New opportunity: ${setup.opportunitytemplate[this.template_key].rep()} ${e}`}},o(ao,"Opportunity"),ao),setup.qcImpl.Quest=(ya=class extends setup.Cost{constructor(e,t){super(),t===void 0&&(t=1),this.questpool_key=e.key,this.quantity=t}text(){return`setup.qc.Quest(setup.questpool.${this.questpool_key}, ${this.quantity})`}isOk(){throw new Error("quest should not be a cost")}apply(e){let t=setup.questpool[this.questpool_key],a=0;for(let r=0;r<this.quantity;++r)t.generateQuest()&&(a+=1);a&&setup.notify(`Obtained ${a} new quests or opportunities from ${t.getName()}`)}undoApply(){throw new Error("quest should not be a cost")}explain(){let e=setup.questpool[this.questpool_key];return`${this.quantity} new quests from ${e.getName()} (immediately)`}},o(ya,"Quest"),y(ya,"NAME","Gain a quest from a quest pool"),y(ya,"PASSAGE","CostQuest"),ya),setup.qcImpl.QuestDelay=(io=class extends setup.Cost{constructor(e,t){super(),t===void 0&&(t=1),setup.isString(e)?this.questpool_key=e:this.questpool_key=e.key,this.quantity=t}text(){return`setup.qc.QuestDelay(setup.questpool.${this.questpool_key}, ${this.quantity})`}isOk(){throw new Error("quest should not be a cost")}apply(e){let t=setup.questpool[this.questpool_key];State.variables.questgen.queue(t,this.quantity),setup.notify(`Obtained ${this.quantity} new quests or opportunities from ${t.getName()}`)}undoApply(){throw new Error("quest should not be a cost")}explain(){let e=setup.questpool[this.questpool_key];return`${this.quantity} new quests from ${e.getName()}`}},o(io,"QuestDelay"),io),setup.qcImpl.QuestDirect=(ro=class extends setup.Cost{constructor(e,t){super(),e?this.template_key=setup.keyOrSelf(e):this.template_key=null,this.default_assignment=t}text(){const e=setup.qcImpl.QuestDirect.assignmentTextHelper(this.default_assignment);return`setup.qc.QuestDirect('${this.template_key}', ${e})`}getQuestTemplate(e){return setup.questtemplate[this.template_key]}apply(e){const t=this.getQuestTemplate(e);if(!t)throw new Error("Quest template is missing");const a=setup.qcImpl.QuestDirect.getDefaultAssignment(this.default_assignment,e),r=setup.QuestPool.instantiateQuest(t,a);r?setup.notify(`New quest: ${r.rep()}`):(console.log(`Something wrong when trying to generate quest ${t.key}`),setup.notify(`Something wrong when trying to generate quest ${t.getName()}. Please save your game and report this bug, while attaching the save file.`))}explain(e){const t=setup.qcImpl.QuestDirect.assignmentExplainHelper(this.default_assignment);let a=setup.questtemplate[this.template_key];if(!a)throw new Error(`Quest ${this.template_key} is missing`);return`New quest: ${a.getName()} ${t}`}static getDefaultAssignment(e,t){if(!e)return{};const a={};for(const r in e){const s=e[r];a[r]=t.getActorUnit(s)}return a}static assignmentTextHelper(e){if(!e)return"null";let t=`{
`;for(const a in e)t+=`${a}: "${e[a]}",
`;return t+="}",t}static assignmentExplainHelper(e){if(!e)return"";let t="with (";for(const a in e)t+=`${a}=${e[a]}, `;return t+=")",t}},o(ro,"QuestDirect"),ro),setup.qcImpl.QuestDirectSelf=(so=class extends setup.qcImpl.QuestDirect{constructor(e){super(null,e)}getQuestTemplate(e){return e.getTemplate()}text(){return`setup.qc.QuestDirectSelf(${setup.qcImpl.QuestDirect.assignmentTextHelper(this.default_assignment)})`}explain(e){return`New quest: this quest again. ${setup.qcImpl.QuestDirect.assignmentExplainHelper(this.default_assignment)}`}},o(so,"QuestDirectSelf"),so),setup.qcImpl.QuestDirectForceAssign=(no=class extends setup.Cost{constructor(e,t){if(super(),!e)throw new Error("Missing template for QuestDirectForceAssign");if(!Object.values(t).length)throw new Error("Empty forced assignment");this.template_key=setup.keyOrSelf(e),this.forced_assignment=t}text(){const e=setup.qcImpl.QuestDirect.assignmentTextHelper(this.forced_assignment);return`setup.qc.QuestDirectForceAssign('${this.template_key}', ${e})`}apply(e){let t=setup.questtemplate[this.template_key];if(!t)throw new Error(`Quest ${this.template_key} is missing`);let a=setup.QuestPool.instantiateQuest(t);if(!a)console.log(`Something wrong when trying to generate quest ${t.key}`),setup.notify(`Something wrong when trying to generate quest ${t.getName()}. Please save your game and report this bug, while attaching the save file.`);else{setup.notify(`New quest: ${a.rep()}`);const r=setup.qcImpl.QuestDirectForceAssign.getActorUnitKey(this.forced_assignment,e);ja(a,r),a.setTeamForcedAssigned()}}explain(e){const t=setup.qcImpl.QuestDirect.assignmentExplainHelper(this.forced_assignment);let a=setup.questtemplate[this.template_key];if(!a)throw new Error(`Quest ${this.template_key} is missing`);return`New quest: ${a.getName()} forced with team: ${t}`}static getActorUnitKey(e,t){const a={};for(const r in e){const s=e[r];a[r]=t.getActorUnit(s).key}return a}static sanityCheckDevTool(e,t){const a=State.variables.dtquest,r={},s=a.getUnitCriterias();for(const n in e.getUnitCriterias()){if(!(n in t))return`Missing role ${n} in new quest!`;const l=t[n];if(!(l in s))return`Actor ${l} is not a team-member!`;if(l in r)return`Actor ${l} duplicated!`;r[l]=!0}return""}},o(no,"QuestDirectForceAssign"),no);const Hv=class Hv extends setup.Cost{constructor(e,t){super(),e?this.template_key=setup.keyOrSelf(e):this.template_key=null,this.cooldown=t}getTemplate(){return null}apply(e){const t=this.getTemplate();if(!t&&t!=null)throw new Error(`Missing template for ${this.template_key}`);State.variables.calendar.setCooldown(this.getTemplate()||e.getTemplate(),this.cooldown)}explain(e){const t=this.getTemplate();return`Cannot generate ${t?t.getName():"this"} for the next ${this.cooldown} weeks`}};o(Hv,"SetCooldown");let If=Hv;setup.qcImpl.SetCooldownQuest=(oo=class extends If{text(){return`setup.qc.SetCooldownQuest(${this.template_key?`'${this.template_key}'`:"null"}, ${this.cooldown})`}getTemplate(){return this.template_key?setup.questtemplate[this.template_key]:null}},o(oo,"SetCooldownQuest"),oo),setup.qcImpl.SetCooldownOpportunity=(lo=class extends If{text(){return`setup.qc.SetCooldownOpportunity(${this.template_key?`'${this.template_key}'`:"null"}, ${this.cooldown})`}getTemplate(){return this.template_key?setup.opportunitytemplate[this.template_key]:null}},o(lo,"SetCooldownOpportunity"),lo),setup.qcImpl.SetCooldownEvent=(uo=class extends If{text(){return`setup.qc.SetCooldownEvent(${this.template_key?`'${this.template_key}'`:"null"}, ${this.cooldown})`}getTemplate(){return this.template_key?setup.event[this.template_key]:null}},o(uo,"SetCooldownEvent"),uo),setup.qcImpl.SlaveOrderTemplate=(ho=class extends setup.Cost{constructor(){super(),this.name="unknown",this.company_key="independent",this.criteria=setup.qu.slave,this.base_price=0,this.trait_multi=0,this.value_multi=0,this.expires_in=1,this.fulfilled_outcomes=[],this.unfulfilled_outcomes=[],this.destination_unit_group_key="soldslaves"}getName(e){return this.name}getCompany(e){return State.variables.company[this.company_key]}getCriteria(e){return this.criteria}_adjustPrice(e,t){if(!t||!("getTemplate"in t)||!("getDifficulty"in t.getTemplate()))return e;let a=t.getTemplate().getDifficulty();if(a.level>=setup.LEVEL_PLATEAU)return e;let r=`normal${a.level}`,s=`normal${setup.LEVEL_PLATEAU}`;return e*setup.qdiff[r].getMoney()/setup.qdiff[s].getMoney()}getBasePrice(e){return Math.round(this._adjustPrice(this.base_price,e))}getTraitMulti(e){return Math.round(this._adjustPrice(this.trait_multi,e))}getValueMulti(e){return this._adjustPrice(this.value_multi,e)}getExpiresIn(e){return this.expires_in}getFulfilledOutcomes(e){return this.fulfilled_outcomes}getUnfulfilledOutcomes(e){return this.unfulfilled_outcomes}getDestinationUnitGroup(e){return setup.unitgroup[this.destination_unit_group_key]}apply(e){return new setup.SlaveOrder(this.getName(e),this.getCompany(e),this.getCriteria(e),this.getBasePrice(e),this.getTraitMulti(e),this.getValueMulti(e),this.getExpiresIn(e),this.getFulfilledOutcomes(e),this.getUnfulfilledOutcomes(e),this.getDestinationUnitGroup(e))}undoApply(e){throw new Error("Can't undo")}explain(e){return`${this.getName(e)}`}},o(ho,"SlaveOrderTemplate"),ho),setup.qcImpl.SlaveOrderFlex=(po=class extends setup.qcImpl.SlaveOrderTemplate{constructor(e,t,a,r,s,n,l,u,h,p,c,d){super(),this.base_price=r,this.trait_multi=s,this.value_multi=n,this.name=e,this.company_key=setup.keyOrSelf(t),this.expires_in=a,this.fulfilled_outcomes=c,this.unfulfilled_outcomes=d,this.destination_unit_group_key=setup.unitgroup.soldslaves.key,this.criteria=new setup.UnitCriteria(null,e,l,u,h,{}),this.addons=p}text(){let e=`setup.qc.SlaveOrderFlex(
`;e+=`  '${setup.escapeJsString(this.name)}',  """/* name */"""
`,e+=`  '${this.company_key}',  """/* company */"""
`,e+=`  ${this.expires_in},  """/* expires in */"""
`,e+=`  ${this.base_price},  """/* base price */"""
`,e+=`  ${this.trait_multi},  """/* trait multi */"""
`,e+=`  ${this.value_multi},  """/* value multi */"""
`,e+=`  [ """/* crit traits */"""
`;for(let t in this.criteria.crit_trait_map)e+=`    setup.trait.${t},
`;e+=`  ],
`,e+=`  [ """/* disaster traits */"""
`;for(let t in this.criteria.disaster_trait_map)e+=`    setup.trait.${t},
`;e+=`  ],
`,e+=`  [ """/* restrictions */"""
`;for(let t=0;t<this.criteria.restrictions.length;++t){let a=this.criteria.restrictions[t];e+=`    ${a.text()},
`}e+=`  ],
`,e+=`  [ """/* addons */"""
`;for(let t=0;t<this.addons.length;++t){let a=this.addons[t];e+=`    ${a.text()},
`}e+=`  ],
`,e+=`  [ """/* fulfilled outcomes */"""
`;for(let t=0;t<this.fulfilled_outcomes.length;++t){let a=this.fulfilled_outcomes[t];e+=`    ${a.text()},
`}e+=`  ],
`,e+=`  [ """/* unfulfilled outcomes */"""
`;for(let t=0;t<this.unfulfilled_outcomes.length;++t){let a=this.unfulfilled_outcomes[t];e+=`    ${a.text()},
`}return e+=`  ],
`,e+=")",e}explain(){let e=`${this.getName()} `;e+='<<message "(+)">>',e+=`${this.getName()} from ${State.variables.company[this.company_key].rep()}<br/>`,e+=`Expires: ${this.expires_in}<br/>`,e+=`Price: <<money ${this.base_price}>> + <<money ${this.trait_multi}>> x traits + <<money ${this.value_multi}>> x value<br/>`,e+="Crit: ";for(let t in this.criteria.crit_trait_map)e+=`${setup.trait[t].rep()}`;e+="<br/>",e+="Failure: ";for(let t in this.criteria.disaster_trait_map)e+=`${setup.trait[t].rep()}`;e+="<br/>",e+="Restrictions: ";for(let t=0;t<this.criteria.restrictions.length;++t){let a=this.criteria.restrictions[t];e+=`${a.explain()}, `}e+="<br/>",e+="Addons: [<br/>";for(let t=0;t<this.addons.length;++t){let a=this.addons[t];e+=`${a.explain()}<br/>`}e+="]<br/>",e+="When fulfilled: [<br/>";for(let t=0;t<this.fulfilled_outcomes.length;++t){let a=this.fulfilled_outcomes[t];e+=`${a.explain()}<br/>`}e+="]<br/>",e+="When unfulfilled: [<br/>";for(let t=0;t<this.unfulfilled_outcomes.length;++t){let a=this.unfulfilled_outcomes[t];e+=`${a.explain()}<br/>`}return e+="]<br/>",e+="<</message>>",e}apply(e){let t=new setup.SlaveOrder(this.getName(e),this.getCompany(e),this.getCriteria(e),this.getBasePrice(e),this.getTraitMulti(e),this.getValueMulti(e),this.getExpiresIn(e),this.getFulfilledOutcomes(e),this.getUnfulfilledOutcomes(e),this.getDestinationUnitGroup(e));for(let a=0;a<this.addons.length;++a)this.addons[a].apply(t);return t}},o(po,"SlaveOrderFlex"),po),setup.qcImpl.SlaveOrderGeneric=(co=class extends setup.qcImpl.SlaveOrderTemplate{constructor(e,t,a,r,s,n,l,u){super(),this.base_price=setup.MONEY_PER_SLAVER_WEEK*r,this.trait_multi=setup.MONEY_PER_SLAVER_WEEK*s,this.value_multi=n,this.criteria=setup.qu.slave,this.name=e,this.company_key=setup.keyOrSelf(t),this.expires_in=a,this.fulfilled_outcomes=[],l&&(this.fulfilled_outcomes=l),this.unfulfilled_outcomes=[],u&&(this.unfulfilled_outcomes=u),this.destination_unit_group_key=setup.unitgroup.soldslaves.key}},o(co,"SlaveOrderGeneric"),co),setup.qcImpl.SlaveOrderItem=(go=class extends setup.qcImpl.SlaveOrderTemplate{constructor(e,t){super(),this.item_key=setup.keyOrSelf(e),this.maximum=t}text(){return`setup.qc.SlaveOrderItem('${this.item_key}')`}getItem(){return setup.item[this.item_key]}apply(e){return new setup.SlaveOrderItem(this.getName(e),this.getCompany(e),this.getCriteria(e),this.getBasePrice(e),this.getTraitMulti(e),this.getValueMulti(e),this.getExpiresIn(e),this.getFulfilledOutcomes(e),this.getUnfulfilledOutcomes(e),this.getDestinationUnitGroup(e),this.getItem(),this.maximum)}},o(go,"SlaveOrderItem"),go),setup.qcImpl.CapturePlayer=(mo=class extends setup.Cost{constructor(){super()}text(){return"setup.qc.CapturePlayer()"}apply(e){State.variables.leave.isOnLeave(State.variables.unit.player)||setup.qc.Leave("unit","went missing").apply(setup.costUnitHelper(State.variables.unit.player));const t=Object.values(setup.event).filter(r=>!(!r.getTags().includes("playercapture")||!r.isCanGenerate()));if(!t.length)throw new Error("No candidate event for player being captured! It's a bug.");const a=setup.rng.choice(t);setup.qc.Event(a,0,{you:"you"}).apply(setup.costUnitHelper(State.variables.unit.player))}explain(e){return"You are captured or otherwise lost from the company"}},o(mo,"CapturePlayer"),mo),setup.qcImpl.CorruptRandomUnitHome=(fo=class extends setup.Cost{constructor(){super()}text(){return"setup.qc.CorruptRandomUnitHome()"}apply(e){let t=State.variables.company.player.getUnits({home:!0});if(!t.length)return;let a=setup.rng.choice(t);setup.qc.Corrupt("unit").apply(setup.costUnitHelper(a))}explain(e){return"Corrupt a random unit in your company"}},o(fo,"CorruptRandomUnitHome"),fo),setup.qcImpl.CurseRandomSlaverHome=(bo=class extends setup.Cost{constructor(){super()}text(){return"setup.qc.CurseRandomSlaverHome()"}apply(e){const t=State.variables.company.player.getUnits({home:!0,job:setup.job.slaver});if(!t.length)return;const a=setup.rng.choice(t);setup.qc.Blessing("unit",1,null,!0).apply(setup.costUnitHelper(a))}explain(e){return"Curse a random unit in your company"}},o(bo,"CurseRandomSlaverHome"),bo),setup.qcImpl.FavorSpread=(yo=class extends setup.Cost{constructor(e,t){super(),this.company_key=setup.keyOrSelf(e),this.amount=t}text(){return`setup.qc.FavorSpread('${this.company_key}', ${this.amount})`}apply(e){const t=[];for(const r in State.variables.company){const s=State.variables.company[r];State.variables.favor.isCompanyKnown(s)&&s!=State.variables.company.player&&s.key!=this.company_key&&t.push(s)}const a=setup.rng.choice(t);setup.qc.Favor(a,this.amount).apply(e)}explain(e){return`Gain ${this.amount} favor with a random company except ${State.variables.company[this.company_key].rep()}`}},o(yo,"FavorSpread"),yo),setup.qcImpl.FreePlayer=(ko=class extends setup.Cost{constructor(){super()}text(){return"setup.qc.FreePlayer()"}apply(e){setup.qc.Return("unit").apply(setup.costUnitHelper(State.variables.unit.player))}explain(e){return"You returned to the company"}},o(ko,"FreePlayer"),ko),setup.qcImpl.HighQualityRecruit=(vo=class extends setup.Cost{constructor(e,t,a,r){if(super(),this.unitgroup_key=setup.keyOrSelf(e),this.job_key=setup.keyOrSelf(t),this.tries=a,this.origin_text=r,a<=0)throw new Error(`Tries must be positive, not ${a}`)}text(){return`setup.qc.HighQualityRecruit('${this.unitgroup_key}', '${this.job_key}', ${this.tries}, '${setup.escapeJsString(this.origin_text)}')`}getJob(){return setup.job[this.job_key]}getUnitGroup(){return setup.unitgroup[this.unitgroup_key]}apply(e){const t=this.getJob(),a=State.variables.settings.getGenderPreference(t),r=this.getUnitGroup();let s=r.getUnit(a);for(let l=0;l<this.tries-1;++l){let u=r.getUnit(a);u.getSlaveValue()>s.getSlaveValue()?(s.delete(),s=u):u.delete()}let n;if(t==setup.job.slaver)n=setup.qc.Slaver;else if(t==setup.job.slave)n=setup.qc.Slave;else throw new Error(`Undetected job: ${this.job_key}`);n("recruit","",!0,1.25).apply({getName:o(()=>this.origin_text,"getName"),getActorUnit:o(()=>s,"getActorUnit")})}explain(e){return`Receive a high quality recruit from ${this.unitgroup_key} (${this.tries} tries) as ${this.job_key}`}},o(vo,"HighQualityRecruit"),vo),setup.qcImpl.InjureRandomSlaverHome=(So=class extends setup.Cost{constructor(){super()}text(){return"setup.qc.InjureRandomSlaverHome()"}apply(e){let t=State.variables.company.player.getUnits({home:!0,job:setup.job.slaver});if(!t.length)return;let a=setup.rng.choice(t);setup.qc.Injury("unit",10).apply(setup.costUnitHelper(a))}explain(e){return"Injure a random unit in your company"}},o(So,"InjureRandomSlaverHome"),So),setup.qcImpl.IreSpread=(To=class extends setup.Cost{constructor(e){super(),this.company_key=setup.keyOrSelf(e)}text(){return`setup.qc.IreSpread('${this.company_key}')`}apply(e){const t=[];for(const r in State.variables.company){const s=State.variables.company[r];State.variables.favor.isCompanyKnown(s)&&s!=State.variables.company.player&&s.key!=this.company_key&&t.push(s)}setup.rng.shuffleArray(t);let a=3;this.company_key=="royal"&&(a+=1);for(let r=0;r<a&&!(t.length<=r);++r)setup.qc.Ire(t[r],10).apply(e)}explain(e){return`Gain ire with three other companies except ${State.variables.company[this.company_key].rep()}`}},o(To,"IreSpread"),To),setup.qcImpl.PerkChaoticPersonality=(_o=class extends setup.Cost{constructor(e){super(),this.actor_name=e}text(){return`setup.qc.PerkChaoticPersonality('${this.actor_name}')`}apply(e){const t=e.getActorUnit(this.actor_name);if(t.isHome()){setup.notify("a|Rep a|switch personalities",{a:t});const a=t.getAllTraitsWithTag("per");for(const r of a){const s=r.getTraitGroup();if(s){const n=s.getTraits().filter(l=>l);if(n.length==2){for(const l of n)if(l&&l!=r){t.addTrait(l,null,!0);break}}}}}}explain(e){return`${this.actor_name} reverse their personalities`}},o(_o,"PerkChaoticPersonality"),_o),setup.qcImpl.QuestDoppelganger=(Ao=class extends setup.Cost{constructor(){super()}text(){return"setup.qc.QuestDoppelganger()"}apply(e){const t=e.getActorUnit("unit"),a=setup.getUnit({title:"quest_doppelganged"});a&&setup.qcImpl.Bodyswap.doBodySwap(t,a,!1,!0)}explain(e){return"You are captured or otherwise lost from the company"}},o(Ao,"QuestDoppelganger"),Ao);function Ik(i){return()=>{State.variables.company.kobold.rep();let e=["The kobolds has recently found an ancient alchemical lab. They have too many potions now, and sending some of them to your company as gifts.","Your company's close relations with the kobold has netted you a gift from them in the form of a potion they found underground.","The kobold's many scavengers have recently found an unlooted ancient warehouse, brimming with supplies. They are gifting some of the potions found within to their closest allies."];setup.notify(setup.rng.choice(e)),setup.qc.ItemPool(i).apply()}}o(Ik,"get_item_pool_callback");function UM(i){return()=>{const e=State.variables.company.kobold.rep();let t=["The kobolds has recently launched an expedition in the Deeprealm. And it was successful. They are celebrating by sending their friends, including you, some of the loots found.",`The relatively brave kobolds of ${e} has recently lauched yet another expedition into the Deeprealms. It was successful, and they are gifting some of the loots to the companies they trust.`,`The kobolds of ${e} has recently found an unlooted treasure vault. They found many valuables there, some of them are gifted to you as one of their staunch allies.`,`A delegation from the kobolds of ${e} has come to your fort, bringing gifts: Valuables from their many expeditions into the Deeprealm.`];setup.notify(setup.rng.choice(t)),setup.qc.Equipment(i).apply()}}o(UM,"get_equipment_pool_callback");function P$(i){return()=>{const e=State.variables.company.kobold.rep(),t=setup.nudgeMoney(i);let a=[`Your company has received a present from the ${e} in the form of some rare metals they have mined down below. You sell them off for a nice sum of profit.`,`The kobolds of ${e} has send you a gift of gold, thanks to your excellent relations with them.`,`A group of kobolds has come from the Deeprealm, bringing you valuable trinkets and craftswork as gifts. No doubt thanks to your excellent relations with the ${e}.`];setup.notify(setup.rng.choice(a)),setup.qc.Money(t).apply()}}o(P$,"get_random_trinket_good");function L$(i){return()=>{const e=State.variables.company.kobold.rep(),t=setup.nudgeMoney(i);let a=[`The kobolds of ${e} has come bearing "gifts", or so they thought. It was a collection of broken vase, rusted sword, and what appears to be monster droppings. You sold them for a meager sum.`,`The kobolds of ${e} has come to visit your fort. Having enjoyed their stay, they left some gifts for you. Most are worthless junk, but some of the metal is sellable, netting you a little bit of money.`,`You received a gift from the kobolds of ${e}. A shipment of metal arrived at your fort from the Deeprealm. Unfortunately, most of the metal turns out to be brittle and unusable, and you were only able to sell them for a meager sum.`,`A delegation from the ${e} has come to your company. However, the clumsy kobold seems to have accidentally lost most of the gift meant for your company along the way, and only a paltry sum was left.`,`A group of kobolds from the ${e} has come visiting your company. Unfortunately, they did not bring any meaningful gifts, just worthless trinkets that you sell off for a meager sum.`];setup.notify(setup.rng.choice(a)),setup.qc.Money(t).apply()}}o(L$,"get_random_trinket_bad");function NM(){const i=setup.equipment.dwarf_axe,e=State.variables.company.kobold.rep();let t=[`The ${e} has made an astonishing discovery, excavating one of the ancient dwarven ruins. In a gesture of goodwill, they gifted to you one of their many findings: an astonishingly rare ${i.rep()}.`,`A delegation from ${e} has come bearing an incredibly valuable gift: ${i.rep()}, proof that they have placed great trust in your company.`,`The kobolds of ${e} have once again come bearing gifts. But instead of the usual junk, this time they come bearing the ${i.rep()}. It is an incredibly rare find, speaking volume of just how much the kobolds have grown to trust your company.`];setup.notify(setup.rng.choice(t)),setup.qc.EquipmentDirect(i).apply()}o(NM,"get_dwarven_axe");function U$(){}o(U$,"get_nothing"),setup.qcImpl.RandomDeeprealmItem=(Mo=class extends setup.Cost{constructor(e){if(super(),this.value=e,e<500)throw new Error(`Minimum value for random deeprealm item is 500g, but received ${e} instead`)}text(){return`setup.qc.RandomDeeprealmItem(${this.value})`}apply(e){const t=[],a=[];this.value<1e3?(t.push([Ik(setup.itempool.all_normal),1]),a.push([setup.itempool.all_normal.getAverageValue(),1])):(t.push([Ik(setup.itempool.all),1]),a.push([setup.itempool.all.getAverageValue(),1]));const r=setup.equipment.dwarf_axe;this.value>=1500?(t.push([NM,.4]),a.push([r.getValue(),.4])):this.value>=1e3&&(t.push([NM,.01]),a.push([r.getValue(),.01])),t.push([Ik(setup.itempool.furniture_normal),1],[UM(setup.equipmentpool.all_combat),1],[UM(setup.equipmentpool.all_sex),1],[L$(100),4],[P$(this.value*2/3),2.5]),a.push([setup.itempool.furniture_normal.getAverageValue(),1],[setup.equipmentpool.all_combat.getAverageValue(),1],[setup.equipmentpool.all_sex.getAverageValue(),1],[100,4],[this.value*2/3,2.5]),setup.rng.normalizeChanceArray(t),setup.rng.normalizeChanceArray(a);let s=0;for(const[u,h]of a)s+=u*h;const n=Math.max(0,s/this.value-1);return t.push([U$,n]),setup.rng.sampleArray(t,!0)()}explain(e){return`Sometimes gain a random deeprealm item. Average weekly value: ${this.value}`}},o(Mo,"RandomDeeprealmItem"),Mo),setup.qcImpl.TraumatizeRandomSlaverHome=(wo=class extends setup.Cost{constructor(){super()}text(){return"setup.qc.TraumatizeRandomSlaverHome()"}apply(e){let t=State.variables.company.player.getUnits({home:!0,job:setup.job.slaver});if(!t.length)return;let a=setup.rng.choice(t);setup.qc.TraumatizeRandom("unit",40).apply(setup.costUnitHelper(a))}explain(e){return"Traumatize a random unit in your company"}},o(wo,"TraumatizeRandomSlaverHome"),wo),setup.qcImpl.VarAdd=(Ro=class extends setup.Cost{constructor(e,t,a){super(),this.key=e,this.value=t,a==null?this.expires=a:this.expires=-1}text(){return`setup.qc.VarAdd('${this.key}', ${this.value}, ${this.expires})`}apply(e){const t=State.variables.varstore.get(this.key)||0;State.variables.varstore.set(this.key,parseInt(t)+this.value,this.expires)}explain(e){return e?"":`Variable "${this.key}" is added by "${this.value}" and reset expiration to ${this.expires} weeks.`}},o(Ro,"VarAdd"),Ro),setup.qcImpl.VarRemove=(ka=class extends setup.Cost{constructor(e){super(),this.key=e}text(){return`setup.qc.VarRemove('${this.key}')`}apply(e){State.variables.varstore.remove(this.key)}explain(e){return State.variables.gDebug?`Variable "${this.key}" is removed.`:""}},o(ka,"VarRemove"),y(ka,"NAME","Remove a variable value"),y(ka,"PASSAGE","CostVarRemove"),ka),setup.qcImpl.VarSet=(Eo=class extends setup.Cost{constructor(e,t,a){super(),this.key=e,this.value=t,a==null?this.expires=-1:this.expires=a}text(){return setup.isString(this.value)?`setup.qc.VarSet('${this.key}', '${this.value}', ${this.expires})`:`setup.qc.VarSet('${this.key}', ${this.value}, ${this.expires})`}apply(e){State.variables.varstore.set(this.key,this.value,this.expires)}explain(e){return e?"":`Variable "${this.key}" is set to "${this.value}" for ${this.expires} weeks.`}},o(Eo,"VarSet"),Eo),setup.QuestUnitCriteriaRapeFetishist=(xo=class extends setup.UnitCriteria{constructor(){super("quest_unit_criteria_rape_fetishist","Rape Victim",[],[],[setup.qres.Job(setup.job.slave),setup.qres.AnyTrait([setup.trait.training_none,setup.trait.training_roleplay_advanced])],{})}static getRng(){const e="quest_unit_criteria_rape_fetishist_rng";State.variables.varstore.get(e)==null&&State.variables.varstore.set(e,Math.floor(Math.random()*1e9),-1);const t=State.variables.varstore.get("quest_unit_criteria_rape_fetishist_rng");return parseInt(t)}static getBgOptions(){return[setup.trait.bg_knight,setup.trait.bg_noble,setup.trait.bg_priest,setup.trait.bg_slaver]}static getBgTrait(){const e=this.getBgOptions(),t=this.getRng();return e[t%e.length]}static getSubraceOptions(){return setup.TraitHelper.getAllTraitsOfTags(["subrace"]).filter(e=>[setup.rarity.common,setup.rarity.uncommon,setup.rarity.rare].includes(e.getRarity()))}static getSubraceTrait(){const e=this.getBgOptions().length,t=Math.floor(this.getRng()/e),a=this.getSubraceOptions();return a[t%a.length]}static getPerOptions(){return[setup.trait.per_dominant,setup.trait.per_submissive,setup.trait.per_chaste,setup.trait.per_sexaddict]}static getPerTrait(){const e=this.getBgOptions().length,t=this.getSubraceOptions().length,a=Math.floor(this.getRng()/(e*t)),r=this.getPerOptions();return r[a%r.length]}getCritTraits(){return[setup.QuestUnitCriteriaRapeFetishist.getBgTrait(),setup.QuestUnitCriteriaRapeFetishist.getSubraceTrait(),setup.QuestUnitCriteriaRapeFetishist.getPerTrait()]}},o(xo,"QuestUnitCriteriaRapeFetishist"),xo),setup.DutyTemplateBedchamberSlave=(Do=class extends setup.DutyTemplate{constructor(){super({key:"bedchamberslave",type:"bedchamber",name:"Bedchamber Slave",description_passage:"DutyBedchamberSlave",unit_restrictions:[setup.qres.Job(setup.job.slave)]})}},o(Do,"DutyTemplateBedchamberSlave"),Do),setup.dutytemplate.bedchamberslave=()=>new setup.DutyTemplateBedchamberSlave,setup.DutyInstanceBedchamberSlave=(Io=class extends setup.DutyInstance{constructor({bedchamber:e,index:t}){super({duty_template:setup.dutytemplate.bedchamberslave}),this.bedchamber_key=e.key,this.index=t}getBedchamber(){return State.variables.bedchamber[this.bedchamber_key]}getName(){return`Bedchamber slave for ${this.getBedchamber().getName()}`}},o(Io,"DutyInstanceBedchamberSlave"),Io),setup.DutyTemplateDamageControlOfficer=($o=class extends setup.DutyTemplate{constructor(){super({key:"damagecontrolofficer",type:"util",name:"Damage Control Officer",description_passage:"DutyDamageControlOfficer",unit_restrictions:[setup.qres.Job(setup.job.slaver)],relevant_skills:{knowledge:setup.DUTY_SKILL_MULTIPLIER_TOTAL/2,intrigue:setup.DUTY_SKILL_MULTIPLIER_TOTAL/2},relevant_traits:{skill_intimidating:setup.DUTY_TRAIT_CRIT_CHANCE,per_sly:setup.DUTY_TRAIT_NORMAL_CHANCE,per_direct:-setup.DUTY_TRAIT_NORMAL_CHANCE},is_can_replace_with_specialist:!0})}advanceWeek(e){super.advanceWeek(e);const t=e.getProc();if(t=="proc"||t=="crit"){const a=[];for(const r in State.variables.company){const s=State.variables.company[r];State.variables.ire.getIre(s)&&a.push(s)}if(a.length){const r=setup.rng.choice(a),s=State.variables.ire.getIre(r);let n=setup.IRE_DCO_PAY;s>=2&&t=="crit"?(n=setup.IRE_DCO_PAY_CRIT,State.variables.ire.adjustIre(r,-2)):State.variables.ire.adjustIre(r,-1),setup.notify(`${setup.capitalize(e.repYourDutyRep())} <<successtextlite "pacified">> ${r.rep()} in exchange for <<money ${n}>>`),State.variables.company.player.substractMoney(n)}}}},o($o,"DutyTemplateDamageControlOfficer"),$o),setup.dutytemplate.damagecontrolofficer=()=>new setup.DutyTemplateDamageControlOfficer,setup.DutyTemplateDoctor=(Oo=class extends setup.DutyTemplate{constructor(){super({key:"doctor",name:"Doctor",description_passage:"DutyDoctor",type:"util",unit_restrictions:[setup.qres.Job(setup.job.slaver)],relevant_skills:{aid:setup.DUTY_SKILL_MULTIPLIER_TOTAL/2,arcane:setup.DUTY_SKILL_MULTIPLIER_TOTAL/2},relevant_traits:{magic_light_master:setup.DUTY_TRAIT_CRIT_CHANCE,magic_light:setup.DUTY_TRAIT_NORMAL_CHANCE,per_kind:setup.DUTY_TRAIT_NORMAL_CHANCE,per_cruel:-setup.DUTY_TRAIT_NORMAL_CHANCE},is_can_replace_with_specialist:!0})}},o(Oo,"DutyTemplateDoctor"),Oo),setup.dutytemplate.doctor=()=>new setup.DutyTemplateDoctor,setup.DutyTemplateInsurer=(Co=class extends setup.DutyTemplate{constructor(){super({key:"insurer",name:"Insurer",description_passage:"DutyInsurer",type:"util",unit_restrictions:[setup.qres.Job(setup.job.slaver)],relevant_skills:{intrigue:setup.DUTY_SKILL_MULTIPLIER_TOTAL/2,survival:setup.DUTY_SKILL_MULTIPLIER_TOTAL/2},relevant_traits:{skill_creative:setup.DUTY_TRAIT_CRIT_CHANCE,per_cautious:setup.DUTY_TRAIT_NORMAL_CHANCE,per_brave:-setup.DUTY_TRAIT_NORMAL_CHANCE},is_can_replace_with_specialist:!0})}},o(Co,"DutyTemplateInsurer"),Co),setup.dutytemplate.insurer=()=>new setup.DutyTemplateInsurer,setup.DutyTemplateLeader=(Po=class extends setup.DutyTemplate{constructor(){super({key:"leader",name:"Leader",description_passage:"DutyLeader",type:"util",unit_restrictions:[setup.qres.Job(setup.job.slaver),setup.qres.You()],relevant_skills:{combat:setup.DUTY_SKILL_MULTIPLIER_TOTAL/10,brawn:setup.DUTY_SKILL_MULTIPLIER_TOTAL/10,survival:setup.DUTY_SKILL_MULTIPLIER_TOTAL/10,intrigue:setup.DUTY_SKILL_MULTIPLIER_TOTAL/10,slaving:setup.DUTY_SKILL_MULTIPLIER_TOTAL/10,knowledge:setup.DUTY_SKILL_MULTIPLIER_TOTAL/10,social:setup.DUTY_SKILL_MULTIPLIER_TOTAL/10,aid:setup.DUTY_SKILL_MULTIPLIER_TOTAL/10,arcane:setup.DUTY_SKILL_MULTIPLIER_TOTAL/10,sex:setup.DUTY_SKILL_MULTIPLIER_TOTAL/10},relevant_traits:{},is_allow_leader:!0})}advanceWeek(e){super.advanceWeek(e);let t=e.getProc();if(t=="proc"||t=="crit"){let a;t=="crit"?a=setup.LEADER_MONEY_CRIT:a=setup.LEADER_MONEY,a=setup.nudgeMoney(a*setup.lowLevelMoneyMulti()),setup.notify("You work from your office, earning your company some coin"),State.variables.company.player.addMoney(a)}}},o(Po,"DutyTemplateLeader"),Po),setup.dutytemplate.leader=()=>new setup.DutyTemplateLeader,setup.DutyTemplateMarketer=(Lo=class extends setup.DutyTemplate{constructor(){super({key:"marketer",name:"Marketer",description_passage:"DutyMarketer",type:"util",unit_restrictions:[setup.qres.Job(setup.job.slaver)],relevant_skills:{slaving:setup.DUTY_SKILL_MULTIPLIER_TOTAL/2,social:setup.DUTY_SKILL_MULTIPLIER_TOTAL/2},relevant_traits:{skill_connected:setup.DUTY_TRAIT_CRIT_CHANCE,per_gregarious:setup.DUTY_TRAIT_NORMAL_CHANCE,per_loner:-setup.DUTY_TRAIT_NORMAL_CHANCE},is_can_replace_with_specialist:!0})}advanceWeek(e){super.advanceWeek(e);let t=e.getProc();if(t=="proc"||t=="crit"){const r=`normal${e.getAssignedUnit().getLevel()}`;let s=Math.round(setup.qdiff[r].getMoney()+setup.MONEY_PER_SLAVER_WEEK);t=="crit"&&(setup.notify(`${setup.capitalize(e.repYourDutyRep())} is working extraordinarily well this week`),s*=setup.MARKETER_CRIT_MULTIPLIER),new setup.SlaveOrder("Fixed-price Slave Order","independent",setup.qu.slave,s,0,0,setup.MARKETER_ORDER_EXPIRATION,[],[],setup.unitgroup.soldslaves),setup.notify(`${setup.capitalize(e.repYourDutyRep())} found a new slave order`)}}},o(Lo,"DutyTemplateMarketer"),Lo),setup.dutytemplate.marketer=()=>new setup.DutyTemplateMarketer,setup.DutyTemplateMystic=(Uo=class extends setup.DutyTemplate{constructor(){super({key:"mystic",name:"Mystic",description_passage:"DutyMystic",type:"util",unit_restrictions:[setup.qres.Job(setup.job.slaver)],relevant_skills:{arcane:setup.DUTY_SKILL_MULTIPLIER_TOTAL/2,knowledge:setup.DUTY_SKILL_MULTIPLIER_TOTAL/2},relevant_traits:{skill_alchemy:setup.DUTY_TRAIT_CRIT_CHANCE,per_studious:setup.DUTY_TRAIT_NORMAL_CHANCE,per_active:-setup.DUTY_TRAIT_NORMAL_CHANCE},is_can_replace_with_specialist:!0})}},o(Uo,"DutyTemplateMystic"),Uo),setup.dutytemplate.mystic=()=>new setup.DutyTemplateMystic,setup.DutyTemplatePimp=(No=class extends setup.DutyTemplate{constructor({key:e,name:t,relevant_skills:a,relevant_traits:r,managed_duties:s}){super({key:e,name:t,description_passage:`Duty${e}_DescriptionPassage`,type:"pimp",unit_restrictions:[setup.qres.Job(setup.job.slaver)],relevant_skills:a,relevant_traits:r,is_can_replace_with_specialist:!0}),this.managed_duty_template_keys=s}getManagedDutyTemplates(){return this.managed_duty_template_keys.map(e=>setup.dutytemplate[e])}advanceWeek(e){super.advanceWeek(e);const t=e.getProc();if(t=="proc"||t=="crit"){const a=[];for(const u of this.getManagedDutyTemplates()){const h=State.variables.dutylist.getDuty(u);if(h){const p=h.getCurrentPrestige();p&&a.push(p)}}a.sort(),a.reverse();let r=0;const s=a.length,n=Math.min(s,setup.PIMP_SLAVE_LIMIT);for(let u=0;u<n;++u)r+=a[u];let l=r*setup.PIMP_PRESTIGE_MULTIPLIER;if(t=="crit"&&(l*=setup.PIMP_CRIT_MULTIPLIER),l=setup.nudgeMoney(l),l){let u=`${setup.capitalize(e.repYourDutyRep())} made you <<money ${Math.round(l)}>> this week from ${n} slave${n>1?"s":""}`;t=="crit"&&(u+=", thanks to a particularly busy week"),n<s&&(u+=`. ${s-n} slave${s-n>1?"s were":" was"} left unmanaged`),setup.notify(u),State.variables.company.player.addMoney(Math.round(l))}else if(!n){let u=`${setup.capitalize(e.repYourDutyRep())} does not currently have any slaves to manage and made zero profit this week`;setup.notify(u)}}}},o(No,"DutyTemplatePimp"),No),setup.dutytemplate.entertainmentpimp=()=>new setup.DutyTemplatePimp({key:"entertainmentpimp",name:"Entertainment Pimp",relevant_traits:{skill_entertain:setup.DUTY_TRAIT_CRIT_CHANCE,per_gregarious:setup.DUTY_TRAIT_NORMAL_CHANCE,per_loner:-setup.DUTY_TRAIT_NORMAL_CHANCE},relevant_skills:{slaving:setup.DUTY_SKILL_MULTIPLIER_TOTAL/2,social:setup.DUTY_SKILL_MULTIPLIER_TOTAL/2},managed_duties:["entertainmentslave","dogslave","ponyslave","decorationslave","punchingbagslave","toiletslave"]}),setup.dutytemplate.servicepimp=()=>new setup.DutyTemplatePimp({key:"servicepimp",name:"Service Pimp",relevant_traits:{skill_alchemy:setup.DUTY_TRAIT_CRIT_CHANCE,per_lavish:setup.DUTY_TRAIT_NORMAL_CHANCE,per_frugal:-setup.DUTY_TRAIT_NORMAL_CHANCE},relevant_skills:{slaving:setup.DUTY_SKILL_MULTIPLIER_TOTAL/2,aid:setup.DUTY_SKILL_MULTIPLIER_TOTAL/2},managed_duties:["milkcowslave","cumcowslave","maidslave","theatreslave","furnitureslave"]}),setup.dutytemplate.sexpimp=()=>new setup.DutyTemplatePimp({key:"sexpimp",name:"Sex Pimp",relevant_traits:{magic_earth:setup.DUTY_TRAIT_NORMAL_CHANCE,magic_earth_master:setup.DUTY_TRAIT_CRIT_CHANCE,per_dominant:setup.DUTY_TRAIT_NORMAL_CHANCE,per_submissive:-setup.DUTY_TRAIT_NORMAL_CHANCE},relevant_skills:{slaving:setup.DUTY_SKILL_MULTIPLIER_TOTAL/2,sex:setup.DUTY_SKILL_MULTIPLIER_TOTAL/2},managed_duties:["sissyslave","dominatrixslave","analfuckholeslave","oralfuckholeslave","vaginafuckholeslave"]}),setup.DutyTemplatePrestigeSlave=(Ho=class extends setup.DutyTemplate{constructor(e){super(e)}computeValuePrestige(e){return Math.max(this.computeChanceForUnit(e),0)}onAssign(e,t){e.setCurrentPrestige(this.computeValuePrestige(t))}onUnassign(e,t){e.unsetCurrentPrestige()}advanceWeek(e){super.advanceWeek(e);const t=e.getAssignedUnit();if(t){const a=this.computeValuePrestige(t);a!=e.getCurrentPrestige()&&(setup.notify(`The effectiveness of ${t.rep()} as ${e.rep()} has changed.`),e.setCurrentPrestige(a))}}},o(Ho,"DutyTemplatePrestigeSlave"),Ho),setup.DutyInstancePrestigeSlave=(Bo=class extends setup.DutyInstance{constructor(e){super(e),this.prestige=0}getCurrentPrestige(){return this.prestige}setCurrentPrestige(e){const t=e-this.prestige;this.prestige=e,t&&State.variables.company.player.addPrestige(t)}unsetCurrentPrestige(){this.setCurrentPrestige(0)}},o(Bo,"DutyInstancePrestigeSlave"),Bo),setup.dutytemplate.analfuckholeslave=()=>new setup.DutyTemplatePrestigeSlave({key:"analfuckholeslave",name:"Anal Fuckhole Slave",description_passage:"DutyAnalFuckholeSlave",type:"prestige",relevant_traits:{training_anal_basic:setup.DUTY_TRAIT_PRESTIGE1,training_anal_advanced:setup.DUTY_TRAIT_PRESTIGE3,training_anal_master:setup.DUTY_TRAIT_PRESTIGE5,value_high1:setup.DUTY_TRAIT_PRESTIGE1,value_high2:setup.DUTY_TRAIT_PRESTIGE2,value_high3:setup.DUTY_TRAIT_PRESTIGE3,value_high4:setup.DUTY_TRAIT_PRESTIGE4,value_high5:setup.DUTY_TRAIT_PRESTIGE5,value_high6:setup.DUTY_TRAIT_PRESTIGE6,value_high7:setup.DUTY_TRAIT_PRESTIGE6,per_calm:setup.DUTY_TRAIT_PRESTIGE2,anus_tight:setup.DUTY_TRAIT_PRESTIGE1,per_aggressive:-setup.DUTY_TRAIT_PRESTIGE2,anus_gape:-setup.DUTY_TRAIT_PRESTIGE2},unit_restrictions:[setup.qres.Job(setup.job.slave),setup.qres.Trait(setup.trait.training_anal_basic)]}),setup.dutytemplate.sissyslave=()=>new setup.DutyTemplatePrestigeSlave({key:"sissyslave",name:"Sissy Slave",description_passage:"DutySissySlave",type:"prestige",relevant_traits:{training_sissy_basic:setup.DUTY_TRAIT_PRESTIGE1,training_sissy_advanced:setup.DUTY_TRAIT_PRESTIGE3,training_sissy_master:setup.DUTY_TRAIT_PRESTIGE5,value_high1:setup.DUTY_TRAIT_PRESTIGE1,value_high2:setup.DUTY_TRAIT_PRESTIGE2,value_high3:setup.DUTY_TRAIT_PRESTIGE3,value_high4:setup.DUTY_TRAIT_PRESTIGE4,value_high5:setup.DUTY_TRAIT_PRESTIGE5,value_high6:setup.DUTY_TRAIT_PRESTIGE6,value_high7:setup.DUTY_TRAIT_PRESTIGE6,muscle_thin:setup.DUTY_TRAIT_PRESTIGE1,muscle_verythin:setup.DUTY_TRAIT_PRESTIGE2,muscle_extremelythin:setup.DUTY_TRAIT_PRESTIGE3,skill_alchemy:setup.DUTY_TRAIT_PRESTIGE2,muscle_strong:-setup.DUTY_TRAIT_PRESTIGE1,muscle_verystrong:-setup.DUTY_TRAIT_PRESTIGE2,muscle_extremelystrong:-setup.DUTY_TRAIT_PRESTIGE3},unit_restrictions:[setup.qres.Job(setup.job.slave),setup.qres.Trait(setup.trait.training_sissy_basic)]}),setup.dutytemplate.toiletslave=()=>new setup.DutyTemplatePrestigeSlave({key:"toiletslave",name:"Toilet Slave",description_passage:"DutyToiletSlave",type:"prestige",relevant_traits:{training_toilet_basic:setup.DUTY_TRAIT_PRESTIGE1,training_toilet_advanced:setup.DUTY_TRAIT_PRESTIGE3,training_toilet_master:setup.DUTY_TRAIT_PRESTIGE5,value_high1:setup.DUTY_TRAIT_PRESTIGE1,value_high2:setup.DUTY_TRAIT_PRESTIGE2,value_high3:setup.DUTY_TRAIT_PRESTIGE3,value_high4:setup.DUTY_TRAIT_PRESTIGE4,value_high5:setup.DUTY_TRAIT_PRESTIGE5,value_high6:setup.DUTY_TRAIT_PRESTIGE6,value_high7:setup.DUTY_TRAIT_PRESTIGE6,per_slow:setup.DUTY_TRAIT_PRESTIGE2,per_brave:setup.DUTY_TRAIT_PRESTIGE2,per_smart:-setup.DUTY_TRAIT_PRESTIGE2,per_cautious:-setup.DUTY_TRAIT_PRESTIGE2},unit_restrictions:[setup.qres.Job(setup.job.slave),setup.qres.Trait(setup.trait.training_toilet_basic)]}),setup.dutytemplate.maidslave=()=>new setup.DutyTemplatePrestigeSlave({key:"maidslave",name:"Maid Slave",description_passage:"DutyMaidSlave",type:"prestige",relevant_traits:{training_domestic_basic:setup.DUTY_TRAIT_PRESTIGE1,training_domestic_advanced:setup.DUTY_TRAIT_PRESTIGE3,training_domestic_master:setup.DUTY_TRAIT_PRESTIGE5,value_high1:setup.DUTY_TRAIT_PRESTIGE1,value_high2:setup.DUTY_TRAIT_PRESTIGE2,value_high3:setup.DUTY_TRAIT_PRESTIGE3,value_high4:setup.DUTY_TRAIT_PRESTIGE4,value_high5:setup.DUTY_TRAIT_PRESTIGE5,value_high6:setup.DUTY_TRAIT_PRESTIGE6,value_high7:setup.DUTY_TRAIT_PRESTIGE6,per_chaste:setup.DUTY_TRAIT_PRESTIGE2,skill_ambidextrous:setup.DUTY_TRAIT_PRESTIGE2,per_lustful:-setup.DUTY_TRAIT_PRESTIGE2,per_sexaddict:-setup.DUTY_TRAIT_PRESTIGE3},unit_restrictions:[setup.qres.Job(setup.job.slave),setup.qres.Trait(setup.trait.training_domestic_basic)]}),setup.dutytemplate.furnitureslave=()=>new setup.DutyTemplatePrestigeSlave({key:"furnitureslave",name:"Furniture Slave",description_passage:"DutyFurnitureSlave",type:"prestige",relevant_traits:{training_endurance_basic:setup.DUTY_TRAIT_PRESTIGE1,training_endurance_advanced:setup.DUTY_TRAIT_PRESTIGE3,training_endurance_master:setup.DUTY_TRAIT_PRESTIGE5,value_high1:setup.DUTY_TRAIT_PRESTIGE1,value_high2:setup.DUTY_TRAIT_PRESTIGE2,value_high3:setup.DUTY_TRAIT_PRESTIGE3,value_high4:setup.DUTY_TRAIT_PRESTIGE4,value_high5:setup.DUTY_TRAIT_PRESTIGE5,value_high6:setup.DUTY_TRAIT_PRESTIGE6,value_high7:setup.DUTY_TRAIT_PRESTIGE6,per_loner:setup.DUTY_TRAIT_PRESTIGE2,per_serious:setup.DUTY_TRAIT_PRESTIGE2,per_gregarious:-setup.DUTY_TRAIT_PRESTIGE2,per_playful:-setup.DUTY_TRAIT_PRESTIGE2},unit_restrictions:[setup.qres.Job(setup.job.slave),setup.qres.Trait(setup.trait.training_endurance_basic)]}),setup.dutytemplate.punchingbagslave=()=>new setup.DutyTemplatePrestigeSlave({key:"punchingbagslave",name:"Punching Bag Slave",description_passage:"DutyPunchingBagSlave",type:"prestige",relevant_traits:{training_masochist_basic:setup.DUTY_TRAIT_PRESTIGE1,training_masochist_advanced:setup.DUTY_TRAIT_PRESTIGE3,training_masochist_master:setup.DUTY_TRAIT_PRESTIGE5,value_high1:setup.DUTY_TRAIT_PRESTIGE1,value_high2:setup.DUTY_TRAIT_PRESTIGE2,value_high3:setup.DUTY_TRAIT_PRESTIGE3,value_high4:setup.DUTY_TRAIT_PRESTIGE4,value_high5:setup.DUTY_TRAIT_PRESTIGE5,value_high6:setup.DUTY_TRAIT_PRESTIGE6,value_high7:setup.DUTY_TRAIT_PRESTIGE6,per_masochistic:setup.DUTY_TRAIT_PRESTIGE2,tough_tough:setup.DUTY_TRAIT_PRESTIGE2,tough_nimble:-setup.DUTY_TRAIT_PRESTIGE2,per_lunatic:-setup.DUTY_TRAIT_PRESTIGE2},unit_restrictions:[setup.qres.Job(setup.job.slave),setup.qres.Trait(setup.trait.training_masochist_basic)]}),setup.dutytemplate.dogslave=()=>new setup.DutyTemplatePrestigeSlave({key:"dogslave",name:"Dog Slave",description_passage:"DutyDogSlave",type:"prestige",relevant_traits:{training_pet_basic:setup.DUTY_TRAIT_PRESTIGE1,training_pet_advanced:setup.DUTY_TRAIT_PRESTIGE3,training_pet_master:setup.DUTY_TRAIT_PRESTIGE5,value_high1:setup.DUTY_TRAIT_PRESTIGE1,value_high2:setup.DUTY_TRAIT_PRESTIGE2,value_high3:setup.DUTY_TRAIT_PRESTIGE3,value_high4:setup.DUTY_TRAIT_PRESTIGE4,value_high5:setup.DUTY_TRAIT_PRESTIGE5,value_high6:setup.DUTY_TRAIT_PRESTIGE6,value_high7:setup.DUTY_TRAIT_PRESTIGE6,per_playful:setup.DUTY_TRAIT_PRESTIGE2,per_loyal:setup.DUTY_TRAIT_PRESTIGE2,per_serious:-setup.DUTY_TRAIT_PRESTIGE2,per_independent:-setup.DUTY_TRAIT_PRESTIGE2},unit_restrictions:[setup.qres.Job(setup.job.slave),setup.qres.Trait(setup.trait.training_pet_basic)]}),setup.dutytemplate.decorationslave=()=>new setup.DutyTemplatePrestigeSlave({key:"decorationslave",name:"Decoration Slave",description_passage:"DutyDecorationSlave",type:"prestige",relevant_traits:{training_horny_basic:setup.DUTY_TRAIT_PRESTIGE1,training_horny_advanced:setup.DUTY_TRAIT_PRESTIGE3,training_horny_master:setup.DUTY_TRAIT_PRESTIGE5,value_high1:setup.DUTY_TRAIT_PRESTIGE1,value_high2:setup.DUTY_TRAIT_PRESTIGE2,value_high3:setup.DUTY_TRAIT_PRESTIGE3,value_high4:setup.DUTY_TRAIT_PRESTIGE4,value_high5:setup.DUTY_TRAIT_PRESTIGE5,value_high6:setup.DUTY_TRAIT_PRESTIGE6,value_high7:setup.DUTY_TRAIT_PRESTIGE6,per_lustful:setup.DUTY_TRAIT_PRESTIGE2,per_sexaddict:setup.DUTY_TRAIT_PRESTIGE2,skill_ambidextrous:setup.DUTY_TRAIT_PRESTIGE2,per_chaste:-setup.DUTY_TRAIT_PRESTIGE2},unit_restrictions:[setup.qres.Job(setup.job.slave),setup.qres.Trait(setup.trait.training_horny_basic)]}),setup.dutytemplate.oralfuckholeslave=()=>new setup.DutyTemplatePrestigeSlave({key:"oralfuckholeslave",name:"Oral Fuckhole Slave",description_passage:"DutyOralFuckholeSlave",type:"prestige",relevant_traits:{training_oral_basic:setup.DUTY_TRAIT_PRESTIGE1,training_oral_advanced:setup.DUTY_TRAIT_PRESTIGE3,training_oral_master:setup.DUTY_TRAIT_PRESTIGE5,value_high1:setup.DUTY_TRAIT_PRESTIGE1,value_high2:setup.DUTY_TRAIT_PRESTIGE2,value_high3:setup.DUTY_TRAIT_PRESTIGE3,value_high4:setup.DUTY_TRAIT_PRESTIGE4,value_high5:setup.DUTY_TRAIT_PRESTIGE5,value_high6:setup.DUTY_TRAIT_PRESTIGE6,value_high7:setup.DUTY_TRAIT_PRESTIGE6,per_submissive:setup.DUTY_TRAIT_PRESTIGE2,face_attractive:setup.DUTY_TRAIT_PRESTIGE2,face_beautiful:setup.DUTY_TRAIT_PRESTIGE3,per_dominant:-setup.DUTY_TRAIT_PRESTIGE2,face_scary:-setup.DUTY_TRAIT_PRESTIGE2,face_hideous:-setup.DUTY_TRAIT_PRESTIGE3},unit_restrictions:[setup.qres.Job(setup.job.slave),setup.qres.Trait(setup.trait.training_oral_basic)]}),setup.dutytemplate.entertainmentslave=()=>new setup.DutyTemplatePrestigeSlave({key:"entertainmentslave",name:"Entertainment Slave",description_passage:"DutyEntertainmentSlave",type:"prestige",relevant_traits:{training_obedience_basic:setup.DUTY_TRAIT_PRESTIGE1,training_obedience_advanced:setup.DUTY_TRAIT_PRESTIGE3,training_obedience_master:setup.DUTY_TRAIT_PRESTIGE5,value_high1:setup.DUTY_TRAIT_PRESTIGE1,value_high2:setup.DUTY_TRAIT_PRESTIGE2,value_high3:setup.DUTY_TRAIT_PRESTIGE3,value_high4:setup.DUTY_TRAIT_PRESTIGE4,value_high5:setup.DUTY_TRAIT_PRESTIGE5,value_high6:setup.DUTY_TRAIT_PRESTIGE6,value_high7:setup.DUTY_TRAIT_PRESTIGE6,skill_entertain:setup.DUTY_TRAIT_PRESTIGE2,per_gregarious:setup.DUTY_TRAIT_PRESTIGE2,per_loner:-setup.DUTY_TRAIT_PRESTIGE2},unit_restrictions:[setup.qres.Job(setup.job.slave),setup.qres.Trait(setup.trait.training_obedience_basic)]}),setup.dutytemplate.ponyslave=()=>new setup.DutyTemplatePrestigeSlave({key:"ponyslave",name:"Pony Slave",description_passage:"DutyPonySlave",type:"prestige",relevant_traits:{training_pony_basic:setup.DUTY_TRAIT_PRESTIGE1,training_pony_advanced:setup.DUTY_TRAIT_PRESTIGE3,training_pony_master:setup.DUTY_TRAIT_PRESTIGE5,value_high1:setup.DUTY_TRAIT_PRESTIGE1,value_high2:setup.DUTY_TRAIT_PRESTIGE2,value_high3:setup.DUTY_TRAIT_PRESTIGE3,value_high4:setup.DUTY_TRAIT_PRESTIGE4,value_high5:setup.DUTY_TRAIT_PRESTIGE5,value_high6:setup.DUTY_TRAIT_PRESTIGE6,value_high7:setup.DUTY_TRAIT_PRESTIGE6,skill_animal:setup.DUTY_TRAIT_PRESTIGE2,muscle_strong:setup.DUTY_TRAIT_PRESTIGE1,muscle_verystrong:setup.DUTY_TRAIT_PRESTIGE2,muscle_extremelystrong:setup.DUTY_TRAIT_PRESTIGE3,muscle_thin:-setup.DUTY_TRAIT_PRESTIGE1,muscle_verythin:-setup.DUTY_TRAIT_PRESTIGE2,muscle_extremelythin:-setup.DUTY_TRAIT_PRESTIGE3},unit_restrictions:[setup.qres.Job(setup.job.slave),setup.qres.Trait(setup.trait.training_pony_basic)]}),setup.dutytemplate.dominatrixslave=()=>new setup.DutyTemplatePrestigeSlave({key:"dominatrixslave",name:"Dominatrix Slave",description_passage:"DutyDominatrixSlave",type:"prestige",relevant_traits:{training_dominance_basic:setup.DUTY_TRAIT_PRESTIGE1,training_dominance_advanced:setup.DUTY_TRAIT_PRESTIGE3,training_dominance_master:setup.DUTY_TRAIT_PRESTIGE5,value_high1:setup.DUTY_TRAIT_PRESTIGE1,value_high2:setup.DUTY_TRAIT_PRESTIGE2,value_high3:setup.DUTY_TRAIT_PRESTIGE3,value_high4:setup.DUTY_TRAIT_PRESTIGE4,value_high5:setup.DUTY_TRAIT_PRESTIGE5,value_high6:setup.DUTY_TRAIT_PRESTIGE6,value_high7:setup.DUTY_TRAIT_PRESTIGE6,per_dominant:setup.DUTY_TRAIT_PRESTIGE2,skill_hypnotic:setup.DUTY_TRAIT_PRESTIGE2,per_submissive:-setup.DUTY_TRAIT_PRESTIGE2},unit_restrictions:[setup.qres.Job(setup.job.slave),setup.qres.Trait(setup.trait.training_dominance_basic)]}),setup.dutytemplate.theatreslave=()=>new setup.DutyTemplatePrestigeSlave({key:"theatreslave",name:"Acting Slave",description_passage:"DutyTheatreSlave",type:"prestige",relevant_traits:{training_roleplay_basic:setup.DUTY_TRAIT_PRESTIGE1,training_roleplay_advanced:setup.DUTY_TRAIT_PRESTIGE3,training_roleplay_master:setup.DUTY_TRAIT_PRESTIGE5,value_high1:setup.DUTY_TRAIT_PRESTIGE1,value_high2:setup.DUTY_TRAIT_PRESTIGE2,value_high3:setup.DUTY_TRAIT_PRESTIGE3,value_high4:setup.DUTY_TRAIT_PRESTIGE4,value_high5:setup.DUTY_TRAIT_PRESTIGE5,value_high6:setup.DUTY_TRAIT_PRESTIGE6,value_high7:setup.DUTY_TRAIT_PRESTIGE6,per_dreamy:setup.DUTY_TRAIT_PRESTIGE2,skill_creative:setup.DUTY_TRAIT_PRESTIGE2,per_attentive:-setup.DUTY_TRAIT_PRESTIGE2},unit_restrictions:[setup.qres.Job(setup.job.slave),setup.qres.Trait(setup.trait.training_roleplay_basic)]}),setup.dutytemplate.vaginafuckholeslave=()=>new setup.DutyTemplatePrestigeSlave({key:"vaginafuckholeslave",name:"Vagina Fuckhole Slave",description_passage:"DutyVaginaFuckholeSlave",type:"prestige",relevant_traits:{training_vagina_basic:setup.DUTY_TRAIT_PRESTIGE1,training_vagina_advanced:setup.DUTY_TRAIT_PRESTIGE3,training_vagina_master:setup.DUTY_TRAIT_PRESTIGE5,value_high1:setup.DUTY_TRAIT_PRESTIGE1,value_high2:setup.DUTY_TRAIT_PRESTIGE2,value_high3:setup.DUTY_TRAIT_PRESTIGE3,value_high4:setup.DUTY_TRAIT_PRESTIGE4,value_high5:setup.DUTY_TRAIT_PRESTIGE5,value_high6:setup.DUTY_TRAIT_PRESTIGE6,value_high7:setup.DUTY_TRAIT_PRESTIGE6,per_lavish:setup.DUTY_TRAIT_PRESTIGE2,vagina_tight:setup.DUTY_TRAIT_PRESTIGE1,per_frugal:-setup.DUTY_TRAIT_PRESTIGE2,vagina_gape:-setup.DUTY_TRAIT_PRESTIGE2},unit_restrictions:[setup.qres.Job(setup.job.slave),setup.qres.Trait(setup.trait.training_vagina_basic)]}),setup.dutytemplate.cumcowslave=()=>new setup.DutyTemplatePrestigeSlave({key:"cumcowslave",name:"Cum Cow Slave",description_passage:"DutyCumCowSlave",type:"prestige",relevant_traits:{balls_tiny:setup.DUTY_TRAIT_PRESTIGE1,balls_small:setup.DUTY_TRAIT_PRESTIGE1,balls_medium:setup.DUTY_TRAIT_PRESTIGE2,balls_large:setup.DUTY_TRAIT_PRESTIGE3,balls_huge:setup.DUTY_TRAIT_PRESTIGE4,balls_titanic:setup.DUTY_TRAIT_PRESTIGE5,value_high2:setup.DUTY_TRAIT_PRESTIGE1,value_high3:setup.DUTY_TRAIT_PRESTIGE1,value_high4:setup.DUTY_TRAIT_PRESTIGE2,value_high5:setup.DUTY_TRAIT_PRESTIGE2,value_high6:setup.DUTY_TRAIT_PRESTIGE3,value_high7:setup.DUTY_TRAIT_PRESTIGE6},unit_restrictions:[setup.qres.Job(setup.job.slave),setup.qres.Trait(setup.trait.balls_tiny),setup.qres.Trait(setup.trait.dick_tiny)]}),setup.dutytemplate.milkcowslave=()=>new setup.DutyTemplatePrestigeSlave({key:"milkcowslave",name:"Milk Cow Slave",description_passage:"DutyMilkCowSlave",type:"prestige",relevant_traits:{breast_tiny:setup.DUTY_TRAIT_PRESTIGE1,breast_small:setup.DUTY_TRAIT_PRESTIGE1,breast_medium:setup.DUTY_TRAIT_PRESTIGE2,breast_large:setup.DUTY_TRAIT_PRESTIGE3,breast_huge:setup.DUTY_TRAIT_PRESTIGE4,breast_titanic:setup.DUTY_TRAIT_PRESTIGE5,value_high2:setup.DUTY_TRAIT_PRESTIGE1,value_high3:setup.DUTY_TRAIT_PRESTIGE1,value_high4:setup.DUTY_TRAIT_PRESTIGE2,value_high5:setup.DUTY_TRAIT_PRESTIGE2,value_high6:setup.DUTY_TRAIT_PRESTIGE3,value_high7:setup.DUTY_TRAIT_PRESTIGE6},unit_restrictions:[setup.qres.Job(setup.job.slave),setup.qres.Trait(setup.trait.breast_tiny)]}),setup.DutyTemplateQuestPoolDuty=(Go=class extends setup.DutyTemplate{constructor(e){super(e),this.quest_pool_key=e.quest_pool.key,this.quest_amount=e.quest_amount}getQuestPool(){return setup.questpool[this.quest_pool_key]}getQuestAmount(){return this.quest_amount}advanceWeek(e){super.advanceWeek(e);const t=this.getQuestPool();let a=this.getQuestAmount();e.getProc()=="crit"&&(a*=setup.SCOUTDUTY_CRIT_MULTIPLIER,a=Math.round(a));let r=0;for(let s=0;s<a;++s){let n=e.getProc();(n=="proc"||n=="crit")&&(r+=1,t.generateQuest())}r&&setup.notify(`${setup.capitalize(e.repYourDutyRep())} found ${r} new quests from ${t.rep()}`)}},o(Go,"DutyTemplateQuestPoolDuty"),Go),setup.dutytemplate.scoutvale=()=>new setup.DutyTemplateQuestPoolDuty({key:"scoutvale",type:"scout",name:"Vale Scout",description_passage:"DutyScoutVale",unit_restrictions:[setup.qres.Job(setup.job.slaver)],relevant_skills:{brawn:setup.DUTY_SKILL_MULTIPLIER_TOTAL/2,survival:setup.DUTY_SKILL_MULTIPLIER_TOTAL/2},relevant_traits:{skill_intimidating:setup.DUTY_TRAIT_CRIT_CHANCE,per_loner:setup.DUTY_TRAIT_NORMAL_CHANCE,per_gregarious:-setup.DUTY_TRAIT_NORMAL_CHANCE},is_can_replace_with_specialist:!0,quest_pool:setup.questpool.vale,quest_amount:3}),setup.dutytemplate.scoutforest=()=>new setup.DutyTemplateQuestPoolDuty({key:"scoutforest",type:"scout",name:"Forest Scout",description_passage:"DutyScoutForest",unit_restrictions:[setup.qres.Job(setup.job.slaver)],relevant_skills:{survival:setup.DUTY_SKILL_MULTIPLIER_TOTAL/2,arcane:setup.DUTY_SKILL_MULTIPLIER_TOTAL/2},relevant_traits:{skill_animal:setup.DUTY_TRAIT_CRIT_CHANCE,tough_nimble:setup.DUTY_TRAIT_NORMAL_CHANCE,tough_tough:-setup.DUTY_TRAIT_NORMAL_CHANCE},is_can_replace_with_specialist:!0,quest_pool:setup.questpool.forest,quest_amount:2}),setup.dutytemplate.scoutcity=()=>new setup.DutyTemplateQuestPoolDuty({key:"scoutcity",type:"scout",name:"City Scout",description_passage:"DutyScoutCity",unit_restrictions:[setup.qres.Job(setup.job.slaver)],relevant_skills:{social:setup.DUTY_SKILL_MULTIPLIER_TOTAL/2,sex:setup.DUTY_SKILL_MULTIPLIER_TOTAL/2},relevant_traits:{skill_hypnotic:setup.DUTY_TRAIT_CRIT_CHANCE,per_curious:setup.DUTY_TRAIT_NORMAL_CHANCE,per_stubborn:-setup.DUTY_TRAIT_NORMAL_CHANCE},is_can_replace_with_specialist:!0,quest_pool:setup.questpool.city,quest_amount:2}),setup.dutytemplate.scoutdeep=()=>new setup.DutyTemplateQuestPoolDuty({key:"scoutdeep",type:"scout",name:"Deep Scout",description_passage:"DutyScoutDeep",unit_restrictions:[setup.qres.Job(setup.job.slaver)],relevant_skills:{combat:setup.DUTY_SKILL_MULTIPLIER_TOTAL/2,social:setup.DUTY_SKILL_MULTIPLIER_TOTAL/2},relevant_traits:{magic_dark:setup.DUTY_TRAIT_NORMAL_CHANCE,magic_dark_master:setup.DUTY_TRAIT_CRIT_CHANCE,per_brave:setup.DUTY_TRAIT_NORMAL_CHANCE,per_cautious:-setup.DUTY_TRAIT_NORMAL_CHANCE},is_can_replace_with_specialist:!0,quest_pool:setup.questpool.deep,quest_amount:2}),setup.dutytemplate.scoutdesert=()=>new setup.DutyTemplateQuestPoolDuty({key:"scoutdesert",type:"scout",name:"Desert Scout",description_passage:"DutyScoutDesert",unit_restrictions:[setup.qres.Job(setup.job.slaver)],relevant_skills:{combat:setup.DUTY_SKILL_MULTIPLIER_TOTAL/2,brawn:setup.DUTY_SKILL_MULTIPLIER_TOTAL/2},relevant_traits:{skill_ambidextrous:setup.DUTY_TRAIT_CRIT_CHANCE,per_aggressive:setup.DUTY_TRAIT_NORMAL_CHANCE,per_calm:-setup.DUTY_TRAIT_NORMAL_CHANCE},is_can_replace_with_specialist:!0,quest_pool:setup.questpool.desert,quest_amount:1}),setup.dutytemplate.scoutsea=()=>new setup.DutyTemplateQuestPoolDuty({key:"scoutsea",type:"scout",name:"Sea Scout",description_passage:"DutyScoutSea",unit_restrictions:[setup.qres.Job(setup.job.slaver)],relevant_skills:{combat:setup.DUTY_SKILL_MULTIPLIER_TOTAL/3,slaving:setup.DUTY_SKILL_MULTIPLIER_TOTAL/3},relevant_traits:{skill_flight:setup.DUTY_TRAIT_CRIT_CHANCE/3,per_honorable:setup.DUTY_TRAIT_NORMAL_CHANCE/3,per_evil:-setup.DUTY_TRAIT_NORMAL_CHANCE/3},is_can_replace_with_specialist:!0,quest_pool:setup.questpool.sea,quest_amount:1}),setup.DutyTemplateRelationshipManager=(qo=class extends setup.DutyTemplate{constructor(){super({key:"relationshipmanager",name:"Relationship Manager",description_passage:"DutyRelationshipManager",type:"util",unit_restrictions:[setup.qres.Job(setup.job.slaver)],relevant_skills:{aid:setup.DUTY_SKILL_MULTIPLIER_TOTAL/2,social:setup.DUTY_SKILL_MULTIPLIER_TOTAL/2},relevant_traits:{skill_connected:setup.DUTY_TRAIT_CRIT_CHANCE,per_smart:setup.DUTY_TRAIT_NORMAL_CHANCE,per_slow:-setup.DUTY_TRAIT_NORMAL_CHANCE},is_can_replace_with_specialist:!0})}},o(qo,"DutyTemplateRelationshipManager"),qo),setup.dutytemplate.relationshipmanager=()=>new setup.DutyTemplateRelationshipManager,setup.DutyTemplateRescuer=(zo=class extends setup.DutyTemplate{constructor(){super({key:"rescuer",name:"Rescuer",description_passage:"DutyRescuer",type:"util",unit_restrictions:[setup.qres.Job(setup.job.slaver)],relevant_skills:{intrigue:setup.DUTY_SKILL_MULTIPLIER_TOTAL/6,aid:setup.DUTY_SKILL_MULTIPLIER_TOTAL/6},relevant_traits:{skill_creative:setup.DUTY_TRAIT_CRIT_CHANCE/3,per_aggressive:setup.DUTY_TRAIT_NORMAL_CHANCE/3,per_calm:-setup.DUTY_TRAIT_NORMAL_CHANCE/3},is_can_replace_with_specialist:!0})}advanceWeek(e){super.advanceWeek(e);let t=e.getProc();if(t=="proc"||t=="crit"){let a=setup.questpool.rescue.generateQuest();a&&setup.notify(`${setup.capitalize(e.repYourDutyRep())} found ${a.rep()} to rescue one of your lost slavers`)}}},o(zo,"DutyTemplateRescuer"),zo),setup.dutytemplate.rescuer=()=>new setup.DutyTemplateRescuer,setup.DutyTemplateTrainer=(Fo=class extends setup.DutyTemplate{constructor(){super({key:"trainer",name:"Drill Sergeant",description_passage:"DutyTrainer",type:"util",unit_restrictions:[setup.qres.Job(setup.job.slaver)],relevant_skills:{brawn:setup.DUTY_SKILL_MULTIPLIER_TOTAL/2,knowledge:setup.DUTY_SKILL_MULTIPLIER_TOTAL/2},relevant_traits:{skill_intimidating:setup.DUTY_TRAIT_CRIT_CHANCE,per_dominant:setup.DUTY_TRAIT_NORMAL_CHANCE,per_submissive:-setup.DUTY_TRAIT_NORMAL_CHANCE},is_can_replace_with_specialist:!0})}advanceWeek(e){super.advanceWeek(e);let t=0;for(let a=0;a<setup.DRILL_SERGEANT_ATTEMPTS+setup.DRILL_SERGEANT_ATTEMPTS_CRIT;++a){const r=e.getProc();if(r=="crit"||a<setup.DRILL_SERGEANT_ATTEMPTS&&r=="proc"){const s=e.getAssignedUnit(),n=Math.min(setup.TRAINER_MAX_LEVEL,s.getLevel()),l=State.variables.company.player.getUnits({job:setup.job.slaver}).filter(u=>u.getLevel()<n&&u.isAvailable());l.length&&(setup.rng.choice(l).levelUp(),t+=1)}}t&&setup.notify(`${setup.capitalize(e.repYourDutyRep())} trained your other slavers and they gain ${t} level${t>1?"s":""}.`)}},o(Fo,"DutyTemplateTrainer"),Fo),setup.dutytemplate.trainer=()=>new setup.DutyTemplateTrainer,setup.DutyTemplateViceLeader=(jo=class extends setup.DutyTemplate{constructor(){super({key:"viceleader",name:"Vice Leader",description_passage:"DutyViceLeader",type:"util",unit_restrictions:[setup.qres.Job(setup.job.slaver)],relevant_skills:{combat:.001,brawn:.001,survival:.001,intrigue:.001,slaving:.001,knowledge:.001,social:.001,aid:.001,arcane:.001,sex:.001},relevant_traits:{}})}},o(jo,"DutyTemplateViceLeader"),jo),setup.dutytemplate.viceleader=()=>new setup.DutyTemplateViceLeader,setup.equipmentslot={},setup.equipmentslot.head=new setup.EquipmentSlot("head","head"),setup.equipmentslot.neck=new setup.EquipmentSlot("neck","neck"),setup.equipmentslot.torso=new setup.EquipmentSlot("torso","torso"),setup.equipmentslot.arms=new setup.EquipmentSlot("arms","arms"),setup.equipmentslot.legs=new setup.EquipmentSlot("legs","legs"),setup.equipmentslot.feet=new setup.EquipmentSlot("feet","feet"),setup.equipmentslot.weapon=new setup.EquipmentSlot("weapon","weapon"),setup.equipmentslot.eyes=new setup.EquipmentSlot("eyes","eyes"),setup.equipmentslot.mouth=new setup.EquipmentSlot("mouth","mouth"),setup.equipmentslot.nipple=new setup.EquipmentSlot("nipple","nipple"),setup.equipmentslot.rear=new setup.EquipmentSlot("rear","rear"),setup.equipmentslot.genital=new setup.EquipmentSlot("genital","genital"),setup.furnitureslot={},setup.furnitureslot.slaverbed=new setup.FurnitureSlot("slaverbed","slaver bed"),setup.furnitureslot.slavebed=new setup.FurnitureSlot("slavebed","slaves beds"),setup.furnitureslot.foodtray=new setup.FurnitureSlot("foodtray","food tray"),setup.furnitureslot.drinktray=new setup.FurnitureSlot("drinktray","drink container"),setup.furnitureslot.reward=new setup.FurnitureSlot("reward","slave reward"),setup.furnitureslot.punishment=new setup.FurnitureSlot("punishment","slave punishment"),setup.furnitureslot.lighting=new setup.FurnitureSlot("lighting","lighting"),setup.furnitureslot.tile=new setup.FurnitureSlot("tile","floor decoration"),setup.furnitureslot.object=new setup.FurnitureSlot("object","object decoration"),setup.furnitureslot.wall=new setup.FurnitureSlot("wall","wall decoration"),setup.job={},setup.job.slaver=new setup.Job("slaver","Slaver"),setup.job.slave=new setup.Job("slave","Slave"),setup.job.retired=new setup.Job("retired","Retired"),setup.job.unemployed=new setup.Job("unemployed","Not in company"),setup.qresImpl.And=(Ko=class extends setup.Restriction{constructor(e){if(super(),!Array.isArray(e))throw new Error(`First element of setup.qres.And must be array, not ${e}`);this.requirements=e}text(){return`setup.qres.And([
${this.requirements.map(e=>e.text()).join(`,
`)}
])`}isOk(e){for(let t=0;t<this.requirements.length;++t)if(!this.requirements[t].isOk(e))return!1;return!0}explain(e){let t=[];for(let a=0;a<this.requirements.length;++a)t.push(this.requirements[a].explain(e));return`AND(${t.join(", ")})`}getLayout(){return{css_class:"companycard",blocks:[{passage:"RestrictionAndHeader",listpath:".requirements"}]}}},o(Ko,"And"),Ko),setup.qresImpl.Not=(Vo=class extends setup.Restriction{constructor(e){super(),this.requirement=e}text(){return`setup.qres.Not(${this.requirement.text()})`}isOk(e){return!this.requirement.isOk(e)}explain(e){return`Must be false: (${this.requirement.explain(e)})`}getLayout(){return{blocks:[{passage:"RestrictionNotHeader",entrypath:".requirement"}]}}},o(Vo,"Not"),Vo),setup.qresImpl.Or=(Yo=class extends setup.Restriction{constructor(e){if(super(),!Array.isArray(e))throw new Error(`First element of setup.qres.Or must be array, not ${e}`);this.requirements=e}text(){return`setup.qres.Or([
${this.requirements.map(e=>e.text()).join(`,
`)}
])`}isOk(e){for(let t=0;t<this.requirements.length;++t)if(this.requirements[t].isOk(e))return!0;return!1}explain(e){let t=[];for(let a=0;a<this.requirements.length;++a)t.push(this.requirements[a].explain(e));return`OR(${t.join(", ")})`}getLayout(){return{css_class:"card lorecard",blocks:[{passage:"RestrictionOrHeader",listpath:".requirements"}]}}},o(Yo,"Or"),Yo),setup.qresImpl.Through=(Jo=class extends setup.Restriction{constructor(e,t){super(),this.requirement=e,this.explain_text=t}text(){return`setup.qres.Through(${this.requirement.text()}, '${this.explain_text||""}')`}isOk(e){return this.requirement.isOk(e)}explain(e){return!State.variables.gDebug&&(this.explain_text||this.explain_text=="HIDE")?`${this.explain_text||""}`:`${this.explain_text?`[${this.explain_text}] `:""}${this.requirement.explain(e)}`}getLayout(){return{blocks:[{passage:"RestrictionThroughHeader",entrypath:".requirement"}]}}},o(Jo,"Through"),Jo),setup.qresImpl.ExistUnit=(Wo=class extends setup.Restriction{constructor(e,t){super(),this.restrictions=e,this.amount=t||1}text(){return`setup.qres.ExistUnit([<br/>${this.restrictions.map(t=>t.text()).join(",<br/>")}<br/>], ${this.amount})`}explain(){let e=this.restrictions.map(t=>t.explain());return`Must EXIST at least ${this.amount} units with: [ ${e.join(" ")} ]`}isOk(){let e=0;for(let t in State.variables.unit){let a=State.variables.unit[t];if(setup.RestrictionLib.isUnitSatisfy(a,this.restrictions)&&(e+=1),e>=this.amount)return!0}return!1}getLayout(){return{css_class:"marketobjectcard",blocks:[{passage:"RestrictionExistUnitHeader",addpassage:"QGAddRestrictionUnit",listpath:".restrictions"}]}}},o(Wo,"ExistUnit"),Wo),setup.qresImpl.HasSlave=(va=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.HasSlave()"}explain(){return"Has a slave"}isOk(){return State.variables.company.player.getUnits({job:setup.job.slave}).length>0}},o(va,"HasSlave"),y(va,"NAME","Have at least one slave"),y(va,"PASSAGE","RestrictionHasSlave"),va),setup.qresImpl.HasSlaveWithTraits=(Sa=class extends setup.Restriction{constructor(e){if(super(),!Array.isArray(e))throw new Error(`array traits for has slave with trait is not an array but ${e}`);this.trait_keys=[];for(let t=0;t<e.length;++t){if(!e[t].key)throw new Error(`HasSlaveWithTraits: ${t}-th trait is missing`);this.trait_keys.push(e[t].key)}}text(){let e=[];for(let t=0;t<this.trait_keys.length;++t)e.push(`setup.trait.${this.trait_keys[t]}`);return`setup.qres.HasSlaveWithTraits([${e.join(", ")}])`}getTraits(){let e=[];for(let t=0;t<this.trait_keys.length;++t)e.push(setup.trait[this.trait_keys[t]]);return e}explain(){let e="Has slave with traits:",t=this.getTraits();for(let a=0;a<t.length;++a)e+=t[a].rep();return e}isOk(){let e=State.variables.company.player.getUnits({job:setup.job.slave}),t=this.getTraits();for(let a=0;a<e.length;++a){let r=!0;for(let s=0;s<t.length;++s)if(!e[a].isHasTrait(t[s])){r=!1;break}if(r)return!0}return!1}},o(Sa,"HasSlaveWithTraits"),y(Sa,"NAME","Have at least one slave with specific traits"),y(Sa,"PASSAGE","RestrictionHasSlaveWithTraits"),Sa),setup.qresImpl.HasSlaverWithTraits=(Ta=class extends setup.Restriction{constructor(e){if(super(),!Array.isArray(e))throw new Error(`array traits for has slaver with trait is not an array but ${e}`);this.trait_keys=[];for(let t=0;t<e.length;++t){if(!e[t].key)throw new Error(`HasSlaverWithTraits: ${t}-th trait is missing`);this.trait_keys.push(e[t].key)}}text(){let e=[];for(let t=0;t<this.trait_keys.length;++t)e.push(`setup.trait.${this.trait_keys[t]}`);return`setup.qres.HasSlaverWithTraits([${e.join(", ")}])`}getTraits(){let e=[];for(let t=0;t<this.trait_keys.length;++t)e.push(setup.trait[this.trait_keys[t]]);return e}explain(){let e="Has slaver with traits:",t=this.getTraits();for(let a=0;a<t.length;++a)e+=t[a].rep();return e}isOk(){let e=State.variables.company.player.getUnits({job:setup.job.slaver}),t=this.getTraits();for(let a=0;a<e.length;++a){let r=!0;for(let s=0;s<t.length;++s)if(!e[a].isHasTrait(t[s])){r=!1;break}if(r)return!0}return!1}},o(Ta,"HasSlaverWithTraits"),y(Ta,"NAME","Have at least one slaver with specific traits"),y(Ta,"PASSAGE","RestrictionHasSlaverWithTraits"),Ta),setup.qresImpl.HasUnitOnDuty=(Qo=class extends setup.Restriction{constructor(e){super(),this.duty_template_key=setup.keyOrSelf(e)}text(){return`setup.qres.HasUnitOnDuty('${this.duty_template_key}')`}explain(){return`Must EXIST available unit on duty: ${setup.dutytemplate[this.duty_template_key].getName()}`}isOk(){return!!State.variables.dutylist.getUnitIfAvailable(this.duty_template_key)}},o(Qo,"HasUnitOnDuty"),Qo),setup.qresImpl.NoSlaveWithTraits=(_a=class extends setup.Restriction{constructor(e){if(super(),!Array.isArray(e))throw new Error(`array traits for no slave with trait is not an array but ${e}`);this.trait_keys=[];for(let t=0;t<e.length;++t){if(!e[t].key)throw new Error(`NoSlaveWithTraits: ${t}-th trait is missing`);this.trait_keys.push(e[t].key)}}text(){let e=[];for(let t=0;t<this.trait_keys.length;++t)e.push(`setup.trait.${this.trait_keys[t]}`);return`setup.qres.NoSlaveWithTraits([${e.join(", ")}])`}getTraits(){let e=[];for(let t=0;t<this.trait_keys.length;++t)e.push(setup.trait[this.trait_keys[t]]);return e}explain(){let e="No slave with all these traits:",t=this.getTraits();for(let a=0;a<t.length;++a)e+=t[a].rep();return e}isOk(){let e=State.variables.company.player.getUnits({job:setup.job.slave}),t=this.getTraits();for(let a=0;a<e.length;++a){let r=!0;for(let s=0;s<t.length;++s)if(!e[a].isHasTrait(t[s])){r=!1;break}if(r)return!1}return!0}},o(_a,"NoSlaveWithTraits"),y(_a,"NAME","None of your slaves have ALL these specific traits"),y(_a,"PASSAGE","RestrictionNoSlaveWithTraits"),_a),setup.qresImpl.NoSlaverWithTraits=(Aa=class extends setup.Restriction{constructor(e){if(super(),!Array.isArray(e))throw new Error(`array traits for no slaver with trait is not an array but ${e}`);this.trait_keys=[];for(let t=0;t<e.length;++t){if(!e[t].key)throw new Error(`NoSlaverWithTraits: ${t}-th trait is missing`);this.trait_keys.push(e[t].key)}}text(){let e=[];for(let t=0;t<this.trait_keys.length;++t)e.push(`setup.trait.${this.trait_keys[t]}`);return`setup.qres.NoSlaverWithTraits([${e.join(", ")}])`}getTraits(){let e=[];for(let t=0;t<this.trait_keys.length;++t)e.push(setup.trait[this.trait_keys[t]]);return e}explain(){let e="No slaver with ALL these traits:",t=this.getTraits();for(let a=0;a<t.length;++a)e+=t[a].rep();return e}isOk(){let e=State.variables.company.player.getUnits({job:setup.job.slaver}),t=this.getTraits();for(let a=0;a<e.length;++a){let r=!0;for(let s=0;s<t.length;++s)if(!e[a].isHasTrait(t[s])){r=!1;break}if(r)return!1}return!0}},o(Aa,"NoSlaverWithTraits"),y(Aa,"NAME","None of your slavers have ALL these specific traits"),y(Aa,"PASSAGE","RestrictionNoSlaverWithTraits"),Aa),setup.qresImpl.NotExistUnit=(Zo=class extends setup.Restriction{constructor(e){super(),this.restrictions=e}text(){return`setup.qres.NotExistUnit([<br/>${this.restrictions.map(t=>t.text()).join(",<br/>")}<br/>])`}explain(){return`Must NOT exist any unit with: [ ${this.restrictions.map(t=>t.explain()).join(" ")} ]`}isOk(){for(let e in State.variables.unit){let t=State.variables.unit[e];if(setup.RestrictionLib.isUnitSatisfy(t,this.restrictions))return!1}return!0}getLayout(){return{css_class:"marketobjectcard",blocks:[{passage:"RestrictionNotExistUnitHeader",addpassage:"QGAddRestrictionUnit",listpath:".restrictions"}]}}},o(Zo,"NotExistUnit"),Zo),setup.qresImpl.NoRegalixir=(Xo=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.NoRegalixir()"}explain(){return"Player must not have used Regalixir previously (Including before New Game Plus)"}isOk(){return!State.variables.statistics.regalixir_completed_previous_games}},o(Xo,"NoRegalixir"),Xo),setup.qresImpl.EventOnCooldown=(el=class extends setup.Restriction{constructor(e){if(super(),!e)throw new Error("Missing template for EventOnCooldown");this.template_key=setup.keyOrSelf(e)}text(){return`setup.qres.EventOnCooldown('${this.template_key}')`}isOk(){let e=setup.event[this.template_key];return State.variables.calendar.isOnCooldown(e)}explain(){return`Event on cooldown: ${setup.event[this.template_key].getName()}`}},o(el,"EventOnCooldown"),el),setup.qresImpl.NoEvent=(tl=class extends setup.Restriction{constructor(e){if(super(),!e)throw new Error("Missing template for NoEvent");setup.isString(e)?this.template_key=e:this.template_key=e.key}text(){return`setup.qres.NoEvent('${this.template_key}')`}isOk(e){let t=setup.event[this.template_key];return!State.variables.eventpool.isEventScheduled(t)}apply(e){throw new Error("Not a reward")}undoApply(e){throw new Error("Not a reward")}explain(){return`Event not scheduled: ${setup.event[this.template_key].getName()}`}},o(tl,"NoEvent"),tl),setup.qresImpl.NoOpportunity=(al=class extends setup.Restriction{constructor(e){if(super(),!e)throw new Error("Missing template for NoOpportunity");setup.isString(e)?this.template_key=e:this.template_key=e.key}text(){return`setup.qres.NoOpportunity('${this.template_key}')`}isOk(e){let t=setup.opportunitytemplate[this.template_key],a=State.variables.opportunitylist.getOpportunities();for(let r=0;r<a.length;++r)if(a[r].getTemplate()==t)return!1;return!0}apply(e){throw new Error("Not a reward")}undoApply(e){throw new Error("Not a reward")}explain(){return`No opportunity : ${setup.opportunitytemplate[this.template_key].getName()}`}},o(al,"NoOpportunity"),al),setup.qresImpl.NoQuest=(Ma=class extends setup.Restriction{constructor(e){if(super(),!e)throw new Error("Missing template for NoQuest");this.template_key=setup.keyOrSelf(e)}text(){return`setup.qres.NoQuest('${this.template_key}')`}isOk(){let e=setup.questtemplate[this.template_key],t=State.variables.company.player.getQuests();for(let a=0;a<t.length;++a)if(t[a].getTemplate()==e)return!1;return!0}apply(e){throw new Error("Not a reward")}undoApply(e){throw new Error("Not a reward")}explain(){return`No quest: ${setup.questtemplate[this.template_key].getName()}`}},o(Ma,"NoQuest"),y(Ma,"NAME","Do not already have or doing a particular quest"),y(Ma,"PASSAGE","RestrictionNoQuest"),Ma),setup.qresImpl.OpportunityOnCooldown=(il=class extends setup.Restriction{constructor(e){if(super(),!e)throw new Error("Missing template for OpportunityOnCooldown");this.template_key=setup.keyOrSelf(e)}text(){return`setup.qres.OpportunityOnCooldown('${this.template_key}')`}isOk(){let e=setup.opportunitytemplate[this.template_key];return State.variables.calendar.isOnCooldown(e)}explain(){return`Opportunity on cooldown: ${setup.opportunitytemplate[this.template_key].getName()}`}},o(il,"OpportunityOnCooldown"),il),setup.qresImpl.OpportunityUnique=(wa=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.OpportunityUnique()"}isOk(e){let t=State.variables.opportunitylist.getOpportunities();for(let a=0;a<t.length;++a)if(t[a].getTemplate()==e)return!1;return!0}apply(e){throw new Error("Not a reward")}undoApply(e){throw new Error("Not a reward")}explain(){return"unique"}},o(wa,"OpportunityUnique"),y(wa,"NAME","Unique opportunity (DO NOT USE THIS FOR QUESTS)"),y(wa,"PASSAGE","RestrictionOpportunityUnique"),wa),setup.qresImpl.QuestAvailableUnique=(rl=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.QuestAvailableUnique()"}isOk(e){let t=State.variables.company.player.getQuests();for(let a=0;a<t.length;++a)if(!t[a].getTeam()&&t[a].getTemplate()==e)return!1;return!0}apply(e){throw new Error("Not a reward")}undoApply(e){throw new Error("Not a reward")}explain(){return"unique (available)"}},o(rl,"QuestAvailableUnique"),rl),setup.qresImpl.QuestDone=(sl=class extends setup.Restriction{constructor(e){super(),e?this.template_key=setup.keyOrSelf(e):this.template_key=null}text(){return this.template_key?`setup.qres.QuestDone('${this.template_key}')`:"setup.qres.QuestDone(null)"}isOk(e){let t;return this.template_key?t=setup.questtemplate[this.template_key]:t=e,State.variables.statistics.isHasSuccess(t)}explain(){return this.template_key?`Have ever completed quest: ${setup.questtemplate[this.template_key].getName()}`:"Have ever completed this quest"}},o(sl,"QuestDone"),sl),setup.qresImpl.QuestOnCooldown=(nl=class extends setup.Restriction{constructor(e){if(super(),!e)throw new Error("Missing template for QuestOnCooldown");this.template_key=setup.keyOrSelf(e)}text(){return`setup.qres.QuestOnCooldown('${this.template_key}')`}isOk(){let e=setup.questtemplate[this.template_key];return State.variables.calendar.isOnCooldown(e)}explain(){return`Quest on cooldown: ${setup.questtemplate[this.template_key].getName()}`}},o(nl,"QuestOnCooldown"),nl),setup.qresImpl.QuestUnique=(Ra=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.QuestUnique()"}isOk(e){let t=State.variables.company.player.getQuests();for(let a=0;a<t.length;++a)if(t[a].getTemplate()==e)return!1;return!0}apply(e){throw new Error("Not a reward")}undoApply(e){throw new Error("Not a reward")}explain(){return"unique"}},o(Ra,"QuestUnique"),y(Ra,"NAME","Unique quest (cannot have two of these quest at the same time. DO NOT USE THIS FOR OPPORTUNITY/MAIL)"),y(Ra,"PASSAGE","RestrictionQuestUnique"),Ra),setup.qresImpl.Actor=(Ea=class extends setup.Restriction{constructor(e,t){super(),this.actor_name=e,this.restriction=t}text(){return`setup.qres.Actor('${this.actor_name}', ${this.restriction.text()})`}explain(e){let t=this.actor_name;if(e&&"getActorUnit"in e){let a=e.getActorUnit(this.actor_name);a&&(t=a.rep())}return`${t}: (${this.restriction.explain(e)})`}isOk(e){let t=e.getActorUnit(this.actor_name);return this.restriction.isOk(t,e)}getLayout(){return{css_class:"marketobjectcard",blocks:[{passage:"RestrictionActorHeader",addpassage:"QGAddRestrictionUnit",entrypath:".restriction"}]}}},o(Ea,"Actor"),y(Ea,"NAME","Actor satisfies a restriction"),y(Ea,"PASSAGE","RestrictionActor"),Ea),setup.qresImpl.BedchamberOtherSlave=(ol=class extends setup.Restriction{constructor(e){super(),this.restriction=e}text(){return`setup.qres.BedchamberOtherSlave(${this.restriction.text()})`}explain(e){return`The other slave in bedchamber satisfies: (${this.restriction.explain(e)})`}isOk(e){if(!e.isSlave())return!1;let t=e.getBedchamber();if(!t)return!1;let a=t.getSlaves();if(a.length<2)return!1;let r=a[0];return r==e&&(r=a[1]),this.restriction.isOk(r)}getLayout(){return{css_class:"marketobjectcard",blocks:[{passage:"RestrictionBedchamberOtherSlaveHeader",addpassage:"QGAddRestrictionUnit",entrypath:".restriction"}]}}},o(ol,"BedchamberOtherSlave"),ol),setup.qresImpl.BestFriend=(ll=class extends setup.Restriction{constructor(e){super(),this.restriction=e}text(){return`setup.qres.BestFriend(${this.restriction.text()})`}explain(e){return`Unit's best friend or lover satisfies: (${this.restriction.explain(e)})`}isOk(e){const t=e.getBestFriend();return t?this.restriction.isOk(t):!1}getLayout(){return{css_class:"marketobjectcard",blocks:[{passage:"RestrictionBestFriendHeader",addpassage:"QGAddRestrictionUnit",entrypath:".restriction"}]}}},o(ll,"BestFriend"),ll),setup.qresImpl.Owner=(ul=class extends setup.Restriction{constructor(e){super(),this.restriction=e}text(){return`setup.qres.Owner(${this.restriction.text()})`}explain(e){return`Slave's owner satisfies: (${this.restriction.explain(e)})`}isOk(e){if(!e.isSlave())return!1;let t=e.getBedchamber();return t?this.restriction.isOk(t.getSlaver()):!1}getLayout(){return{css_class:"marketobjectcard",blocks:[{passage:"RestrictionOwnerHeader",addpassage:"QGAddRestrictionUnit",entrypath:".restriction"}]}}},o(ul,"Owner"),ul),setup.qresImpl.Player=(xa=class extends setup.Restriction{constructor(e){super(),this.restriction=e}text(){return`setup.qres.Player(${this.restriction.text()})`}explain(e){return`You satisfies: (${this.restriction.explain(e)})`}isOk(){return this.restriction.isOk(State.variables.unit.player)}getLayout(){return{css_class:"marketobjectcard",blocks:[{passage:"RestrictionPlayerHeader",addpassage:"QGAddRestrictionUnit",entrypath:".restriction"}]}}},o(xa,"Player"),y(xa,"NAME","Player satisfies a restriction"),y(xa,"PASSAGE","RestrictionPlayer"),xa),setup.qresImpl.FortSkillBonusAtLeast=(hl=class extends setup.Restriction{constructor(e,t){super(),this.skill_key=setup.keyOrSelf(e),this.target=t}getSkill(){return setup.skill[this.skill_key]}text(){return`setup.qres.FortSkillBonusAtLeast(setup.skill.${this.getSkill().keyword}, ${this.target==setup.ROOM_MAX_SKILL_BOOST?"setup.ROOM_MAX_SKILL_BOOST":this.target})`}explain(e){return`Fort's ${this.getSkill().rep()} bonus is at least ${this.target}`}isOk(e){return this.getSkill(),State.variables.roomlist.getTotalSkillBonuses()[this.getSkill().key]>=this.target}},o(hl,"FortSkillBonusAtLeast"),hl),setup.qresImpl.AllowLovers=(pl=class extends setup.Restriction{constructor(e,t){super(),this.gender1_key=setup.keyOrSelf(e),this.gender2_key=setup.keyOrSelf(t)}getGenders(){return[setup.trait[this.gender1_key],setup.trait[this.gender2_key]]}text(){return`setup.qres.AllowLovers('${this.gender1_key}', '${this.gender2_key}')`}explain(){const e=this.getGenders();return`Settings allow ${e[0].rep()} to love ${e[1].rep()}`}isOk(e){const t=this.getGenders();return State.variables.settings.isCanBecomeLovers(t[0],t[1])}},o(pl,"AllowLovers"),pl),setup.qresImpl.TagNotBanned=(cl=class extends setup.Restriction{constructor(e){super(),this.tag=e}text(){return`setup.qres.TagNotBanned('${this.tag}')`}explain(){return`${this.tag} is NOT banned`}isOk(e){return!State.variables.settings.bannedtags[this.tag]}},o(cl,"TagNotBanned"),cl),setup.qresImpl.QuestFortRestorationAwards=(dl=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.QuestFortRestorationAwards()"}getAmount(){const t=.35+.6*(State.variables.varstore.get("quest_fort_restoration_win")||0)/4;return Math.round(setup.ROOM_BONUS_SKILL_BONUS_DEFAULT*t)}explain(e){return`Your fort grants at least ${this.getAmount()} ${setup.skill.map(t=>t.rep()).join("")}`}isOk(e){const t=this.getAmount();return State.variables.roomlist.getTotalSkillBonuses().filter(r=>r<t).length==0}},o(dl,"QuestFortRestorationAwards"),dl),setup.qresImpl.QuestFortRestorationAwardsEfficiency=(gl=class extends setup.Restriction{constructor(){super()}getRoom(){return State.variables.roomlist.getRoomInstances({template:setup.roomtemplate[State.variables.varstore.get("quest_fort_restoration_room")||"questoffice"]})[0]}text(){return"setup.qres.QuestFortRestorationAwardsEfficiency()"}getTargetBonuses(){const e=this.getRoom(),t=Array(setup.skill.length).fill(0);for(const a of e.getTemplate().getSkillBonus())a.type=="near"&&(t[setup.skill[a.skill_key].key]+=a.bonus*setup.roomtemplate[a.room_template_key].max_room_count);return t.map(a=>a*.9)}explain(e){const t=setup.SkillHelper.explainSkills(this.getTargetBonuses(),!1,!0);return`Bonuses from ${this.getRoom().rep()} is at least ${t}`}isOk(e){const t=this.getTargetBonuses(),a=this.getRoom().getSkillBonuses();for(const r of setup.skill)if(a[r.key]<t[r.key])return!1;return!0}},o(gl,"QuestFortRestorationAwardsEfficiency"),gl),setup.qresImpl.QuestFortRestorationAwardsTheme=(ml=class extends setup.Restriction{constructor(){super()}getSkill(){return setup.skill[State.variables.varstore.get("quest_fort_restoration_skill")]||setup.skill.combat}getAmount(){return setup.ROOM_MAX_SKILL_BOOST}text(){return"setup.qres.QuestFortRestorationAwardsTheme()"}explain(e){return setup.qres.FortSkillBonusAtLeast(this.getSkill(),this.getAmount()).explain(e)}isOk(e){return setup.qres.FortSkillBonusAtLeast(this.getSkill(),this.getAmount()).isOk(e)}},o(ml,"QuestFortRestorationAwardsTheme"),ml),setup.qresImpl.AllowDefiant=(fl=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.AllowDefiant()"}explain(){return State.variables.gDebug?"Allow defiant units":""}isOk(e){return!0}},o(fl,"AllowDefiant"),fl),setup.qresImpl.Available=(bl=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.Available()"}explain(){return"Unit is available for work"}isOk(e){return e.isAvailable()}},o(bl,"Available"),bl),setup.qresImpl.Bodyshifter=(yl=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.Bodyshifter()"}explain(){return"Unit is a bodyshifter"}isOk(e){return State.variables.bodyshift.isBodyshifter(e)}},o(yl,"Bodyshifter"),yl),setup.qresImpl.CanPurify=(kl=class extends setup.Restriction{constructor(e){super(),this.trait_tag=e}text(){return`setup.qres.CanPurify(${this.trait_tag})`}explain(){return`Unit can be purified in: ${this.trait_tag||"anything"}`}isOk(e){return e.isCanPurify(this.trait_tag)}},o(kl,"CanPurify"),kl),setup.qresImpl.DietCum=(vl=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.DietCum()"}explain(){return"On cum-based diet"}isOk(e){return e.isDietCum()}},o(vl,"DietCum"),vl),setup.qresImpl.DietMilk=(Sl=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.DietMilk()"}explain(){return"On milk-based diet"}isOk(e){return e.isDietMilk()}},o(Sl,"DietMilk"),Sl),setup.qresImpl.Equipped=(Tl=class extends setup.Restriction{constructor(e){if(super(),!e)throw new Error("Equipment null in Equipped");this.equipment_key=setup.keyOrSelf(e)}getEquipment(){return setup.equipment[this.equipment_key]}text(){return`setup.qres.Equipped('${this.equipment_key}')`}explain(){return`equips ${this.getEquipment().rep()}`}isOk(e){const t=this.getEquipment();return e.getEquipmentAt(t.getSlot())==t}},o(Tl,"Equipped"),Tl),setup.qresImpl.HasFamilyWithJob=(It=class extends setup.Restriction{constructor(e){super(),this.job_key=e.key}text(){return`setup.qres.HasFamilyWithJob(setup.job.${this.job_key})`}explain(){return`${setup.job[this.job_key].rep()}`}isOk(e){let t=State.variables.family.getFamily(e);for(let a in t)if(State.variables.unit[a].getJob().key==this.job_key)return!0;return!1}},o(It,"HasFamilyWithJob"),y(It,"NAME","Has a family member with the given job"),y(It,"PASSAGE","RestrictionHasFamilyWithJob"),y(It,"UNIT",!0),It),setup.qresImpl.HasPerkChoice=(_l=class extends setup.Restriction{constructor(e){super(),this.perk_key=setup.keyOrSelf(e)}text(){return`setup.qres.HasPerkChoice('${this.perk_key}')`}getPerk(){return setup.trait[this.perk_key]}explain(){return`Unit has ${this.getPerk().rep()} as one of their perk choices`}isOk(e){return e.isHasPerkChoice(this.getPerk())}},o(_l,"HasPerkChoice"),_l),setup.qresImpl.Home=(Al=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.Home()"}explain(){return"Unit is at home"}isOk(e){return e.isHome()}},o(Al,"Home"),Al),setup.qresImpl.HomeExceptOnLeave=(Ml=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.HomeExceptOnLeave()"}explain(){return"Unit is at home OR on leave"}isOk(e){return e.isHome(!0)}},o(Ml,"HomeExceptOnLeave"),Ml),setup.qresImpl.InnateTrait=(wl=class extends setup.Restriction{constructor(e){super(),this.trait_key=setup.keyOrSelf(e)}text(){return`setup.qres.InnateTrait(setup.trait.${this.trait_key})`}explain(){return`Innate: ${setup.trait[this.trait_key].rep()}`}isOk(e){return e.isHasInnateTrait(setup.trait[this.trait_key])}},o(wl,"InnateTrait"),wl),setup.qresImpl.IsCanBeSold=(Rl=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.IsCanBeSold()"}explain(){return"Can be sold and not in a party"}isOk(e){return!e.getParty()}},o(Rl,"IsCanBeSold"),Rl),setup.qresImpl.IsInjured=(El=class extends setup.Restriction{constructor(e){super(),this.min_duration=e}text(){return`setup.qres.IsInjured(${this.min_duration})`}explain(){return this.min_duration?`Unit must be injured for at least ${this.min_duration} weeks`:"Unit must be injured"}isOk(e){return this.min_duration?State.variables.hospital.getInjury(e)>=this.min_duration:State.variables.hospital.isInjured(e)}},o(El,"IsInjured"),El),setup.qresImpl.Job=(xl=class extends setup.Restriction{constructor(e){if(super(),!e)throw new Error("Missing job for qres.Job");this.job_key=e.key}text(){return`setup.qres.Job(setup.job.${this.job_key})`}explain(){return`${setup.job[this.job_key].rep()}`}isOk(e){if(e.getJob().key==this.job_key)return!0;if(!e.isYourCompany()){const t=e.getMarket();if(t&&t.getJob().key==this.job_key){const a=t.getMarketObject(e);if(a&&!a.getPrice())return!0}}return!1}},o(xl,"Job"),xl),setup.qresImpl.LevelAtLeast=($t=class extends setup.Restriction{constructor(e){super(),this.level=e}text(){return`setup.qres.LevelAtLeast(${this.level})`}explain(){return`Unit's level is at least ${this.level}`}isOk(e){return e.getLevel()>=this.level}},o($t,"LevelAtLeast"),y($t,"NAME","Level at least this much"),y($t,"PASSAGE","RestrictionLevelAtLeast"),y($t,"UNIT",!0),$t),setup.qresImpl.LevelAtMost=(Ot=class extends setup.Restriction{constructor(e){super(),this.level=e}text(){return`setup.qres.LevelAtMost(${this.level})`}explain(){return`Unit's level is at most ${this.level}`}isOk(e){return e.getLevel()<=this.level}},o(Ot,"LevelAtMost"),y(Ot,"NAME","Level at most this much"),y(Ot,"PASSAGE","RestrictionLevelAtMost"),y(Ot,"UNIT",!0),Ot),setup.qresImpl.Living=(Dl=class extends setup.Restriction{constructor(e){super(),this.living_key=setup.keyOrSelf(e)}text(){return`setup.qres.Living(setup.living.${this.living_key})`}getLiving(){return setup.living[this.living_key]}explain(){return`Unit is retired and has the following living: ${this.getLiving().rep()}`}isOk(e){return e.getLiving()==this.getLiving()}},o(Dl,"Living"),Dl),setup.qresImpl.NoTrait=(Il=class extends setup.Restriction{constructor(e){super(),this.trait_key=setup.keyOrSelf(e)}text(){return`setup.qres.NoTrait(setup.trait.${this.trait_key})`}explain(){let e=setup.trait[this.trait_key],t=[e];e.getTraitGroup()&&(t=e.getTraitGroup().getTraitCover(setup.trait[this.trait_key]));let a="";for(let r=0;r<t.length;++r)a+=t[r].repNegative();return a}isOk(e){let t=setup.trait[this.trait_key];return!e.isHasTrait(t)}},o(Il,"NoTrait"),Il),setup.qresImpl.NoTraits=($l=class extends setup.Restriction{constructor(e,t){super(),this.trait_keys=[];for(let a=0;a<e.length;++a){let r=e[a];this.trait_keys.push(r.key)}this.is_exact=t}text(){return`setup.qres.NoTraits([${this.trait_keys.map(t=>`setup.trait.${t}`).join(", ")}], ${this.is_exact})`}explain(){let e=[];for(let t=0;t<this.trait_keys.length;++t){let a=setup.trait[this.trait_keys[t]];if(this.is_exact)e.push(a.repNegative());else{let r=a.getTraitCover();for(let s=0;s<r.length;++s)e.push(r[s].repNegative())}}return e.join("")}isOk(e){let t=e.getTraits();for(let a=0;a<this.trait_keys.length;++a){let r=this.trait_keys[a];if(this.is_exact){if(t.includes(setup.trait[r]))return!1}else if(e.isHasTrait(setup.trait[r]))return!1}return!0}},o($l,"NoTraits"),$l),setup.qresImpl.NotBusy=(Ct=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.NotBusy()"}explain(){return"Unit is [<<successtextlite 'IDLE'>>]"}isOk(e){return!e.isBusy()}},o(Ct,"NotBusy"),y(Ct,"NAME","Unit not busy"),y(Ct,"PASSAGE","RestrictionNotBusy"),y(Ct,"UNIT",!0),Ct),setup.qresImpl.NotEngaged=(Ol=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.NotEngaged()"}explain(){return"Unit is not engaged"}isOk(e){return!e.isEngaged()}},o(Ol,"NotEngaged"),Ol),setup.qresImpl.NotInjured=(hi=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.NotInjured()"}explain(){return"Unit must NOT be injured"}isOk(e){return!State.variables.hospital.isInjured(e)}},o(hi,"NotInjured"),y(hi,"UNIT",!0),hi),setup.qresImpl.NotOnActivity=(Cl=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.NotOnActivity()"}explain(){return"Unit is not already on another activity"}isOk(e){return!State.variables.activitylist.getActivityOf(e)}},o(Cl,"NotOnActivity"),Cl),setup.qresImpl.NotYou=(Pt=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.NotYou()"}explain(){return"Unit cannot be you"}isOk(e){return e!=State.variables.unit.player}},o(Pt,"NotYou"),y(Pt,"NAME","Unit cannot be the player character (i.e, cannot be you)"),y(Pt,"PASSAGE","RestrictionNotYou"),y(Pt,"UNIT",!0),Pt),setup.qresImpl.OnDuty=(Pl=class extends setup.Restriction{constructor(e){super(),this.duty_template_key=setup.keyOrSelf(e)}text(){return`setup.qres.OnDuty('${this.duty_template_key}')`}explain(){return`Unit must be on duty: ${setup.dutytemplate[this.duty_template_key].getName()}`}isOk(e){const t=e.getDuty();return t&&t.getTemplate().key==this.duty_template_key}},o(Pl,"OnDuty"),Pl),setup.qresImpl.RememberUnit=(Ll=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.RememberUnit()"}explain(){return"Remember this unit (used with setup.qres.BestFriendWithRememberedUnit, setup.qres.CanUseRememberedUnit, and setup.qres.CanBeUsedWithRememberedUnit)"}isOk(e){return setup.qresImpl.RememberUnit.rememberUnit(e),!0}static rememberUnit(e){State.temporary.remember_unit_rememberedUnit_key=e.key}static getRememberedUnit(){const e=State.temporary.remember_unit_rememberedUnit_key;if(!e)throw new Error("No remembered unit!");return State.variables.unit[e]}},o(Ll,"RememberUnit"),Ll),setup.qresImpl.SkillAtLeast=(Ul=class extends setup.Restriction{constructor(e,t){super(),this.skill_key=setup.keyOrSelf(e),this.amount=t}text(){return`setup.qres.SkillAtLeast(setup.skill.${this.getSkill().keyword}, ${this.amount})`}getSkill(){return setup.skill[this.skill_key]}explain(){return`Unit's ${this.getSkill().rep()} is at least ${this.amount}`}isOk(e){return e.getSkill(this.getSkill())>=this.amount}},o(Ul,"SkillAtLeast"),Ul),setup.qresImpl.SkillModifierAtLeast=(Nl=class extends setup.Restriction{constructor(e,t){super(),this.skill_key=setup.keyOrSelf(e),this.modifier=t}text(){return`setup.qres.SkillModifierAtLeast(setup.skill.${this.getSkill().keyword}, ${this.modifier})`}getSkill(){return setup.skill[this.skill_key]}explain(){return`Unit's ${this.getSkill().rep()} has at least +${this.modifier}x modifier at base`}isOk(e){return e.getSkillModifiers(!0)[this.getSkill().key]>=this.modifier}},o(Nl,"SkillModifierAtLeast"),Nl),setup.qresImpl.SlaveValueAtLeast=(Lt=class extends setup.Restriction{constructor(e){super(),this.slavevalue=e}text(){return`setup.qres.SlaveValueAtLeast(${this.slavevalue})`}explain(){return`Unit's slave value is at least ${this.slavevalue}`}isOk(e){return e.getSlaveValue()>=this.slavevalue}},o(Lt,"SlaveValueAtLeast"),y(Lt,"NAME","Slave value is at least this much"),y(Lt,"PASSAGE","RestrictionSlaveValueAtLeast"),y(Lt,"UNIT",!0),Lt),setup.qresImpl.SlaveValueAtMost=(Ut=class extends setup.Restriction{constructor(e){super(),this.slavevalue=e}text(){return`setup.qres.SlaveValueAtMost(${this.slavevalue})`}explain(){return`Unit's slave value is at most ${this.slavevalue}`}isOk(e){return e.getSlaveValue()<=this.slavevalue}},o(Ut,"SlaveValueAtMost"),y(Ut,"NAME","Slave value is at most this much"),y(Ut,"PASSAGE","RestrictionSlaveValueAtMost"),y(Ut,"UNIT",!0),Ut),setup.qresImpl.Trait=(Hl=class extends setup.Restriction{constructor(e,t){if(super(),e?this.trait_key=setup.keyOrSelf(e):this.trait_key=null,t?this.trait_group_key=setup.keyOrSelf(t):this.trait_group_key=null,!this.trait_key&&!this.trait_group_key)throw new Error("missing trait in qres.Trait!")}text(){return this.trait_key?`setup.qres.Trait(setup.trait.${this.trait_key})`:`setup.qres.Trait(null, setup.traitgroup[${this.trait_group_key}])`}explain(){let e=null;if(this.trait_key&&(e=setup.trait[this.trait_key]),e){let s=e.getTraitCover();return s.length>1?`(${s.map(n=>n.rep()).join(" or ")})`:`${e.rep()}`}let t=null;this.trait_group_key&&(t=setup.traitgroup[this.trait_group_key]);let a=t.getTraitCover(null,!0),r=[];for(let s=0;s<a.length;++s)r.push(a[s].repNegative());return`${r.join("")}`}isOk(e){let t=null;this.trait_group_key&&(t=setup.traitgroup[this.trait_group_key]);let a=null;return this.trait_key&&(a=setup.trait[this.trait_key]),e.isHasTrait(a,t)}},o(Hl,"Trait"),Hl),setup.qresImpl.TraitExact=(Nt=class extends setup.Restriction{constructor(e){super(),this.trait_key=e.key}text(){return`setup.qres.TraitExact(setup.trait.${this.trait_key})`}explain(){return setup.trait[this.trait_key].rep()}isOk(e){let t=setup.trait[this.trait_key];return e.isHasTraitExact(t)}},o(Nt,"TraitExact"),y(Nt,"NAME","Has a trait (exact)"),y(Nt,"PASSAGE","RestrictionTraitExact"),y(Nt,"UNIT",!0),Nt),setup.qresImpl.WeeksWithCompanyAtLeast=(Bl=class extends setup.Restriction{constructor(e){super(),this.weeks=e}text(){return`setup.qres.WeeksWithCompanyAtLeast(${this.weeks})`}explain(){return`Unit has been with your company for at least ${this.weeks} weeks`}isOk(e){return e.getWeeksWithCompany()>=this.weeks}},o(Bl,"WeeksWithCompanyAtLeast"),Bl),setup.qresImpl.WeeksWithCompanyAtMost=(Gl=class extends setup.Restriction{constructor(e){super(),this.weeks=e}text(){return`setup.qres.WeeksWithCompanyAtMost(${this.weeks})`}explain(){return`Unit has been with your company for at most ${this.weeks} weeks`}isOk(e){return e.getWeeksWithCompany()<=this.weeks}},o(Gl,"WeeksWithCompanyAtMost"),Gl),setup.qresImpl.You=(ql=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.You()"}explain(){return"Unit must be you"}isOk(e){return e==State.variables.unit.player}},o(ql,"You"),ql),setup.qresImpl.BestFriends=(zl=class extends setup.Restriction{constructor(e,t){super(),this.actor_name1=e,this.actor_name2=t}text(){return`setup.qres.BestFriends('${this.actor_name1}', '${this.actor_name2}')`}explain(e){return`${this.actor_name1} must be best friends with ${this.actor_name2}`}isOk(e){const t=e.getActorUnit(this.actor_name1),a=e.getActorUnit(this.actor_name2);return t.getBestFriend()==a}},o(zl,"BestFriends"),zl),setup.qresImpl.Lovers=(Fl=class extends setup.Restriction{constructor(e,t){super(),this.actor_name1=e,this.actor_name2=t}text(){return`setup.qres.Lovers('${this.actor_name1}', '${this.actor_name2}')`}explain(e){return`${this.actor_name1} must be lovers with ${this.actor_name2}`}isOk(e){const t=e.getActorUnit(this.actor_name1),a=e.getActorUnit(this.actor_name2);return t.getBestFriend()==a}},o(Fl,"Lovers"),Fl),setup.qresImpl.SameGender=(jl=class extends setup.Restriction{constructor(e,t){super(),this.actor_name1=e,this.actor_name2=t}text(){return`setup.qres.SameGender('${this.actor_name1}', '${this.actor_name2}')`}explain(e){if(e){const t=e.getActorUnit(this.actor_name1),a=e.getActorUnit(this.actor_name2);return`${t.rep()} and ${a.rep()} must be of the same gender`}else return`${this.actor_name1} and ${this.actor_name2} must be of the same gender`}isOk(e){const t=e.getActorUnit(this.actor_name1),a=e.getActorUnit(this.actor_name2);return t.getGender()==a.getGender()}},o(jl,"SameGender"),jl),setup.qresImpl.VarEqual=(Da=class extends setup.Restriction{constructor(e,t){super(),this.key=e,this.value=t}text(){return setup.isString(this.value)?`setup.qres.VarEqual('${this.key}', '${this.value}')`:`setup.qres.VarEqual('${this.key}', ${this.value})`}explain(){return`Variable "${this.key}" must equals "${this.value}"`}isOk(){return State.variables.varstore.get(this.key)==this.value}},o(Da,"VarEqual"),y(Da,"NAME","Variable equals something"),y(Da,"PASSAGE","RestrictionVarEqual"),Da),setup.qresImpl.VarGte=(Ia=class extends setup.Restriction{constructor(e,t){super(),this.key=e,this.value=t}text(){return`setup.qres.VarGte('${this.key}', ${this.value})`}explain(){return`Variable "${this.key}" must >= ${this.value}`}isOk(){return(State.variables.varstore.get(this.key)||0)>=this.value}},o(Ia,"VarGte"),y(Ia,"NAME","Variable >= something"),y(Ia,"PASSAGE","RestrictionVarGte"),Ia),setup.qresImpl.VarLte=($a=class extends setup.Restriction{constructor(e,t){super(),this.key=e,this.value=t}text(){return`setup.qres.VarLte('${this.key}', ${this.value})`}explain(){return`Variable "${this.key}" must <= ${this.value}`}isOk(){return(State.variables.varstore.get(this.key)||0)<=this.value}},o($a,"VarLte"),y($a,"NAME","Variable <= something"),y($a,"PASSAGE","RestrictionVarLte"),$a),setup.qresImpl.VarNull=(Kl=class extends setup.Restriction{constructor(e){super(),this.key=e}text(){return`setup.qres.VarNull('${this.key}')`}explain(){return`Variable "${this.key}" must be null (unset)`}isOk(){return State.variables.varstore.get(this.key)==null}},o(Kl,"VarNull"),Kl);const Bv=class Bv extends setup.SexAction{getTags(){return super.getTags().concat(["penetration",this.getPenetratorBodypart().getTag(),this.getPenetrationTarget().getTag()])}getPenetratorBodypart(){return setup.sexbodypart.penis}getPenetrationTarget(){return setup.sexbodypart.mouth}isDominantSex(){return!this.getPenetratorBodypart().isSubmissivePenetration(this.getPenetrationTarget())}};o(Bv,"OngoingBase");let $i=Bv;setup.SexAction.OngoingStart=(Vl=class extends $i{getTags(){return super.getTags().concat(["penetrationstartdom"])}getActorDescriptions(){let e;return this.isDominantSex()?e=[setup.sexpace.dom,setup.sexpace.normal]:e=[setup.sexpace.normal,setup.sexpace.sub],[{energy:setup.Sex.ENERGY_TINY,paces:e,restrictions:[]},{energy:setup.Sex.ENERGY_TINY,paces:setup.SexPace.getAllPaces(),restrictions:[]}]}getRestrictions(){return[setup.qres.SexBodypartsCanInteract("a",this.getPenetratorBodypart(),"b",this.getPenetrationTarget())]}getOutcomes(){return super.getOutcomes().concat([setup.qc.SexOngoingStart("a",this.getPenetratorBodypart(),"b",this.getPenetrationTarget())])}rawTitle(e){const t=this.getActorUnit("a"),a=this.getActorUnit("b"),r=this.getPenetratorBodypart().rep(t,e),s=this.getPenetrationTarget().rep(a,e);return`Put a|their ${r} in b|their ${s}`}rawDescription(e){return this.rawTitle(e)}rawStory(e){return this.getActorUnit("a"),this.getActorUnit("b"),""}},o(Vl,"OngoingStart"),Vl),setup.SexAction.OngoingEnd=(Yl=class extends $i{getActorDescriptions(){return[{energy:setup.Sex.ENERGY_TINY,paces:[setup.sexpace.dom,setup.sexpace.normal,setup.sexpace.sub,setup.sexpace.forced]},{energy:setup.Sex.ENERGY_TINY,paces:setup.SexPace.getAllPaces()}]}getRestrictions(){return[setup.qres.SexIsOngoing("a",this.getPenetratorBodypart(),"b",this.getPenetrationTarget())]}getOutcomes(){return super.getOutcomes().concat([setup.qc.SexOngoingEnd("a",this.getPenetratorBodypart())])}rawTitle(e){const t=this.getActorUnit("a"),a=this.getPenetratorBodypart(),r=this.getActorUnit("b"),s=this.getPenetrationTarget();return`Withdraw a|their ${a.rep(t,e)} from b|their ${s.rep(r,e)}`}rawDescription(e){return this.rawTitle(e)}rawStory(e){const t=this.getActorUnit("a"),a=this.getPenetratorBodypart(),r=this.getActorUnit("b"),s=this.getPenetrationTarget();return a.describeEnd(t,r,s,e)}},o(Yl,"OngoingEnd"),Yl),setup.SexAction.OngoingEndOther=(Jl=class extends $i{getActorDescriptions(){return[{energy:setup.Sex.ENERGY_TINY,paces:[setup.sexpace.dom]},{energy:setup.Sex.ENERGY_TINY,paces:setup.SexPace.getAllPaces()}]}getRestrictions(){return[setup.qres.SexIsOngoing("b",this.getPenetratorBodypart(),"a",this.getPenetrationTarget())]}getOutcomes(){return super.getOutcomes().concat([setup.qc.SexOngoingEnd("b",this.getPenetratorBodypart())])}rawTitle(e){const t=this.getActorUnit("a"),a=this.getPenetrationTarget(),r=this.getActorUnit("b"),s=this.getPenetratorBodypart();return`Withdraw a|their ${a.rep(t,e)} from b|their ${s.rep(r,e)}`}rawDescription(e){return this.rawTitle(e)}rawStory(e){const t=this.getActorUnit("a"),a=this.getPenetratorBodypart(),r=this.getActorUnit("b"),s=this.getPenetrationTarget();return a.describeEnd(r,t,s,e)}},o(Jl,"OngoingEndOther"),Jl),setup.SexAction.OngoingStartOther=(Wl=class extends $i{getTags(){return super.getTags().concat(["penetrationstartsub"])}getActorDescriptions(){let e;return this.isDominantSex()?e=[setup.sexpace.sub,setup.sexpace.normal]:e=[setup.sexpace.normal,setup.sexpace.dom],[{energy:setup.Sex.ENERGY_TINY,paces:e,restrictions:[]},{energy:setup.Sex.ENERGY_TINY,paces:setup.SexPace.getAllPaces(),restrictions:[]}]}getRestrictions(){return[setup.qres.SexBodypartsCanInteract("b",this.getPenetratorBodypart(),"a",this.getPenetrationTarget())]}getOutcomes(){return super.getOutcomes().concat([setup.qc.SexOngoingStart("b",this.getPenetratorBodypart(),"a",this.getPenetrationTarget())])}rawTitle(e){const t=this.getActorUnit("a"),a=this.getActorUnit("b"),r=this.getPenetrationTarget().rep(t,e),s=this.getPenetratorBodypart().rep(a,e);return`Wrap a|their ${r} around b|their ${s}`}rawDescription(e){return this.rawTitle(e)}rawStory(e){return this.getActorUnit("a"),this.getActorUnit("b"),""}},o(Wl,"OngoingStartOther"),Wl),setup.SexAction.OrgasmBase=(Ql=class extends setup.SexAction{getTags(){return super.getTags().concat(["orgasm","orgasm_type"])}getActorDescriptions(){return[{restrictions:[setup.qres.SexIsOrgasming()],paces:setup.SexPace.getAllPaces()}]}getOutcomes(){return super.getOutcomes().concat([setup.qc.SexOrgasm("a")])}rawTitle(e){return"Orgasm"}rawDescription(e){return this.rawTitle(e)}rawStory(e){return"a|Rep orgasms."}},o(Ql,"OrgasmBase"),Ql);const Gv=class Gv extends setup.SexAction{getPenetratorBodypart(){return setup.sexbodypart.penis}getPenetrationTarget(){return setup.sexbodypart.mouth}getTags(){const e=super.getTags().concat([this.getPenetratorBodypart().getTag()]);return this.getPenetrationTarget()!=this.getPenetratorBodypart()&&e.push(this.getPenetrationTarget().getTag()),e}};o(Gv,"SexActionFreeTwoUnitsBase");let Db=Gv;const qv=class qv extends Db{getRestrictions(){return[setup.qres.SexBodypartsCanInteract("a",this.getPenetratorBodypart(),"b",this.getPenetrationTarget())]}getArousalMultiplier(e,t,a){return e=="a"?setup.SexUtil.receiveMultiplier(this.getActorUnit("a"),this.getPenetratorBodypart(),a)*setup.SexUtil.giveMultiplier(this.getActorUnit("b"),this.getPenetrationTarget(),a):setup.SexUtil.giveMultiplier(this.getActorUnit("a"),this.getPenetratorBodypart(),a)*setup.SexUtil.receiveMultiplier(this.getActorUnit("b"),this.getPenetrationTarget(),a)}};o(qv,"SexActionFreeTwoUnitsDom");let Qa=qv;const zv=class zv extends Db{getRestrictions(){return[setup.qres.SexBodypartsCanInteract("b",this.getPenetratorBodypart(),"a",this.getPenetrationTarget())]}getArousalMultiplier(e,t,a){return e=="a"?setup.SexUtil.receiveMultiplier(this.getActorUnit("a"),this.getPenetrationTarget(),a)*setup.SexUtil.giveMultiplier(this.getActorUnit("b"),this.getPenetratorBodypart(),a):setup.SexUtil.giveMultiplier(this.getActorUnit("a"),this.getPenetrationTarget(),a)*setup.SexUtil.receiveMultiplier(this.getActorUnit("b"),this.getPenetratorBodypart(),a)}};o(zv,"SexActionFreeTwoUnitsSub");let Ib=zv;const Fv=class Fv extends setup.SexAction{getPenetratorBodypart(){return setup.sexbodypart.penis}getPenetrationTarget(){return setup.sexbodypart.mouth}getTags(){return super.getTags().concat([this.getPenetratorBodypart().getTag(),this.getPenetrationTarget().getTag()])}};o(Fv,"SexActionOnOngoing");let $b=Fv;const jv=class jv extends $b{getRestrictions(){return[setup.qres.SexIsOngoing("a",this.getPenetratorBodypart(),"b",this.getPenetrationTarget())]}getArousalMultiplier(e,t,a){return e=="a"?setup.SexUtil.receiveMultiplier(this.getActorUnit("a"),this.getPenetratorBodypart(),a)*setup.SexUtil.giveMultiplier(this.getActorUnit("b"),this.getPenetrationTarget(),a):setup.SexUtil.giveMultiplier(this.getActorUnit("a"),this.getPenetratorBodypart(),a)*setup.SexUtil.receiveMultiplier(this.getActorUnit("b"),this.getPenetrationTarget(),a)}};o(jv,"SexActionOnOngoingDom");let $k=jv;const Kv=class Kv extends $b{getRestrictions(){return[setup.qres.SexIsOngoing("b",this.getPenetratorBodypart(),"a",this.getPenetrationTarget())]}getArousalMultiplier(e,t,a){return e=="a"?setup.SexUtil.receiveMultiplier(this.getActorUnit("a"),this.getPenetrationTarget(),a)*setup.SexUtil.giveMultiplier(this.getActorUnit("b"),this.getPenetratorBodypart(),a):setup.SexUtil.giveMultiplier(this.getActorUnit("a"),this.getPenetrationTarget(),a)*setup.SexUtil.receiveMultiplier(this.getActorUnit("b"),this.getPenetratorBodypart(),a)}};o(Kv,"SexActionOnOngoingSub");let Ok=Kv;setup.SexUtil.mindbrokenReactionDespite=function(i,e,t){const a=e.getLocation().repGazeAt(e),r=["a|rep a|remain completely unresponsive.","a|reps posture remains completely unchanged.","the fully mindbroken slave a|remain as unnervingly still as ever.","a|reps gaze remains completely unfocused.","a|reps face remains expressionless.","nothing leave a lasting effect on the mindbroken slave.","the mindbroken slave remains completely passive.","it did not have any effect on the fully mindbroken slave.","a|reps a|eyes remain unfocused throughout, a|their mind completely gone.","a|rep a|remain unresponsive and unmoving.","a|reps gaze remains tracked on a|their owner, awaiting further use of a|their a|body.","no amount of blowjob can awaken whatever intelligence used to inhabit b|reps b|body.","a|rep dumbly a|remain still, almost like a doll.","all moaning coming from a|rep is purely physiological response of a|their a|body.",`a|rep a|do not respond, and a|gaze mindlessly into ${a}.`,`no reaction comes out from a|rep, who dumbly gaze into ${a}.`],s=setup.SexUtil.convert(r,{a:i},e);return setup.rng.choice(t)+", "+s},setup.SexUtil.mindbrokenReactionNoun=function(i,e,t){const a=e.getLocation().repGazeAt(e),r=["Being a mindbroken slave however means that a|rep a|remain unresponsive towards","a|Rep a|do not respond to","a|Rep gaze remains unfocused towards","a|Reps face remains expressionless even with","a|Their a|body reflexively twitched from","a|Rep a|remain completely unresponsive towards","The mindbroken slave remains still, like a sex toy even with","a|Reps entire body shivered as a reflexive respond to","The mindbroken slave a|eyes reflexively lit up for a very short while towards","a|Rep a|shudder as an automatic bodily response from","Like a doll, a|they dumbly a|remain still, and without any real interest, continue watching","With a|their mind completely lost and unresponsive, b|rep blankly b|stare at ","Since a|their mind was already long gone, a|rep a|do not respond to","There was no response from the mindbroken slave at ",`a|Rep continue to gaze at ${a}, giving no reaction towards`,`a|Reps eyes continue to wonder to ${a}, giving very little interest to`];return setup.SexUtil.convert(r,{a:i},e)+" "+setup.rng.choice(t)+"."};function HM(i,e,t,a,r,s){const n=r.getPace(e),l=setup.rng.choice(t),u=setup.rng.choice(a);let h;if(n==setup.sexpace.resist)h=["b|Rep b|let out b|a_sob, struggling in desperation as b|they b|plead for a|rep to let b|them go.","b|Rep b|feel tears streaming down b|their cheeks as b|they b|try to struggle out of a|reps grip, letting out b|a_sob before begging for a|them to let b|them go.","b|Rep b|continue to struggle against a|rep, sobbing and squirming in discomfort as b|they realise that a|rep isn't completely finished with b|them just yet."," b|Rep b|let out b|a_sob as b|they b|continue struggling against a|rep, begging for a|them to let b|them go.","Realising that a|they hasn't completely finished with b|them just yet, b|rep b|continue struggling and sobbing, tears streaming down b|their b|face as b|they b|plead for a|rep to let b|them go.",`b|Reps relief as ${l} is short-lived, as a|rep a|is not entirely finished with b|them yet.`,`As b|rep b|beg for a|rep to release b|them, but is silenced when a|they a|threaten to make b|them ${u}.`," With tears streaming down b|their b|face, b|rep b|let out b|a_sob as b|they realises that a|rep a|isn't finished with b|them just yet.",` b|Rep can't b|help but b|let out sob as ${l}, and b|they b|continue crying and protesting as b|they b|carry on weakly struggling against a|them.`,` With b|a_sob, b|rep b|continue to struggle and protest, tears streaming down b|their b|face as ${l}.`," b|Rep b|let out a relieved sigh, which soon turns into b|a_sob as b|they realises that a|rep a|isn't finished with b|them just yet."];else if(n==setup.sexpace.forced){const p=setup.SexUtil.hesitatesBeforeForcingThemselfTo(e,r);h=["b|Rep b|let out a silent sigh, desperate to know when a|rep will be tired.","b|Rep wordlessly awaited for b|their next order, unsure if a|rep still have something in mind.",`b|Rep b|remain silent as ${l}, hoping that b|their performance has pleased a|rep.`,`b|Rep b|release an involuntary b|moan as ${l}, increasing b|their confusion at the situation.`,`b|Rep silently b|hope b|they b|do not have to ${u}, but a|rep may a|have other plans.`,`b|Rep ${p} await b|the next use of b|their b|body.`],h=h.concat(["It took b|rep a lof ot b|their willpower to withstand all the abuses b|they b|is forced to endure."])}else n==setup.sexpace.mindbroken?(h=[" the attention",` everything, including when ${l}`],h=h.concat(["the abuse "]),h=[setup.SexUtil.mindbrokenReactionNoun(e,r,h)]):n==setup.sexpace.sub?h=[` b|Rep b|let out b|a_moan, revealing b|their desire to ${u}.`,` b|Rep b|moan as ${l}, betraying b|their desperate desire to ${u}.`,` b|Reps little submissive mind can't help but crave to be allowed to ${u}.`,` b|A_moan bursts out from between b|reps lips, betraying b|their desire to ${u}.`,` b|Rep b|let out b|a_moan as ${l}, eager for more of a|their attention.`," b|A_moan escapes from between b|reps lips, betraying b|their desperate desire for more of a|reps attention."]:n==setup.sexpace.normal?h=[` b|Rep b|let out b|a_moan as ${l}.`,` b|A_moan drifts out from between b|reps lips as ${l}.`," b|Rep b|is eager to try something else for the rest of this intercourse.",` b|Rep reflexively b|moan as ${l}.`," b|Rep b|is looking forward to a different, new sex."]:h=["With a loud growl, b|rep immediately a|attempt to seize control of the sex.","b|Rep b|is looking forward for a|their turn to be on top now.",`b|Rep b|look glad that b|they b|do not have to ${u}.`];return setup.SexUtil.convert(h,{a:i,b:e},r)}o(HM,"afterPenetrationReaction"),setup.SexUtil.afterPenetrationReactionDom=function(i,e,t,a,r){return HM(i,e,t,a,r)},setup.SexUtil.afterPenetrationReactionSub=function(i,e,t,a,r){return HM(i,e,t,a,r)},setup.SexUtil.hesitatesBeforeForcingThemselfTo=function(i,e){const a=["a|hesitate for a short moment","trying to find the mercy that is never there",`a|try a|their best to think about ${setup.Text.Banter._getTopic()} instead`,"a|shut a|their a|eyes","a|whimper quietly","silently a|beg for forgiveness","a|let a hesitant sigh","a|look at a|their betters","a|hesitate","a|pause for a short moment","a|pause, obviously considering whether to resist","a|have to be threatened","a|struggle with a considerable uneasiness in a|themself","a|struggle with a mixture of resistance, obedience, and even devotion forced to the forefront of a|their mind","a|plead for mercy","a|have doubts about the current situation"],r=["before forcing a|themself to","until a|they a|muster the courage to","until a|they a|force a|themself to","until a|they a|is reminded of punishment and a|choose to","before deciding to choose the lesser of two evils and a|get to","before giving up and forcing a|themself to","before surrending and force a|themself to","but eventually a|decide to","but eventually a|decide to save a|their strength and a|give in to","although a|rep a|have no choice but to","before reminding a|themself that a|they a|is a slave and a|proceed to","before giving up on finding mercy and force a|themself to","but a|decide that it would be easier for them to"];let s=setup.rng.choice(a)+", "+setup.rng.choice(r);return setup.SexUtil.convert(s,{a:i},e)},setup.SexUtil.masochistReaction=function(i,e,t,a){const r="###ACTION###";let s=[` A clearly aroused yelp escapes from b|reps b|mouth at ${r},
      letting a|rep know that b|they a|is deriving masochistic pleasure from being abused in such a fashion.`,` The horny squeal that escapes b|reps b|mouth is enough to let anyone realise that b|they a|is
      getting turned on from being treated in such a degrading manner.`,` Instead of a painful cry, b|rep b|let out a horny moan,
      letting a|rep know that b|they a|is a masochist who's getting turned on by being abused like this.`,` A a|let out an obviously aroused moan from ${r}, a|their masochistic urges winning out and deriving
      pleasure from the rough treatment.`,` An obviously horny scream escapes from b|reps b|mouth, the masochist deriving pleasure from ${r}.`];const n=setup.SexUtil.convert(s,{a:i,b:e},a),l=setup.rng.choice(t);return n.replaceAll(/###ACTION###/g,l)};function N$(i,e,t,a,r){let s=setup.rng.choice(a),n=setup.rng.choice(r),l=[`a|Rep desperately a|struggle while trying to |struggle|, but a|their efforts prove to be in vain as
    |pin|.`,`Struggling against b|rep, a|rep a|let out a|a_sob as a|they weakly a|try to |struggle|, but
    b|their grip is too strong for a|them, and |pin|.`,"Begging for b|rep to leave a|them alone, a|rep desperately a|struggle against b|them, sobbing in distress as |pin|.","a|Rep a|let out a|a_sob, struggling in desperation to |struggle| as a|they a|plead for b|rep to let a|them go.","a|Rep a|feel tears streaming down a|their cheeks as a|they a|try to |struggle|, letting out a|a_sob before begging for b|them to let a|them go.","a|Rep a|continue to struggle against b|rep, sobbing and squirming in discomfort as |pin|.","a|Rep a|let out a|a_sob as a|they a|continue to |struggle|, begging for b|them to let a|them go.","As |pin|, a|rep a|continue struggling and sobbing, tears streaming down a|their a|face as a|they a|plead for b|rep to let a|them go.","a|A_sob bursts out from between a|reps lips as a|they a|try to |struggle|.","a|Rep b|let out a desperate sob, before frantically trying to |struggle|.","a|Rep instinctively b|try to pull back, sobbing and struggling against a|reps touch as a|they a|try to |struggle|.","With a|a_sob, a|rep a|start writhing around in discomfort, pleading for a|rep to leave a|them alone as |pin|.","a|A_sob bursts out from between a|reps lips at a|reps touch, and as |pin|, a|rep a|continue to |struggle|.","a|Rep b|try to pull back, sobbing and struggling against b|reps touch as |pin|.","With a|a_sob, a|rep a|start writhing around in discomfort, pleading for b|rep to leave a|them alone as |pin|.","a|Rep desperately a|try to |struggle|, letting out a|a_sob as a|they a|beg for b|them to leave a|them alone.",`With tears streaming down a|their a|face, a|rep struggle against b|rep,
     sobbing out loud as a|they a|try to |struggle|.`,`Sobbing out loud, and with tears in a|reps a|eyes, a|rep a|beg for b|rep to leave a|them alone as a|they
     frantically a|try to |struggle|.`,"a|Rep a|try a|their best to |struggle|, but it was all in vain as b|rep completely b|ignore a|their discomfort as |pin|."],u=setup.SexUtil.convert(l,{a:i,b:e},t);return u=u.replaceAll(/\|struggle\|/g,s).replaceAll(/\|pin\|/g,n),u}o(N$,"rawRepResist"),setup.SexUtil.repResist=function(i,e,t,a,r){return N$(i,e,t,a,r)};function H$(i,e,t){return["No! Don't! Please, get away from me!","Please! Don't do this! Leave me alone!","No! Stop! Get away from there!"]}o(H$,"rawRepResistSpeech"),setup.SexUtil.repResistSpeech=function(i,e,t){const a=setup.SexUtil.convert(H$(),{a:i,b:e},t);return t.isCanTalk(i)?a:`${["Mmph, mmph, mmph!","Mmmmph!","Ngghmph!"]} (${a})`},setup.SexUtil.repResistGeneric=function(i,e,t,a){const r=setup.SexUtil.repResistSpeech(i,e,t),n=[` b|A_sob bursts out from between b|reps lips as b|they b|try to ${setup.rng.choice(a)}, "${r}".`,` b|Rep b|let out a desperate sob, before pleading, "${r}".`,` b|Rep sob in distress as b|rep b|beg, "${r}".`];return setup.SexUtil.convert(n,{a:i,b:e},t)};function B$(i,e){const t=e.getPace(i);if(t==setup.sexpace.dom)return .8;if(t==setup.sexpace.normal)return 1;if(t==setup.sexpace.sub)return 1.3;if(t==setup.sexpace.resist)return .8;if(t==setup.sexpace.forced)return 1;if(t==setup.sexpace.mindbroken)return .7}o(B$,"offsetPaceGive");function G$(i,e){const t=e.getPace(i);if(t==setup.sexpace.dom)return 1.1;if(t==setup.sexpace.normal)return 1;if(t==setup.sexpace.sub)return 1;if(t==setup.sexpace.resist)return .5;if(t==setup.sexpace.forced)return .8;if(t==setup.sexpace.mindbroken)return .8}o(G$,"offsetPaceReceive"),setup.SexUtil.giveMultiplier=function(i,e,t){return B$(i,t)*e.giveArousalMultiplier(i,t)},setup.SexUtil.receiveMultiplier=function(i,e,t){return G$(i,t)*e.receiveArousalMultiplier(i,t)},setup.SexUtil.skinDiscomfortMultiplier=function(i,e){return setup.SexUtil.calculateTraitMultiplier(i,{body_werewolf:-.9,body_neko:-.9,body_orc:0,body_drow:0,body_dragonkin:-.9,body_demon:0})},setup.SexAI=(Zl=class extends setup.TwineClass{constructor(e,t){if(super(),this.unit=e,this.sex=t,this.plan=null,this.planner=null,this.unit.isMindbroken())this.planner=new setup.SexPlannerClass.Random(this.unit,this.sex);else{const a=t.getGoal(e);this.planner=a.getPlanner(e,t)}}_doSelectAction(e,t,a){{const s=e.filter(n=>n.getTags().includes("orgasm"));if(s.length)return setup.rng.choice(s)}if(a.isEnergyDepleted(t)&&Math.random()<setup.Sex.AI_END_SEX_CHANCE){const s=e.filter(n=>n instanceof setup.SexActionClass.SexEnd);if(s.length)return setup.rng.choice(s)}{let n=(a.getDiscomfort(t)-setup.Sex.DISCOMFORT_MIN_TRIGGER)/(setup.Sex.DISCOMFORT_MAX_TRIGGER-setup.Sex.DISCOMFORT_MIN_TRIGGER);if(!this.unit.isMasochistic()&&Math.random()<n){const l=e.filter(u=>u.getDiscomfort(t,a)<0);if(l.length)return setup.rng.sampleArray(l.map(u=>[u,-u.getDiscomfort(t,a)]),!0)}}{let n=(a.getArousal(t)-setup.Sex.AROUSAL_MIN_TRIGGER)/(setup.Sex.AROUSAL_MAX_TRIGGER-setup.Sex.AROUSAL_MIN_TRIGGER);if(!this.unit.isCanOrgasm()&&Math.random()<n){const l=e.filter(u=>u.getArousal(t,a)<0);if(l.length)return setup.rng.sampleArray(l.map(u=>[u,-u.getArousal(t,a)]),!0)}}for(;!this.plan||this.plan.isComplete();)this.plan=this.planner.getNextPlan();const r=this.plan.selectAction(e);return r||e.filter(s=>s instanceof setup.SexActionClass.DoNothing)[0]}selectAction(e,t,a){a.getGoal(e);let r=t.filter(s=>s.isAIAllowed(e,a));if(!r.length)throw new Error("Must have at least one eligible action!");return this._doSelectAction(r,e,a)}},o(Zl,"SexAI"),Zl),setup.SexBodypartClass={},setup.sexbodypart=class{},setup.SexBodypart=(Xl=class extends setup.TwineClassCustom{constructor(e,t,a,r){super(),this.key=e,this.tags=t,this.title=a,this.description=r}giveArousalMultiplier(e,t){return 1}receiveArousalMultiplier(e,t){return 1}getTag(){return this.key}getEquipmentSlots(){return[]}isCanPenetrate(e){return!1}isSubmissivePenetration(e){return!1}getContainer(){return"setup.SexBodypartClass"}getTags(){return this.tags}getTitle(){return this.title}getDescription(){return this.description}isHasBodypart(e,t){return setup.RestrictionLib.isUnitSatisfy(e,this.getHasRestrictions())}getHasRestrictions(){return[]}isFlexible(){return!1}isDirectionless(){return!1}isCanUseCovered(){return!1}heightTolerance(){return 0}getTraitSizeMap(){return{}}getSize(e,t){return setup.SexUtil.sumTraitMultipliers(e,this.getTraitSizeMap())}repSizeAdjective(e,t){return""}getTraitSizeModifierMap(){return{}}getTraitSizeModifier(e,t){return setup.SexUtil.sumTraitMultipliers(e,this.getTraitSizeMap())}repSizeModifier(e,t){const a=this.getTraitSizeModifier(e,t),r=this.repVaginal(e,t);let s;return e.isSlaver()?s=[`As a free slaver, a|rep a|have not undergone any specific ${r} training, and `,`Given that a|rep a|is not a slave, a|they a|do not have any particular training for the use of a|their ${r} orifice, and `,`Without any prior training of taking it up a|their ${this.repSimple(e)}, `,`a|Rep a|is not a slave, and has never undergone training for ${r} sex, and `,`While a|rep a|have certainly had plenty of sex before, a|they never undergo specialized ${r} sex training, and `,`As a slaver, a|rep a|is not a trained ${r} slut, and `]:a==setup.Sex.BODYPART_SIZE_TRAINING_MASTER?s=[`a|Rep a|is a masterful ${r} slut and `,`As a dedicated and masterful ${r} slut, `,`Boasting a wealth of experience in ${r} sex, `,`Having been extremely extensively trained in ${r} sex, `,`With a|their masterful knowledge of ${r} sex, `,`As a dedicated and borderline addicted ${r} slut, `]:a==setup.Sex.BODYPART_SIZE_TRAINING_ADVANCED?s=[`With their advanced training in ${r} sex, `,`Since a|rep a|have plenty of experience with ${r} sex, `,`As an experienced ${r} slut, `,`As a properly trained ${r} slave, `,`Having completed an extensive training for ${r} use, `,`Boasting advanced ${r} sex knowledge, `]:a==setup.Sex.BODYPART_SIZE_TRAINING_BASIC?s=[`a|Rep a|have basic knowledge in ${r} sex and `,`Thanks to a|their basic knowledge in ${r} sex, `,`a|Rep a|have undergone basic training in ${r} sex, and `,`With a|their basic understanding of ${r} sex, `,`While a|rep is still inexperienced, a|they a|have basic ${r} sex knowledge, and `,`Despite still being inexperienced, a|reps basic ${r} training kicks in, and `]:s=[`a|Rep has never undergone any ${r} sex, and `,`As a complete newcomer when it comes to ${r} sex, `,`Given a|their absolute zero training in ${r} sex, `,`Being fully unprepared for ${r} sex, `,`With zero prior training in taking it ${r}ly, `,`Boasting no knowledge of ${r} sex, `],setup.SexUtil.convert(s,{a:e},t)}getAccomodatingValue(e,t,a,r){let s=this.getSize(e,r)+this.getTraitSizeModifier(e,r),n=a.getSize(t,r)+a.getTraitSizeModifier(t,r);return s<n?0:s<n+2?1:s<n+4?2:3}getImage(){return`img/sexbodypart/${this.key}.svg`}getImageRep(){return`<span class='colorize-white'>${setup.repImgIcon(this.getImage(),this.getTitle())}</span>`}repsimple(){return this.getImageRep()}_isCanInteractWithHeight(e,t,a){return Math.abs(e.getHeightValue()-a.getHeightValue())<=Math.max(this.heightTolerance(),t.heightTolerance())}_isCanInteractWithPositionFacing(e,t,a,r,s){if(!e.isAdjacentTo(r))return!1;const n=[setup.sexposition.top,setup.sexposition.center];if(n.includes(e)&&n.includes(r)){const h=e.normalizeFacing(t),p=r.normalizeFacing(s);if(e==setup.sexposition.top){const c=this.isDirectionless()||h==setup.sexfacing.downfront||this.isFlexible()&&h.isFrontIsh(),d=a.isDirectionless()||p==setup.sexfacing.upfront||a.isFlexible()&&p.isFrontIsh();if(c&&d)return!0;const g=this.isDirectionless()||h==setup.sexfacing.downback||this.isFlexible()&&!h.isFrontIsh(),m=this.isDirectionless()||p==setup.sexfacing.upback||a.isFlexible()&&!p.isFrontIsh();if(g&&m)return!0}else{const c=this.isDirectionless()||h==setup.sexfacing.upfront||this.isFlexible()&&h.isFrontIsh(),d=this.isDirectionless()||p==setup.sexfacing.downfront||a.isFlexible()&&p.isFrontIsh();if(c&&d)return!0;const g=this.isDirectionless()||h==setup.sexfacing.upback||this.isFlexible()&&!h.isFrontIsh(),m=this.isDirectionless()||p==setup.sexfacing.downback||a.isFlexible()&&!p.isFrontIsh();if(g&&m)return!0}return!1}const l=e.normalizeFacing(t),u=r.normalizeFacing(s);if(e.isLeftOf(r)){const h=this.isDirectionless()||l==setup.sexfacing.back||this.isFlexible()&&!l.isFrontIsh(),p=a.isDirectionless()||u==setup.sexfacing.front||a.isFlexible()&&u.isFrontIsh();if(h&&p)return!0}else{const h=this.isDirectionless()||l==setup.sexfacing.front||this.isFlexible()&&l.isFrontIsh(),p=a.isDirectionless()||u==setup.sexfacing.back||a.isFlexible()&&!u.isFrontIsh();if(h&&p)return!0}return!1}isCanInteractWith(e,t,a,r,s){return this._isCanInteractWithHeight(t.height,a,s.height)&&this._isCanInteractWithPositionFacing(e,t.facing,a,r,s.facing)}rep(e,t){if(t.getCoveringEquipment(e,this)){const a=this.getTitle().toLowerCase();return setup.rng.choice([`obscured ${a}`,`covered ${a}`,`hidden ${a}`])}else{let a=this.getTitle().toLowerCase();return this==setup.sexbodypart.anus?a="a|anus":this==setup.sexbodypart.breasts?a="a|cbreasts":this==setup.sexbodypart.penis?a="a|cdick":this==setup.sexbodypart.tail?a="a|tail":this==setup.sexbodypart.vagina&&(a="a|vagina"),setup.Text.replaceUnitMacros(a,{a:e})}}rawDescribeTease(e,t,a,r){return""}describeTease(e,t,a,r){return setup.SexUtil.convert(this.rawDescribeTease(e,t,a,r),{a:e,b:t},r)}rawDescribeEnd(e,t,a,r){return""}describeEnd(e,t,a,r){return setup.SexUtil.convert(this.rawDescribeEnd(e,t,a,r),{a:e,b:t},r)}rawVerbPenetrate(e,t,a,r){return""}verbPenetrate(e,t,a,r){return setup.SexUtil.convert(this.rawVerbPenetrate(e,t,a,r),{a:e,b:t},r)}rawPenetrateFlavorSentence(e,t,a,r){return""}repPenetrateFlavorSentence(e,t,a,r){return setup.SexUtil.convert(this.rawPenetrateFlavorSentence(e,t,a,r),{a:e,b:t},r)}repSimple(e){return""}repLabia(e,t){return"labia"}repVaginal(e,t){return"anal"}repCunnilingus(e,t){return"cunnilingus"}repTip(e,t){return"tip"}repFuck(e,t){return"fuck"}static getAllBodyparts(){return Object.values(setup.sexbodypart)}static describePenetrationEnds(e,t){const a=[];for(const r of e){const s=t.getBodypartPenetrationTarget(r.unit,r.bodypart);a.push(r.bodypart.describeEnd(r.unit,s.unit,s.bodypart,t))}return a.join(" ")}},o(Xl,"SexBodypart"),Xl),setup.qcImpl.SexEnd=(eu=class extends setup.SexCost{constructor(){super()}apply(e){this.sex.endSex()}explain(){return"Ends sex"}},o(eu,"SexEnd"),eu),setup.qcImpl.SexEquip=(tu=class extends setup.SexCost{constructor(e,t){super(),this.actor_name=e,this.equipment=t}apply(e){const t=e.getActorUnit(this.actor_name);this.sex.equipTemporarily(t,this.equipment)}explain(){return`${this.actor_name} equips ${this.equipment.rep()}`}},o(tu,"SexEquip"),tu),setup.qcImpl.SexOngoingEnd=(au=class extends setup.SexCost{constructor(e,t){super(),this.my_actor_name=e,this.my_bodypart=t}apply(e){const t=e.getActorUnit(this.my_actor_name);this.sex.cancelOngoing(t,this.my_bodypart)}explain(){return`${this.my_actor_name}'s ${this.my_bodypart.getTitle()} stops penetrating`}},o(au,"SexOngoingEnd"),au),setup.qcImpl.SexOngoingStart=(iu=class extends setup.SexCost{constructor(e,t,a,r){super(),this.my_actor_name=e,this.my_bodypart=t,this.their_actor_name=a,this.their_bodypart=r}apply(e){const t=e.getActorUnit(this.my_actor_name),a=e.getActorUnit(this.their_actor_name);this.sex.setOngoing(t,this.my_bodypart,a,this.their_bodypart)}explain(){return`${this.my_actor_name}'s ${this.my_bodypart.getTitle()} start penetrating ${this.their_actor_name}'s ${this.their_bodypart.getTitle()}`}},o(iu,"SexOngoingStart"),iu),setup.qcImpl.SexOrgasm=(ru=class extends setup.SexCost{constructor(e){super(),this.actor_name=e}apply(e){const t=e.getActorUnit(this.actor_name);this.sex.doOrgasm(t)}explain(){return`${this.actor_name} orgasms`}},o(ru,"SexOrgasm"),ru),setup.qcImpl.SexPoseChange=(su=class extends setup.SexCost{constructor(e,t){super(),this.actor_name=e,this.pose=t}apply(e){const t=e.getActorUnit(this.actor_name);this.sex.clearOngoing(t),this.sex.setPose(t,this.pose),this.sex.getScene().appendText(setup.SexText.proximityDescription(t,this.sex))}explain(){return`Switch pose to ${this.pose.rep()}`}},o(su,"SexPoseChange"),su),setup.qcImpl.SexPositionChange=(nu=class extends setup.SexCost{constructor(e,t){super(),this.actor_name=e,this.position=t}apply(e){const t=e.getActorUnit(this.actor_name);if(this.sex.getPosition(t)==this.position)return;const a=this.sex.getUnitAtPosition(this.position);this.sex.clearOngoing(t),a&&this.sex.clearOngoing(a);const r=this.sex.getPose(t);this.sex.getPosition(t);let s=this.position.getDefaultPose();a&&(s=this.sex.getPose(a)),this.sex.swapPosition(t,this.position),r.isAllowed(t,this.sex)||(this.sex.getScene().appendText(s.describe(t,this.sex)),setup.qc.SexPoseChange("a",s).apply(setup.costUnitHelper(t))),a&&!s.isAllowed(a,this.sex)&&(this.sex.getScene().appendText(r.describe(a,this.sex)),setup.qc.SexPoseChange("a",r).apply(setup.costUnitHelper(a)))}explain(){return`Switch position to ${this.position.rep()}`}},o(nu,"SexPositionChange"),nu),setup.qcImpl.SexUnequip=(ou=class extends setup.SexCost{constructor(e,t){super(),this.actor_name=e,this.equipment_slot=t}apply(e){const t=e.getActorUnit(this.actor_name),a=t.getEquipmentAt(this.equipment_slot);a&&this.sex.displaceEquipment(t,a)}explain(){return`${this.actor_name} unequips ${this.equipment_slot.rep()}`}},o(ou,"SexUnequip"),ou),setup.SexInstance=(pi=class extends setup.TwineClass{constructor(e,t){if(super(),!t.length)throw new Error("No participant in SexInstance");if(t.length>setup.SexInstance.PARTICIPANTS_MAX)throw new Error(`Too many actors in SexInstance: ${t.length}`);this.location=e,this.participants=t,this.is_ended=!1,this.scene=null;for(const r of this.participants)r.ongoing=[],r.displaced_equipment={},r.temporary_equipment={},r.action_history=[],r.orgasms=0;State.temporary.gSex=this;const a=[];for(const r of t){if(!r.unit)throw new Error("Missing unit for participant");if(!r.position)throw new Error(`Missing position for participant ${r.unit.key}`);if(a.includes(r.position))throw new Error(`Duplicated position: ${r.position.key}`);a.push(r.position)}if(!a.includes(setup.sexposition.center))throw new Error("Missing unit in CENTER position")}getScene(){return this.scene}isParticipant(e){return this.getUnits().includes(e)}_getParticipant(e){for(const t of this.participants)if(t.unit==e)return t;throw new Error(`Unit not found in SexInteraction: ${e.key}`)}getUnits(){return Object.values(this.participants).map(e=>e.unit)}getGoal(e){return this._getParticipant(e).goal}setGoal(e,t){this._getParticipant(e).goal=t}getLocation(){return this.location}setLocation(e){this.location=e}getPace(e){return this._getParticipant(e).pace}setPace(e,t){this._getParticipant(e).pace=t}getPermission(e){return this._getParticipant(e).permission}getPose(e){return this._getParticipant(e).pose}setPose(e,t){this._getParticipant(e).pose=t}getPosition(e){return this._getParticipant(e).position}swapPosition(e,t){const a=this.getUnitAtPosition(t);if(e==a)return;const r=this.getPosition(e);this._getParticipant(e).position=t,a&&(this._getParticipant(a).position=r)}getUnitAtPosition(e){for(const t of this.participants)if(t.position==e)return t.unit;return null}getOrgasms(e){return this._getParticipant(e).orgasms}addOrgasm(e){this._getParticipant(e).orgasms+=1}isEnded(){return this.is_ended}endSex(){this.is_ended=!0}getBodypartPenetrationTarget(e,t){for(const a of this._getParticipant(e).ongoing)if(a.my_bodypart==t)return{unit:a.target,bodypart:a.target_bodypart};return null}getBodypartPenetrator(e,t){for(const a of this.participants)for(const r of a.ongoing)if(r.target==e&&r.target_bodypart==t)return{unit:a.unit,bodypart:r.my_bodypart};return null}getBodypartOther(e,t){const a=this.getBodypartPenetrationTarget(e,t);if(a)return a;const r=this.getBodypartPenetrator(e,t);return r||null}cancelOngoing(e,t){const a=this._getParticipant(e);a.ongoing=a.ongoing.filter(r=>r.my_bodypart!=t)}getAllOngoing(e){const t=[];for(const a of this.participants)for(const r of a.ongoing)(a.unit==e||r.target==e)&&t.push({unit:a.unit,bodypart:r.my_bodypart});return t}isBeingPenetrated(e){return!!this.getAllOngoing(e).filter(t=>t.unit!=e).length}isPenetrating(e){return!!this.getAllOngoing(e).length}clearOngoing(e){if(e)for(const t of this.getAllOngoing(e))this.cancelOngoing(t.unit,t.bodypart);else for(const t of this.participants){const a=t.ongoing.map(r=>r.my_bodypart);for(const r of a)this.cancelOngoing(t.unit,r)}}setOngoing(e,t,a,r){if(this.isBodypartOngoing(e,t))throw new Error(`${e.getName()}'s ${t.key} is busy!`);if(this.isBodypartOngoing(a,r))throw new Error(`${a.getName()}'s ${r.key} is busy!`);this._getParticipant(e).ongoing.push({my_bodypart:t,target:a,target_bodypart:r})}isBodypartOngoing(e,t){return!!(this.getBodypartPenetrationTarget(e,t)||this.getBodypartPenetrator(e,t))}isCanTalk(e){return this.isCanUse(e,setup.sexbodypart.mouth)&&e.isCanTalk()}isCanCum(e){return e.isCanOrgasm()&&e.isHasDick()}isCanUse(e,t){if(!t.isHasBodypart(e,this))return!1;if(t.isCanUseCovered()){if(this.getDisablingEquipment(e,t))return!1}else if(this.getBlockingEquipment(e,t))return!1;return!this.isBodypartOngoing(e,t)}getCoveringEquipment(e,t){if(t==setup.sexbodypart.penis&&e.isHasStrapOn())return null;for(const a of t.getEquipmentSlots()){const r=e.getEquipmentAt(a);if(r&&r.isCovering())return r}return null}getDisablingEquipment(e,t){if(t==setup.sexbodypart.penis&&e.isHasStrapOn())return null;const a=t.getEquipmentSlots();if(a.length){const r=a[a.length-1],s=e.getEquipmentAt(r);if(s&&s.isMakeBodypartUseless())return s}return null}getBlockingEquipment(e,t){const a=this.getCoveringEquipment(e,t);return a||this.getDisablingEquipment(e,t)}isDisplaced(e,t){return this._getParticipant(e).displaced_equipment[t.key]}displaceEquipment(e,t){this._getParticipant(e).displaced_equipment[t.getSlot().key]=!0,e.resetCache()}displaceAllEquipments(){for(const e of this.getUnits())for(const t of Object.values(setup.equipmentslot)){const a=e.getEquipmentAt(t);a&&this.displaceEquipment(e,a)}}equipTemporarily(e,t){this._getParticipant(e).temporary_equipment[t.getSlot().key]=t.key,e.resetCache()}getHistory(e){return this._getParticipant(e).action_history}addHistory(e,t){this._getParticipant(e).action_history.push(t)}getLatestAction(e){const t=this._getParticipant(e).action_history.filter(a=>!0);t.reverse();for(const a of t)if(a.getUnits()[0]==e)return a;return null}adjustArousal(e,t){let a=this._getParticipant(e).arousal+t;a=Math.max(a,0),a=Math.min(a,setup.Sex.AROUSAL_MAX),this._getParticipant(e).arousal=a}getArousal(e){return this._getParticipant(e).arousal}isArousalDepleted(e){return this.getArousal(e)==0}adjustDiscomfort(e,t){let a=this._getParticipant(e).discomfort+t;a=Math.max(a,0),a=Math.min(a,setup.Sex.AROUSAL_MAX),this._getParticipant(e).discomfort=a}getDiscomfort(e){return this._getParticipant(e).discomfort}isDiscomfortDepleted(e){return this.getDiscomfort(e)==0}adjustEnergy(e,t){let a=this._getParticipant(e).energy+t;a=Math.max(a,0),a=Math.min(a,setup.Sex.AROUSAL_MAX),this._getParticipant(e).energy=a}getEnergy(e){return this._getParticipant(e).energy}isEnergyDepleted(e){return this.getEnergy(e)==0}applyDecays(e){{const t=this.getArousal(e),a=Math.round(setup.Sex.AROUSAL_DECAY*t);let r=Math.round(setup.Sex.DISCOMFORT_AROUSAL_REDUCTION*this.getDiscomfort(e)/setup.Sex.DISCOMFORT_MAX*t);e.isMasochistic()&&(r*=-1),this.adjustArousal(e,Math.round(-a+-r))}{const t=this.getDiscomfort(e);let a=setup.Sex.DISCOMFORT_DECAY*t;this.adjustDiscomfort(e,Math.round(-a))}}isOrgasming(e){return this.isCanOrgasm(e)&&this.getArousal(e)>=setup.Sex.AROUSAL_ORGASM_THRESHOLD}isCanOrgasm(e){return e.isHasDick()?e.isCanPhysicallyCum():!0}doOrgasm(e){this.addOrgasm(e),this.adjustArousal(e,-this.getArousal(e)),this.adjustDiscomfort(e,-setup.Sex.DISCOMFORT_ORGASM_REDUCTION),this.adjustEnergy(e,-setup.Sex.ENERGY_ORGASM_REDUCTION)}repUnit(e){const t=this.getPosition(e),a=this.getPose(e);return`${t.rep()}${a.rep(t,this)}${e.rep()}`}static cleanup(){if(State.temporary.gSex)for(const e of State.temporary.gSex.getUnits())e.resetCache();delete State.temporary.gSex}static initParticipants(e){const t=[];for(let a=0;a<e.length;++a){const r=e[a],s=setup.SexGoal.getStartingGoal(r);let n=0;s==setup.sexgoal.resist&&(n=setup.Sex.DISCOMFORT_RESIST_INITIAL);let l;r.isSlave()?l=setup.sexpose.kneel:l=setup.sexpose.stand;let u=setup.SexPosition.getAllPositions()[a];e.length==1&&(u=setup.sexposition.center),t.push({unit:r,goal:setup.SexGoal.getStartingGoal(r),pace:setup.SexPace.getStartingPace(r),permission:setup.SexPermission.getPermission(r),arousal:0,discomfort:n,energy:setup.Sex.ENERGY_MAX,position:u,pose:l})}return t}},o(pi,"SexInstance"),y(pi,"PARTICIPANTS_MAX",3),pi),setup.SexScene=(lu=class extends setup.TwineClass{constructor(e,t){super(),this.sex=e,e.scene=this,this.turn=1,this.description_selector=t,this.sex_ais=this.sex.getUnits().map(a=>new setup.SexAI(a,e))}getSex(){return this.sex}getTurn(){return this.turn}getTurnUnit(){const e=this.getSex().getUnits();return e[this.getTurn()%e.length]}getTurnUnitSexAI(){return this.sex_ais[this.getTurn()%this.sex_ais.length]}getPossibleActions(e){const t=setup.SexAction.getAllSexActions(),a=this.getSex().getUnits(),r=[];for(const u of t){const p=Object.create(u.prototype).getActorDescriptions().length,c=setup.allPermutations(p-1,a.filter(d=>d!=e));for(const d of c)r.push(new u([e].concat(d),this.getSex()))}const s=this.getSex().getPermission(e),n=r.filter(u=>!(!u.isAllowed(this.getSex())||!s.isActionAllowed(u,this.getSex()))),l=n.filter(u=>u.getTags().includes("orgasm"));return l.length?l:n}advanceTurn(e){const t=this.getTurnUnit(),a=this.getTurnUnitSexAI();let r;if(e)r=e;else{const n=this.getPossibleActions(t);r=a.selectAction(t,n,this.getSex())}this.getTurn()%this.getSex().getUnits().length==0?this.appendText("<hr/>"):this.appendLineBreaks();const s=r.story(this.getSex());this.appendText(s),State.variables.gDebug&&this.appendText(`(Debug info: ${r.description(this.getSex())} ${r.desc()})`),r.applyOutcomes(this.getSex()),this.isEnded()||(this.getTurn()+3)%setup.Sex.AMBIENCE_TURNS==0&&(this.appendLineBreaks(),this.appendAmbienceText()),this.getSex().addHistory(t,r),this.getSex().applyDecays(t),this.turn+=1}advanceTurns(e){let t=e;for(;t&&!this.isEnded();)this.advanceTurn(),t-=1}isEnded(){return this.getSex().isEnded()}appendText(e){const t=$(this.description_selector).height();let a;typeof e=="string"?a=setup.DOM.create("span",{},e+" "):a=e,setup.DOM.Helper.append(this.description_selector,a,!0);const r=$(this.description_selector).height();document.documentElement.scrollBy(0,r-t)}appendLineBreaks(){const e=$(this.description_selector).height();setup.DOM.Helper.append(this.description_selector,html`<br/>`,!0);const t=$(this.description_selector).height();document.documentElement.scrollBy(0,t-e)}appendInitText(){if(this.sex.getUnits().length==2){const e=this.sex.getUnits()[0],t=this.sex.getUnits()[1];e.getLover()==t&&this.appendText(setup.SexUtil.convert(["a|Reps a|eyes a|light up at the prospect of some quality time with a|their lover.","As a|rep a|invite a|their lover for some sexy time, a|rep a|receive an immediate kiss from the b|adjgood b|race.","a|Rep a|is very much looking forward for some loving, especially so with a|their lover."],{a:e,b:t},this.sex))}this.appendText(this.sex.getLocation().repStart(this.sex));for(const e of this.sex.getUnits())this.appendText(this.sex.getPace(e).repStart(e,this.sex));if(this.sex.getUnits().length==2){const e=this.sex.getPace(this.sex.getUnits()[0]),t=this.sex.getPace(this.sex.getUnits()[1]);e==t&&(e==setup.sexpace.sub?this.appendText("With two submissives in one place, there is no way this is going to go as well as expected..."):t==setup.sexpace.dom&&this.appendText("Having two dominants will surely be problematic..."))}}appendEndText(){const e=this.sex;this.appendLineBreaks();for(const t of this.sex.getUnits()){const a=this.sex.getOrgasms(t);a&&t.isSlave()?t.isMindbroken()?this.appendText(setup.SexUtil.convert(["Orgasming is merely an automatic response for the mindbroken slave a|rep."],{a:t},e)):t.isCompliant()?this.appendText(setup.SexUtil.convert([`The slave was rewarded with ${a>1?"several orgasms":"an orgasm"} during the intercourse.`,"Despite being used as a sex toy, a|rep managed to orgasm throughout the sex.",`a|Rep reached orgasm ${a>1?"several times":"once"} under the tender ministrations of a|their betters.`],{a:t},e)):this.appendText(setup.SexUtil.convert(["To a|their horror, a|rep orgasmed during the unwanted intrusion.","Despite a|their abject begging, a|rep managed to reach orgasm during the unwanted intercourse.","a|Rep climaxed at some point during the sex, to a|their utter horror."],{a:t},e)):a==1?this.appendText(setup.SexUtil.convert(["a|Rep climaxed once throughout the intercourse, leaving a|them quite satisfied.","Climaxing has relieved a|rep of some of a|their stress.","a|Rep a|adv only climaxed once throughout the intercourse"],{a:t},e)):a>1?this.appendText(setup.SexUtil.convert(["a|Rep came many times throughout the intercourse, leaving a|them entirely satisfied.",`If what a|they counted is correct, then a|they must have climaxed at least ${a} times throughout the entire sex.`,"a|Rep reached climax many times throughout the intercourse, greatly satisfying a|them."],{a:t},e)):t.isSlaver()?this.appendText(setup.SexUtil.convert(["a|Rep failed to orgasm this time, but being a slaver means there are plenty of next times.","The sex was cut short before a|rep managed to reach orgasm.","a|Rep did not climax even once throughout the intercourse."],{a:t},e)):t.isMindbroken()?this.appendText(setup.SexUtil.convert(["Being denied orgasm left no difference on the mindbroken slave a|rep."],{a:t},e)):this.appendText(setup.SexUtil.convert(["The slave was left unsatisfied from being used.","a|Rep managed to hold their arousal and resisted climaxing during the entire ordeal.","a|Rep did not climax even once throughout the entire time being used as a sex toy."],{a:t},e));const r=this.sex.getEnergy(t);if(t.isSlaver())r>500?this.appendText(setup.SexUtil.convert(["a|They was still full of energy after the sex has ended.","a|They could still go for more if a|they wanted, but all good things have to come to an end.","The sex was very quick, and a|they was still brimming with energy at the end of the intercourse."],{a:t},e)):r<500&&this.appendText(setup.SexUtil.convert(["a|They a|is visibly exhausted from the sex.","The long sex makes a|their a|body sweaty.","a|They a|go straight to a|their room to recover a|their energy."],{a:t},e));else if(t.isMindbroken())this.appendText(setup.SexUtil.convert([`As a|reps mind is completely gone, the toy has to be manually taken back to a|their
             cage.`],{a:t},e));else if(t.isCompliant()){if(r>500)this.appendText(setup.SexUtil.convert(["a|They a|is almost disappointed that the actions were over so quickly.","a|They a|look a little unsatisfied at the quick sex.","a|They secretly hoped that the sex would lasted a little longer."],{a:t},e));else if(r<500){const s=this.sex.getLocation().repSurface(this.sex);this.appendText(setup.SexUtil.convert([`The well-used slave collapsed to the ${s} after such a thorough use.`,"With the sex finally over, the a|race slave is finally allowed to rest, before a|their next use.",`Having being so thoroughly used, a|they collapsed to the ${s}, smiling a little submissive smile.`],{a:t},e))}}else r>500?this.appendText(setup.SexUtil.convert(["a|They a|look completely relieved that the sex ended relatively quickly.","a|They a|try to regain whatever dignity a|they a|have left with their remaining energy.","a|Their a|body was left relatively intact, to a|their great relife."],{a:t},e)):r<500&&(this.sex.getLocation().repSurface(this.sex),this.appendText(setup.SexUtil.convert(["The disobedient slave collapsed to the floor after such a thorough and brutal use.","Being used so thoroughly left the disobedient slave a little more broken inside.","a|They a|is hauled back to recover in a|their small cell, awaiting further use of a|their a|body."],{a:t},e)))}}appendAmbienceText(){const e=this.getSex().getLocation().repAmbience(this.getSex());this.appendText(setup.rng.choice([`${setup.capitalize(e)}.`,`As the sex continues, ${e}.`,`${setup.capitalize(e)}, and the sex continues.`,`Meanwhile, ${e}.`,`${setup.capitalize(e)}, but is quickly forgotten.`,`All the while, ${e}.`]))}},o(lu,"SexScene"),lu),setup.SexFacingClass={},setup.sexfacing=class{},setup.SexFacing=(uu=class extends setup.TwineClassCustom{constructor(e){super(),this.key=e}getContainer(){return"setup.SexFacingClass"}static getAllFacings(){return Object.values(setup.sexfacing)}getOpposite(){return setup.sexfacing.front}isUpDown(){return this.isUp()||this.isDown()}isFrontIsh(){return!1}isUp(){return!0}isDown(){return!0}},o(uu,"SexFacing"),uu),setup.SexGoalClass={},setup.sexgoal=class{},setup.SexGoal=(hu=class extends setup.TwineClassCustom{constructor(e,t,a,r,s,n){super(),this.key=e,this.tags=t,this.title=a,this.description=r,this.base_chance=s,this.trait_preference=n}getPlanner(e,t){return null}getTags(){return this.tags}getTitle(){return this.title}getDescription(){return this.description}getContainer(){return"setup.SexGoalClass"}computeScore(e){const t=e.getTraits();let a=this.base_chance;for(const r of t)a+=this.trait_preference[r.key]||0;return a}static getStartingGoal(e){const t=this.getGoalChances(e);return setup.rng.sampleArray(t)}static getGoalChances(e){if(e.isMindbroken())return[[setup.sexgoal.resist,1]];if(e.isSlave())return e.isObedient()&&e.isDominantSlave()?[[setup.sexgoal.orgasmall,1]]:e.isCompliant()?[[setup.sexgoal.orgasmthem,1]]:[[setup.sexgoal.resist,1]];const t=[];let a=!1;for(const r of setup.SexGoal.getAllGoals()){const s=r.computeScore(e);s>0&&(a=!0,t.push([r,s]))}return a?(setup.rng.normalizeChanceArray(t),t):[[setup.sexgoal.orgasmall,1]]}static getAllGoals(){return Object.values(setup.sexgoal)}},o(hu,"SexGoal"),hu),setup.SexHeightClass={},setup.sexheight=class{},setup.SexHeight=(pu=class extends setup.TwineClassCustom{constructor(e,t){super(),this.key=e,this.height_value=t}getHeightValue(){return this.height_value}getContainer(){return"setup.SexHeightClass"}getNextHigherHeight(){return null}repHeightLevel(){return""}static getAllHeights(){return Object.values(setup.sexheight)}},o(pu,"SexHeight"),pu),setup.SexLocationClass={},setup.sexlocation=class{},setup.SexLocation=(cu=class extends setup.TwineClassCustom{constructor(e,t,a,r){super(),this.key=e,this.tags=t,this.title=a,this.description=r}getRestrictions(){return[]}getContainer(){return"setup.SexBodypartClass"}getTags(){return this.tags}getTitle(){return this.title}getDescription(){return this.description}rep(){return`<span data-tooltip="${setup.escapeHtml(this.getDescription())}">${this.getTitle()}</span>`}isAllowed(e){return setup.RestrictionLib.isPrerequisitesSatisfied(e,this.getRestrictions())}isHigh(){return!1}getFurnitures(){return{slaverbed:setup.furnitureslot.slaverbed.getBasicFurniture(),slavebed:setup.furnitureslot.slavebed.getBasicFurniture(),foodtray:setup.furnitureslot.foodtray.getBasicFurniture(),drinktray:setup.furnitureslot.drinktray.getBasicFurniture(),reward:setup.furnitureslot.reward.getBasicFurniture(),punishment:setup.furnitureslot.punishment.getBasicFurniture(),lighting:setup.furnitureslot.lighting.getBasicFurniture(),object:setup.furnitureslot.object.getBasicFurniture(),tile:setup.furnitureslot.tile.getBasicFurniture(),wall:setup.furnitureslot.wall.getBasicFurniture()}}getFurnitureAt(e){return this.getFurnitures()[e.key]}getSlaverBed(){return this.getFurnitureAt(setup.furnitureslot.slaverbed)}getSlaveBed(){return this.getFurnitureAt(setup.furnitureslot.slavebed)}getFoodTray(){return this.getFurnitureAt(setup.furnitureslot.foodtray)}getDrinkTray(){return this.getFurnitureAt(setup.furnitureslot.drinktray)}getReward(){return this.getFurnitureAt(setup.furnitureslot.reward)}getPunishment(){return this.getFurnitureAt(setup.furnitureslot.punishment)}getLighting(){return this.getFurnitureAt(setup.furnitureslot.lighting)}getTile(){return this.getFurnitureAt(setup.furnitureslot.tile)}getObject(){return this.getFurnitureAt(setup.furnitureslot.object)}getWall(){return this.getFurnitureAt(setup.furnitureslot.wall)}getSurface(e){return this.isHigh()?this.getSlaverBed():this.getTile()}repSurface(e){return this.getSurface(e).rep()}repRawGazeAt(e){return[]}repGazeAt(e){const t=this.getObject(),a=this.getLighting(),r=this.getWall(),s=this.getTile(),n=this.getPunishment(),l=this.getReward();this.getSlaverBed();const u=this.getSlaveBed(),h=this.getDrinkTray(),p=this.getFoodTray(),c=this.repRoom(e),d=this.repRawGazeAt(e);t.isBasic()||d.push(`the ${t.rep()} in the corner of the ${c}`,`the ${t.rep()}`),a.isBasic()||d.push(`the ${a.rep()} illuminating the ${c}`),r.isBasic()?d.push("an empty spot on the walls"):d.push(`the ${r.rep()}`,`the ${r.rep()} on the walls`),s.isBasic()?d.push("an empty spot on the floor"):d.push(`the ${s.rep()}`,`the ${s.rep()} on the floor`),h.isBasic()||d.push(`the ${h.rep()}`,`the empty ${h.rep()}`),p.isBasic()||d.push(`the ${p.rep()}`,`the empty ${p.rep()}`),u.isBasic()||d.push(`the ${u.rep()} where your slaves sleep in`,`the ${u.rep()}`);const g=[n,l];for(const m of g)m.isBasic()||d.push(`the ${m.rep()}`);return setup.rng.choice(d)}repRoom(e){return"room"}repRawAmbience(e){return[]}repAmbience(e){const t=this.repRawAmbience(e);for(const a of Object.values(setup.furnitureslot)){const r=this.getFurnitureAt(a),s=r.getTexts();if(s.ambience)for(const n of s.ambience)t.push(setup.Text.replaceRepMacros(n,{a:r}))}return setup.rng.choice(t)}rawRepStart(e){return"a|They a|is in an open field, ready for some action."}repStart(e){return setup.SexUtil.convert(this.rawRepStart(e),{a:e.getUnits()[0]},e)}rawDescribePosition(e,t){return`${t.getPose(e).describePosition(e,t)} on the ${this.repSurface(t)}`}describePosition(e,t){return setup.SexUtil.convert(this.rawDescribePosition(e,t),{a:t.getUnits()[0]},t)}repUpsideDownFurniture(){for(const e of Object.values(this.getFurnitures()))if(e instanceof setup.Furniture&&e.getTags().includes("upsidedown"))return e.rep();return""}static getAllAllowedLocations(e){return this.getAllLocations().filter(t=>t.isAllowed(e))}static getAllLocations(){const e=Object.values(setup.sexlocation);for(const t of Object.values(State.variables.bedchamber))e.push(new setup.SexLocationClass.Bedchamber(t,!0)),e.push(new setup.SexLocationClass.Bedchamber(t,!1));return e}},o(cu,"SexLocation"),cu),setup.SexPaceClass={},setup.sexpace=class{},setup.SexPace=(du=class extends setup.TwineClassCustom{constructor(e,t,a,r,s,n){super(),this.key=e,this.tags=t,this.title=a,this.description=r,this.base_chance=s,this.trait_preference=n}getContainer(){return"setup.SexPaceClass"}getTags(){return this.tags}getTitle(){return this.title}rep(){return this.getTitle()}getDescription(){return this.description}isMindbroken(){return this.key=="MINDBROKEN"}computeScore(e){const t=e.getTraits();let a=this.base_chance;for(const r of t)a+=this.trait_preference[r.key]||0;return a}rawRepStart(e,t){return""}repStart(e,t){return setup.SexUtil.convert(this.rawRepStart(e,t),{a:e},t)}repAdverb(e,t){return""}static getStartingPace(e){const t=this.getPaceChances(e);return setup.rng.sampleArray(t)}static getPaceChances(e){if(e.isMindbroken())return[[setup.sexpace.mindbroken,1]];if(e.isSlave())return e.isObedient()||e.isCompliant()&&e.isSubmissive()?[[setup.sexpace.sub,1]]:e.isCompliant()?[[setup.sexpace.forced,1]]:[[setup.sexpace.resist,1]];const t=[];let a=!1;for(const r of setup.SexPace.getAllPaces()){const s=r.computeScore(e);s>0&&(a=!0,t.push([r,s]))}return a?(setup.rng.normalizeChanceArray(t),t):[[setup.sexpace.normal,1]]}static getAllPaces(){return Object.values(setup.sexpace)}},o(du,"SexPace"),du),setup.SexPermissionClass={},setup.sexpermission=class{},setup.SexPermission=(gu=class extends setup.TwineClassCustom{constructor(e,t,a){super(),this.key=e,this.tags=t,this.disallowed_tags=a}getContainer(){return"setup.SexPermissionClass"}getTags(){return this.tags}getDisallowedTags(){return this.disallowed_tags}isActionAllowed(e,t){return!this.getDisallowedTags().filter(a=>e.getTags().includes(a)).length}static getPermission(e){return e.isYou()?setup.sexpermission.full:e.isMindbroken()?setup.sexpermission.none:e.isSlave()?e.isObedient()?setup.sexpermission.alpha:setup.sexpermission.none:e.isSubmissive()?setup.sexpermission.alpha:setup.sexpermission.full}static getAllPermissions(){return Object.values(setup.sexpermission)}},o(gu,"SexPermission"),gu),setup.SexPoseClass={},setup.sexpose=class{},setup.SexPose=(ci=class extends setup.TwineClassCustom{constructor(t,a,r,s,n){super();y(this,"isUnlocked",o(function(){return setup.RestrictionLib.isPrerequisitesSatisfied(this,this.getRestrictions())},"isUnlocked"));y(this,"isOnFloor",o(function(){const t=this._getRawFacingHeight(setup.sexbodypart.arms),a=this._getRawFacingHeight(setup.sexbodypart.legs);return t.height==setup.sexheight.floor&&a.height==setup.sexheight.floor},"isOnFloor"));this.key=t,this.tags=a,this.title=r,this.description=s,this.bodypart_key_facing_height_key_map=n}getContainer(){return"setup.SexPoseClass"}getRestrictions(){return[]}getTags(){return this.tags}getImage(t,a){let r="";return a&&this.isPositionRaised(t,a)&&(r="_h"),`img/sexpose/${this.key}${r}.svg`}getImageFlipped(t,a){this.getImage();let r="";return t&&t.isFacingRight()&&(r="flip-horizontal"),`<img class="${r}" src="${setup.escapeHtml(setup.resolveImageUrl(this.getImage(t,a)))}" />`}getImageRep(t,a){return`<span class='colorize-white' data-tooltip="${this.getTitle()}">${this.getImageFlipped(t,a)}</span>`}rep(t,a){return`<span class='trait'>${this.getImageRep(t,a)}</span>`}repBig(t,a){return`<span class='colorize-white sex-position-big'>${this.getImageFlipped(t,a)}</span>`}repBigPlayer(t,a){return`<span class='colorize-gold sex-position-big'>${this.getImageFlipped(t,a)}</span>`}getTitle(){return this.title}getDescription(){return this.description}_getRawFacingHeight(t){const a=setup.sexfacing[this.bodypart_key_facing_height_key_map[t.key].facing_key];let r=setup.sexheight[this.bodypart_key_facing_height_key_map[t.key].height_key];if(!a)throw new Error(`Missing facing for position ${this.key} bodypart ${t.key}`);if(!r)throw new Error(`Missing height for position ${this.key} bodypart ${t.key}`);return{facing:a,height:r}}getFacingHeight(t,a,r){let s=this._getRawFacingHeight(t);return this.isPositionRaised(a,r)&&(s.height=s.height.getNextHigherHeight()),s}isAllowed(t,a,r){return!(!r&&a.getPosition(t)==setup.sexposition.center&&a.getUnitAtPosition(setup.sexposition.top))}isPositionRaised(t,a){return!!(t&&[setup.sexposition.center,setup.sexposition.top].includes(t)&&a.getLocation().isHigh())}rawDescribe(t,a){return""}describe(t,a){return a.getPose(t)==this?"":setup.SexUtil.convert(this.rawDescribe(t,a),{a:t},a)}rawDescribePosition(t,a){return""}describePosition(t,a){const r=setup.SexUtil.convert(this.rawDescribePosition(t,a),{a:t},a),s=[setup.sexposition.top,setup.sexposition.center,setup.sexposition.front,setup.sexposition.back],n=a.getPosition(t);let l="alone";for(const u of s){if(u==n)continue;const h=a.getUnitAtPosition(u);h&&u.isAdjacentTo(n)&&(l=`${n.getRelativePosition(u)} ${h.rep()}`)}return`${r} ${l}`}rawRepResist(t,a,r){return setup.SexUtil.repResist(t,a,r,["struggle out of b|their grip","wriggle out of b|their grasp","resist","avoid being violated","escape"],["b|rep b|adv b|keep a|them pinned in position","b|rep b|adv b|keep a|them pushed into position","b|rep b|adv b|force b|themself into a|them","b|rep b|adv b|threaten a|them with even worse treatment","b|rep b|adv b|whisper the things b|they b|is going to do to a|them"])}repResist(t,a,r){return setup.SexUtil.convert(this.rawRepResist(t,a,r),{a:t,b:a},r)}static repBigNone(){return`<span class='colorize-white sex-position-big'>
      <img src="${setup.escapeHtml(setup.resolveImageUrl(setup.SexPose.NONE_IMAGE_URL))}" />
    </span>`}static getAllPoses(){return Object.values(setup.sexpose).filter(t=>t.isUnlocked())}},o(ci,"SexPose"),y(ci,"NONE_IMAGE_URL","img/sexpose/none.svg"),ci),setup.SexPoseTop=(mu=class extends setup.SexPose{isAllowed(e,t,a){const r=t.getUnitAtPosition(setup.sexposition.center);return(a||t.getPosition(e))==setup.sexposition.top&&r&&t.getPose(r)==setup.sexpose.lieup&&super.isAllowed(e,t)}},o(mu,"SexPoseTop"),mu),setup.SexPoseFloor=(fu=class extends setup.SexPose{isAllowed(e,t,a){return[setup.sexposition.front,setup.sexposition.center,setup.sexposition.back].includes(a||t.getPosition(e))&&super.isAllowed(e,t)}},o(fu,"SexPoseFloor"),fu),setup.SexPositionClass={},setup.sexposition=class{},setup.SexPosition=(bu=class extends setup.TwineClassCustom{constructor(e,t,a,r){super(),this.key=e,this.tags=t,this.title=a,this.description=r}getTags(){return this.tags}getTitle(){return this.title}getDescription(){return this.description}getDefaultPose(){return setup.sexpose.stand}getContainer(){return"setup.SexPositionClass"}getImage(){return`img/sexposition/${this.key}.svg`}getImageRep(){return setup.repImgIcon(this.getImage(),this.getTitle())}rep(){return this.getImageRep()}isFacingRight(){return!1}isAllowed(e,t){const a=t.getPosition(e),r=t.getUnitAtPosition(this);if(a==this)return!0;if(a==setup.sexposition.center&&!r)return!1;if(this==setup.sexposition.top){const s=t.getUnitAtPosition(setup.sexposition.center);if(!s||t.getPose(s)!=setup.sexpose.lieup)return!1}return!(a==setup.sexposition.center&&t.getUnitAtPosition(setup.sexposition.top)&&this!=setup.sexposition.top||t.isBeingPenetrated(e))}rawDescribe(e,t){return""}describe(e,t){if(t.getPosition(e)==this)return"";const r=t.getUnitAtPosition(this),s=t.getUnitAtPosition(setup.sexposition.center);return setup.SexUtil.convert(this.rawDescribe(e,t),{a:e,b:r,c:s},t)}normalizeFacing(e){return this.isFacingRight()?e.getOpposite():e}isAdjacentTo(e){return!(this==setup.sexposition.front&&e==setup.sexposition.back||this==setup.sexposition.back&&e==setup.sexposition.front)}isLeftOf(e){return this==setup.sexposition.front?!0:e==setup.sexposition.front||this==setup.sexposition.back?!1:e==setup.sexposition.back}getRelativePosition(e){return""}static getAllPositions(){return Object.values(setup.sexposition)}},o(bu,"SexPosition"),bu),setup.qresImpl.SexBedchamberUsable=(yu=class extends setup.SexRestriction{constructor(e){super(),this.bedchamber_key=setup.keyOrSelf(e)}explain(){return`${State.variables.bedchamber[this.bedchamber_key].rep()} is usable`}isOk(e){const t=State.variables.bedchamber[this.bedchamber_key];return e.getUnits().includes(t.getSlaver())}},o(yu,"SexBedchamberUsable"),yu),setup.qresImpl.SexBodypartsCanInteract=(ku=class extends setup.SexRestriction{constructor(e,t,a,r){super(),this.my_actor_name=e,this.my_bodypart=t,this.their_actor_name=a,this.their_bodypart=r}explain(){return`${this.my_actor_name}'s ${this.my_bodypart.repsimple()} can interact with ${this.their_actor_name}'s ${this.their_bodypart.repsimple()}`}isOk(e){const t=e.getActorUnit(this.my_actor_name),a=e.getActorUnit(this.their_actor_name),r=this.sex,s=r.getPosition(t),n=r.getPosition(a);return!r.isCanUse(t,this.my_bodypart)||!r.isCanUse(a,this.their_bodypart)?!1:this.my_bodypart.isCanInteractWith(this.sex.getPosition(t),this.sex.getPose(t).getFacingHeight(this.my_bodypart,s,r),this.their_bodypart,this.sex.getPosition(a),this.sex.getPose(a).getFacingHeight(this.their_bodypart,n,r))}},o(ku,"SexBodypartsCanInteract"),ku),setup.qresImpl.SexBodypartsCanReach=(vu=class extends setup.SexRestriction{constructor(e,t,a,r){super(),this.my_actor_name=e,this.my_bodypart=t,this.their_actor_name=a,this.their_bodypart=r}explain(){return`${this.my_actor_name}'s ${this.my_bodypart.repsimple()} can reach ${this.their_actor_name}'s ${this.their_bodypart.repsimple()}`}isOk(e){const t=e.getActorUnit(this.my_actor_name),a=e.getActorUnit(this.their_actor_name),r=this.sex,s=r.getPosition(t),n=r.getPosition(a);return this.my_bodypart.isCanInteractWith(this.sex.getPosition(t),this.sex.getPose(t).getFacingHeight(this.my_bodypart,s,r),this.their_bodypart,this.sex.getPosition(a),this.sex.getPose(a).getFacingHeight(this.their_bodypart,n,r))}},o(vu,"SexBodypartsCanReach"),vu),setup.qresImpl.SexCanTitfuck=(Su=class extends setup.SexRestriction{constructor(e,t){super(),this.my_actor_name=e,this.their_actor_name=t}getRestriction(){return setup.qres.And([setup.qres.Actor("a",setup.qres.Trait(setup.trait.dick_tiny)),setup.qres.Actor("b",setup.qres.Or([setup.qres.Trait(setup.sexbodypart.breasts.getMinBreastTraitForTitfuck()),setup.qres.And([setup.qres.NoTrait(setup.trait.breast_tiny),setup.qres.Trait(setup.sexbodypart.breasts.getMinMuscleTraitForPecjob())])]))])}explain(){const e=setup.sexbodypart.breasts.getMinBreastTraitForTitfuck(),t=setup.sexbodypart.breasts.getMinMuscleTraitForPecjob();return`${this.my_actor_name} has a dick, while ${this.their_actor_name} either has ${e.rep()} or does not have a breast but has ${t.rep()}`}isOk(e){return this.getRestriction().isOk(e)}},o(Su,"SexCanTitfuck"),Su);function Ck(i,e,t){const a=setup.sexbodypart.penis.getSize(i,t);let r;return e.isHasTrait("breast_titanic")?r=5:e.isHasTrait("breast_huge")||!e.isHasBreasts()&&e.isHasTrait("muscle_extremelystrong")?r=4:r=3,Math.min(2,Math.max(-2,a-r))}o(Ck,"getDickPokeOutScore");function q$(i,e,t){let a;if(i.isHasTrait("dick_titanic")&&e.isHasTrait("breast_gigantic"))a=["The gigantic dick is evenly matched with the equally gigantic breasts, and it barely pokes out of the huge piece of flesh.","The breasts are a gigantic mound of flesh, but the dick is even more so and it manages to poke out of the massive mound of flesh.","Despite the huge voluptuous mountain that is b|reps breasts, a|reps equally titanic dick still manage to pop out."];else{const r=Ck(i,e,t);r==2?a=[`a|Reps a|dick proves too intimidatingly long for b|reps b|breasts,
        and almost half of it pokes out of the other end of the b|cleavage.`,`a|Reps a|dick is way too long for b|reps b|cleavage,
        and more than half of the shaft pokes out of the other end of the b|cleavage.`,"a|Reps a|dick is very lengthy, and it pokes out substantially from the other end of the b|cleavage."]:r==1?a=["a|Reps dickhead pops out of the other end of b|reps b|cleavage.","a|Reps a|dick is long enough to poke its head on the end of the b|cleavage.","a|Reps a|dick pokes out a little from the other end of the b|cleavage."]:r==0?a=["a|Reps a|dick spans the entire length of the b|cleavage, but it does not poke out.","a|Reps dickhead is just at the top of the b|cleavage, barely poking out of it.","The length of a|reps dick is evenly matched with the length of b|reps b|cleavage."]:r==-1?a=["a|Reps a|dick is not long enough to poke out of b|reps b|cleavage.","The dickhead remains buried somewhere within b|reps b|breasts.","a|Reps a|dick is too small to breach the other end of the b|cleavage."]:r==-2&&(a=["a|Reps a|dick is completely buried within b|reps b|breasts.","a|Reps a|dick barely penetrates a third of b|reps vast b|cleavage.","a|Reps a|dick could not even make it halfway of b|reps b|cleavage."])}return setup.SexUtil.convert(a,{a:i,b:e},t)}o(q$,"getDickPokeOutSentence"),setup.qresImpl.SexCanTitfuckIntoMouth=(Tu=class extends setup.SexRestriction{constructor(e,t){super(),this.my_actor_name=e,this.their_actor_name=t}explain(){return`${this.my_actor_name} has a dick long enough to poke out of ${this.their_actor_name} breasts`}isOk(e){const t=e.getActorUnit(this.my_actor_name),a=e.getActorUnit(this.their_actor_name);return setup.sexbodypart.breasts.getTitfuck(t,a)&&Ck(t,a,this.sex)>=1}},o(Tu,"SexCanTitfuck"),Tu),setup.qresImpl.SexIsInLocationSupportingUpsideDown=(_u=class extends setup.SexRestriction{constructor(){super()}explain(){return"Is in a location that supports the Upside-Down sex pose (e.g., by having the correct furniture)"}isOk(e){return!!this.sex.getLocation().repUpsideDownFurniture()}},o(_u,"SexIsInLocationSupportingUpsideDown"),_u),setup.qresImpl.SexIsInLocationWithFurniture=(Au=class extends setup.SexRestriction{constructor(e){super(),this.furniture_key=e.key}getFurniture(){return setup.item[this.furniture_key]}explain(){return`Is in a location with ${this.getFurniture().rep()}`}isOk(e){const t=this.sex.getLocation(),a=this.getFurniture();return t.getFurnitureAt(a.getSlot())==a}},o(Au,"SexIsInLocationWithFurniture"),Au),setup.qresImpl.SexIsOngoing=(Mu=class extends setup.SexRestriction{constructor(e,t,a,r){super(),this.my_actor_name=e,this.my_bodypart=t,this.their_actor_name=a,this.their_bodypart=r}explain(){return`${this.my_actor_name}'s ${this.my_bodypart.repsimple()} is penetrating ${this.their_actor_name}'s ${this.their_bodypart.repsimple()}`}isOk(e){const t=e.getActorUnit(this.my_actor_name),a=e.getActorUnit(this.their_actor_name),r=this.sex.getBodypartPenetrationTarget(t,this.my_bodypart);return r&&r.unit==a&&r.bodypart==this.their_bodypart}},o(Mu,"SexIsOngoing"),Mu),setup.SexText={},setup.SexText.abuse=function(i,e,t){return setup.rng.choice(["abuse","rough treatment","maltreatment","molestation","punishment"])},setup.SexText.abuseImpression=function(i,e,t){let a;const r=setup.SexText.abuse(i,e,t),s=setup.SexText.moan(e,t);return e.isMasochistic()?a=[`b|Rep can't help but reeled in a masochistic ecstacy at the ${r}.`,`b|Reps masochistic tendencies are delighted at the ${r}.`,`b|Rep let out an approving ${s} at the ${r}.`,`b|Rep b|is in a masochistic bliss from the ${r}.`,"b|Reps body and mind internally battled for control in b|their masochistic mind."]:t.getPace(e)==setup.sexpace.resist?a=[`b|Rep b|continue to sob at the ${r}.`,`b|Rep b|sob in pain from the ${r}.`,`b|Rep b|beg for the ${r} to stop.`,`b|Rep grimaces at the ${r}, begging it to stop.`,`b|Rep let out b|a_sob for being the subject of a|reps ${r}.`,`b|Rep b|is visibly discomforted by the ${r}.`]:t.getPace(e)==setup.sexpace.forced?a=[`b|Rep b|resign to b|their fate of being a sexual plaything and subject for ${r}.`,`The ${r} continues to remind b|rep of b|their lot in life.`,`The ${r} serves as a reminder for b|rep about their place in life.`,`b|Rep b|adv b|accept the ${r} out of fear for worse punishment.`,`Despite accepting b|their position as a slave, b|rep b|have not get used to the ${r}.`]:t.getPace(e)==setup.sexpace.dom?a=[`b|Rep swore to get back to a|rep for the ${r} later.`,`b|Rep took the ${r} while maintaining b|their dominant posture.`,`b|Rep growled back at a|rep for the ${r}.`,`b|Rep swore to make sure to pay a|rep back for the ${r}.`,`b|Rep b|adv growled throughout the ${r}.`]:t.getPace(e)==setup.sexpace.normal?a=[`b|Rep b|adv b|take the ${r}.`,`b|Rep b|steel b|themself for the ${r}.`,`b|Rep b|is even starting to enjoy ${r}.`,`The ${r} mixes both pain and pleasure for b|rep.`,`b|Reps mind battled between the pain and pleasure from the ${r}.`]:t.getPace(e)==setup.sexpace.sub?a=[`b|Rep submissively b|take the ${r}.`,`b|Rep b|accept the ${r} as what b|they b|deserve.`,`b|Rep b|is secretly enjoying the ${r}.`,`b|Rep can't help but reel in submissive pleasure from being the subject of such ${r}.`,"b|Rep can't help but reel in submissive pleasure from being dominated so thoroughly."]:t.getPace(e)==setup.sexpace.mindbroken&&(a=[`Outside of some automatic body reactions, b|rep b|show indifference to the ${r}.`,`Being a mindbroken slave, b|rep b|give minimal reactions to the ${r}.`,`The ${r} b|have no effect on the mindbroken slave.`,`The mindbroken slave is unresponsive to the ${r}.`,`The ${r} b|leave no effect on the fully mindbroken slave.`]),setup.SexUtil.convert(a,{a:i,b:e},t)},setup.SexText.preThought=function(i,e){const t=e.getPace(i);let a=[];return t==setup.sexpace.mindbroken?a=["Without displaying any emotions","Without any emotions","Mechanically"]:t==setup.sexpace.sub?a=["Submissively","With a submissive look","Eager to serve","Looking forward to serve"]:t==setup.sexpace.resist?a=["While crying"]:t==setup.sexpace.forced?a=["With a resigned sigh","Fearing punishment","Trying not to think about what a|unit a|is about to do"]:a=["With a a|adjper smirk","Grinning a|adv"],setup.SexUtil.convert(a,{a:i},e)},setup.SexText.moan=function(i,e){let t;return e.isCanUse(i,setup.sexbodypart.mouth)?t=["audible moan","moan","groan","audible groan"]:t=["muffled moan","muffled groan","gagged moan","gagged groan"],setup.rng.choice(t)},setup.SexText.sob=function(i,e){let t;return e.isCanUse(i,setup.sexbodypart.mouth)?t=["audible sob","sob","whine","audible whine"]:t=["muffled sob","muffled whine","gagged sob","gagged whine"],setup.rng.choice(t)},setup.SexText.postThought=function(i,e){const t=e.getPace(i),a=setup.SexText.moan(i,e);let r;return t==setup.sexpace.mindbroken?r=["eliciting no response from the mindbroken slave","earning no response from the mindbroken slave"]:t==setup.sexpace.forced||t==setup.sexpace.resist?r=[`eliciting an involuntary ${a} from a|rep`,`earning a helpless ${a} from a|rep`]:t==setup.sexpace.sub?r=[`eliciting a submissive ${a} from a|rep`,`earning an approving ${a} from a|rep`]:r=["making a|rep a|let out a|a_moan from the pleasure","making a|rep a|let out a|a_moan back in pleasure"],setup.SexUtil.convert(r,{a:i},e)},setup.SexText.proximityDescription=function(i,e){const t=[],a=e.getPosition(i);for(const r of e.getUnits()){if(r==i)continue;const s=e.getPosition(r);for(const n of setup.SexBodypart.getAllBodyparts())for(const l of setup.SexBodypart.getAllBodyparts()){if(!n.isHasBodypart(i,e)||!l.isHasBodypart(r,e))continue;const u=BM(i,n,a,r,l,s,e);u&&t.push(u);const h=BM(r,l,s,i,n,a,e);h&&t.push(h)}}return t.length?setup.rng.choice(t):""};function BM(i,e,t,a,r,s,n){return e.isCanInteractWith(n.getPosition(i),n.getPose(i).getFacingHeight(e,t,n),r,n.getPosition(a),n.getPose(a).getFacingHeight(r,s,n))?e.describeTease(i,a,r,n):""}o(BM,"_getProximityDescriptionInternal"),setup.SexText.stripDescription=function(i,e,t){const a=i.getEquipmentAt(e);if(!a)return"";const r=setup.SexText.moan(i,t),s=setup.Text.Strip.verb(i,a);if(e==setup.equipmentslot.torso)return a.getTags().includes("harness")?`a|Their a|hands a|adv undo the bindings of       a|their ${a.rep()} and a|they hyperventilates within       its embrace as a|they a|strip.`:a.getTags().includes("armor")?`a|They a|adv ${s} a|their ${a.rep()}, until it drops with a loud thud.`:a.getTags().includes("fake_clothes")?`a|They ${s} a|their "invisible" ${a.rep()}.`:a.getTags().includes("restraints")?`a|They a|are freed from a|their restrictive ${a.rep()}, for the time being.`:`a|They a|pull a|their ${a.rep()} over a|their head revealing
      a|their naked a|breasts.`;if(e==setup.equipmentslot.legs){let n="";a.getTags().includes("harness")?n+=`a|They a|scramble to unfasten the bindings on a|their       ${a.rep()} as fast as a|they can`:a.getTags().includes("armor")?n+=`a|They a|adv ${s} a|their a|legs out from a|their protective ${a.rep()}`:a.getTags().includes("restraints")?n+=`a|Their ${a.rep()} no longer binds a|them for the time being`:a.getTags().includes("fake_clothes")?n+=`a|They ${s} a|their "invisible" ${a.rep()}`:n+=`a|They a|adv ${s} a|their ${a.rep()} down`;const l=i.getEquipmentAt(setup.equipmentslot.rear);return l&&l.isCovering()?n+=`, revealing a|their ${l.rep()}.`:n+=", revealing a|their a|genital.",n}else if(e==setup.equipmentslot.rear){let n="";return a.getTags().includes("harness")?n+=`One by one, a|they a|unbind the fastenings on a|their ${a.rep()}`:a.getTags().includes("armor")?n+=`a|They a|give up what little protection a|their ${a.rep()} offered`:a.getTags().includes("restraints")?n+=`The ${a.rep()} clanks to the ground`:a.getTags().includes("clothes")?n+=`Unceremoniously, a|they a|throw a|their ${a.rep()} aside`:a.getTags().includes("fake_clothes")?n+=`a|They ${s} a|their "invisible" ${a.rep()}`:a.getTags().includes("vegetable")?n+=`a|They ${s} the ${a.rep()} which was plugged deep within a|their a|anus, the cold and fresh feeling suddenly gone from inside them.`:a.getTags().includes("buttplug")||a.getTags().includes("dildo")?n+=`a|Their ${a.rep()} pressed against a|their inner walls as a|they struggle to remove it`:n+=`a|They ${s} a|their ${a.rep()}`,n+=", revealing a|their a|anus.",n}else{if(e==setup.equipmentslot.genital)return i.isHasVagina()?a.getTags().includes("dildo")?a.getTags().includes("vegetable")?`a|They ${s} the ${a.rep()} which was plugged deep within a|their a|vagina, the cold and fresh feeling suddenly gone from inside them.`:`a|They ${s} a|their ${a.rep()} which was plugged deep inside a|their a|vagina, eliciting a ${r}.`:`a|They ${s} a|their ${a.rep()} from blocking the use of a|their a|vagina.`:a.getTags().includes("chastity")?`a|Their ${a.rep()} is unlocked, freeing a|their a|dick for the first time in days.`:a.getTags().includes("dickplug")?`a|Their ${a.rep()} is painfully removed from deep within a|their urethra.`:`a|Their dick decoration ${a.rep()} is removed and threwn aside.`;if(e==setup.equipmentslot.nipple)return a.getTags().includes("nippleclamps")?`a|Their nipples were constantly pinched with ${a.rep()},       which keeps them hard even after a|they a|take it off.`:a.getTags().includes("nipplechains")?`a|Their nipples are constantly pinched with ${a.rep()},       which keeps them hard even after a|they a|take it off.`:`a|Their nipples are adorned with ${a.rep()}, which is swiftly removed.`;if(e==setup.equipmentslot.mouth)return a.getTags().includes("mouthcover")?`a|They ${s} a|their ${a.rep()} and a|throw it aside.`:a.getTags().includes("plaguemask")?`a|They ${s} a|their ${a.rep()} and place it aside.`:a.getTags().includes("dildogag")?"a|They a|remove the dildo from a|their throat, leaving the ring gag in place.":a.getTags().includes("gag")?`The ${a.rep()} is unfastened from a|their a|mouth.`:`a|They ${s} the ${a.rep()} covering a|their a|mouth.`;if(e==setup.equipmentslot.arms)return a.getTags().includes("mitts")||a.getTags().includes("hooves")?`a|Their fists uncurl after a long bondage inside a|their now removed ${a.rep()}.`:a.getTags().includes("harness")?`a|They ${s} a|their ${a.rep()}.`:a.getTags().includes("armor")?`a|They ${s} a|their protective ${a.rep()} before throwing it aside.`:a.getTags().includes("fake_clothes")?`a|They ${s} a|their "invisible" ${a.rep()} that nobody else could see.`:a.getTags().includes("restraints")?`a|Their ${a.rep()} is unlocked and placed aside.`:`a|They ${s} a|their ${a.rep()} for the time being.`;if(e==setup.equipmentslot.feet)return a.getTags().includes("hooves")?`The ${a.rep()} encasing a|their feet is removed for the first time in days.`:`a|They ${s} a|their ${a.rep()} and place them aside.`;throw new Error(`Not implemented: stripping for ${e.key}`)}},setup.UnitPool=(wu=class extends setup.TwineClass{constructor(e,t,a,r,s){super(),this.key=e,this.name=t,this.trait_alloc=a,this.base_stat_ranges=setup.Skill.translate(r),this.post_process=s||[];for(let n in a){let l=a[n];if(!("chances"in l))throw new Error(`UnitPool ${e}'s ${n} missing chances`);if(!("min"in l))throw new Error(`UnitPool ${e}'s ${n} missing min`);if(!("max"in l))throw new Error(`UnitPool ${e}'s ${n} missing max`);let u=l.chances;for(let h in u){if(!(h in setup.trait))throw new Error(`Unknown trait ${h} in unitpool ${e}'s ${n}`);if(u[h]===NaN)throw new Error(`NaN for ${h} in unitpool ${e}'s ${n}`);if(!setup.trait[h].getTags().includes(n))throw new Error(`Trait ${h} in ${e} does not include ${n}`)}}if(e in setup.unitpool)throw new Error(`Unitpool ${this.key} duplicated`);setup.unitpool[e]=this}getName(){return this.name}rep(){return setup.repMessage(this,"unitpoolcardkey")}static getChanceArray(e,t,a){let r=[],s=0;for(let n in e){if(a&&a.includes(n))continue;let l=e[n];l>0&&(r.push([n,l]),s+=l)}if(s<=0&&t)throw new Error("Failed chance array");return(s>1||t)&&setup.rng.normalizeChanceArray(r),r}_generateSkills(){let e=[];for(let t=0;t<setup.skill.length;++t){let a=this.base_stat_ranges[t][0],r=this.base_stat_ranges[t][1];e.push(a+Math.floor(Math.random()*(r-a+1)))}return e}computeStatistics(){let e=0,t=setup.INFINITY,a=0;for(let s=0;s<setup.COMPUTE_APPROXIMATE_VALUE_REPS;++s){const n=this.generateUnit();e+=n.getSlaveValue(),t=Math.min(t,n.getSlaveValue()),a=Math.max(a,n.getSlaveValue()),n.delete()}State.variables.notification.popAll();const r=Math.round(e/setup.COMPUTE_APPROXIMATE_VALUE_REPS*setup.COMPUTE_APPROXIMATE_VALUE_MULTIPLIER);return{min:t,max:a,mean:r}}static generateTraitsFromObj(e,t,a){let r=[];if(a<t)throw new Error("Weird, max is smaller than min");let s=[];for(let n in e){let l=e[n];Math.random()<l&&s.push(n)}setup.rng.shuffleArray(s);for(let n=0;n<s.length;++n){if(r.length>=a)continue;let l=setup.trait[s[n]];if(r.includes(s[n]))continue;let u=l.getTraitGroup();if(u){let h=!1;for(let p=0;p<r.length;++p)if(setup.trait[r[p]].getTraitGroup()==u){h=!0;break}if(h)continue}r.push(l.key)}for(;r.length<t;){let n=!0,l={};for(let c=0;c<r.length;++c){let g=setup.trait[r[c]].getTraitGroup();if(g){let m=g.getTraits();for(let f=0;f<m.length;++f)m[f]&&(l[m[f].key]=!0)}}let u={};for(let c in e)c in l||(u[c]=e[c]);let h=setup.UnitPool.getChanceArray(u,n,r),p=setup.rng.sampleArray(h);if(p)r.push(p);else throw new Error("Something weird happens.")}return r}_generateTraits(){let e=this.trait_alloc,t=[];for(let r in e){let s=e[r],n=s.chances,l=s.min,u=s.max,h=setup.UnitPool.generateTraitsFromObj(n,l,u);Array.prototype.push.apply(t,h)}let a=[];for(let r=0;r<t.length;++r){let s=t[r];s in setup.trait,a.push(setup.trait[s])}return a}generateUnit(){let e=this._generateTraits(),t=this._generateSkills(),a=VT(e),r=new setup.Unit(a,e,t);return setup.RestrictionLib.applyAll(this.post_process,setup.costUnitHelper(r)),r}static getUnitPool(e,t){let a=Object.values(setup.unitpool);return e&&(a=a.filter(r=>r.key.startsWith(e.key))),t==setup.trait.gender_male?a=a.filter(r=>r.key.endsWith("male")):t==setup.trait.gender_female&&(a=a.filter(r=>r.key.endsWith("female"))),setup.rng.choice(a)}},o(wu,"UnitPool"),wu),setup.UnitPoolHelper={},setup.UnitPoolHelper.physHelper=function(i,e,t){const a=["dick","breast","vagina","anus","balls","height","face","muscle","tough"];for(let s=0;s<a.length;++s){let n=a[s];n in i&&delete i[n]}const r=["dick","breast","vagina","anus","balls"];for(let s=0;s<e.length;++s){let n=null;for(let c in setup.trait)setup.trait[c].isHasTag(e[s])&&(n=setup.trait[c]);if(!n)throw new Error(`Cant find trait with tag ${e[s]}`);let l=n.getTraitGroup().getTraits(),u={};for(let c in t){let d=0;for(let g=0;g<l.length;++g)l[g]&&l[g].isHasTag(c)&&++d;for(let g=0;g<l.length;++g)l[g]&&l[g].isHasTag(c)&&(u[l[g].key]=1*t[c]/d)}let h=0,p=1;r.includes(e[s])&&(h=1),i[e[s]]={chances:u,min:h,max:p}}},setup.UnitPoolHelper.physHelperMale=function(i){return setup.UnitPoolHelper.physHelper(i,["muscle","dick","balls","anus","height","face","tough"],{common:setup.UNIT_POOL_PHYS_TRAITS_AVERAGE_COMMON,medium:setup.UNIT_POOL_PHYS_TRAITS_AVERAGE_MEDIUM,rare:setup.UNIT_POOL_PHYS_TRAITS_AVERAGE_RARE,unicorn:setup.UNIT_POOL_PHYS_TRAITS_AVERAGE_UNICORN})},setup.UnitPoolHelper.physHelperFemale=function(i){return setup.UnitPoolHelper.physHelper(i,["muscle","breast","vagina","anus","height","face","tough"],{common:setup.UNIT_POOL_PHYS_TRAITS_AVERAGE_COMMON,medium:setup.UNIT_POOL_PHYS_TRAITS_AVERAGE_MEDIUM,rare:setup.UNIT_POOL_PHYS_TRAITS_AVERAGE_RARE,unicorn:setup.UNIT_POOL_PHYS_TRAITS_AVERAGE_UNICORN})},setup.UnitPoolHelper.getOneTraitObj=function(i){return setup.UnitPoolHelper.getTraitChanceObj([[[i],1]],1,1)},setup.UnitPoolHelper.getTraitChanceObj=function(i,e,t){let a={};for(let r=0;r<i.length;++r){let s=i[r][0],n=i[r][1];for(let l=0;l<s.length;++l)a[s[l].key]=1*n/s.length}return{chances:a,min:e,max:t}},setup.UnitPoolHelper.setChance=function(i,e,t){for(let a=0;a<e.length;++a)i[e[a].key]=1*t/e.length},setup.UnitPoolTraitAlloc=(Ru=class extends setup.TwineClass{constructor(e,t){super(),this.trait_preferences=e,this.trait_dispreferences=t;for(const a in e){if(!(a in setup.trait))throw new Error(`Unknown trait key in preference unit pool trait alloc: ${a}`);if(e[a]===void 0)throw new Error(`Unedfined value for trait ${a} in triat alloc!`)}for(const a of Object.values(setup.trait).filter(r=>r.getTags().includes("bg")))if(!(a.key in e))throw new Error(`Missing background trait from unit pool trait alloc: ${a.key}`);for(const a in t)if(!(a in setup.trait))throw new Error(`Unknown trait key in dispreference unit pool trait alloc: ${a}`)}_setupOneObj(e,t){let a=null;for(const r in this.trait_preferences){const s=setup.trait[r];if(s.getTags().includes(t)){if(a)throw new Error(`Duplicate ${t} for unit pool trait alloc!: ${a.key}`);a=s}}if(!a)throw new Error(`Missing ${t} for unit pool trait alloc!`);e[t]=setup.UnitPoolHelper.getOneTraitObj(a)}_setupTaggedTraits(e,t,a,r){const s={};for(const n in this.trait_preferences){const l=setup.trait[n];if(l.getTags().includes(t)){if(!l.isCompatibleWithGender(a))continue;s[l.key]=this.trait_preferences[n]}}Object.keys(s).length&&(e[t]={chances:s,min:r?1:0,max:r?1:Object.keys(s).length})}_applyModifiers(e){for(const t in this.trait_preferences){const a=setup.trait[t];for(const r in e)if(a.getTags().includes(r)){if(!(t in e[r].chances))throw new Error(`Missing positive trait: ${t} in unit pool alloc for tag ${r}`);e[r].chances[t]+=this.trait_preferences[t]}}for(const t in this.trait_dispreferences){const a=setup.trait[t];for(const r in e)if(a.getTags().includes(r)){if(!(t in e[r].chances))throw new Error(`Missing negative trait: ${t} in unit pool alloc for tag ${r}`);e[r].chances[t]/=this.trait_dispreferences[t]}}}computePreferences(e){const t=setup.UnitPoolTraitAlloc.getBaseTraitPreferences(e);return this._applyModifiers(t),this._setupOneObj(t,"subrace"),this._setupTaggedTraits(t,"skin",e),this._setupTaggedTraits(t,"bg",e,!0),t}static getBaseTraitPreferences(e){const t={};if(t.gender=setup.UnitPoolHelper.getOneTraitObj(e),t.per=setup.UnitPoolHelper.getTraitChanceObj([[setup.TraitHelper.getAllTraitsOfTags(["per","common"]),setup.UNIT_POOL_PER_TRAITS_AVERAGE_COMMON],[setup.TraitHelper.getAllTraitsOfTags(["per","medium"]),setup.UNIT_POOL_PER_TRAITS_AVERAGE_MEDIUM],[setup.TraitHelper.getAllTraitsOfTags(["per","rare"]),setup.UNIT_POOL_PER_TRAITS_AVERAGE_RARE],[setup.TraitHelper.getAllTraitsOfTags(["per","unicorn"]),setup.UNIT_POOL_PER_TRAITS_AVERAGE_UNICORN]],setup.UNIT_POOL_PER_TRAITS_MIN,setup.UNIT_POOL_PER_TRAITS_MAX),t.skill=setup.UnitPoolHelper.getTraitChanceObj([[setup.TraitHelper.getAllTraitsOfTags(["skill","common"]),setup.UNIT_POOL_SKILL_TRAITS_AVERAGE_COMMON],[setup.TraitHelper.getAllTraitsOfTags(["skill","medium"]),setup.UNIT_POOL_SKILL_TRAITS_AVERAGE_MEDIUM],[setup.TraitHelper.getAllTraitsOfTags(["skill","rare"]),setup.UNIT_POOL_SKILL_TRAITS_AVERAGE_RARE],[setup.TraitHelper.getAllTraitsOfTags(["skill","unicorn"]),setup.UNIT_POOL_SKILL_TRAITS_AVERAGE_UNICORN]],setup.UNIT_POOL_SKILL_TRAITS_MIN,setup.UNIT_POOL_SKILL_TRAITS_MAX),e==setup.trait.gender_male)setup.UnitPoolHelper.physHelperMale(t);else if(e==setup.trait.gender_female)setup.UnitPoolHelper.physHelperFemale(t);else throw new Error(`Unknown gender for unit pool generation: ${e.key}`);return t}},o(Ru,"UnitPoolTraitAlloc"),Ru),setup.DOM.Menu.Settings={},setup.DOM.Menu.Settings.Debug={};function qe({title:i,field:e,help:t}){return html`
    <div>
      ${twee`<<checkbox '$settings.${e}' false true autocheck>>`} ${i}
      ${t?setup.DOM.Util.help(t):""}
    </div>
  `}o(qe,"checkbox"),setup.DOM.Menu.settingsbase=function(){const i=[],e=State.variables.devtooltype;e||i.push(html`
      <div>
        Auto-save every
        ${twee`<<numberbox '$settings.autosave_interval' $settings.autosave_interval>>`}
        weeks
        ${setup.DOM.Util.help(html`
          The game will auto-save every this many weeks.
          Put 0 to never auto-save, and 1 to auto-save every week.
          Larger number will make the end-of-week processing faster.
        `)}
      </div>
    `),i.push(html`
      <hr/>
      <div>
        <b>Story display</b>
      </div>
    `,qe({title:"Hide quest / event images",field:"hidecontentimages",help:html`
        If checked, then images in quest and event outcomes are hidden.
      `}),qe({title:"Summarize quest/event outcomes",field:"hidequestoutcome",help:html`
        If checked, then quest outcome notifications are summarized, and must be toggled to view.
      `}),qe({title:"Summarize quest texts",field:"hidequestdescription",help:html`
        If checked, then quest result texts are summarized, and must be toggled to view.
      `}),qe({title:"Summarize event texts",field:"hideeventdescription",help:html`
        If checked, then event texts are summarized and must be toggled to view.
      `}),html`
      <hr/>
      <div>
        <b>Unit information</b>
      </div>
    `,qe({title:"Show unit icons in text",field:"inline_icon",help:html`
        If checked, icons will be shown next to units and equipments in texts.
      `}),qe({title:"Use different color for unit names depending on gender",field:"inline_color",help:html`
        If checked, unit names will be color-coded in texts.
      `}),qe({title:"Use different font for unit names depending on race",field:"inline_font",help:html`
        If checked, unit names will use different fonts, depending on their race
      `}),qe({title:"Summarize unit skills",field:"summarizeunitskills",help:html`
        If checked, then unit skills are displayed as their total sum,
        instead of xx + xx.
        E.g., instead of 11 ${setup.DOM.Text.successlite(" + 4")} ${setup.skill.combat.rep()},
        it will display as
        <span data-tooltip="11 + 4">${setup.DOM.Text.successlite("15")}</span> ${setup.skill.combat.rep()}
        (You can hover over it to see the "11 + 4").
      `}),qe({title:"Sort skill focuses as they appear in the skill change menu",field:"unsortedskills",help:html`
        If checked, the skill focuses in the icon grid won't be sorted by their natural order. Instead they will appear in the order they are in the change focus skill page.
      `}),qe({title:"Hide skin traits",field:"hideskintraits",help:html`
        If checked, skin traits such as
        ${setup.trait.body_werewolf.rep()} or ${setup.trait.ears_elf.rep()}
        are hidden in unit cards.
      `}),html`
      <hr/>
      <div>
        <b>Miscellaneous</b>
      </div>
    `,qe({title:"Animated tooltips",field:"animatedtooltips",help:html`
        If checked, tooltips will fade in, and appear after some small delay.
        If unchecked, tooltips will instantly show up, with no delay.
      `}),qe({title:"Auto-assign units for unit actions",field:"unitactionautoassign",help:html`
        If checked, quests generated from unit action will be auto-assigned a team when you select it.
      `})),i.push(html`
    <div>
      ${setup.DOM.Util.message("(Change allowed lover gender pairings)",html`
          <div class='helpcard'>
            <p>
              Which pair of genders can become lover with each other?
              <b>Enable at least one</b>, or the game may behave erractically.
            </p>
            ${qe({title:"Male - Female",field:"lovers_mf"})}
            ${qe({title:"Male - Male",field:"lovers_mm"})}
            ${qe({title:"Female - Female",field:"lovers_ff"})}
          </div>
        `)}
    </div>
  `);const t=State.variables.settings;function a(r){return t.challengemode!=r?setup.DOM.Nav.link(`(set to ${setup.Settings.difficulty_to_human(r)})`,()=>{t.challengemode=r,setup.DOM.Nav.goto()}):null}return o(a,"set_difficulty"),e||i.push(html`
      <div>
        ${setup.DOM.Util.message("(EXPERIMENTAL)",html`
            <div class='helpcard'>
              <div>
                ${setup.DOM.Text.danger("WARNING")}:
                Settings under EXPERIMENTAL are either
                ${setup.DOM.Text.dangerlite("NO BALANCED")}
                or cause
                ${setup.DOM.Text.dangerlite("TEXT ISSUES")},
                and it is recommended to turn all these settings off,
                at least on your first playthrough.
                However, feel free to turn on these settings if you feel particularly adventurous
                or masochistic.
              </div>

              <hr/>

              <div>
                <b>Difficulty</b>: ${t.getDifficultyHumanReadable()}
                ${a(!1)}
                ${setup.DOM.create("span",{},Object.keys(setup.Settings.DIFFICULTIES).map(r=>a(r)))}
              </div>
            </div>
          `)}
      </div>
    `),setup.DOM.create("div",{},i)},setup.DOM.Menu.settingsmain=function(){const i=[];return i.push(setup.DOM.Menu.settingsbase()),i.push(html`<hr/>`),i.push(setup.DOM.Util.include("SettingsGenderPreferences")),i.push(html`<hr/>`),i.push(html`
    <div>${setup.DOM.Nav.move("Set Content Filter","BannedTagMenu")}</div>
    <div>${setup.DOM.Nav.link("Manage Global Settings, Imagepacks & Mods",()=>setup.DOM.Menu.Settings.opendialog())}</div>
    <div>
      ${setup.DOM.Nav.move("Export Save","ExportSaveText")}
      ${setup.DOM.Nav.move("Import Save","ImportSaveText")}
      ${setup.DOM.Util.help(html`
        This menu allows you to export and import your save as a plain text.
        This is useful for mobile users whose devices does not support the "Save to Disk" and
        "Load to Disk" options in the game, for whom these buttons will not be visible.
      `)}
    </div>
    <div>
      ${setup.DOM.Nav.link("Reset unit portraits",()=>{State.variables.unitimage.resetAllImages(),setup.notify("Unit images has been reset"),setup.DOM.Nav.goto()})}
      ${setup.DOM.Util.help(html`
        Resets all unit portraits. Useful if you switch image packs, or if you migrate from
        different version of the game (e.g., from Itch.io to gitgud.io).
      `)}
    </div>
    <hr/>
  `),State.variables.gDebug?i.push(html`
      <div>
        ${setup.DOM.Text.danger("Warning: Debug mode is ON")} You may encounter inconsistencies / errors with the debug mode
        turned on. Do NOT report these bugs.
      </div>
    `):State.variables.gDebugWasTurnedOn&&i.push(html`
      <div>
        ${setup.DOM.Text.dangerlite("Debug mode was turned ON at some point of this game.")}
        This does not affect the game at all, but this information will be relayed when
        reporting errors.
        Bugs found in games that have been tampered with debug mode should generally
        ${setup.DOM.Text.dangerlite("NOT")}
        be reported.
      </div>
    `),State.variables.gDebug?i.push(setup.DOM.Menu.settingsdebug()):i.push(html`
      <div>
        ${setup.DOM.Nav.link("(turn on debug mode)",()=>{State.variables.gDebug=!0,State.variables.gDebugWasTurnedOn=!0,setup.DOM.Nav.goto()})}
        ${setup.DOM.Text.dangerlite("Warning")}:
        Debug Mode is meant for debugging, and turning it on in an ordinary
        game may have unforeseen consequences!
      </div>
    `),setup.DOM.create("div",{},i)},setup.DOM.Menu.settingsdebug=function(){const i=[];return i.push(html`
      <div>
        ${setup.DOM.Nav.link("(turn off debug mode)",()=>{State.variables.gDebug=!1,setup.DOM.Nav.goto()})}
      </div>
    `),i.push(html`
      <div>
        ${twee`[[(TEST EVERYTHING)|DebugTestEverything]]`}
      </div>
      <div>
        ${setup.DOM.Util.message("(Syntax check all content)",()=>{setup.DOM.Menu.devtoolcheckall()})}
      </div>
      <hr/>
      <div>
        ${setup.DOM.Nav.move("(Test quests)","QuestDebug")}
        ${setup.DOM.Nav.move("(See scoutable quests)","GeneratableDebug")}
      </div>
      <div>
        ${setup.DOM.Nav.move("(Test opportunities)","OpportunityDebug")}
      </div>
      <div>
        ${setup.DOM.Nav.move("(Test interactions)","InteractionDebug")}
      </div>
      <div>
        ${setup.DOM.Nav.move("(Test events)","EventDebug")}
      </div>
      <div>
        ${setup.DOM.Nav.move("(Test activites)","ActivityDebug")}
      </div>
      <div>
        ${setup.DOM.Nav.move("(Test all livings)","LivingDebugDoAll")}
      </div>
      <hr/>
      <div>
        ${setup.DOM.Nav.move("(Test get item)","ItemDebug")}
      </div>
      <div>
        ${setup.DOM.Nav.move("(Test get equipment)","EquipmentDebug")}
      </div>
      <div>
        ${setup.DOM.Nav.link("(Test get 100,000 money)",()=>{State.variables.company.player.addMoney(1e5),setup.DOM.Nav.goto()})}
      </div>
      <div>
        ${setup.DOM.Nav.move("(Test increase / decrease favor)","FavorDebug")}
      </div>
      <div>
        ${setup.DOM.Nav.move("(Test increase / decrease ire)","IreDebug")}
      </div>
      <hr/>
      <div>
        ${setup.DOM.Nav.link("(Show variables)",()=>{const e=[];for(const t in State.variables.varstore.vars)e.push(html`
                <div>${t}: ${State.variables.varstore.get(t)}</div>
              `);setup.Dialogs.open({title:"All game variables",content:setup.DOM.create("div",{},e)})})}
      </div>
      <div>
        ${setup.DOM.Util.message("(Test trigger error)",()=>setup.debugCrash())}
      </div>
    `),setup.DOM.create("div",{},i)};var z$=Y("<div><b>Disclaimer: <b class=dangertextlite>mod support is experimental</b>, it might break the game"),F$=Y("<div><small>The list below only shows mods which have been installed. Mods are installed globally, but can be enabled or disabled in a per-save basis."),j$=Y('<p>If the mod is not a URL, then put the mod in the "<!>" directory. For example, you it should look like "<!>/mymod". Then put "mymod" here. As an example, try putting "example" below to load the example mod, which should be located at "<!>/example" by default.'),K$=Y("<p>If it's a URL, then just put the entire URL."),V$=Y("<p><a target=_blank href=https://gitgud.io/darkofocdarko/fort-of-chains/-/blob/master/docs/modding.md>How to create a new mod"),Y$=Y('<p>Alternatively, you can click the following button and browse to the "mods" folder inside the game directory, to automatically detect and install (but not enable) all mods found there: '),J$=Y("<div class=helpcard><div>Enter the mod filename or url: </div><div>"),W$=Y("<div><p>  </p><p><span>Dev mode"),Q$=Y("<div class=ModsManagement-cards>"),Z$=Y("<div>Loading mods info..."),X$=Y("<progress>"),eO=Y("<p><small>No mods installed"),GM=Y("<div>"),tO=Y("<span> (unpacked)"),aO=Y("<span><b></b> (<b></b>) by <i>"),iO=Y("<div><small>"),rO=Y("<div><ul>"),sO=Y("<div><div><header></header><div><div><small class=lightgraytext>Located at: <span></span></small></div></div></div><div><div>"),nO=Y("<li>");const oO=o(()=>{const[i,e]=Se(!!Qe.reloading_promise),[t,a]=Se(!1),[r,s]=Se(""),[n,l]=Se(setup.globalsettings.mods_installed||[]),[u,h]=Se(Qe.mods),[p,c]=Se(State.variables.mods||[]);function d(){h(Qe.mods),e(!1)}o(d,"onModsReloadFinished"),Qe.reloading_promise&&Qe.reloading_promise.then(d);function g(){Qe.reloading_promise||(e(!0),Qe.reloadMods().then(d))}o(g,"reloadModsInfo");function m(_){let T=_.trim();const E=`${Fa}/`;if(T.startsWith(E)&&(T=T.substring(E.length)),T){T.endsWith(gf)||(T+=gf),T.endsWith("/")&&(T=T.substring(0,T.length-1));const x=setup.globalsettings.mods_installed||[];x.includes(T)||(setup.globalsettings.mods_installed=[...x,T],l(setup.globalsettings.mods_installed),g())}}o(m,"installMod");function f(_){const T=setup.globalsettings.mods_installed||[];setup.globalsettings.mods_installed=T.filter(E=>E!==_),l(setup.globalsettings.mods_installed)}o(f,"uninstallMod");function b(){return $R().then(_=>{if(_)return ab(_.entries()).then(T=>{const E=[...setup.globalsettings.mods_installed||[]];T.some(([x,W])=>W.kind==="file"&&W.name.endsWith(gf)&&!E.includes(W.name)?(E.push(W.name),!0):!1)&&(setup.globalsettings.mods_installed=E,l(E),g())})})}o(b,"autoinstallMods");function v(){return OR().then(_=>{if(_)return _.getFileHandle(By).then(T=>{const E=_.name;Qe.mods_unpacked[E]=_;const x=[...setup.globalsettings.mods_installed||[]];x.includes(E)||(x.push(E),setup.globalsettings.mods_installed=x,l(x)),g()}).catch(()=>alert(`Directory ${_.name} does not contain a "${By}" file`))})}o(v,"installUnpackedMod");function S(_){const T=p();T.includes(_)?State.variables.mods=T.filter(E=>E!==_):State.variables.mods=[...T,_],Qe.reapplyMods(),c(State.variables.mods||[])}o(S,"toggleMod");function M(_){const{data:T,errors:E,...x}=_;return`FocMod(${JSON.stringify(x)})`}o(M,"generatePackedModCode");function k(_){const T=Qe.mods[_],E=Qe.mods_unpacked[_];if(T){const x=`${(E==null?void 0:E.name)??T.key??"unnamed_mod"}${gf}`;return CR(x,M(T)).then(W=>{W!==null&&alert(`Succesfully save packed mod as "${x}"`)},W=>{alert(`Failed to save the packed mod: ${String(W)}`)})}}return o(k,"packMod"),[z$(),F$(),(()=>{var _=W$(),T=_.firstChild,E=T.firstChild,x=T.nextSibling;return x.firstChild,_.style.setProperty("display","grid"),_.style.setProperty("grid-template-columns","1fr auto"),_.style.setProperty("align-items","flex-start"),_.style.setProperty("gap","1em"),L(T,B(nk,{label:"(install new mod)",get children(){var W=J$(),X=W.firstChild;X.firstChild;var se=X.nextSibling;return L(X,B($A,{get children(){return[(()=>{var ae=j$(),V=ae.firstChild,re=V.nextSibling,H=re.nextSibling,G=H.nextSibling,J=G.nextSibling,ce=J.nextSibling;return ce.nextSibling,L(ae,Fa,re),L(ae,Fa,G),L(ae,Fa,ce),ae})(),K$(),V$()]}}),null),L(se,B(OA,{get value(){return r()},onChange:o(ae=>s(ae),"onChange")}),null),L(se,B(yf,{onClick:o(()=>m(r()),"onClick"),children:"Add"}),null),L(W,B(fe,{get when(){return setup.FileUtil.supportsDirectoryPicker()},get children(){var ae=Y$();return ae.firstChild,L(ae,B(yf,{onClick:o(()=>b(),"onClick"),children:"Select mods folder..."}),null),ae}}),null),W}}),E),L(T,B(fe,{get when(){return t()},get children(){return["  ",B(kf,{onClick:o(()=>v(),"onClick"),children:"(load unpacked mod)"})]}}),E),L(T,B(kf,{onClick:o(()=>g(),"onClick"),children:"(reload)"}),null),x.style.setProperty("display","grid"),x.style.setProperty("grid-template-columns","1fr auto"),x.style.setProperty("align-items","center"),x.style.setProperty("gap","0.5em"),L(x,B(ok,{get value(){return t()},onChange:o(W=>a(W),"onChange")}),null),_})(),B(fe,{get when(){return!i()},get fallback(){return[Z$(),X$()]},get children(){var _=Q$();return L(_,B(Vt,{get each(){return n()},get fallback(){return eO()},children:o(T=>{const E=o(()=>p().includes(T),"isActive"),x=o(()=>u()[T],"mod"),W=o(()=>{var V,re;return!((re=(V=x())==null?void 0:V.errors)!=null&&re.length)},"isOk"),X=o(()=>!T.includes("/")&&!T.includes("."),"isUnpacked"),se=Fe(()=>{var re;const V=(re=x())==null?void 0:re.files;return V!=null&&V["icon.svg"]?"data:image/svg+xml;base64,"+btoa(V["icon.svg"]):V!=null&&V["icon.png"]?"data:image/png;base64,"+btoa(V["icon.png"]):null}),ae=Fe(()=>{var H;const V={quests:{n:0,label:["quests","quest"]},opportunities:{n:0,label:["opportunities","opportunity"]},events:{n:0,label:["events","event"]},interactions:{n:0,label:["interactions","interaction"]},activities:{n:0,label:["activities","activity"]},passages:{n:0,label:["passages","passage"]}},re=(H=x())==null?void 0:H.data;if(re){V.passages.n=Object.keys(re.passages).length;for(const[G,J]of Object.entries(re.setup))J instanceof setup.QuestTemplate&&(V.quests.n+=1),J instanceof setup.OpportunityTemplate&&(V.opportunities.n+=1),J instanceof setup.Event&&(V.events.n+=1),J instanceof setup.Interaction&&(V.interactions.n+=1),J instanceof setup.ActivityTemplate&&(V.activities.n+=1)}return Object.values(V).filter(G=>G.n>0)});return(()=>{var V=sO(),re=V.firstChild,H=re.firstChild,G=H.nextSibling,J=G.firstChild,ce=J.firstChild,Re=ce.firstChild,Ae=Re.nextSibling,ve=re.nextSibling,Ee=ve.firstChild;return L(H,B(fe,{get when(){return x()},get fallback(){return _i.dangerlite("Unable to load mod")},get children(){return[(()=>{var ue=GM();return _e(ie=>{var ne="ModsManagement-modicon"+(se()?"":" default"),ye=se()?{"background-image":`url('${se()}')`}:void 0;return ne!==ie.e&&lt(ue,ie.e=ne),ie.t=Ow(ue,ye,ie.t),ie},{e:void 0,t:void 0}),ue})(),(()=>{var ue=aO(),ie=ue.firstChild,ne=ie.nextSibling,ye=ne.nextSibling,Ne=ye.nextSibling,C=Ne.nextSibling;return L(ie,()=>{var R;return((R=x())==null?void 0:R.name)||"Unnamed mod"}),L(ye,()=>{var R;return((R=x())==null?void 0:R.version)||"unknown version"}),L(C,()=>{var R;return((R=x())==null?void 0:R.author)||"unknown"}),L(ue,B(fe,{get when(){return X()},get children(){var R=tO();return R.style.setProperty("margin-left","0.5em"),R.style.setProperty("color","khaki"),R}}),null),ue})()]}})),G.style.setProperty("padding-left","1em"),L(G,B(fe,{get when(){return x()},get children(){return[(()=>{var ue=GM();return L(ue,()=>{var ie;return((ie=x())==null?void 0:ie.description)||"(no description)"}),ue})(),(()=>{var ue=iO(),ie=ue.firstChild;return L(ie,()=>"Includes: "+(ae().map(ne=>`${ne.n} ${ne.label[ne.n===1?1:0]}`).join("  ")||"unknown")),ue})()]}}),J),L(G,B(fe,{get when(){var ue,ie;return(ie=(ue=x())==null?void 0:ue.errors)==null?void 0:ie.length},get children(){var ue=rO(),ie=ue.firstChild;return L(ue,()=>{var ne,ye,Ne,C;return _i.danger(`${((ye=(ne=x())==null?void 0:ne.errors)==null?void 0:ye.length)??0} ${((C=(Ne=x())==null?void 0:Ne.errors)==null?void 0:C.length)===1?"error":"errors"} loading the mod:`)},ie),L(ie,B(Vt,{get each(){var ne;return((ne=x())==null?void 0:ne.errors)??[]},children:o(ne=>(()=>{var ye=nO();return L(ye,()=>_i.danger(ne??"unknown error")),ye})(),"children")})),ue}}),J),Ae.style.setProperty("color","darkkhaki"),L(Ae,()=>T.includes("/")?T:`${Fa}/${T}`),Ee.style.setProperty("margin-bottom","0.5em"),L(Ee,B(ok,{color:"green",get value(){return E()},onChange:o(ue=>S(T),"onChange"),get disabled(){return!W()}})),L(ve,B(kf,{onClick:o(()=>f(T),"onClick"),children:"(uninstall)"}),null),L(ve,B(fe,{get when(){return Fe(()=>!!t())()&&X()},get children(){return B(kf,{onClick:o(()=>k(T),"onClick"),children:"(pack mod)"})}}),null),_e(()=>lt(V,p().includes(T)?"card activeimagepackcard":"card inactiveimagepackcard")),V})()},"children")})),_}})]},"ModsManagement");var lO=Y("<div><b>Note:</b> image pack settings are shared by all saves"),uO=Y("<p><small>The list below only shows image packs that comes shipped with the game, and image packs that have been added. If you have a custom image pack and it is <!>, you have to manually add it by clicking (add image pack)."),hO=Y('<p>If the image pack is not a URL, then put the image pack in the "imagepack" directory. For example, you it should look like "imagepack/myimagepack". Then put "myimagepack" here. As an example, try putting "example" below to load the example imagepack, which should be located at "imagepack/example" by default.'),pO=Y("<p>If it's a URL, then just put the entire URL."),cO=Y("<p><a target=_blank href=https://gitgud.io/darkofocdarko/fort-of-chains/-/blob/master/docs/images.md#creating-your-own-image-pack>How to create a new image pack"),dO=Y('<p>Alternatively, you can click the following button and browse to the "imagepacks" folder inside the game directory, to automatically detect and add all image packs found there: '),gO=Y("<div class=helpcard><div>Enter the image pack name or url: </div><p>"),mO=Y("<span> Reloading image packs  <progress>"),fO=Y("<div>"),bO=Y("<br>"),yO=Y("<div class=ImagepacksManagement-cards>"),kO=Y("<p><small>No packs installed"),vO=Y("<span><b></b> by <i>"),SO=Y("<div class=lightgraytext>"),TO=Y("<div><div><header></header><div><div><small class=lightgraytext>Located at: <span></span></small></div></div></div><div><div><span class=lightgraytext> images");const qM=o(()=>{const[i,e]=Se(""),[t,a]=Se(!!setup.UnitImage.loading_promise),[r,s]=Se(setup.globalsettings.imagepacks||[]),n=o(()=>setup.UnitImage.DEFAULT_IMAGE_PACKS_SHOWN.concat(r().filter(p=>!setup.UnitImage.DEFAULT_IMAGE_PACKS_SHOWN.includes(p))),"getAllPacks");function l(){s(setup.globalsettings.imagepacks||[]),a(!1)}o(l,"onImagepacksReloadFinished");function u(){a(!0);const p=setup.UnitImage.initializeImageTable();setup.UnitImage.loading_promise=p,p.then(l)}o(u,"reloadImagepacks");function h(p,c){c?setup.globalsettings.imagepacks=(setup.globalsettings.imagepacks||[]).concat([p]):setup.globalsettings.imagepacks=(setup.globalsettings.imagepacks||[]).filter(d=>d!==p),u()}return o(h,"setImagePackEnabled"),setup.UnitImage.loading_promise&&setup.UnitImage.loading_promise.then(l),[lO(),(()=>{var p=uO(),c=p.firstChild,d=c.firstChild,g=d.nextSibling;return g.nextSibling,L(c,()=>_i.danger("not installed"),g),p})(),(()=>{var p=fO();return p.style.setProperty("display","grid"),p.style.setProperty("grid-template-columns","1fr auto"),L(p,B(nk,{label:"(add image pack)",get children(){var c=gO(),d=c.firstChild;d.firstChild;var g=d.nextSibling;return L(d,B($A,{get children(){return[hO(),pO(),cO()]}}),null),L(g,B(OA,{get value(){return i()},onChange:o(m=>e(m),"onChange")}),null),L(g,B(yf,{onClick:o(()=>{let m=i().trim();m&&(setup.isAbsoluteUrl(m)||(m=`${setup.UnitImage.IMAGEPACK_DIR_NAME}/${m}`),setup.globalsettings.imagepacks=[...setup.globalsettings.imagepacks||[],m]),u()},"onClick"),children:"Add"}),null),L(c,B(fe,{get when(){return setup.FileUtil.supportsDirectoryPicker()},get children(){var m=dO();return m.firstChild,L(m,B(yf,{onClick:o(()=>{setup.FileUtil.autodetectImagePacks().then(()=>setup.DOM.Nav.goto())},"onClick"),children:"Select imagepacks folder..."}),null),m}}),null),c}}),null),L(p,B(fe,{get when(){return t()},get children(){return mO()}}),null),p})(),bO(),(()=>{var p=yO();return L(p,B(Vt,{get each(){return n()},get fallback(){return kO()},children:o(c=>{const d=o(()=>r().includes(c),"isActive"),g=o(()=>setup.UnitImage.getImagePackMetadata(c),"meta");return(()=>{var m=TO(),f=m.firstChild,b=f.firstChild,v=b.nextSibling,S=v.firstChild,M=S.firstChild,k=M.firstChild,_=k.nextSibling,T=f.nextSibling,E=T.firstChild,x=E.firstChild,W=x.firstChild;return L(b,B(fe,{get when(){return g()},get fallback(){return _i.dangerlite("Unable to load image pack")},get children(){var X=vO(),se=X.firstChild,ae=se.nextSibling,V=ae.nextSibling;return L(se,()=>{var re;return((re=g())==null?void 0:re.title)||"Unnamed pack"}),L(V,()=>{var re;return((re=g())==null?void 0:re.author)||"unknown"}),X}})),v.style.setProperty("padding-left","1em"),L(v,B(fe,{get when(){return g()},get children(){var X=SO();return L(X,()=>{var se;return((se=g())==null?void 0:se.description)||""}),X}}),S),_.style.setProperty("color","darkkhaki"),L(_,c),L(T,B(fe,{get when(){return!setup.UnitImage.DEFAULT_IMAGE_PACKS_SHOWN.includes(c)},get fallback(){return B(ok,{color:"green",get value(){return d()},onChange:o(X=>h(c,X),"onChange"),get disabled(){return t()}})},get children(){return B(kf,{onClick:o(()=>h(c,!1),"onClick"),get disabled(){return t()},children:"(remove)"})}}),E),L(x,()=>{var X;return(X=g())==null?void 0:X.numimages},W),_e(()=>lt(m,r().includes(c)?"card activeimagepackcard":"card inactiveimagepackcard")),m})()},"children")})),p})()]},"ImagepacksManagement");setup.DOM.Menu.Settings.imagepacks=function(){return setup.DOM.renderComponent(qM)};var _O=Y("<header><h2></h2><div>"),AO=Y("<div>");const Pk={imagepacks:{label:"Image Packs"},mods:{label:"Mods"}},MO=o(()=>{const[i,e]=Se("imagepacks");return[(()=>{var t=_O(),a=t.firstChild,r=a.nextSibling;return L(a,()=>Pk[i()].label),L(r,B(Vt,{get each(){return Object.keys(Pk)},children:o(s=>B(yf,{onClick:o(()=>e(s),"onClick"),get active(){return i()===s},get children(){return Pk[s].label}}),"children")})),t})(),(()=>{var t=AO();return L(t,B(Iw,{get children(){return[B(s_,{get when(){return i()==="imagepacks"},get children(){return B(qM,{})}}),B(s_,{get when(){return i()==="mods"},get children(){return B(oO,{})}})]}})),t})()]},"GlobalSettingsEdit");setup.DOM.Menu.Settings.opendialog=function(){const i=Dialog.setup("Global Settings","dialog-fullwidth dialog-fullheight dialog-globalsettings");setup.DOM.renderComponentInto(i,MO),Dialog.open()},setup.DOM.Menu.dev_content_generated_begin=function(){const i=[],e=State.variables.devtooltype;return i.push(html`
    <div>
      Your new ${e} is ready!
      Your game has been ${setup.DOM.Text.successlite("auto-saved")}.
      It is advisable to also ${setup.DOM.Text.successlite("manually save")}
      your game now, perhaps to the disk, so you don't lose your progress just in case.
    </div>
    <div>
      Click on the (Test your ${e}) link below to test your ${e}.
    </div>
  `),setup.DOM.create("div",{},i)},setup.DOM.Menu.dev_content_generated_middle=function(){const i=[],e=State.variables.devtooltype,t=`project/twee/${e}/[yourname]/${State.variables.qfilename}`;return i.push(html`
    <div>
      When you are happy with your ${e}
      and no error appeared in the (Test your ${e}) above,
      you are ready to add the ${e} into the game!
      There are two options for you.
      The first option is to copy paste all the code below to a file,
      then post the file in the #your-contribution channel inside our
      ${setup.DOM.Nav.url("Discord","https://discord.com/invite/PTD9D7mZyg")}
      server.
      A contributor will put it in the game code.
      (If you use Discord, you can tell us your discord name too in the submission
      so we can give you a Discord role,
      which among other things allows you to bypass the seven days wait required there.)
      The second option is to add it to the code directly, and it's also very easy!
      ${setup.DOM.Util.message("Click for guide on how to add it to the game code yourself",html`
        <div class='helpcard'>
      <div>
        First, go to
        ${setup.DOM.Nav.url("https://gitgud.io/darkofocdarko/fort-of-chains","https://gitgud.io/darkofocdarko/fort-of-chains")}
        and download the repository from there.
        Next, create the following file:
        ${setup.DOM.Text.success(t)}
        and copy paste all the code later below to that file.
        (Replace [yourname] with your name. You can use any text editor like
        ${setup.DOM.Nav.url("Notepad++","https://notepad-plus-plus.org/downloads/")}
        to create the file.
        You may need to create a new directory here.
        Make sure the file ends with ".twee", instead of ".txt" or any other extension.)
        ${setup.DOM.Nav.url("(Example)","https://gitgud.io/darkofocdarko/fort-of-chains/-/blob/master/project/twee/quest/Dporentel/goblin_resque.twee")}
        Finally, compile the game, which is really easy! See
        ${setup.DOM.Nav.url("compilation instructions","https://gitgud.io/darkofocdarko/fort-of-chains#compiling-instructions")}
        for compiling instructions.
        </div>

        <br/>

        <div>
        That's all.
        Your ${e} is now permanently in the game (in your copy of the game that is).
        You can
        test your ${e} after you compile by going to the Debug Start, then go to
        Settings, then to "Test ${e}".
        Once that works, all you need to do is
        ${setup.DOM.Nav.url("send a merge request","https://gitgud.io/darkofocdarko/fort-of-chains/-/blob/master/docs/mergerequest.md")}
        (Again, you don't need to install anything to do so.)
      </div>
    </div>
        `)}
    </div>
    <br/>
    <div>
    Copy all the code below to either to a file for submitting via Discord,
    or, if you're planning to
      ${setup.DOM.Nav.url("test it and compile your game","https://gitgud.io/darkofocdarko/fort-of-chains#compiling-instructions")},
    to ${setup.DOM.Text.success(t)}:
    <span id='copy-to-clipboard-button'>
    ${setup.DOM.Nav.button("Copy to clipboard",()=>{window.getSelection().selectAllChildren(document.getElementById("devtoolcoderesult")),document.execCommand("copy"),$("#copy-to-clipboard-button button").text("Copied!")})}
    </span>
    </div>
  `),setup.DOM.create("div",{},i)},setup.DOM.Menu.devmainmenu=function(){const i=[];return i.push(html`
    <div>
      ${setup.DOM.Nav.link("Settings",()=>{setup.Dialogs.open({title:"Settings",passage:"SettingsBase"})})}
    </div>
  `),setup.DOM.create("span",{},i)};function Qt(){setup.DevToolHelper.saveScrollPos(),setup.runSugarCubeCommand('<<goto "ActivityGen">>')}o(Qt,"refreshPage");function zM(i,e){let t;e?t=i.getCriticalTraits():t=i.getDisasterTraits();const a=[];return e?a.push(html`
        <b>List of ${setup.DOM.Text.successlite("preferred")} traits</b>:
        ${setup.DOM.Util.help(html`
            If the primary unit have these traits then they will have a greater chance of doing this activity over others.
          `)}
    `):a.push(html`
        <b>List of ${setup.DOM.Text.dangerlite("dispreferred")} traits</b>:
        ${setup.DOM.Util.help(html`
            If the primary unit have these traits then they will have a smaller chance of doing this activity over others.
          `)}
    `),a.push(setup.DOM.Nav.link("(change)",()=>{setup.DevToolHelper.pickTraits(null,t).then(r=>{let s;e?s="critical_trait_keys":s="disaster_trait_keys",i[s]=r.map(n=>n.key),Qt()})})),html`
    <div class='${e?"lorecard card":"opportunitycard"}'>
      ${setup.DOM.create("div",{},a)}
      <div>
        ${t.map(r=>r.rep()).join("")}
        ${t.length?"":html`<small>No traits selected</small>`}
      </div>
    </div>
  `}o(zM,"traitFragment");function wO(i,e,t){const a=[];let r=null;e<t.length-1&&(r=setup.DOM.Nav.link("(move down)",()=>{t.splice(e,0,t.splice(e+1,1)[0]),Qt()}));let s=null;e>0&&(s=setup.DOM.Nav.link("(move up)",()=>{t.splice(e-1,0,t.splice(e,1)[0]),Qt()}));let n=null;t.length>=2&&(n=setup.DOM.Nav.link(`(delete dialogue sequence #${e+1})`,()=>{t.splice(e,1),Qt()})),a.push(html`
    <div>
      Dialogue sequence <b>#${e+1}</b> by actor ${twee`<<devactor '$dtquest.dialogues[${e}].actor'>>`}
      ${s}
      ${r}
      ${n}
      ${setup.DOM.Util.help(html`Click to change the actor`)}
    </div>
  `);for(const l in i.texts){const u=[];let h=null;const p=i.texts[l];if(p.length>=2){const c=[];for(let d=0;d<p.length;++d)c.push(setup.DOM.Nav.link(`(remove alternate text #${d+1})`,()=>{i.texts[l].splice(d,1),Qt()}));h=setup.DOM.create("span",{},c)}u.push(html`
      <div>
        Dialogues for ${setup.DOM.Text.successlite(setup.capitalize(l))} units:
        ${setup.DOM.Nav.link("(Add alternate text)",()=>{i.texts[l].push(""),Qt()})}
      ${h}
      ${setup.DOM.Util.help(html`
          If a dialogue has multiple options, one of these will be chosen at random.
        `)}
      </div>
    `);for(let c=0;c<p.length;++c){const d=`$dtquest.dialogues[${e}].texts.${l}[${c}]`;u.push(twee`<<codeeditor '${d}' ${d}>>`)}a.push(html`
      ${setup.DOM.create("div",{},u)}
      <hr/>
    `)}return setup.DOM.create("fragments",{class:"dialoguecard card"},a)}o(wO,"dialogueEditFragment");function RO(i){const e=[];e.push(html`
    <div>
      List of allowed rooms:
      ${setup.DOM.Util.help(html`This activity will only take place in one of these rooms`)}
      ${setup.DOM.Nav.move("(add new)","AGChooseRoom")}
    </div>
  `);function t(a){return()=>{i.room_template_keys=i.room_template_keys.filter(r=>r!=a.key),Qt()}}o(t,"removeRoomCallback");for(const a of i.getRoomTemplates())e.push(html`
      <div>
        ${a.rep()}
        ${setup.DOM.Nav.link("(remove)",t(a))}
      </div>
    `);return setup.DOM.create("div",{class:"roominstancecard card"},e)}o(RO,"roomSelectFragment"),setup.DOM.Menu.devtoolactivity=function(i){const e=[];e.push(zM(i,!0)),e.push(zM(i,!1)),e.push(RO(i)),e.push(html`<hr/>`),e.push(html`<div>
    Write your activity dialogues below. You can either
    have different dialogue per personality, or you can
    ${setup.DOM.Util.message("use the same dialogue for all personalities",html`<div class='helpcard'>
    Simply fill out only the "Friendly" dialogue and leave the rest completely blank to achieve this effect.
    </div>`)}
  </div>`);const t=i.getDialogues();for(let a=0;a<t.length;++a)e.push(wO(t[a],a,t));return e.push(html`
    <div>
      ${setup.DOM.Nav.link("(add new dialogue sequence)",()=>{i.dialogues.push(setup.DialogueHelper.createEmptyDialogue(t[t.length-1].actor)),Qt()})}
    </div> 
  `),setup.DOM.create("div",{},e)},setup.DOM.Menu.devtoolactivityselectroom=function(i){const e=[];e.push(html`
    <p>
      Choose a room:
    </p>
  `);const t=i.getRoomTemplates(),a=Object.values(setup.roomtemplate).filter(r=>!t.includes(r));return a.sort((r,s)=>r.getName().localeCompare(s.getName())),e.push(setup.DOM.Util.filterAll({menu:"roomtemplate",filter_objects:a,display_callback:o(r=>{let s;return State.variables.menufilter.get("roomtemplate","display")=="compact"?s=setup.DOM.Card.roomtemplatecompact(r,!0):s=setup.DOM.Card.roomtemplate(r,!0),html`
        <div>
          ${r.rep()} ${setup.DOM.Nav.button("Select",()=>{i.room_template_keys.push(r.key),setup.runSugarCubeCommand('<<goto "ActivityGen">>')})}
          <div>
            ${s}
          </div>
        </div>
      `},"display_callback")})),setup.DOM.create("div",{},e)},setup.DOM.Menu.devtoolcheckall=function(){const i={};for(const t of Object.values(setup.questtemplate)){i[`Quest Description of ${t.key}`]=Story.get(t.getDescriptionPassage()).text;for(let a=0;a<setup.QUEST_OUTCOMES.length;++a){const r=t.getOutcomes();a>0&&r[a][0]==r[a-1][0]||(i[`Outcome ${setup.QUEST_OUTCOMES[a]} of ${t.key}`]=Story.get(r[a][0]).text)}}for(const t of Object.values(setup.opportunitytemplate)){i[`Opportunity Description of ${t.key}`]=Story.get(t.getDescriptionPassage()).text;const a=t.getOptions();for(let r=0;r<a.length;++r){const s=a[r];i[`Title of option #${r+1} of ${t.key}`]=Story.get(s.description_passage).text;const n=s.outcome_passage;n&&(i[`Text of option #${r+1} of ${t.key}`]=Story.get(n).text)}}for(const t of Object.values(setup.event))i[`Event text of ${t.key}`]=Story.get(t.getPassage()).text;for(const t of Object.values(setup.interaction))i[`Interaction text of ${t.key}`]=Story.get(t.getPassage()).text;for(const t of Object.values(setup.activitytemplate)){const a=t.getDialogues();for(let r=0;r<a.length;++r)for(const s in a[r].texts){const n=a[r].texts[s];for(let l=0;l<n.length;++l)i[`Dialogue variant ${l+1} of the ${r+1}-th dialogue of activity ${t.key}`]=n[l]}}const e=S_(i);Ly({error_details:e})},setup.DOM.Menu.prologueMakePlayer=function(i){const e=State.variables.unitimage.getImagePath(i);State.variables.unitimage.deleteUnit(i),delete State.variables.unit[i.key],i.key="player",State.variables.unit.player=i,State.variables.unitimage.setImage(i,e),setup.qc.AddTitle("unit",setup.title.leader).apply(setup.costUnitHelper(i)),State.variables.company.player.addUnit(i,setup.job.slaver),State.variables.notification.popAll()};function EO(i){return()=>{if(i){const e=State.variables.unit.player,t=i.getTraitGroup();let a=null;t&&!t.isOrdered()&&(a=e.getTraitFromTraitGroup(t)),a?e.removeTraitExact(a):e.addTrait(i)}setup.runSugarCubeCommand("<<goto PrologueCompanyGenIntro>>")}}o(EO,"traitCallback"),setup.DOM.Menu.prologueNewGamePlusPCChange=function(){const i=[],e=State.variables.unit.player,a=["per","muscle","tough","face","height"].map(s=>setup.TraitHelper.getAllTraitsOfTags([s]));for(const s of[].concat.apply([],a)){if(e.isHasTrait(s))continue;const n=s.getTraitGroup();if(n&&n.isOrdered()&&n.getSmallestTrait()!=s&&n.getLargestTrait()!=s)continue;let l=null;n&&(l=e.getTraitFromTraitGroup(n));let u;s.getTags().includes("face")?s==setup.trait.face_beautiful?u="consulting a famous flesh-shaper to make your face looks easier on the eyes":u="getting scarred intentionally in a bid to make you look terrifying":s.getTags().includes("height")?s==setup.trait.height_giant?u="gulping down questionable potions in the hope of getting taller":u="munching down strange-colored mushrooms in the hope of getting shorter":u=setup.Text.Hobby.verb(e,s);let h=`gain ${s.rep()}`;if(n&&n.isOrdered()){const p=n.computeResultingTrait(e,s);p?h=`gain ${p.rep()}`:h=`lose ${l.rep()}`}else n&&!n.isOrdered()&&l&&(h=`lose ${l.rep()}`);i.push([s,h,u])}i.push([null,"no changes","doing absolutely nothing as you're already perfect"]);const r=i.map(s=>html`
    <div>
      ${setup.DOM.Nav.link(s[2],EO(s[0]))}
      (${s[1]})
    </div>
  `);return setup.DOM.create("div",{},r)};function Oi(){setup.DOM.Nav.goto()}o(Oi,"refresh"),setup.DOM.Menu.unitdebug=function(i){const e=[];e.push(html`
    <div>
    Change ${i.rep()}
      ${setup.DOM.Nav.link("(Done)",()=>{State.variables.devtooltype?setup.runSugarCubeCommand("<<devgotoreturn>>"):setup.DOM.Nav.gotoreturn()})}
    </div>
  `);const t={"Injure by one week":setup.qc.Injury("unit",1),"Heal by one week":setup.qc.Heal("unit",1),Corrupt:setup.qc.Corrupt("unit"),Purify:setup.qc.Purify("unit"),"Traumatize for 10 weeks":setup.qc.TraumatizeRandom("unit",10),"Boonize for 10 weeks":setup.qc.BoonizeRandom("unit",10),"Heal trauma for 10 weeks":setup.qc.TraumaHeal("unit",10),Bless:setup.qc.Blessing("unit",1),Curse:setup.qc.Blessing("unit",1,null,!0),"Level up":setup.qc.levelUp("unit"),"Gender swap":setup.qc.Function(()=>{const l=i.getSubrace().key+"_"+(i.getGender()==setup.trait.gender_male?"female":"male"),h=setup.unitpool[l].generateUnit();setup.qcImpl.Bodyswap.doBodySwap(i,h,!0),h.delete()})};function a(l){return()=>{t[l].apply(setup.costUnitHelper(i)),Oi()}}o(a,"callback");const r=[];for(const l in t)r.push(html`
      ${setup.DOM.Nav.link(`(${l})`,a(l))}
    `);e.push(setup.DOM.create("div",{},r)),e.push(html`
    <div>
      ${setup.DOM.Nav.link("(Add title)",()=>{setup.DevToolHelper.pickTitle().then(l=>{l&&(State.variables.titlelist.addTitle(i,l),Oi())})})}
      ${setup.DOM.Nav.link("(Remove title)",()=>{setup.DevToolHelper.pickTitle(State.variables.titlelist.getAllTitles(i)).then(l=>{l&&(State.variables.titlelist.removeTitle(i,l),Oi())})})}
    </div>
  `),e.push(setup.DOM.Menu.debugfriendship(i));let s=`$unit[${i.key}]`;i.isYou()&&(s="$unit.player"),e.push(html`
      <div>
        ${setup.DOM.Util.message("(Set skills)",()=>{const l=[];for(let u=0;u<setup.skill.length;++u)l.push(html`
                <div>
                  ${setup.skill[u].rep()}
                  ${twee`<<numberbox "${s}.skills[${u}]" ${i.skills[u]}>>`}
                </div>
              `);return setup.DOM.create("div",{class:"helpcard"},l)})}
      </div>
    `),e.push(html`
    <div>
      ${setup.DOM.Util.message("(Set name)",html`
        <div class='helpcard'>
          ${twee`<<textbox "_first_name" "${i.first_name}">>`}
          ${twee`<<textbox "_surname" "${i.surname}">>`}
          ${setup.DOM.Nav.button("Change",()=>{i.setName(State.temporary.first_name,State.temporary.surname),Oi()})}
        </div>
    `)}
    </div>
  `);const n=[{name:"level",field:"level",type:"numberbox"},{name:"weeks with company",field:"weeks_with_you",type:"numberbox"},{name:"origin",field:"origin",type:"textbox"}];for(const l of n)e.push(html`
      <div>
        ${setup.DOM.Util.message(`(Set ${l.name})`,html`
            <div class='helpcard'>
              ${twee`<<${l.type} "${s}.${l.field}" ${l.type=="textbox"?'"':""}${i[l.field]}${l.type=="textbox"?'"':""}>>`}
            </div>
          `)}
      </div>
    `);return e.push(html`
    <div>
      <div>
        <b>Remove trait</b>: 
      </div>
      ${setup.DOM.create("div",{},i.getRemovableTraits().map(l=>setup.DOM.Nav.link(l.rep(),()=>{i.removeTraitExact(l),Oi()})))}
    </div>
  `),e.push(html`
    <div>
      <div>
        <b>Add trait</b>:
        ${setup.DOM.Menu.traitpickersingle({raw_traits:Object.values(setup.trait).filter(l=>!l.getTags().includes("computed")),finish_callback:o(l=>{i.addTrait(l,null,!0),Oi()},"finish_callback")})}
      </div>
    </div>
  `),setup.DOM.create("div",{},e)};function xO(){for(const e of State.variables.company.player.getQuests())e.advanceQuestOneWeek();for(const e of Object.values(State.variables.market))e.advanceWeek();const i=[State.variables.slaveorderlist,State.variables.contactlist,State.variables.opportunitylist,setup.Interaction,State.variables.dutylist,State.variables.leave,State.variables.hospital,State.variables.trauma,State.variables.favor];for(const e of i)e.advanceWeek();return null}o(xO,"advanceWeekBeforeResolvingQuests");function DO(){const i=State.variables.company.player.expireQuests();return i.length?html`
      ${setup.DOM.Util.message(`${i.length} quests`,()=>html`
            <div class='helpcard'>
              ${i.map(e=>`<div>Quest ${e.rep()} expired.</div>`)}
            </div>
          `)}
      ${setup.DOM.Text.dangerlite("expired...")}
    `:null}o(DO,"expireQuests");function IO(){State.variables.questgen.generate(),State.variables.varstore.advanceWeek(),State.variables.calendar.advanceWeek();for(const e of Object.values(State.variables.unit))e.advanceWeek();const i=DO();return State.variables.unitimage.advanceWeek(),setup.MarketItem.advanceWeek(),State.variables.activitylist.advanceWeek(),State.variables.opportunitylist.autoAnswer(),i}o(IO,"advanceWeekAfterResolvingQuests");function $O(){const i=[];for(const t of State.variables.company.player.getUnits({job:setup.job.slaver})){const a=setup.BanterHelper.doBanter(t);a&&i.push(a)}let e;if(State.variables.fort.player.isHasBuilding(setup.buildingtemplate.moraleoffice)){const t="endweek-banter-div";e=setup.DOM.createRefreshable("div",{id:t},()=>{const a=[],r=!setup.globalsettings.endweek_hide_banters;if(a.push(html`
          <div>
            ${setup.DOM.Nav.link(r?"Hide Banters":"Show Banters",()=>{setup.globalsettings.endweek_hide_banters=!setup.globalsettings.endweek_hide_banters,setup.DOM.refresh(`#${t}`)})}
          </div>
        `),r&&i.length){for(const s of i)a.push(setup.DOM.create("div",{},setup.DOM.Card.banter(s)));a.push(html`<hr/>`)}return setup.DOM.create("div",{},a)})}else e=null;return State.variables.friendship.advanceWeek(),e}o($O,"showWeekendBanters");function OO(){const i=[],e=[];let t=0;for(;;){const a=State.variables.eventpool.getEventInstance();if(!a)break;if(t+=1,t>=500){console.log(`Error: too many quests generated. Last one: ${a.getName()}`);break}const r=CO(a,t);i.push(r.node),e.push(...r.notifications)}return{node:setup.DOM.create("div",{},i),notifications:e}}o(OO,"showEndweekEvents");function CO(i,e){const t=[];let a=[];a.push(html`
    An event occurred: ${setup.DOM.Util.namebold(i)}
  `);const r=Pe(i,i.getEvent().getPassage());State.variables.eventpool._finalizeEvent(i);const s=State.variables.notification.popAll(),n=`endweek_event_${e}`;a.push(html`
    ${setup.DOM.Nav.link("(toggle full event results)",()=>{$(`#${n}`).toggleClass("hiddendiv")})}
  `),t.push(setup.DOM.create("div",{},a)),a=[];let l="card textcard eventcard";if(State.variables.settings.hideeventdescription&&(l+=" hiddendiv"),a.push(html`
    <div>
      ${r}
    </div>
  `),s.length){const u=setup.DOM.Card.notifications(s);State.variables.settings.hidequestoutcome?a.push(html`
        <div>
          ${setup.DOM.Util.message("(Outcomes)",u)}
        </div>
      `):a.push(html`
        <div>
          ${u}
        </div>
      `)}return t.push(setup.DOM.create("div",{class:l,id:n},a)),{node:setup.DOM.create("div",{},t),notifications:s}}o(CO,"displayEndweekEvent");function PO(){const i=[],e=[];for(;;){const t=State.variables.company.player.getFinishedQuestIfAny();if(!t)break;const a=LO(t);i.push(a.node),e.push(...a.notifications)}return{node:setup.DOM.create("div",{},i),notifications:e}}o(PO,"showEndweekQuests");function LO(i){const e=[];let t=[];i.rollOutcome(),t.push(html`
    ${i.getTemplate().getDifficulty().rep()} ${setup.DOM.Util.namebold(i)}:
    ${setup.DOM.Util.outcome(i.getOutcome())}
  `),i.getOutcome()=="failure"?t.push(setup.DOM.Util.help(html`
        Failure can be beneficial. Your slavers learn much better from failures, and as a result
        they gain a large amount of experience from failures, which helps them level up faster.
      `)):i.getOutcome()=="disaster"&&t.push(setup.DOM.Util.help(html`
        While disaster outcomes usually entail some bad consequences, it also have its benefits.
        Slavers learn a huge amount from life-threatening experiences, and as a result they gain
        a massive amount of experience from disaster results.
        What does not kill you makes you stronger, after all.
      `)),t.push(html`
    by ${i.getTeam().rep()}.
  `);const a=i.getOutcomeObject()[0],r=`endweek_quest_${i.key}`,s=Pe(i,a);i.finalize();const n=State.variables.notification.popAll();t.push(html`
    ${setup.DOM.Nav.link("(toggle full quest results)",()=>{$(`#${r}`).toggleClass("hiddendiv")})}
  `),e.push(setup.DOM.create("div",{},t)),t=[];let l=`card textcard questcard${i.getOutcome()}`;if(State.variables.settings.hidequestdescription&&(l+=" hiddendiv"),l+=` ${i.getTemplate().getCardClass()}`,t.push(html`
    <div>
      ${s}
    </div>
  `),n.length){const u=setup.DOM.Card.notifications(n);State.variables.settings.hidequestoutcome?t.push(html`
        <div>
          ${setup.DOM.Util.message("(Outcomes)",u)}
        </div>
      `):t.push(html`
        <div>
          ${u}
        </div>
      `)}return e.push(setup.DOM.create("div",{class:l,id:r},t)),{node:setup.DOM.create("div",{},e),notifications:n}}o(LO,"displayEndweekQuest");function UO(){const i=State.variables.company.player.getTotalWages();return State.variables.company.player.substractMoney(i),setup.notify(`Paid ${setup.DOM.toString(setup.DOM.Util.money(i))} in wages`),null}o(UO,"payWages"),setup.DOM.Menu.weekend=function(){if(State.variables.gMenuVisible=!1,State.variables.calendar.getWeek()==1&&!State.variables.gDebug){if(State.variables.company.player.isCanDeployTeam())return setup.notify('You must assign a team to the "Establish Base" quest'),setup.DOM.Util.include("QuestHub")}else if(State.variables.calendar.getWeek()==2&&!State.variables.fort.player.isHasBuilding(setup.buildingtemplate.scouthut))return setup.notify(`You must build the ${setup.buildingtemplate.scouthut.rep()} to proceed`),setup.DOM.Util.include("QuestHub");return NO()};function Lk(){if(State.variables.settings.shouldAutosave(State.variables.calendar.getWeek())){const i=State.variables.company.player.getName(),e=State.variables.calendar.getWeek();setTimeout(()=>{SugarCube.Save.slots.save(7,`Autosave Wk ${e}: ${i}`)},0)}}o(Lk,"autoSave");function NO(){const i=[];i.push($O()),i.push(UO()),i.push(xO());const e=State.variables.notification.popAll(),t=PO();i.push(t.node),e.push(...t.notifications);const a=OO();i.push(a.node),e.push(...a.notifications),i.push(IO());let r;return State.variables.fort.player.isHasBuilding(setup.buildingtemplate.mailroom)&&State.variables.opportunitylist.getOpportunities().length?r="OpportunityList":r="QuestHub",State.variables.gPassage=r,Lk(),i.push(html`
    <div>
      ${setup.DOM.Nav.move("Continue",r)}
    </div>
  `),setup.DOM.Nav.topLeftNavigation(setup.DOM.Nav.move("Continue [space]",r)),e.push(...State.variables.notification.popAll()),e.length&&i.push(setup.DOM.Card.notifications(e)),setup.DOM.create("div",{},i)}o(NO,"doWeekend"),setup.DOM.Menu.gameinit=function(){return Lk(),State.variables.gDebug?(setup.DOM.Nav.goto("QuestHub"),null):(setup.DOM.Nav.topLeftNavigation(setup.DOM.Nav.move("Continue [space]","QuestHub")),html`
      <div>
        ${setup.DOM.Nav.button("Begin the game",()=>{},"QuestHub")}
      </div>
    `)},setup.DOM.Menu.debugComputeStats=function(){Lk(),ER()},setup.Text.Unit.Equipment.getEquipmentSetFallback=function(i){let e=i.getEquipmentSet();return e||setup.EquipmentSet.getDefaultEquipmentSet(i)},setup.Text.Unit.Equipment.getEquipmentAt=function(i,e){let t=setup.Text.Unit.Equipment.getEquipmentSetFallback(i);if(State.temporary.gSex&&State.temporary.gSex.isParticipant(i)){const r=State.temporary.gSex._getParticipant(i),s=r.temporary_equipment[e.key];if(s)return setup.equipment[s];if(r.displaced_equipment[e.key])return null}const a=t.getEquipmentAtSlot(e);return!a&&e==setup.equipmentslot.weapon?i.isSlave()?null:i.getDefaultWeapon():a},setup.Text.Unit.Equipment.getWeapon=function(i){return setup.Text.Unit.Equipment.getEquipmentAt(i,setup.equipmentslot.weapon)},setup.Text.Unit.Equipment.getWeaponRep=function(i){const e=setup.Text.Unit.Equipment.getWeapon(i);return e?e.rep():""},setup.Text.Unit.Equipment.getWeaponRepFull=function(i){const e=setup.Text.Unit.Equipment.getWeapon(i);if(e){let t=e.rep();const a=e.getTexts();return a!=null&&a.flavor&&(t=`${t}. ${a.flavor}`),setup.Text.replaceUnitMacros(t,{a:i})}else return""},setup.Text.Unit.Equipment.getAWeaponRep=function(i){const e=setup.Text.Unit.Equipment.getWeapon(i);return e?`${setup.ArticleOnly(e.getName())} ${e.rep()}`:""},setup.Text.Unit.Equipment.isNaked=function(i){return!setup.Text.Unit.Equipment.getEquipmentAt(i,setup.equipmentslot.torso)&&!setup.Text.Unit.Equipment.getEquipmentAt(i,setup.equipmentslot.legs)&&(!setup.Text.Unit.Equipment.getEquipmentAt(i,setup.equipmentslot.rear)||!setup.Text.Unit.Equipment.getEquipmentAt(i,setup.equipmentslot.rear).getTags().includes("underwear"))},setup.Text.Unit.Equipment.isFaceCovered=function(i){let e=setup.Text.Unit.Equipment.getEquipmentAt(i,setup.equipmentslot.head);return e&&e.getTags().includes("coverface")},setup.Text.Unit.Equipment.isChestCovered=function(i){let e=setup.Text.Unit.Equipment.getEquipmentAt(i,setup.equipmentslot.torso);return e&&e.getSluttiness()<setup.EQUIPMENT_SLUTTY_COVERED_THRESHOLD},setup.Text.Unit.Equipment.isGenitalCovered=function(i){let e=setup.Text.Unit.Equipment.getEquipmentAt(i,setup.equipmentslot.legs);return!!(e&&e.getSluttiness()<setup.EQUIPMENT_SLUTTY_COVERED_THRESHOLD||(e=setup.Text.Unit.Equipment.getEquipmentAt(i,setup.equipmentslot.rear),e&&e.getSluttiness()<setup.EQUIPMENT_SLUTTY_COVERED_THRESHOLD))};function HO(i,e,t){let a=setup.DOM.PronounYou.their(i),r=`<<Their "${i.key}">>`,s=`<<they "${i.key}">>`,n=`<<They "${i.key}">>`,l=`<<them "${i.key}">>`,u=t.rep(),h=t.getTags();if(h.includes("hat"))return` on which ${s} wear ${u}`;if(h.includes("tiara"))return` above which ${s} wear a beautiful ${u}`;if(h.includes("helmet"))return h.includes("coverface")?`. It is entirely protected with ${u}`:` on which ${s} wear ${u}`;if(h.includes("hood"))return` which is shrouded by ${u}`;if(h.includes("headcover")){let m=` which is entirely covered by ${u}`;return h.includes("pet")&&(m+=" complete with leather pet ears and muzzle"),h.includes("pony")&&(m+=" complete with leather pony ears and muzzle"),m}else if(e==setup.equipmentslot.head)return` on which ${s} wear ${u}`;if(h.includes("cape"))return` which is adorned by a ${u} which flutters in the wind like some hero of legend`;if(h.includes("necklace"))return` which is adorned by ${a} ${u}`;if(h.includes("choker"))return`. ${n} wear the ${u} around ${a} neck`;if(h.includes("bellcollar"))return" around which is attached a collar complete with a cow-bell, indicating them as nothing more than just livestock";if(h.includes("collar"))return`. ${n} wear ${u} around ${a} neck signifying ${l} as the property and pet of ${a} betters`;if(e==setup.equipmentslot.neck)return` around which ${s} wear ${u}`;if(e==setup.equipmentslot.weapon)return"";if(e==setup.equipmentslot.feet&&h.includes("hooves"))return`. Their feet are equipped with ${u} making it difficult if not impossible for ${l} to use ${a} feet to walk`;if(e==setup.equipmentslot.feet)return` wearing ${u}`;if(h.includes("spectacles"))return` with a pair of ${u}`;if(h.includes("eyemask"))return` which is obscured by ${a} ${u}`;if(h.includes("ponyeyecover"))return`. On both sides of ${a} eyes a piece of ${u} jutted out, forcing ${l} to only be able to see forward`;if(h.includes("blindfold"))return` which is entirely covered by ${u}, rendering ${l} effectively blind`;if(e==setup.equipmentslot.eyes)return` with a ${u}`;if(h.includes("mouthcover"))return` which is covered by ${a} ${u}`;if(h.includes("plaguemask"))return` which is hidden by ${a} ${u}`;if(h.includes("bitgag"))return` which is gagged uncomfortably by ${u} in the backs of ${a} mouth, preventing ${l} from using ${a} mouth for anything but drooling`;if(h.includes("dildogag"))return` which is forced open by ${u} which is inserted deep reaching into ${a} throat`;if(h.includes("gag"))return` in which ${u} was shoved in preventing ${l} from emitting any sound besides guttural moans`;if(h.includes("nippleclamps"))return`. ${r} nipples are painfully clamped with ${u}`;if(h.includes("nipplechains"))return`. ${r} nipples are painfully clamped with ${u} which are connected with a length of chain`;if(e==setup.equipmentslot.nipple)return` which is adorned by ${u}`;if(h.includes("tailplug")){if(h.includes("pony"))return` which is stuffed with ${u}. A pony-like tail jutted out of ${a} rear from the toy, which shakes and sways with ${a} every move`;if(h.includes("pet"))return` which is stuffed with ${u}. A pet-like tail jutted out of ${a} rear from the toy, which shakes and sways with ${a} every move`;if(e==setup.equipmentslot.rear&&h.includes("dildo")&&h.includes("vegetable"))return` which is stuffed with ${u}, its cold and fresh exterior intensely stimulating ${l}`;if(e==setup.equipmentslot.rear&&h.includes("dildo"))return` which is stuffed with ${u}, giving ${l} constant stimulation`}if(h.includes("buttplug"))return` which is stuffed with ${u}, giving constant pressure to ${a} anus`;if(e==setup.equipmentslot.genital&&h.includes("dick")&&h.includes("chastity"))return`. A ${u} is installed on ${a} dick, preventing it from ever becoming erect`;if(h.includes("dickplug"))return`. ${u} is painfully inserted into the urethra plugging ${a} dick and preventing the cum from ever coming out`;if(e==setup.equipmentslot.genital&&h.includes("vagina")&&h.includes("chastity"))return`. A ${u} is installed covering their vagina, preventing ${l} from climaxing`;if(e==setup.equipmentslot.genital&&h.includes("dildo")&&h.includes("vegetable"))return` which is stuffed with ${u}, its cold and fresh exterior stimulating ${a} vagina`;if(e==setup.equipmentslot.genital&&h.includes("dildo"))return` which is stuffed with ${u}, giving constant stimulation to ${a} vagina`;if(h.includes("mitts"))return`. ${r} fists are forced into a ball inside ${u}`;if(h.includes("hooves"))return`. Their fists are equipped with ${u} making it impossible for ${l} to use ${a} hands for anything`;if(h.includes("harness"))return` which is covered with ${u} which doubles as handles for fucking ${l}`;if(h.includes("ring"))return`. ${n} wear the ${u} in one of ${a} fingers`;if(h.includes("fake_clothes"))return`, which is supposedly "covered" by ${a} "invisible" ${u}`;let p=t.getSluttiness(),c="",d="";h.includes("armor")?p<setup.EQUIPMENT_SLUTTY_COVERED_THRESHOLD?c="protected":p<setup.EQUIPMENT_SLUTTY_THRESHOLD?(c="protected",d="despite being somewhat slutty-looking"):(c="protected",d="although its questionable how much protection it gives given the amount of skin it actually cover"):h.includes("restraints")?p<setup.EQUIPMENT_SLUTTY_COVERED_THRESHOLD?c="restrained":p<setup.EQUIPMENT_SLUTTY_THRESHOLD?(c="restrained",d=`which does little to hide ${a} genitals`):(c="restrained",d=`which is designed to reveal as much as ${a} body as possible`):p<setup.EQUIPMENT_SLUTTY_COVERED_THRESHOLD?c="covered":p<setup.EQUIPMENT_SLUTTY_THRESHOLD?(c="barely covered",d=`which still reveal much of ${a} body`):(c='"covered"',d="which leave very little to the imagination");let g=` which is ${c} by ${a} ${u}`;return d&&(g+=` ${d}`),e==setup.equipmentslot.torso&&i.isHasTrait(setup.trait.muscle_verystrong)&&t.isCovering()&&(g+=`. ${r} clothes is straining to contain ${i.getName()}'s bulging muscles and looks like it's going to rip any time soon`),g}o(HO,"describeEquipment"),setup.Text.Unit.Equipment.slot=function(i,e){let t=setup.Text.Unit.Equipment.getEquipmentAt(i,e),a=`<<their "${i.key}">>`,r=`<<Their "${i.key}">>`,s=`<<they "${i.key}">>`;if(`${i.key}`,`${i.key}`,!t){if([setup.equipmentslot.head,setup.equipmentslot.neck,setup.equipmentslot.eyes,setup.equipmentslot.mouth,setup.equipmentslot.weapon,setup.equipmentslot.nipple,setup.equipmentslot.rear,setup.equipmentslot.genital].includes(e))return"";if(e==setup.equipmentslot.neck)return" which remains bare";if(e==setup.equipmentslot.torso)return`. ${r} torso is entirely uncovered revealing ${a} ${setup.Text.Unit.Trait.breast(i,!0)}`;if(e==setup.equipmentslot.arms)return" which remains bare-fisted";if(e==setup.equipmentslot.legs)return setup.Text.Unit.Equipment.isGenitalCovered(i)?`. While ${s} wear no pants, ${i.getName()}'s genitals are covered by ${a} underwear`:`. Nothing is covering the legs revealing ${a} ${setup.Text.Unit.Trait.genital(i,!1)}`;if(e==setup.equipmentslot.feet)return` and ${s} remain bare-footed`;throw new Error(`Unknown slot ${e.key}`)}let n=HO(i,e,t);const l=t.getTexts();return l.flavor&&(n=`${n}. ${l.flavor}`),setup.Text.replaceUnitMacros(n,{a:i})},setup.Text.Unit.Equipment.equipmentSummary=function(i){let e=i.getAllTraitsWithTag("equipment"),t=[];e.includes(setup.trait.eq_valuable)&&t.push("valuable"),e.includes(setup.trait.eq_veryvaluable)&&t.push("very valuable"),e.includes(setup.trait.eq_slutty)&&t.push("slutty"),e.includes(setup.trait.eq_veryslutty)&&t.push("very slutty");let a=[];if(e.includes(setup.trait.eq_chastity)&&a.push("chastity"),(e.includes(setup.trait.eq_restrained)||e.includes(setup.trait.eq_blind))&&a.push("bondage"),e.includes(setup.trait.eq_pony)?e.includes(setup.trait.eq_pet)?a.push("pony-pet"):a.push("pony"):e.includes(setup.trait.eq_pet)&&a.push("pet"),!a.length&&!t.length){if(setup.Text.Unit.Equipment.isNaked(i))return"nothing at all";a.push("basic")}let r=null;if(setup.Text.Unit.Equipment.isNaked(i))r="naked gear";else{let s=setup.Text.Unit.Equipment.getEquipmentAt(i,setup.equipmentslot.torso);if(!s)r="topless gear";else{let n=s.getTags();n.includes("armor")?r="armor":n.includes("harness")?r="gear":n.includes("restraints")?r="restraints":n.includes("clothes")?r="clothes":n.includes("fake_clothes")?r='"clothes"':r="gear"}}return`${t.join(" and ")} ${a.join(" ")} ${r}`},setup.Text.Unit.Equipment.stripTorso=function(i){let e=setup.DOM.PronounYou.their(i),t=setup.DOM.PronounYou.Their(i),a=setup.DOM.PronounYou.they(i),r=setup.DOM.PronounYou.They(i),s=setup.Text.Unit.Equipment.getEquipmentAt(i,setup.equipmentslot.torso);return s?s.getTags().includes("harness")?`${t} hands fumble desperately with the bindings of     ${e} ${s.rep()} and ${a} hyperventilates within     its embrace as ${a} strips.`:s.getTags().includes("armor")?`${r} hurriedly attempted to get out of ${e} protective ${s.rep()}, during which ${a} tripped over and fell flat.`:s.getTags().includes("restraints")?`You unlocks ${e} ${s.rep()} to allow them to strip it, still with great difficulty.`:s.getTags().includes("fake_clothes")?`${r} tried to get out of ${e} "invisible" ${s.rep()}, but you are not convinced the clothes exist at all.`:`${r} pulls ${e} ${s.rep()} over ${e} head revealing ${e} ${setup.Text.Unit.Trait.torso(i)}.`:""},setup.Text.Unit.Equipment.stripLegs=function(i){let e=setup.DOM.PronounYou.their(i);setup.DOM.PronounYou.Their(i);let t=setup.DOM.PronounYou.they(i),a=setup.DOM.PronounYou.They(i),r=setup.Text.Unit.Equipment.getEquipmentAt(i,setup.equipmentslot.legs),s=setup.Text.Unit.Equipment.getEquipmentAt(i,setup.equipmentslot.rear),n="";if(r){if(i==State.variables.unit.player)return`You take off your ${r.rep()}.`;r.getTags().includes("harness")?n+=`${a} scrambles to unfasten the bindings on ${e}       ${r.rep()} as fast as ${t} can,`:r.getTags().includes("armor")?n+=`${a} struggles to get their legs of ${e} protective ${r.rep()},`:r.getTags().includes("fake_clothes")?n+=`${a} "gets out" of ${e} "invisible" ${r.rep()},`:r.getTags().includes("restraints")?n+=`Using an iron key, you unlocks ${e} ${r.rep()}, `:n+=`${a} hastily pulls ${e} ${r.rep()} down `,s?n+=` revealing ${e} ${s.rep()}.`:n+=` revealing ${e} ${setup.Text.Unit.Trait.genital(i,!0)}.`}if(s){if(i==State.variables.unit.player)return`You take off your ${s.rep()}.`;let l=!1;s.getTags().includes("harness")?(n+=`One by one, ${t} unbind the fastenings on ${e} ${s.rep()},`,l=!0):s.getTags().includes("armor")?(n+=`${a} gave up what little protection ${e} ${s.rep()} offered,`,l=!0):s.getTags().includes("restraints")?(n+=`You free them out of ${e} ${s.rep()},`,l=!0):s.getTags().includes("fake_clothes")?n+=`${a} "strips out" of ${e} "invisible" ${r.rep()}, before making a gesture throwing it away,`:s.getTags().includes("clothes")&&(n+=`Unceremoniously ${e} ${s.rep()} are thrown aside,`,l=!0),l&&(n+=` revealing ${e} ${setup.Text.Unit.Trait.genital(i)}.`)}return n},setup.Text.Unit.Equipment.stripVagina=function(i){let e=setup.DOM.PronounYou.their(i);setup.DOM.PronounYou.Their(i),setup.DOM.PronounYou.they(i),setup.DOM.PronounYou.They(i);let t=setup.Text.Unit.Equipment.getEquipmentAt(i,setup.equipmentslot.genital);if(!t)return"";let a=t.getTags();return a.includes("vegetable")?`You grab the cold and fresh ${t.rep()} stuck deep inside ${e} vagina and pull the poor vegetable out.`:a.includes("dildo")?`You removed the ${t.rep()} plugged deep inside ${e} vagina, eliciting a moan.`:`You removed ${e} ${t.rep()} from their vagina`},setup.Text.Unit.Equipment.stripDick=function(i){let e=setup.DOM.PronounYou.their(i),t=setup.DOM.PronounYou.Their(i);setup.DOM.PronounYou.they(i),setup.DOM.PronounYou.They(i);let a=setup.DOM.PronounYou.them(i),r=setup.Text.Unit.Equipment.getEquipmentAt(i,setup.equipmentslot.genital);if(!r)return"";let s=r.getTags();return s.includes("chastity")?`With a glistening key you unlocked ${e} ${r.rep()}, freeing their cock for the time being`:s.includes("dickplug")?`${r.rep()} is painfully inserted into ${e} urethra, which you order ${a} to remove`:`${t} dick is adorned with ${r.rep()}`},setup.Text.Unit.Equipment.stripNipple=function(i){setup.DOM.PronounYou.their(i);let e=setup.DOM.PronounYou.Their(i);setup.DOM.PronounYou.they(i),setup.DOM.PronounYou.They(i);let t=setup.Text.Unit.Equipment.getEquipmentAt(i,setup.equipmentslot.nipple);if(!t)return"";let a=t.getTags();return a.includes("nippleclamps")?`${e} nipples are constantly pinched with ${t.rep()},     which keeps them hard even after you took it off.`:a.includes("nipplechains")?`${e} nipples are constantly pinched with ${t.rep()},     which keeps them hard even after you took it off.`:`${e} nipples are adorned with ${t.rep()}`},setup.Text.Unit.Equipment.stripGenital=function(i){return i.isHasDick()?setup.Text.Unit.Equipment.stripDick(i):setup.Text.Unit.Equipment.stripVagina(i)},setup.Text.Unit.Equipment.stripAnus=function(i){let e=setup.DOM.PronounYou.their(i),t=setup.DOM.PronounYou.Their(i),a=setup.DOM.PronounYou.they(i),r=setup.DOM.PronounYou.They(i),s=setup.Text.Unit.Equipment.getEquipmentAt(i,setup.equipmentslot.rear);if(!s)return"";let n=s.getTags();return n.includes("vegetable")?`You grab the cold and fresh ${s.rep()} stuck deep inside ${e} vagina and pull the poor vegetable out.`:n.includes("buttplug")||n.includes("dildo")?`${t} ${s.rep()} pressed against ${e} inner walls as ${a} struggle to remove it.`:`${r} removed their ${s.getTags()} from ${e} ${setup.Text.Unit.Trait.anus(i)}.`},setup.Text.Unit.Equipment.youStripAnus=function(i){let e=setup.DOM.PronounYou.their(i);setup.DOM.PronounYou.Their(i),setup.DOM.PronounYou.they(i),setup.DOM.PronounYou.They(i);let t=setup.DOM.PronounYou.them(i),a=setup.Text.Unit.Equipment.getEquipmentAt(i,setup.equipmentslot.rear);if(!a)return"";let r=a.getTags();return r.includes("buttplug")||r.includes("dildo")?`You slowly removed ${e} ${a.rep()} making sure the bulge presses against ${e} inner walls, eliciting moans from ${t}.`:`You removed ${e} ${a.getTags()} from their ${setup.Text.Unit.Trait.anus(i)}.`},setup.Text.Unit.Equipment.stripMouth=function(i){let e=setup.DOM.PronounYou.their(i);setup.DOM.PronounYou.Their(i);let t=setup.DOM.PronounYou.they(i),a=setup.DOM.PronounYou.They(i),r=setup.Text.Unit.Equipment.getEquipmentAt(i,setup.equipmentslot.mouth);if(!r)return"";let s=r.getTags();return s.includes("mouthcover")?`${a} pulled down ${e} ${r.rep()} and throw it aside.`:s.includes("plaguemask")?`${a} unmasked and place ${e} ${r.rep()} aside.`:s.includes("dildogag")?`${a} removes the dildo from ${e} throat, leaving the ring gag in place.     Able to breathe through ${e} ${setup.Text.Unit.Trait.mouth(i)}     for the first time in a while,     ${t} gasps gratefully, knowing the respite will be brief.`:s.includes("gag")?`You unfastens the ${r.rep()} from ${e} ${setup.Text.Unit.Trait.mouth(i)}.     Able to breathe through ${e} ${setup.Text.Unit.Trait.mouth(i)}     for the first time in a while,     ${t} gasps gratefully, knowing the respite will be brief.`:`${a} removes the ${r.rep()} covering ${e} ${setup.Text.Unit.Trait.mouth(i)}.`},setup.Text.Unit.Equipment.slaverStripAll=function(i){return setup.Text.Unit.Equipment.isNaked(i)?"":`Your slavers stripped the ${setup.Text.Unit.Equipment.equipmentSummary(i)} from ${i.getName()}, leaving <<them "${i.key}">> entirely naked.`},setup.Text.Unit.Bodyswap={};function BO(i,e,t){let a=null,r=[],s,n,l,u;if(e&&(n=setup.Text.Unit.Trait.description(i,e),u=setup.Text.Unit.Trait.noun(i,e)),t&&(s=setup.Text.Unit.Trait.description(i,t),l=setup.Text.Unit.Trait.noun(i,t)),e)a=e.getTraitGroup(),r=e.getTags();else if(t)a=t.getTraitGroup(),r=t.getTags();else return"";if(r.includes("gender"))return e==t?[`a|They a|look almost relieved to remain ${e.getName()}.`,"a|Rep a|is lucky that a|their gender remains unchanged."]:t==setup.trait.gender_female?["a|They a|look confused as a|they a|start to explore a|their new sensitive female body.","A source of new pleasure assaults a|rep as a|their body shifts into that befitting a female."]:["a|They a|look uncomfortable as a|they a|start to explore a|their new robust male body.","a|Their body composition shifts uncomfortably as a|they a|is transformed into a male."];if(r.includes("subrace"))return e==t?[`a|They a|remain ${setup.Article(e.getName())}.`,`a|They a|look relieved to remain ${setup.Article(e.getName())}.`]:[`a|Their body once ${setup.Article(e.getName())}, is now a full ${t.getName()}.`,`a|Their body shifts and morphs, turning them from a|race into ${setup.Article(t.getName())}.`];if(e==t)return"";if(!a||!a.isOrdered())return r.includes("wings")?t?`From a|their back grows ${setup.Article(l)}.`:`a|They a|lose a|their ${u}.`:r.includes("tail")?t?`From above a|their butt now grows ${setup.Article(l)}.`:`There are no trace of the ${u} a|they used to have.`:r.includes("eyes")?t?`a|Their a|eyes are now ${setup.Article(l)}.`:"a|Their a|eyes becomes noticably human.":r.includes("ears")?t?`On the sides of a|their head is now ${setup.Article(l)}.`:"On the sides of a|their head is now a pair of normal ears.":r.includes("mouth")?t?`a|They now a|have ${l}.`:`The ${u} on a|their face disappears leaving a normal human-like face.`:r.includes("body")?t?`a|Their body noticably shifts from its previous a|body into ${setup.Article(l)}.`:"a|Their body noticably shifts from its previous a|body into an ordinary human-like body.":r.includes("arms")?t?`a|Their a|arms morph into ${setup.Article(l)}.`:"a|Their a|arms morph into a pair of human-like arms.":r.includes("legs")?t?`a|They now have ${setup.Article(l)} in place of a|their previous a|legs.`:"a|They now a|have a normal human-like pair of fleshly legs in place of a|their previous a|legs.":r.includes("dickshape")?t?`a|They now sports ${setup.Article(l)}.`:"a|Their dick becomes an ordinary human-like dick.":r.includes("tough")?t?`a|They ${s} now.`:"a|Their previously a|body becomes relatively average in term of toughness or flexibility.":t?`a|They now a|have ${setup.Article(l)}.`:`a|Their ${u} returned to normal.`;{let h=a._getTraitIndex(e),p=a._getTraitIndex(t);if(h==-1)return[`a|They now ${s}.`,`Now, a|they ${s}.`,`a|They ${s} now, to a|their confusion.`,`a|They a|is not sure what to do now that a|they ${s}.`,`A look of confusion forms in a|their face now that a|they ${s}.`];if(p==-1)return[`There are no trace that a|they once ${n}.`,`a|They used to ${n}, but it is completely gone now.`,`a|They ${n} before, although there is no trace of it now.`,`There are nothing but smooth skin where a|they used to ${n}.`];let c="",d=setup.rng.choice(["becoming unremarkably normal","becoming normal"]);return h<p?(r.includes("muscle")?c="a|Their muscles noticably grow, ":r.includes("dick")?c="a|Their dick grows in width and girth, ":r.includes("balls")?c="a|Their balls noticably grows in size, ":r.includes("breast")?c="On their upper body a|their breasts grow, ":r.includes("vagina")?c="Underneath, a|their vagina loosens, ":r.includes("anus")?c="Inside their butt, a|their anus loosens, ":r.includes("face")?c="a|Their looks improves, ":r.includes("height")?c="a|They a|grow in height, ":r.includes("tough")&&(c="a|They a|become tougher, "),t&&(d=t.text().increase)):(r.includes("muscle")?c="a|Their muscles noticably shrink, ":r.includes("dick")?c="a|Their dick shrinks in width and girth, ":r.includes("balls")?c="a|Their balls noticably shrinks in size, ":r.includes("breast")?c="On their upper body a|their breasts shrink, ":r.includes("vagina")?c="Underneath, a|their vagina tightens, ":r.includes("anus")?c="Inside their butt, a|their anus tightens, ":r.includes("face")?c="a|Their looks worsen, ":r.includes("height")?c="a|They a|grow shorter, ":r.includes("tough")&&(c="a|They a|become nimbler, "),t&&(d=t.text().decrease)),`${c}${d}.`}}o(BO,"traitTransform"),setup.Text.Unit.Bodyswap.bodyswap=function(i,e){let t=["gender","subrace"].concat(setup.TRAIT_PHYSICAL_TAGS).concat(setup.TRAIT_SKIN_TAGS),a=[];for(let r=0;r<t.length;++r){let s=t[r],n=BO(i,i.getTraitWithTag(s),e.getTraitWithTag(s));n&&a.push(setup.Text.replaceUnitMacros(n,{a:i}))}return a.join(" ")},setup.Text.Unit.Trait.describeAll=function(i,e){let t=[],a=i.getAllTraitsWithTag(e);for(let n=0;n<a.length;++n){let l=a[n];t.push(setup.Text.Unit.Trait.description(i,l))}if(!t.length)return"";let r=["a|Rep ","a|They also ","In addition, a|they "],s="";for(let n=0;n<t.length;++n)n%3==0?(n&&(s+=". "),s+=r[Math.floor(n/3)%3]):n%3==1&&n+1<t.length?s+=", ":s+=", and ",s+=t[n];return s+=".",setup.Text.replaceUnitMacros(s,{a:i})};function vt(i,e){let t=i.getBedchamber(),a;return t?a=t.getFurniture(e):a=e.getBasicFurniture(),a.rep()}o(vt,"bedchamberEquipment"),setup.Text.Unit.Trait.slaverbed=function(i){return vt(i,setup.furnitureslot.slaverbed)},setup.Text.Unit.Trait.slavebed=function(i){return vt(i,setup.furnitureslot.slavebed)},setup.Text.Unit.Trait.foodtray=function(i){return vt(i,setup.furnitureslot.foodtray)},setup.Text.Unit.Trait.drinktray=function(i){return vt(i,setup.furnitureslot.drinktray)},setup.Text.Unit.Trait.punishment=function(i){return vt(i,setup.furnitureslot.punishment)},setup.Text.Unit.Trait.lighting=function(i){return vt(i,setup.furnitureslot.lighting)},setup.Text.Unit.Trait.tile=function(i){return vt(i,setup.furnitureslot.tile)},setup.Text.Unit.Trait.object=function(i){return vt(i,setup.furnitureslot.object)},setup.Text.Unit.Trait.wall=function(i){return vt(i,setup.furnitureslot.wall)},setup.Text.Unit.Trait._EquipmentHelper=function(i,e,t,a){return t?`${e}${setup.Text.Unit.Equipment.slot(i,a)}`:e};function FM(){return setup.rng.choice(["strap-on","fake dick","rubber dick","phallus"])}o(FM,"strapOnText"),setup.Text.Unit.Trait.dick=function(i,e){const t=i.getEquipmentAt(setup.equipmentslot.genital);if(t&&t.getTags().includes("strapon"))return FM();let a=setup.Text.Unit.Trait.skinAdjective(i,"dickshape");if(!i.getTraitWithTag("dick"))return"";const s=setup.sexbodypart.penis.repSimple(i);let n=`${setup.sexbodypart.penis.repSizeAdjective(i)} ${a} ${s}`;return setup.Text.Unit.Trait._EquipmentHelper(i,n,e,setup.equipmentslot.genital)},setup.Text.Unit.Trait.dickhead=function(i,e){return setup.sexbodypart.penis.repTip(i)},setup.Text.Unit.Trait.dickorstrap=function(i,e){return i.isHasDick()?setup.Text.Unit.Trait.dick(i,e):FM()},setup.Text.Unit.Trait.cum=function(i,e){return i.isHasDick()?setup.rng.choice(["cum","cum","cum","ejaculate","cockmilk"]):setup.rng.choice(["pussyjuice","girlcum"])},setup.Text.Unit.Trait.balls=function(i,e){let t=i.getTraitWithTag("balls");return t?`${t.repSizeAdjective()} balls`:""},setup.Text.Unit.Trait.vagina=function(i,e){if(!i.getTraitWithTag("vagina"))return"";const a=setup.sexbodypart.vagina.repSimple(i);let r=`${setup.sexbodypart.vagina.repSizeAdjective(i)} ${a}`;return setup.Text.Unit.Trait._EquipmentHelper(i,r,e,setup.equipmentslot.genital)},setup.Text.Unit.Trait.anus=function(i,e){if(!i.getTraitWithTag("anus"))return"";const a=setup.sexbodypart.anus.repSimple(i);let r=`${setup.sexbodypart.vagina.repSizeAdjective(i)} ${a}`;return setup.Text.Unit.Trait._EquipmentHelper(i,r,e,setup.equipmentslot.rear)},setup.Text.Unit.Trait.hole=function(i,e){return i.isHasVagina()?setup.Text.Unit.Trait.vagina(i,e):setup.Text.Unit.Trait.anus(i,e)},setup.Text.Unit.Trait.tongue=function(i,e){return i.isHasTrait("mouth_demon")?"elongated tongue":"tongue"},setup.Text.Unit.Trait.genital=function(i,e){if(i.isHasStrapOn())return"strapon";let t=i.getTraitWithTag("dick");i.getTraitWithTag("balls");let a=i.getTraitWithTag("vagina"),r=null;return t?r=setup.Text.Unit.Trait.dick(i,e):a?r=setup.Text.Unit.Trait.vagina(i,e):r="smooth genital area",r},setup.Text.Unit.Trait.breast=function(i,e){let t=i.getTraitWithTag("breast"),a=null;const r=setup.sexbodypart.breasts.repSimple(i);if(t)a=`${setup.sexbodypart.breasts.repSizeAdjective(i)}     ${setup.Text.Unit.Trait.skinAdjective(i,"body")}     ${r}`;else{let s="";i.isHasTrait(setup.trait.muscle_extremelystrong)?s="extremely ripped":i.isHasTrait(setup.trait.muscle_verystrong)?s="ripped":i.isHasTrait(setup.trait.muscle_strong)?s="well-defined":s="manly",a=`${s}     ${setup.Text.Unit.Trait.skinAdjective(i,"body")}     ${r}`}return e?`${a}${setup.Text.Unit.Equipment.slot(i,setup.equipmentslot.nipple)}`:a},setup.Text.Unit.Trait.cleavage=function(i,e){let t;return i.isHasTrait("breast_huge")?t=["cleavage","deep valleys"]:i.isHasTrait("breast_large")?t=["cleavage"]:i.isHasTrait("breast_small")?t=["cleavage","modest cleavage","small cleavage"]:i.isHasTrait("muscle_verystrong")?t=["pec cleavage"]:t=["non-existent cleavage","flat cleavage"],setup.rng.choice(t)},setup.Text.Unit.Trait.cbreast=function(i){const e=i.getEquipmentAt(setup.equipmentslot.torso);return e!=null&&e.isCovering()?e.rep():setup.Text.Unit.Trait.breast(i)},setup.Text.Unit.Trait.cfeet=function(i){const e=i.getEquipmentAt(setup.equipmentslot.feet);return e!=null&&e.isCovering()?e.rep():setup.Text.Unit.Trait.feet(i)},setup.Text.Unit.Trait.cgenital=function(i){const e=i.getEquipmentAt(setup.equipmentslot.legs);let t=null;e!=null&&e.isCovering()&&(t=e);const a=i.getEquipmentAt(setup.equipmentslot.rear);if(!t&&(a!=null&&a.isCovering())&&(t=a),!t)return setup.Text.Unit.Trait.genital(i);let r="";return i.isHasTrait("dick_titanic")?r="enormous bulge":i.isHasTrait("dick_huge")?r="massive bulge":i.isHasTrait("dick_large")?r="large bulge":i.isHasTrait("dick_medium")?r="bulge":i.isHasTrait("dick_small")?r="small bulge":i.isHasTrait("dick_tiny")&&(r="tiny bulge"),r||`covered ${setup.Text.Unit.Trait.genital(i)}`},setup.Text.Unit.Trait.face=function(i,e){let t=i.getTraitWithTag("face"),a;t?a=[t.repSizeAdjective()]:a=["","average-looking"],t==setup.trait.face_attractive?i.isSissy()?a=a.concat(["androginously beautiful"]):i.isFemale()?a=a.concat(["beautiful"]):a=a.concat(["handsome"]):t==setup.trait.face_beautiful?i.isSissy()?a=a.concat(["androgynously beautiful"]):i.isFemale()?a=a.concat(["exquisitely beautiful"]):a=a.concat(["ruggedly handsome"]):i.isSissy()&&(a=a.concat(["androgynous"]));let r=`${setup.rng.choice(a)} face`;return e&&setup.Text.Unit.Equipment.isFaceCovered(i)&&(r+=` (which is not visible since <<their "${i.key}">> face is covered by <<their "${i.key}">> equipment)`),r},setup.Text.Unit.Trait.head=function(i,e){let a=`${setup.Text.Unit.Trait.skinAdjective(i,"body")} head`;return setup.Text.Unit.Trait._EquipmentHelper(i,a,e,setup.equipmentslot.head)},setup.Text.Unit.Trait.eyes=function(i,e){let a=`${setup.Text.Unit.Trait.skinAdjective(i,"eyes")} eyes`;return setup.Text.Unit.Trait._EquipmentHelper(i,a,e,setup.equipmentslot.eyes)},setup.Text.Unit.Trait.ceyes=function(i){const e=i.getEquipmentAt(setup.equipmentslot.eyes);return e!=null&&e.isCovering()?e.rep():setup.Text.Unit.Trait.eyes(i)},setup.Text.Unit.Trait.mouth=function(i,e){let t=setup.Text.Unit.Trait.skinAdjective(i,"mouth");i.getTraitWithTag("mouth");let a=setup.sexbodypart.mouth.repSimple(i);return a=`${t} ${a}`,setup.Text.Unit.Trait._EquipmentHelper(i,a,e,setup.equipmentslot.mouth)},setup.Text.Unit.Trait.cmouth=function(i){const e=i.getEquipmentAt(setup.equipmentslot.mouth);return e?e.rep():setup.Text.Unit.Trait.mouth(i)},setup.Text.Unit.Trait.teeth=function(i,e){const t=i.getTraitWithTag("mouth");return t&&t.getTags().includes("fangs")?"fangs":"teeth"},setup.Text.Unit.Trait.ears=function(i,e){return`${setup.Text.Unit.Trait.skinAdjective(i,"ears")} ears`},setup.Text.Unit.Trait.horns=function(i,e){return i.getTraitWithTag("ears")==setup.trait.ears_demon?`${setup.rng.choice(["","demonic","curved"])} horns`:""},setup.Text.Unit.Trait.ass=function(i,e){let t=setup.Text.Unit.Trait.skinAdjective(i,"body");const a=setup.rng.choice(["ass","butts"]);return`${t} ${a}`},setup.Text.Unit.Trait.nipple=function(i,e){return"nipple"},setup.Text.Unit.Trait.cnipple=function(i){const e=i.getEquipmentAt(setup.equipmentslot.nipple);return e!=null&&e.getTags().includes("nipples")?e:setup.Text.Unit.Trait.nipple(i)},setup.Text.Unit.Trait.nipples=function(i,e){return"nipples"},setup.Text.Unit.Trait.torso=function(i,e){let t=[],a=i.getTraitWithTag("height");a&&t.push(a.repSizeAdjective());let r=setup.Text.Unit.Trait.muscular(i);r&&t.push(r);let s=setup.Text.Unit.Trait.skinAdjective(i,"body");const n=setup.rng.choice(["body","bod","torso","figure"]);let l=`${t.join(" and ")} ${s} ${n}`;return setup.Text.Unit.Trait._EquipmentHelper(i,l,e,setup.equipmentslot.torso)},setup.Text.Unit.Trait.ctorso=function(i){const e=i.getEquipmentAt(setup.equipmentslot.torso);return e?e.rep():setup.Text.Unit.Trait.torso(i)},setup.Text.Unit.Trait.back=function(i,e){let t=setup.Text.Unit.Trait.muscular(i),a=setup.Text.Unit.Trait.skinAdjective(i,"body");return`${t} ${a} back`},setup.Text.Unit.Trait.waist=function(i,e){let t;return i.isHasTrait("muscle_extremelystrong")?t=["freakishly muscular waist","waist"]:i.isHasTrait("muscle_verystrong")?t=["muscular waist","waist"]:i.isHasTrait("muscle_strong")?t=["toned waist","waist"]:i.isHasTrait("muscle_extremelythin")?t=["unnaturally narrow waist","waist"]:i.isHasTrait("muscle_verythin")?t=["very narrow waist","waist"]:i.isHasTrait("muscle_thin")?t=["narrow waist","waist"]:t=["waist"],setup.rng.choice(t)},setup.Text.Unit.Trait.belly=function(i,e){let t;return i.isHasTrait("muscle_extremelystrong")?t=["eight-packs","freakishly ripped abs"]:i.isHasTrait("muscle_verystrong")?t=["six-packs","ripped abs","shredded abs"]:i.isHasTrait("muscle_strong")?t=["well-defined abs","defined abs","toned abs"]:i.isHasTrait("muscle_extremelythin")?t=["extremely thin stomach","unnaturally skinny belly"]:i.isHasTrait("muscle_verythin")?t=["very thin stomach","thin belly","skinny belly"]:i.isHasTrait("muscle_thin")?t=["thin stomach","belly"]:t=["belly","abs","stomach"],setup.rng.choice(t)},setup.Text.Unit.Trait.neck=function(i,e){let t="";return i.isHasTrait(setup.trait.muscle_strong)?i.isFemale()?t="strong":t="broad shoulders and thick":t="",setup.Text.Unit.Trait._EquipmentHelper(i,`${t} neck`,e,setup.equipmentslot.neck)},setup.Text.Unit.Trait.cneck=function(i){const e=i.getEquipmentAt(setup.equipmentslot.neck);return e?e.rep():setup.Text.Unit.Trait.neck(i)},setup.Text.Unit.Trait.wings=function(i,e){let t=setup.Text.Unit.Trait.skinAdjective(i,"wings");if(!t)return"";let a="";return i.isHasTrait(setup.trait.eq_restrained)&&(a=", which are rendered useless by their restraints"),`${t} wings${a}`},setup.Text.Unit.Trait.arms=function(i,e){let t="";i.isHasTrait(setup.trait.muscle_extremelystrong)?t="extremely muscular":i.isHasTrait(setup.trait.muscle_verystrong)?t="rock-hard":i.isHasTrait(setup.trait.muscle_strong)?t="powerful":i.isHasTrait(setup.trait.muscle_extremelythin)||i.isHasTrait(setup.trait.muscle_verythin)?t="skinny":i.isHasTrait(setup.trait.muscle_thin)&&(t="slim");let a=setup.Text.Unit.Trait.skinAdjective(i,"arms");const r=setup.sexbodypart.arms.repSimple(i);let s=`${t} ${a} ${r}`;return setup.Text.Unit.Trait._EquipmentHelper(i,s,e,setup.equipmentslot.arms)},setup.Text.Unit.Trait.carms=function(i){const e=i.getEquipmentAt(setup.equipmentslot.arms);return e?e.rep():setup.Text.Unit.Trait.arms(i)},setup.Text.Unit.Trait.hand=function(i,e){let t=i.getTraitWithTag("arms"),a="hand";return t&&(t==setup.trait.arms_werewolf||t==setup.trait.arms_neko)&&(a="paw"),a},setup.Text.Unit.Trait.hands=function(i,e){return`${setup.Text.Unit.Trait.hand(i,e)}s`},setup.Text.Unit.Trait.legs=function(i,e){let t="";i.isHasTrait(setup.trait.muscle_extremelystrong)?t="swole":i.isHasTrait(setup.trait.muscle_verystrong)?t="muscly":i.isHasTrait(setup.trait.muscle_strong)?t="toned":i.isHasTrait(setup.trait.muscle_extremelythin)?t="extremely skinny":i.isHasTrait(setup.trait.muscle_verythin)?t="skinny":i.isHasTrait(setup.trait.muscle_thin)&&(t="slim");let a=setup.Text.Unit.Trait.skinAdjective(i,"legs");const r=setup.sexbodypart.legs.repSimple(i);let s=`${t} ${a} ${r}`;return setup.Text.Unit.Trait._EquipmentHelper(i,s,e,setup.equipmentslot.legs)},setup.Text.Unit.Trait.clegs=function(i){const e=i.getEquipmentAt(setup.equipmentslot.legs);return e!=null&&e.isCovering()?e.rep():setup.Text.Unit.Trait.legs(i)},setup.Text.Unit.Trait.feet=function(i,e,t){let a=i.getTraitWithTag("legs"),r="";if(a)if(a==setup.trait.legs_werewolf)r="digitrade";else if(a==setup.trait.legs_dragonkin||a==setup.trait.legs_neko)r="clawed";else if(a==setup.trait.legs_demon)r="hooved";else throw new Error(`Unknown legs: ${a.key}`);let s="feet";t&&(s="foot");let n=`${r} ${s}`;return setup.Text.Unit.Trait._EquipmentHelper(i,n,e,setup.equipmentslot.feet)},setup.Text.Unit.Trait.foot=function(i,e){return setup.Text.Unit.Trait.feet(i,e,!0)},setup.Text.Unit.Trait.skin=function(i,e,t){const a=i.getTraitWithTag("body");if(a){const s=a.text();let n="";if(t&&s.adj_extra&&(n=setup.rng.choice(s.adj_extra)+" "),s&&s.noun_extra)return`${n}${setup.rng.choice(s.noun_extra)}`}let r="";return t&&(r=setup.rng.choice(["tender","soft"])),r&&(r=r+" "),`${r}skin`},setup.Text.Unit.Trait.tail=function(i,e){if(!i.getTail())return"";const t=setup.sexbodypart.tail.repSimple(i);if(Math.random()<.7)return t;let a=i.getTraitWithTag("tail");if(a==setup.trait.tail_werewolf)return`fully wolf-like ${t}`;if(a==setup.trait.tail_neko)return`long and slender cat-like ${t}`;if(a==setup.trait.tail_dragonkin)return`thick and powerful dragon ${t}`;if(a==setup.trait.tail_demon)return`sharp demonic ${t}`;throw new Error(`Unrecognizable tail: ${a.key}`)},setup.Text.Unit.Trait.ctail=function(i,e){const t=i.getTail(),a=i.getTailPlug();let r;if(t&&!a)r=[setup.Text.Unit.Trait.tail(i,e)];else if(a&&!t)r=[a.rep()];else if(a&&t)r=["real and fake tail","real tail and tailplug","tails both real and fake","tails both real and rubbery"];else return"";return setup.Text.replaceUnitMacros(r,{a:i})},setup.Text.Unit.Trait.tailtip=function(i,e){return setup.sexbodypart.tail.repTip(i)},setup.Text.Unit.Trait.scent=function(i,e){return i.isMale()?"musk":"scent"},setup.Text.Unit.Trait.adjectiveGoodRandom=function(i){let t=i.getTraits().filter(a=>a.text()&&a.text().adjgood);if(t.length){let a=setup.rng.choice(t);return setup.rng.choice(a.text().adjgood)}else{let a=["impartial","unbiased","fair"];return setup.rng.choice(a)}},setup.Text.Unit.Trait.adjectiveBadRandom=function(i){let t=i.getTraits().filter(a=>a.text()&&a.text().adjbad);if(t.length){let a=setup.rng.choice(t);return setup.rng.choice(a.text().adjbad)}else{let a=["weak-willed","suicidal"];return setup.rng.choice(a)}},setup.Text.Unit.Trait.adjectiveRandom=function(i,e){let t=[];e?t=i.getAllTraitsWithTag(e):t=i.getTraits();let a=[];for(let r=0;r<t.length;++r){const n=t[r].repAdjective();n&&a.push(n)}return a.length?setup.rng.choice(a):""},setup.Text.Unit.Trait.noun=function(i,e){var t;return((t=e.text())==null?void 0:t.noun)||""},setup.Text.Unit.Trait.description=function(i,e){const t=e.text();if(!t)return"";let a;return"descriptionslave"in t&&i.isSlave()?a=t.descriptionslave:"descriptionslaver"in t&&i.isSlaver()?a=t.descriptionslaver:a=e.text().description,a?setup.Text.replaceUnitMacros(a,{a:i}):""},setup.Text.Unit.Trait.flavor=function(i,e){const t=i.getTraitWithTag(e);if(!t)return"";const a=t.getTexts();let r;return"flavorslave"in a&&i.isSlave()?r=a.flavorslave:"flavorslaver"in a&&i.isSlaver()?r=a.flavorslaver:r=t.getTexts().flavor,r?setup.Text.replaceUnitMacros(r,{a:i}):""},setup.Text.Unit.Trait.skinAdjective=function(i,e){let t=i.getTraitWithTag(e);return t?t.repSizeAdjective():e=="legs"||e=="arms"?"humanoid":""},setup.Text.Unit.Trait.muscular=function(i){let e=i.getTraitWithTag("muscle");return e?e.repSizeAdjective():""},setup.Text.Unit.Trait.race=function(i){return i.getSubrace().text().noun},setup.Text.Unit.Trait.homeland=function(i){return i.getHomeland()},setup.qcImpl.Bodyshift=(Eu=class extends setup.Cost{constructor(e){super(),this.actor_name=e}text(){return`setup.qc.Bodyshift('${this.actor_name}')`}apply(e){const t=e.getActorUnit(this.actor_name);State.variables.bodyshift.isBodyshifter(t)&&(State.variables.bodyshift.bodyshift(t),t.isYourCompany()&&setup.notify("a|Rep a|bodyshift",{a:t}))}explain(e){return`${this.actor_name} bodyshifts`}},o(Eu,"Bodyshift"),Eu),setup.qcImpl.SetBodyshifter=(xu=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,this.target_actor_name=t}text(){return`setup.qc.SetBodyshifter('${this.actor_name}', '${this.target_actor_name}')`}apply(e){let t=e.getActorUnit(this.actor_name),a=e.getActorUnit(this.target_actor_name);State.variables.bodyshift.registerBodyshifter(t,a)}explain(e){return`${this.actor_name} becomes a bodyshifter, with ${this.target_actor_name} as its other body`}},o(xu,"SetBodyshifter"),xu),setup.qcImpl.Parent=(Oa=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,this.target_actor_name=t}text(){return`setup.qc.Parent('${this.actor_name}', '${this.target_actor_name}')`}isOk(e){throw new Error("Reward only")}apply(e){let t=e.getActorUnit(this.actor_name),a=e.getActorUnit(this.target_actor_name);State.variables.family.setParent(t,a)}undoApply(e){throw new Error("Can't undo")}explain(e){return`${this.actor_name} becomes ${this.target_actor_name}'s parent`}},o(Oa,"Parent"),y(Oa,"NAME","A unit become another's parent"),y(Oa,"PASSAGE","CostParent"),Oa),setup.qcImpl.Sibling=(Ca=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,this.target_actor_name=t}text(){return`setup.qc.Sibling('${this.actor_name}', '${this.target_actor_name}')`}isOk(e){throw new Error("Reward only")}apply(e){let t=e.getActorUnit(this.actor_name),a=e.getActorUnit(this.target_actor_name);State.variables.family.setSibling(t,a)}undoApply(e){throw new Error("Can't undo")}explain(e){return`${this.actor_name} and ${this.target_actor_name} becomes siblings`}},o(Ca,"Sibling"),y(Ca,"NAME","Two units become siblings"),y(Ca,"PASSAGE","CostSibling"),Ca),setup.qcImpl.Twin=(Pa=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,this.target_actor_name=t}text(){return`setup.qc.Twin('${this.actor_name}', '${this.target_actor_name}')`}isOk(e){throw new Error("Reward only")}apply(e){let t=e.getActorUnit(this.actor_name),a=e.getActorUnit(this.target_actor_name);State.variables.family.setTwin(t,a)}undoApply(e){throw new Error("Can't undo")}explain(e){return`${this.actor_name} and ${this.target_actor_name} becomes twins`}},o(Pa,"Twin"),y(Pa,"NAME","Two units become twins"),y(Pa,"PASSAGE","CostTwin"),Pa),setup.qcImpl.Breakup=(Du=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,this.target_actor_name=t}text(){return`setup.qc.Breakup('${this.actor_name}', '${this.target_actor_name}')`}apply(e){let t=e.getActorUnit(this.actor_name),a=e.getActorUnit(this.target_actor_name);t.getLover()==a&&State.variables.friendship.breakup(t,a)}explain(e){return`${this.actor_name} and ${this.target_actor_name} breaks up, if they were lovers`}},o(Du,"Breakup"),Du),setup.qcImpl.BreakupWithYou=(Iu=class extends setup.Cost{constructor(e){super(),this.actor_name=e}text(){return`setup.qc.BreakupWithYou('${this.actor_name}')`}apply(e){let t=e.getActorUnit(this.actor_name);setup.qc.Breakup("unit","you").apply(setup.costUnitHelperDict({unit:t,you:State.variables.unit.player}))}explain(e){return`You break up with ${this.actor_name}, if you were lovers`}},o(Iu,"BreakupWithYou"),Iu),setup.qcImpl.Friendship=($u=class extends setup.Cost{constructor(e,t,a){super(),this.actor_name=e,this.target_actor_name=t,this.friendship_amt=a}text(){return`setup.qc.Friendship('${this.actor_name}', '${this.target_actor_name}', ${this.friendship_amt})`}apply(e){let t=e.getActorUnit(this.actor_name),a=e.getActorUnit(this.target_actor_name);if(this.friendship_amt=="reset")State.variables.friendship.deleteFriendship(t,a),t.isYourCompany()&&a.isYourCompany()&&setup.notify("a|Rep and b|rep have forgotten about each other...",{a:t,b:a});else{const r=State.variables.friendship.adjustFriendship(t,a,this.friendship_amt);if(r&&t.isYourCompany()&&a.isYourCompany()){const s=setup.DOM.toString(setup.DOM.Util.friendship(r));r>0?setup.notify(`a|Rep a|gain ${s} friendship with b|rep.`,{a:t,b:a}):setup.notify(`a|Rep a|gain ${s} rivalry with b|rep.`,{a:t,b:a})}}}explain(e){return this.friendship_amt=="reset"?`Reset friendship between ${this.actor_name} and ${this.target_actor_name}`:`${this.actor_name} and ${this.target_actor_name} gain ${setup.DOM.toString(setup.DOM.Util.friendship(this.friendship_amt))} ${this.friendship_amt>0?"friendship":"rivalry"}`}},o($u,"Friendship"),$u),setup.qcImpl.FriendshipWithYou=(Ou=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,this.friendship_amt=t}text(){return`setup.qc.FriendshipWithYou('${this.actor_name}', ${this.friendship_amt})`}apply(e){let t=e.getActorUnit(this.actor_name),a=State.variables.unit.player;t!=a&&setup.qc.Friendship("unit","target",this.friendship_amt).apply(setup.costUnitHelperDict({unit:t,target:a}))}explain(e){return`${this.actor_name} gain ${this.friendship_amt} friendship with you`}},o(Ou,"FriendshipWithYou"),Ou),setup.qcImpl.Hookup=(Cu=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,this.target_actor_name=t}text(){return`setup.qc.Hookup('${this.actor_name}', '${this.target_actor_name}')`}apply(e){let t=e.getActorUnit(this.actor_name),a=e.getActorUnit(this.target_actor_name);t.getLover()!=a&&(t.getLover()&&State.variables.friendship.breakup(t,t.getLover()),a.getLover()&&State.variables.friendship.breakup(a,a.getLover()),State.variables.friendship.hookup(t,a))}explain(e){return`${this.actor_name} and ${this.target_actor_name} becomes lovers, breaking up with their previous ones`}},o(Cu,"Hookup"),Cu),setup.qcImpl.HookupWithYou=(Pu=class extends setup.Cost{constructor(e){super(),this.actor_name=e}text(){return`setup.qc.HookupWithYou('${this.actor_name}')`}apply(e){let t=e.getActorUnit(this.actor_name);setup.qc.Hookup("unit","you").apply(setup.costUnitHelperDict({unit:t,you:State.variables.unit.player}))}explain(e){return`${this.actor_name} becomes your lover, breaking up with any existing units if any`}},o(Pu,"HookupWithYou"),Pu),setup.qcImpl.Leave=(Lu=class extends setup.Cost{constructor(e,t,a){super(),this.actor_name=e,this.reason=t,this.duration=a}text(){return`setup.qc.Leave('${this.actor_name}', "${setup.escapeJsString(this.reason)}", ${this.duration})`}apply(e){let t=e.getActorUnit(this.actor_name);State.variables.leave.leave(t,this.reason,this.duration)}explain(e){const t=this.reason;return this.duration?`${this.actor_name} will be on leave from the company for ${this.duration} weeks because ${this.actor_name} ${t}`:`${this.actor_name} will be on leave from the company because ${this.actor_name} ${t}`}},o(Lu,"Leave"),Lu),setup.qcImpl.Return=(Uu=class extends setup.Cost{constructor(e){super(),this.actor_name=e}text(){return`setup.qc.Return('${this.actor_name}')`}apply(e){let t=e.getActorUnit(this.actor_name);State.variables.leave.return(t)}explain(e){return`${this.actor_name} will return from leave`}},o(Uu,"Return"),Uu),setup.qcImpl.MissingUnit=(Nu=class extends setup.Cost{constructor(e){super(),this.actor_name=e}text(){return`setup.qc.MissingUnit('${this.actor_name}')`}apply(e){let t=e.getActorUnit(this.actor_name);if(setup.qcImpl.MissingUnit.checkBlessingOfLife({unit:t,stacks:2})||setup.qcImpl.MissingUnit.checkMissingPlayer(t,e))return;let a=t.getJob();t.addHistory("went missing.",e),State.variables.company.player.removeUnit(t),a==setup.job.slave?setup.unitgroup.missingslaves.addUnit(t):a==setup.job.slaver&&setup.unitgroup.missingslavers.addUnit(t)}explain(e){return`${this.actor_name} would be gone from your company...`}static checkMissingPlayer(e,t){return e!=State.variables.unit.player?!1:(State.variables.unit.player.addHistory("went missing from the company.",t),setup.qc.CapturePlayer().apply(setup.costUnitHelper(e)),!0)}static checkBlessingOfLife({unit:e,stacks:t}){const a=`blessing_life${t}`;if(a in setup.trait&&e.isYourCompany()&&e.isSlaver()){const r=setup.trait[a];if(e.isHasTrait(r)){setup.notify("a|Reps Blessing of Life saved the slaver's life",{a:e});for(let s=0;s<t;++s)e.decreaseTrait(r.getTraitGroup());return!0}}return!1}},o(Nu,"MissingUnit"),Nu),setup.qcImpl.MissingUnitForever=(La=class extends setup.Cost{constructor(e){super(),this.actor_name=e}text(){return`setup.qc.MissingUnitForever('${this.actor_name}')`}apply(e){let t=e.getActorUnit(this.actor_name);setup.qcImpl.MissingUnit.checkMissingPlayer(t,e)||(t.addHistory("went missing forever.",e),State.variables.company.player.removeUnit(t),setup.unitgroup.none.addUnit(t),t.isYou()||setup.notify("You will never see a|rep ever again...",{a:t}))}undoApply(e){throw new Error("Cannot be undone")}explain(e){return`${this.actor_name} would be gone FOREVER and will never be seen again...`}},o(La,"MissingUnitForever"),y(La,"NAME","Lose a unit from your company forever"),y(La,"PASSAGE","CostMissingUnitForever"),La),setup.qcImpl.MissingUnitOpposite=(Hu=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,this.origin_text=t}text(){return`setup.qc.MissingUnitOpposite('${this.actor_name}')`}apply(e){const t=e.getActorUnit(this.actor_name);if(setup.qcImpl.MissingUnit.checkMissingPlayer(t,e))return;let a=t.getJob();a==setup.job.slaver?t.addHistory("switched professions from slaver to slave.",e):a==setup.job.slave&&(t.addHistory("switched professions from slave to slaver.",e),setup.qc.AddTitle(this.actor_name,"ex_slave").apply(e)),State.variables.company.player.removeUnit(t);let r=null;a==setup.job.slaver?(setup.unitgroup.missingslaves.addUnit(t),r=setup.qc.Slave):a==setup.job.slave&&(setup.unitgroup.missingslavers.addUnit(t),r=setup.qc.Slaver),r&&r(this.actor_name,this.origin_text).apply(e),t.resetWeeksWithCompany()}explain(e){return`${this.actor_name} would be gone from your company, and immediately available as the opposite of your job (i.e., slave becomes slaver, slaver becomes slave), with background: ${this.origin_text}`}},o(Hu,"MissingUnitOpposite"),Hu),setup.qcImpl.MissingUnitRebuy=(Ua=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,this.price_mult=t}text(){return`setup.qc.MissingUnitRebuy('${this.actor_name}', ${this.price_mult})`}apply(e){let t=e.getActorUnit(this.actor_name);const a=Math.ceil(t.getSlaveValue()*this.price_mult/5e3);if(setup.qcImpl.MissingUnit.checkBlessingOfLife({unit:t,stacks:a})||setup.qcImpl.MissingUnit.checkMissingPlayer(t,e))return;let r=t.getJob();r==setup.job.slaver&&t.addHistory("lost from your company but immediately sold back to your company.",e),State.variables.company.player.removeUnit(t);let s=null;r==setup.job.slave?(setup.unitgroup.missingslaves.addUnit(t),s=setup.qc.Slave):r==setup.job.slaver&&(setup.unitgroup.missingslavers.addUnit(t),s=setup.qc.Slaver),s&&s(this.actor_name,"",!0,this.price_mult).apply(e)}undoApply(e){throw new Error("Cannot be undone")}explain(e){return`${this.actor_name} would be gone from your company, but immediately repurchasable for ${this.price_mult} x their value`}},o(Ua,"MissingUnitRebuy"),y(Ua,"NAME","Lose a unit from your company, but repurchasable immediately"),y(Ua,"PASSAGE","CostMissingUnitRebuy"),Ua);const jM={capturedeasy:1,capturedmedium:2,capturedhard:3,escapeeasy:1,escapemedium:2,escapehard:3};setup.qcImpl.MissingUnitRecapture=(Bu=class extends setup.Cost{constructor(e,t){if(super(),!(t in jM))throw new Error(`Unknown quest pool for recapture: ${t}`);this.questpool_key=t,this.actor_name=e}text(){return`setup.qc.MissingUnitRecapture('${this.actor_name}', '${this.questpool_key}')`}apply(e){let t=setup.questpool[this.questpool_key],a=e.getActorUnit(this.actor_name),r;if(a.isMindbroken()||a.isObedient()?r=1:r=jM[this.questpool_key],setup.qcImpl.MissingUnit.checkBlessingOfLife({unit:a,stacks:r}))return;a.isSlave()?setup.notify("a|Rep a|is <<dangertext 'attempting an escape!'>> You must recapture immediately if you want the unit back!",{a}):a.isSlaver()&&setup.notify("a|Rep a|is <<dangertext 'captured!'>> You must immediately rescue the slaver if you want them back!",{a});let s="escaped_slave";a.isSlaver()&&(s="captured_slaver"),a.addTag(s),setup.qc.Quest(t,1).apply(e),a.removeTag(s)}undoApply(e){throw new Error("Cannot be undone")}explain(e){return`${this.actor_name} will be lost from your company, but immediately regainable with quest (${this.questpool_key})`}},o(Bu,"MissingUnitRecapture"),Bu),setup.qcImpl.EscapedSlaveRandom=(Gu=class extends setup.Cost{constructor(){super()}text(){return"setup.qc.EscapedSlaveRandom()"}apply(e){let t=State.variables.company.player.getUnits({job:setup.job.slave,available:!0});if(!t.length)return;let a=setup.rng.choice(t);setup.qcImpl.MissingUnit.checkMissingPlayer(a,e)||(a.addHistory("escaped from your company.",e),State.variables.company.player.removeUnit(a),setup.unitgroup.missingslaves.addUnit(a))}explain(e){return"A random slave escaped"}},o(Gu,"EscapedSlaveRandom"),Gu),setup.qcImpl.Slave=(qu=class extends setup.Cost{constructor(e,t,a,r){super(),this.actor_name=e,this.origin_text=t,this.is_mercenary=a,this.price_mult=r,this.IS_SLAVE=!0}text(){let e="";return this.price_mult&&(e=`, ${this.price_mult}`),`setup.qc.Slave('${this.actor_name}', "${setup.escapeJsString(this.origin_text)}", ${this.is_mercenary}${e})`}getActorName(){return this.actor_name}apply(e){let t=e.getActorUnit(this.actor_name);this.origin_text&&t.setOrigin(this.origin_text);let a=0;if(this.is_mercenary&&(a=Math.max(t.getSlaveValue(),setup.SLAVE_VALUE_MARKET_MINIMUM),this.price_mult&&(a=Math.round(this.price_mult*a))),new setup.MarketObject(t,a,setup.MARKET_OBJECT_SLAVE_EXPIRATION,State.variables.market.slavemarket,e),State.variables.fort.player.isHasBuilding(setup.buildingtemplate.slavepens)){let r;a?r=` for ${setup.DOM.toString(setup.DOM.Util.money(a))}`:r=` for ${setup.DOM.toString(setup.DOM.Text.successlite("free"))}`,setup.notify(`${setup.DOM.toString(setup.DOM.Text.successlite("New slave"))} available: a|rep ${r}.`,{a:t})}else setup.notify(`You ${setup.DOM.toString(setup.DOM.Text.danger("lack"))} the ${setup.buildingtemplate.slavepens.rep()} to hold your new slave. Consider building the improvement soon.`)}undoApply(e){throw new Error("Can't undo")}explain(e){let t="free slave";return this.is_mercenary&&(t=`PAID slave${this.price_mult?` (${this.price_mult}x price)`:""}`),`${t}: ${this.actor_name} with origin: ${this.origin_text}`}},o(qu,"Slave"),qu),setup.qcImpl.SlaveMarker=(Na=class extends setup.Cost{constructor(e){super(),this.actor_name=e,this.IS_SLAVE=!0}getActorName(){return this.actor_name}text(){return`setup.qc.SlaveMarker('${this.actor_name}')`}isOk(e){throw new Error("Reward only")}apply(e){}undoApply(e){throw new Error("Can't undo")}explain(e){return`${this.actor_name} is marked as a slave for gender preference`}},o(Na,"SlaveMarker"),y(Na,"NAME","Mark unit as a slave for gender preferences"),y(Na,"PASSAGE","CostSlaveMarker"),Na),setup.qcImpl.Slaver=(zu=class extends setup.Cost{constructor(e,t,a,r){super(),this.actor_name=e,this.origin_text=t,this.is_mercenary=a,this.price_mult=r,this.IS_SLAVER=!0}text(){let e="";return this.price_mult&&(e=`, ${this.price_mult}`),`setup.qc.Slaver('${this.actor_name}', "${setup.escapeJsString(this.origin_text)}", ${this.is_mercenary}${e})`}getActorName(){return this.actor_name}apply(e){let t=e.getActorUnit(this.actor_name);if(!t)throw new Error(`Missing actor for quest ${e.key}: ${this.actor_name}`);this.origin_text&&t.setOrigin(this.origin_text);let a=0;if(this.is_mercenary&&(a=t.getSlaverMarketValue(),this.price_mult&&(a*=this.price_mult)),new setup.MarketObject(t,a,setup.MARKET_OBJECT_SLAVER_EXPIRATION,State.variables.market.slavermarket,e),State.variables.fort.player.isHasBuilding(setup.buildingtemplate.prospectshall)){let r;a?r=` for ${setup.DOM.toString(setup.DOM.Util.money(a))}`:r=` for ${setup.DOM.toString(setup.DOM.Text.successlite("free"))}`,setup.notify(`${setup.DOM.toString(setup.DOM.Text.successlite("New slaver"))} available: a|rep ${r}.`,{a:t})}else setup.notify(`You ${setup.DOM.toString(setup.DOM.Text.danger("lack"))} the ${setup.buildingtemplate.prospectshall.rep()} to host your new slaver. Consider building the improvement soon.`)}undoApply(e){throw new Error("Can't undo")}explain(e){let t=`gain a slaver: ${this.actor_name} with background ${this.origin_text}`;return this.is_mercenary&&(t+=" who needs to be paid to join"),this.price_mult&&(t+=` (${this.price_mult}x price)`),t}},o(zu,"Slaver"),zu),setup.qcImpl.SlaverMarker=(Ha=class extends setup.Cost{constructor(e){super(),this.actor_name=e,this.IS_SLAVER=!0}getActorName(){return this.actor_name}text(){return`setup.qc.SlaverMarker('${this.actor_name}')`}isOk(e){throw new Error("Reward only")}apply(e){}undoApply(e){throw new Error("Can't undo")}explain(e){return`${this.actor_name} is marked as a slaver for gender preference`}},o(Ha,"SlaverMarker"),y(Ha,"NAME","Mark unit as a slaver for gender preferences"),y(Ha,"PASSAGE","CostSlaverMarker"),Ha),setup.qcImpl.AddTag=(Ht=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,this.tag_name=t}text(){return`setup.qc.AddTag('${this.actor_name}', '${this.tag_name}')`}isOk(e){throw new Error("Reward only")}apply(e){e.getActorUnit(this.actor_name).addTag(this.tag_name)}undoApply(e){throw new Error("Can't undo")}explain(e){return`${this.actor_name} gains a tag: "${this.tag_name}"`}},o(Ht,"AddTag"),y(Ht,"NAME","Add a tag / flag to a unit."),y(Ht,"PASSAGE","CostAddTag"),y(Ht,"UNIT",!0),Ht),setup.qcImpl.RemoveTag=(Bt=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,this.tag_name=t}text(){return`setup.qc.RemoveTag('${this.actor_name}', '${this.tag_name}')`}isOk(e){throw new Error("Reward only")}apply(e){e.getActorUnit(this.actor_name).removeTag(this.tag_name)}undoApply(e){throw new Error("Can't undo")}explain(e){return`${this.actor_name} loses a tag: "${this.tag_name}"`}},o(Bt,"RemoveTag"),y(Bt,"NAME","Remove a tag / flag from a unit."),y(Bt,"PASSAGE","CostRemoveTag"),y(Bt,"UNIT",!0),Bt),setup.qcImpl.RemoveTagGlobal=(Ba=class extends setup.Cost{constructor(e){super(),this.tag_name=e}text(){return`setup.qc.RemoveTagGlobal('${this.tag_name}')`}isOk(e){throw new Error("Reward only")}apply(e){for(let t in State.variables.unit)State.variables.unit[t].removeTag(this.tag_name)}undoApply(e){throw new Error("Can't undo")}explain(e){return`All units loses: "${this.tag_name}"`}},o(Ba,"RemoveTagGlobal"),y(Ba,"NAME","Remove a tag / flag from ALL unit."),y(Ba,"PASSAGE","CostRemoveTagGlobal"),Ba),setup.qcImpl.AddTitle=(Fu=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,this.title_key=setup.keyOrSelf(t)}text(){return`setup.qc.AddTitle('${this.actor_name}', '${this.title_key}')`}apply(e){const t=e.getActorUnit(this.actor_name),a=setup.title[this.title_key];State.variables.titlelist.isHasTitle(t,a)||(State.variables.titlelist.addTitle(t,setup.title[this.title_key]),t.isYourCompany()&&setup.notify(`a|Rep a|gain ${a.rep()}.`,{a:t}))}explain(e){let t=setup.title[this.title_key];return`${this.actor_name} gains ${t.rep()}`}},o(Fu,"AddTitle"),Fu),setup.qcImpl.AddValueTitles=(ju=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,this.amount=t}text(){return`setup.qc.AddValueTitles('${this.actor_name}', ${this.amount})`}apply(e){let t=this.amount;const a=[8e4,4e4,2e4,1e4,5e3];for(const r of a)t>=r&&setup.qc.AddTitle(this.actor_name,`value_add_${r}`).apply(e)}explain(e){return`${this.actor_name} gains titles to increase its value by at most ${this.amount}g`}},o(ju,"AddValueTitles"),ju),setup.qcImpl.RemoveTitle=(Ku=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,setup.isString(t)?this.title_key=t:this.title_key=t.key}text(){return`setup.qc.RemoveTitle('${this.actor_name}', '${this.title_key}')`}isOk(e){throw new Error("Reward only")}apply(e){let t=e.getActorUnit(this.actor_name),a=setup.title[this.title_key];State.variables.titlelist.isHasTitle(t,a)&&(State.variables.titlelist.removeTitle(t,a),t.isYourCompany()&&setup.notify(`a|Rep a|lose ${a.rep()}.`,{a:t}))}undoApply(e){throw new Error("Can't undo")}explain(e){let t=setup.title[this.title_key];return`${this.actor_name} loses ${t.rep()}`}},o(Ku,"RemoveTitle"),Ku),setup.qcImpl.RemoveTitleGlobal=(Vu=class extends setup.Cost{constructor(e){if(super(),setup.isString(e)?this.title_key=e:this.title_key=e.key,!this.title_key)throw new Error(`Remove Title Global missing title: ${e}`)}text(){return`setup.qc.RemoveTitleGlobal('${this.title_key}')`}isOk(e){throw new Error("Reward only")}apply(e){let t=setup.title[this.title_key];for(let a in State.variables.unit){let r=State.variables.unit[a];State.variables.titlelist.isHasTitle(r,t)&&(State.variables.titlelist.removeTitle(r,t),r.isYourCompany()&&setup.notify(`a|Rep a|lose ${t.rep()}`,{a:r}))}}undoApply(e){throw new Error("Can't undo")}explain(e){return`All units loses ${setup.title[this.title_key].rep()}`}},o(Vu,"RemoveTitleGlobal"),Vu),setup.qcImpl.AddRandomBodypart=(Yu=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,this.allow_demonic=t}text(){return`setup.qc.AddRandomBodypart('${this.actor_name}', ${this.allow_demonic})`}apply(e){let t=e.getActorUnit(this.actor_name),a=setup.TraitHelper.getAllTraitsOfTags(["skin"]);if(t.isHasDick()||(a=a.filter(r=>!r.isNeedDick())),t.isHasVagina()||(a=a.filter(r=>!r.isNeedVagina())),this.allow_demonic||(a=a.filter(r=>!r.isCorruption())),a=a.filter(r=>!t.isHasRemovableTrait(r)),a.length){let r=setup.rng.choice(a);return setup.qc.TraitReplace(this.actor_name,r).apply(e)}}explain(e){return this.allow_demonic?`${this.actor_name} gains a random bodypart (can be demonic)`:`${this.actor_name} gains a random non-demonic bodypart`}},o(Yu,"AddRandomBodypart"),Yu),setup.qcImpl.AddRandomTraitWithTags=(Ju=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,this.trait_tags=t}text(){let e=this.trait_tags.map(t=>`'${t}'`);return`setup.qc.AddRandomTraitWithTags('${this.actor_name}', [${e.join(", ")}])`}apply(e){let t=setup.TraitHelper.getAllTraitsOfTags(this.trait_tags);if(!t.length)return;let a=setup.rng.choice(t);return setup.qc.Trait(this.actor_name,a).apply(e)}explain(e){return`${this.actor_name} gains a random ${this.trait_tags} trait`}},o(Ju,"AddRandomTraitWithTags"),Ju),setup.qcImpl.AddTraitsRandom=(Wu=class extends setup.Cost{constructor(e,t,a,r,s){if(super(),this.actor_name=e,!Array.isArray(t))throw new Error("Trait array must be array");if(a>t.length)throw new Error(`Too few traits: ${t.length} vs ${a}`);this.trait_keys=t.map(n=>n.key),this.no_of_traits=a,this.is_replace=r,this.is_guaranteed=s}text(){let e=this.trait_keys.map(t=>`setup.trait.${t}`);return`setup.qc.AddTraitsRandom('${this.actor_name}', [${e.join(", ")}], ${this.no_of_traits}, ${this.is_replace}, ${this.is_guaranteed})`}getTraits(){return this.trait_keys.map(e=>setup.trait[e])}apply(e){let t=e.getActorUnit(this.actor_name),a=this.getTraits();this.is_guaranteed&&(this.is_replace?a=a.filter(r=>!t.isHasRemovableTrait(r)):a=a.filter(r=>!t.isHasRemovableTrait(r,!0))),setup.rng.shuffleArray(a);for(let r=0;r<Math.min(this.no_of_traits,a.length);++r){let s;this.is_replace?s=setup.qc.TraitReplace:s=setup.qc.Trait,s("unit",a[r]).apply(setup.costUnitHelper(t))}}explain(e){let t=this.getTraits().map(r=>r.rep()),a=`gains ${this.no_of_traits} random traits from`;return this.is_replace&&(a=`${a} (exact)`),this.is_guaranteed&&(a=`${a} (guaranteed)`),`${this.actor_name} ${a} ${t.join("")}`}},o(Wu,"AddTraitsRandom"),Wu),setup.qcImpl.ClearMentalTraits=(Qu=class extends setup.Cost{constructor(e){super(),this.actor_name=e}text(){return`setup.qc.ClearMentalTraits('${this.actor_name}')`}apply(e){setup.qc.RemoveTraitsWithTag(this.actor_name,"per"),setup.qc.RemoveTraitsWithTag(this.actor_name,"skill"),setup.qc.RemoveTraitsWithTag(this.actor_name,"bg"),setup.qc.RemoveTraitsWithTag(this.actor_name,"training"),setup.qc.RemoveTraitsWithTag(this.actor_name,"perk")}explain(e){return`${this.actor_name} loses all personality, skill, background, training, and perk traits`}},o(Qu,"ClearMentalTraits"),Qu),setup.qcImpl.DecreaseTraitsRandom=(Zu=class extends setup.Cost{constructor(e,t,a,r){if(super(),this.actor_name=e,!Array.isArray(t))throw new Error("Trait array must be array");if(a>t.length)throw new Error(`Too few traits: ${t.length} vs ${a}`);this.trait_keys=t.map(s=>s.key),this.no_of_traits=a,this.is_replace=r}text(){let e=this.trait_keys.map(t=>`setup.trait.${t}`);return`setup.qc.DecreaseTraitsRandom('${this.actor_name}', [${e.join(", ")}], ${this.no_of_traits}, ${this.is_replace})`}getTraits(){return this.trait_keys.map(e=>setup.trait[e])}apply(e){let t=e.getActorUnit(this.actor_name),a=this.getTraits();setup.rng.shuffleArray(a);let r=0,s=[];for(let n=0;n<a.length&&!(t.isHasRemovableTrait(a[n])&&(s.push(a[n]),r+=1,r>=this.no_of_traits));++n);for(let n=0;n<s.length;++n){let l=s[n];if(this.is_replace)t.removeTraitExact(l);else{let u=l.getTraitGroup();u?t.addTrait(null,u):t.removeTraitExact(l)}t.isYourCompany()&&setup.notify(`a|Rep a|lose ${l.rep()}`,{a:t})}}explain(e){let t=this.getTraits().map(s=>s.rep()),a="decreases";this.is_replace&&(a="LOSES");let r=`${a} ${this.no_of_traits} random traits from`;return`${this.actor_name} ${r} ${t.join("")}`}},o(Zu,"DecreaseTraitsRandom"),Zu),setup.qcImpl.PerkChoice=(Xu=class extends setup.Cost{constructor(e,t,a){super(),this.actor_name=e,this.perk_key=setup.keyOrSelf(t),this.no_learn=a}text(){return`setup.qc.PerkChoice('${this.actor_name}', '${this.perk_key}', ${this.no_learn})`}getPerk(){return setup.trait[this.perk_key]}apply(e){const t=e.getActorUnit(this.actor_name);t.addPerkChoice(this.getPerk())&&!this.no_learn&&t.addTrait(this.getPerk())}explain(e){const t=this.getPerk();return`${this.actor_name} gains access to the ${t.rep()} perk, which they can learn by resetting their perks${this.no_learn?" (not automatically learned)":""}`}},o(Xu,"PerkChoice"),Xu),setup.qcImpl.RemovePerkChoice=(eh=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,this.perk_key=setup.keyOrSelf(t)}text(){return`setup.qc.RemovePerkChoice('${this.actor_name}', '${this.perk_key}')`}getPerk(){return setup.trait[this.perk_key]}apply(e){e.getActorUnit(this.actor_name).removePerkChoice(this.getPerk())}explain(e){const t=this.getPerk();return`${this.actor_name} loses access to the ${t.rep()} perk`}},o(eh,"RemovePerkChoice"),eh),setup.qcImpl.RemoveRandomTraitWithTag=(th=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,this.trait_tag=t}text(){return`setup.qc.RemoveRandomTraitWithTag('${this.actor_name}', '${this.trait_tag}')`}apply(e){let t=e.getActorUnit(this.actor_name),a=t.getAllTraitsWithTag(this.trait_tag).filter(s=>t.isHasRemovableTrait(s));if(!a.length)return;let r=setup.rng.choice(a);return setup.qc.TraitRemove(this.actor_name,r).apply(e)}explain(e){return`${this.actor_name} loses a random ${this.trait_tag} trait`}},o(th,"RemoveRandomTraitWithTag"),th),setup.qcImpl.RemoveTraitsWithTag=(ah=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e,this.trait_tag=t}text(){return`setup.qc.RemoveTraitsWithTag('${this.actor_name}', '${this.trait_tag}')`}apply(e){e.getActorUnit(this.actor_name).removeTraitsWithTag(this.trait_tag)}explain(e){return`${this.actor_name} lose all ${this.trait_tag} traits`}},o(ah,"RemoveTraitsWithTag"),ah),setup.qcImpl.ResetInnateTraits=(ih=class extends setup.Cost{constructor(e){super(),this.actor_name=e}text(){return`setup.qc.ResetInnateTraits('${this.actor_name}')`}apply(e){e.getActorUnit(this.actor_name).resetInnateTraits()}explain(e){return`${this.actor_name} gains all the current skin traits as their innate traits`}},o(ih,"ResetInnateTraits"),ih),setup.qcImpl.Trait=(rh=class extends setup.Cost{constructor(e,t,a){if(super(),this.actor_name=e,!t&&t!=null)throw new Error(`Missing trait for setup.qc.Trait(${e})`);t?this.trait_key=setup.keyOrSelf(t):this.trait_key=null,a?this.trait_group_key=setup.keyOrSelf(a):this.trait_group_key=null}text(){return this.trait_key?`setup.qc.Trait('${this.actor_name}', setup.trait.${this.trait_key})`:`setup.qc.Trait('${this.actor_name}', null, setup.traitgroup[${this.trait_group_key}])`}apply(e){let t=e.getActorUnit(this.actor_name),a=null;this.trait_group_key&&(a=setup.traitgroup[this.trait_group_key]);let r=null;if(this.trait_key&&(r=setup.trait[this.trait_key]),!r||t.isTraitCompatible(r)){let s=t.addTrait(r,a);s&&t.isHasTrait(s)&&t.addHistory(`gained ${s.rep()}.`,e)}}explain(e){return this.trait_key?`${this.actor_name} gain ${setup.trait[this.trait_key].rep()}`:`${this.actor_name} lose trait from class: ${setup.traitgroup[this.trait_group_key].getSmallestTrait().rep()}`}},o(rh,"Trait"),rh),setup.qcImpl.TraitAndMakeInnate=(sh=class extends setup.Cost{constructor(e,t,a){if(super(),this.actor_name=e,!t&&t!=null)throw new Error(`Missing trait for setup.qc.TraitAndMakeInnate(${e})`);t?this.trait_key=t.key:this.trait_key=null,a?this.trait_group_key=a.key:this.trait_group_key=null}text(){return this.trait_key?`setup.qc.TraitAndMakeInnate('${this.actor_name}', setup.trait.${this.trait_key})`:`setup.qc.TraitAndMakeInnate('${this.actor_name}', null, setup.traitgroup[${this.trait_group_key}])`}apply(e){let t=e.getActorUnit(this.actor_name),a=null;this.trait_group_key&&(a=setup.traitgroup[this.trait_group_key]);let r=null;if(this.trait_key&&(r=setup.trait[this.trait_key]),!r||t.isTraitCompatible(r)){const s=t.addTrait(r,a);s&&t.addHistory(`<<dangertext "permanently">> gained ${s.rep()}.`,e),t.makeInnateTrait(r,a)}}explain(e){return this.trait_key?`${this.actor_name} permanently gain ${setup.trait[this.trait_key].rep()}`:`${this.actor_name} permanently lose trait from class: ${setup.traitgroup[this.trait_group_key].getSmallestTrait().rep()}`}},o(sh,"TraitAndMakeInnate"),sh),setup.qcImpl.TraitDecrease=(Gt=class extends setup.Cost{constructor(e,t){if(super(),this.actor_name=e,!t&&t!=null)throw new Error(`Missing trait for setup.qc.TraitDecrease(${e})`);if(!t.getTraitGroup())throw new Error(`Trait ${t.key} does not have a trait group and cannot be decreased`);this.trait_key=t.key}text(){return`setup.qc.TraitDecrease('${this.actor_name}', setup.trait.${this.trait_key})`}apply(e){let t=e.getActorUnit(this.actor_name),a=setup.trait[this.trait_key],r=a.getTraitGroup();if(t.isHasRemovableTrait(a,!0)&&!t.isHasRemovableTrait(a)){let s=t.decreaseTrait(r);s&&t.addHistory(`gained ${s.rep()}.`,e)}}explain(e){return`${this.actor_name}'s trait decreases to max ${setup.trait[this.trait_key].rep()}`}},o(Gt,"TraitDecrease"),y(Gt,"NAME","Decrease Trait Level"),y(Gt,"PASSAGE","CostTraitDecrease"),y(Gt,"UNIT",!0),Gt),setup.qcImpl.TraitIncreaseExisting=(nh=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e;const a=setup.selfOrObject(t,setup.trait);if(!a.getTraitGroup())throw new Error(`Trait ${a.key} does not have a trait group and cannot be decreased`);this.trait_key=a.key}text(){return`setup.qc.TraitIncreaseExisting('${this.actor_name}', setup.trait.${this.trait_key})`}apply(e){let t=e.getActorUnit(this.actor_name),a=setup.trait[this.trait_key],s=a.getTraitGroup().getSmallestTrait();if(t.isHasRemovableTrait(s,!0)){let n=t.addTrait(a);n&&t.addHistory(`gained ${n.rep()}.`,e)}}explain(e){return`${this.actor_name}'s trait (if any) increases to max. ${setup.trait[this.trait_key].rep()}`}},o(nh,"TraitIncreaseExisting"),nh),setup.qcImpl.TraitRemove=(qt=class extends setup.Cost{constructor(e,t){if(super(),this.actor_name=e,!t)throw new Error(`Missing trait for setup.qc.TraitRemove(${e})`);this.trait_key=setup.keyOrSelf(t)}text(){return`setup.qc.TraitRemove('${this.actor_name}', setup.trait.${this.trait_key})`}apply(e){let t=e.getActorUnit(this.actor_name),a=setup.trait[this.trait_key];t.isHasRemovableTrait(a)&&(t.removeTraitExact(a),t.isYourCompany()&&setup.notify(`a|Rep a|lose ${a.rep()}`,{a:t}))}explain(e){return`${this.actor_name} loses ${setup.trait[this.trait_key].rep()}`}},o(qt,"TraitRemove"),y(qt,"NAME","Remove exact trait"),y(qt,"PASSAGE","CostTraitRemove"),y(qt,"UNIT",!0),qt),setup.qcImpl.TraitReplace=(oh=class extends setup.Cost{constructor(e,t,a){if(super(),this.actor_name=e,!t&&t!=null)throw new Error(`Missing trait for setup.qc.TraitReplace(${e})`);if(t?this.trait_key=setup.keyOrSelf(t):this.trait_key=null,a?this.trait_group_key=setup.keyOrSelf(a):this.trait_group_key=null,!t&&!a)throw new Error("TraitReplace must have either trait or traitgroup")}text(){return this.trait_key?`setup.qc.TraitReplace('${this.actor_name}', setup.trait.${this.trait_key})`:`setup.qc.TraitReplace('${this.actor_name}', null, setup.traitgroup[${this.trait_group_key}])`}apply(e){let t=e.getActorUnit(this.actor_name);if(!t)throw new Error(`Missing actor ${this.actor_name} from quest`);let a=null;this.trait_group_key&&(a=setup.traitgroup[this.trait_group_key]);let r=null;if(this.trait_key&&(r=setup.trait[this.trait_key]),!r||t.isTraitCompatible(r)){let s=t.addTrait(r,a,!0);s&&t.isHasTrait(s)&&t.addHistory(`gained ${s.rep()}.`,e)}}explain(e){return`${this.actor_name} FORCEFULLY gain ${setup.trait[this.trait_key].rep()}`}},o(oh,"TraitReplace"),oh),setup.qcImpl.TraitReplaceExisting=(lh=class extends setup.Cost{constructor(e,t){super(),this.actor_name=e;const a=setup.selfOrObject(t,setup.trait);if(!a.getTraitGroup())throw new Error(`Trait ${a.key} does not have a trait group and cannot be decreased`);this.trait_key=a.key}text(){return`setup.qc.TraitReplaceExisting('${this.actor_name}', setup.trait.${this.trait_key})`}apply(e){let t=e.getActorUnit(this.actor_name),a=setup.trait[this.trait_key],s=a.getTraitGroup().getSmallestTrait();t.isHasRemovableTrait(s,!0)&&setup.qc.TraitReplace(this.actor_name,a).apply(e)}explain(e){return`${this.actor_name}'s trait (if any) is replaced with ${setup.trait[this.trait_key].rep()}`}},o(lh,"TraitReplaceExisting"),lh),setup.qcImpl.Traits=(Ga=class extends setup.Cost{constructor(e,t){if(super(),this.actor_name=e,this.trait_keys=[],!Array.isArray(t))throw new Error("Trait array must be array");for(let a=0;a<t.length;++a)this.trait_keys.push(t[a].key)}text(){let e=this.trait_keys.map(t=>`setup.trait.${this.trait_keys[t]}`);return`setup.qc.Traits('${this.actor_name}', [${e.join(", ")}])`}getTraits(){let e=[];for(let t=0;t<this.trait_keys.length;++t)e.push(setup.trait[this.trait_keys[t]]);return e}apply(e){let t=e.getActorUnit(this.actor_name),a=this.getTraits();for(let r=0;r<a.length;++r)t.isTraitCompatible(a[r])&&t.addTrait(a[r])}explain(e){let t=this.getTraits(),a=[];for(let r=0;r<t.length;++r)a.push(t[r].rep());return`${this.actor_name} gain ${a.join("")}`}},o(Ga,"Traits"),y(Ga,"NAME","Gain Traits"),y(Ga,"PASSAGE","CostTraits"),Ga),setup.qcImpl.TraitsReplace=(qa=class extends setup.Cost{constructor(e,t){if(super(),this.actor_name=e,this.trait_keys=[],!Array.isArray(t))throw new Error("Trait array must be array");for(let a=0;a<t.length;++a)this.trait_keys.push(t[a].key)}text(){let e=this.trait_keys.map(t=>`setup.trait.${t}`);return`setup.qc.TraitsReplace('${this.actor_name}', [${e.join(", ")}])`}getTraits(){let e=[];for(let t=0;t<this.trait_keys.length;++t)e.push(setup.trait[this.trait_keys[t]]);return e}apply(e){let t=e.getActorUnit(this.actor_name),a=this.getTraits();for(let r=0;r<a.length;++r)t.isTraitCompatible(a[r])&&t.addTrait(a[r],null,!0)}explain(e){let t=this.getTraits(),a=[];for(let r=0;r<t.length;++r)a.push(t[r].rep());return`${this.actor_name} gain (forcefully) ${a.join("")}`}},o(qa,"TraitsReplace"),y(qa,"NAME","Gain Traits (replacing old ones)"),y(qa,"PASSAGE","CostTraitsReplace"),qa),setup.qcImpl.Alternative=(uh=class extends setup.Cost{constructor(e){super(),this.actor_name=e}text(){return`setup.qc.Alternative('${this.actor_name}')`}apply(e){const t=e.getActorUnit(this.actor_name),a=t.getExp(),r=t.getLevel();for(State.variables.notification.disable(),t.resetLevel();t.getLevel()<r;)t.levelUp();t.gainExp(a),State.variables.notification.enable(),setup.notify("a|Reps skills have been respecced.",{a:t})}explain(e){return`Respec ${this.actor_name}`}},o(uh,"Alternative"),uh),setup.qcImpl.ResetLevel=(hh=class extends setup.Cost{constructor(e){super(),this.actor_name=e}text(){return`setup.qc.ResetLevel('${this.actor_name}')`}apply(e){e.getActorUnit(this.actor_name).resetLevel()}explain(e){return`reset the level of ${this.actor_name} to level 1`}},o(hh,"ResetLevel"),hh),setup.qcImpl.WildMagic=(ph=class extends setup.Cost{constructor(e){super(),this.actor_name=e}text(){return`setup.qc.WildMagic('${this.actor_name}')`}apply(e){const t=e.getActorUnit(this.actor_name),a=t.getRemovableTraits().filter(r=>r.getTags().includes("magic"));if(a.length){const r=setup.rng.choice(a),s=setup.TraitHelper.getAllTraitsOfTags(["magicbasic"]).filter(u=>!t.isHasTrait(u)),n=setup.rng.choice(s);setup.qc.TraitRemove(this.actor_name,r).apply(e);let l;r.getTags().includes("magicmaster")?l=n.getTraitGroup().getLargestTrait():l=n,setup.qc.TraitReplace(this.actor_name,l).apply(e)}}explain(e){return`${this.actor_name} swaps one of their magic with a random one`}},o(ph,"WildMagic"),ph),setup.SlaveOrderAddon={},setup.SlaveOrderAddonImpl={},setup.SlaveOrderAddonBase=(ch=class extends setup.TwineClass{constructor(e){super()}text(){throw new Error("Implement")}apply(e){}explain(){throw new Error("Implement")}static initConstructors(){setup.SlaveOrderAddonImpl=Object.freeze(setup.SlaveOrderAddonImpl);for(const[e,t]of Object.entries(setup.SlaveOrderAddonImpl))setup.SlaveOrderAddon[e]=function(...a){return new t(...a)},setup.SlaveOrderAddon[e].class=t}static deserialize(e,t){const a=setup.SlaveOrderAddonImpl[e],r=Object.create(a.prototype);return Object.assign(r,t)}toJSON(){const e={};return setup.copyProperties(e,this),JSON.reviveWrapper(`setup.SlaveOrderAddonBase.deserialize("${this.constructor.name}", $ReviveData$)`,e)}},o(ch,"SlaveOrderAddonBase"),ch),setup.SlaveOrderAddonImpl.RequireGenderRandom=(dh=class extends setup.SlaveOrderAddonBase{constructor(e){super(),this.job_key=e.key}text(){return"setup.SlaveOrderAddon.RequireGenderRandom()"}explain(){return"Requires the slave to be of a random gender"}apply(e){let t=e.criteria,a=State.variables.settings.getGenderRandom(setup.job[this.job_key]);t.restrictions.push(setup.qres.Trait(a))}},o(dh,"RequireGenderRandom"),dh),setup.SlaveOrderAddonImpl.TraitsRandom=(gh=class extends setup.SlaveOrderAddonBase{constructor(e,t,a,r){if(super(),e.length<t+a+r)throw new Error(`Too few traits for TraitsRandom: ${e} for ${t} crit ${a} disaster ${r} restriction`);this.trait_keys=e.map(s=>s.key),this.num_crit=t,this.num_disaster=a,this.num_restriction=r}text(){return`setup.SlaveOrderAddon.TraitsRandom([<br/>${this.trait_keys.map(t=>`setup.trait.${t}`).join(",<br/>")}<br/>], ${this.num_crit}, ${this.num_disaster}, ${this.num_restriction})`}explain(){let e=this.trait_keys.map(t=>setup.trait[t].rep());return`Randomly: select ${this.num_crit} critical, ${this.num_disaster} disaster, and ${this.num_restriction} must-have traits from ${e.join("")}`}apply(e){let t=this.trait_keys.map(r=>setup.trait[r]);setup.rng.shuffleArray(t);let a=e.criteria;for(let r=0;r<this.num_crit;++r){let s=t[r].getTraitCover();for(let n=0;n<s.length;++n)a.crit_trait_map[s[n].key]=!0}for(let r=0;r<this.num_disaster;++r){let s=t[this.num_crit+r].getTraitCover();for(let n=0;n<s.length;++n)a.disaster_trait_map[s[n].key]=!0}for(let r=0;r<this.num_restriction;++r)a.restrictions.push(setup.qres.Trait(t[this.num_crit+this.num_disaster+r]))}},o(gh,"TraitsRandom"),gh),setup.SlaveOrderAddonImpl.TraitsRandomExact=(mh=class extends setup.SlaveOrderAddonBase{constructor(e,t,a,r){if(super(),e.length<t+a+r)throw new Error(`Too few traits for TraitsRandomExact: ${e} for ${t} crit ${a} disaster ${r} restriction`);this.trait_keys=e.map(s=>s.key),this.num_crit=t,this.num_disaster=a,this.num_restriction=r}text(){return`setup.SlaveOrderAddon.TraitsRandomExact([<br/>${this.trait_keys.map(t=>`setup.trait.${t}`).join(",<br/>")}<br/>], ${this.num_crit}, ${this.num_disaster}, ${this.num_restriction})`}explain(){let e=this.trait_keys.map(t=>setup.trait[t].rep());return`Randomly: select ${this.num_crit} critical, ${this.num_disaster} disaster, and ${this.num_restriction} must-have traits from ${e.join("")}`}apply(e){let t=this.trait_keys.map(r=>setup.trait[r]);setup.rng.shuffleArray(t);let a=e.criteria;for(let r=0;r<this.num_crit;++r)a.crit_trait_map[t[r].key]=!0;for(let r=0;r<this.num_disaster;++r)a.disaster_trait_map[t[this.num_crit+r].key]=!0;for(let r=0;r<this.num_restriction;++r)a.restrictions.push(setup.qres.TraitExact(t[this.num_crit+this.num_disaster+r]))}},o(mh,"TraitsRandomExact"),mh),setup.qcImpl.UnitValueToFavor=(fh=class extends setup.Cost{constructor(e,t,a){super(),this.company_key=setup.keyOrSelf(e),this.favor_per_value=t,this.favor_per_crit=a}text(){return`setup.qc.UnitValueToFavor('${this.company_key}', ${this.favor_per_value}, ${this.favor_per_crit})`}getCompany(){return State.variables.company[this.company_key]}explain(){const e=this.favor_per_value,t=this.favor_per_crit;return`Favor with ${this.getCompany().rep()} = value * ${e} + crit * ${t}`}apply(e){const t=e.getUnit(),r=e.getCriteria().computeSuccessModifiers(t,!0);let s=t.getSlaveValue()*this.favor_per_value;s+=r.crit*this.favor_per_crit,s-=r.disaster*this.favor_per_crit,setup.qc.Favor(this.getCompany(),Math.round(s)).apply()}},o(fh,"UnitValueToFavor"),fh),setup.SlaveOrderAddonImpl.UnitValueToFavor=(bh=class extends setup.SlaveOrderAddonBase{constructor(e,t,a){super(),this.company_key=setup.keyOrSelf(e),this.favor_per_value=t,this.favor_per_crit=a}text(){return`setup.SlaveOrderAddon.UnitValueToFavor('${this.company_key}', ${this.favor_per_value}, ${this.favor_per_crit})`}getCompany(){return State.variables.company[this.company_key]}explain(){return`Gain favor with ${this.getCompany().rep()} equal to:
      Unit value * ${this.favor_per_value} +
      Crit traits * ${this.favor_per_crit}`}apply(e){e.fulfilled_outcomes.push(setup.qc.UnitValueToFavor(this.getCompany(),this.favor_per_value,this.favor_per_crit))}},o(bh,"UnitValueToFavor"),bh),setup.qcImpl.SlaveOrderAspectOfExperience=(yh=class extends setup.qcImpl.SlaveOrderTemplate{constructor(){super(),this.base_price=0,this.trait_multi=3e3,this.value_multi=0,this.name="Order for a personal slave for a chieftain in the Northern Vale",this.company_key="humanvale",this.expires_in=10,this.fulfilled_outcomes=[],this.unfulfilled_outcomes=[],this.destination_unit_group_key=setup.unitgroup.soldslaves.key}text(){return`setup.qc.SlaveOrderAspectOfExperience(${this.value_multi})`}getCriteria(e){const t=[],a=[],r=e.getActorUnit("slave"),s=r.getTraits();for(const u of s)u.isAttachable()&&!u.getTags().includes("race")&&!u.getTags().includes("subrace")&&!u.getTags().includes("training")&&t.push(u);const n=[setup.qres.Job(setup.job.slave),setup.qres.NoTrait(r.getRace())];return new setup.UnitCriteria(null,"Chieftain Order",t,a,n,{})}},o(yh,"SlaveOrderAspectOfExperience"),yh),setup.qcImpl.SlaveOrderCapitalOfSlaves=(kh=class extends setup.qcImpl.SlaveOrderTemplate{constructor(){super(),this.base_price=0,this.trait_multi=setup.MONEY_PER_SLAVER_WEEK*2,this.value_multi=.9,this.name="Order from the Capital of Slaves",this.company_key="humandesert",this.expires_in=8,this.fulfilled_outcomes=[],this.unfulfilled_outcomes=[],this.destination_unit_group_key=setup.unitgroup.subrace_humandesert.key}text(){return"setup.qc.SlaveOrderCapitalOfSlaves()"}getCriteria(e){let t=setup.rng.choicesRandom(setup.TraitHelper.TRAINING_BASIC_GENDERLESS,2),a=setup.rng.choicesRandom(setup.TraitHelper.TRAINING_ADVANCED_GENDERLESS,2),r=setup.rng.choicesRandom(setup.TraitHelper.TRAINING_MASTER_GENDERLESS,1),s=[t[0],t[1],a[0],a[1],r[0]],n=[setup.trait.training_none],l=[setup.qres.Job(setup.job.slave)];return new setup.UnitCriteria(null,"Capital of Slaves Order Slave",s,n,l,{})}},o(kh,"SlaveOrderCapitalOfSlaves"),kh),setup.qcImpl.SlaveOrderDrow=(vh=class extends setup.qcImpl.SlaveOrderTemplate{constructor(e){super(),this.base_price=e,this.trait_multi=500,this.value_multi=0,this.expires_in=6,this.name="Order for a slave from V'errmyrdn",this.company_key="drow"}getCriteria(e){const t=[],a=[setup.rng.choice(setup.TraitHelper.getAllTraitsOfTags(["per"]))],r=[setup.qres.Job(setup.job.slave),setup.qres.NoTrait(setup.trait.training_mindbreak)];return new setup.UnitCriteria(null,"Slave Order from V'errmyrdn",a,t,r,{})}text(){return`setup.qc.SlaveOrderDrow(${this.base_price})`}},o(vh,"SlaveOrderDrow"),vh),setup.qcImpl.SlaveOrderEquivalentExchange=(Sh=class extends setup.qcImpl.SlaveOrderTemplate{constructor(){super(),this.base_price=100,this.name="Your Ransom",this.company_key="independent",this.expires_in=4,this.fulfilled_outcomes=[setup.qc.FreePlayer()],this.unfulfilled_outcomes=[setup.qc.Player(setup.qc.TraumatizeRandom("unit",20)),setup.qc.HideAll([setup.qc.Function(()=>{setup.qc.Opportunity("equivalent_exchange",{you:"you"}).apply(setup.costUnitHelper(State.variables.unit.player))})],"You will continue to be held captive...")]}text(){return"setup.qc.SlaveOrderEquivalentExchange()"}getCriteria(e){const t=[],a=State.variables.unit.player.getSlaveValue();return t.push(setup.qres.Job(setup.job.slave)),t.push(setup.qres.Trait(setup.trait.training_none)),t.push(setup.qres.SlaveValueAtLeast(Math.round(a*2))),new setup.UnitCriteria(null,"Your Ransom",[],[],t,{})}},o(Sh,"SlaveOrderEquivalentExchange"),Sh),setup.qcImpl.SlaveOrderFuckholeFair=(Th=class extends setup.qcImpl.SlaveOrderTemplate{constructor(){super(),this.base_price=0,this.trait_multi=0,this.criteria=setup.qu.slave,this.name="Order for a slave from a contact you meet at the fuckhole fair",this.company_key="humanvale",this.expires_in=4,this.fulfilled_outcomes=[],this.unfulfilled_outcomes=[],this.destination_unit_group_key=setup.unitgroup.soldslaves.key}text(){return"setup.qc.SlaveOrderFuckholeFair()"}getValueMulti(e){return setup.lowLevelMoneyMulti()}},o(Th,"SlaveOrderFuckholeFair"),Th),setup.qcImpl.SlaveOrderHeadCourtesan=(_h=class extends setup.qcImpl.SlaveOrderTemplate{constructor(){super(),this.base_price=0,this.trait_multi=0,this.value_multi=.5,this.name="Head Courtesan",this.company_key="player",this.expires_in=50,this.fulfilled_outcomes=[setup.qc.HideAll([setup.qc.VarSet("quest_brothel_progress","108",-1),setup.qc.VarSet("quest_brothel_wait","4",-1)],"Improves your brothel")],this.destination_unit_group_key=setup.unitgroup.brothel_head_courtesan.key}text(){return"setup.qc.SlaveOrderHeadCourtesan()"}getCriteria(e){setup.dutytemplate.questbrothelmanager.class();const t=setup.dutytemplate.questbrothelmanager.sub(),a=[setup.qres.Job(setup.job.slave),setup.qres.Trait(setup.trait.training_obedience_advanced),setup.qres.AnyTrait([setup.trait.magic_fire,setup.trait.magic_water,setup.trait.magic_earth,setup.trait.magic_wind,setup.trait.magic_dark,setup.trait.magic_light])];t=="sub"?(a.push(setup.qres.Trait("per_submissive")),a.push(setup.qres.AnyTrait([setup.trait.value_high3,setup.trait.value_high4,setup.trait.value_high5,setup.trait.value_high6,setup.trait.value_high7],!0))):t=="dom"?(a.push(setup.qres.Trait("per_dominant")),a.push(setup.qres.AnyTrait([setup.trait.value_high3,setup.trait.value_high4,setup.trait.value_high5,setup.trait.value_high6,setup.trait.value_high7],!0))):(a.push(setup.qres.NoTrait("per_dominant")),a.push(setup.qres.NoTrait("per_submissive")),a.push(setup.qres.AnyTrait([setup.trait.value_high4,setup.trait.value_high5,setup.trait.value_high6,setup.trait.value_high7],!0))),setup.dutytemplate.questbrothelmanager.gender()=="male"?a.push(setup.qres.Trait("gender_male")):a.push(setup.qres.Trait("gender_female"));const r=[],s=[];return new setup.UnitCriteria(null,this.name,r,s,a,{})}},o(_h,"SlaveOrderHeadCourtesan"),_h),setup.qcImpl.SlaveOrderHeadHunter=(Ah=class extends setup.qcImpl.SlaveOrderTemplate{constructor(e){super(),this.base_price=setup.MONEY_PER_SLAVER_WEEK*1.5,this.trait_multi=setup.MONEY_PER_SLAVER_WEEK,this.value_multi=1,e&&(this.value_multi=2),this.is_crit=e,this.name="Order from the Head Hunter Inc.",this.company_key="humankingdom",this.expires_in=14,this.fulfilled_outcomes=[],this.unfulfilled_outcomes=[setup.qc.MoneyMult(-3)],this.destination_unit_group_key=setup.unitgroup.soldslaves.key}text(){return`setup.qc.SlaveOrderHeadHunter(${this.is_crit})`}getCriteria(e){const t=setup.UnitPoolTraitAlloc.getBaseTraitPreferences(setup.trait.gender_male).per.chances;let a=setup.UnitPool.generateTraitsFromObj(t,5,5),r=[setup.trait[a[0]],setup.trait[a[1]],setup.trait[a[2]]],s=[setup.trait[a[3]],setup.trait[a[4]]],n=setup.TraitHelper.TRAINING_BASIC_GENDERLESS,l=n[Math.floor(Math.random()*n.length)];r.push(l);const u=[setup.trait.subrace_humankingdom,setup.trait.subrace_humanvale,setup.trait.race_elf,setup.trait.race_catkin,setup.trait.race_wolfkin];let h=u[Math.floor(Math.random()*u.length)],p=[setup.qres.Job(setup.job.slave),setup.qres.Trait(h),setup.qres.Trait(setup.trait.training_obedience_basic)];return new setup.UnitCriteria(null,"Head Hunter Inc Order Slave",r,s,p,{})}},o(Ah,"SlaveOrderHeadHunter"),Ah),setup.qcImpl.SlaveOrderHighDemonCommunity=(Mh=class extends setup.qcImpl.SlaveOrderTemplate{constructor(e){super();let t;this.base_price=1e3,this.trait_multi=0,this.value_multi=0,this.type=e,e=="money"?(t="easy",this.base_price=5e3,this.trait_multi=2600,this.value_multi=1.1):e=="favor"||e=="equipment"?t="easy":e=="sexmanual"||e=="slaver"||e=="potion"?t="hard":e=="punishment"&&(t="punishment",this.base_price=15),this.difficulty=t,this.name="Order from the High Demon Society",this.company_key="demon",this.expires_in=24,this.destination_unit_group_key=setup.unitgroup.soldslaves.key}text(){return`setup.qc.SlaveOrderHighDemonCommunity(${this.value_multi})`}getUnfulfilledOutcomes(e){const t=[setup.qc.HideAll([setup.qc.SetCooldownQuest("high_demon_society",0)],"")];return this.type=="punishment"&&t.push(setup.qc.Ire("demon",20)),t}getFulfilledOutcomes(e){const t=[];if(this.type!="punishment"&&t.push(setup.qc.HideAll([setup.qc.VarSet("high_demon_society_fulfilled",1,25)],"")),this.type=="favor")t.push(setup.qc.UnitValueToFavor("demon",.02,50));else if(this.type=="equipment")t.push(setup.qc.HideAll([setup.qc.Equipment(setup.equipmentpool.slaving_good),setup.qc.Equipment(setup.equipmentpool.slaving_good)],"Rare equipments..."));else if(this.type=="sexmanual")t.push(setup.qc.Item(setup.item.sexmanual_facesit));else if(this.type=="slaver")t.push(setup.qc.Function(a=>{const r=a.getUnit(),s=setup.unitgroup.subrace_demon.getUnit({trait_key:r.getGender().key,retries:setup.INFINITY});State.variables.notification.disable(),setup.qcImpl.Bodyswap.doBodySwap(r,s),setup.qc.TraitReplace("unit",setup.trait.race_demon).apply(setup.costUnitHelper(s)),setup.qc.ResetInnateTraits("unit").apply(setup.costUnitHelper(s)),setup.qc.AddTitle("unit","high_society_demon").apply(setup.costUnitHelper(s)),State.variables.notification.enable(),setup.qc.Slaver("unit",`a|is a demon from the high demon society who joined your company after possessing the body of ${r.getName()}`).apply(setup.costUnitHelper(s,a.getName()))},"A demonic slaver will possess the slave's body and join the mortal realm..."));else if(this.type=="potion"){const a=setup.item.technology_blank,r=setup.item.blank_potion;State.variables.inventory.isHasItem(a)?(t.push(setup.qc.Item(r)),t.push(setup.qc.Item(r))):t.push(setup.qc.Item(a)),t.push(setup.qc.Item(r)),t.push(setup.qc.Item(r))}return t}_getRandomTraits(){let e=["per","skill","muscle","height","tough","face"];return setup.unitpool.subrace_demon_male._generateTraits().filter(a=>!a.isNeedGenital()&&a.getTags().filter(r=>e.includes(r)).length)}getCriteria(e){const t=[],a=[],r=[setup.qres.Job(setup.job.slave),setup.qres.NoTrait(setup.trait.race_demon)];if(this.type!="punishment"&&r.push(setup.qres.Through(setup.qres.VarNull("high_demon_society_fulfilled"),"Only one High Demon Society order can be fulfilled at a time")),["money","favor"].includes(this.type)){const n=setup.TraitHelper.getAllTraitsOfTags(["corruption"]).filter(u=>!u.isNeedGenital());setup.rng.shuffleArray(n);for(let u=0;u<5;++u)t.push(n[u]);for(let u=5;u<n.length;++u)a.push(n[u]);const l=this._getRandomTraits();for(let u=0;u<l.length;++u)u%2?a.push(...l[u].getTraitCover()):t.push(...l[u].getTraitCover())}if(this.difficulty=="easy"){const n=this._getRandomTraits();r.push(setup.qres.Trait(n[0])),r.push(setup.qres.Trait(setup.trait.corrupted))}else if(this.difficulty=="punishment")r.push(setup.qres.Trait(setup.trait.corrupted));else{const n=this._getRandomTraits();r.push(setup.qres.Trait(n[0]));const l=setup.TraitHelper.getAllTraitsOfTags(["corruption"]).filter(u=>!u.isNeedGenital());setup.rng.shuffleArray(l);for(let u=0;u<l.length;++u)u%2?r.push(setup.qres.NoTrait(l[u])):r.push(setup.qres.Trait(l[u]))}return new setup.UnitCriteria(null,"High Demon Society Order",t,a,r,{})}},o(Mh,"SlaveOrderHighDemonCommunity"),Mh),setup.qcImpl.SlaveOrderHoundmastery=(wh=class extends setup.qcImpl.SlaveOrderTemplate{constructor(e){super(),this.base_price=1,this.trait_multi=0,this.value_multi=0,this.name="Order from the master of hounds",this.company_key="neko",this.expires_in=16,this.fulfilled_outcomes=[setup.qc.HideAll([setup.qc.VarAdd("houndmaster_pets_delivered",1,16)],"???")],this.unfulfilled_outcomes=[],this.destination_unit_group_key=setup.unitgroup.soldslaves.key,this.trait_key=setup.keyOrSelf(e)}text(){return`setup.qc.SlaveOrderHoundmastery(${this.value_multi})`}getCriteria(e){const t=[],a=[],r=[setup.qres.Job(setup.job.slave),setup.qres.Trait(this.trait_key),setup.qres.Trait(setup.trait.training_pet_advanced)];return new setup.UnitCriteria(null,"Master of Hounds Order",t,a,r,{})}},o(wh,"SlaveOrderHoundmastery"),wh),setup.qcImpl.SlaveOrderLonelyAlchemist=(Rh=class extends setup.qcImpl.SlaveOrderItem{constructor(e){super(e,Math.floor(25e3/setup.selfOrObject(e,setup.item).getValue())),this.base_price=4e3,this.trait_multi=1200,this.value_multi=.9,this.name="Order from the Lonely Alchemist",this.company_key="elf",this.expires_in=14,this.fulfilled_outcomes=[],this.unfulfilled_outcomes=[],this.destination_unit_group_key=setup.unitgroup.soldslaves.key}text(){return`setup.qc.SlaveOrderLonelyAlchemist('${this.item_key}')`}getCriteria(e){const t=[[setup.trait.skill_alchemy],[setup.trait.magic_earth,setup.trait.magic_earth_master],[setup.trait.face_beautiful],[setup.trait.tough_nimble],[setup.trait.per_smart]],a=[[setup.trait.race_human],[setup.trait.magic_wind,setup.trait.magic_wind_master],[setup.trait.face_scary,setup.trait.face_hideous],[setup.trait.tough_tough],[setup.trait.per_slow]],r=setup.rng.choicesRandom(t,2).reduce((u,h)=>u.concat(h),[]),s=setup.rng.choicesRandom(a,2).reduce((u,h)=>u.concat(h),[]),n=[setup.qres.Job(setup.job.slave),setup.qres.Trait(setup.trait.training_obedience_basic)];return new setup.UnitCriteria(null,this.name,r,s,n,{})}},o(Rh,"SlaveOrderLonelyAlchemist"),Rh),setup.qcImpl.SlaveOrderMenial=(Eh=class extends setup.qcImpl.SlaveOrderTemplate{constructor(){super(),this.trait_multi=0,this.value_multi=0,this.criteria=new setup.UnitCriteria(null,"Menial Slave Order",[],[],[setup.qres.Job(setup.job.slave)],{}),this.name="Order for a menial slave from a nearby mine",this.company_key="independent",this.expires_in=setup.INFINITY,this.destination_unit_group_key=setup.unitgroup.soldslaves.key}getFulfilledOutcomes(e){return[new setup.qcImpl.SlaveOrderMenial]}explain(e){return"Another menial slave order"}text(){return"setup.qc.SlaveOrderMenial()"}getBasePrice(e){let t=Math.min(State.variables.unit.player.getLevel(),setup.LEVEL_PLATEAU),a=setup.qdiff[`normal${t}`];return Math.round(setup.SLAVE_ORDER_MENIAL_MULTI*a.getMoney())}},o(Eh,"SlaveOrderMenial"),Eh),setup.qcImpl.SlaveOrderMobileBrothel=(xh=class extends setup.qcImpl.SlaveOrderTemplate{constructor(e){super(),this.base_price=0,this.trait_multi=setup.MONEY_PER_SLAVER_WEEK*3,this.value_multi=e,this.name="Order from Mobile Brothel",this.company_key="humandesert",this.expires_in=8,this.fulfilled_outcomes=[],this.unfulfilled_outcomes=[],this.destination_unit_group_key=setup.unitgroup.soldslaves.key}text(){return`setup.qc.SlaveOrderMobileBrothel(${this.value_multi})`}getCriteria(e){let t=["muscle_strong","muscle_thin","per_smart","per_slow","dick_large","breast_large","face_attractive","face_scary","height_tall","height_short","anus_loose","vagina_loose"];setup.rng.shuffleArray(t);let a=[setup.trait[t[0]],setup.trait[t[1]],setup.trait[t[2]]],r=[setup.trait[t[3]],setup.trait[t[4]]],s=[setup.qres.Job(setup.job.slave)];return new setup.UnitCriteria(null,"Mobile Brothel Order Slave",a,r,s,{})}},o(xh,"SlaveOrderMobileBrothel"),xh),setup.qcImpl.SlaveOrderMoreWhoreForYourBrothel=(Dh=class extends setup.qcImpl.SlaveOrderTemplate{constructor(){super(),this.base_price=0,this.trait_multi=1e3,this.value_multi=0,this.name="More Whore for Your Brothel",this.company_key="player",this.expires_in=50,this.fulfilled_outcomes=[setup.qc.HideAll([setup.qc.VarSet("quest_brothel_progress","68",-1),setup.qc.VarSet("quest_brothel_wait","4",-1)],"Improves your brothel")],this.destination_unit_group_key=setup.unitgroup.soldslaves.key}text(){return"setup.qc.SlaveOrderMoreWhoreForYourBrothel()"}getCriteria(e){const t=setup.dutytemplate.questbrothelmanager.class();let a,r;t>0?(a=[setup.trait.bg_courtesan,setup.trait.bg_royal,setup.trait.bg_noble,setup.trait.skill_connected,setup.trait.training_dominance_master],r=[setup.trait.bg_slave,setup.trait.bg_whore,setup.trait.bg_thug,setup.trait.per_lunatic]):t<0?(a=[setup.trait.bg_whore,setup.trait.bg_slave,setup.trait.per_sexaddict,setup.trait.training_obedience_master],r=[setup.trait.bg_courtesan,setup.trait.bg_noble,setup.trait.bg_royal,setup.trait.per_chaste,setup.trait.per_lunatic]):(a=[setup.trait.bg_informer,setup.trait.bg_entertainer,setup.trait.bg_artist,setup.trait.skill_entertain,setup.trait.training_horny_master],r=[setup.trait.per_lunatic,setup.trait.per_masochistic]),a.push(setup.trait.value_high4),a.push(setup.trait.value_high5),a.push(setup.trait.value_high6),a.push(setup.trait.value_high7);const s=setup.dutytemplate.questbrothelmanager.sub(),n=[setup.qres.Job(setup.job.slave),setup.qres.Trait(setup.trait.training_obedience_advanced)];return s=="sub"?(a.push(setup.trait.per_submissive),r.push(setup.trait.per_dominant)):(a.push(setup.trait.per_dominant),r.push(setup.trait.per_submissive)),setup.dutytemplate.questbrothelmanager.gender()=="male"?n.push(setup.qres.Trait("gender_male")):n.push(setup.qres.Trait("gender_female")),new setup.UnitCriteria(null,this.name,a,r,n,{})}},o(Dh,"SlaveOrderMoreWhoreForYourBrothel"),Dh),setup.qcImpl.SlaveOrderSafariZone=(Ih=class extends setup.qcImpl.SlaveOrderTemplate{constructor(e){super(),this.base_price=setup.MONEY_PER_SLAVER_WEEK,this.trait_multi=setup.MONEY_PER_SLAVER_WEEK*5,this.value_multi=e;let t=setup.CriteriaHelper.DisasterTraits([setup.trait.eq_valuable,setup.trait.eq_veryvaluable].concat(setup.TraitHelper.TRAINING_ALL_INCL_MINDBREAK),setup.qu.slave);this.criteria=t,this.name="Order from Safari Zone",this.company_key="independent",this.expires_in=6,this.fulfilled_outcomes=[],this.unfulfilled_outcomes=[],this.destination_unit_group_key=setup.unitgroup.soldslaves.key}text(){return`setup.qc.SlaveOrderSafariZone(${this.value_multi})`}},o(Ih,"SlaveOrderSafariZone"),Ih),setup.qcImpl.SlaveOrderSeaborneRescueItHasToBeYouAssPirate=($h=class extends setup.qcImpl.SlaveOrderTemplate{constructor(){super(),this.base_price=0,this.trait_multi=6e3,this.value_multi=1,this.criteria=new setup.UnitCriteria(null,"Ass Pirate Order",[setup.trait.anus_tight,setup.trait.training_anal_basic,setup.trait.training_anal_advanced,setup.trait.training_anal_master],[],[setup.qres.Job(setup.job.slave),setup.qres.Or([setup.qres.Trait(setup.trait.training_anal_basic),setup.qres.Trait(setup.trait.anus_tight)])],{}),this.name="Ass Pirate Order",this.company_key="outlaws",this.expires_in=4,this.fulfilled_outcomes=[],this.unfulfilled_outcomes=[],this.destination_unit_group_key=setup.unitgroup.soldslaves.key}text(){return"setup.qc.SlaveOrderSeaborneRescueItHasToBeYouAssPirate()"}},o($h,"SlaveOrderSeaborneRescueItHasToBeYouAssPirate"),$h),setup.qcImpl.SlaveOrderSeaborneRescueItHasToBeYouDemon=(Oh=class extends setup.qcImpl.SlaveOrderTemplate{constructor(){super(),this.base_price=15e3,this.trait_multi=0,this.value_multi=0,this.criteria=new setup.UnitCriteria(null,"Pirate Captain Order (First Mate)",[],[],[setup.qres.Job(setup.job.slave),setup.qres.Trait(setup.trait.race_demon)],{}),this.name="Pirate Captain Order (First Mate)",this.company_key="outlaws",this.expires_in=12,this.fulfilled_outcomes=[],this.unfulfilled_outcomes=[],this.destination_unit_group_key=setup.unitgroup.soldslaves.key}text(){return"setup.qc.SlaveOrderSeaborneRescueItHasToBeYouDemon()"}},o(Oh,"SlaveOrderSeaborneRescueItHasToBeYouDemon"),Oh),setup.qcImpl.SlaveOrderSeaborneRescueItHasToBeYouEasyToPleasePirate=(Ch=class extends setup.qcImpl.SlaveOrderTemplate{constructor(){super(),this.base_price=0,this.trait_multi=4e3,this.value_multi=1,this.name="Easy-to-Please Pirate Order",this.company_key="outlaws",this.expires_in=4,this.fulfilled_outcomes=[],this.unfulfilled_outcomes=[],this.destination_unit_group_key=setup.unitgroup.soldslaves.key}text(){return"setup.qc.SlaveOrderSeaborneRescueItHasToBeYouEasyToPleasePirate()"}getCriteria(e){let t=setup.UnitPoolTraitAlloc.getBaseTraitPreferences(setup.trait.gender_male).per.chances,r=setup.UnitPool.generateTraitsFromObj(t,7,7).map(h=>setup.trait[h]),s=[],n=State.variables.settings.getGenderRandom(setup.job.slave),l=[setup.qres.Job(setup.job.slave),setup.qres.Trait(n)];return new setup.UnitCriteria(null,"Easy-to-Please Pirate Order",r,s,l,{})}},o(Ch,"SlaveOrderSeaborneRescueItHasToBeYouEasyToPleasePirate"),Ch),setup.qcImpl.SlaveOrderSeaborneRescueItHasToBeYouNouveauRichePirate=(Ph=class extends setup.qcImpl.SlaveOrderTemplate{constructor(){super(),this.base_price=0,this.trait_multi=0,this.value_multi=1.5,this.criteria=setup.CriteriaHelper.Name("Nouveau Riche Pirate Order",setup.qu.slave),this.name="Nouveau Riche Pirate Order",this.company_key="outlaws",this.expires_in=4,this.fulfilled_outcomes=[],this.unfulfilled_outcomes=[],this.destination_unit_group_key=setup.unitgroup.soldslaves.key}text(){return"setup.qc.SlaveOrderSeaborneRescueItHasToBeYouNouveauRichePirate()"}},o(Ph,"SlaveOrderSeaborneRescueItHasToBeYouNouveauRichePirate"),Ph),setup.qcImpl.SlaveOrderSeaborneRescueItHasToBeYouSlave=(Lh=class extends setup.qcImpl.SlaveOrderTemplate{constructor(){super(),this.base_price=0,this.trait_multi=3e3,this.value_multi=1,this.name="Pirate Captain Order (Slave)",this.company_key="outlaws",this.expires_in=4,this.fulfilled_outcomes=[],this.unfulfilled_outcomes=[],this.destination_unit_group_key=setup.unitgroup.soldslaves.key}text(){return"setup.qc.SlaveOrderSeaborneRescueItHasToBeYouSlave()"}getCriteria(e){let t=[[setup.trait.per_lustful,setup.trait.per_sexaddict],[setup.trait.per_active],[setup.trait.per_playful],[setup.trait.training_obedience_advanced],[setup.trait.anus_tight],[setup.trait.muscle_strong,setup.trait.muscle_verystrong,setup.trait.muscle_extremelystrong],[setup.trait.face_attractive,setup.trait.face_beautiful],[setup.trait.muscle_thin,setup.trait.muscle_verythin,setup.trait.muscle_extremelythin],[setup.trait.skill_entertain],[setup.trait.skill_hypnotic],[setup.trait.skill_ambidextrous]],a=State.variables.settings.getGenderRandom(setup.job.slave);a==setup.trait.gender_male?t=t.concat([[setup.trait.dick_large,setup.trait.dick_huge,setup.trait.dick_titanic],[setup.trait.balls_large,setup.trait.balls_huge,setup.trait.balls_titanic]]):t=t.concat([[setup.trait.breast_large,setup.trait.breast_huge,setup.trait.breast_titanic],[setup.trait.vagina_tight]]),setup.rng.shuffleArray(t);let r=[],s=[];for(let u=0;u<6;++u)for(let h=0;h<t[u].length;++h)s.push(t[u][h]);let n=[setup.qres.Job(setup.job.slave),setup.qres.Trait(a)];return new setup.UnitCriteria(null,"Easy-to-Please Pirate Order",s,r,n,{})}},o(Lh,"SlaveOrderSeaborneRescueItHasToBeYouSlave"),Lh),setup.qcImpl.SlaveOrderTheRearDeal=(Uh=class extends setup.qcImpl.SlaveOrderTemplate{constructor(){super(),this.base_price=100,this.trait_multi=0,this.value_multi=0,this.name="The Rear Deal",this.company_key="humankingdom",this.expires_in=18,this.unfulfilled_outcomes=[setup.qc.VarRemove("the_rear_deal_active")],this.destination_unit_group_key=setup.unitgroup.soldslaves.key}text(){return"setup.qc.SlaveOrderTheRearDeal()"}getFulfilledOutcomes(e){const t=[setup.qc.VarRemove("the_rear_deal_active"),setup.qc.Item(setup.item.potion_tight),setup.qc.Item(setup.item.potion_tight)];return State.variables.inventory.isHasItem(setup.item.rear_technology)?(t.push(setup.qc.Item(setup.item.potion_tight)),t.push(setup.qc.Item(setup.item.potion_tight)),t.push(setup.qc.Item(setup.item.potion_tight))):t.push(setup.qc.Item(setup.item.rear_technology)),t}getCriteria(e){let t=setup.rng.choicesRandom(setup.TraitHelper.TRAINING_ADVANCED_GENDERLESS,12),a=[],r=[],s=[setup.qres.Job(setup.job.slave)],n=[t[0].getTraitGroup().getLargestTrait(),t[1],t[2],t[3],t[4],t[5],t[6]];for(let h=0;h<n.length;++h)s.push(setup.qres.TraitExact(n[h]));let l=[t[7],t[8],t[9],t[10],t[11]];for(let h=0;h<l.length;++h){let p=l[h];p.getTags().includes("trobedience")||p.getTags().includes("trendurance")||s.push(setup.qres.NoTrait(p.getTraitGroup().getSmallestTrait()))}return new setup.UnitCriteria(null,"The Rear Deal",a,r,s,{})}},o(Uh,"SlaveOrderTheRearDeal"),Uh),setup.qcImpl.SlaveOrderTrainingAsAService=(Nh=class extends setup.qcImpl.SlaveOrderTemplate{constructor(){super(),this.base_price=setup.MONEY_PER_SLAVER_WEEK*1.5,this.trait_multi=setup.MONEY_PER_SLAVER_WEEK*3,this.value_multi=1,this.name="Order from a client in the City of Lucgate.",this.company_key="humankingdom",this.expires_in=8,this.fulfilled_outcomes=[],this.unfulfilled_outcomes=[setup.qc.Ire("humankingdom",5),setup.qc.RemoveTitleGlobal("training_as_a_service")],this.destination_unit_group_key=setup.unitgroup.soldslaves.key}text(){return"setup.qc.SlaveOrderTrainingAsAService()"}getCriteria(e){let t=[],a=setup.TraitHelper.getAllTraitsOfTags(["trbasic","trmale","trfemale","trnonbasic"]),r=setup.rng.choice(a),n=r.getTraitGroup().getTraitCover(r),l=[setup.qres.Job(setup.job.slave),setup.qres.Trait(setup.trait.training_obedience_basic),setup.qres.HasTitle("training_as_a_service")];return new setup.UnitCriteria(null,"Order from a client in the City of Lucgate",n,t,l,{})}},o(Nh,"SlaveOrderTrainingAsAService"),Nh);const Uk=300;function GO(){const i=[],e=setup.dutytemplate.questbrothelmanager.progress(),t=setup.dutytemplate.questbrothelmanager.class(),a=setup.dutytemplate.questbrothelmanager.sub(),r=setup.dutytemplate.questbrothelmanager.brothelName(),s=setup.dutytemplate.questbrothelmanager.gender();setup.dutytemplate.questbrothelmanager.profit();const n=setup.dutytemplate.questbrothelmanager.netProfit(),l=setup.dutytemplate.questbrothelmanager.favor(),u=setup.dutytemplate.questbrothelmanager.facility(),h=setup.dutytemplate.questbrothelmanager.attraction(),p=setup.dutytemplate.questbrothelmanager.promotion(),c=setup.dutytemplate.questbrothelmanager.highIncome(),d=setup.getUnit({title:"quest_brothel_owner_0"}),g=setup.unitgroup.brothel_cleanup0.getOnlyUnit(),m=setup.unitgroup.brothel_head_courtesan.getOnlyUnit();let f;e<100?f="whore":f="courtesan";{const b=[];if(b.push(html`
      ${setup.rng.choice([`Your brothel is located in the ${setup.lore.location_npc.rep()},`,`Your brothel is situated within the ${setup.lore.location_npc.rep()}`])}
      ${d?`and it is managed by ${d.rep()}.`:"but nobody is managing it, and it will soon close..."}
    `),e<52?b.push(html`
        ${setup.capitalize(r)} does not currently have any official name, and locals usually simply refer to it as "the brothel".
      `):b.push(html`
        ${setup.rng.choice([`Your brothel is known as ${r}.`,`You've named your brothel ${r}.`])}
      `),e<8)b.push(html`
        You have just acquired your brothel, and it's not yet operational right now.
      `);else{let v;e<28?v="are complete amateurs at their job":e<60?t>0?v="have some basic entertainment skills":v="have some basic sexual skills":e<100?a=="sub"?v="are pretty skilled at being submissive little sluts":v="are pretty skilled at dominating the clients":a=="sub"?v=setup.rng.choice(["are expert sluts, capable of taking the hardest punishments from the customers and deriving pleasure from it","are expert submissives, and they can take even the hardest punishment without breaking and can even derive pleasure from the pain"]):a=="dom"?v=setup.rng.choice(["are expert doms, capable of playing a role in any submissive's darkest fantasy","have expert knowledge in dominating others, capable of both challenging their clients, or even dominating them should the client wish"]):v=setup.rng.choice(["are expert switches, capable of playing both a submissive or dominant role","are perfectly comfortable playing a submissive or dominant role, and are able to satisfy a wide range of the clients' fetishes"]),b.push(html`
        ${setup.rng.choice([`Your brothel specializes in providing ${s} ${f}s, and they ${v}.`,`Your brothel is known for its ${s} ${f}s, who ${v}.`])}
      `)}if(e>=500){let v;c<=0?v=["Unfortunately, time has shown its mark on your brothel, and the exterior is nowhere as grand as it used to be. Profit declines as a result.","Unfortunately, your brothel is starting to show wear and tear, and the profit is starting to decline."]:c<=100?v=["Your brothel's building is quite old by now, but its reputation still stand and it's still making quite a bit of profit. Expect profit to decline soon, however.","It has been several years since your brothel was last time renovated, and time is starting to show its mark on the exterior. The brothel is still reputable and making a lot of profit, however, but this may change soon."]:c<=Uk?v=["Your brothel's building is quite old by now, but its reputation still stand and it's still making quite a bit of profit. Expect profit to decline soon, however.","It has been several years since your brothel was last time renovated, and time is starting to show its mark on the exterior. The brothel is still reputable and making a lot of profit, however, but this may change soon."]:v=["Your brothel's exterior is almost brand-new, and it positively affect profit.","Your brothel has a good reputation as well as an almost brand-new building, which positively affect profit."],b.push(html`
        ${setup.rng.choice(v)}
      `)}b.push(html`
      ${setup.rng.choice([html`On average, your brothel makes ${setup.DOM.Util.money(n)} each week,`,html`Your brothel makes ${setup.DOM.Util.money(n)} on an average week,`,html`The weekly profit of your brothel amounts to ${setup.DOM.Util.money(n)},`])}
      ${l?html`
        ${setup.rng.choice([html`as well as ${setup.DOM.Util.favor(l)} favor with the neko,`,html`in addition to ${setup.DOM.Util.favor(l)} favor with the neko,`,html`together with ${setup.DOM.Util.favor(l)} favor with the neko,`])}
      `:""}
      ${setup.rng.choice(["as long as your brothel manager remains on duty.","but this is only collected when your brothel manager is on duty.","although you will need to staff a brothel manager to collect this profit."])}
    `),i.push(setup.DOM.create("p",{},b))}{const b=[];if(e<12)b.push(html`
        Your brothel still occupies the same decrepit little hovel that were completely thrashed
        by the occupying bandits.
      `);else if(e<76)b.push(html`
        Your brothel is housed within a small non-descript building -- the very same one that was
        occupied by some bandits earlier, but it has been cleaned up and fixed to make it functional and well.
      `);else if(e<116)b.push(html`
        Your brothel occupies a large building after it has been expanded, complete with spacious rooms
        as well as
        ${u=="rooms"?"several luxurious private rooms on the second floor that customers can rent for a night or two.":"a full-blown sex dungeons complete with all sort of restraints and sex toys, for the kinkier customers."}
      `);else{let v,S;a=="sub"?S=setup.rng.choice(["submissive"]):a=="dom"?S=setup.rng.choice(["dominant"]):S=setup.rng.choice(["skilled","masterful","expert"]),t>=2?v=[`Your brothel is housed within a majestic palace-like complex, suitable for even royal clients.
           A grand throne-room greets your customers upon entry, with many ${S} ${f}s ready to satisfy whatever the customer desires (for a price).`,`A grand palace complex stands on the land where your brothel is located. Its luxurious entrance
           greets all customer with a literal red carpet, flanked by both sides with many ${S} ${f}s who are ready and willing to play to the customer's fantasies (for a price, of course).`]:t<=-2?v=["Your brothel's degeneracy is matched with its exterior, an imposing demonic palace complex, no doubt the fantasies of many clients. Various bondage devices are on display in the receptions, hanging from the walls, and occasionally some contain an unfortunate slave or two displaying how these can be used.","An imposing demonic palace complex houses your brothel. Its entrance is designed like a purgatory, with bondage tools scattered around and several slaves being displayed on the walls as living decorations to enhance the sadistic atmosphere."]:v=["Your brothel's building is designed as an exotic palace from the south, attracting many customers and tourists alike. Bamboo trees line up the walls of its reception, kept healthy by the magic infused within its roots.","Your brothel's building stands out from the other buildings in the vicinity -- its rich vibrant color appears exotically beautiful. The interior is similarly decorated, and a small makeshift canal is built into the receptions area, powered with magic."],b.push(html`
        ${setup.rng.choice(v)}
        ${setup.rng.choice(["The entire complex is infused with magic, enhancing the customer's experience within the complex.","Magic is present in many details of the complex, enhancing the overall customer experience."])}
        ${setup.rng.choice(["The biggest attraction of the complex lies in the innermost chamber of the palace.","The main draw of the complex, however, is inside the innermost chamber of the complex."])}
      `);let M;h=="gravity"?(v=['The chamber houses the so-called "Magic Gravity Room", where magical crystals are affixed to its floor. When imbued with magic, these crystals will emite a steady stream of wind upwards, essentially cancelling out gravity and letting anyone within the room to float free.','The "Magic Gravity Room" is located there. When activated, the various magical crystals afficed within the room will emite a steady stream of wind, which allows anyone inside to float harmlessly, as if gravity is not present at all within the room.'],a=="sub"?M=[`Paying customers can enjoy the exquisite feeling of fucking the available submissive ${f}s mid-air -- a unique experience provided only in your brothel throughout the continent.`]:a=="dom"?M=[`Paying customers can enjoy the exquisite feeling of being fucked by the dominant ${f}s mid-air -- a unique experience provided only in your brothel throughout the continent.`]:M=[`Paying customers can enjoy the exquisite feeling of either being fucked or fucking the ${f}s mid-air -- a unique experience provided only in your brothel throughout the continent.`]):(v=['The chamber houses the so-called "Magic Bondage Room". While it looks like a regular sex dungeons from the outside, the various manacles and sex toys housed within are enchanted, and with the right application of magic these enchantments can be activated.','The "Magic Bondage Room" is located here. From a glance, it looks like just a regular sex dungeons, with manacles, restraints, and sex toys littering the place. But all of these are enchanted, and can be activated to great effects.'],a=="sub"?M=[`Paying customers can enjoy the exquisite feeling of dominating the submissive ${f}s, restraining them mid-air with the enchanted restraints while inserting the various vibrating and electrifying apparatus deep inside them.`]:a=="dom"?M=[`Paying customers can enjoy the exquisite feeling of being dominated by the dominant ${f}s, who would gladly partake in their darkest submissive fantasies, including restraining the customers mid-air with the enchanted restraints while inserting the various vibrating and electrifying apparatus deep inside them.`]:M=[`Paying customers can enjoy the exquisite feeling of both dominating and being dominated by the skillful ${f}s. The various restraints can be made to float mid-air, and the various sex toys would vibrate and electrify when their magic are activated.`]),b.push(html`
        ${setup.rng.choice(v)}
        ${setup.rng.choice(M)}
        ${setup.rng.choice(["A luxurious personal suite has also been built for your perusal only.","A luxurious room has also been designated as your own personal suite within the complex."])}
      `)}i.push(setup.DOM.create("p",{},b))}if(e>=8){const b=[];if(b.push(html`
      ${setup.rng.choice([`The brothel is staffed by several ${s} ${f}s, who call the place their home.`,`The brothel is staffed exclusively by ${s} ${f}s, who live inside the complex.`])}
    `),e<28?b.push(html`
        Their sexual and entertainment skills leave much to be desired.
      `):e<60?t>0?b.push(html`
          After a week of intense training led by one of your slavers, the ${f}s now have basic knowledge in entertainment.
        `):b.push(html`
          After a week of intense training led by one of your slavers, the ${f}s now have basic knowledge in whoring.
        `):e<100?a=="sub"?b.push(html`
          The ${f}s are quite good at their job, and in particular in being a submissive partner to their clients.
        `):b.push(html`
          The ${f}s are quite good at their job, and in particular in sexually domiating their clients.
        `):(b.push(html`
        ${setup.rng.choice([`After undergoing heavy training dished out by your slavers, the ${f}s`,`Thanks to the rigorous training dished out by your slavers, the ${f}s`])}
      `),a=="sub"?b.push(html`
          ${setup.rng.choice(["have become expert submissive sluts.","have become masterful submissive sluts.","possess expert knowledge in submitting to others."])}
        `):a=="dom"?b.push(html`
          ${setup.rng.choice(["have become expert dominants.","have mastered the act of dominating their sexual partners.","possess expert knowledge in dominating others."])}
        `):b.push(html`
          ${setup.rng.choice(["have become comfortable in both a submissive and dominant roles.","have become an expert switch slut.","have become natural in both submitting to and dominating others."])}
        `)),e<12?b.push(html`
        They sleep together in one of the few relatively clean rooms that remains within the establishment.
      `):e<76?b.push(html`
        They sleep in pairs within the staff rooms available in the brothel, which has mostly been cleaned up
        from the questionable stains that belonged to their previous bandit occupants.
      `):e<116?b.push(html`
        Each ${f} now has their own personal room in the expanded brothel building.
      `):b.push(html`
        ${setup.rng.choice(["They live luxuriously, each is given a personal room on the third floor of the palace complex.",`Each ${f} is entitled to a luxurious personal room on the third floor of the complex.`])}
      `),e>=44&&b.push(html`
        ${setup.rng.choice(["Several intimidating-looking bouncers, including a previous slave of yours, stand guard within the brothel.","The brothel is kept safe by several intimidating-looking bouncers, including a slave of yours that you have assigned for the duty."])}
      `),g&&e>=28){let v;p=="money"?v="business manager":p=="favor"?v="customer relations officer":v=`head ${f}`,b.push(html`
        ${setup.rng.choice([`The brothel's ${v}, ${g.rep()}, also lives in the brothel.`,`The brothel is also home to ${g.rep()}, who serves as the brothel's ${v}.`])}
      `);let S;e<76?S=[`a|They a|live in the same bunk with the rest of the ${s=="female"?"girls":"boys"}.`]:e<116?S=["a|They a|have a|their own personal room in the brothel complex, a fact that a|they a|is grateful for."]:S=["a|They a|is given one of the most luxurious rooms in the complex all for a|themself, to reward a|them for a|their long and loyal service.","a|Their room in the complex is one of the most luxurious rooms there, only inferior to your own personal suite."],b.push(html`
        ${setup.Text.replaceUnitMacros(S,{a:g})}
      `)}if(m){b.push(html`
        ${setup.rng.choice([`A former slave under your care, ${m.rep()}, now serves obediently as the brothel's head courtesan.`,`The head courtesan, ${m.rep()}, is actually for all intent and purposes your slave.`])}
      `);let v=["a|They a|is a gifted wizard, and a|use a|their magical mastery to activate the various magical enchantments throughout the venue.","a|They a|use a|their magical proficiency to great effect within the brothel, even occasionally using them in a creative way to satisfy a client's need."];b.push(html`
        ${setup.Text.replaceUnitMacros(v,{a:m})}
      `),e<116?b.push(html`
          ${setup.Text.replaceUnitMacros(`Like the rest of the ${f}s, a|they a|have a|their own personal room, although it is somewhat more spacious than the others.`,{a:m})}
        `):b.push(html`
          ${setup.Text.replaceUnitMacros(["a|They also a|have a|their own luxurious abode within the brothel, and the a|race sometimes invite customers into the room for some personal time.",`Like the rest of the ${f}s, a|they a|have a|their own personal room, but befitting a head courtesan, it is considerably more luxurious the others.`],{a:m})}
        `)}i.push(setup.DOM.create("p",{},b))}return setup.DOM.create("div",{},i)}o(GO,"brothelDescription"),setup.DutyTemplateQuestBrothelManager=(Hh=class extends setup.DutyTemplate{constructor(){super({key:"questbrothelmanager",name:"Brothel Manager",description_passage:"DutyQuestBrothelManager",type:"util",unit_restrictions:[setup.qres.Job(setup.job.slaver)],relevant_skills:{slaving:setup.DUTY_SKILL_MULTIPLIER_TOTAL/2,social:setup.DUTY_SKILL_MULTIPLIER_TOTAL/2},relevant_traits:{skill_connected:setup.DUTY_TRAIT_CRIT_CHANCE,per_gregarious:setup.DUTY_TRAIT_NORMAL_CHANCE,per_loner:-setup.DUTY_TRAIT_NORMAL_CHANCE},is_can_replace_with_specialist:!0});y(this,"QUEST_BROTHEL_WAIT","quest_brothel_wait");y(this,"QUEST_BROTHEL_CLASS","quest_brothel_class");y(this,"QUEST_BROTHEL_PROGRESS","quest_brothel_progress");y(this,"QUEST_BROTHEL_FACILITY","quest_brothel_facility");y(this,"QUEST_BROTHEL_ATTRACTION","quest_brothel_attraction");y(this,"QUEST_BROTHEL_NAME","quest_brothel_name");y(this,"QUEST_BROTHEL_GENDER","quest_brothel_gender");y(this,"QUEST_BROTHEL_SUB","quest_brothel_sub");y(this,"QUEST_BROTHEL_PROMOTION","quest_brothel_promotion");y(this,"QUEST_BROTHEL_HIGH_INCOME","quest_brothel_high_income");y(this,"QUEST_BROTHEL_ROYAL_VISIT","quest_brothel_royal_visit");y(this,"QUEST_BROTHEL_HIGH_INCOME_WARNING","quest_brothel_high_income_warning")}profit(){let t=0;setup.dutytemplate.questbrothelmanager.extraHighIncome()?t+=1500:setup.dutytemplate.questbrothelmanager.highIncome()&&(t+=750);const a=setup.dutytemplate.questbrothelmanager.progress(),r=500,s=120;return a>s?t+=r:t+=Math.round((a-1)/s*r),t}netProfit(){const t=setup.dutytemplate.questbrothelmanager.profit();return setup.dutytemplate.questbrothelmanager.promotion()=="favor"?Math.round(t/2):t}favor(){const t=setup.dutytemplate.questbrothelmanager.profit();return setup.dutytemplate.questbrothelmanager.promotion()=="favor"?setup.Favor.fromMoney(t/2):0}extraHighIncome(){return setup.dutytemplate.questbrothelmanager.highIncome()>=Uk}highIncome(){const t=State.variables.varstore.get(setup.dutytemplate.questbrothelmanager.QUEST_BROTHEL_HIGH_INCOME);return t?parseInt(t):0}decreaseHighIncome(){const t=setup.dutytemplate.questbrothelmanager.highIncome();t>=Uk?State.variables.varstore.set(setup.dutytemplate.questbrothelmanager.QUEST_BROTHEL_HIGH_INCOME,t-2,-1):t-1?State.variables.varstore.set(setup.dutytemplate.questbrothelmanager.QUEST_BROTHEL_HIGH_INCOME,t-1,-1):State.variables.varstore.remove(setup.dutytemplate.questbrothelmanager.QUEST_BROTHEL_HIGH_INCOME)}progress(){const t=State.variables.varstore.get(setup.dutytemplate.questbrothelmanager.QUEST_BROTHEL_PROGRESS);return t?parseInt(t):0}class(){const t=State.variables.varstore.get(setup.dutytemplate.questbrothelmanager.QUEST_BROTHEL_CLASS);return t?parseInt(t):0}sub(){return State.variables.varstore.get(setup.dutytemplate.questbrothelmanager.QUEST_BROTHEL_SUB)}promotion(){return State.variables.varstore.get(setup.dutytemplate.questbrothelmanager.QUEST_BROTHEL_PROMOTION)}gender(){return State.variables.varstore.get(setup.dutytemplate.questbrothelmanager.QUEST_BROTHEL_GENDER)}facility(){return State.variables.varstore.get(setup.dutytemplate.questbrothelmanager.QUEST_BROTHEL_FACILITY)}attraction(){return State.variables.varstore.get(setup.dutytemplate.questbrothelmanager.QUEST_BROTHEL_ATTRACTION)}brothelName(){const t=setup.dutytemplate.questbrothelmanager.progress();return t<3?"your decrepit brothel":t<12?"your little brothel":t<28?"your fledging brothel":t<44?"your growing brothel":t<52?"your nice little brothel":State.variables.varstore.get(setup.dutytemplate.questbrothelmanager.QUEST_BROTHEL_NAME)}randomizeBrothelName(){const t=`The ${YT()}`;return setup.dutytemplate.questbrothelmanager.setBrothelName(t),t}setBrothelName(t){State.variables.varstore.set(setup.dutytemplate.questbrothelmanager.QUEST_BROTHEL_NAME,t,-1)}describe(){return setup.DOM.Util.message(setup.dutytemplate.questbrothelmanager.brothelName(),()=>setup.DOM.create("div",{class:"helpcard"},GO()))}resetChain(){return[setup.qc.VarRemove("quest_brothel_wait"),setup.qc.VarRemove("quest_brothel_progress"),setup.qc.VarRemove("quest_brothel_facility"),setup.qc.VarRemove("quest_brothel_attraction"),setup.qc.VarRemove("quest_brothel_class"),setup.qc.VarRemove("quest_brothel_gender"),setup.qc.VarRemove("quest_brothel_sub"),setup.qc.VarRemove("quest_brothel_high_income_warning"),setup.qc.VarRemove("quest_brothel_high_income"),setup.qc.VarRemove("quest_brothel_promotion"),setup.qc.VarRemove("quest_brothel_name"),setup.qc.VarRemove("quest_brothel_royal_visit"),setup.qc.SetCooldownQuest("under_new_management",300),setup.qc.RemoveDuty("questbrothelmanager"),setup.qc.EmptyUnitGroup("brothel_head_courtesan"),setup.qc.EmptyUnitGroup("brothel_cleanup0"),setup.qc.SetCooldownEvent("pants_of_competence",0),setup.qc.SetCooldownEvent("job_change",0)]}advanceWeek(t){super.advanceWeek(t);const a=setup.getUnit({title:"quest_brothel_owner_0"}),r=setup.dutytemplate.questbrothelmanager.brothelName();if(a)if(!a.isSlaver())setup.notify(`Since a|rep is not a slaver under your employ, you could not benefit from the profits of ${r}`,{a});else{let s=t.getProc();if(s=="proc"||s=="crit"){let n=setup.dutytemplate.questbrothelmanager.netProfit(),l=setup.dutytemplate.questbrothelmanager.favor();s=="crit"&&(n*=1.2,l*=1.2),l&&setup.qc.Favor("neko",Math.round(l)).apply(),n=Math.round(n),n&&State.variables.company.player.addMoneyNudged(n);let u=State.variables.varstore.get(setup.dutytemplate.questbrothelmanager.QUEST_BROTHEL_WAIT);u&&(u=parseInt(u),u==1?State.variables.varstore.remove(setup.dutytemplate.questbrothelmanager.QUEST_BROTHEL_WAIT):State.variables.varstore.set(setup.dutytemplate.questbrothelmanager.QUEST_BROTHEL_WAIT,u-1,-1)),setup.dutytemplate.questbrothelmanager.highIncome()&&setup.dutytemplate.questbrothelmanager.decreaseHighIncome()}}}},o(Hh,"DutyTemplateQuestBrothelManager"),Hh),setup.dutytemplate.questbrothelmanager=()=>new setup.DutyTemplateQuestBrothelManager,setup.DutyTemplateQuestLivingGod=(Bh=class extends setup.DutyTemplate{constructor(){super({key:"questlivinggod",name:"Living God",description_passage:"DutyQuestLivingGod",type:"util",unit_restrictions:[setup.qres.Job(setup.job.slaver),setup.qres.Trait("bg_mythical"),setup.qres.HasTitle("quest_living_god")],relevant_skills:{social:setup.DUTY_SKILL_MULTIPLIER_TOTAL/3,intrigue:setup.DUTY_SKILL_MULTIPLIER_TOTAL/3,aid:setup.DUTY_SKILL_MULTIPLIER_TOTAL/3},relevant_traits:{magic_light_master:setup.DUTY_TRAIT_CRIT_CHANCE,magic_light:setup.DUTY_TRAIT_NORMAL_CHANCE,magic_fire_master:setup.DUTY_TRAIT_CRIT_CHANCE,magic_fire:setup.DUTY_TRAIT_NORMAL_CHANCE,magic_dark_master:-setup.DUTY_TRAIT_CRIT_CHANCE,magic_dark:-setup.DUTY_TRAIT_NORMAL_CHANCE}})}isFavor(){return!!State.variables.varstore.get("quest_living_god_isfavor")}getLivingGod(){return setup.getUnit({title:"quest_living_god"})}getFavorCompany(){const e=setup.dutytemplate.questlivinggod.getLivingGod();return e?e.getHomeCompany():null}favor(){return setup.Favor.fromMoney(setup.dutytemplate.questlivinggod.profit())}favorCrit(){return setup.Favor.fromMoney(setup.dutytemplate.questlivinggod.profitCrit())}profit(){return 500}profitCrit(){return 750}advanceWeek(e){super.advanceWeek(e);let t=e.getProc();if(t=="proc"||t=="crit")if(setup.dutytemplate.questlivinggod.isFavor()){let a=0;t=="proc"?a=setup.dutytemplate.questlivinggod.favor():a=setup.dutytemplate.questlivinggod.favorCrit();const r=setup.dutytemplate.questlivinggod.getFavorCompany();setup.notify(`${setup.capitalize(e.repYourDutyRep())} spreads some wisdom for a|their worshippers, as well as good words about your company`,{a:e.getAssignedUnit()}),setup.qc.Favor(r,a).apply()}else{let a=0;t=="proc"?a=setup.dutytemplate.questlivinggod.profit():a=setup.dutytemplate.questlivinggod.profitCrit(),setup.notify(`${setup.capitalize(e.repYourDutyRep())} collects some tithe from a|their worshippers`,{a:e.getAssignedUnit()}),setup.qc.Money(setup.nudgeMoney(a)).apply()}}},o(Bh,"DutyTemplateQuestLivingGod"),Bh),setup.dutytemplate.questlivinggod=()=>new setup.DutyTemplateQuestLivingGod,setup.qresImpl.ExistUnitWithTag=(Gh=class extends setup.Restriction{constructor(e){super(),this.tag_name=e}text(){return`setup.qres.ExistUnitWithTag('${this.tag_name}')`}explain(){return`Must EXIST any unit (anywhere in the world, not only in your company) with tag/flag: "${this.tag_name}"`}isOk(){for(let e in State.variables.unit)if(State.variables.unit[e].isHasTag(this.tag_name))return!0;return!1}},o(Gh,"ExistUnitWithTag"),Gh),setup.qresImpl.HasUnitWithTagAndJob=(zt=class extends setup.Restriction{constructor(e,t){super(),this.job_key=t.key,this.tag_name=e}text(){return`setup.qres.HasUnitWithTagAndJob('${this.tag_name}', setup.job.${this.job_key})`}explain(){let e=this.tag_name;return`Must have a unit with job: ${this.job_key} and tag/flag : "${e}"`}isOk(){let e=State.variables.company.player.getUnits({job:setup.job[this.job_key]});for(let t=0;t<e.length;++t)if(e[t].isHasTag(this.tag_name))return!0;return!1}},o(zt,"HasUnitWithTagAndJob"),y(zt,"NAME","Exists a unit with the given job and tag"),y(zt,"PASSAGE","RestrictionHasUnitWithTagAndJob"),y(zt,"UNIT",!0),zt),setup.qresImpl.HasUnitWithTagAndJobAndNoTrait=(qh=class extends setup.Restriction{constructor(e,t,a){super(),this.job_key=t.key,this.tag_name=e,this.trait_key=a.key}text(){return`setup.qres.HasUnitWithTagAndJobAndNoTrait('${this.tag_name}', setup.job.${this.job_key}, setup.trait.${this.trait_key})`}explain(){let e=this.tag_name,t=setup.trait[this.trait_key];return`Must have a unit with job: ${this.job_key} WITHOUT trait: ${t.rep()} and HAVE tag/flag : "${e}"`}isOk(){let e=State.variables.company.player.getUnits({job:setup.job[this.job_key]}),t=setup.trait[this.trait_key];for(let a=0;a<e.length;++a)if(e[a].isHasTag(this.tag_name)&&!e[a].isHasTrait(t))return!0;return!1}},o(qh,"HasUnitWithTagAndJobAndNoTrait"),qh),setup.qresImpl.HasUnitWithTagAndJobAndTrait=(zh=class extends setup.Restriction{constructor(e,t,a){super(),this.job_key=t.key,this.tag_name=e,this.trait_key=a.key}text(){return`setup.qres.HasUnitWithTagAndJobAndTrait('${this.tag_name}', setup.job.${this.job_key}, setup.trait.${this.trait_key})`}explain(){let e=this.tag_name,t=setup.trait[this.trait_key];return`Must have a unit with job: ${this.job_key} and trait: ${t.rep()} and tag/flag : "${e}"`}isOk(){let e=State.variables.company.player.getUnits({job:setup.job[this.job_key]}),t=setup.trait[this.trait_key];for(let a=0;a<e.length;++a)if(e[a].isHasTag(this.tag_name)&&e[a].isHasTrait(t))return!0;return!1}},o(zh,"HasUnitWithTagAndJobAndTrait"),zh),setup.qresImpl.NoUnitWithTag=(Ft=class extends setup.Restriction{constructor(e){super(),this.tag_name=e}text(){return`setup.qres.NoUnitWithTag('${this.tag_name}')`}explain(){return`Must NOT exists any unit (anywhere in the world, not only in your company) with tag/flag: "${this.tag_name}"`}isOk(){for(let e in State.variables.unit)if(State.variables.unit[e].isHasTag(this.tag_name))return!1;return!0}},o(Ft,"NoUnitWithTag"),y(Ft,"NAME","Does not exists any unit that has the given tag"),y(Ft,"PASSAGE","RestrictionNoUnitWithTag"),y(Ft,"UNIT",!0),Ft),setup.qresImpl.HasUnitWithTitle=(Fh=class extends setup.Restriction{constructor(e,t){super(),setup.isString(e)?this.title_key=e:this.title_key=e.key,t?this.params=t:this.params={}}text(){let e=`{
`;for(let t in this.params){let a=this.params[t];e+=`${t}: `,setup.isString(a)?e+=`"${a}",
`:e+=`${a},
`}return e+="}",`setup.qres.HasUnitWithTitle('${this.title_key}', ${e})`}explain(){let e=setup.title[this.title_key],t=[];for(let a in this.params){let r=this.params[a];t.push(`${a}: ${r}`)}return`Must exists any unit that has "${e.rep()}" and also ${t.join(", ")}`}isOk(){let e=setup.title[this.title_key],t=this.params,a=Object.values(State.variables.unit);"job_key"in t&&(a=State.variables.company.player.getUnits({job:setup.job[t.job_key]}));for(let r=0;r<a.length;++r){let s=a[r];if(State.variables.titlelist.isHasTitle(s,e))return!0}return!1}},o(Fh,"HasUnitWithTitle"),Fh),setup.qresImpl.NoUnitWithTitle=(jh=class extends setup.Restriction{constructor(e,t){super(),setup.isString(e)?this.title_key=e:this.title_key=e.key,t?this.params=t:this.params={}}text(){let e=`{
`;for(let t in this.params){let a=this.params[t];e+=`${t}: `,setup.isString(a)?e+=`"${a}",
`:e+=`${a},
`}return e+="}",`setup.qres.NoUnitWithTitle('${this.title_key}', ${e})`}explain(){let e=setup.title[this.title_key],t=[];for(let a in this.params){let r=this.params[a];t.push(`${a}: ${r}`)}return`Must NOT exists any unit that has "${e.rep()}" and also ${t.join(", ")}`}isOk(){let e=setup.title[this.title_key],t=this.params,a=Object.values(State.variables.unit);"job_key"in t&&(a=State.variables.company.player.getUnits({job:setup.job[t.job_key]}));for(let r=0;r<a.length;++r){let s=a[r];if(State.variables.titlelist.isHasTitle(s,e))return!1}return!0}},o(jh,"NoUnitWithTitle"),jh),setup.qresImpl.SlaveBedchamberFullUsableByYou=(Kh=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.SlaveBedchamberFullUsableByYou()"}explain(){return"Unit must be in a full bedchamber usable by you"}isOk(e){if(!e.isSlave())return!1;let t=e.getBedchamber();if(!t)return!1;let a=t.getSlaves();if(a.length<2)return!1;for(let r=0;r<a.length;++r)if(!a[r].isUsableBy(State.variables.unit.player))return!1;return!0}},o(Kh,"SlaveBedchamberFullUsableByYou"),Kh),setup.qresImpl.SlaveBedchamberHasFurniture=(Vh=class extends setup.Restriction{constructor(e){if(super(),!e)throw new Error("Item null in SlaveBedchamberHasFurniture");this.item_key=e.key}text(){return`setup.qres.SlaveBedchamberHasFurniture(setup.item.${this.item_key})`}getItem(){return setup.item[this.item_key]}explain(){return`Unit is a slave in a bedchamber with ${this.getItem().rep()}`}isOk(e){let t=e.getBedchamber();if(!t)return!1;let a=this.getItem();return a instanceof setup.Furniture&&t.getFurniture(a.getSlot())==a}},o(Vh,"SlaveBedchamberHasFurniture"),Vh),setup.qresImpl.SlaveHasBedchamber=(Yh=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.SlaveHasBedchamber()"}explain(){return"Unit must be a slave serving in some bedchamber"}isOk(e){return e.isSlave()?e.getBedchamber():!1}},o(Yh,"SlaveHasBedchamber"),Yh),setup.qresImpl.SlaveNoBedchamber=(Jh=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.SlaveNoBedchamber()"}explain(){return"Unit must NOT be a slave serving in some bedchamber"}isOk(e){return e.isSlave()?!e.getBedchamber():!1}},o(Jh,"SlaveNoBedchamber"),Jh),setup.qresImpl.SlaveOwnedByYou=(Wh=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.SlaveOwnedByYou()"}explain(){return"Unit must be owned directly by you in your bedchamber"}isOk(e){if(!e.isSlave())return!1;let t=e.getBedchamber();return t&&t.getSlaver()==State.variables.unit.player}},o(Wh,"SlaveOwnedByYou"),Wh),setup.qresImpl.SlaveUsableByYou=(Qh=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.SlaveUsableByYou()"}explain(){return"Unit must be usable by you"}isOk(e){return e.isUsableBy(State.variables.unit.player)}},o(Qh,"SlaveUsableByYou"),Qh),setup.qresImpl.BestFriendExist=(Zh=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.BestFriendExist()"}explain(){return"Unit has a best friend/lover"}isOk(e){return!!e.getBestFriend()}},o(Zh,"BestFriendExist"),Zh),setup.qresImpl.BestFriendFriendshipAtLeast=(Xh=class extends setup.Restriction{constructor(e){super(),this.amt=e}text(){return`setup.qres.BestFriendFriendshipAtLeast(${this.amt})`}explain(){return`Unit has a best friend/lover with friendship at least ${this.amt}`}isOk(e){const t=e.getBestFriend();return t?State.variables.friendship.getFriendship(e,t)>=this.amt:!1}},o(Xh,"BestFriendFriendshipAtLeast"),Xh),setup.qresImpl.BestFriendFriendshipAtMost=(ep=class extends setup.Restriction{constructor(e){super(),this.amt=e}text(){return`setup.qres.BestFriendFriendshipAtMost(${this.amt})`}explain(){return`Unit has a best friend/lover with friendship at most ${this.amt}`}isOk(e){const t=e.getBestFriend();return t?State.variables.friendship.getFriendship(e,t)<=this.amt:!1}},o(ep,"BestFriendFriendshipAtMost"),ep),setup.qresImpl.BestFriendWithRememberedUnit=(tp=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.BestFriendWithRememberedUnit()"}explain(){return"Unit must be the best friend/lover of the remembered unit"}isOk(e){const t=setup.qresImpl.RememberUnit.getRememberedUnit();return e.getBestFriend()==t}},o(tp,"BestFriendWithRememberedUnit"),tp),setup.qresImpl.CanBeLoverWithBestFriend=(ap=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.CanBeLoverWithBestFriend()"}explain(){return"Can become lover with their best friend"}isOk(e){const t=e.getBestFriend();return t?State.variables.friendship.isCanBecomeLovers(e,t):!1}},o(ap,"CanBeLoverWithBestFriend"),ap),setup.qresImpl.CanBeLoverWithYou=(ip=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.CanBeLoverWithYou()"}explain(){return"Can become lover with you"}isOk(e){return e.isYou()?!1:State.variables.friendship.isCanBecomeLovers(e,State.variables.unit.player)}},o(ip,"CanBeLoverWithYou"),ip),setup.qresImpl.CanBeUsedByRememberedUnit=(rp=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.CanBeUsedByRememberedUnit()"}explain(){return"Unit must be usable by remembered unit"}isOk(e){const t=setup.qresImpl.RememberUnit.getRememberedUnit();return e.isUsableBy(t)}},o(rp,"CanBeUsedByRememberedUnit"),rp),setup.qresImpl.CanUseRememberedUnit=(sp=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.CanUseRememberedUnit()"}explain(){return"Unit must be able to use remembered unit"}isOk(e){return setup.qresImpl.RememberUnit.getRememberedUnit().isUsableBy(e)}},o(sp,"CanUseRememberedUnit"),sp),setup.qresImpl.FriendshipWithYouAtLeast=(np=class extends setup.Restriction{constructor(e){super(),this.amt=e}text(){return`setup.qres.FriendshipWithYouAtLeast(${this.amt})`}explain(){return`Unit's friendship with you is at least ${this.amt}`}isOk(e){return State.variables.friendship.getFriendship(State.variables.unit.player,e)>=this.amt}},o(np,"FriendshipWithYouAtLeast"),np),setup.qresImpl.FriendshipWithYouAtMost=(op=class extends setup.Restriction{constructor(e){super(),this.amt=e}text(){return`setup.qres.FriendshipWithYouAtMost(${this.amt})`}explain(){return`Unit's friendship with you is at most ${this.amt}`}isOk(e){return State.variables.friendship.getFriendship(State.variables.unit.player,e)<=this.amt}},o(op,"FriendshipWithYouAtMost"),op),setup.qresImpl.LoverExist=(lp=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.LoverExist()"}explain(){return"Unit has a lover"}isOk(e){return!!e.getLover()}},o(lp,"LoverExist"),lp),setup.qresImpl.YourBestFriend=(up=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.YourBestFriend()"}explain(){return"Unit must be your best friend"}isOk(e){var t;return(t=e.getBestFriend())==null?void 0:t.isYou()}},o(up,"YourBestFriend"),up),setup.qresImpl.YourLover=(hp=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.YourLover()"}explain(){return"Unit must be your lover"}isOk(e){var t;return(t=e.getLover())==null?void 0:t.isYou()}},o(hp,"YourLover"),hp),setup.qresImpl.IsCanOrgasm=(pp=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.IsCanOrgasm()"}explain(){return"Can orgasm: not blocked by slave rule or by chastity"}isOk(e){return e.isCanOrgasm()}},o(pp,"IsCanOrgasm"),pp),setup.qresImpl.IsCanPhysicallyCum=(cp=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.IsCanPhysicallyCum()"}explain(){return"Can physically cum with current equipment"}isOk(e){return e.isCanPhysicallyCum()}},o(cp,"IsCanPhysicallyCum"),cp),setup.qresImpl.IsCanPhysicallyOrgasm=(dp=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.IsCanPhysicallyOrgasm()"}explain(){return"Can physically orgasm: not blocked by chastity, but can be blocked by slave rule"}isOk(e){return e.isCanPhysicallyOrgasm()}},o(dp,"IsCanPhysicallyOrgasm"),dp),setup.qresImpl.IsCanPhysicallyTalk=(gp=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.IsCanPhysicallyTalk()"}explain(){return"Can talk physically: not blocked by gag, but can be blocked by slave rule"}isOk(e){return e.isCanPhysicallyTalk()}},o(gp,"IsCanPhysicallyTalk"),gp),setup.qresImpl.IsCanPhysicallyWalk=(mp=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.IsCanPhysicallyWalk()"}explain(){return"Can walk physically: not blocked by restraints, but can be blocked by slave rule"}isOk(e){return e.isCanPhysicallyWalk()}},o(mp,"IsCanPhysicallyWalk"),mp),setup.qresImpl.IsCanSee=(fp=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.IsCanSee()"}explain(){return"Can see: not blocked by slave rule or by blindfold"}isOk(e){return e.isCanSee()}},o(fp,"IsCanSee"),fp),setup.qresImpl.IsCanTalk=(bp=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.IsCanTalk()"}explain(){return"Can talk: not blocked by slave rule or by gag"}isOk(e){return e.isCanTalk()}},o(bp,"IsCanTalk"),bp),setup.qresImpl.HasTitle=(yp=class extends setup.Restriction{constructor(e){super(),setup.isString(e)?this.title_key=e:this.title_key=e.key}text(){return`setup.qres.HasTitle('${this.title_key}')`}explain(){return`${setup.title[this.title_key].rep()}`}isOk(e){let t=setup.title[this.title_key];return State.variables.titlelist.isHasTitle(e,t)}},o(yp,"HasTitle"),yp),setup.qresImpl.NoTitle=(kp=class extends setup.Restriction{constructor(e){super(),setup.isString(e)?this.title_key=e:this.title_key=e.key}text(){return`setup.qres.NoTitle('${this.title_key}')`}explain(){return`Unit does not have ${setup.title[this.title_key].rep()}`}isOk(e){let t=setup.title[this.title_key];return!State.variables.titlelist.isHasTitle(e,t)}},o(kp,"NoTitle"),kp),setup.qresImpl.ZeroTitle=(vp=class extends setup.Restriction{constructor(){super()}text(){return"setup.qres.ZeroTitle()"}explain(){return"Unit does not have any title"}isOk(e){return State.variables.titlelist.getAllTitles(e).length==0}},o(vp,"ZeroTitle"),vp),setup.qresImpl.AllTraits=(Sp=class extends setup.Restriction{constructor(e,t){super(),this.trait_keys=e.map(a=>setup.keyOrSelf(a)),this.is_exact=t}text(){return`setup.qres.AllTraits([${this.trait_keys.map(t=>`setup.trait.${t}`).join(", ")}], ${this.is_exact})`}explain(){let e=[];for(let t=0;t<this.trait_keys.length;++t){let a=setup.trait[this.trait_keys[t]];if(this.is_exact)e.push(a.rep());else{let r=a.getTraitCover();e.push(`(${r.map(s=>s.rep()).join(" or ")})`)}}return e.join("")}isOk(e){let t=e.getTraits();for(let a=0;a<this.trait_keys.length;++a){let r=this.trait_keys[a];if(this.is_exact){if(!t.includes(setup.trait[r]))return!1}else if(!e.isHasTrait(setup.trait[r]))return!1}return!0}},o(Sp,"AllTraits"),Sp),setup.qresImpl.AnyTrait=(Tp=class extends setup.Restriction{constructor(e,t){if(super(),!Array.isArray(e))throw new Error("traits must be array in AnyTrait");this.trait_keys=e.map(a=>setup.keyOrSelf(a)),this.is_exact=!!t}text(){return`setup.qres.AnyTrait([${this.trait_keys.map(t=>`setup.trait.${t}`).join(", ")}], ${this.is_exact})`}explain(){let e="Any of: ",t=[];for(let a=0;a<this.trait_keys.length;++a){let r=setup.trait[this.trait_keys[a]];if(this.is_exact)t.push(r.rep());else for(const s of r.getTraitCover())t.push(s.rep())}return e+t.join("")}isOk(e){for(let t=0;t<this.trait_keys.length;++t){let a=this.trait_keys[t];if(this.is_exact){if(e.isHasTraitExact(setup.trait[a]))return!0}else if(e.isHasTrait(setup.trait[a]))return!0}return!1}},o(Tp,"AnyTrait"),Tp),setup.qresImpl.XTraits=(_p=class extends setup.Restriction{constructor(e,t){if(super(),this.trait_keys=e.map(a=>setup.keyOrSelf(a)),this.minimum=t,this.minimum<=0)throw new Error("Minimum cannot be negative");if(this.minimum>e.length)throw new Error("Minimum cannot be larger than number of traits")}getTraits(){return this.trait_keys.map(e=>setup.trait[e])}text(){return`setup.qres.XTraits([${this.trait_keys.map(t=>`setup.trait.${t}`).join(", ")}], ${this.minimum})`}explain(){const e=this.getTraits().map(t=>t.rep()).join("");return`At least ${this.minimum} of ${e}`}isOk(e){let t=0;for(const a of this.getTraits())e.isHasTraitExact(a)&&(t+=1);return t>=this.minimum}},o(_p,"XTraits"),_p),setup.SexActionClass.DoNothing=(Ap=class extends setup.SexAction{getTags(){return super.getTags().concat(["normal"])}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_TINY,paces:setup.SexPace.getAllPaces()}]}rawTitle(e){return"Do nothing"}rawDescription(e){return"Skip a|their turn"}rawStory(e){e.getLocation().repAmbience(e);const t=e.getLocation().repGazeAt(e),a=this.getActorUnit("a"),r=e.getPace(a);return r==setup.sexpace.mindbroken?[`a|Rep a|continue to do nothing, while staring blankly at ${t}.`,"a|Reps broken mind comples the slave to do nothing.",`The broken slave prefers to start at ${t} and does nothing.`,"a|Rep a|continue to mindlessly stay still.","The broken slave remains completely passive.","Like a sex toy waiting to be used, the slave stays silent, unaware of what's coming next.",`a|Rep a|remain still, fixing a|their gaze on ${t}.`,"Without a functional mind, a|rep can do nothing but do nothing.","a|Rep a|do nothing in response.","a|Rep no longer a|have the mind capability to do anything else than remaining passive."]:r==setup.sexpace.resist?["a|Rep a|cry a little but a|is unable to do anything.","a|Rep a|let out a helpless cry as a|they a|is unable to do anything.","a|Rep a|remain helpless and a|is unable to do anything."]:r==setup.sexpace.forced?["a|Rep a|is starting to accept a|their role in life and a|decide to remain passive.","a|Rep a|let out a small cry as a|they a|continue to do nothing.","a|Rep a|close a|their eyes as a|they a|do nothing in anticipation of the upcoming abuse."]:r==setup.sexpace.dom?["a|Rep confidently a|do nothing for the moment.","a|Rep a|choose to do nothing and a|continue to wait for the right moment.","a|Rep a|decide to do nothing for now."]:["a|Rep a|do nothing for the moment.","a|Rep a|feel like doing nothing for now.","a|Rep a|decide to do nothing for now."]}},o(Ap,"DoNothing"),Ap),setup.SexActionClass.EquipStrapon=(Mp=class extends setup.SexAction{getTags(){return super.getTags().concat(["equipmentself","equipment","dom"])}desc(){return"Equip strap-on"}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_TINY,restrictions:[setup.qres.SexNoEquipment(setup.equipmentslot.genital),setup.qres.NoTrait(setup.trait.dick_tiny),setup.qres.SexCanUseBodypart(setup.sexbodypart.arms)],paces:[setup.sexpace.dom]}]}getOutcomes(){return super.getOutcomes().concat([setup.qc.SexEquip("a",setup.equipment.strapon)])}rawTitle(e){return`Equip ${setup.equipment.strapon.rep()}`}rawDescription(e){return`Unit equips ${setup.equipment.strapon.rep()}`}rawStory(e){const t=this.getActorUnit("a"),a=setup.SexText.preThought(t,e),r=setup.equipment.strapon.rep();return[`${a}, a|rep a|fasten a ${r}.`,`${a}, a|rep a|grab a ${r} and wear it.`,`${a}, a|rep a|take a ${r}, before a|eagerly wearing it.`]}},o(Mp,"EquipStrapon"),Mp),setup.SexAction.PoseChange=(wp=class extends setup.SexAction{getTags(){return super.getTags().concat(["poseself","pose","normal"])}desc(){return this.getNewPose().getTitle()}getRestrictions(){return super.getRestrictions().concat(this.getNewPose().getRestrictions())}getNewPose(){return setup.sexpose.stand}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_TINY,restrictions:[setup.qres.Not(setup.qres.SexIsBeingPenetrated()),setup.qres.SexPoseCanChangeTo(this.getNewPose())],paces:[setup.sexpace.dom,setup.sexpace.normal,setup.sexpace.sub,setup.sexpace.forced,setup.sexpace.resist]}]}getOutcomes(){return[setup.qc.SexPoseChange("a",this.getNewPose())]}rawTitle(e){return this.getNewPose().getTitle()}rawDescription(e){return`Move and switch to the "${this.getNewPose().getTitle()}" stance`}rawStory(e){return setup.SexAction.PoseChange.describe(this.getActorUnit("a"),this.getNewPose(),e)}static describe(e,t,a){const r=[];return r.push(setup.SexBodypart.describePenetrationEnds(a.getAllOngoing(e),a)),r.push(t.describe(e,a)),r.join(" ")}},o(wp,"PoseChange"),wp),setup.SexActionClass.PoseChangeStand=(Rp=class extends setup.SexAction.PoseChange{getNewPose(){return setup.sexpose.stand}},o(Rp,"PoseChangeStand"),Rp),setup.SexActionClass.PoseChangeKneel=(Ep=class extends setup.SexAction.PoseChange{getNewPose(){return setup.sexpose.kneel}},o(Ep,"PoseChangeKneel"),Ep),setup.SexActionClass.PoseChangeSit=(xp=class extends setup.SexAction.PoseChange{getNewPose(){return setup.sexpose.sit}},o(xp,"PoseChangeSit"),xp),setup.SexActionClass.PoseChangeAllFours=(Dp=class extends setup.SexAction.PoseChange{getNewPose(){return setup.sexpose.allfours}},o(Dp,"PoseChangeAllFours"),Dp),setup.SexActionClass.PoseChangeLieUp=(Ip=class extends setup.SexAction.PoseChange{getNewPose(){return setup.sexpose.lieup}},o(Ip,"PoseChangeLieUp"),Ip),setup.SexActionClass.PoseChangeMissionary=($p=class extends setup.SexAction.PoseChange{getNewPose(){return setup.sexpose.missionary}},o($p,"PoseChangeMissionary"),$p),setup.SexActionClass.PoseChangeCowGirl=(Op=class extends setup.SexAction.PoseChange{getNewPose(){return setup.sexpose.cowgirl}},o(Op,"PoseChangeCowGirl"),Op),setup.SexActionClass.PoseChangeSixtyNine=(Cp=class extends setup.SexAction.PoseChange{getNewPose(){return setup.sexpose.sixtynine}},o(Cp,"PoseChangeSixtyNine"),Cp),setup.SexActionClass.PoseChangeFaceSit=(Pp=class extends setup.SexAction.PoseChange{getNewPose(){return setup.sexpose.facesit}},o(Pp,"PoseChangeFaceSit"),Pp),setup.SexActionClass.PoseChangeUpsideDown=(Lp=class extends setup.SexAction.PoseChange{getNewPose(){return setup.sexpose.upsidedown}},o(Lp,"PoseChangeUpsideDown"),Lp),setup.SexAction.PoseChangeOther=(Up=class extends setup.SexAction{getTags(){return super.getTags().concat(["poseother","pose","dom"])}desc(){return`Switch your partner position to: ${this.getNewPose().getTitle()}`}getRestrictions(){return super.getRestrictions().concat(this.getNewPose().getRestrictions())}getNewPose(){return setup.sexpose.stand}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_TINY,paces:[setup.sexpace.dom,setup.sexpace.normal]},{energy:setup.Sex.ENERGY_TINY,restrictions:[setup.qres.Not(setup.qres.SexIsBeingPenetrated()),setup.qres.SexPoseCanChangeTo(this.getNewPose())],paces:[setup.sexpace.normal,setup.sexpace.sub,setup.sexpace.resist,setup.sexpace.forced,setup.sexpace.mindbroken]}]}getOutcomes(){return[setup.qc.SexPoseChange("b",this.getNewPose())]}rawTitle(e){return this.getNewPose().getTitle()}rawDescription(e){return`Switch ${this.getActorUnit("b").rep()} to the "${this.getNewPose().getTitle()}" stance`}rawStory(e){return setup.SexAction.PoseChange.describe(this.getActorUnit("b"),this.getNewPose(),e)}},o(Up,"PoseChangeOther"),Up),setup.SexActionClass.PoseChangeOtherStand=(Np=class extends setup.SexAction.PoseChangeOther{getNewPose(){return setup.sexpose.stand}},o(Np,"PoseChangeOtherStand"),Np),setup.SexActionClass.PoseChangeOtherKneel=(Hp=class extends setup.SexAction.PoseChangeOther{getNewPose(){return setup.sexpose.kneel}},o(Hp,"PoseChangeOtherKneel"),Hp),setup.SexActionClass.PoseChangeOtherSit=(Bp=class extends setup.SexAction.PoseChangeOther{getNewPose(){return setup.sexpose.sit}},o(Bp,"PoseChangeOtherSit"),Bp),setup.SexActionClass.PoseChangeOtherAllFours=(Gp=class extends setup.SexAction.PoseChangeOther{getNewPose(){return setup.sexpose.allfours}},o(Gp,"PoseChangeOtherAllFours"),Gp),setup.SexActionClass.PoseChangeOtherLieUp=(qp=class extends setup.SexAction.PoseChangeOther{getNewPose(){return setup.sexpose.lieup}},o(qp,"PoseChangeOtherLieUp"),qp),setup.SexActionClass.PoseChangeOtherMissionary=(zp=class extends setup.SexAction.PoseChangeOther{getNewPose(){return setup.sexpose.missionary}},o(zp,"PoseChangeOtherMissionary"),zp),setup.SexActionClass.PoseChangeOtherCowGirl=(Fp=class extends setup.SexAction.PoseChangeOther{getNewPose(){return setup.sexpose.cowgirl}},o(Fp,"PoseChangeOtherCowGirl"),Fp),setup.SexActionClass.PoseChangeOtherSixtyNine=(jp=class extends setup.SexAction.PoseChangeOther{getNewPose(){return setup.sexpose.sixtynine}},o(jp,"PoseChangeOtherSixtyNine"),jp),setup.SexActionClass.PoseChangeOtherFaceSit=(Kp=class extends setup.SexAction.PoseChangeOther{getNewPose(){return setup.sexpose.facesit}},o(Kp,"PoseChangeOtherFaceSit"),Kp),setup.SexActionClass.PoseChangeOtherUpsideDown=(Vp=class extends setup.SexAction.PoseChangeOther{getNewPose(){return setup.sexpose.upsidedown}},o(Vp,"PoseChangeOtherUpsideDown"),Vp),setup.SexAction.PositionChange=(Yp=class extends setup.SexAction{getTags(){return super.getTags().concat(["positionself","normal"])}isAIAllowed(e,t){const a=t.getUnitAtPosition(this.getNewPosition());return a&&a!=e&&t.getPermission(e).getDisallowedTags().includes("positionother")?!1:super.isAIAllowed(e,t)}getNewPosition(){return setup.sexposition.center}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_TINY,restrictions:[setup.qres.Not(setup.qres.SexIsBeingPenetrated()),setup.qres.SexPositionCanChangeTo(this.getNewPosition())],paces:[setup.sexpace.dom,setup.sexpace.normal,setup.sexpace.sub,setup.sexpace.forced,setup.sexpace.resist]}]}getOutcomes(){return[setup.qc.SexPositionChange("a",this.getNewPosition())]}rawTitle(e){return`Move to ${this.getNewPosition().getTitle()}`}rawDescription(e){return`Move to the "${this.getNewPosition().getTitle()}" position`}rawStory(e){return setup.SexAction.PositionChange.describe(this.getActorUnit("a"),this.getNewPosition(),e)}static describe(e,t,a){const r=[];if(a.getPosition(e)==t)return"";const s=a.getUnitAtPosition(t),n=a.getAllOngoing(e);return r.push(setup.SexBodypart.describePenetrationEnds(n,a)),s&&r.push(setup.SexBodypart.describePenetrationEnds(a.getAllOngoing(s),a)),t.getDefaultPose(),s&&a.getPose(s),r.push(t.describe(e,a)),r.join(" ")}},o(Yp,"PositionChange"),Yp),setup.SexActionClass.PositionChangeStand=(Jp=class extends setup.SexAction.PositionChange{getNewPosition(){return setup.sexposition.front}},o(Jp,"PositionChangeStand"),Jp),setup.SexActionClass.PositionChangeBack=(Wp=class extends setup.SexAction.PositionChange{getNewPosition(){return setup.sexposition.back}},o(Wp,"PositionChangeBack"),Wp),setup.SexActionClass.PositionChangeCenter=(Qp=class extends setup.SexAction.PositionChange{getNewPosition(){return setup.sexposition.center}},o(Qp,"PositionChangeCenter"),Qp),setup.SexActionClass.PositionChangeTop=(Zp=class extends setup.SexAction.PositionChange{getNewPosition(){return setup.sexposition.top}},o(Zp,"PositionChangeTop"),Zp),setup.SexAction.PositionChangeOther=(Xp=class extends setup.SexAction{getTags(){return super.getTags().concat(["positionother","dom"])}getNewPosition(){return setup.sexposition.center}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_TINY,paces:[setup.sexpace.dom,setup.sexpace.normal]},{energy:setup.Sex.ENERGY_TINY,restrictions:[setup.qres.Not(setup.qres.SexIsBeingPenetrated()),setup.qres.SexPositionCanChangeTo(this.getNewPosition())],paces:[setup.sexpace.normal,setup.sexpace.sub,setup.sexpace.resist,setup.sexpace.forced,setup.sexpace.mindbroken]}]}getOutcomes(){return[setup.qc.SexPositionChange("b",this.getNewPosition())]}rawTitle(e){return`Move to ${this.getNewPosition().getTitle()}`}rawDescription(e){return`Move ${this.getActorUnit("b").rep()} to the "${this.getNewPosition().getTitle()}" position`}rawStory(e){return setup.SexAction.PositionChange.describe(this.getActorUnit("b"),this.getNewPosition(),e)}},o(Xp,"PositionChangeOther"),Xp),setup.SexActionClass.PositionChangeOtherStand=(ec=class extends setup.SexAction.PositionChangeOther{getNewPosition(){return setup.sexposition.front}},o(ec,"PositionChangeOtherStand"),ec),setup.SexActionClass.PositionChangeOtherBack=(tc=class extends setup.SexAction.PositionChangeOther{getNewPosition(){return setup.sexposition.back}},o(tc,"PositionChangeOtherBack"),tc),setup.SexActionClass.PositionChangeOtherCenter=(ac=class extends setup.SexAction.PositionChangeOther{getNewPosition(){return setup.sexposition.center}},o(ac,"PositionChangeOtherCenter"),ac),setup.SexActionClass.PositionChangeOtherTop=(ic=class extends setup.SexAction.PositionChangeOther{getNewPosition(){return setup.sexposition.top}},o(ic,"PositionChangeOtherTop"),ic),setup.SexActionClass.SexEnd=(rc=class extends setup.SexAction{getTags(){return super.getTags().concat(["endsex","normal"])}getActorDescriptions(){return[{paces:[setup.sexpace.dom,setup.sexpace.normal,setup.sexpace.sub,setup.sexpace.forced,setup.sexpace.resist]}]}getOutcomes(){return super.getOutcomes().concat([setup.qc.SexEnd()])}rawTitle(e){return"End sex"}rawDescription(e){return"Ends the intercourse"}rawStory(e){return"a|Rep a|end the intercourse."}},o(rc,"SexEnd"),rc),setup.SexAction.UnequipOther=(sc=class extends setup.SexAction{getTags(){return super.getTags().concat(["equipmentother","dom"])}getEquipmentSlot(){return setup.equipmentslot.weapon}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_TINY,paces:[setup.sexpace.dom,setup.sexpace.normal,setup.sexpace.sub],restrictions:[setup.qres.SexCanUseBodypart(setup.sexbodypart.arms)]},{energy:setup.Sex.ENERGY_TINY,restrictions:[setup.qres.SexCanUnequip(this.getEquipmentSlot())],paces:[setup.sexpace.normal,setup.sexpace.sub,setup.sexpace.resist,setup.sexpace.forced,setup.sexpace.mindbroken]}]}getOutcomes(){return super.getOutcomes().concat([setup.qc.SexUnequip("b",this.getEquipmentSlot())])}rawTitle(e){return`Unequip ${this.getActorUnit("b").getEquipmentAt(this.getEquipmentSlot()).rep()}`}rawDescription(e){return`b|Rep b|unequip b|their ${this.getEquipmentSlot().rep()} equipment`}rawStory(e){const t=this.getActorUnit("b");return t.getEquipmentAt(this.getEquipmentSlot())?setup.SexUtil.convert(setup.SexText.stripDescription(t,this.getEquipmentSlot(),e),{a:t},e):""}},o(sc,"UnequipOther"),sc),setup.SexActionClass.UnequipOtherTorso=(nc=class extends setup.SexAction.UnequipOther{getEquipmentSlot(){return setup.equipmentslot.torso}},o(nc,"UnequipOtherTorso"),nc),setup.SexActionClass.UnequipOtherArms=(oc=class extends setup.SexAction.UnequipOther{getEquipmentSlot(){return setup.equipmentslot.arms}},o(oc,"UnequipOtherArms"),oc),setup.SexActionClass.UnequipOtherLegs=(lc=class extends setup.SexAction.UnequipOther{getEquipmentSlot(){return setup.equipmentslot.legs}},o(lc,"UnequipOtherLegs"),lc),setup.SexActionClass.UnequipOtherFeet=(uc=class extends setup.SexAction.UnequipOther{getEquipmentSlot(){return setup.equipmentslot.feet}},o(uc,"UnequipOtherFeet"),uc),setup.SexActionClass.UnequipOtherMouth=(hc=class extends setup.SexAction.UnequipOther{getEquipmentSlot(){return setup.equipmentslot.mouth}},o(hc,"UnequipOtherMouth"),hc),setup.SexActionClass.UnequipOtherNipple=(pc=class extends setup.SexAction.UnequipOther{getEquipmentSlot(){return setup.equipmentslot.nipple}},o(pc,"UnequipOtherNipple"),pc),setup.SexActionClass.UnequipOtherRear=(cc=class extends setup.SexAction.UnequipOther{getEquipmentSlot(){return setup.equipmentslot.rear}},o(cc,"UnequipOtherRear"),cc),setup.SexActionClass.UnequipOtherGenital=(dc=class extends setup.SexAction.UnequipOther{getEquipmentSlot(){return setup.equipmentslot.genital}},o(dc,"UnequipOtherGenital"),dc),setup.SexAction.UnequipSelf=(gc=class extends setup.SexAction{getTags(){return super.getTags().concat(["equipmentself","normal"])}getEquipmentSlot(){return setup.equipmentslot.weapon}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_TINY,restrictions:[setup.qres.SexCanUnequip(this.getEquipmentSlot()),setup.qres.SexCanUseBodypart(setup.sexbodypart.arms)],paces:[setup.sexpace.dom,setup.sexpace.normal,setup.sexpace.sub,setup.sexpace.forced]}]}getOutcomes(){return super.getOutcomes().concat([setup.qc.SexUnequip("a",this.getEquipmentSlot())])}rawTitle(e){return`Unequip ${this.getActorUnit("a").getEquipmentAt(this.getEquipmentSlot()).rep()}`}rawDescription(e){return`a|Rep a|unequip a|their ${this.getEquipmentSlot().rep()} equipment`}rawStory(e){const t=this.getActorUnit("a");return t.getEquipmentAt(this.getEquipmentSlot())?setup.SexText.stripDescription(t,this.getEquipmentSlot(),e):""}},o(gc,"UnequipSelf"),gc),setup.SexActionClass.UnequipSelfTorso=(mc=class extends setup.SexAction.UnequipSelf{getEquipmentSlot(){return setup.equipmentslot.torso}getActorDescriptions(){const e=super.getActorDescriptions();return e[0].paces=[setup.sexpace.normal,setup.sexpace.sub,setup.sexpace.forced],e}},o(mc,"UnequipSelfTorso"),mc),setup.SexActionClass.UnequipSelfArms=(fc=class extends setup.SexAction.UnequipSelf{getEquipmentSlot(){return setup.equipmentslot.arms}},o(fc,"UnequipSelfArms"),fc),setup.SexActionClass.UnequipSelfLegs=(bc=class extends setup.SexAction.UnequipSelf{getEquipmentSlot(){return setup.equipmentslot.legs}},o(bc,"UnequipSelfLegs"),bc),setup.SexActionClass.UnequipSelfFeet=(yc=class extends setup.SexAction.UnequipSelf{getEquipmentSlot(){return setup.equipmentslot.feet}getActorDescriptions(){const e=super.getActorDescriptions();return e[0].paces=[setup.sexpace.normal,setup.sexpace.sub,setup.sexpace.forced],e}},o(yc,"UnequipSelfFeet"),yc),setup.SexActionClass.UnequipSelfMouth=(kc=class extends setup.SexAction.UnequipSelf{getEquipmentSlot(){return setup.equipmentslot.mouth}},o(kc,"UnequipSelfMouth"),kc),setup.SexActionClass.UnequipSelfNipple=(vc=class extends setup.SexAction.UnequipSelf{getEquipmentSlot(){return setup.equipmentslot.nipple}},o(vc,"UnequipSelfNipple"),vc),setup.SexActionClass.UnequipSelfRear=(Sc=class extends setup.SexAction.UnequipSelf{getEquipmentSlot(){return setup.equipmentslot.rear}},o(Sc,"UnequipSelfRear"),Sc),setup.SexActionClass.UnequipSelfGenital=(Tc=class extends setup.SexAction.UnequipSelf{getEquipmentSlot(){return setup.equipmentslot.genital}},o(Tc,"UnequipSelfGenital"),Tc),setup.SexActionClass.DirtyTalk=(_c=class extends setup.SexAction{getTags(){return super.getTags().concat(["normal","mouth"])}desc(){return"Dirty talk"}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_SMALL,arousal:setup.Sex.AROUSAL_TINY,paces:[setup.sexpace.dom,setup.sexpace.normal,setup.sexpace.sub],restrictions:[setup.qres.IsCanTalk(),setup.qres.SexCanUseBodypart(setup.sexbodypart.mouth)]},{energy:setup.Sex.ENERGY_SMALL,arousal:setup.Sex.AROUSAL_SMALL,paces:setup.SexPace.getAllPaces()}]}rawTitle(e){return"Dirty talk"}rawDescription(e){return"Talk dirty to b|rep"}story(e){const t=this.getActorUnit("a"),a=this.getActorUnit("b"),r=setup.Text.Dirty.talk({unit:t,target:a,sex:e}),s=[];return s.push(setup.DOM.Card.dialogue({unit:t,dialogue:r.unit_dialogue})),a.isYou()||s.push(setup.DOM.Card.dialogue({unit:a,dialogue:r.target_dialogue,position:"right"})),setup.DOM.create("div",{},s)}},o(_c,"DirtyTalk"),_c),setup.SexActionClass.GenericResist=(Ac=class extends setup.SexAction{getTags(){return super.getTags().concat(["normal"])}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_MEDIUM,arousal:-setup.Sex.AROUSAL_MEDIUM,discomfort:setup.Sex.DISCOMFORT_TINY,paces:[setup.sexpace.resist],restrictions:[setup.qres.SexPaceIn([setup.sexpace.resist]),setup.qres.Not(setup.qres.SexIsInPenetration())]},{energy:setup.Sex.ENERGY_SMALL,discomfort:setup.Sex.DISCOMFORT_TINY,paces:setup.SexPace.getAllPaces(),restrictions:[setup.qres.SexPaceIn([setup.sexpace.dom,setup.sexpace.sub,setup.sexpace.normal,setup.sexpace.forced])]}]}rawTitle(e){return"Resist"}rawDescription(e){return"Resist having sex with b|rep"}rawStory(e){const t=this.getActorUnit("a");return e.getPose(t).repResist(this.getActorUnit("a"),this.getActorUnit("b"),e)}},o(Ac,"GenericResist"),Ac);function qO(i,e){if(i.isMindbroken())return["a|Reps preference towards anal sex does not matter, since a|their mind has long been gone.","Whatever preference the mindbroken slave once have towards anal sex, it has been gone completely.","Being mindbroken means that whatever preferences a|rep used to have towards anal sex is completely meaningless now."];const t=setup.SexBodypartClass.Anus.unitAnalEnjoymentMultiplier(i);return t>=2?["As a complete anal slut, a|rep a|is very much looking forward to the coming sex.","a|Rep a|is a complete anal slut, deriving much pleasure from anal stimulation.","a|Rep a|see anal sex as a|their absolute favorite activity, and a|is very much looking forward to the upcoming sex."]:t>=1?["As an anal slut, a|rep a|is looking forward to the coming delightful sex.","a|Rep a|enjoy anal sex, and is rather looking forward to the actions.","a|Rep a|see anal sex as one of a|their favorite activities, and a|is looking forward to the upcoming sex."]:t>0?["a|Rep a|look a little unsure about the coming anal sex.","a|Rep a|do not fully enjoy anal sex, but a|they certainly a|is not complaining.","a|Rep a|do not find anal sex fully enjoyable, but still consider it better than nothing."]:t==0?["a|Rep a|is perfectly indifferent to anal sex, deriving absolutely no pleasure from it.","a|Reps outlook on anal sex is perfectly neutral, deriving no pleasure from the act.","a|Rep a|do not have any thoughts about anal sex, deriving neither pleasure nor discomfort from it."]:t>-1?["a|Rep a|look worried about anal sex, as a|they a|have been unable to enjoy it.","a|Rep a|have a rather vanilla taste, and a|they a|look uncomfortable with the upcoming anal penetration.","a|Rep a|is unable to derive pleasure from anal sex, and a|is not looking forward to the near future."]:t>-2?["a|Rep a|grimace at the thought of the upcoming anal sex, as a|they a|have been discomforted by it in the past.","Anal sex is not one of a|reps hobbies, to put it lightly, and the threat of an upcoming anal pain makes a|them very worried.","a|Rep greatly a|dislike having things shoved up a|their ass, and a|they a|is not looking forward to the upcoming anal actions."]:["a|Rep absolutely a|hate anal sex, and in no way is looking forward to the coming actions.","a|Rep a|despise having a|their asshole penetrated, and it will likely be a major turn-off for a|them.","a|Rep a|abhor anal sex, and a|they will surely be turned off by the upcoming actions."]}o(qO,"rawAnalEnjoymentDescription");function Ob(i,e){return setup.SexUtil.convert(qO(i),{a:i},e)}o(Ob,"analEnjoymentDescription");const Vv=class Vv extends setup.SexAction.OrgasmBase{getTags(){return super.getTags().concat(["penis"])}rawTitle(e){return"Masturbate"}rawDescription(e){return"You've reached your climax, and can't hold back your orgasm any longer. Time to masturbate the cum out."}getActorDescriptions(){const e=super.getActorDescriptions();return e[0].restrictions.push(setup.qres.IsCanPhysicallyCum()),e}};o(Vv,"PenisOrgasmBase");let Nk=Vv;function zO(i,e,t){const a=t.getBodypartOther(i,e);let r;if(a){const u=e.verbPenetrate(i,a.unit,a.bodypart,t);r=`${setup.rng.choice(["With a|their a|dick ","Given that a|their a|dick is ","Having a|their a|dick ","Still with a|their a|dick "])} ${u}`}else r=t.getLocation().describePosition(i,t);const s=t.getPace(i);let n="";s==setup.sexpace.dom?n=setup.rng.choice([" a|rep a|grins in delight as "," a|rep a|smiles as "," a|rep a|let out a menacing grin at b|rep as "," a|rep a|smile a|adv as "]):s==setup.sexpace.resist?n=setup.rng.choice([" a|rep a|is mortified by the fact that "," a|rep a|grimace as "," a|rep a|is horrified by the fact that "," a|rep a|grimace at the fact that "]):s==setup.sexpace.mindbroken?n=setup.rng.choice([" a|rep a|is dazed even as "," a|rep a|remain unfocused even as "," a|rep a|star blankly as "," a|rep a|twitch reflexively as "]):s==setup.sexpace.forced?n=setup.rng.choice([" a|rep a|steel a|themself as "," a|rep a|close a|their a|eyes as "," a|rep a|try to divert a|their thoughts as "," a|rep a|shut a|their a|eyes as "]):n=setup.rng.choice([" a|rep a|lose control as "," a|rep a|let out a moan as "," a|rep a|cry out in pleasure as "," a|rep a|groan in pleasure as "]);const l=setup.rng.choice([" a|they a|can feel a|their climax coming."," a|they a|get as ready as a|they can for the upcoming climax."," a|they a|prepare for an incoming climax."," a|they a|get ready for the imminent climax."]);return`${r}, ${n} ${l}`}o(zO,"orgasmPositionPreparation");function FO(i,e){const t=setup.SexUtil.traitSelectArray(i,{balls_tiny:["a small trickle of cum squirts","a tiny trickle of cum squirts"],balls_small:["a small amount of cum squirts","a modest amount of cum squirts"],balls_medium:["a|their cum squirts","a|their cum splatters"],balls_large:["a|their cum shoots out"],balls_huge:["a|their cum spurts out"],balls_titanic:["a|their cum blasts out"],default:["not even a single drop of cum is produced..."]});return setup.SexUtil.convert(t,{a:i},e)}o(FO,"getCumQuantityDescription");const Yv=class Yv extends Nk{postOrgasm(e){return""}describeOrgasm(e){const t=this.getActorUnit("a");let a="";return t.isHasTrait("dick_demon")?a+="a|They a|reach down and a|slide a|their a|hand up and down over a|their sensitive little barbs.":t.isHasTrait("dick_werewolf")?a+="a|They a|reach down and a|start to furiously masturbate; a|their a|hand sliding down the length of a|their a|dick to grip and rub at a|their swollen knot.":t.isHasTrait("dick_dragonkin")?a+="a|They a|reach down and a|slide a|their a|hand up and down over the bumpy ribs that line a|their a|dick.":a+="a|They a|reach down and a|start to furiously masturbate; a|their a|hand running up the length of a|their a|dick to rub and tease a|their cock head.",a}rawTitle(e){return"Masturbate"}rawDescription(e){return"You've reached your climax, and can't hold back your orgasm any longer. Time to masturbate the cum out."}rawStory(e){const t=this.getActorUnit("a"),a=setup.sexbodypart.penis;e.getPace(t);let r="";r+=zO(t,a,e),r+=" ",t.isHasTrait("dick_werewolf")?r+=setup.rng.choice(["The thick knot at the base of a|reps a|dick swells up, and a|they a|feel a|their a|balls tightening as a|they a|start to cum.","a|Reps a|balls tightens, and with their thick knot forming a|they can feel the cum starting to gush out."]):r+=setup.rng.choice([" a|Reps a|dick twitches, and a|they a|feel a|their a|balls tightening as a|they a|start to cum."]),r+=" ",r+=this.describeOrgasm(e);let s=["As a|their a|balls tense up,","a|Their a|balls tensing up,","Feeling a|their a|balls tense up and no longer able to hold back,","Losing control, a|they a|feel a|their a|balls emptying,"];if(r+=" "+setup.rng.choice(s)+" ",r+=FO(t,e),t.isHasBalls()){const n=e.getCoveringEquipment(t,a);n?r+=` into a|their ${n.rep()}.`:r+=this.cumTargetDescription(e)}return t.isHasTrait("dick_werewolf")&&e.getBodypartPenetrationTarget(t,a)&&(r+=setup.rng.choice([` Even after a|reps a|balls have pumped their entire load into b|rep, a|their knot remains swollen, locking ${t.isYou()?"the two of you together":"a|them and a|their partner together"}.
				It takes a few minutes for it to start to deflate, and with a wet pop, a|they a|is finally able to pull a|their a|dick free. `,` Even after a|reps a|balls have been fully emptied into b|rep, a|their knot locks a|them together in place with b|rep.
				It takes several minutes until the knot begins to deflate, and finally a|rep a|is able to pull a|their a|dick free from b|rep with a loud pop. `])),r+=" "+this.postOrgasm(e)+" ",setup.SexUtil.convert(r,{a:t},e)}cumTargetDescription(e){const t=this.getActorUnit("a"),r=e.getLocation().repSurface(e);return setup.SexUtil.convert([` out all over the ${r}.`,` messily over the ${r}.`,` into the ${r}.`],{a:t},e)}};o(Yv,"PenisOrgasm");let Cb=Yv;function jO(i,e,t){const a=t.getBlockingEquipment(e,setup.sexbodypart.mouth);let r;a?r=[`Some of the cum splatters on b|reps ${a.rep()}`,`The ${a.rep()} blocking b|reps b|mouth is also splattered with cum`,`Some of the white cum falls onto b|reps ${a.rep()}`]:r=["Some of the cum lands directly on b|reps b|mouth","b|Reps face is covered in quite a bit of cum, and some slides down into b|their b|mouth","Some of the cum hits b|reps b|mouth with its salty taste"];let s=setup.rng.choice(r)+" ";const n=t.getPace(e);return n==setup.sexpace.resist?r=[", horrifying b|them.",", to b|reps great disgust.",", to b|reps horror."]:n==setup.sexpace.forced?r=[", reminding b|them of b|their place.",", making clear a|their ownership over b|rep.",", marking b|rep as a|their plaything for the night."]:n==setup.sexpace.sub||n==setup.sexpace.normal?a?r=[". Having b|their face covered in cum draws a moan from b|rep.",". b|Rep b|feel the warm cum on b|their b|face sliding downwards with gravity."]:e.getMainTraining().getTags().includes("troral")?r=[". As a fixated oral slut, b|rep eagerly lap up as much of the delicious gooey cum splattered across b|their face as possible.",". b|Reps oral fixation immediately takes hold, and b|they b|find b|themself lapping the cum splattered across b|their b|face."]:r=[". b|Rep b|eagerly b|let out b|their tongue and b|lap the delicious cum around b|their b|mouth.",", and those stray splatters are lapped clean b|eagerly by b|rep."]:r=[". b|Rep quickly wipe out the cum from b|their b|face.",", which are wiped clean by b|rep immediately."],s+=setup.rng.choice(r)+" ",setup.SexUtil.convert(s,{a:i,b:e},t)}o(jO,"cumFaceReaction");function Hk(i,e,t){let a=["After a few seconds, b|rep b|realize that a|rep a|is not even close to stopping","But after a few seconds locked in position, b|rep b|start to realize that a|reps a|balls is not even close to empty","However, the stream of cum does not stop after several seconds, making b|rep b|realize that a|rep a|is not stopping anytime soon"];return setup.SexUtil.convert(a,{a:i,b:e},t)}o(Hk,"titanicBallsCumNotStoppingSentence");const Jv=class Jv extends Cb{getTags(){return super.getTags().concat([this.getPenetrationTarget().getTag()])}getPenetratorBodypart(){return setup.sexbodypart.penis}getPenetrationTarget(){return setup.sexbodypart.mouth}getRestrictions(){return[setup.qres.SexIsOngoing("a",this.getPenetratorBodypart(),"b",this.getPenetrationTarget())]}getActorDescriptions(){const e=super.getActorDescriptions();return e.push({paces:setup.SexPace.getAllPaces(),restrictions:[]}),e}rawStory(e){let t=super.rawStory(e);t+=" ";const a=this.getActorUnit("a"),r=this.getActorUnit("b");return a.getLover()==r&&(t+=setup.rng.choice(["Cumming inside a|their lover brings much joy to a|rep.","b|Rep enjoys the feeling of having a|their lover's seed contained inside b|them.",`As a|rep and b|rep are lovers, having one cum inside another just feels right to
          ${a.isYou()||r.isYou()?"you":"them"}.`])),t}describeOrgasm(e){const t=this.getActorUnit("a"),a=e.getPace(t),r=this.getActorUnit("b"),s=e.getPace(r),n=e.getPosition(t),l=e.getPosition(r),u=e.getPose(r);let h="";const p=this.getPenetrationTarget().rep(r,e),c=e.getLocation().repSurface(e);let d;t.isHasTrait("dick_werewolf")?d=[` Pushing forwards, a|rep a|ram the now-fully swollen knot at the base of a|their a|dick against b|reps ${p}.
        By now it's so engorged that it seems almost impossible to push it inside,
        but with a determined moan, a|rep violently a|thrust forwards, and with an accompanying cry
        from b|rep, a|they a|manage to force a|their fat knot into b|reps ${p}.`]:d=[` Ramming a|their a|dick deep into b|reps ${p}, a|rep a|let out a|a_moan as it starts to twitch inside of b|them.`],h+=setup.rng.choice(d),h+=" ";let g=[];if(t.isHasTrait("dick_demon")?g.push(` a|Rep a|continue to make small, thrusting movements, raking a|their barbs back against the inner walls of b|reps ${p} and causing b|them to let out b|a_moan.`):t.isHasTrait("dick_dragonkin")&&(t.isYou()?g.push(` You feel your ribbed a|dick bumping against the inner walls of b|their ${p}, which causes b|them to let out b|a_moan.`):g.push(` The ribbed length of a|reps a|dick bumps against the inner walls of b|reps ${p}, which causes b|them to let out b|a_moan.`)),a==setup.sexpace.dom&&s!=setup.sexpace.dom){const m=l==setup.sexposition.center&&(!e.getUnitAtPosition(setup.sexposition.top)||n==setup.sexposition.top)&&u.isOnFloor();let f=`As a|rep a|feel b|reps ${p} squeezing down around a|their a|dick,
        a|they a|decide to show b|them how
        ${t.isHasTrait("race_wolfkin")?" an alpha treats their submissive little beta.":" a real dom treats their submissive bitch."}
        Letting out a|a_moan, a|rep a|slam a|their a|dick deep into b|reps ${p},
        grinning devilishly as b|they b|let out b|a_moan. `;m?f+=`
          Reaching down, a|they then a|grab b|reps shoulders,
          before pushing a|their weight down onto b|their b|body as a|they roughly b|mount b|them.
          With a|reps weight now on top of b|them, b|rep b|collapses to the ${c} with b|a_moan.
          Bending down, and with
        `:f+=" With ",f+=`
        a|their throbbing a|dick still hilted in b|reps ${p},
        a|rep a|growl menacingly in b|their ear${e.isCanTalk(t)?`, "You little bitch! All you're good for is being my slutty cock-sleeve!"`:"."}
        Upon hearing those degrading words, b|Rep b|let out another moan,
        which is enough to send a|rep over the edge. `,m&&(f+=`
        As a|they a|grind b|reps b|face into the ${c},
        a|they can a|feel a|their climax reaching.`),g.push(f)}return g.length&&(h+=setup.rng.choice(g),h+=" "),t.isHasTrait("dick_werewolf")&&(h+=` Keeping a|their hips pushed tightly against b|reps ${p}, a|rep a|let out a|a_moan as a|their knot swells up to its full size. a|They then a|buck back a little, and b|rep b|let out a startled cry as b|they a|is pulled along with a|them; evidence that a|their a|dick is now firmly
			locked inside b|their ${p}.`),h}cumTargetDescription(e){const t=this.getActorUnit("a"),a=this.getActorUnit("b");let r="";const s=this.getPenetrationTarget().rep(a,e);let n;if(a.isYou()?n=[` deep into your hungry ${s}, and you find yourself whining and moaning as you feel the cum deep inside of you.`,` deep into your ${s}, and you can feel the cum moving inside your stomach.`]:n=[` deep into b|reps ${s}.`,` inside b|reps ${s}.`],r+=setup.rng.choice(n),r+=" ",t.isHasTrait("balls_titanic")){const l=Hk(t,a,e);n=[` ${l},
         and as a|their cum backs up and starts leaking out of b|their ${s},
         b|they b|let out b|a_moan.
         a|Rep a|keep a|their a|dick hilted deep in b|their ${s}, moaning
         as a|they a|wait for a|their a|balls to run dry.`,` ${l},
         and as a|their warm cum starts to fill b|their ${s} full and leaking out,
         b|they b|let out b|a_moan.
         a|Rep a|eagerly a|keep a|their a|dick deep within b|their ${s}, ensuring that
         a|their massive amount of cum are all absorbed into b|them.`],r+=setup.rng.choice(n)+" "}return r}postOrgasm(e){const t=this.getActorUnit("a"),a=e.getPace(t),r=e.getPose(t),s=this.getActorUnit("b"),n=e.getPace(s),l=e.getPosition(t),u=e.getPosition(s),h=e.getPose(s);let p="";const c=this.getPenetrationTarget().rep(s,e),d=e.getLocation().repSurface(e);return a==setup.sexpace.dom&&n!=setup.sexpace.dom&&(p+=setup.rng.choice([`As a|rep a|slide a|their still-throbbing shaft out from b|reps well-used ${c},
         a|they a|look at b|them, grinning at the mess a|they made of b|them.`,`Sliding a|their still-hard member out from b|reps well-used ${c},
         a|rep a|look at b|them, grinning at the cum splattered over b|their b|face.`])+" ",Math.random()<.5&&e.isCanUse(s,setup.sexbodypart.mouth)&&e.isCanUse(t,setup.sexbodypart.arms)&&e.isCanUse(t,setup.sexbodypart.legs)&&l!=setup.sexposition.center&&r.getFacingHeight(this.getPenetratorBodypart(),l,e).height==h.getFacingHeight(this.getPenetrationTarget(),u,e).height&&(p+=setup.rng.choice([`Panting heavily, a|rep suddenly
           a|have an evil idea, and a|shuffle around to where b|reps face is. Reaching down, a|they roughly a|grab
           b|reps b|neck, and before b|they b|have a chance to react,
           a|they a|shove b|their b|face onto a|their a|dick.`,`Looking at the submissive slut gave a|rep a sudden brilliant idea.
           Shuffling around to where b|reps face is, a|rep a|reach into the face before suddenly yanking
           b|reps b|neck and shoving a|their dirty a|dick straight into b|their b|mouth.`])+" ",p+=setup.rng.choice([`b|Rep b|moan and b|squirm as a|rep a|give b|them a taste of b|their own ${c},
           and, holding b|them tightly in position, a|they a|groan as b|their frantic tongue cleans a|them off.`,`b|Rep b|moan and b|squirm as b|they can b|taste the remnants of b|their own ${c}.
           Not allowing b|rep any movement, a|they a|let out a moan of pleasure as a|they can feel b|rep frantically working b|their tongue to clean a|them off.`])+" ",p+=setup.rng.choice([`After a long minute of having b|rep b|clean a|their a|dick, a|rep finally allow b|reps b|mouth to be free from a|their a|dick, and with a deep gasp, b|rep b|collapse onto the ${d}, completely spent from the rough treatment.`,`After a minute of using b|rep in this manner, a|rep finally a|release b|them, and, with a deep gasp,
          b|they b|collapse to the ${d}, completely exhausted from the dominant treatment.`])+" ")),p}};o(Jv,"PenisOrgasmOngoing");let Ci=Jv;const Wv=class Wv extends setup.SexAction.OrgasmBase{getTags(){return super.getTags().concat(["vagina"])}getActorDescriptions(){const e=super.getActorDescriptions();return e[0].restrictions.push(setup.qres.Trait("vagina_tight")),e}};o(Wv,"VaginaOrgasmBase");let Bk=Wv;const Qv=class Qv extends Bk{describeOrgasm(e){const t=this.getActorUnit("a"),a=setup.sexbodypart.vagina;let r="";const s=e.getBlockingEquipment(t,a);return s&&s.getTags().includes("dildo")?(r+=` a|Reps a|vagina clenches down hard, causing a|them to let out a series of high-pitched moans as a|their vaginal muscles grip and squeeze around the
      ${s.rep()} inserted into a|their a|vagina.`,s.getTags().includes("vegetable")&&(r+=setup.rng.choice([` The coldness of the ${s.rep()} sends shivers up a|reps spine.`,` The enchantment keeps the ${s.rep()} fresh, sending cold shivers up a|reps spine.`]))):r+=" a|Reps a|vagina clenches down hard, and the wave of disappointment upon finding itself empty almost overwhelms the pleasure that radiates up through a|their groin.",r}rawTitle(e){return"Climax"}rawDescription(e){return"You've reached your climax, and can't hold back your orgasm any longer. Time to masturbate."}rawStory(e){const t=this.getActorUnit("a");setup.sexbodypart.vagina,e.getPace(t);let a="";return e.getPace(t)==setup.sexpace.resist?a+=`A desperate, shuddering heat suddenly crashes up from a|reps a|vagina,
      and a|they a|let out a panic squeal as an uninvited blinding wave of pure ecstasy washes suddenly over a|them.`:a+=`A desperate, shuddering heat suddenly crashes up from a|reps a|vagina,
      and a|they a|let out a manic squeal as a blinding wave of pure ecstasy washes over a|them.`,a+=" ",a+=this.describeOrgasm(e),a+=" ",a+="With a deeply-satisfied sigh, a|reps feminine climax starts to fade, and a|they a|take a few deep gasps of air as a|they a|seek to catch a|their breath.",setup.SexUtil.convert(a,{a:t},e)}};o(Qv,"VaginaOrgasm");let Pb=Qv;const Zv=class Zv extends Pb{getTags(){return super.getTags().concat([this.getPenetratorBodypart().getTag()])}getPenetratorBodypart(){return setup.sexbodypart.penis}getPenetrationTarget(){return setup.sexbodypart.vagina}getRestrictions(){return[setup.qres.SexIsOngoing("b",this.getPenetratorBodypart(),"a",this.getPenetrationTarget())]}getActorDescriptions(){const e=super.getActorDescriptions();return e.push({paces:setup.SexPace.getAllPaces(),restrictions:[]}),e}describeOrgasm(e){this.getActorUnit("a");const t=this.getActorUnit("b");let a="";const r=e.getPace(t),s=this.getPenetratorBodypart().rep(t,e);this.getPenetratorBodypart().repTip(t,e);const n=this.getPenetratorBodypart().repFuck(t,e);return r==setup.sexpace.resist||r==setup.sexpace.mindbroken||(a+=` b|Rep carries on ${n}ing a|reps vagina through a|their orgasm, `),a+=` causing a|them to let out a series of high-pitched moans as a|their vaginal muscles grip and squeeze around the intruding ${s}.`,a}};o(Zv,"VaginaOrgasmOngoing");let $f=Zv;setup.SexActionClass.PenisOrgasmSelf=(Mc=class extends Cb{getTags(){return super.getTags().concat(["normal"])}desc(){return"Masturbate"}getActorDescriptions(){const e=super.getActorDescriptions();return e[0].restrictions.push(setup.qres.Not(setup.qres.SexIsInPenetration(setup.sexbodypart.penis))),e}},o(Mc,"PenisOrgasmSelf"),Mc);function KO(i,e,t,a,r){const s=e.getSize(i),n=a.getSize(t),l=e.getAccomodatingValue(i,t,a),u=e.repSimple(i),h=e.repSizeAdjective(i,r),p=a.repSimple(t),c=a.repSizeAdjective(t,r),d=e.rep(i,r),g=a.rep(t,r),m=e.repFuck(i,r);let f,b="";s>=6?n>=6?f=[`a|Reps ${u} is simply too big,
         and not even b|rep with b|their ${g} is sufficient to comfortably accomodate the ${h} thing.`,`Not even b|reps ${g} is sufficient to fully and comfortably accomodate the ${h} monster that is a|reps ${u}.`,`a|Reps ${u} is so ${h} that even though b|reps ${p} is already ${c},
         it won't be enough to accomodate the ${u}.`]:n>=4?f=[`a|Reps ${u} is simply too big,
         and while b|reps ${g} has a chance to accomodate it, the experience is surely going to be unpleasant.`,`The ${d} of a|reps is way too big, and it will require tremedous efforts from both a|rep and
         b|rep if a|they ever a|want to get that thing inside of b|rep.`,`b|Reps ${g} has certainly seen some use, but nothing that could have prepared it for the invasion of a|their ${d}.`]:f=[`a|Reps ${u} is ${h}, and who knows what might happen if a|rep a|decide to shove
         the ${h} thing inside b|reps ${g}...`,`Inserting the ${h} thing into the b|reps still ${g} is going to be an experience
         to watch, as there is just no way b|their ${p} is going to be able to accomodate that...`,`If a|rep really a|want to shove a|their ${d} inside the tight little hole of b|theirs,
         a|rep will have to really, really force the ${h} thing in, one inch at a time.`,`Given the sheer size difference between a|reps ${d} and b|reps ${g}, b|rep would be very lucky indeed
         if b|they can still use b|their ${p} after this...`]:s>n+2?f=[`Looking at a glance, a|reps ${d} is way too big to fit inside b|reps ${g}.`,`Judging from the sizes, there is just no way that b|reps ${g}
         can accomodate the comparatively enormous ${u}.`,`The ${d} looms menacingly over b|reps ${g}.`,`The ${d} shadows over b|reps ${g}, unsure if it could actually be made to fit in.`,`b|Reps ${g} is not meant to accomodate a ${u} as thick as a|reps ${u}, but b|rep will just have to find a way.`,`b|Reps ${g} is pleasingly tight compared to the ${h} size of a|reps ${u}, which is certainly nice for a|rep but less so for b|rep.`]:s<n-2?f=[`The a|reps ${d} will surely slide inside b|reps ${g}.`,`There shouldn't be a single problem inserting a|reps ${d} into b|reps ${g}.`,`b|Reps ${g} is much more than adequate to accomodate the entire length of a|reps ${d}.`,`From a glance, a|rep should have no trouble fully penetrating b|reps ${g}.`,`a|Reps ${d} will probably find zero resistance forcing its way inside b|rep.`]:f=[`The ${p} is just at the right size for a|reps ${d} to enter.`,`a|Rep a|let out a moan as b|reps ${g} is just the right size for a|their ${d}.`,`The ${g} comfortably accomodates a|reps ${d} while still offering good stimulation.`,`As a|reps ${d} slides in, the internal muscles of b|reps ${g} contract, gripping the intruding ${u}.`,`With a thrust, a|reps ${d} is shoved inside the accomodating ${g}, which is at just the perfect size for the ${u}.`],b+=setup.rng.choice(f)+" ";const v=a.repSizeModifier(t,r);return l==0?f=["b|rep is unlikely to experience any pain or discomfort.","the experience will be quite pleasant for b|rep.",`b|reps ${g} should very easily accomodate the ${d}.`,`the ${d} should easily slide in and out of b|reps ${g}.`]:l==1?f=["b|rep will only experience minor discomfort.","the experience will not be very painful for b|rep.",`b|reps ${g} should comfortably accomodate the ${d}.`,`the ${d} should deliciously slide in and out of b|reps ${g}.`]:l==2?f=[`it will be quite an experience for b|rep having a|reps ${d} shoved inside b|them.`,"the experience will surely induce a lot of pain for b|rep.",`b|reps ${g} will be stretched to the limit to allow the ${d} to violate b|them.`,`a|rep will need to thrust deep and hard to force a|their ${d} inside of b|reps ${g}.`]:f=[`there is no doubt b|rep will be left as a writhing mess once a|rep a|is done violating b|their ${p} with a|their ${d}.`,"there will no doubt be a lot of painful screaming in the very near future.",`b|reps ${g} will probably be completely destroyed once a|rep a|is finished with b|them.`,`a|rep will simply need to keep b|rep in place, prevenging b|them from moving too much
         when b|they will no doubt soon writhe in pain as b|they are being brutally ${m}ed.`],b+=v+" "+setup.rng.choice(f)+" ",b}o(KO,"rawPhallusHoleSizeDifferenceStart");function KM(i,e,t,a,r){const s=KO(i,e,t,a,r);return setup.SexUtil.convert(s,{a:i,b:t},r)}o(KM,"phallusHoleSizeDifferenceStart");function VO(i,e,t,a,r){const s=e.getSize(i),n=a.getSize(t),l=e.getAccomodatingValue(i,t,a),u=e.repSimple(i),h=e.repSizeAdjective(i,r),p=a.repSimple(t),c=a.repSizeAdjective(t,r),d=e.rep(i,r),g=a.rep(t,r);e.repFuck(i,r);let m=null,f="";return s>=6&&n>=6?(m=[`Despite the ${h} size of a|reps ${u}, b|reps ${p} is equally ${c}, and is able to
         accomodate the entire length of a|reps members without too much discomfort.`,`a|Rep a|is blessed with ${setup.Article(h)} ${p}, which should actually be large enough
       to satisfy even b|rep with b|their ${g}.`,`The sheer size of a|reps ${u} would make any other whore tremble, but not b|rep and b|their
       equally ${g}.`],t.isHasDick()&&(m=m.concat([`The ${u} ${h} size matches perfectly with b|reps ${g}, allowing it to fully stimulate b|reps prostate.`]))):l==0?(m=[`b|Reps ${g} is too big, and it diminish the amount of arousal a|rep a|get from the penetration.`,`a|Reps ${d} slide in too easily into b|reps ${g}, as if b|their ${p} was always made as a receptacle for ${u}.`,`That ${g} of b|reps accomodates all too easily b|reps ${d}, which slides in and out without even needing a|rep to exert the slightest effort.`,`a|Rep all too easily a|push a|their ${d} inside b|reps ${g}, which make a|rep a|feel a little unsatisfied.`],t.isHasDick()&&(m=m.concat([`a|Reps ${d} is simply too small for the ${g}, and it never reaches b|reps prostate deep within b|their b|ass.`]))):l==1?(m=[`b|Reps ${g} comfortably accomodates a|reps ${d}, pleasuring both participants greatly.`,`a|Reps ${d} is comfortably gripped by b|reps inner muscles, eliciting a|a_moan from a|rep.`,`a|Reps ${d} fits perfectly inside b|rep, with the ${d} accomodated by an equally up-to-task ${g}.`,`The sound of a|reps ${d} sliding and touching the inner walls of b|reps ${g} brought a|rep closer to climaxing.`],t.isHasDick()&&(m=m.concat([`a|Reps ${d} is just at the right length and soon enough b|rep b|let out b|a_moan from having b|their prostate stimulated by the invading ${u}.`]))):l==2?(m=[`b|Rep b|shut b|their b|eyes as b|they b|is helpless to do anything but to accept the painful penetration on b|their ${g}.`,`a|Reps ${d} is a little too big for b|rep, and b|rep b|have to fight against sobbing throughout the penetration.`,`b|Rep b|let out a painful moan as b|their ${g} is being stretched by the invading ${u}.`,`a|Rep a|let out a|a_moan as a|they a|feel a|their ${d} being gripped and stimulated very tightly by b|reps ${g}.`],t.isHasDick()&&(m=m.concat([`a|Reps ${d} is too large for b|reps ${g}, hitting b|their prostate almost immediately after the first thrust.`]))):(m=["b|Rep b|let out b|a_sob as b|they clenched b|their fists, trying to do whatever b|they can to mitigate the extremely painful penetration.",`b|Rep b|beg for mercy as b|they b|feel b|their ${g} being completely destroyed by a|reps ${d} invading inside them.`,`b|Reps mind is completely overwhelmed by a combination of sheer pain and sheer pleasure from having b|their ${g} being stretched to the limits by the invading ${u}.`,`b|Reps ${g} lets out a painful-sounding sound as it is being stretched way beyond what is natural by a|reps unnaturally big ${u}.`],t.isHasDick()&&(m=m.concat([`b|Rep b|let out a pained moan as they feel the ${d} destroying b|their hole and b|their prostate at the same time.`]))),f+=setup.rng.choice(m)+" ",f}o(VO,"rawPhallusHoleSizeDifferenceOngoing");function YO(i,e,t,a,r){const s=VO(i,e,t,a,r);return setup.SexUtil.convert(s,{a:i,b:t},r)}o(YO,"phallusHoleSizeDifferenceOngoing");function JO(i,e,t,a,r){e.getSize(i),a.getSize(t);const s=e.getAccomodatingValue(i,t,a),n=e.repSimple(i);e.repSizeAdjective(i,r);const l=a.repSimple(t);a.repSizeAdjective(t,r);const u=e.rep(i,r),h=a.rep(t,r),p=a.repVaginal(t,r),c=e.repFuck(i,r);let d=null,g="";return s==0?(d=[`Embarrasingly, b|reps ${h} is far too big for the ${u} and a|rep a|receive minimal stimulation.`,`a|Reps ${u} does not make any sound as it effortlessly penetrate inside the ${h}.`,`Given the enormously large ${l} compared to a|reps ${u}, a|rep might as well ${c} at the air at this rate.`,`a|Reps ${u} slides into b|rep almost without any resistance, which reduces the stimulation that a|rep would've received.`],t.isHasDick()&&(d=d.concat([`Given the size of the ${n}, a|rep a|have to give up having a|their prostate stimulated by it.`]))):s==1?(d=[`b|Reps ${h} comfortably press against a|reps ${u}, pleasuring both participants greatly.`,`b|Reps inner ${p} muscles reflexively gripped the ${u}, eliciting b|a_moan from b|rep.`,`a|Reps ${h} perfectly accomodates the ${u}, having just the right amount of space and tightness.`,`Having b|their ${u} buried in such a comfortable receptacle elicits b|a_moan from b|rep.`],t.isHasDick()&&(d=d.concat(["a|Rep suddenlly a|let out a|a_moan as a|they can feel a|their prostate being stimulated."]))):s==2?(d=[`Despite the pain, the ${u} manages to get shoved entirely inside b|reps ${h}.`,`a|Reps ${u} is a little too large for the ${h}, and the penetration causes b|rep to let out a painful moan.`,`a|Rep a|let out a|a_moan at having a|their ${u} being stimulated by such a tight little ${l}.`,`b|Rep b|let out an involuntary moan, having a comparatively large ${n} inside b|them.`],t.isHasDick()&&(d=d.concat([`Despite the extremely tight opening of b|reps ${h}, b|they b|manage to push it deep enough for a|reps ${u} to hit a|their prostate.`]))):(d=[`b|Reps ${u} is far too big though, and every press backwards bring excruciating pain.`,`Despite a|reps efforts, the ${u} is simply too big for the ${l} and there is no way a|rep can push even deeper.`,"The size difference causes each push backward to bring excruciating pain to b|rep.",`a|Rep a|let out a|a_moan at having the incredibly rare opportunity of penetrating such a deliciously tight ${l} with a|their ${u}.`],t.isHasDick()&&(d=d.concat([`b|Rep will not be getting b|their prostate stimulation this way though, as a|reps ${u} is just far too big to even enter and reach b|their prostate.`]))),g+=setup.rng.choice(d)+" ",g}o(JO,"rawPhallusHoleSizeDifferenceOngoingSub");function WO(i,e,t,a,r){const s=JO(i,e,t,a,r);return setup.SexUtil.convert(s,{a:i,b:t},r)}o(WO,"phallusHoleSizeDifferenceOngoingSub"),setup.SexActionClass.CalmDown=(wc=class extends setup.SexAction{getTags(){return super.getTags().concat(["nobodypart","normal"])}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_TINY,arousal:-setup.Sex.AROUSAL_MEDIUM,paces:[setup.sexpace.dom,setup.sexpace.normal,setup.sexpace.sub,setup.sexpace.forced,setup.sexpace.resist],restrictions:[setup.qres.SexArousalAtLeast(setup.Sex.AROUSAL_MIN_TRIGGER)]}]}getDiscomfortBase(e,t){let a=super.getDiscomfortBase(e,t);if(!e.isCanPhysicallyOrgasm()){let s=(t.getArousal(e)-setup.Sex.AROUSAL_MIN_TRIGGER)/(setup.Sex.AROUSAL_MAX_TRIGGER-setup.Sex.AROUSAL_MIN_TRIGGER);s>0&&(a+=setup.Sex.DISCOMFORT_LARGE*s)}return a}rawTitle(e){return"Calm down"}rawDescription(e){return"Calm down, reducing arousal."}rawStory(e){const t=setup.Text.Banter._getTopic(),a=this.getActorUnit("a");e.getPace(a);const s=e.getLocation().repGazeAt(e);let n;const l=a.getEquipmentAt(setup.equipmentslot.genital);if(l&&!a.isCanPhysicallyOrgasm()){const u=l.rep();a.isInChastity()?n=[`At feeling a|their a|dick uncomfortably hardening against a|their ${u}, a|rep hurriedly a|try a|their best to reduce a|their arousal by thinking about ${t} instead.`,`a|Reps a|dick painfully hardens against a|their ${u}, and the sudden pain destroys some of the arousal.`,`a|Reps budding arousal is destroyed as a|their hardening a|dick is painfully constricted by a|their ${u}.`,`The ${u} makes erection painful for a|them, and a|they a|do a|their best to forget about the sex and think about ${t} instead.`,`a|Reps ${u} forbids a|them from cumming and punish a|their hardon with pain, so a|they a|try to calm down and forget about all the sex.`]:n=[`a|Reps ${u} prevents a|them from climaxing, so a|they a|try to reduce a|their arousal by thinking about ${t}.`,`Since a|their ${u} prevents a|them from climaxing, a|they a|try to calm down and think about ${t} instead.`,`a|Rep a|focus a|their thoughts on ${s} instead, hoping it will reduce a|their arousal since a|they can't orgasm with the ${u} attached.`]}else a.isObedient()&&!a.isAllowedOrgasm()?n=[`Since a|rep a|is not allowed to orgasm by a|their slave rule, a|they a|try to reduce a|their growing arousal by thinking about ${t} instead.`,`a|Rep a|is an obedient slave, and a|they try to comply as much as a|they can with the rule forbidding a|them from climaxing by thinking about ${t} instead.`,`Not wanting to break a|their no-orgasm rule, a|rep a|try to reduce a|their arousal by gazing at ${s} instead.`,"a|Reps slave rules forbid a|them from orgasming, and the obedient a|race a|try a|their best to calm a|themself."]:n=[`a|Rep a|try to calm down and forget about all the sex, doing a|their best to think about ${t} instead.`,`a|Rep a|try to calm a|themself, focusing a|their thoughts on ${s} instead.`,`a|Rep a|try to lower a|their arousal by doing a|their best to distract a|themself by thinking about ${t}.`,`a|Rep a|calm a|themself by switching a|their thoughts from sex to ${s}.`];return setup.rng.choice(n)}},o(wc,"CalmDown"),wc),setup.SexActionClass.Rest=(Rc=class extends setup.SexAction{getTags(){return super.getTags().concat(["nobodypart","normal","relief"])}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_TINY,discomfort:-setup.Sex.DISCOMFORT_MEDIUM,paces:[setup.sexpace.dom,setup.sexpace.normal,setup.sexpace.sub,setup.sexpace.forced,setup.sexpace.resist]}]}rawTitle(e){return"Rest"}rawDescription(e){return"Rest, reducing discomfort"}rawStory(e){setup.Text.Banter._getTopic();const t=this.getActorUnit("a"),a=e.getPace(t);e.getLocation().repGazeAt(e);let s;return a==setup.sexpace.resist?s=["a|Rep a|let out a|a_sob as a|they a|rest for a short while to reduce the pain.","a|Rep a|try to cope with the unwanted pain by resting a little.","The pain was too much for a|rep, who a|let out a|a_sob in distress.","a|Rep a|attempt to relax however a|they can to reduce the pain of the unwanted violations."]:s=["a|Rep a|rest, reducing a|their discomfort.","a|Rep a|try to reduce a|their discomfort by doing a|their best to relax despite the situation.","a|Rep a|rest for a little while, reducing some of a|their discomfort."],setup.rng.choice(s)}},o(Rc,"Rest"),Rc),setup.SexActionClass.VaginaOrgasmSelf=(Ec=class extends Pb{getTags(){return super.getTags().concat(["normal"])}desc(){return"Climax by yourself"}getActorDescriptions(){const e=super.getActorDescriptions();return e[0].restrictions.push(setup.qres.Not(setup.qres.SexIsInPenetration(setup.sexbodypart.vagina))),e}},o(Ec,"VaginaOrgasmSelf"),Ec),setup.SexPlanClass={},setup.SexPlan=(xc=class extends setup.TwineClassCustom{constructor(e,t){super(),this.unit=e,this.sex=t}getContainer(){return"setup.SexPlanClass"}selectAction(e){return null}isComplete(){return!1}},o(xc,"SexPlan"),xc);function QO(i,e,t){const a=t.getAllOngoing(i).length;let r=setup.SexUtil.traitSelect(i,setup.Sex.AROUSAL_PENETRATION_SCORE);return r[Math.min(a,r.length-1)]}o(QO,"getActionScorePenetration");const Xv=class Xv extends setup.SexPlan{constructor(...e){super(...e),this.orgasm_count_initial=this.sex.getOrgasms(this.unit),this.is_last_penetration=!1,this.failed=!1}computeScore(e){return 0}selectAction(e){const t=[];for(const r of e){let s=0;r.getTags().includes("penetrationstartdom")||r.getTags().includes("penetrationstartsub")||r.getTags().includes("equipmentself")||r.getTags().includes("equipmentother")?(s=QO(this.unit,r,this.sex),(r.getTags().includes("penetrationstartdom")||r.getTags().includes("penetrationstartsub"))&&this.is_last_penetration&&(s=0)):r.getTags().includes("penetrationenddom")||(r.getTags().includes("penetrationendsub")?s=setup.Sex.AI_END_PENETRATION_SUB_WEIGHT:s=this.computeScore(r)),s>0&&t.push([r,s])}if(this.is_last_penetration=!1,!t.length)return this.failed=!0,null;let a=setup.rng.sampleArray(t,!0);return(a.getTags().includes("penetrationstartdom")||a.getTags().includes("penetrationstartsub"))&&(this.is_last_penetration=!0),a}isComplete(){return this.failed?!0:this.sex.getOrgasms(this.unit)>this.orgasm_count_initial}};o(Xv,"OrgasmBase");let Of=Xv;setup.SexPlanClass.OrgasmSelf=(Dc=class extends Of{computeScore(e){return e.getArousal(this.unit,this.sex)}},o(Dc,"OrgasmSelf"),Dc),setup.SexPlanClass.OrgasmAll=(Ic=class extends Of{computeScore(e){let t=0;for(const a of e.getUnits())t+=e.getArousal(a,this.sex);return t}},o(Ic,"OrgasmAll"),Ic),setup.SexPlanClass.OrgasmThem=($c=class extends Of{computeScore(e){let t=0;for(const a of e.getUnits())a!=this.unit&&(t+=e.getArousal(a,this.sex));return t}},o($c,"OrgasmThem"),$c);function VM(i,e,t,a,r,s,n,l){if(!e.isCanPenetrate(r))return[];const u=l.getPosition(i);if(l.getPose(i)!=t&&!t.isAllowed(i,l,u))return[];if(l.getPose(i)!=t&&n.getDisallowedTags().includes("poseself"))return[];const h=l.getPosition(a);return l.getPose(a)!=s&&!s.isAllowed(a,l,h)?[]:l.getPose(a)!=s&&n.getDisallowedTags().includes("poseother")?[]:e.isCanInteractWith(u,t.getFacingHeight(e,u,l),r,h,s.getFacingHeight(r,h,l))?[{my_pose:t,target:a,target_pose:s}]:[]}o(VM,"enumeratePenetrations"),setup.SexPlanClass.PoseChange=(Oc=class extends setup.SexPlan{constructor(...e){super(...e),this.tries_remain=setup.Sex.AI_POSE_CHANGE_MAX_ATTEMPTS[this.sex.getPace(this.unit).key];const t=this.sex.getPace(this.unit),a=this.sex.getPermission(this.unit);let r=[];for(const s of this.sex.getUnits())if(s!=this.unit){for(const n of setup.SexBodypart.getAllBodyparts())for(const l of setup.SexBodypart.getAllBodyparts())if(n.isHasBodypart(this.unit,this.sex)&&l.isHasBodypart(s,this.sex)&&(n.isCanPenetrate(l)||l.isCanPenetrate(n)))for(const u of setup.SexPose.getAllPoses())for(const h of setup.SexPose.getAllPoses()){let p=[setup.sexpace.dom,setup.sexpace.normal],c=[setup.sexpace.sub,setup.sexpace.normal];n.isSubmissivePenetration(l)&&([p,c]=[c,p]),p.includes(t)&&r.push(...VM(this.unit,n,u,s,l,h,a,this.sex)),c.includes(t)&&r.push(...VM(s,l,u,this.unit,n,h,a,this.sex))}}this.target_config=null,r.length?this.target_config=setup.rng.choice(r):this.giveUp()}selectAction(e){this.tries_remain-=1;{const t=this.target_config.my_pose,a=e.filter(r=>r instanceof setup.SexAction.PoseChange&&r.getNewPose()==t);if(a.length)return setup.rng.choice(a)}{const t=this.target_config.target_pose,a=e.filter(r=>r instanceof setup.SexAction.PoseChangeOther&&r.getActorUnit("b")==this.target_config.target&&r.getNewPose()==t);if(a.length)return setup.rng.choice(a)}return this.giveUp()}giveUp(){return this.tries_remain=0,null}isComplete(){return this.tries_remain==0||this.sex.getPose(this.unit)==this.target_config.my_pose&&this.sex.getPose(this.target_config.target)==this.target_config.target_pose}},o(Oc,"PoseChange"),Oc);const eS=class eS extends setup.SexPlan{constructor(...e){super(...e),this.tries_remain=setup.Sex.AI_POSITION_CHANGE_MAX_ATTEMPTS}preferredPosition(){return setup.sexposition.center}selectAction(e){this.tries_remain-=1;const t=this.preferredPosition(),a=e.filter(s=>s instanceof setup.SexAction.PositionChange&&s.getNewPosition()==t);if(a.length)return setup.rng.choice(a);if(t.isAllowed(this.unit,this.sex))return this.giveUp();if(this.sex.isBeingPenetrated(this.unit)){const s=e.filter(n=>n.getTags().includes("penetrationendsub"));return s.length?setup.rng.choice(s):this.giveUp()}if(t==setup.sexposition.top){const s=this.sex.getUnitAtPosition(setup.sexposition.center);if(!s)return this.giveUp();if(this.sex.getPose(s)!=setup.sexpose.lieup){const n=e.filter(l=>l instanceof setup.SexAction.PoseChangeOther&&l.getActorUnit("b")==s&&l.getNewPose()==setup.sexpose.lieup);return n.length?setup.rng.choice(n):this.giveUp()}}const r=this.sex.getPosition(this.unit);if(r==setup.sexposition.center&&this.sex.getUnitAtPosition(setup.sexposition.top)){const s=e.filter(n=>n instanceof setup.SexAction.PositionChange&&n.getNewPosition()==setup.sexposition.top);return s.length?setup.rng.choice(s):this.giveUp()}if(r==setup.sexposition.center&&!this.sex.getUnitAtPosition(t)){const s=e.filter(n=>n instanceof setup.SexAction.PositionChangeOther&&n.getNewPosition()==setup.sexposition.center);return s.length?setup.rng.choice(s):this.giveUp()}return this.giveUp()}giveUp(){return this.tries_remain=0,null}isComplete(){return this.tries_remain==0||this.sex.getPosition(this.unit)==this.preferredPosition()}};o(eS,"PositionChange");let Pi=eS;setup.SexPlanClass.PositionChangeFront=(Cc=class extends Pi{preferredPosition(){return setup.sexposition.front}},o(Cc,"PositionChangeFront"),Cc),setup.SexPlanClass.PositionChangeBack=(Pc=class extends Pi{preferredPosition(){return setup.sexposition.back}},o(Pc,"PositionChangeBack"),Pc),setup.SexPlanClass.PositionChangeCenter=(Lc=class extends Pi{preferredPosition(){return setup.sexposition.center}},o(Lc,"PositionChangeCenter"),Lc),setup.SexPlanClass.PositionChangeTop=(Uc=class extends Pi{preferredPosition(){return setup.sexposition.top}},o(Uc,"PositionChangeTop"),Uc),setup.SexPlanClass.Random=(Nc=class extends setup.SexPlan{constructor(...e){super(...e)}selectAction(e){const t=e.filter(a=>!(a instanceof setup.SexActionClass.DoNothing));return t.length?setup.rng.choice(t):setup.rng.choice(e)}isComplete(){return!1}},o(Nc,"Random"),Nc),setup.SexPlannerClass={},setup.SexPlanner=(Hc=class extends setup.TwineClassCustom{constructor(e,t){super(),this.unit=e,this.sex=t}getContainer(){return"setup.SexPlannerClass"}getNextPlan(){return null}},o(Hc,"SexPlanner"),Hc);const tS=class tS extends setup.SexPlanner{constructor(...e){super(...e),this.plan_count=0,this.is_last_orgasm=!1}getSexPlan(){return new setup.SexPlanClass.OrgasmSelf(this.unit,this.sex)}getNextPlan(){if(this.plan_count+=1,this.plan_count==1)if(this.sex.getPermission(this.unit).getDisallowedTags().includes("positionself"))this.plan_count+=1;else{const e=setup.rng.choice([setup.SexPlanClass.PositionChangeFront,setup.SexPlanClass.PositionChangeCenter,setup.SexPlanClass.PositionChangeBack,setup.SexPlanClass.PositionChangeTop]);return new e(this.unit,this.sex)}if(this.plan_count==2||this.is_last_orgasm&&Math.random()<setup.Sex.AI_POSE_CHANGE_PLAN_CHANCE)if(this.sex.getPermission(this.unit).getDisallowedTags().includes("poseself"))this.plan_count+=1;else{if(this.is_last_orgasm=!1,this.sex.getPace(this.unit)==setup.sexpace.dom&&Math.random()<setup.Sex.AI_POSITION_CHANGE_PLAN_CHANCE){const e=setup.rng.choice([setup.SexPlanClass.PositionChangeFront,setup.SexPlanClass.PositionChangeCenter,setup.SexPlanClass.PositionChangeBack,setup.SexPlanClass.PositionChangeTop]);return new e(this.unit,this.sex)}return new setup.SexPlanClass.PoseChange(this.unit,this.sex)}return this.is_last_orgasm=!0,this.getSexPlan()}};o(tS,"SexPlannerConsensualBase");let Cf=tS;setup.SexPlannerClass.OrgasmSelf=(Bc=class extends Cf{getSexPlan(){return new setup.SexPlanClass.OrgasmSelf(this.unit,this.sex)}},o(Bc,"OrgasmSelf"),Bc),setup.SexPlannerClass.OrgasmAll=(Gc=class extends Cf{getSexPlan(){return new setup.SexPlanClass.OrgasmAll(this.unit,this.sex)}},o(Gc,"OrgasmAll"),Gc),setup.SexPlannerClass.OrgasmThem=(qc=class extends Cf{getSexPlan(){return new setup.SexPlanClass.OrgasmThem(this.unit,this.sex)}},o(qc,"OrgasmThem"),qc),setup.SexPlannerClass.Random=(zc=class extends setup.SexPlanner{constructor(...e){super(...e)}getNextPlan(){return new setup.SexPlanClass.Random(this.unit,this.sex)}},o(zc,"Random"),zc),setup.SexBodypartClass.Anus=(Fc=class extends setup.SexBodypart{constructor(){super("anus",[],"Anus","Anus")}getHasRestrictions(){return[setup.qres.AnyTrait([setup.trait.anus_tight,setup.trait.anus_loose,setup.trait.anus_gape],!0)]}repSimple(e){const t=["anus","asshole"];return e.isHasTrait("anus_gape")&&t.push("asspussy"),e.isHasTail()&&t.push("tailhole"),setup.rng.choice(t)}getTraitSizeMap(){return{anus_tight:2,anus_loose:4,anus_gape:6}}getTraitSizeModifierMap(){return{training_anal_basic:setup.Sex.BODYPART_SIZE_TRAINING_BASIC,training_anal_advanced:setup.Sex.BODYPART_SIZE_TRAINING_ADVANCED,training_anal_master:setup.Sex.BODYPART_SIZE_TRAINING_MASTER,default:0}}static holeSizeAdjective(e){return e>=6?setup.trait.anus_gape.repSizeAdjective():e>=4?setup.trait.anus_loose.repSizeAdjective():setup.trait.anus_tight.repSizeAdjective()}repSizeAdjective(e,t){return setup.SexBodypartClass.Anus.holeSizeAdjective(this.getSize(e,t))}getEquipmentSlots(){return[setup.equipmentslot.legs,setup.equipmentslot.rear]}giveArousalMultiplier(e,t){return setup.SexUtil.calculateTraitMultiplier(e,{training_anal_basic:setup.Sex.TRAIT_MULTI_LOW,training_anal_advanced:setup.Sex.TRAIT_MULTI_MEDIUM,training_anal_master:setup.Sex.TRAIT_MULTI_HIGH,training_mindbreak:-setup.Sex.TRAIT_MULTI_LOW})}receiveArousalMultiplier(e,t){return setup.SexUtil.calculateTraitMultiplier(e,{anus_tight:setup.Sex.TRAIT_MULTI_MEDIUM,anus_loose:0,anus_gape:-setup.Sex.TRAIT_MULTI_LOW,training_mindbreak:-setup.Sex.TRAIT_MULTI_LOW})*setup.SexBodypartClass.Anus.unitAnalEnjoymentMultiplier(e)}isFlexible(){return!0}static unitAnalEnjoymentMultiplier(e){if(e.isYou())return 1;const t={perk_needy_bottom:100,training_anal_basic:1,training_anal_advanced:2,training_anal_master:10,anus_tight:-1,anus_gape:1,per_chaste:-2,per_lustful:1,per_sexaddict:2,tough_tough:1,tough_nimble:-.5,bg_whore:1,bg_courtesan:1,per_calm:1,per_active:1,per_attentive:1,per_stubborn:-1,per_serious:-1,per_masochistic:1,per_lunatic:1};let a=.5*setup.SexUtil.sumTraitMultipliers(e,t);const r=e.getSkill(setup.skill.sex);return r>=80?a+=1:r>=50&&(a+=.5),Math.max(-2,Math.min(2,a))}repLabia(e,t){return"asshole"}repVaginal(e,t){return"anal"}repCunnilingus(e,t){return"anilingus"}},o(Fc,"Anus"),Fc),setup.sexbodypart.anus=new setup.SexBodypartClass.Anus,setup.SexBodypartClass.Arms=(jc=class extends setup.SexBodypart{constructor(){super("arms",[],"Arms","Arms")}repSimple(e){return setup.rng.choice(["arms"])}getEquipmentSlots(){return[setup.equipmentslot.arms]}heightTolerance(){return 1}giveArousalMultiplier(e,t){return 1}receiveArousalMultiplier(e,t){return 1}isCanUseCovered(){return!0}isFlexible(){return!0}rawDescribeEnd(e,t,a,r){return[`a|rep a|withdraw a|their finger from b|reps ${a.rep(t,r)}, leaving it empty and unfilled.`]}},o(jc,"Arms"),jc),setup.sexbodypart.arms=new setup.SexBodypartClass.Arms,setup.SexBodypartClass.Breasts=(di=class extends setup.SexBodypart{constructor(){super("breasts",[],"Breasts","Breasts")}repSimple(e){return e.isHasBreasts()?setup.rng.choice(["breasts","tits","bosoms","boobs"]):setup.rng.choice(["chest","pecs"])}getTraitSizeMap(){return{breast_tiny:1,breast_small:2,breast_medium:3,breast_large:4,breast_huge:5,breast_titanic:6,default:0}}static breastsSizeAdjective(e){return e>=6?setup.trait.breast_titanic.repSizeAdjective():e>=5?setup.trait.breast_huge.repSizeAdjective():e>=4?setup.trait.breast_large.repSizeAdjective():e>=3?setup.trait.breast_medium.repSizeAdjective():e>=2?setup.trait.breast_small.repSizeAdjective():e>=1?setup.trait.breast_tiny.repSizeAdjective():setup.rng.choice(["flat","non-existent"])}repSizeAdjective(e,t){return setup.SexBodypartClass.Breasts.breastsSizeAdjective(this.getSize(e,t))}getEquipmentSlots(){return[setup.equipmentslot.torso]}giveArousalMultiplier(e,t){return e.isHasBreasts()?setup.SexUtil.calculateTraitMultiplier(e,{breast_titanic:setup.Sex.TRAIT_MULTI_HIGH,breast_huge:setup.Sex.TRAIT_MULTI_MEDIUM,breast_large:setup.Sex.TRAIT_MULTI_LOW,breast_small:-setup.Sex.TRAIT_MULTI_LOW,breast_tiny:-setup.Sex.TRAIT_MULTI_MEDIUM}):setup.SexUtil.calculateTraitMultiplier(e,{muscle_verystrong:setup.Sex.TRAIT_MULTI_MEDIUM,muscle_extremelystrong:setup.Sex.TRAIT_MULTI_LOW})}receiveArousalMultiplier(e,t){return 1}isCanUseCovered(){return!0}getMinBreastTraitForTitfuck(){return setup.trait.breast_medium}getMinMuscleTraitForPecjob(){return setup.trait.muscle_verystrong}getTitfuck(e,t){return e.isHasDick()&&t.isHasTrait(this.getMinBreastTraitForTitfuck())?setup.SexBodypartClass.Breasts.TITFUCK.titfuck:e.isHasDick()&&!t.isHasBreasts()&&t.isHasTrait(this.getMinMuscleTraitForPecjob())?setup.SexBodypartClass.Breasts.TITFUCK.pecjob:null}repTitfuck(e,t){return this.getTitfuck(e,t)}repPush(e,t){const a=this.getTitfuck(e,t);if(a==setup.SexBodypartClass.Breasts.TITFUCK.titfuck)return setup.rng.choice(["push","press","squeeze"]);if(a==setup.SexBodypartClass.Breasts.TITFUCK.pecjob)return setup.rng.choice(["press","squeeze"]);throw new Error(`Unrecognized titfuck option: ${a}`)}},o(di,"Breasts"),y(di,"TITFUCK",{titfuck:"titfuck",pecjob:"pecjob"}),di),setup.sexbodypart.breasts=new setup.SexBodypartClass.Breasts,setup.SexBodypartClass.Legs=(Kc=class extends setup.SexBodypart{constructor(){super("legs",[],"Legs","Legs")}repSimple(e){return setup.rng.choice(["legs"])}getEquipmentSlots(){return[setup.equipmentslot.feet]}giveArousalMultiplier(e,t){return 1}receiveArousalMultiplier(e,t){return 1}isCanUseCovered(){return!0}},o(Kc,"Legs"),Kc),setup.sexbodypart.legs=new setup.SexBodypartClass.Legs,setup.SexBodypartClass.Mouth=(Vc=class extends setup.SexBodypart{constructor(){super("mouth",[],"Mouth","Mouth")}repSimple(e){let t;return e.isHasTrait(setup.trait.mouth_werewolf)?t=["muzzle","maw"]:e.isHasTrait(setup.trait.mouth_dragonkin)?t=["snout","maw"]:t=["mouth"],setup.rng.choice(t)}getTraitSizeModifierMap(){return{training_oral_basic:setup.Sex.BODYPART_SIZE_TRAINING_BASIC,training_oral_advanced:setup.Sex.BODYPART_SIZE_TRAINING_ADVANCED,training_oral_master:setup.Sex.BODYPART_SIZE_TRAINING_MASTER,default:0}}repVaginal(e,t){return"oral"}getTraitSizeMap(){return{default:4}}repFuck(e,t){return"eat"}isSubmissivePenetration(e){return!0}getEquipmentSlots(){return[setup.equipmentslot.mouth]}giveArousalMultiplier(e,t){return setup.SexUtil.calculateTraitMultiplier(e,{training_none:-setup.Sex.TRAIT_MULTI_MEDIUM,training_oral_basic:setup.Sex.TRAIT_MULTI_LOW,training_oral_advanced:setup.Sex.TRAIT_MULTI_MEDIUM,training_oral_master:setup.Sex.TRAIT_MULTI_HIGH,per_submissive:setup.Sex.TRAIT_MULTI_LOW,per_dominant:-setup.Sex.TRAIT_MULTI_LOW,per_lustful:setup.Sex.TRAIT_MULTI_LOW,per_sexaddict:setup.Sex.TRAIT_MULTI_LOW,per_chaste:-setup.Sex.TRAIT_MULTI_LOW,mouth_demon:setup.Sex.TRAIT_MULTI_MEDIUM,training_mindbreak:-setup.Sex.TRAIT_MULTI_HIGH})}receiveArousalMultiplier(e,t){return setup.SexUtil.calculateTraitMultiplier(e,{training_none:-setup.Sex.TRAIT_MULTI_MEDIUM,training_oral_advanced:setup.Sex.TRAIT_MULTI_LOW,training_oral_master:setup.Sex.TRAIT_MULTI_MEDIUM,per_sexaddict:setup.Sex.TRAIT_MULTI_LOW,per_chaste:-setup.Sex.TRAIT_MULTI_LOW})}isCanPenetrate(e){return[setup.sexbodypart.anus,setup.sexbodypart.vagina].includes(e)}rawDescribeTease(e,t,a,r){if(![setup.sexbodypart.anus,setup.sexbodypart.vagina].includes(a))return"";const s=a.rep(t,r);return[`a|Rep can already taste b|reps ${s} located right in front of a|their lips.`,`a|Reps a|tongue can probably reach b|reps ${s} from this position.`,`With a|breps ${s} situated right next to a|reps a|mouth, there could only be one possible way the action could go.`]}rawDescribeEnd(e,t,a,r){const s=a.rep(t,r);return[`a|Rep a|withdraw a|their a|tongue from b|reps ${s}, and left with nothing but its taste.`,`a|Rep a|stop eating out b|reps ${s} for the time being.`,"a|Rep a|retract their b|tongue back to inside b|their b|mouth."]}rawVerbPenetrate(e,t,a,r){r.getPace(e);const s=a.rep(t,r);return a==setup.sexbodypart.anus||a==setup.sexbodypart.vagina?[`busy eating out b|reps ${s}`,`working its way in b|reps ${s}`,`exploring b|reps ${s}`]:""}},o(Vc,"Mouth"),Vc),setup.sexbodypart.mouth=new setup.SexBodypartClass.Mouth,setup.SexBodypartClass.Penis=(Yc=class extends setup.SexBodypart{constructor(){super("penis",[],"Dick","Dick")}repSimple(e){return e.isHasStrapOn()?setup.rng.choice(["strap-on","fake dick","fake cock"]):setup.rng.choice(["dick","cock","shaft","prick"])}getTraitSizeMap(){return{dick_tiny:1,dick_small:2,dick_medium:3,dick_large:4,dick_huge:5,dick_titanic:6,default:3}}static penisSizeAdjective(e){return e>=6?setup.trait.dick_titanic.repSizeAdjective():e>=5?setup.trait.dick_huge.repSizeAdjective():e>=4?setup.trait.dick_large.repSizeAdjective():e>=3?setup.trait.dick_medium.repSizeAdjective():e>=2?setup.trait.dick_small.repSizeAdjective():e>=1?setup.trait.dick_tiny.repSizeAdjective():setup.rng.choice([""])}repSizeAdjective(e,t){return setup.SexBodypartClass.Penis.penisSizeAdjective(this.getSize(e,t))}getEquipmentSlots(){return[setup.equipmentslot.legs,setup.equipmentslot.rear,setup.equipmentslot.genital]}repTip(e,t){return"head"}repFuck(e,t){const a=t.getBodypartPenetrationTarget(e,this);if(a){if(a.bodypart==setup.sexbodypart.mouth)return"facefuck";if(a.bodypart==setup.sexbodypart.breasts)return a.unit.isHasBreasts()?"titfuck":"pecfuck";if(a.bodypart==setup.sexbodypart.anus)return setup.rng.choice(["fuck","buttfuck","assfuck"])}return"fuck"}giveArousalMultiplier(e,t){let a=setup.SexUtil.calculateTraitMultiplier(e,{training_horny_basic:setup.Sex.TRAIT_MULTI_LOW,training_horny_advanced:setup.Sex.TRAIT_MULTI_MEDIUM,training_horny_master:setup.Sex.TRAIT_MULTI_HIGH,per_submissive:-setup.Sex.TRAIT_MULTI_LOW,per_dominant:setup.Sex.TRAIT_MULTI_LOW,dick_werewolf:setup.Sex.TRAIT_MULTI_LOW,training_mindbreak:-setup.Sex.TRAIT_MULTI_LOW});return e.isHasStrapOn()&&(a*=setup.Sex.STRAPON_GIVE_PLEASURE_MULTI),a}receiveArousalMultiplier(e,t){let a=setup.SexUtil.calculateTraitMultiplier(e,{training_horny_basic:setup.Sex.TRAIT_MULTI_LOW,training_horny_advanced:setup.Sex.TRAIT_MULTI_MEDIUM,training_horny_master:setup.Sex.TRAIT_MULTI_HIGH,per_submissive:-setup.Sex.TRAIT_MULTI_LOW,per_dominant:setup.Sex.TRAIT_MULTI_LOW,dick_werewolf:setup.Sex.TRAIT_MULTI_LOW});return e.isHasStrapOn()&&(a*=setup.Sex.STRAPON_GIVE_PLEASURE_MULTI),a}isCanPenetrate(e){return[setup.sexbodypart.mouth,setup.sexbodypart.anus,setup.sexbodypart.vagina].includes(e)}isHasBodypart(e,t){return e.isHasDicklike()}rawDescribeTease(e,t,a,r){if(![setup.sexbodypart.anus,setup.sexbodypart.vagina,setup.sexbodypart.mouth].includes(a))return"";const s=a.rep(t,r);return[`a|Reps a|cdick is now conveniently located next to b|reps ${s}, ready for action.`,`a|Reps a|cdick is now just inches away from b|reps ${s}.`,`All it takes is a push to insert a|reps a|cdick into b|reps ${s}.`]}rawDescribeEnd(e,t,a,r){const s=a.rep(t,r);return[`a|Rep a|withdraw a|their a|dick from b|reps ${s}, leaving only its aftertaste.`,`b|Reps ${s} is freed from a|their a|dick.`,`a|Rep unlodged a|their a|dick from within b|their ${s}.`]}rawVerbPenetrate(e,t,a,r){const s=r.getPace(e);if(a==setup.sexbodypart.mouth)return s==setup.sexpace.dom?["lodged deep within b|reps throat","stuck deep inside b|reps b|mouth","being stuck inside b|reps b|mouth"]:["lodged within b|reps throat","penetrating b|reps b|mouth","stuck inside b|reps b|mouth"];{const n=a.rep(t,r);if(s==setup.sexpace.dom){let l="";return e.isHasTrait("dick_werewolf")?l=", knot included,":e.isHasTrait("dick_dragonkin")?l=", with all the ridges delicious touching the inner walls,":e.isHasTrait("dick_demon")&&(l=", with all the barbs tickling the inner walls,"),[`lodged all the way inside${l} of b|reps ${n}`,`stuck all the way inside${l} of b|reps ${n}`,`being shoved deep inside${l} of b|reps ${n}`]}else return["lodged inside b|reps",`penetrating b|reps ${n}`,"stuck inside b|reps"]}}rawPenetrateFlavorSentence(e,t,a,r){const s=this.getAccomodatingValue(e,t,a),n=a.rep(t,r);let l=[],u="";return s>=2?u=setup.rng.choice(["roughly","violently","harshly","painfully","cruelly","mercilessly"]):s==0&&(u=setup.rng.choice(["harmlessly","barely","slightly","softly"])),e.isHasTrait("dick_dragonkin")?l=[`All the while the ridges on a|reps a|dick amplify the stimulation as they ${u} bump the inner walls.`,`The ridges lining a|reps a|dick add to the stimulation by ${u} bumping into b|reps inner walls.`,`The ridges lining a|reps a|dick add another layer to the stimulation each time they hit and ${u} graze the inner muscles in b|reps ${n}.`]:e.isHasTrait("dick_demon")?l=[`All the while the little sensitive barbs on a|reps a|dick amplify the stimulation as they ${u} graze the inner walls.`,`The barbs lining a|reps a|dick add to the stimulation by ${u} grazing b|reps inner walls.`,`The small sensitive barbs on a|reps a|dick pleasures a|rep as they ${u} graze b|reps sensitive inner walls.`]:e.isHasTrait("dick_werewolf")&&(l=["a|Rep can a|feel a|their knot growing at the stimulation when the a|dick hits the inner walls.","a|Reps knotted a|dick threatens to grow to full size with every penetration.","a|Rep can a|feel blood pumping into a|their a|dick which will no doubt grow a|their knot to full size soon."]),l.length?setup.rng.choice(l):""}},o(Yc,"Penis"),Yc),setup.sexbodypart.penis=new setup.SexBodypartClass.Penis,setup.SexBodypartClass.Tail=(Jc=class extends setup.SexBodypart{constructor(){super("tail",[],"Tail","Tail")}repSimple(e){return setup.rng.choice(["tail"])}getTraitSizeMap(){return{tail_werewolf:4,tail_neko:3,tail_dragonkin:6,tail_demon:4}}static tailSizeAdjective(e){let t;return e>=6?t=["huge"]:e>=4?t=["large"]:t=[""],setup.rng.choice(t)}repSizeAdjective(e,t){return setup.SexBodypartClass.Tail.tailSizeAdjective(this.getSize(e,t))}heightTolerance(){return 1}giveArousalMultiplier(e,t){return setup.SexUtil.calculateTraitMultiplier(e,{per_curious:setup.Sex.TRAIT_MULTI_LOW,per_stubborn:-setup.Sex.TRAIT_MULTI_LOW,per_playful:setup.Sex.TRAIT_MULTI_LOW,per_serious:-setup.Sex.TRAIT_MULTI_LOW,per_dominant:setup.Sex.TRAIT_MULTI_LOW,per_submissive:-setup.Sex.TRAIT_MULTI_LOW,training_mindbreak:-setup.Sex.TRAIT_MULTI_MEDIUM})}receiveArousalMultiplier(e,t){return this.giveArousalMultiplier(e,t)}getHasRestrictions(){return[setup.qres.AnyTrait(setup.TraitHelper.getAllTraitsOfTags(["tail"]),!0)]}isFlexible(){return!0}isDirectionless(){return!0}isCanPenetrate(e){return[setup.sexbodypart.anus,setup.sexbodypart.vagina].includes(e)}repTip(e,t){if(e.isHasTrait("tail_werewolf"))return"fluffy tip";if(e.isHasTrait("tail_neko"))return"tip";if(e.isHasTrait("tail_dragonkin"))return"scaly tip";if(e.isHasTrait("tail_demon"))return"sharp tip"}repFuck(e,t){return"tail-fuck"}rawDescribeEnd(e,t,a,r){const s=a.rep(t,r);return[`a|Rep a|withdraw a|their a|tail from b|reps ${s}, leaving a gaping hole.`,`b|Reps desc contracts as a|rep a|withdraw a|their a|tail from the ${s}`,`Slowly, a|rep a|retract a|their a|tail from deep within b|their ${s}.`]}rawVerbPenetrate(e,t,a,r){const s=r.getPace(e),n=a.rep(t,r);if(s==setup.sexpace.dom){let l="";return e.isHasTrait("tail_werewolf")?l=", all the fluffs included,":e.isHasTrait("tail_neko")||(e.isHasTrait("tail_dragonkin")?l=", including some of the painful-looking ridges,":e.isHasTrait("tail_demon")&&(l=", including the pointy edge,")),[`lodged deep${l} inside of b|reps ${n}`,`stuck deep${l} inside of b|reps ${n}`,`being shoved deep${l} inside of b|reps ${n}`]}else return["lodged inside b|reps",`penetrating b|reps ${n}`,"stuck inside b|reps"]}rawPenetrateFlavorSentence(e,t,a,r){const s=this.getAccomodatingValue(e,t,a),n=a.rep(t,r);let l=[],u="";return s>=2?u=setup.rng.choice(["roughly","violently","harshly","painfully","cruelly","mercilessly"]):s==0&&(u=setup.rng.choice(["harmlessly","barely","slightly","softly"])),e.isHasTrait("tail_dragonkin")?l=[`All the while the sharp ridges on a|reps a|tail greatly amplify the stimulation as they ${u}
         bump the inner walls.`,`The sharp ridges lining a|reps a|tail enhance the stimulation by ${u} bumping into b|reps soft inner walls.`,`The sharp ridges lining a|reps a|tail add another layer of complexity to the stimulation each
         time they hit, bump, and ${u} graze the inner muscles in b|reps ${n}.`]:e.isHasTrait("tail_demon")?l=[`All the while the sharp tip of a|reps a|tail amplify the stimulation as it ${u} grazes the soft inner walls of b|rep, which was never designed to ever be filled with such an appendage.`,`The sharp tip at the end of a|reps a|tail add to the stimulation by ${u} grazing b|reps inner walls, amplifying the pain and pleasure.`,`The sensitive sharp tip at the end of a|reps a|tail gives an extra source of pleasure as it
         ${u} hit and bump b|reps sensitive inner walls.`]:e.isHasTrait("tail_werewolf")?l=[`The fluffy tail ${u} tickles the inner walls of b|rep.`,`b|Rep b|let out b|a_moan as b|they feel b|their ${n} stimulated by a|reps fluffy tail, which ${u} tickles its innner walls.`,`a|Rep can feel their a|tail as it ${u} penetrate and tickles the inner walls of b|rep.`]:e.isHasTrait("tail_neko")&&(l=[]),l.length?setup.rng.choice(l):""}},o(Jc,"Tail"),Jc),setup.sexbodypart.tail=new setup.SexBodypartClass.Tail,setup.SexBodypartClass.Vagina=(Wc=class extends setup.SexBodypart{constructor(){super("vagina",[],"Vagina","Vagina")}repSimple(e){return setup.rng.choice(["vagina","pussy","cunt"])}static holeSizeAdjective(e){return e>=6?setup.trait.vagina_gape.repSizeAdjective():e>=4?setup.trait.vagina_loose.repSizeAdjective():setup.trait.vagina_tight.repSizeAdjective()}repSizeAdjective(e,t){return setup.SexBodypartClass.Vagina.holeSizeAdjective(this.getSize(e,t))}getTraitSizeModifierMap(){return{training_vagina_basic:setup.Sex.BODYPART_SIZE_TRAINING_BASIC,training_vagina_advanced:setup.Sex.BODYPART_SIZE_TRAINING_ADVANCED,training_vagina_master:setup.Sex.BODYPART_SIZE_TRAINING_MASTER,default:0}}getTraitSizeMap(){return{vagina_tight:2,vagina_loose:4,vagina_gape:6}}getEquipmentSlots(){return[setup.equipmentslot.legs,setup.equipmentslot.rear,setup.equipmentslot.genital]}giveArousalMultiplier(e,t){return setup.SexUtil.calculateTraitMultiplier(e,{training_vagina_basic:setup.Sex.TRAIT_MULTI_LOW,training_vagina_advanced:setup.Sex.TRAIT_MULTI_MEDIUM,training_vagina_master:setup.Sex.TRAIT_MULTI_HIGH,training_mindbreak:-setup.Sex.TRAIT_MULTI_LOW})}receiveArousalMultiplier(e,t){return this.giveArousalMultiplier(e,t)}getHasRestrictions(){return[setup.qres.AnyTrait([setup.trait.vagina_tight,setup.trait.vagina_loose,setup.trait.vagina_gape],!0)]}isFlexible(){return!0}repLabia(e,t){return"labia"}repVaginal(e,t){return"vaginal"}repCunnilingus(e,t){return"cunnilingus"}},o(Wc,"Vagina"),Wc),setup.sexbodypart.vagina=new setup.SexBodypartClass.Vagina,setup.SexFacingClass.Front=(Qc=class extends setup.SexFacing{constructor(){super("front")}getOpposite(){return setup.sexfacing.back}isFrontIsh(){return!0}isUp(){return!1}isDown(){return!1}},o(Qc,"Front"),Qc),setup.sexfacing.front=new setup.SexFacingClass.Front,setup.SexFacingClass.Back=(Zc=class extends setup.SexFacing{constructor(){super("back")}getOpposite(){return setup.sexfacing.front}isFrontIsh(){return!1}isUp(){return!1}isDown(){return!1}},o(Zc,"Back"),Zc),setup.sexfacing.back=new setup.SexFacingClass.Back,setup.SexFacingClass.UpFront=(Xc=class extends setup.SexFacing{constructor(){super("upfront")}getOpposite(){return setup.sexfacing.downfront}isFrontIsh(){return!0}isUp(){return!0}isDown(){return!1}},o(Xc,"UpFront"),Xc),setup.sexfacing.upfront=new setup.SexFacingClass.UpFront,setup.SexFacingClass.UpBack=(ed=class extends setup.SexFacing{constructor(){super("upback")}getOpposite(){return setup.sexfacing.downback}isFrontIsh(){return!1}isUp(){return!0}isDown(){return!1}},o(ed,"UpBack"),ed),setup.sexfacing.upback=new setup.SexFacingClass.UpBack,setup.SexFacingClass.DownFront=(td=class extends setup.SexFacing{constructor(){super("downfront")}getOpposite(){return setup.sexfacing.upfront}isFrontIsh(){return!0}isUp(){return!1}isDown(){return!0}},o(td,"DownFront"),td),setup.sexfacing.downfront=new setup.SexFacingClass.DownFront,setup.SexFacingClass.DownBack=(ad=class extends setup.SexFacing{constructor(){super("downback")}getOpposite(){return setup.sexfacing.upback}isFrontIsh(){return!1}isUp(){return!1}isDown(){return!0}},o(ad,"DownBack"),ad),setup.sexfacing.downback=new setup.SexFacingClass.DownBack,setup.SexGoalClass.OrgasmAll=(id=class extends setup.SexGoal{constructor(){super("orgasmall",[],"Orgasm on all","Will try to make all participants reach orgasm",2,{per_gregarious:1,per_loner:-1,per_lavish:1,per_frugal:-1,per_proud:-1,per_humble:1,per_cruel:-1,per_kind:1,per_masochistic:-5,per_loyal:1,per_independent:-1,per_dominant:-1,per_submissive:-1,per_honorable:2,per_evil:-2})}getPlanner(e,t){return new setup.SexPlannerClass.OrgasmAll(e,t)}},o(id,"OrgasmAll"),id),setup.sexgoal.orgasmall=new setup.SexGoalClass.OrgasmAll,setup.SexGoalClass.OrgasmSelf=(rd=class extends setup.SexGoal{constructor(){super("orgasmself",[],"Orgasm on self","Will try to satisfy own desires above all",2,{per_gregarious:-1,per_loner:1,per_lavish:-1,per_frugal:1,per_proud:2,per_humble:-2,per_cruel:2,per_kind:-2,per_masochistic:-5,per_loyal:-1,per_independent:1,per_dominant:2,per_submissive:-2,per_honorable:-2,per_evil:2,per_stubborn:1,per_curious:-1})}getPlanner(e,t){return new setup.SexPlannerClass.OrgasmSelf(e,t)}},o(rd,"OrgasmSelf"),rd),setup.sexgoal.orgasmself=new setup.SexGoalClass.OrgasmSelf,setup.SexGoalClass.OrgasmThem=(sd=class extends setup.SexGoal{constructor(){super("orgasmthem",[],"Orgasm on them","Will try to satisfy other participants' desires above all",2,{per_lavish:1,per_frugal:-1,per_proud:-1,per_humble:1,per_cruel:-1,per_kind:1,per_masochistic:5,per_dominant:-2,per_submissive:2,per_honorable:-1,per_evil:-1,per_curious:1,per_stubborn:-1})}getPlanner(e,t){return new setup.SexPlannerClass.OrgasmThem(e,t)}},o(sd,"OrgasmThem"),sd),setup.sexgoal.orgasmthem=new setup.SexGoalClass.OrgasmThem,setup.SexGoalClass.Resist=(nd=class extends setup.SexGoal{constructor(){super("resist",[],"Resist","Will try to resist getting penetrated",0,{per_lunatic:2})}getPlanner(e,t){return new setup.SexPlannerClass.Random(e,t)}},o(nd,"Resist"),nd),setup.sexgoal.resist=new setup.SexGoalClass.Resist,setup.SexHeightClass.VeryHigh=(od=class extends setup.SexHeight{constructor(){super("veryhigh",4)}getNextVeryHigherHeight(){return setup.sexheight.veryhigh}repHeightLevel(){return"above head"}},o(od,"VeryHigh"),od),setup.sexheight.veryhigh=new setup.SexHeightClass.VeryHigh,setup.SexHeightClass.High=(ld=class extends setup.SexHeight{constructor(){super("high",3)}getNextHigherHeight(){return setup.sexheight.veryhigh}repHeightLevel(){return"head"}},o(ld,"High"),ld),setup.sexheight.high=new setup.SexHeightClass.High,setup.SexHeightClass.Medium=(ud=class extends setup.SexHeight{constructor(){super("medium",2)}getNextHigherHeight(){return setup.sexheight.high}repHeightLevel(){return"waist"}},o(ud,"Medium"),ud),setup.sexheight.medium=new setup.SexHeightClass.Medium,setup.SexHeightClass.Low=(hd=class extends setup.SexHeight{constructor(){super("low",1)}getNextHigherHeight(){return setup.sexheight.medium}repHeightLevel(){return"knee"}},o(hd,"Low"),hd),setup.sexheight.low=new setup.SexHeightClass.Low,setup.SexHeightClass.Floor=(pd=class extends setup.SexHeight{constructor(){super("floor",0)}getNextHigherHeight(){return setup.sexheight.low}repHeightLevel(){return"floor"}},o(pd,"Floor"),pd),setup.sexheight.floor=new setup.SexHeightClass.Floor,setup.SexLocationClass.Bedchamber=(cd=class extends setup.SexLocation{constructor(e,t){super("bedchamber",[],"A bedchamber","A bedchamber"),this.bedchamber_key=setup.keyOrSelf(e),this.is_high=t}getBedchamber(){return State.variables.bedchamber[this.bedchamber_key]}getFurnitures(e){const t={},a=this.getBedchamber();for(const r of Object.values(setup.furnitureslot))t[r.key]=a.getFurniture(r);return t}getRestrictions(){return[setup.qres.SexBedchamberUsable(this.getBedchamber())]}getTitle(){const e=this.getBedchamber();let t;return this.isHigh()?t="Bed":t="Floor",`${e.getSlaver().rep()}'s ${e.rep()} (${t})`}getDescription(){let e=this.getFurnitureAt(setup.furnitureslot.slaverbed).getName();return this.isHigh()||(e=this.getFurnitureAt(setup.furnitureslot.tile).getName()),`The ${e} in ${this.getBedchamber().getName()}`}isHigh(){return this.is_high}repRoom(e){return this.getBedchamber().getName()}repRawGazeAt(e){const t=["the bedchamber walls","the bedchamber door","a stain on the walls","the windows"];return this.getSlaveBed().isBasic()&&t.push("the empty spot on the floor where the slaves sleep in"),t}repRawAmbience(e){const t=["the strong smell of arousal permeates the room","the distinct sound of sex can be heard from a nearby room","looking outside the window, your other slavers are going on their usual daily business","outside of this room, business is going as usual in the fort","a muffled sound can be heard coming from somewhere inside your fort","a visitor can be seen walking around your fort from the window","a bird perches on the bechamber's window"];return State.variables.fort.player.isHasBuilding("market")&&t.push("the bustling sound of merchant can be heard from your market"),t}rawRepStart(e){if(this.isHigh()){const t=this.getFurnitureAt(setup.furnitureslot.slaverbed).rep();return[`a|They a|go into ${this.getTitle()}, before going up the ${t} for some action.`,`After going to the bedchamber area, a|they go inside ${this.getTitle()} and prepare to tumble on the ${t}.`,`${this.getTitle()} is just perfect for the kind of play a|rep a|have in mind today.`]}else{const t=this.getFurnitureAt(setup.furnitureslot.tile).rep();return[`a|They a|go into ${this.getTitle()}, before going on the ${t} for some rough action.`,`After going to the bedchamber area, a|they go inside ${this.getTitle()} and prepare to tumble on the ${t}.`,`${this.getTitle()} is just perfect for the kind of play a|rep a|have in mind today.`]}}},o(cd,"Bedchamber"),cd),setup.SexLocationClass.BrothelSuite=(dd=class extends setup.SexLocation{constructor(){super("brothelsuite",[],"Brothel Suite","A private suite in your brothel")}getRestrictions(){return[setup.qres.VarGte("quest_brothel_progress",500)]}getFurnitures(){const e=setup.dutytemplate.questbrothelmanager.class();return e>=20?{slaverbed:setup.item.f_slaverbed_good,slavebed:setup.item.f_slavebed_good,foodtray:setup.furnitureslot.foodtray.getBasicFurniture(),drinktray:setup.furnitureslot.drinktray.getBasicFurniture(),reward:setup.item.f_reward_good,punishment:setup.furnitureslot.punishment.getBasicFurniture(),lighting:setup.item.f_lighting_good,object:setup.furnitureslot.object.getBasicFurniture(),tile:setup.furnitureslot.tile.getBasicFurniture(),wall:setup.furnitureslot.wall.getBasicFurniture()}:e<=-20?{slaverbed:setup.item.f_slaverbed_good,slavebed:setup.item.f_slavebed_normal,foodtray:setup.furnitureslot.foodtray.getBasicFurniture(),drinktray:setup.furnitureslot.drinktray.getBasicFurniture(),reward:setup.furnitureslot.reward.getBasicFurniture(),punishment:setup.item.f_punishment_good,lighting:setup.item.f_lighting_good,object:setup.furnitureslot.object.getBasicFurniture(),tile:setup.furnitureslot.tile.getBasicFurniture(),wall:setup.furnitureslot.wall.getBasicFurniture()}:{slaverbed:setup.item.f_slaverbed_good,slavebed:setup.item.f_slavebed_good,foodtray:setup.furnitureslot.foodtray.getBasicFurniture(),drinktray:setup.furnitureslot.drinktray.getBasicFurniture(),reward:setup.item.f_reward_other_indoor_garden,punishment:setup.furnitureslot.punishment.getBasicFurniture(),lighting:setup.item.f_lighting_good,object:setup.furnitureslot.object.getBasicFurniture(),tile:setup.furnitureslot.tile.getBasicFurniture(),wall:setup.furnitureslot.wall.getBasicFurniture()}}isHigh(){return!0}repRoom(e){return"private suite"}repRawGazeAt(e){const t=["the clean walls","the suite windows","the walls","the suite door","the ceilings"],a=setup.dutytemplate.questbrothelmanager.class();return a>=20?t.push("the beautiful painting on the walls","the gold-plated vase on the corner of the room","the gold-plated chandelier","the expensive-looking table","the decorative plate"):a<=-20?t.push("the various sex toys displayed on a table","the manacles hanging from the ceilings","the demonic painting on the walls","the chandelier","the empty bondage frame on the walls"):t.push("the small indoor garden","the decorative plant","the exotic painting","the exotic rug","the exotic drapes"),t}repRawAmbience(e){const t=["people busily come in and out of the brothel, visible from outside the window","the brothel's many courtesans continue their duties","business go as usual within the rest of the brothel","people go about their business in the streets of the Neko Port City visible from the window","the brothel's business is moving along in parallel"],a=setup.dutytemplate.questbrothelmanager.class();a>=20?t.push("the sound of a client's scream of pain and ecstacy could be heard coming the rest of the brothel","the room is starting to smell like a combination of sex and opulence"):a<=-20?t.push("the enchanted sex toy in the corner of the room vibrates a little in the presence of sex","the empty bondage frame waits in the corner of the room invitingly","the room is starting to smell like a combination of sex and bondage"):t.push("the room is starting to smell like a combination of sex and exotic fragrance");const r=setup.dutytemplate.questbrothelmanager.sub();return r=="dom"?t.push("the rest of the dominant courtesans are busy attending to various customers","the distinct sound of flesh being whipped can be heard from another room"):r=="sub"?t.push("the rest of the submissive courtesans are busy being dominated by various customers","the distinct sound of flesh being whipped can be heard from another room"):t.push("a loud moan of ecstacy can be heard from a nearby room","the distinct sound of flesh hitting flesh can be heard from another room"),t}rawRepStart(e){return["a|They a|lie waiting on the bed in your private suite for some sexy time.","The luxury of your private suite will surely add to the kind of sex a|they a|have in mind today.","Your private suite affords all the privacy and luxury a|they may need for this rare sex encounter."]}},o(dd,"BrothelSuite"),dd),setup.sexlocation.brothelsuite=new setup.SexLocationClass.BrothelSuite;const aS=class aS extends setup.SexLocation{getRestrictions(){return[setup.qres.Building("dungeons")]}repRoom(e){return"dungeons cell"}getFurnitures(){return{slaverbed:setup.item.f_slaverbed_other_dungeons_bench,slavebed:setup.furnitureslot.slavebed.getBasicFurniture(),foodtray:setup.furnitureslot.foodtray.getBasicFurniture(),drinktray:setup.furnitureslot.drinktray.getBasicFurniture(),reward:setup.furnitureslot.reward.getBasicFurniture(),punishment:setup.item.f_punishment_none_dungeons,lighting:setup.furnitureslot.lighting.getBasicFurniture(),object:setup.furnitureslot.object.getBasicFurniture(),tile:setup.furnitureslot.tile.getBasicFurniture(),wall:setup.furnitureslot.wall.getBasicFurniture()}}repRawGazeAt(e){return["the featureless walls of the dungeons cell","the empty walls","the featureless walls","the dirty walls of the cell","a crack on the dungeons walls","the tiny window of the dungeons cell","a dark stain on the walls","the gray walls","the cold walls","a bump on the walls"]}repRawAmbience(e){const t=["the sound of gagging and moaning could be heard coming from another cell","the dungeons continue to smell of sex","a rat could be seen scuttling away in a nearby cell","a slight breeze comes in from the tiny window","the sounds of rattling restraints could be heard coming from somewhere in the dungeons","a spider watches the action unfold from a cobweb on the corner of the cell","a breeze of wind comes in from the cell bars","the overhead hanging chains stay unmoving","the rest of the dungeons remain eerily silent","another slaver descends into the dungeons, sneaking a glance or two into the cell before moving on",`there are nobody else here, and the only thing here is ${this.repGazeAt(e)}`];return State.variables.company.player.getUnits().filter(a=>a.isHasDick()).length?t.push("the smell of cum continues to permeate the dungeons"):t.push("the smell of girlcum continues to permeate the dungeons"),t}};o(aS,"DungeonsLocationBase");let Lb=aS;setup.SexLocationClass.DungeonsFloor=(gd=class extends Lb{constructor(){super("dungeonsfloor",[],"Dungeons (floor)","The dirty floor of a dungeons cell")}rawRepStart(e){return["a|They a|descend to the dungeons, before finding an empty featureless cell for some action.","The familiar settings of the dungeons greet a|rep, who a|is ready for some hot action.","A breeze of wind escapes from a small opening in the dungeons cells wall, tingling a|reps senses before the sex begin."]}},o(gd,"DungeonsFloor"),gd),setup.sexlocation.dungeonsfloor=new setup.SexLocationClass.DungeonsFloor,setup.SexLocationClass.DungeonsBench=(md=class extends Lb{constructor(){super("dungeonsbench",[],"Dungeons (bench)","The worn-out bench in a dungeons cell")}isHigh(){return!0}rawRepStart(e){return["a|They a|descend to the dungeons, before finding an cell with a single bench perfect for some action.","After going through the dungeons cell, a|rep a|find an empty cell with a dusty old bench.","The dungeons might not be the cleanest place in your fort, but it should suffice for the kind of actions a|rep a|have in mind today."]}},o(md,"DungeonsBench"),md),setup.sexlocation.dungeonsbench=new setup.SexLocationClass.DungeonsBench,setup.SexPaceClass.Dom=(fd=class extends setup.SexPace{constructor(){super("dom",[],"Dominant","Will try to top",1,{per_chaste:-1,per_proud:1,per_humble:-1,per_cruel:1,per_kind:-1,per_aggressive:2,per_dominant:3,per_submissive:-3,per_evil:1,per_honorable:-1,per_playful:1,per_serious:-1,per_stubborn:-1,per_curious:1})}rawRepStart(e,t){return["a|Rep a|is feeling strong and powerful, ready to control the entire intercourse.","a|Rep a|is feeling dominant right now.","As it happens, a|rep a|is feeling rather powerful right now. Woes be to whoever it is that a|they a|get to victimize today."]}repAdverb(e,t){return setup.rng.choice(["violently","roughly","mercilessly","brutally","forcefully"])}},o(fd,"Dom"),fd),setup.sexpace.dom=new setup.SexPaceClass.Dom,setup.SexPaceClass.Forced=(bd=class extends setup.SexPace{constructor(){super("forced",[],"Forced","Will try to bottom to avoid punishment",0,{per_lunatic:1})}rawRepStart(e,t){return["a|Rep a|have resigned to a|their fate of being a sexual plaything, and a|hope to try a|their best to avoid punishment.","Fear has been deeply instilled into a|reps mind, who will do anything to avoid more punishment.","The sex might not be entirely enjoyable to a|rep yet, but in time the last remnant of resistance shall too be cleansed from a|their mind"]}repAdverb(e,t){return setup.rng.choice(["hesitantly","worriedly","anxiously","clumsily"])}},o(bd,"Forced"),bd),setup.sexpace.forced=new setup.SexPaceClass.Forced,setup.SexPaceClass.Mindbroken=(yd=class extends setup.SexPace{constructor(){super("mindbroken",[],"Mindbroken","Is unresponsive due to severe trauma",0,{})}rawRepStart(e,t){return["The mindbroken slave did not respond to the prospect of being used very soon.",`The unresponsive fucktoy a|rep is on today's ${t.getLocation().repRoom(t)} menu.`,"No signs of intelligence can be seen from a|reps a|eyes, and having sex with a|them sometimes feel unnatural."]}repAdverb(e,t){return setup.rng.choice(["blankly","dazedly"])}},o(yd,"Mindbroken"),yd),setup.sexpace.mindbroken=new setup.SexPaceClass.Mindbroken,setup.SexPaceClass.Normal=(kd=class extends setup.SexPace{constructor(){super("normal",[],"Neutral","Is open for all ideas in sex",1,{per_chaste:1,per_cautious:1,per_dominant:-1,per_submissive:-1,per_honorable:1,per_playful:-1,per_serious:1,per_stubborn:1,per_curious:-1})}rawRepStart(e,t){const a=t.getLocation().repRoom(t),r=setup.Text.Hobby.verb(e);return["a|Rep a|is looking forward to having some enjoyable, perhaps a little vanilla sex.",`a|Rep a|adv a|go into the ${a}, looking forward to some fun.`,`For a|rep, having sex is perhaps the second most enjoyable pastime after ${r}.`]}repAdverb(e,t){return setup.rng.choice(["gently","carefully","slowly","softly","steadily","lovingly"])}},o(kd,"Normal"),kd),setup.sexpace.normal=new setup.SexPaceClass.Normal,setup.SexPaceClass.Resist=(vd=class extends setup.SexPace{constructor(){super("resist",[],"Resist","Will try to resist getting penetrated",0,{per_lunatic:1})}rawRepStart(e,t){const a=t.getLocation().repRoom(t);return[`a|Reps begging falls on deaf ears as a|they a|is being dragged into the ${a}.`,"a|Rep a|beg to stop which only serve to delight a|their would-be sexual partners.",`a|Rep a|thrash in a|their bonds as a|they a|is being dragged deeper into the ${a} for some fun time.`]}repAdverb(e,t){return setup.rng.choice(["stressfully"])}},o(vd,"Resist"),vd),setup.sexpace.resist=new setup.SexPaceClass.Resist,setup.SexPaceClass.Sub=(Sd=class extends setup.SexPace{constructor(){super("sub",[],"Submissive","Will try to bottom",1,{per_chaste:-1,per_humble:1,per_proud:-1,per_kind:1,per_cruel:-1,per_masochistic:5,per_aggressive:-2,per_subinant:-3,per_submissive:3,per_evil:-1,per_honorable:-1,per_playful:1,per_serious:-1,per_stubborn:-1,per_curious:1})}rawRepStart(e,t){return t.getLocation().repRoom(t),setup.Text.Hobby.verb(e),e.isSlaver()?["a|Reps a|eyes light up at the prospect of having some harmless submissive sex.","a|Rep a|try a|their best to hide a|their secret submissive tendencies.","a|Rep a|find being a submissive a refreshing change from a|their daily job."]:["a|Rep eagerly a|anticipate the prospect of being dominated by a|their betters.","a|Reps training has borne fruit as the a|race a|is now completely happy at the prospect of being used.","a|Rep submissively a|spread a|their asscheeks in an attempted build-up for the upcoming sex."]}repAdverb(e,t){return setup.rng.choice(["eagerly","enthusiastically","submissively","energetically","greedily","happily","desperately","happily"])}},o(Sd,"Sub"),Sd),setup.sexpace.sub=new setup.SexPaceClass.Sub,setup.SexPermissionClass.Alpha=(Td=class extends setup.SexPermission{constructor(){super("alpha",[],["endsex","positionother","poseother","equipmentother","penetrationendsub"])}},o(Td,"Alpha"),Td),setup.sexpermission.alpha=new setup.SexPermissionClass.Alpha,setup.SexPermissionClass.Full=(_d=class extends setup.SexPermission{constructor(){super("full",[],[])}},o(_d,"Full"),_d),setup.sexpermission.full=new setup.SexPermissionClass.Full,setup.SexPermissionClass.None=(Ad=class extends setup.SexPermission{constructor(){super("none",[],["endsex","positionself","positionother","poseself","poseother","equipmentself","equipmentother","penetrationstartdom","penetrationstartsub","penetrationenddom","penetrationendsub"])}},o(Ad,"None"),Ad),setup.sexpermission.none=new setup.SexPermissionClass.None,setup.SexPoseClass.AllFours=(Md=class extends setup.SexPoseFloor{constructor(){super("allfours",[],"All-fours","Just like a dog",{arms:{facing_key:"downfront",height_key:"floor"},legs:{facing_key:"downback",height_key:"floor"},tail:{facing_key:"upback",height_key:"low"},penis:{facing_key:"downback",height_key:"low"},breasts:{facing_key:"downfront",height_key:"low"},mouth:{facing_key:"front",height_key:"low"},vagina:{facing_key:"back",height_key:"low"},anus:{facing_key:"back",height_key:"low"}})}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_allfours")])}rawDescribe(e,t){const a=t.getLocation().repSurface(t);return[`a|Rep a|get down on all fours on the ${a}.`,`a|Rep a|get on the ${a} on all fours.`,"a|Rep a|assume the all-fours position, with a|their ass in the air."]}rawDescribePosition(e,t){return["Being on all-fours","Standing on all-fours","Facing the ground on all-fours"]}rawRepResist(e,t,a){return[`a|Rep a|let out a|a_sob as a|they a|try to crawl away from b|rep, but a|their efforts prove to be in vain as b|rep b|grab a|their hips and b|pull a|them back to the ${a.getLocation().repSurface(a)}.`,"Trying to crawl away from b|rep on all fours, a|rep a|let out a|a_sob as b|they b|grasp a|their hips, before pulling a|them back into position.","Begging for b|rep to leave a|them alone, a|rep desperately a|try to crawl away from b|them, sobbing in distress as b|they b|take hold of a|their hips and b|pull a|them back into b|them."]}},o(Md,"AllFours"),Md),setup.sexpose.allfours=new setup.SexPoseClass.AllFours,setup.SexPoseClass.CowGirl=(wd=class extends setup.SexPoseTop{constructor(){super("cowgirl",[],"Cowgirl","Let the sub do their work",{arms:{facing_key:"front",height_key:"medium"},legs:{facing_key:"front",height_key:"floor"},tail:{facing_key:"back",height_key:"floor"},penis:{facing_key:"front",height_key:"floor"},breasts:{facing_key:"front",height_key:"medium"},mouth:{facing_key:"front",height_key:"medium"},vagina:{facing_key:"downback",height_key:"floor"},anus:{facing_key:"downback",height_key:"floor"}})}rawDescribe(e,t){const a=t.getUnitAtPosition(setup.sexposition.center),r=["a|Rep a|get on top of b|rep and sit a|their ass right above b|their b|genital.","a|Rep a|position a|themself above b|rep, sitting a|their ass right above b|their b|genital."];return setup.Text.replaceUnitMacros(setup.rng.choice(r),{b:a})}rawDescribePosition(e,t){return["Sitting","Riding"]}},o(wd,"CowGirl"),wd),setup.sexpose.cowgirl=new setup.SexPoseClass.CowGirl,setup.SexPoseClass.FaceSit=(Rd=class extends setup.SexPoseTop{constructor(){super("facesit",[],"Facesit","Let them work their mouth on your ass",{arms:{facing_key:"back",height_key:"medium"},legs:{facing_key:"back",height_key:"floor"},tail:{facing_key:"front",height_key:"floor"},penis:{facing_key:"back",height_key:"floor"},breasts:{facing_key:"back",height_key:"medium"},mouth:{facing_key:"back",height_key:"medium"},vagina:{facing_key:"downfront",height_key:"floor"},anus:{facing_key:"downfront",height_key:"floor"}})}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_facesit")])}rawDescribe(e,t){const a=t.getUnitAtPosition(setup.sexposition.center),r=["a|Rep a|get on top of b|rep and sit a|their ass right above b|their b|mouth.","a|Rep a|position a|themself above b|rep, sitting a|their ass right above b|their b|mouth."];return setup.Text.replaceUnitMacros(setup.rng.choice(r),{b:a})}rawDescribePosition(e,t){return["Sitting","Facesitting"]}},o(Rd,"FaceSite"),Rd),setup.sexpose.facesit=new setup.SexPoseClass.FaceSit,setup.SexPoseClass.Kneel=(Ed=class extends setup.SexPoseFloor{constructor(){super("kneel",[],"Kneel","On the knees",{arms:{facing_key:"front",height_key:"medium"},legs:{facing_key:"back",height_key:"floor"},tail:{facing_key:"back",height_key:"low"},penis:{facing_key:"front",height_key:"low"},breasts:{facing_key:"front",height_key:"medium"},mouth:{facing_key:"front",height_key:"medium"},vagina:{facing_key:"back",height_key:"low"},anus:{facing_key:"back",height_key:"low"}})}rawDescribe(e,t){return["a|Rep a|kneel.","a|Rep a|is now on a|their knees."]}rawDescribePosition(e,t){return["Kneeling","Down on a|their knees","On a|their knees"]}},o(Ed,"Kneel"),Ed),setup.sexpose.kneel=new setup.SexPoseClass.Kneel,setup.SexPoseClass.LieUp=(xd=class extends setup.SexPose{constructor(){super("lieup",[],"Lie up","A relaxing pose",{arms:{facing_key:"upfront",height_key:"floor"},legs:{facing_key:"upback",height_key:"floor"},tail:{facing_key:"downback",height_key:"floor"},penis:{facing_key:"upback",height_key:"floor"},breasts:{facing_key:"upfront",height_key:"floor"},mouth:{facing_key:"upfront",height_key:"floor"},vagina:{facing_key:"downback",height_key:"floor"},anus:{facing_key:"downback",height_key:"floor"}})}rawDescribe(e,t){const a=t.getLocation().repSurface(t);return[`a|Rep a|lie down on the ${a}.`,`a|Rep a|get on the ${a} and lie down.`]}isAllowed(e,t,a){return[setup.sexposition.center].includes(a||t.getPosition(e))&&super.isAllowed(e,t)}rawDescribePosition(e,t){return["Lying up","Lying"]}rawRepResist(e,t,a){const r=a.getUnitAtPosition(setup.sexposition.top),s=a.getLocation().repSurface(a);if(r){let n;return n=[`a|Rep a|try to push b|rep off of a|them as a|they desperately a|try to wriggle out
        from under b|them, but a|their efforts prove to be in vain as b|rep easily b|pin a|them to the ${s}.`,`Struggling against b|rep, a|rep a|let out a|a_sob as a|they weakly a|try to wriggle out
        from under b|them, but b|rep b|press b|their b|body down onto a|theirs, keeping a|them on the ${s} and preventing a|them from getting away.`,`Begging for b|rep to leave a|them alone, a|rep desperately a|struggle against b|them, sobbing in distress as b|they b|use b|their b|body to pin a|them to the ${s}.`],setup.SexUtil.convert(n,{b:r},a)}else return[`Lying on the floor, a|rep a|try to stand, but a|their efforts prove to be in vain as
          b|rep easily b|pin a|them back to the ${s}.`,`With nobody topping a|them right now, a|rep a|try to stand and regain a little bit of a|their dignity
          only for b|rep to powerfully b|press a|them down back into the ${s}.`,`Begging for b|rep to leave a|them alone, a|rep desperately a|struggle to stand back,
          before sobbing in distress as b|they b|pin a|them back to the ${s}.`]}},o(xd,"LieUp"),xd),setup.sexpose.lieup=new setup.SexPoseClass.LieUp,setup.SexPoseClass.Missionary=(Dd=class extends setup.SexPoseTop{constructor(){super("missionary",[],"Missionary","Locked together",{arms:{facing_key:"downfront",height_key:"floor"},legs:{facing_key:"downback",height_key:"floor"},tail:{facing_key:"upback",height_key:"floor"},penis:{facing_key:"downback",height_key:"floor"},breasts:{facing_key:"downfront",height_key:"floor"},mouth:{facing_key:"downfront",height_key:"floor"},vagina:{facing_key:"upback",height_key:"floor"},anus:{facing_key:"upback",height_key:"floor"}})}rawDescribe(e,t){const a=t.getUnitAtPosition(setup.sexposition.center),r=["a|Rep a|lie on top of b|rep, a|their a|cbreasts colliding with b|their b|cbreasts.","a|Rep a|position a|themself on top of b|rep."];return setup.Text.replaceUnitMacros(setup.rng.choice(r),{b:a})}rawDescribePosition(e,t){return["Lying down"]}},o(Dd,"Missionary"),Dd),setup.sexpose.missionary=new setup.SexPoseClass.Missionary,setup.SexPoseClass.Sit=(Id=class extends setup.SexPoseFloor{constructor(){super("sit",[],"Sit","Sitting on the ass",{arms:{facing_key:"front",height_key:"low"},legs:{facing_key:"front",height_key:"floor"},tail:{facing_key:"back",height_key:"floor"},penis:{facing_key:"front",height_key:"floor"},breasts:{facing_key:"front",height_key:"low"},mouth:{facing_key:"front",height_key:"medium"},vagina:{facing_key:"front",height_key:"floor"},anus:{facing_key:"front",height_key:"floor"}})}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_sit")])}rawDescribe(e,t){return["a|Rep a|go down to sit.","a|Rep a|sit down."]}rawDescribePosition(e,t){return["Sitting"]}},o(Id,"Sit"),Id),setup.sexpose.sit=new setup.SexPoseClass.Sit,setup.SexPoseClass.SixtyNine=($d=class extends setup.SexPoseTop{constructor(){super("sixtynine",[],"Sixty-nine","Give back the pleasure",{arms:{facing_key:"downback",height_key:"floor"},legs:{facing_key:"downfront",height_key:"floor"},tail:{facing_key:"upfront",height_key:"floor"},penis:{facing_key:"downfront",height_key:"floor"},breasts:{facing_key:"downback",height_key:"floor"},mouth:{facing_key:"downback",height_key:"floor"},vagina:{facing_key:"upfront",height_key:"floor"},anus:{facing_key:"upfront",height_key:"floor"}})}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_sixtynine")])}rawDescribe(e,t){const a=t.getUnitAtPosition(setup.sexposition.center),r=["a|Rep a|get on top of b|rep, placing a|their a|cgenital right above b|their a|mouth.","a|Rep a|get on top of b|rep, with a|their head right above b|their a|cgenital."];return setup.Text.replaceUnitMacros(setup.rng.choice(r),{b:a})}rawDescribePosition(e,t){return["Lying down"]}},o($d,"SixtyNine"),$d),setup.sexpose.sixtynine=new setup.SexPoseClass.SixtyNine,setup.SexPoseClass.Stand=(Od=class extends setup.SexPoseFloor{constructor(){super("stand",[],"Stand","Standing tall on two legs",{arms:{facing_key:"front",height_key:"high"},legs:{facing_key:"front",height_key:"floor"},tail:{facing_key:"back",height_key:"medium"},penis:{facing_key:"front",height_key:"medium"},breasts:{facing_key:"front",height_key:"high"},mouth:{facing_key:"front",height_key:"high"},vagina:{facing_key:"back",height_key:"medium"},anus:{facing_key:"back",height_key:"medium"}})}rawDescribe(e,t){return["a|Rep a|stand up.","a|Rep a|get on a|their two feets.","a|Rep a|get up to stand."]}rawDescribePosition(e,t){return["Standing","Standing tall"]}},o(Od,"Stand"),Od),setup.sexpose.stand=new setup.SexPoseClass.Stand,setup.SexPoseClass.UpsideDown=(Cd=class extends setup.SexPoseFloor{constructor(){super("upsidedown",[],"Upside Down","Legs hanging helplessly from the ceiling",{arms:{facing_key:"front",height_key:"floor"},legs:{facing_key:"front",height_key:"high"},tail:{facing_key:"back",height_key:"medium"},penis:{facing_key:"front",height_key:"medium"},breasts:{facing_key:"front",height_key:"low"},mouth:{facing_key:"front",height_key:"floor"},vagina:{facing_key:"back",height_key:"medium"},anus:{facing_key:"back",height_key:"medium"}})}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_upsidedown"),setup.qres.SexIsInLocationSupportingUpsideDown()])}rawDescribe(e,t){const a=t.getLocation().repSurface(t),r=t.getLocation().repUpsideDownFurniture();return[`a|Reps a|feet are secured to the ${r}, and a|their head a|is now just inches from the ${a}`,`a|Reps a|feet are hoisted up to the ceiling and securely into the ${r}, leaving a|them hanging upside-down`,`a|Rep a|is positioned upside-down as a|their a|feet are secured to the ${r}.`]}rawDescribePosition(e,t){return["Being upside-down","Hanging upside-down","Hanging helplessly from the ceiling"]}rawRepResist(e,t,a){a.getLocation().repSurface(a);const r=a.getLocation().repUpsideDownFurniture();return[`a|Rep a|let out a|a_sob as a|they hang helplessly from the ${r}, unable to
      resist anything that is coming to a|them.`,`a|Rep a|is helpless to do anything as a|they a|is suspended from the ${r}, making a|their
      entire a|body available for whatever b|rep b|desire.`,`Begging for b|rep to release a|them from the ${r},
      a|rep desperately a|try whatever a|they can to avoid b|rep, before sobbing in distress as b|they b|take
      hold of a|their helpless body and b|pull a|them closer.`]}},o(Cd,"UpsideDown"),Cd),setup.sexpose.upsidedown=new setup.SexPoseClass.UpsideDown,setup.SexPositionClass.Front=(Pd=class extends setup.SexPosition{constructor(){super("front",[],"Front","Front")}rawDescribe(e,t){return t.getUnitAtPosition(this)?["a|Rep a|swap positions with b|rep.","a|Rep a|exchange positions with b|rep."]:["a|Rep a|move to in front of c|rep."]}isFacingRight(){return!0}getRelativePosition(e){return setup.sexposition.back?"far from":"in front of"}},o(Pd,"Front"),Pd),setup.sexposition.front=new setup.SexPositionClass.Front,setup.SexPositionClass.Center=(Ld=class extends setup.SexPosition{constructor(){super("center",[],"Center","Center")}rawDescribe(e,t){return t.getUnitAtPosition(this)?["a|Rep a|swap positions with b|rep.","a|Rep a|exchange positions with b|rep."]:[`a|Rep a|move to the center of the ${t.getLocation().repRoom(t)}.`]}getDefaultPose(){return setup.sexpose.lieup}getRelativePosition(e){return e==setup.sexposition.top?"under":"in front of"}},o(Ld,"Center"),Ld),setup.sexposition.center=new setup.SexPositionClass.Center,setup.SexPositionClass.Back=(Ud=class extends setup.SexPosition{constructor(){super("back",[],"Back","Back")}rawDescribe(e,t){return t.getUnitAtPosition(this)?["a|Rep a|swap positions with b|rep.","a|Rep a|exchange positions with b|rep."]:["a|Rep a|move to behind of c|rep."]}getRelativePosition(e){return setup.sexposition.front?"far from":"behind"}},o(Ud,"Back"),Ud),setup.sexposition.back=new setup.SexPositionClass.Back,setup.SexPositionClass.Top=(Nd=class extends setup.SexPosition{constructor(){super("top",[],"Top","Top")}rawDescribe(e,t){return t.getUnitAtPosition(this)?["a|Rep a|swap positions with b|rep.","a|Rep a|exchange positions with b|rep."]:["a|Rep a|move to top c|rep.","a|Rep a|proceed to top c|rep."]}getDefaultPose(){return setup.sexpose.missionary}getRelativePosition(e){return e==setup.sexposition.center?"on top of":"in front of"}},o(Nd,"Top"),Nd),setup.sexposition.top=new setup.SexPositionClass.Top,setup.qresImpl.SexArousalAtLeast=(Hd=class extends setup.SexRestriction{constructor(e){super(),this.arousal=e}explain(){return`Arousal at least ${this.arousal}`}isOk(e){return this.sex.getArousal(e)>=this.arousal}},o(Hd,"SexArousalAtLeast"),Hd),setup.qresImpl.SexCanUnequip=(Bd=class extends setup.SexRestriction{constructor(e){super(),this.equipment_slot=e}explain(){return`Can unequip ${this.equipment_slot.rep()}`}isOk(e){for(const t of setup.SexBodypart.getAllBodyparts())if(t.isHasBodypart(e,this.sex)){const a=this.sex.getBlockingEquipment(e,t);if(a&&a.getSlot()==this.equipment_slot)return!0}return!1}},o(Bd,"SexCanUnequip"),Bd),setup.qresImpl.SexCanUseBodypart=(Gd=class extends setup.SexRestriction{constructor(e){super(),this.bodypart=e}explain(){return`Can use ${this.bodypart.repsimple()}`}isOk(e){return this.sex.isCanUse(e,this.bodypart)}},o(Gd,"SexCanUseBodypart"),Gd),setup.qresImpl.SexEnjoysAnal=(qd=class extends setup.SexRestriction{constructor(){super()}explain(){return"Enjoys anal sex"}isOk(e){return setup.SexBodypartClass.Anus.unitAnalEnjoymentMultiplier(e)>=1}},o(qd,"SexEnjoysAnal"),qd),setup.qresImpl.SexIsBeingPenetrated=(zd=class extends setup.SexRestriction{constructor(e){super(),this.my_bodypart=e}explain(){return this.my_bodypart?`${this.my_bodypart.repsimple()} is being penetrated`:"Is being penetrated"}isOk(e){return this.my_bodypart?!!this.sex.getBodypartPenetrator(e,this.my_bodypart):this.sex.isBeingPenetrated(e)}},o(zd,"SexIsBeingPenetrated"),zd),setup.qresImpl.SexIsBodypartUncovered=(Fd=class extends setup.SexRestriction{constructor(e){super(),this.bodypart=e}explain(){return`${this.bodypart.repsimple()} is uncovered`}isOk(e){return!this.sex.getCoveringEquipment(e,this.bodypart)}},o(Fd,"SexIsBodypartUncovered"),Fd),setup.qresImpl.SexIsInPenetration=(jd=class extends setup.SexRestriction{constructor(e){super(),this.my_bodypart=e}explain(){return this.my_bodypart?`${this.my_bodypart.repsimple()} is involved in some penetration`:"Is involved in a penetration"}isOk(e){return setup.qres.SexIsBeingPenetrated(this.my_bodypart).isOk(e)||setup.qres.SexIsPenetrating(this.my_bodypart).isOk(e)}},o(jd,"SexIsInPenetration"),jd),setup.qresImpl.SexIsOngoingWithAnyone=(Kd=class extends setup.SexRestriction{constructor(e,t){super(),this.my_bodypart=e,this.their_bodypart=t}explain(){return`${this.my_bodypart.repsimple()} is penetrating ${this.their_bodypart.repsimple()}`}isOk(e){const t=this.sex.getBodypartPenetrationTarget(e,this.my_bodypart);return t&&t.bodypart==this.their_bodypart}},o(Kd,"SexIsOngoingWithAnyone"),Kd),setup.qresImpl.SexIsOrgasming=(Vd=class extends setup.SexRestriction{constructor(){super()}explain(){return"About to climax"}isOk(e){return this.sex.isOrgasming(e)}},o(Vd,"SexIsOrgasming"),Vd),setup.qresImpl.SexIsPenetrating=(Yd=class extends setup.SexRestriction{constructor(e){super(),this.my_bodypart=e}explain(){return this.my_bodypart?`${this.my_bodypart.repsimple()} is penetrating something`:"Is penetrating something"}isOk(e){return this.my_bodypart?!!this.sex.getBodypartPenetrationTarget(e,this.my_bodypart):this.sex.isPenetrating(e)}},o(Yd,"SexIsPenetrating"),Yd),setup.qresImpl.SexNoEquipment=(Jd=class extends setup.SexRestriction{constructor(e){super(),this.equipment_slot=e}explain(){return`No equipment in ${this.equipment_slot.rep()}`}isOk(e){return!e.getEquipmentAt(this.equipment_slot)}},o(Jd,"SexNoEquipment"),Jd),setup.qresImpl.SexPaceIn=(Wd=class extends setup.SexRestriction{constructor(e){super(),this.paces=e}explain(){return`Pace: ${this.paces.map(e=>e.rep()).join(", ")}`}isOk(e){return this.paces.includes(this.sex.getPace(e))}},o(Wd,"SexPaceIn"),Wd),setup.qresImpl.SexPoseCanChangeTo=(Qd=class extends setup.SexRestriction{constructor(e){super(),this.pose=e}explain(){return`Can switch to ${this.pose.rep()}`}isOk(e){return this.sex.getPose(e)!=this.pose&&this.pose.isAllowed(e,this.sex)}},o(Qd,"SexPoseCanChangeTo"),Qd),setup.qresImpl.SexPositionCanChangeTo=(Zd=class extends setup.SexRestriction{constructor(e){super(),this.position=e}explain(){return`Can move to ${this.position.rep()}`}isOk(e){return this.sex.getPosition(e)!=this.position&&this.position.isAllowed(e,this.sex)}},o(Zd,"SexPositionCanChangeTo"),Zd);function Za(i,e){return e?html`
    <div>
      ${setup.DOM.Util.name(i)}
    </div>
  `:html`
    <div>
      ${twee`<<back>>`}
    </div>

    <div>
    ${!e&&State.variables.devtooltype?html`
        ${setup.DOM.Text.successlite("The content you have made is now in the game.")}
        You can load your existing save file
        ${setup.DOM.Text.danger("FROM THIS SCREEN")}
        if you want to try playing with the content you just add in an actual game.
        (Note that if you are editing an existing content, the previous content will NOT
          get replaced by the new one. Instead, you will have two versions of the content,
          the old one and the new one you just created.)
      `:""}
    </div>

    <div>
      ${setup.DOM.Util.message("(show generated actors)",setup.DOM.Card.notifications())}
    </div>

    <div>
      ${setup.DOM.Util.name(i)}
    </div>
  `}o(Za,"debug_do_one_title");function Xa(i,e){return e&&i.debugKillActors(),null}o(Xa,"debug_do_one_finalize");function Pf(i,e){return html`
    <h2>Select ${i} to try</h2>
    <div>
      ${setup.DOM.Nav.move("(Return)","SettingsMenu")}
    </div>
    <div>
      ${twee`[[(Test All)|${e}]]`}
    </div>
  `}o(Pf,"debug_frontpage_title"),setup.DOM.Menu.Settings.Debug.activity=function(){const i=[];return i.push(Pf("activity","ActivityDebugAll")),i.push(setup.DOM.Util.filterAll({menu:"activitytemplate",filter_objects:Object.values(setup.activitytemplate),display_callback:o(e=>html`
      <div>
        ${setup.DOM.Util.namebold(e)}
        ${setup.DOM.Util.message("(can this be generated right now?)",()=>{State.variables.activitylist.deleteAllActivities();for(const t of State.variables.company.player.getUnits({}))if(e.isCanGenerateFor(t))return setup.DOM.Text.success("YES");return setup.DOM.Text.danger("NO")})}
        ${setup.DOM.Nav.link("(try to generate this)",()=>{State.variables.activitylist.deleteAllActivities();for(const t of State.variables.company.player.getUnits({}))if(e.isCanGenerateFor(t)&&e.makeInstance(t))return State.variables.gPassage="FortGrid",setup.DOM.Nav.goto("FortGrid");alert("Unable to find suitable units for the activity.")})}
        ${setup.DOM.Nav.link("(force generate this)",()=>{e.debugMakeInstance(!1)},"FortGrid")}
        ${setup.DOM.Nav.link("(test this)",()=>{State.variables.qDebugActivityTemplate_key=e.key,setup.runSugarCubeCommand("<<goto ActivityDebugDo>>")})}
    </div>`,"display_callback")})),setup.DOM.create("div",{},i)},setup.DOM.Menu.Settings.Debug.activity_debug_one=function(i,e){const t=i.debugMakeInstance(e),a=[];a.push(Za(t,e));for(const r of Object.values(setup.speech)){for(const[s,n]of t.getActorsList())n.speech_key=r.key,n.is_speech_reset=!1;a.push(html`
      <div>
        <div>
          ${setup.DOM.Util.namebold(t)} [${r.rep()}]:
        </div>
        ${setup.DOM.Card.activity(t)}
      </div>
    `)}return a.push(Xa(t,e)),setup.DOM.create("div",{},a)},setup.DOM.Menu.Settings.Debug.activity_debug_all=function(){const i=[];for(const e of Object.values(setup.activitytemplate)){try{i.push(setup.DOM.Menu.Settings.Debug.activity_debug_one(e,!0))}catch(t){i.push(setup.DOM.Util.exception(t))}i.push(setup.DOM.Card.notifications())}return setup.DOM.create("div",{},i)};function Ub(i){const e=[];State.variables.settings.isBanned(i.getTags())&&e.push(html`<div>
        Contains some ${setup.DOM.Text.danger("banned")} fetish tags.
      </div>`);let t;i instanceof setup.Event?t=i.getRequirements():t=i.getPrerequisites();for(const a of t)a.isOk(i)?e.push(html`<div>
          Restriction satisfied: ${a.explain(i)}
        </div>`):e.push(html`<div>
          Restriction ${setup.DOM.Text.danger("missing")}: ${a.explain(i)}
        </div>`);return State.variables.calendar.isOnCooldown(i)&&e.push(html`
        <div>
          ${setup.DOM.Text.danger("On cooldown")} for ${State.variables.calendar.getCooldown(i)} more weeks.
        </div>
      `),i.isCanGenerate()?e.push(html`
        <div>
          ${setup.DOM.Text.success("YES")}
        </div>
      `):e.push(html`
        <div>
          ${setup.DOM.Text.danger("NO")}
        </div>
      `),setup.DOM.create("div",{},e)}o(Ub,"scoutable_content");function Gk(i){return setup.DOM.Util.message(i instanceof setup.Event?"(is trigger-able)":"(is scout-able)",()=>Ub(i))}o(Gk,"is_scoutable_link"),setup.DOM.Menu.Settings.Debug.quest=function(){const i=[];return i.push(Pf("quest","QuestDebugAll")),i.push(setup.DOM.Util.filterAll({menu:"questtemplate",filter_objects:Object.values(setup.questtemplate),display_callback:o(e=>{const t=[];t.push(html`
        ${setup.DOM.Util.namebold(e)}
        ${Gk(e)}
        ${setup.DOM.Nav.link("(make instance)",()=>{setup.QuestPool.instantiateQuest(e)?(State.variables.gPassage="QuestHub",setup.runSugarCubeCommand('<<goto "QuestHub">>')):alert("No valid instantiation found")})}
        ${setup.DOM.Nav.link("(force make instance)",()=>{const a=e.debugMakeInstance();State.variables.company.player.addQuest(a),State.variables.gPassage="QuestHub",setup.runSugarCubeCommand('<<goto "QuestHub">>')})}
        ${setup.DOM.Nav.link("(test this)",()=>{State.variables.qDebugQuestTemplate_key=e.key,delete State.variables.qDebugQuestResult,setup.runSugarCubeCommand("<<goto QuestDebugDo>>")})}

        ${setup.DOM.Nav.link("(test description)",()=>{State.variables.qDebugQuestTemplate_key=e.key,setup.runSugarCubeCommand("<<goto QuestDebugDoDescription>>")})}
      `);for(const a of setup.QUEST_OUTCOMES)t.push(html`
        ${setup.DOM.Nav.link(`(test ${a})`,()=>{State.variables.qDebugQuestTemplate_key=e.key,State.variables.qDebugQuestResult=a,setup.runSugarCubeCommand("<<goto QuestDebugDo>>")})}
        `);return setup.DOM.create("div",{},t)},"display_callback")})),setup.DOM.create("div",{},i)},setup.DOM.Menu.Settings.Debug.quest_debug_outcome=function(i,e,t){const a=i.debugMakeFilledInstance(e,t),r=[];r.push(Za(a,t)),r.push(html`<div> <b>${e}</b></div>`);const s=a.getTemplate().getCardClass(),n=`textcard questcard${a.outcome} ${s} card`;r.push(html`
      <div class='${n}'>
      ${Pe(a,a.getOutcomeObject()[0])}
    </div>
    `);try{a.finalize()}catch(l){r.push(setup.DOM.Util.exception(l))}return r.push(setup.DOM.Card.notifications()),r.push(Xa(a,t)),setup.DOM.create("div",{},r)},setup.DOM.Menu.Settings.Debug.quest_debug_description=function(i,e){const t=i.debugMakeInstance(e),a=[];a.push(Za(t,e));const s=`textcard ${t.getTemplate().getCardClass()} card`;return a.push(html`
    <div class='${s}'>
      ${Pe(t,t.getDescriptionPassage())}
    </div>
  `),a.push(Xa(t,e)),setup.DOM.create("div",{},a)},setup.DOM.Menu.Settings.Debug.quest_debug_one=function(i,e,t){const a=[setup.DOM.Menu.Settings.Debug.quest_debug_description(i,e)];a.push(Ub(i));for(const r of setup.QUEST_OUTCOMES)t&&r!=t||a.push(setup.DOM.Menu.Settings.Debug.quest_debug_outcome(i,r,e));return setup.DOM.create("div",{},a)},setup.DOM.Menu.Settings.Debug.quest_debug_all=function(){const i=[];for(const e of Object.values(setup.questtemplate)){try{i.push(setup.DOM.Menu.Settings.Debug.quest_debug_one(e,!0))}catch(t){i.push(setup.DOM.Util.exception(t))}i.push(setup.DOM.Card.notifications())}return setup.DOM.create("div",{},i)},setup.DOM.Menu.Settings.Debug.event=function(){const i=[];return i.push(Pf("event","EventDebugAll")),i.push(setup.DOM.Util.filterAll({menu:"event",filter_objects:Object.values(setup.event),display_callback:o(e=>html`
      <div>
        ${setup.DOM.Util.namebold(e)}
        ${Gk(e)}
        ${setup.DOM.Nav.link("(test this)",()=>{State.variables.qDebugEventTemplate_key=e.key,setup.runSugarCubeCommand("<<goto EventDebugDo>>")})}
    </div>`,"display_callback")})),setup.DOM.create("div",{},i)},setup.DOM.Menu.Settings.Debug.event_debug_one=function(i,e){const t=i.debugMakeInstance(e),a=[];a.push(Za(t,e)),a.push(Ub(i)),a.push(html`
    <div class='textcard eventcard card'>
      ${Pe(t,t.getEvent().getPassage())}
    </div>
  `);try{State.variables.eventpool._finalizeEvent(t)}catch(r){a.push(setup.DOM.Util.exception(r))}return a.push(Xa(t,e)),setup.DOM.create("div",{},a)},setup.DOM.Menu.Settings.Debug.event_debug_all=function(){const i=[];for(const e of Object.values(setup.event)){try{i.push(setup.DOM.Menu.Settings.Debug.event_debug_one(e,!0))}catch(t){i.push(setup.DOM.Util.exception(t))}i.push(setup.DOM.Card.notifications())}return setup.DOM.create("div",{},i)},setup.DOM.Menu.Settings.Debug.interaction=function(){const i=[];return i.push(Pf("interaction","InteractionDebugAll")),i.push(setup.DOM.Util.filterAll({menu:"interaction",filter_objects:Object.values(setup.interaction),display_callback:o(e=>html`
      <div>
        ${setup.DOM.Util.namebold(e)}
        ${setup.DOM.Nav.link("(test this)",()=>{State.variables.qDebugInteractionTemplate_key=e.key,setup.runSugarCubeCommand("<<goto InteractionDebugDo>>")})}
    </div>`,"display_callback")})),setup.DOM.create("div",{},i)},setup.DOM.Menu.Settings.Debug.interaction_debug_one=function(i,e){const t=i.debugMakeInstance(e),a=[];a.push(Za(t,e)),a.push(html`
    <div class='textcard interactioncard card'>
      ${Pe(t,t.getInteraction().getPassage())}
    </div>
  `);try{t.applyRewards()}catch(r){a.push(setup.DOM.Util.exception(r))}return a.push(Xa(t,e)),setup.DOM.create("div",{},a)},setup.DOM.Menu.Settings.Debug.interaction_debug_all=function(){const i=[];for(const e of Object.values(setup.interaction)){try{i.push(setup.DOM.Menu.Settings.Debug.interaction_debug_one(e,!0))}catch(t){i.push(setup.DOM.Util.exception(t))}i.push(setup.DOM.Card.notifications())}return setup.DOM.create("div",{},i)},setup.DOM.Menu.Settings.Debug.opportunity=function(){const i=[];return i.push(Pf("opportunity","OpportunityDebugAll")),i.push(setup.DOM.Util.filterAll({menu:"opportunitytemplate",filter_objects:Object.values(setup.opportunitytemplate),display_callback:o(e=>html`
      <div>
        ${setup.DOM.Util.namebold(e)}
        ${Gk(e)}
        ${setup.DOM.Nav.link("(make instance)",()=>{setup.QuestPool.instantiateOpportunity(e)?(State.variables.gPassage="OpportunityList",setup.runSugarCubeCommand('<<goto "OpportunityList">>')):alert("No valid instantiation found")})}
        ${setup.DOM.Nav.link("(test this)",()=>{State.variables.qDebugOpportunityTemplate_key=e.key,delete State.variables.gDebugOpportunityOption,setup.runSugarCubeCommand("<<goto OpportunityDebugDo>>")})}
        ${setup.DOM.Nav.link("(test description)",()=>{State.variables.qDebugOpportunityTemplate_key=e.key,setup.runSugarCubeCommand("<<goto OpportunityDebugDoDescription>>")})}
      ${setup.DOM.Util.message("(test specific outcome)",()=>{const t=e.debugMakeInstance(!1);State.variables.opportunitylist.addOpportunity(t);const a=[],r=e.getOptions();for(let s=0;s<r.length;++s){const n=r[s];a.push(html`
            ${setup.DOM.Nav.link("(debug this option:)",()=>{State.variables.qDebugOpportunityTemplate_key=e.key,State.variables.gDebugOpportunityOption=s,setup.runSugarCubeCommand("<<goto OpportunityDebugDo>>")})}
            ${Pe(t,n.description_passage)}
            </hr>
          `)}return t.expire(),setup.DOM.create("div",{},a)})}
    </div>`,"display_callback")})),setup.DOM.create("div",{},i)},setup.DOM.Menu.Settings.Debug.opportunity_debug_option=function(i,e,t){const a=i.debugMakeInstance(t);State.variables.opportunitylist.addOpportunity(a),a.selectOption(e);const r=a.getSelectedOptionPassage(),s=[];s.push(Za(a,t)),r&&s.push(html`
      <div class='textcard eventcard'>
        ${Pe(a,r)}
      </div>
    `);try{a.finalize()}catch(n){s.push(setup.DOM.Util.exception(n))}return s.push(Xa(a,t)),setup.DOM.create("div",{},s)},setup.DOM.Menu.Settings.Debug.opportunity_debug_description=function(i,e){const t=i.debugMakeInstance(e),a=[];return a.push(Za(t,e)),a.push(html`
    <div class='textcard eventcard'>
      ${Pe(t,t.getTemplate().getDescriptionPassage())}
    </div>
  `),a.push(Xa(t,e)),setup.DOM.create("div",{},a)},setup.DOM.Menu.Settings.Debug.opportunity_debug_one=function(i,e,t){const a=[];a.push(setup.DOM.Menu.Settings.Debug.opportunity_debug_description(i,e)),a.push(Ub(i));const r=i.getOptions();for(let s=0;s<r.length;++s)(t===void 0||t==s)&&a.push(setup.DOM.Menu.Settings.Debug.opportunity_debug_option(i,s,e));return setup.DOM.create("div",{},a)},setup.DOM.Menu.Settings.Debug.opportunity_debug_all=function(){const i=[];for(const e of Object.values(setup.opportunitytemplate)){try{i.push(setup.DOM.Menu.Settings.Debug.opportunity_debug_one(e,!0))}catch(t){i.push(setup.DOM.Util.exception(t))}i.push(setup.DOM.Card.notifications())}return setup.DOM.create("div",{},i)},setup.DOM.Menu.Settings.Debug.scoutablequest=function(){const i=[];i.push(html`
      <div>
        ${setup.DOM.Nav.return("Back")}
      </div>
    `),i.push(html`
       <h2>
         Select questpool
       </h2>
    `);for(const e in setup.questpool){const t=setup.questpool[e],a=t.getAllQuestsAndOpportunities();a.sort((r,s)=>r.template.getDifficulty().getLevel()-s.template.getDifficulty().getLevel()),i.push(setup.DOM.Util.message(t.getName(),()=>{const r=[];return a.forEach(s=>{r.push(html`
                    <div>
                      ${s.rarity.rep()}: (${s.template.getDifficulty().rep()}) ${s.template.getName()}
                    </div>
                    `)}),r.length?setup.DOM.create("div",{},r):null})),i.push(html`
          <br/>
        `)}return setup.DOM.create("div",{},i)},setup.qresImpl.HasTag=(Xd=class extends setup.Restriction{constructor(e){super(),this.tag_name=e}text(){return`setup.qres.HasTag('${this.tag_name}')`}explain(e){if("devtooltype"in State.variables)return`Unit ${this.tag_name}`;{const t=State.variables.company.player.getUnits({tag:this.tag_name});return t.length?t.map(a=>a.rep()).join(" or "):setup.DOM.toString(setup.DOM.Text.danger("No eligible unit"))}}isOk(e){return e.isHasTag(this.tag_name)}},o(Xd,"HasTag"),Xd),setup.qresImpl.NoTag=(jt=class extends setup.Restriction{constructor(e){super(),this.tag_name=e}text(){return`setup.qres.NoTag('${this.tag_name}')`}explain(){return`Must NOT have tag/flag: "${this.tag_name}"`}isOk(e){return!e.isHasTag(this.tag_name)}},o(jt,"NoTag"),y(jt,"NAME","Do NOT have a tag / flag"),y(jt,"PASSAGE","RestrictionNoTag"),y(jt,"UNIT",!0),jt);const iS=class iS extends Qa{};o(iS,"PhallusHoleFreeBaseDom");let Nb=iS;const rS=class rS extends Ib{};o(rS,"PhallusHoleFreeBaseSub");let Hb=rS;const sS=class sS extends Nb{getPenetratorBodypart(){return setup.sexbodypart.arms}};o(sS,"ArmsHoleFreeBaseDom");let Bb=sS;const nS=class nS extends Hb{getPenetratorBodypart(){return setup.sexbodypart.arms}};o(nS,"ArmsHoleFreeBaseSub");let qk=nS;const oS=class oS extends Bb{getPenetrationTarget(){return setup.sexbodypart.breasts}};o(oS,"ArmsBreastsFreeBaseDom");let Gb=oS;const lS=class lS extends qk{getPenetrationTarget(){return setup.sexbodypart.breasts}};o(lS,"ArmsBreastsFreeBaseSub");let zk=lS;setup.SexActionClass.ArmsBreastsFreeDomGrope=(eg=class extends Gb{getTags(){return super.getTags().concat(["normal"])}desc(){return"Grope breasts"}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_SMALL,arousal:setup.Sex.AROUSAL_SMALL,paces:[setup.sexpace.dom,setup.sexpace.normal,setup.sexpace.sub]},{energy:setup.Sex.ENERGY_MEDIUM,arousal:setup.Sex.AROUSAL_SMALL,discomfort:setup.Sex.DISCOMFORT_SMALL,paces:setup.SexPace.getAllPaces()}]}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_grope")])}rawTitle(e){return"Grope b|reps b|breasts"}rawDescription(e){return"Give b|reps b|breasts a squeeze."}rawStory(e){const t=this.getActorUnit("a"),a=e.getPace(t),r=this.getActorUnit("b"),s=e.getPace(r);r.isHasBreasts();const n=e.getCoveringEquipment(r,this.getPenetrationTarget()),l=this.getPenetrationTarget().repSimple(r);let u;n?u=e.getCoveringEquipment(r,this.getPenetrationTarget()).rep():u=setup.rng.choice([`exposed ${l}`,`bare ${l}`,`naked ${l}`]);let h;const p=r.getEquipmentAt(setup.equipmentslot.nipple);p?h=p.rep():h="b|nipples";let c;a==setup.sexpace.dom?c="punishment":c="stimulation";let d="",g;a==setup.sexpace.dom?g=[`Reaching up to b|reps chest, a|rep a|let out a soft moan as a|they a|start roughly fondling
        and groping b|reps
        b|breasts${n?`, forcefully grinding b|their ${u} down against b|their ${h} in the process.`:"."}`,`a|Rep a|find a|themself unable to resist the temptation of b|reps b|breasts, and a|they
         a|reach up to forcefully grind a|their a|hands against b|their
         ${n?u:h}
         before starting to roughly grope and squeeze b|their ${l}.`,`Sinking a|their fingers into b|reps ${u},
         a|rep a|start to roughly fondle and grope b|their b|breasts${n?" through it":""}.`,`After positioning a|their a|hands into b|reps ${u},
         without any warning a|rep suddenly a|press and a|squeeze, feeling the
         ${r.isHasBreasts()?"softness":"hardness"} of b|their b|breasts.`,`Placing a|their a|hands atop b|reps b|breasts, a|rep a|trace the shape of b|their
         ${r.isHasBreasts()?"mammaries":"pecs"} before roughly manhandling them.`]:g=[`Reaching up to b|reps chest, a|rep a|let out a soft moan as a|they a|start a|eagerly fondling
        and groping b|reps
        b|breasts${n?`, pressing b|their ${u} down against b|their ${h} in the process.`:"."}`,`a|Rep a|find a|themself unable to resist the temptation of b|reps b|breasts, and a|they
         a|reach up to a|eagerly press a|their a|hands against b|their
         ${n?u:h}
         before starting to grope and squeeze b|their ${l}.`,`Teasing a|their fingers over b|reps ${u},
         a|rep a|start to a|eagerly fondle and grope b|their b|breasts${n?" through it":""}.`,`After a|eagerly guiding a|their a|hands right in front of b|reps ${u},
         a|rep a|eagerly press a|their a|hands down, manhandling the
         ${r.isHasBreasts()?"soft":"hard"} flesh of b|their b|breasts.`,`Placing a|their a|hands atop b|reps b|breasts, a|rep a|eagerly a|trace the shape of b|their
         ${r.isHasBreasts()?"mammaries":"pecs"} before a|eagerly manhandling them.`];{let m;a==setup.sexpace.dom?m="b|Rep b|gasp as a|rep slap a|their a|hands on b|their ":m="a|Rep a|eagerly a|place a|their a|hands on b|their ",r.isHasTrait("breast_titanic")?m+=`
          monster tits, a|eagerly bouncing their weighty mass
          roughly with all a|their might before sliding a|their a|hands to b|their b|nipples,
        `:r.isHasTrait("breast_huge")?m+=`
          huge tits, a|eagerly bouncing them roughly up and down in a|their a|hands,
          while simultaneously flicking b|their b|nipples hard
          with a|their fingers and thumbs,
        `:r.isHasTrait("breast_large")?m+=`
          large tits, jiggling them enticingly with your <<uhands $unit.player>>
        `:r.isHasTrait("breast_medium")?m+=`
          cute breasts, cupping them and roughly playing with b|their
          b|nipples between a|their fingers and thumbs,
        `:r.isHasTrait("breast_tiny")?m+=`
          flat breasts, roughly playing with b|their hard, erect nipples between a|their fingers and thumbs,
        `:r.isHasTrait("muscle_extremelystrong")?m+=`
          monster pecs, feeling its shape and hardness and roughly playing with them before
          sliding a|their a|hands to play with b|their b|nipples,
        `:r.isHasTrait("muscle_verystrong")?m+=`
          extremely muscular pecs, feeling its shape and hardness and roughly playing with them
          before sliding a|their a|hands to b|their b|nipples,
        `:r.isHasTrait("muscle_strong")?m+=`
          muscular pecs, feeling and tracing its contour and roughly playing with them before sliding a|their
          a|hands to b|their b|nipples,
        `:m+=`
          flat chest, roughly playing with b|their hard b|nipples between a|their fingers and thumbs,
        `,a==setup.sexpace.dom?m+="teasing them and firmly pulling them in all directions.":m+="teasing them and pulling them a|eagerly towards a|them.",g.push(m)}if(d+=setup.rng.choice(g)+" ",s==setup.sexpace.normal||s==setup.sexpace.sub)g=[" b|Rep b|let out a soft moan at a|reps touch, before b|eagerly encouraging a|them to continue giving b|their b|breasts a|their full attention."," With a soft moan, b|rep b|eagerly b|push b|their chest out, imploring a|rep to continue."," Softly moaning at a|reps touch, b|rep b|eagerly b|encourage a|them to carry on playing with b|their b|breasts.",` b|They b|moan passionately at the continued ${c} of b|their b|breasts.`];else if(s==setup.sexpace.dom)g=[" b|Rep b|let out b|a_moan at a|reps touch, before roughly growling for a|them to continue giving b|their b|breasts a|their full attention."," With b|a_moan, b|rep b|push b|their chest out, and in a firm tone, b|they b|order a|rep to continue giving b|their b|breasts a|their full attention."," With b|a_moan, b|rep b|push b|their b|breasts out, and using a commanding tone, b|rep order a|them to continue before carrying on making lewd noises."," Letting out b|a_moan at a|reps touch, b|rep b|demand that a|they a|carry on playing with b|their b|breasts."];else if(s==setup.sexpace.resist)g=[setup.SexUtil.repResist(r,t,e,["knock a|their fingers away from b|their b|breasts","struggle against a|them","hide b|their b|breasts from a|reps touch","push a|them off b|their b|breasts"],["a|they a|continue playing with b|their b|breasts","a|they a|carry on playing with b|their b|breasts","a|they a|continue fondling with b|their b|breasts",`a|they a|continue with the ${c} of b|their b|breasts`])];else if(s==setup.sexpace.forced){const m=setup.SexUtil.hesitatesBeforeForcingThemselfTo(r,e);g=[` b|Rep b|let out b|a_moan at a|reps unwanted touch,
          having no choice but to watch a|them continue giving b|their b|breasts a|their full attention.`,` With b|a_moan, b|rep ${m} push b|their chest out, giving a|rep full access.`,` Moaning at a|reps touch, b|rep ${m} watch a|them carry on playing with b|their b|breasts.`,` b|They b|shake at a|their touch fearfully -- b|their eagerness to avoid punishment b|lead b|them
          to stiffen as a|rep continue the ${c} on b|their b|breasts.
          When a|rep finally stop, b|they b|shiver but b|say nothing, uneasy at what a|they a|is going to do next.`]}else g=[setup.SexUtil.mindbrokenReactionNoun(r,e,["the molesting a|hands","the molestation upon b|their b|breasts","a|reps invading a|hands","the continued stimulation of b|their b|breasts"])];return d+=setup.rng.choice(g)+" ",d}},o(eg,"ArmsBreastsFreeDomGrope"),eg),setup.SexActionClass.ArmsBreastsFreeDomNipplePinch=(tg=class extends Gb{getTags(){return super.getTags().concat(["normal"])}desc(){return"Pinch nipples"}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_SMALL,arousal:setup.Sex.AROUSAL_SMALL,paces:[setup.sexpace.dom,setup.sexpace.normal]},{energy:setup.Sex.ENERGY_MEDIUM,arousal:setup.Sex.AROUSAL_SMALLMEDIUM,discomfort:setup.Sex.DISCOMFORT_MEDIUMLARGE,paces:setup.SexPace.getAllPaces(),restrictions:[setup.qres.SexIsBodypartUncovered(setup.sexbodypart.breasts)]}]}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_nipple_pinch")])}rawTitle(e){return"Pinch nipples"}rawDescription(e){return"Pinch b|reps b|nipples."}rawStory(e){const t=this.getActorUnit("a"),a=e.getPace(t),r=this.getActorUnit("b"),s=e.getPace(r),n=r.getEquipmentAt(setup.equipmentslot.nipple);let l="",u;if(n){const p=n.rep();a==setup.sexpace.dom?u=[`yank and violently pull the ${p} on b|their b|nipples`,`grab and strongly pull the ${p} on b|their b|nipples`,`give the ${p} on b|their b|nipples a strong pull and twist`,`hang a|reps a|hand on the ${p} on b|their b|nipples before yanking it violently down`]:u=[`tug on the ${p} on b|their b|nipples`,`hold and flick the ${p} on b|their b|nipples`,`give the ${p} on b|their b|nipples a tentative tug`,`slowly pull the ${p} attached to b|their b|nipples`,"flick the tip of to b|their b|nipples hard in different directions"]}else a==setup.sexpace.dom?u=["pinch and squeeze b|their b|nipples","squeeze and twist b|their b|nipples","twist and pinch b|their b|nipples","firmly squeeze the tips of b|their b|nipples with a|their thumbs and fingers, before tweaking them in a|their fingertips","softly flick b|their nipples up and down"]:u=["pinch and rub at b|their b|nipples","tug and pinch b|their b|nipples","press and twist b|their b|nipples","slowly squeeze the tips of b|their b|nipples with a|their thumbs and fingers, before tweaking them in a|their fingertips"];let h=setup.rng.choice(u);return a==setup.sexpace.dom?u=[`Reaching up to b|reps b|breasts, a|rep a|let out a|a_moan as a|they a|start roughly groping b|reps chest, before moving up to forcefully ${h}.`,`b|Reps b|breasts, fully on display, prove to be too tempting a target for a|rep to ignore, and with a|a_moan, a|they a|start to roughly ${h}.`,`Sinking a|their fingers into b|reps  b|breasts, a|rep a|let out a|a_moan before starting to roughly
        ${h}.`]:u=[`Reaching up to b|reps b|breasts, a|rep a|let out a|a_moan as a|they a|start to a|eagerly ${h}.`,`b|Reps b|breasts, fully on display, prove to be too tempting a target for a|rep to ignore, and with a|a_moan, a|they a|start to a|eagerly ${h}.`,`Teasing a|their fingers over b|reps  b|breasts, a|rep a|start to a|eagerly ${h}.`],l+=setup.rng.choice(u)+" ",s==setup.sexpace.normal||s==setup.sexpace.sub?u=[" b|Rep b|let out a moan at a|reps touch, before b|eagerly encouraging a|them to continue giving b|their b|nipples a|their full attention."," With a moan, b|rep slowly b|push b|their chest out, imploring a|rep to continue as b|they b|carry on making lewd little noises."," b|Eagerly moaning at a|their touch, b|rep gently b|encourage a|rep to carry on stimulating b|their b|nipples."]:s==setup.sexpace.dom?u=[" b|Rep b|let out a threatening growl at the treatment, making sure a|rep know that a|their turn will come next."," With b|a_moan, b|rep b|push b|their chest out, and in a firm tone, b|they b|order a|rep to continue giving b|their b|nipples a|their full undivided attention."," Letting out b|a_moan at a|their touch, b|rep b|demand that a|they be prepared to offer a|their a|nipples in return later."]:s==setup.sexpace.resist?u=[setup.SexUtil.repResist(r,t,e,["knock a|their fingers away from b|their b|nipples","struggle against a|them","hide b|their b|nipples from a|reps touch"],["a|they a|continue playing with b|reps b|nipples","a|they a|carry on playing with b|reps b|nipples","a|they a|continue fondling b|reps b|nipples",`a|they a|continue to ${h}`])]:s==setup.sexpace.forced?u=[" b|Rep b|let out b|a_moan at a|reps touch, the experience giving b|them slight amount of pain.",` With b|a_moan, b|rep ${setup.SexUtil.hesitatesBeforeForcingThemselfTo(r,e)} push b|their chest out, providing access for b|their owner to continue as a|they please.`," Moaning at a|their touch, b|rep b|is helpless to do anything but to b|let a|rep carry on playing with b|their b|nipples."]:u=[setup.SexUtil.mindbrokenReactionNoun(r,e,["the abuse on b|their b|nipples","a|rep playing with b|their b|nipples","b|their hardening b|nipples"])],l+=setup.rng.choice(u)+" ",l}},o(tg,"ArmsBreastsFreeDomNipplePinch"),tg),setup.SexActionClass.ArmsBreastsFreeSubGrope=(ag=class extends zk{getTags(){return super.getTags().concat(["normal"])}desc(){return"Have breasts groped"}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_MEDIUM,arousal:setup.Sex.AROUSAL_SMALL,discomfort:setup.Sex.DISCOMFORT_TINY,paces:[setup.sexpace.dom,setup.sexpace.normal,setup.sexpace.sub],restrictions:[setup.qres.SexCanUseBodypart(setup.sexbodypart.arms)]},{energy:setup.Sex.ENERGY_SMALL,arousal:setup.Sex.AROUSAL_SMALL,paces:setup.SexPace.getAllPaces()}]}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_grope")])}rawTitle(e){return"Have a|breasts groped"}rawDescription(e){return"Get b|rep to give your a|breasts a good squeeze."}rawStory(e){const t=this.getActorUnit("a"),a=e.getPace(t),r=this.getActorUnit("b"),s=e.getPace(r),n=t.isHasBreasts(),l=e.getCoveringEquipment(t,this.getPenetrationTarget()),u=this.getPenetrationTarget().repSimple(t);let h;l?h=e.getCoveringEquipment(t,this.getPenetrationTarget()).rep():h=setup.rng.choice([`exposed ${u}`,`bare ${u}`,`naked ${u}`]);let p;const c=t.getEquipmentAt(setup.equipmentslot.nipple);c?p=c.rep():p="a|nipples";let d="",g;a==setup.sexpace.dom?g=[`Taking b|reps b|hands in a|theirs, a|rep a|yank them up to a|their chest,
        letting out a|a_moan as a|they roughly a|press them into a|their a|breasts ${l?`forcing a|their ${h} down against a|their a|nipples in the process`:""}.`,`a|Rep a|take hold of b|reps b|hands, before roughly yanking them up to press into
        a|their ${l?h:p},
        and holding them there for a moment as a|rep a|order b|them to grope and squeeze a|reps a|breasts.`,`Taking hold of b|reps b|hands, a|rep violently a|pull them up to a|their
        ${h}, forcing b|their fingers to press into a|their ${u}.`]:g=[`Taking b|reps b|hands in a|theirs, a|rep a|guide them up to a|their chest,
        letting out a|a_moan as a|they a|eagerly a|press them into a|their a|breasts ${l?`forcing a|their ${h} down against a|their a|nipples in the process`:""}.`,`a|Rep a|take hold of b|reps b|hands, before a|eagerly guiding them up to press into
        a|their ${l?h:p},
        and holding them there for a moment as a|rep a|hope that b|they will grope and squeeze a|reps a|breasts.`,`Taking hold of b|reps b|hands, a|rep a|eagerly a|guide b|their fingers up to a|their
        ${h}, before enthusiastically pressing them into a|their ${u}.`],d+=setup.rng.choice(g)+" ";let m="";n?m=setup.rng.choice(["tender","soft",""]):t.isHasTrait("muscle_strong")&&(m=setup.rng.choice(["hard","stiff",""]));const f=`${l?`the ${h} covering`:`the ${m} flesh of`} a|their a|breasts`;if(s==setup.sexpace.normal||s==setup.sexpace.sub)g=[` b|Rep b|let out a moan in response to a|reps eagerness, before
          b|eagerly pressing b|their b|hands into ${f}.`,` With a soft moan, b|rep eagerly responds to a|reps move by b|eagerly sinking b|their fingers
          into ${f}.`,` b|Eagerly moaning, b|rep b|start playing with a|reps a|breasts, drawing pleasurable a|moans from
          between a|their lips as b|they b|eagerly b|press b|their fingers into a|their a|breasts.`];else if(s==setup.sexpace.dom)g=[` b|Rep b|let out b|a_moan in response to a|reps eagerness, roughly pressing b|their b|hands
        into ${f} as b|they growls out that b|they a|is still the one in charge.`,` With b|a_moan, b|rep eagerly responds to a|reps move by roughly sinking b|their fingers
        into ${f}.`,` Moaning, b|rep b|start playing with a|reps a|breasts, drawing pleasurable a|moans
        from between a|their lips as b|they roughly b|press b|their fingers into a|their a|breasts.`];else if(s==setup.sexpace.resist)g=[setup.SexUtil.repResist(r,t,e,["struggle against b|their touch","disobey the order"],["b|they b|force b|reps b|hands into a|their a|breasts","b|they b|continue forcing b|reps b|hands into a|their a|breasts","b|rep b|carry on forcing b|their b|hands into a|their a|breasts"])];else if(s==setup.sexpace.forced){const b=setup.SexUtil.hesitatesBeforeForcingThemselfTo(r,e);g=[` b|Rep b|let out b|a_moan involuntarily in response to a|reps movements,
        before b|they ${b} press b|their b|hands into ${f}.`,` With b|a_moan, b|rep ${b} respond to a|reps move by sinking b|their fingers into ${f}.`,` Despite only half-heartedly doing it, b|rep still draw pleasurable a|moans from between
        a|reps lips as b|they hesitantly b|press b|their fingers into a|their a|breasts.`]}else g=[setup.SexUtil.mindbrokenReactionDespite(r,e,["Despite a|reps eagerness",`Despite having b|their b|hands on the ${f}`,`Despite the ${m} feeling of a|reps ${u}`])];return d+=setup.rng.choice(g)+" ",d}},o(ag,"ArmsBreastsFreeSubGrope"),ag);const uS=class uS extends Bb{getPenetrationTarget(){return setup.sexbodypart.penis}};o(uS,"ArmsPenisFreeBaseDom");let Fk=uS;setup.SexActionClass.ArmsPenisFreeDomGropeBalls=(ig=class extends Fk{getTags(){return super.getTags().concat(["normal"])}desc(){return"Fondle balls"}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_SMALL,arousal:setup.Sex.AROUSAL_SMALLMEDIUM,paces:[setup.sexpace.dom,setup.sexpace.normal,setup.sexpace.sub]},{energy:setup.Sex.ENERGY_MEDIUM,arousal:setup.Sex.AROUSAL_SMALL,discomfort:setup.Sex.DISCOMFORT_SMALLMEDIUM,paces:setup.SexPace.getAllPaces(),restrictions:[setup.qres.Trait("balls_tiny")]}]}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_grope")])}rawTitle(e){return"Fondle balls"}rawDescription(e){return"Fondle and play with b|reps b|balls."}rawStory(e){const t=this.getActorUnit("a"),a=e.getPace(t),r=this.getActorUnit("b"),s=e.getPace(r);let n="",l;return a==setup.sexpace.dom?(l=[`a|Rep a|reach between b|reps b|legs with one a|hand, before violently yanking b|reps b|balls,
        drawing a pained moan from b|them.`,"b|Rep b|find b|themself letting out b|a_moan of both pleasure and pain as a|rep a|reach across with one a|hand and squeeze b|their b|balls hard.",`Running a|their fingers over b|reps b|balls, a|rep a|start to stroke and cup them,
         before violently slapping them as b|reps b|dick twitches and starting to leak pre in response.`,`Guiding a|their a|hands over b|reps b|balls, a|rep suddenly a|yank hard the base of the a|balls and squeezing
         it down, eliciting a pained moan from b|rep.`],r.isHasTrait("balls_huge")?l=l.concat([`a|Rep a|feel the skin off b|reps huge balls, before punching the oversized ballsack hard, drawing
           a pained moan from b|them.`]):l=l.concat([`Putting b|their b|balls inside the palms of a|their a|hands, a|rep shuffle the balls around before
           crushing them inside a|their a|hands, drawing a pained moan from b|them.`])):(l=[`a|Rep a|reach between b|reps b|legs with one a|hand and a|start to a|eagerly stroke and
         squeeze b|their b|balls, secretly hoping to get filled by its produce.`,"b|Rep b|find b|themself letting out b|a_moan as a|rep a|reach across with one a|hand a|eagerly stroke and service b|their b|balls.",`Running a|their fingers over b|reps b|balls, a|rep a|start to a|eagerly stroke and cup them,
         letting out a|a_moan from both as b|reps b|dick twitches in response while leaking a generous amount of pre.`],r.isHasTrait("balls_huge")?l=l.concat([`a|Rep a|feel the skin off b|reps huge balls, before
           a|eagerly massage the oversized ballsack from the outside.`]):l=l.concat([`Putting a|their a|balls inside the palms of a|their a|hands, a|rep shuffle the balls around before
           a|eagerly massage the balls inside a|their a|hands.`])),n+=setup.rng.choice(l)+" ",s==setup.sexpace.normal||s==setup.sexpace.sub?l=[` b|Rep b|let out an approving moan at a|reps handling of b|their b|balls,
          while b|eagerly encouraging a|them to continue.`," b|Rep b|let out a series of moans as b|they can b|feel the cum shaking inside b|their b|balls."," b|Eagerly moaning at a|reps touch, b|rep b|eagerly b|encourage a|them to carry on playing with b|their b|balls."," b|Rep b|let out a moan at the feeling of having b|their b|balls being used as a toy."]:s==setup.sexpace.dom?l=[` b|Rep b|let out a moan at a|reps handling of b|their b|balls,
          while talking dirty to a|rep and promise to given a|them an imminent penetration.`," b|Rep b|growl at a|rep, making sure that a|they know b|they b|is still in control and this is just a priviledge."," Moaning at a|reps ministrations on b|their balls, b|rep b|order a|rep to service b|their b|balls better."," b|Rep b|let out a frustrated growl at having b|their b|balls toyed by a|them, no doubt planning a way to get even with a|them."]:s==setup.sexpace.resist?l=[setup.SexUtil.repResist(r,t,e,["shield b|their b|balls away","knock a|their a|hands away from b|their b|balls","struggle against a|them","withdraw b|their b|balls from a|their a|hands"],["a|they a|continue a|eagerly playing with b|reps b|balls","a|they a|carry on playing with b|reps b|balls","a|they a|continue fondling b|reps b|balls","a|they a|continue a|eagerly using b|reps b|balls as nothing but toys"])]:s==setup.sexpace.forced?(setup.SexUtil.hesitatesBeforeForcingThemselfTo(r,e),l=[" b|Rep b|try to remain as still as possible during the unwanted molestation upon their b|balls."," b|Rep b|let out a series of uncontrolled moans as b|they can b|feel the cum shaking inside b|their b|balls."," Moaning at a|reps touch, b|rep b|remain quiet as b|rep b|carry on playing with b|their b|balls to a|their heart's content."]):l=[setup.SexUtil.mindbrokenReactionNoun(r,e,["the abuse on b|their b|balls","the use of b|their b|balls","a|reps handling of b|their balls","the stimulation from b|their b|balls"])],n+=setup.rng.choice(l)+" ",n}},o(ig,"ArmsPenisFreeDomGropeBalls"),ig);const hS=class hS extends Qa{getPenetratorBodypart(){return setup.sexbodypart.legs}getPenetrationTarget(){return setup.sexbodypart.penis}};o(hS,"LegsPenisFreeBaseDom");let jk=hS;setup.SexActionClass.LegsPenisStepOn=(rg=class extends jk{getTags(){return super.getTags().concat(["dom","discomfort"])}desc(){return"Step-on-dick"}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_step_on_dick")])}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_SMALL,arousal:setup.Sex.AROUSAL_SMALLMEDIUM,paces:[setup.sexpace.dom,setup.sexpace.normal]},{energy:setup.Sex.ENERGY_MEDIUM,arousal:-setup.Sex.AROUSAL_MEDIUM,discomfort:setup.Sex.DISCOMFORT_LARGE,paces:setup.SexPace.getAllPaces()}]}rawTitle(e){return"Step on dick"}rawDescription(e){return"Step on b|reps useless dick."}rawStory(e){const t=this.getActorUnit("a");e.getPace(t);const a=this.getActorUnit("b"),r=e.getPace(a);e.getPose(t),e.getPose(a);let s="",n;return n=["With a cruel smirk, a|rep a|move a|their a|cfeet closer to b|reps exposed dick and a|eagerly a|crush it under a|their a|cfeet.","a|Rep a|shift a|their a|cfeet over so that they are hovering just above b|reps exposed dick before bringing them down and a|eagerly stepping on the member.","a|Rep a|press a|their a|cfeet on b|reps exposed dick, exerting more and more pressure on the defenseless dick."],s+=setup.rng.choice(n)+" ",a.isMasochistic()?n=setup.SexUtil.masochistReaction(t,a,["having b|their dick abused","being stepped on","having b|their dick tortured"],e):r==setup.sexpace.dom?n=["b|Rep b|let out a pained grunt at having b|their dick abused, internally promising to return the favor later.","b|Rep b|let out a yelp at the sudden pain on b|their dick."]:r==setup.sexpace.normal||r==setup.sexpace.sub?n=["b|Rep b|let out a pained moan from having b|their dick abused, and the sudden pain ruined a part of b|their arousal.","b|Rep b|let out a yelp at the sudden pain on b|their dick, reducing b|their arousal."]:r==setup.sexpace.resist?n=setup.SexUtil.repResist(t,a,e,["push a|reps a|feet away","lessen the pain","withdraw b|their dick away"],["a|rep a|continue to press on b|their worthless dick","a|rep a|grin, having received exactly the reaction a|they a|was hoping for"]):r==setup.sexpace.forced?n=["A helpless cry of pain came out of b|reps mouth -- the pleading for mercy apparent in b|their eyes.","b|Rep b|let out a pained moan, but completely helpless to do anything but endure the pain."]:n=setup.SexUtil.mindbrokenReactionNoun(a,e,["the cock abuse","the abuse","having b|their dick crushed"]),s+=setup.rng.choice(n)+" ",s}},o(rg,"LegsPenisStepOn"),rg);const pS=class pS extends $k{getDiscomfortMultiplier(e,t,a){const r=this.getPenetratorBodypart().getSize(this.getActorUnit("a"),a),s=this.getPenetrationTarget().getSize(this.getActorUnit("b"),a)+this.getPenetrationTarget().getTraitSizeModifier(this.getActorUnit("b"),a),l=r-s+setup.Sex.BODYPART_MAX_SIZE,u=super.getDiscomfortMultiplier(e,t,a);return e=="a"?u*setup.Sex.BODYPART_SIZE_DIFFERENCE_DISCOMFORT_MULTIPLIER_GIVER[l]:u*setup.Sex.BODYPART_SIZE_DIFFERENCE_DISCOMFORT_MULTIPLIER_RECEIVER[l]}getArousalMultiplier(e,t,a){const r=this.getPenetratorBodypart().getSize(this.getActorUnit("a"),a),s=this.getPenetrationTarget().getSize(this.getActorUnit("b"),a),l=r-s+setup.Sex.BODYPART_MAX_SIZE,u=super.getDiscomfortMultiplier(e,t,a);return e=="a"?u*setup.Sex.BODYPART_SIZE_DIFFERENCE_AROUSAL_MULTIPLIER_GIVER[l]:u*setup.Sex.BODYPART_SIZE_DIFFERENCE_AROUSAL_MULTIPLIER_RECEIVER[l]}rawStory(e){const t=this.getActorUnit("a"),a=e.getPace(t),r=e.getPose(t),s=e.getPosition(t),n=this.getActorUnit("b"),l=e.getPace(n),u=e.getPose(n),h=e.getPosition(n);let p="";const c=this.getPenetratorBodypart().rep(t,e);this.getPenetratorBodypart().repTip(t,e);const d=this.getPenetratorBodypart().repFuck(t,e),g=this.getPenetrationTarget().rep(n,e);this.getPenetrationTarget().repLabia(n,e);const m=this.getPenetrationTarget().repVaginal(n,e),f=r.getFacingHeight(this.getPenetratorBodypart(),s,e);u.getFacingHeight(this.getPenetrationTarget(),h,e),f.facing.isDown()||f.facing.isUp();let b;if(a==setup.sexpace.sub||a==setup.sexpace.normal)b=[`a|Eagerly sinking a|their ${c} deep into b|reps ${g}, a|rep a|start a|eagerly pumping it in and out, letting out a|a_moan with every thrust as a|they happily ${d} b|rep.`,`a|Eagerly pushing a|their ${c} deep into b|reps ${g}, a|rep a|eagerly a|start thrusting it in and out, letting out a|a_moan as a|they ${d} b|them.`,`Thrusting a|their ${c} deep into b|reps ${g}, a|rep a|let out a|a_moan as a|they a|start to a|eagerly pump it in and out, breathing in b|reps b|scent as a|they desperately ${d} b|them.`];else if(a==setup.sexpace.dom)b=[`Roughly slamming a|their ${c} deep into b|reps ${g}, a|rep a|start roughly pumping it in and out, letting out a|a_moan with every thrust as a|they brutally ${d} b|rep.`,`Violently thrusting a|their ${c} deep into b|reps ${g}, a|rep a|start roughly thrusting it in and out, letting out a|a_moan as a|they forcefully ${d} b|them.`,`Forcefully driving a|their ${c} deep into b|reps ${g}, a|rep a|let out a|a_moan as a|they a|start to roughly slam it in and out, breathing in b|reps b|scent as a|they violently ${d} b|them.`,`In one fell thrust, a|rep a|drive a|their ${c} all the way into b|reps ${g}, using b|them as nothing but a fuck toy for a|their pleasure.`];else{const v=setup.SexUtil.hesitatesBeforeForcingThemselfTo(n,e);b=[`Sinking a|their ${c} into b|reps ${g}, a|rep ${v} start pumping it in and out, letting out a|a_moan with every thrust as a|they hesitantly ${d} b|rep.`,`Pushing a|their ${c} into b|reps ${g}, a|rep ${v} start thrusting it in and out, letting out a|a_moan as a|they fearfully ${d} b|them.`,`Thrusting a|their ${c} into b|reps ${g}, a|rep a|let out a|a_moan as a|they ${v} start to pump it in and out, involuntarily breathing in b|reps b|scent as a|they ${d} b|them.`]}if(p+=setup.rng.choice(b),p+=" ",l==setup.sexpace.resist)b=[` Desperately trying, and failing, to pull away from a|reps ${c}, b|rep b|let out b|a_sob, tears streaming down b|their b|face as b|they weakly b|beg for a|rep to pull out of b|their ${g}.`,` b|A_sob bursts out from between b|reps lips as b|they weakly b|try to push a|rep away, tears streaming down b|their b|face as b|they b|plead for a|them to pull out of b|their ${g}.`,` Sobbing in distress, and with tears running down b|their b|face, b|rep weakly b|struggle against a|rep, pleading and crying for a|them to pull out of b|their ${g}.`];else if(l==setup.sexpace.normal||l==setup.sexpace.sub)b=[` b|Rep b|eagerly b|buck b|their hips in response, letting out b|a_moan as b|they b|eagerly b|help to sink a|reps ${c} deep into b|their ${g}.`,` b|A_moan bursts out from between b|reps lips, and, b|eagerly thrusting b|their hips back, b|they b|beg for a|rep to carry on ${d}ing b|them.`,` Moaning in delight, b|rep b|eagerly b|thrust b|their hips back, b|eagerly begging for a|rep to continue ${d}ing b|them as b|their movements help to sink a|their ${c} deep into b|their ${g}.`];else if(l==setup.sexpace.dom)b=[" b|Rep violently b|buck b|their hips in response, letting out b|a_moan as b|they roughly b|demand that a|rep a|continue fucking b|them.",` b|A_moan bursts out from between b|reps lips, and, roughly slamming b|their hips back, b|they b|order a|rep to carry on ${d}ing b|them.`,` Moaning in delight, b|rep roughly b|slam b|their hips back, ordering a|rep to continue ${d}ing b|them as b|their movements force a|their ${c} deep into b|their ${g}.`];else if(l==setup.sexpace.mindbroken)b=[setup.SexUtil.mindbrokenReactionNoun(n,e,[`the ${c} shoved inside of b|them`,`the ${m} abuse`,`the use of b|their ${g}`,`the ${c} grazing in and out of b|them`])];else{const v=setup.SexUtil.hesitatesBeforeForcingThemselfTo(n,e);b=[` b|Rep ${v} buck b|their hips, letting out b|a_moan as b|they b|sink a|reps ${c} deep into b|their ${g}.`," b|A_moan bursts out from between b|reps lips, and, fearfully thrusting b|their hips back, b|they b|beg for a|rep to be gentle to b|them.",` b|rep ${v} push b|their hips back, begging for a|rep to be gentle.`]}return p+=setup.rng.choice(b),p+=" ",p+=YO(t,this.getPenetratorBodypart(),n,this.getPenetrationTarget(),e),p+=" ",p+=this.getPenetratorBodypart().repPenetrateFlavorSentence(t,n,this.getPenetrationTarget(),e),p+=" ",p}};o(pS,"PhallusHoleDomBase");let Li=pS;const cS=class cS extends Ok{getDiscomfortMultiplier(e,t,a){const r=this.getPenetratorBodypart().getSize(this.getActorUnit("b"),a),s=this.getPenetrationTarget().getSize(this.getActorUnit("a"),a)+this.getPenetrationTarget().getTraitSizeModifier(this.getActorUnit("a"),a),l=r-s+setup.Sex.BODYPART_MAX_SIZE,u=super.getDiscomfortMultiplier(e,t,a);return e=="a"?u*setup.Sex.BODYPART_SIZE_DIFFERENCE_DISCOMFORT_MULTIPLIER_RECEIVER[l]:u*setup.Sex.BODYPART_SIZE_DIFFERENCE_DISCOMFORT_MULTIPLIER_GIVER[l]}getArousalMultiplier(e,t,a){const r=this.getPenetratorBodypart().getSize(this.getActorUnit("b"),a),s=this.getPenetrationTarget().getSize(this.getActorUnit("a"),a),l=r-s+setup.Sex.BODYPART_MAX_SIZE,u=super.getDiscomfortMultiplier(e,t,a);return e=="a"?u*setup.Sex.BODYPART_SIZE_DIFFERENCE_AROUSAL_MULTIPLIER_RECEIVER[l]:u*setup.Sex.BODYPART_SIZE_DIFFERENCE_AROUSAL_MULTIPLIER_GIVER[l]}rawStory(e){const t=this.getActorUnit("a"),a=e.getPace(t),r=e.getPose(t),s=e.getPosition(t),n=this.getActorUnit("b"),l=e.getPace(n),u=e.getPose(n),h=e.getPosition(n);let p="";const c=this.getPenetratorBodypart().rep(n,e);this.getPenetratorBodypart().repTip(n,e),this.getPenetratorBodypart().repFuck(n,e);const d=this.getPenetrationTarget().rep(t,e);this.getPenetrationTarget().repLabia(t,e),this.getPenetrationTarget().repVaginal(t,e);const g=r.getFacingHeight(this.getPenetrationTarget(),s,e),m=u.getFacingHeight(this.getPenetratorBodypart(),h,e);let f="back";g.facing.isDown()?f="down":g.facing.isUp()&&(f="up");let b;if(a==setup.sexpace.sub||a==setup.sexpace.normal)b=[`a|Eagerly pushing a|their hips ${f}, a|rep a|let out a|a_moan as a|they a|help sink b|reps ${c} deep into a|their ${d}.`,`With a|a_moan, a|rep a|eagerly a|start thrusting a|their hips ${f}, forcing b|reps ${c} ever deeper into a|their ${d}.`,`a|Eagerly thrusting a|reps hips ${f}, a|a_moan bursts out from between a|reps lips as a|their movements force b|reps ${c} deep into a|their ${d}.`,`a|Rep a|eagerly a|move a|themself up before sliding back ${f}, letting out a soft moan as a|they a|spear a|their ${d} on b|reps b|dick.`],g.facing.isDown()&&m.facing.isUp()&&(b=b.concat([`Using a|their legs, a|rep a|eagerly a|lift a|themself up and down, sliding b|reps b|dick in and out of a|their ${d} as a|they a|groan out loud.`,"Leaning forwards, a|rep uses a|their a|hands to support some of a|their weight as a|they a|eagerly a|slide up and down on b|reps b|dick. As a|they a|lower a|their a|face towards b|rep, a|they gets a waft of b|reps b|scent, and a|they bites a|their lips as a|they breathes in the intoxicating aroma.","Lowering a|their a|hands to a|their knees, a|rep uses a|their a|legs to a|eagerly slide a|themself up and down, letting out soft a|moans as a|they a|impale a|themself on b|reps b|dick."]));else if(a==setup.sexpace.dom)b=[`Violently slamming a|their hips ${f}, a|rep a|let out a|a_moan as a|they a|force b|reps ${c} deep into a|their ${d}.`,`With a|a_moan, a|rep roughly a|start slamming a|their hips ${f}, forcing b|reps ${c} ever deeper into a|their ${d}.`,`Forcefully thrusting a|reps hips ${f}, a|a_moan bursts out from between a|reps lips as a|their movements roughly force b|reps ${c} deep into a|their ${d}.`],g.facing.isDown()&&m.facing.isUp()&&(b=b.concat([`Using a|their legs, a|rep rapidly bounces a|themself up and down, slamming b|reps b|dick in and out of a|their ${d} as a|they a|groan out loud.`,"Leaning forwards, a|rep uses a|their a|hands to support some of a|their weight as a|they starts rapidly bucking up and down on b|reps b|dick. As a|they a|lower a|their a|face towards b|rep, a|they gets a waft of b|reps b|scent, and a|they bites a|their lips as a|they breathes in the intoxicating aroma.","Placing a|their a|hands down on the floor behind a|them for support, a|rep starts rapidly bouncing a|themself up and down, letting out shuddering, a|moans as a|they a|impale a|themself on b|reps b|dick.",`Grinning down at b|rep, a|rep starts enthusiastically bouncing up and down, letting out a|a_moan as a|they a|spear a|their ${d} on b|reps b|dick.`]));else{const v=setup.SexUtil.hesitatesBeforeForcingThemselfTo(n,e);b=[`Pushing a|their hips ${f}, a|rep a|let out a|a_moan as a|they ${v} sink b|reps ${c} deep into a|their ${d}.`,`a|Rep ${v} start thrusting a|their hips ${f}, forcing b|reps ${c} ever deeper into a|their ${d} in the hopes of avoiding more punishment.`,`a|Rep ${v} thrust a|their hips ${f}. a|A_moan then bursts out from between a|reps lips as a|their movements force b|reps ${c} deep into a|their ${d}.`]}if(p+=setup.rng.choice(b),p+=" ",l==setup.sexpace.resist)b=[` Failing to pull b|their ${c} away from a|reps ${d}, b|rep b|let out b|a_sob as b|they weakly b|try to struggle free.`,` b|A_sob bursts out from between b|reps lips as b|they weakly b|try to push a|rep away, squirming and protesting as a|rep a|continue to force b|their ${c} deep into a|their ${d}.`,` Sobbing in distress, b|rep b|try, in vain, to pull b|their ${c} away from a|reps ${d}.`];else if(l==setup.sexpace.normal||l==setup.sexpace.sub)b=[` b|Rep b|eagerly b|thrust b|their ${c} deep into a|reps ${d}, letting out a muffled moan as b|they b|eagerly b|penetrate b|their ${d}.`,` A muffled moan bursts out from b|reps mouth, before b|they b|start thrusting b|their ${c} deep into a|reps ${d}.`,` Moaning in delight, b|rep b|eagerly b|drive b|their ${c} as deep as possible into a|reps ${d}.`];else if(l==setup.sexpace.dom)b=[` b|Rep violently b|thrust b|their ${c} deep into a|reps ${d}, letting out a muffled moan as b|they roughly b|penetrate b|their ${d}.`,` A muffled moan drifts out from b|reps mouth, before b|they b|start violently thrusting b|their ${c} deep into a|reps ${d}.`,` Moaning in delight, b|rep roughly b|slam b|their ${c} as deep as possible into a|reps ${d}.`];else if(l==setup.sexpace.mindbroken)b=[setup.SexUtil.mindbrokenReactionNoun(n,e,[`the ${d} retreating`])];else{const v=setup.SexUtil.hesitatesBeforeForcingThemselfTo(n,e);b=[` b|Rep ${v} decide to just enjoy the rare reward and b|thrust b|their ${c} deep into a|reps ${d}, letting out a muffled moan as b|they b|penetrate b|their ${d}.`,` A muffled moan bursts out from b|reps mouth, before b|they ${v} start thrusting b|their ${c} deep into a|reps ${d}.`,` b|rep ${v} slide b|their ${c} into a|reps ${d}.`]}return p+=setup.rng.choice(b),p+=" ",p+=WO(n,this.getPenetratorBodypart(),t,this.getPenetrationTarget(),e),p+=" ",p+=this.getPenetratorBodypart().repPenetrateFlavorSentence(n,t,this.getPenetrationTarget(),e),p+=" ",p}};o(cS,"PhallusHoleSubBase");let Ui=cS;const dS=class dS extends Li{getPenetratorBodypart(){return setup.sexbodypart.mouth}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_penetration_mouthhole")])}getDiscomfortMultiplier(e,t,a){return 1}getArousalMultiplier(e,t,a){return 1}};o(dS,"MouthHoleDomBase");let qb=dS;const gS=class gS extends Ui{getPenetratorBodypart(){return setup.sexbodypart.mouth}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_penetration_mouthhole")])}getDiscomfortMultiplier(e,t,a){return 1}getArousalMultiplier(e,t,a){return 1}};o(gS,"MouthHoleSubBase");let zb=gS;const mS=class mS extends qb{getActorDescriptions(){return[{energy:setup.Sex.ENERGY_SMALL,arousal:setup.Sex.AROUSAL_TINY,discomfort:setup.Sex.DISCOMFORT_TINY,paces:[setup.sexpace.normal,setup.sexpace.sub,setup.sexpace.dom,setup.sexpace.forced]},{energy:setup.Sex.ENERGY_SMALL,arousal:setup.Sex.AROUSAL_SMALL,paces:setup.SexPace.getAllPaces()}]}rawStory(e){const t=this.getActorUnit("a"),a=e.getPace(t),r=this.getActorUnit("b"),s=e.getPace(r);let n="";const l=this.getPenetrationTarget().rep(r,e),u=this.getPenetrationTarget().repLabia(r,e);this.getPenetrationTarget().repVaginal(r,e),this.getPenetrationTarget().repCunnilingus(r,e);let h;return a==setup.sexpace.sub?h=[`Eagerly driving a|their tongue as deep as possible into b|reps ${u}, a|rep a|press a|their lips up against b|their ${u} and a|let out a muffled moan.`,`Withdrawing a|their tongue from b|reps ${l}, a|rep a|start to eagerly kiss and lick b|reps ${u}, before pressing forwards and greedily sliding a|their tongue into b|their ${l} once more.`,`Drawing a|their tongue out from b|reps ${l}, a|rep a|start happily kissing and nuzzling against b|reps ${u}, before leaning forwards and enthusiastically thrusting a|their tongue deep into b|their ${l}.`]:a==setup.sexpace.normal?h=[`Gently driving a|their tongue as deep as possible into b|reps ${l}, a|rep a|press a|their lips up against b|their ${u} and a|let out a muffled moan.`,`Withdrawing a|their tongue from b|reps ${l}, a|rep a|start to gently kiss and lick b|reps ${u}, before pressing forwards and slowly sliding a|their tongue into b|their ${l} once more.`,`Drawing a|their tongue out from b|reps ${l}, a|rep a|start slowly kissing and nuzzling against b|reps ${u}, before leaning forwards and gently thrusting a|their tongue deep into b|their ${l}.`]:a==setup.sexpace.dom?h=[`Roughly thrusting a|their tongue as deep as possible into b|reps ${l}, a|rep a|grind a|their lips up against b|their ${u} and a|let out a muffled moan.`,`Withdrawing a|their tongue from b|reps ${l}, a|rep a|start to roughly kiss and lick b|reps ${u}, before pressing forwards and violently thrusting a|their tongue into b|their ${l} once more.`,`Drawing a|their tongue out from b|reps ${l}, a|rep a|start forcefully kissing and licking b|reps ${u}, before leaning forwards and roughly thrusting a|their tongue deep into b|their ${l}.`]:h=[`Forcing a|their tongue deep into b|reps ${l}, a|rep a|shut a|their a|eyes as a|they a|press a|their lips up against b|their ${u} and a|let out a muffled moan.`,`Hoping to please b|their owner and avoid more pain, a|rep a|start to kiss and lick b|reps ${u}, before pressing forwards and sliding a|their tongue into b|their ${l} once more.`,`Drawing a|their tongue out from b|reps ${l}, a|rep a|start kissing and nuzzling against b|reps ${u} out of fear, before leaning forwards and thrusting a|their tongue deep into b|their ${l}.`],n+=setup.rng.choice(h),n+=" ",s==setup.sexpace.resist?h=[` Failing to recoil b|their ${u} away from a|reps unwelcome tongue, b|rep b|let out b|a_sob as b|they weakly b|try to struggle free.`,` b|A_sob bursts out from between b|reps lips as b|they weakly b|try to push a|rep away, squirming and protesting as a|they a|continue to lick and kiss b|their ${l}.`,` Sobbing in distress, b|rep b|try, in vain, to recoil away from a|reps tongue, struggling against a|them as a|they a|continue to orally service b|their ${l}.`]:s==setup.sexpace.normal?h=[` b|Rep gently b|buck b|their hips back in response, letting out a soft moan as b|they b|press b|their ${l} against a|reps lips.`,` A soft moan drifts out from between b|reps lips, and, gently bucking b|their hips back into a|reps a|face, b|they b|beg for a|rep to continue servicing b|their ${u}.`,` Moaning in delight, b|rep gently b|press b|their ${u} down against a|reps a|face, before eagerly begging a|them to drive a|their tongue as deep as possible into b|their ${l}.`]:s==setup.sexpace.dom?h=[` b|Rep violently b|thrust b|their hips back in response, letting out b|a_moan as b|they b|grind b|their ${l} against a|reps lips.`,` b|A_moan bursts out from between b|reps lips, and, roughly slamming b|their hips back into a|reps a|face, b|they b|order a|rep to continue servicing b|their ${u}.`,` Moaning in delight, b|rep forcefully b|press b|their ${u} down against a|reps a|face, before aggressively commanding a|them to drive a|their tongue as deep as possible into b|their ${l}.`]:s==setup.sexpace.sub?h=[` b|Rep eagerly b|buck b|their hips back in response, letting out b|a_moan as b|they b|press b|their ${l} against a|reps lips.`,` b|A_moan bursts out from between b|reps lips, and, eagerly bucking b|their hips back into a|reps a|face, b|they b|beg for a|rep to continue servicing b|their ${u}.`,` Moaning in delight, b|rep eagerly b|grind b|their ${u} down against a|reps a|face, before eagerly begging a|them to drive a|their tongue as deep as possible into b|their ${l}.`]:s==setup.sexpace.mindbroken?h=[setup.SexUtil.mindbrokenReactionDespite(r,e,[`Despite the stimulations showered on b|their ${l}`,`However, even with the tongue stimulating b|their ${l}`])]:h=[` b|Rep meekly b|buck b|their hips back, letting out b|a_moan as b|they b|try to press b|their ${l} against a|reps lips, hoping to please.`,` b|A_moan drifts out from between b|reps lips, and, bucking b|their hips back into a|reps a|face, b|they secretly b|wish tha a|rep will continue giving a rare service to b|their ${u}.`,` Hoping this is what b|their owner wanted, b|rep b|grind b|their ${u} down against a|reps a|face, before begging a|them to drive a|their tongue as deep as possible into b|their ${l}.`],n+=setup.rng.choice(h),n+=" ",n}};o(mS,"MouthHoleDom");let Fb=mS;const fS=class fS extends qb{getActorDescriptions(){return[{energy:setup.Sex.ENERGY_SMALL,arousal:-setup.Sex.AROUSAL_SMALL,discomfort:setup.Sex.DISCOMFORT_TINY,paces:[setup.sexpace.resist],restrictions:[setup.qres.SexPaceIn([setup.sexpace.resist])]},{energy:setup.Sex.ENERGY_MEDIUM,arousal:setup.Sex.AROUSAL_SMALL,paces:setup.SexPace.getAllPaces()}]}rawStory(e){const t=this.getActorUnit("a");e.getPace(t);const a=this.getActorUnit("b"),r=e.getPace(a);let s="";const n=this.getPenetrationTarget().rep(a,e);this.getPenetrationTarget().repLabia(a,e),this.getPenetrationTarget().repVaginal(a,e),this.getPenetrationTarget().repCunnilingus(a,e);let l;return r==setup.sexpace.sub?l=[`a|Rep a|try to pull a|their a|face back, but b|rep b|continue eagerly thrusting b|their ${n} down against a|their lips, holding a|them in place as b|they b|force b|themself on a|them.`,`With a|a_sob, a|rep a|try to pull away from b|rep, but b|they quickly b|force a|their a|face right back into b|their ${n}, eagerly grinding b|themself against a|them as b|they b|ignore a|their struggles.`,`Tears start to well up in a|reps a|eyes, and with a|a_sob, a|they a|try to pull a|their mouth away from b|reps ${n}, but b|rep quickly b|shift position, ignoring a|their protests as b|they eagerly b|press b|their ${n} against a|their lips.`]:r==setup.sexpace.normal?l=[`a|Rep a|try to pull a|their a|face back, but b|rep b|continue gently pressing b|their ${n} down against a|their lips, holding a|them in place as b|they b|force b|themself on a|them.`,`With a|a_sob, a|rep a|try to pull away from b|rep, but b|they quickly b|force a|their a|face right back into b|their ${n}, gently grinding b|themself against a|them as b|they b|ignore a|their struggles.`,`Tears start to well up in a|reps a|eyes, and with a|a_sob, a|they a|try to pull a|their mouth away from b|reps ${n}, but b|rep quickly b|shift position, ignoring a|their protests as b|they b|press b|their ${n} against a|their lips.`]:l=[`a|Rep a|try to pull a|their a|face back, but b|rep roughly b|slam b|their ${n} down against a|their lips, holding a|them in place as b|they violently b|force b|themself on a|them.`,`With a|a_sob, a|rep a|try to pull away from b|rep, but b|they violently b|force a|their a|face right back into b|their ${n}, roughly grinding b|themself against a|them as b|they b|ignore a|their struggles.`,`Tears start to well up in a|reps a|eyes, and with a|a_sob, a|they a|try to pull a|their mouth away from b|reps ${n}, but b|rep quickly b|shift position, ignoring a|their protests as b|they roughly b|grind b|their ${n} against a|their lips.`],s+=setup.rng.choice(l),s}};o(fS,"MouthHoleDomResist");let jb=fS;const bS=class bS extends zb{getActorDescriptions(){return[{energy:setup.Sex.ENERGY_SMALL,arousal:setup.Sex.AROUSAL_SMALLMEDIUM,paces:[setup.sexpace.normal,setup.sexpace.sub,setup.sexpace.dom,setup.sexpace.forced],restrictions:[]},{energy:setup.Sex.ENERGY_MEDIUM,arousal:setup.Sex.AROUSAL_TINY,discomfort:setup.Sex.DISCOMFORT_TINY,paces:setup.SexPace.getAllPaces(),restrictions:[]}]}rawStory(e){const t=this.getActorUnit("a"),a=e.getPace(t),r=this.getActorUnit("b"),s=e.getPace(r);let n="";const l=this.getPenetrationTarget().rep(t,e),u=this.getPenetrationTarget().repLabia(t,e);this.getPenetrationTarget().repVaginal(t,e),this.getPenetrationTarget().repCunnilingus(t,e);let h;return a==setup.sexpace.sub?h=[`Eagerly pressing a|their ${u} down over b|reps b|face, a|rep a|let out a|a_moan as a|they firmly a|plant a|their ${l} down over b|their lips.`,`With a|a_moan, a|rep eagerly a|press a|their ${u} against b|reps b|face, before greedily grinding a|their ${l} against b|their lips.`,`Letting out a|a_moan, a|rep eagerly a|grind a|their ${l} down against b|reps lips.`]:a==setup.sexpace.normal?h=[`Gently pressing a|their ${u} down over b|reps b|face, a|rep a|let out a soft moan as a|they firmly a|plant a|their ${l} down over b|their lips.`,`With a soft moan, a|rep a|press a|their ${u} against b|reps b|face, before gently grinding a|their ${l} against b|their lips.`,`Letting out a soft moan, a|rep gently a|grind a|their ${l} down against b|reps lips.`]:a==setup.sexpace.dom?h=[`Roughly pressing a|their ${u} down over b|reps b|face, a|rep a|let out a|a_moan as a|they violently a|slam a|their ${l} down over b|their lips.`,`With a|a_moan, a|rep roughly a|slam a|their ${u} against b|reps b|face, before forcefully grinding a|their ${l} against b|their lips.`,`Letting out a|a_moan, a|rep roughly a|grind a|their ${l} down against b|reps lips.`]:h=[`Pressing a|their ${u} down over b|reps b|face, a|rep a|let out a|a_moan as a|they confusedlly a|plant a|their ${l} down over b|their lips, enjoying the rare attention.`,`With a|a_moan, a|rep a|press a|their ${u} against b|reps b|face, before grinding a|their ${l} against b|their lips.`,`Letting out a|a_moan, a|rep obediently a|grind a|their ${l} down against b|reps lips.`],n+=setup.rng.choice(h),n+=" ",s==setup.sexpace.resist?h=[` Failing to pull b|their b|face away from a|reps ${u}, b|rep b|let out b|a_sob as b|they weakly b|try to struggle free.`,` b|A_sob bursts out from between b|reps lips as b|they weakly b|try to push a|rep away, squirming and protesting as a|they a|continue to force a|their ${u} down against b|their b|face.`,` Sobbing in distress, b|rep b|try, in vain, to recoil away from a|reps ${u}, struggling against a|them as a|they a|continue to press a|their ${l} against b|their lips.`]:s==setup.sexpace.normal?h=[` b|Rep gently b|slide b|their tongue deep into a|reps ${l}, letting out a soft, muffled moan as b|they b|press b|their lips against a|reps ${u}.`,` A muffled moan drifts out from b|reps mouth, and, gently pressing b|their lips against a|reps ${u}, b|they b|start slowly sliding b|their tongue deep into a|reps ${l}.`,` Moaning in delight, b|rep gently b|press b|their lips against a|reps ${u}, before gently sliding b|their tongue as deep as possible into a|their ${l}.`]:s==setup.sexpace.dom?h=[` b|Rep violently b|thrust b|their tongue deep into a|reps ${l}, letting out a muffled moan as b|they b|press b|their lips against a|reps ${u}.`,` A muffled moan drifts out from b|reps mouth, and, roughly grinding b|their lips against a|reps ${u}, b|they b|start violently thrusting b|their tongue deep into a|reps ${l}.`,` Moaning in delight, b|rep forcefully b|press b|their lips against a|reps ${u}, before aggressively thrusting b|their tongue as deep as possible into a|their ${l}.`]:s==setup.sexpace.sub?h=[` b|Rep greedily b|thrust b|their tongue deep into a|reps ${l}, letting out a muffled moan as b|they b|press b|their lips against a|reps ${u}.`,` A muffled moan bursts out from b|reps mouth, and, eagerly pressing b|their lips against a|reps ${u}, b|they b|start thrusting b|their tongue deep into a|reps ${l}.`,` Moaning in delight, b|rep eagerly b|grind b|their lips against a|reps ${u}, before eagerly driving b|their tongue as deep as possible into a|their ${l}.`]:s==setup.sexpace.mindbroken?h=[setup.SexUtil.mindbrokenReactionDespite(r,e,["But the mindbroken slave is unresponsive, b|their tongue completely still.",`But no intelligence inhabit the b|body that is currently b|rep, and what is left of b|their
          mind is unable to process commands such as "stick your tongue in".`]),`As b|rep b|is mindbroken, a|rep a|have no choice but to grab b|them
         and press b|their ${l} on b|their crying b|body,
         so your ${u} is hard against b|their mouth.
         b|They mechanically b|eats a|them out, more out of breathing reflex than eagerness.
         a|Rep a|grind down, taking pleasure from a|their b|adjphys toy.`]:h=[`Fearing punishment, b|Rep b|thrust b|their tongue deep into a|reps ${l}, letting out a muffled moan as b|they b|force b|themself to press b|their lips against a|reps ${u}.`,` A muffled moan bursts out from b|reps mouth, and, pressing b|their lips against a|reps ${u}, b|they distressedly b|start thrusting b|their tongue deep into a|reps ${l}.`,` Hoping to avoid punishment, b|rep b|grind b|their lips against a|reps ${u}, before driving b|their tongue as deep as possible into a|their ${l}.`],n+=setup.rng.choice(h),n+=" ",n}};o(bS,"MouthHoleSub");let Kb=bS;const yS=class yS extends zb{getActorDescriptions(){return[{energy:setup.Sex.ENERGY_SMALL,arousal:-setup.Sex.AROUSAL_SMALLMEDIUM,discomfort:setup.Sex.DISCOMFORT_TINY,paces:[setup.sexpace.resist],restrictions:[setup.qres.SexPaceIn([setup.sexpace.resist])]},{energy:setup.Sex.ENERGY_MEDIUM,arousal:setup.Sex.AROUSAL_TINY,discomfort:setup.Sex.DISCOMFORT_TINY,paces:setup.SexPace.getAllPaces()}]}rawStory(e){const t=this.getActorUnit("a");e.getPace(t);const a=this.getActorUnit("b"),r=e.getPace(a);let s="";const n=this.getPenetrationTarget().rep(t,e),l=this.getPenetrationTarget().repLabia(t,e);this.getPenetrationTarget().repVaginal(t,e),this.getPenetrationTarget().repCunnilingus(t,e);let u;return r==setup.sexpace.sub?u=[`a|Rep desperately a|try to pull a|their ${l} away from b|reps b|face, letting out a|a_sob as b|rep greedily b|slide b|their tongue deep into a|their ${n}.`,`Letting out a|a_sob, a|rep desperately a|try to pull a|their ${n} away from b|reps lips. Ignoring a|their protests, b|rep b|hold a|rep in place as b|they b|plant a passionate kiss on a|their ${l}, before greedily sliding b|their tongue deep into a|their ${n}.`,`With a|a_sob, a|rep frantically a|try to pull a|their ${l} away from b|reps lips, but b|they holds a|them in place, ignoring a|their protests as b|they b|continue eagerly thrusting b|their tongue into a|their ${n}.`]:r==setup.sexpace.normal?u=[`a|Rep desperately a|try to pull a|their ${l} away from b|reps b|face, letting out a|a_sob as b|rep gently b|slide b|their tongue deep into a|their ${n}.`,`Letting out a|a_sob, a|rep desperately a|try to pull a|their ${n} away from b|reps lips. Ignoring a|their protests, b|rep b|hold a|rep in place as b|they b|plant a soft kiss on a|their ${l}, before gently sliding b|their tongue deep into a|their ${n}.`,`With a|a_sob, a|rep frantically a|try to pull a|their ${l} away from b|reps lips, but b|they holds a|them in place, ignoring a|their protests as b|they b|continue gently thrusting b|their tongue into a|their ${n}.`]:u=[`a|Rep desperately a|try to pull a|their ${l} away from b|reps b|face, letting out a|a_sob as b|rep roughly b|slide b|their tongue deep into a|their ${n}.`,`Letting out a|a_sob, a|rep desperately a|try to pull a|their ${n} away from b|reps lips. Ignoring a|their protests, b|rep b|hold a|rep in place as b|they b|plant a wet kiss on a|their ${l}, before roughly thrusting b|their tongue deep into a|their ${n}.`,`With a|a_sob, a|rep frantically a|try to pull a|their ${l} away from b|reps lips, but b|they firmly holds a|them in place, ignoring a|their protests as b|they b|continue roughly thrusting b|their tongue into a|their ${n}.`],s+=setup.rng.choice(u),s}};o(yS,"MouthHoleSubResist");let Vb=yS;const kS=class kS extends Fb{getPenetrationTarget(){return setup.sexbodypart.anus}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_anus")])}};o(kS,"MouthAnusDomBase");let Kk=kS;const vS=class vS extends jb{getPenetrationTarget(){return setup.sexbodypart.anus}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_anus")])}};o(vS,"MouthAnusDomBaseResist");let Vk=vS;const SS=class SS extends Kb{getPenetrationTarget(){return setup.sexbodypart.anus}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_anus")])}};o(SS,"MouthAnusSubBase");let Yk=SS;const TS=class TS extends Vb{getPenetrationTarget(){return setup.sexbodypart.anus}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_anus")])}};o(TS,"MouthAnusSubBaseResist");let Jk=TS;setup.SexActionClass.MouthAnusDom=(sg=class extends Kk{getTags(){return super.getTags().concat(["sub"])}desc(){return"Perform anilingus"}rawTitle(e){return"Perform anilingus"}rawDescription(e){return"Continue thrusting your a|tongue into b|reps b|anus."}},o(sg,"MouthAnusDom"),sg),setup.SexActionClass.MouthAnusDomResist=(ng=class extends Vk{getTags(){return super.getTags().concat(["normal"])}rawTitle(e){return"Resist anilingus"}rawDescription(e){return"Try to pull your tongue out of b|reps b|anus."}},o(ng,"MouthAnusDomResist"),ng);const _S=class _S extends setup.SexAction.OngoingEnd{rawStory(e){const t=this.getActorUnit("a"),a=this.getActorUnit("b"),r=e.getPace(t),s=e.getPose(t),n=e.getPosition(t);e.getPace(a);const l=e.getPose(a),u=e.getPosition(a);let h="",p;const c=this.getPenetratorBodypart().rep(t,e),d=this.getPenetratorBodypart().repTip(t,e),g=this.getPenetratorBodypart().repFuck(t,e),m=this.getPenetrationTarget().rep(a,e),f=this.getPenetrationTarget().repLabia(a,e);this.getPenetrationTarget().repVaginal(a,e);const b=s.getFacingHeight(this.getPenetratorBodypart(),n,e);return l.getFacingHeight(this.getPenetrationTarget(),u,e),b.facing.isDown()||b.facing.isUp(),r==setup.sexpace.dom?p=[`Roughly yanking a|their ${c} out of b|reps ${m}, a|rep dominantly a|slide the ${d} up and down over b|their ${f} one last time before pulling back.`,`Thrusting deep inside of b|rep one last time, a|rep then a|yank a|their ${c} back out of b|their ${m}, putting an end to the rough ${g}ing.`]:p=[`Sliding a|their ${c} out of b|reps ${m}, a|rep a|rub the ${d} up and down over b|their ${f} one last time before pulling back.`,`Pushing deep inside of b|rep one last time, a|rep then a|slide a|their ${c} back out of b|their ${m}, putting an end to the ${g}ing.`],h+=setup.rng.choice(p),h+=" ",h+=setup.SexUtil.afterPenetrationReactionSub(t,a,[`a|rep a|pull out of b|reps ${m}`,`b|they b|pull b|their ${m} away from a|rep`,`a|reps ${c} retreated from b|reps ${m}`,"the penetration seemingly ends",`a|rep a|pull a|their ${c} out of b|their ${m}`],[`continue having a|their ${c} lodged deep in b|their ${m}`,`continue enjoying the feeling of having a|their ${c} inside of b|them`,"have a|them use more of b|their holes"],e),h}};o(_S,"PhallusHoleEnd");let Lf=_S;const AS=class AS extends Lf{getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_penetration_mouthhole")])}getPenetratorBodypart(){return setup.sexbodypart.mouth}rawStory(e){const t=this.getActorUnit("a"),a=this.getActorUnit("b"),r=e.getPace(t);e.getPose(t),e.getPosition(t),e.getPace(a);let s="",n;const l=this.getPenetrationTarget().rep(a,e),u=this.getPenetrationTarget().repLabia(a,e),h=this.getPenetrationTarget().repVaginal(a,e);return r==setup.sexpace.dom?n=[`With one last rough lick, a|rep a|pull a|their a|face away from b|reps ${l}.`,`Giving b|reps ${u} a final, rough kiss, a|rep a|pull a|their a|face away from b|their ${l}.`]:n=[`With one last lick, a|rep a|pull a|their a|face away from b|reps ${l}.`,`Giving b|reps labia a final, wet kiss, a|rep a|pull a|their a|face away from b|their ${l}.`],s+=setup.rng.choice(n),s+=" ",s+=setup.SexUtil.afterPenetrationReactionSub(t,a,[`a|rep a|take a|their tongue away from b|their ${l}`,`the invading tongue retreats from b|their ${l}`,`the ${h} stimulation ends`,"a|reps intruding a|tongue retreats"],[`continue having a|rep a|service a|their ${l}`,`have a warm tongue servicing a|their ${l}`,`receive more ${h} attention`],e),s}};o(AS,"MouthHoleEnd");let Yb=AS;setup.SexActionClass.MouthAnusEnd=(og=class extends Yb{getTags(){return super.getTags().concat(["normal"])}getPenetrationTarget(){return setup.sexbodypart.anus}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_anus")])}rawTitle(e){return"End anilingus"}rawDescription(e){return"Pull your tongue out of b|reps b|vagina and stop performing anilingus."}},o(og,"MouthAnusEnd"),og);const MS=class MS extends setup.SexAction.OngoingEndOther{rawStory(e){const t=this.getActorUnit("a"),a=this.getActorUnit("b"),r=e.getPace(t),s=e.getPose(t),n=e.getPosition(t);e.getPace(a);const l=e.getPose(a),u=e.getPosition(a);let h="",p;const c=this.getPenetratorBodypart().rep(a,e);this.getPenetratorBodypart().repTip(a,e);const d=this.getPenetratorBodypart().repFuck(a,e),g=this.getPenetrationTarget().rep(t,e);this.getPenetrationTarget().repLabia(t,e),this.getPenetrationTarget().repVaginal(t,e);const m=s.getFacingHeight(this.getPenetrationTarget(),n,e),f=l.getFacingHeight(this.getPenetratorBodypart(),u,e);return r==setup.sexpace.dom?(p=[`Yanking b|reps ${c} out of a|their ${g}, a|rep a|let out a menacing growl as a|they a|command b|rep to stop ${d}ing a|them.`,`a|Rep a|lean into b|rep, inhaling b|their b|scent before yanking b|their ${c} out of a|their ${g}.`],m.facing.isDown()&&f.facing.isUp()&&(p=p.concat([`Reaching down, a|rep roughly a|grab the base of b|reps b|dick, before lifting a|themself up and allowing b|reps b|dick to slide out of a|their ${g}.`]))):(p=[`Sliding b|reps ${c} out of a|their ${g}, a|rep a|let out a|a_moan as a|they a|tell b|rep to stop ${d}ing a|them.`,`a|Rep a|lean into b|rep, inhaling b|their b|scent before sliding b|their ${c} out of a|their ${g}.`],m.facing.isDown()&&f.facing.isUp()&&(p=p.concat([`Reaching down, a|rep takes hold of the base of b|reps b|dick, before lifting a|themself up and allowing b|reps b|dick to slide out of a|their ${g}.`]))),h+=setup.rng.choice(p),h+=" ",h+=setup.SexUtil.afterPenetrationReactionDom(t,a,["a|they a|stop riding b|rep",`a|rep a|stop b|them from fucking a|their ${g}`,`a|rep a|withdraw a|their ${g} away from b|reps ${c}`],[`continue ${d}ing a|reps ${g}`,`continue ${d}ing a|rep`],e),h}};o(MS,"PhallusHoleEndOther");let Uf=MS;const wS=class wS extends Uf{getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_penetration_mouthhole")])}getPenetratorBodypart(){return setup.sexbodypart.mouth}rawStory(e){const t=this.getActorUnit("a"),a=this.getActorUnit("b"),r=e.getPace(t);e.getPose(t),e.getPosition(t),e.getPace(a);let s="",n;const l=this.getPenetrationTarget().rep(t,e);this.getPenetrationTarget().repLabia(t,e);const u=this.getPenetrationTarget().repVaginal(t,e),h=this.getPenetrationTarget().repCunnilingus(t,e);return r==setup.sexpace.dom?n=[`Roughly yanking b|reps head away from a|their ${l}, a|rep a|order b|them to stop performing ${h} on a|them.`,`Roughly grinding a|their ${l} into b|reps b|face one last time, a|rep then a|pull a|their hips away, putting an end to the ongoing ${h}.`]:n=[`Pulling b|reps head away from a|their ${l}, a|rep a|tell b|them to stop performing ${h} on a|them.`,`Pressing a|their ${l} into b|reps b|face one last time, a|rep then a|pull a|their hips away, putting an end to the ongoing ${h}.`],s+=setup.rng.choice(n),s+=" ",s+=setup.SexUtil.afterPenetrationReactionDom(t,a,["a|rep a|move away from b|them","a|rep a|move a|their a|ass away from b|their b|face",`a|rep a|withdraw a|their ${l} away`],[`continue to lick inside a|reps ${l}`,`taste more of a|reps ${l}`,`${u}ly please a|rep more`],e),s}};o(wS,"MouthHoleEndOther");let Jb=wS;setup.SexActionClass.MouthAnusEndOther=(lg=class extends Jb{getTags(){return super.getTags().concat(["dom"])}getPenetrationTarget(){return setup.sexbodypart.anus}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_anus")])}rawTitle(e){return"Stop receiving anilingus"}rawDescription(e){return"Get b|rep to pull b|their tongue out of your a|anus."}},o(lg,"MouthAnusEndOther"),lg);const RS=class RS extends setup.SexAction.OngoingStart{getInitDescription(e){return""}getExtraDescription(e){return""}rawStory(e){const t=this.getActorUnit("a"),a=e.getPace(t),r=e.getPose(t),s=e.getPosition(t),n=this.getActorUnit("b"),l=e.getPace(n),u=e.getPose(n),h=e.getPosition(n);let p="",c;const d=this.getPenetratorBodypart().rep(t,e),g=this.getPenetratorBodypart().repTip(t,e),m=this.getPenetrationTarget().rep(n,e),f=this.getPenetrationTarget().repLabia(n,e);this.getPenetrationTarget().repVaginal(n,e);const b=e.getLocation().repSurface(e),v=r.getFacingHeight(this.getPenetratorBodypart(),s,e);u.getFacingHeight(this.getPenetrationTarget(),h,e);let S="for";return v.facing.isDown()?S="down":v.facing.isUp()&&(S="up"),p+=this.getInitDescription(e),p+=" ",a==setup.sexpace.dom?c=[`Roughly grinding the ${g} of a|their ${d} between b|reps ${f}, a|rep a|let out a|a_moan before violently slamming ${S}wards, forcing a|their ${d} deep into b|their ${m}.`,`a|Rep a|position the ${g} of a|their ${d} between b|reps ${f}, and with a forceful thrust, a|they roughly a|slam it deep into b|their ${m}.`]:a==setup.sexpace.normal||a==setup.sexpace.sub?c=[`a|Eagerly teasing the ${g} of a|their ${d} between b|reps ${f}, a|rep a|let out a|a_moan before thrusting ${S}wards, greedily sinking a|their ${d} into b|their ${m}.`,`a|Rep a|position the ${g} of a|their ${d} between b|reps ${f}, and with a determined thrust, a|they a|eagerly a|sink it deep into b|their ${m}.`]:c=[`Hesitantly teasing the ${g} of a|their ${d} between b|reps ${f}, a|rep a|let out a|a_moan before forcing a|themself to thrust ${S}wards, sinking a|their ${d} into b|their ${m}.`,`a|Rep hesitantly a|position the ${g} of a|their ${d} between b|reps ${f}, and after looking for but not finding any mercy, a|they a|sink it deep with a little thrust into b|their ${m}.`],p+=setup.rng.choice(c),p+=" ",l==setup.sexpace.dom?c=[` b|Rep b|let out b|a_moan as the ${d} enters b|them, before violently thrusting b|their hips ${S} in order to force it even deeper into b|their ${m}.`,` With b|a_moan, b|rep b|start violently bucking b|their hips ${S}, roughly forcing a|rep to sink a|their ${d} even deeper into b|their ${m}.`]:l==setup.sexpace.sub||l==setup.sexpace.normal?c=[` b|Rep b|let out b|a_moan as the ${d} enters b|them, before b|eagerly bucking b|their hips ${S} in order to sink it even deeper into b|their ${m}.`,` With b|a_moan, b|rep b|start b|eagerly bucking b|their hips ${S}, b|eagerly helping to sink a|reps ${d} even deeper into b|their ${m}.`]:l==setup.sexpace.resist?c=[` b|Rep b|let out b|a_sob as the ${d} enters b|them, and, with tears running down b|their b|face, b|they b|beg for a|rep to pull out.`,` With b|a_sob, b|rep b|try, in vain, to pull away from the unwanted penetration, tears running down b|their b|face as a|reps unwelcome ${d} pushes deep into b|their ${m}.`]:l==setup.sexpace.forced?c=[` b|Rep b|let out b|a_moan as the ${d} enters b|them, lying still in a vain attempt to minimize the pain.`,` With b|a_moan, b|rep b|sink into the ${b}, trying b|their best to obediently take the ${d} inside b|them.`]:l==setup.sexpace.mindbroken&&(c=[setup.SexUtil.mindbrokenReactionNoun(n,e,[`the ${d} intruding b|their ${m}`,`the intruding ${d}`,`the ${d} that is being pushed into b|their ${m}`])]),p+=setup.rng.choice(c),p+=" ",p+=KM(t,this.getPenetratorBodypart(),n,this.getPenetrationTarget(),e),p+=" ",p+=this.getExtraDescription(e),p}};o(RS,"PhallusHoleStart");let Nf=RS;const ES=class ES extends Nf{getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_penetration_mouthhole")])}getPenetratorBodypart(){return setup.sexbodypart.mouth}getExtraDescription(e){return""}rawStory(e){const t=this.getActorUnit("a"),a=e.getPace(t);e.getPose(t),e.getPosition(t);const r=this.getActorUnit("b"),s=e.getPace(r);let n="",l;const u=this.getPenetrationTarget().rep(r,e),h=this.getPenetrationTarget().repLabia(r,e);return this.getPenetrationTarget().repVaginal(r,e),a==setup.sexpace.dom?l=[`Roughly grinding a|their lips against b|reps ${u}, a|rep a|plant a series of forceful kisses on b|their ${h}, before greedily sliding a|their tongue into b|their ${u}.`,`Planting a series of forceful kisses on b|reps ${h}, a|rep a|give b|their ${u} a rough lick, before greedily pushing a|their tongue deep inside.`]:a==setup.sexpace.normal?l=[`Pressing a|their lips against b|reps ${u}, a|rep a|plant a series soft kisses on b|their ${h}, before slowly, but firmly, sliding a|their tongue into b|their ${u}.`,`Planting a series of soft kisses on b|reps ${h}, a|rep a|give b|their ${u} a long, wet lick, before gently pushing a|their tongue deep inside.`]:a==setup.sexpace.sub?l=[`Eagerly pressing a|their lips against b|reps ${u}, a|rep a|plant a series of passionate kisses on b|their ${h}, before desperately sliding a|their tongue into b|their ${u}.`,`Planting a series of passionate kisses on b|reps ${h}, a|rep a|give b|their ${u} a hungry lick, before greedily pushing a|their tongue deep inside.`]:l=[`a|Rep fearfully a|eye b|rep before pressing a|their lips against b|reps ${u}. a|Rep then a|plant a series of forced kisses on b|their ${h}, before painstakingly sliding a|their tongue into b|their ${u}.`,`Planting a series of forced kisses on b|reps ${h}, after a glare from b|rep, a|rep hurriedly b|give b|their ${u} a wet lick, before pushing a|their tongue deep inside.`],n+=setup.rng.choice(l),n+=" ",s==setup.sexpace.normal?l=[" b|Rep b|let out a soft moan in response, gently bucking b|their hips out against a|reps a|face as b|they b|beg for a|them to keep going."," Gently bucking b|their hips out against a|reps a|face in response to a|their oral attention, b|rep b|moan out loud, begging for a|them to continue."]:s==setup.sexpace.dom?l=[" b|Rep b|let out b|a_moan in response, roughly thrusting b|their hips out against a|reps a|face as b|they b|order a|them to keep going."," Roughly thrusting b|their hips out against a|reps a|face in an eager response to a|their oral attention, b|rep b|moan out loud, commanding a|them to continue."]:s==setup.sexpace.sub?l=[" b|Rep b|let out b|a_moan in response, eagerly bucking b|their hips out against a|reps a|face as b|they b|beg for a|them to keep going."," Desperately bucking b|their hips out against a|reps a|face in response to a|their oral attention, b|rep b|moan out loud, begging for a|them to continue."]:s==setup.sexpace.resist?l=[" b|Rep frantically b|try to wriggle away from a|reps unwanted oral attention, sobbing and squirming as b|they b|beg for a|them to leave b|them alone.",` b|A_sob bursts out from b|reps mouth, and, struggling against a|rep, b|they b|beg for a|them to take a|their tongue away from b|their ${u}.`]:s==setup.sexpace.forced?l=[" b|Rep b|let out b|a_moan involuntarily in response, bucking b|their hips out against a|reps a|face as b|they b|enjoy the unwanted attention."," Bucking b|their hips out against a|reps a|face in response to a|their oral attention, b|rep b|moan out loud, hoping that this is what b|their owner wants from b|them."]:s==setup.sexpace.mindbroken&&(l=[setup.SexUtil.mindbrokenReactionDespite(r,e,[`Despite the stimulations showered on b|their ${u}`,`However, even with the tongue stimulating b|their ${u}`])]),n+=setup.rng.choice(l),n+=" ",n+=this.getExtraDescription(e),n}};o(ES,"MouthHoleStart");let Wb=ES;setup.SexActionClass.MouthAnusStart=(ug=class extends Wb{getTags(){return super.getTags().concat(["sub"])}desc(){return"Start anilingus"}getPenetrationTarget(){return setup.sexbodypart.anus}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_anus")])}rawTitle(e){return"Start anilingus"}rawDescription(e){return"Slide your a|tongue into b|reps b|anus and start performing anilingus."}getExtraDescription(e){return Ob(this.getActorUnit("b"),e)}},o(ug,"MouthAnusStart"),ug);const xS=class xS extends setup.SexAction.OngoingStartOther{getExtraDescription(e){return""}rawStory(e){const t=this.getActorUnit("a"),a=e.getPace(t),r=e.getPose(t),s=e.getPosition(t),n=this.getActorUnit("b"),l=e.getPace(n),u=e.getPose(n),h=e.getPosition(n);let p="",c;const d=this.getPenetratorBodypart().rep(n,e);this.getPenetratorBodypart().repTip(n,e);const g=this.getPenetratorBodypart().repFuck(n,e),m=this.getPenetrationTarget().rep(t,e),f=this.getPenetrationTarget().repLabia(t,e);this.getPenetrationTarget().repVaginal(t,e);const b=r.getFacingHeight(this.getPenetrationTarget(),s,e),v=u.getFacingHeight(this.getPenetratorBodypart(),h,e);let S="for",M="back";if(b.facing.isDown()?(S="down",M="up"):b.facing.isUp()&&(S="up",M="down"),a==setup.sexpace.dom)c=[`Grabbing b|reps ${d}, a|rep roughly a|yank it up to a|their ${f}, letting out a|a_moan before violently slamming a|their hips ${S}wards and forcing b|them to penetrate a|their ${m}.`,`Grabbing b|reps ${d}, a|rep a|line it up to a|their ${m}, before eagerly slamming a|their hips ${S}wards and letting out a|a_moan as a|they a|penetrate a|themself on b|their ${d}.`],b.facing.isDown()&&v.facing.isUp()&&(c=c.concat([`a|Rep reaches down and roughly a|grab b|reps b|dick, before shuffling around to get into a good position. After taking a moment to tease the cock head between a|their outer ${f}, a|they a|let out a|a_moan as a|they forcefully a|drop down and penetrates a|their ${m} on b|reps b|dick.`,`Shuffling around into a better position, a|rep a|line the cock head of b|reps b|dick up between a|their a|legs, and with a single movement, a|they roughly a|drop down, penetrating a|their ${m} on b|reps b|dick.`]));else if(a==setup.sexpace.normal||a==setup.sexpace.sub)c=[`Grabbing b|reps ${d}, a|rep a|eagerly a|guide it up to a|their ${f}, letting out a little moan before a|eagerly bucking a|their hips ${S}wards and forcing b|them to penetrate a|their ${m}.`,`Grabbing b|reps ${d}, a|rep a|line it up to a|their ${m}, before a|eagerly pushing a|their hips ${S}wards and letting out a soft moan as a|they a|penetrate a|themself on b|their ${d}.`],b.facing.isDown()&&v.facing.isUp()&&(c=c.concat([`a|Rep reaches down to take hold of b|reps b|dick, before shuffling around to get into a good position. After taking a moment to tease the cock head between a|their outer ${f}, a|they a|let out a little moan as a|they a|eagerly a|drop down and penetrates a|their ${m} on b|reps b|dick.`,`Shuffling around into a better position, a|rep a|line the cock head of b|reps b|dick up between a|their a|legs, and with a ${a==setup.sexpace.normal?"slow, steady":"a single"} movement, a|they a|eagerly a|drop down, penetrating a|their ${m} on b|reps b|dick.`]));else{const k=setup.SexUtil.hesitatesBeforeForcingThemselfTo(t,e);c=[`Grabbing b|reps ${d}, a|rep ${k} guide it up to a|their ${f}, letting out a|a_moan before bucking a|their hips and forcing b|them to penetrate a|their ${m}.`,`Grabbing b|reps ${d}, a|rep ${k} line it up to a|their ${m}, before pushing a|their hips back and letting out a|a_moan as a|they a|penetrate a|themself on b|their ${d}.`],c=c.concat([`a|Rep reaches down, then ${k} take an unsure hold of b|reps b|dick, before shuffling around to get into a relatively comfortable position. After taking a moment, a|they a|let out a|a_moan as a|they a|drop down and penetrates a|their ${m} on b|reps b|dick.`,`Shuffling around into a somewhat better position, a|rep ${k} line the cock head of b|reps b|dick up between a|their a|legs, and a|they carefully a|drop down, penetrating a|their ${m} on b|reps b|dick.`])}if(p+=setup.rng.choice(c),p+=" ",l==setup.sexpace.normal||l==setup.sexpace.sub)c=[` b|Rep b|let out b|a_moan as b|they b|enter a|them, b|eagerly pushing b|their ${d} ${M}wards as b|they b|start b|eagerly ${g}ing a|reps ${m}.`,` With b|a_moan, b|rep b|eagerly b|thrust b|their ${d} ${M}wards, sinking it deep into a|reps ${m} as b|they b|start b|eagerly ${g}ing a|them.`],b.facing.isDown()&&v.facing.isUp()&&(c=c.concat([` b|Rep b|let out b|a_moan as b|rep enter a|them, b|eagerly bucking b|reps hips up as b|rep b|start fucking a|their ${m}.`,` With b|a_moan, b|rep b|eagerly b|thrust b|reps hips up into a|their groin, sinking b|reps b|dick into a|their ${m} as b|rep b|start b|eagerly fucking a|them.`]));else if(l==setup.sexpace.dom)c=[` b|Rep b|let out b|a_moan as b|they b|enter a|them, and, seeking to remind a|rep who's in charge, b|they roughly slams b|their ${d} ${M}wards and b|start to ruthlessly ${g} a|their ${m}.`,` With b|a_moan, b|rep roughly b|slam b|their ${d} ${M}wards, seeking to remind a|rep who's in charge as b|they b|start ruthlessly ${g}ing a|reps ${m}.`],b.facing.isDown()&&v.facing.isUp()&&(c=c.concat([` b|Rep b|let out commanding grunt as b|rep enter a|them, aggressively bucking b|reps hips up as b|rep b|b|start fucking a|their ${m} while continuing to molest the rest of a|reps body.`,` With a commanding grunt, b|rep violently b|thrust b|reps hips up into a|their groin, painfully sinking b|reps b|dick into a|their ${m} as b|rep b|start fucking a|them.`]));else if(l==setup.sexpace.resist)c=[` b|Rep b|let out b|a_sob as a|rep a|force b|their ${d} inside of a|them, and, struggling against a|them, b|they desperately b|try to pull b|their ${d} free from a|their ${m}.`,` With b|a_sob, b|rep struggles against a|rep as a|they a|force b|their ${d} deep into a|their ${m}.`],b.facing.isDown()&&v.facing.isUp()&&(c=c.concat([" b|Rep b|let out b|a_sob as a|they a|force b|reps b|dick inside of a|them, and, struggling against a|them in vain, b|rep desperately b|try to push a|them off of b|rep.",` With b|a_sob, b|rep b|struggle against a|rep as a|they a|force b|reps b|dick deep into a|their ${m}.`]));else if(l==setup.sexpace.forced){const k=setup.SexUtil.hesitatesBeforeForcingThemselfTo(n,e);c=[` b|Rep b|let out b|a_moan as b|they b|enter a|them. b|They ${k} push b|their ${d} ${M}wards as b|they b|start ${g}ing a|reps ${m}.`,` b|Rep ${k} thrust b|their ${d} ${M}wards, sinking it deep into a|reps ${m} as b|they b|start ${g}ing a|them.`]}else l==setup.sexpace.mindbroken&&(c=[setup.SexUtil.mindbrokenReactionDespite(n,e,[`Although anyone else would have enjoyed the sensation on b|their ${d}`,`Despite the ongoing stimulations on b|their ${d}`])]);return p+=setup.rng.choice(c),p+=" ",p+=KM(n,this.getPenetratorBodypart(),t,this.getPenetrationTarget(),e),p+=" ",p+=this.getExtraDescription(e),p}};o(xS,"PhallusHoleStartOther");let Hf=xS;const DS=class DS extends Hf{getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_penetration_mouthhole")])}getPenetratorBodypart(){return setup.sexbodypart.mouth}getExtraDescription(e){return""}rawStory(e){const t=this.getActorUnit("a"),a=e.getPace(t);e.getPose(t),e.getPosition(t);const r=this.getActorUnit("b"),s=e.getPace(r);let n="",l;const u=this.getPenetrationTarget().rep(t,e),h=this.getPenetrationTarget().repLabia(t,e);return this.getPenetrationTarget().repVaginal(t,e),a==setup.sexpace.dom?l=[`Roughly slamming a|their ${h} down against b|reps b|face, a|rep a|let out a|a_moan as a|they a|start forcefully grinding a|their ${u} down on b|their lips.`,`Shifting a|their hips so that b|reps b|face is forced into a|their ${h}, a|Rep a|let out a|a_moan as a|they a|start roughly grinding a|their ${u} down against b|their lips.`]:a==setup.sexpace.normal?l=[`Gently pressing a|their ${h} down against b|reps b|face, a|rep a|let out a soft moan as a|they a|start slowly grinding a|their ${u} down on b|their lips.`,`Shifting a|their hips so that b|reps b|face is forced into a|their ${h}, a|Rep a|let out a soft moan as a|they a|start gently pressing a|their ${u} down against b|their lips.`]:a==setup.sexpace.sub?l=[`Eagerly pressing a|their ${h} down against b|reps b|face, a|rep a|let out a|a_moan as a|they a|start frantically grinding a|their ${u} down on b|their lips.`,`Shifting a|their hips so that b|reps b|face is forced into a|their ${h}, a|Rep a|let out a|a_moan as a|they a|start eagerly pressing a|their ${u} down against b|their lips.`]:l=[`Hesitantly pressing a|their ${h} down against b|reps b|face, a|rep a|let out a|a_moan as a|they a|start grinding a|their ${u} down on b|their lips.`,`Hesitantly shifting a|their hips so that b|reps b|face is forced into a|their ${h}, a|Rep a|let out a|a_moan as a|they a|start pressing a|their ${u} down against b|their lips.`],n+=setup.rng.choice(l),n+=" ",s==setup.sexpace.normal?l=[` b|Rep slowly b|slide b|their tongue into a|reps ${u}, letting out a muffled moan as b|they b|start gently licking and kissing a|their ${h}.`,` Gently sliding b|their tongue out to deliver a long, slow lick to the ${h} pressing down against b|their lips, b|rep b|let out a muffled moan as b|they b|start planting a series of tender kisses on a|reps ${u}.`]:s==setup.sexpace.dom?l=[` b|Rep forcefully b|thrust b|their tongue into a|reps ${u}, letting out a muffled moan as b|they b|start roughly licking and kissing a|their ${h}.`,` Greedily thrusting b|their tongue out to deliver a rough, wet lick to the ${h} pressing down against b|their lips, b|rep b|let out a muffled moan as b|they b|start planting a series of forceful kisses on a|reps ${u}.`]:s==setup.sexpace.sub?l=[` b|Rep greedily b|slide b|their tongue into a|reps ${u}, letting out a muffled moan as b|they b|start happily licking and kissing a|their ${h}.`,` Greedily sliding b|their tongue out to deliver a long, wet lick to the ${h} pressing down against b|their lips, b|rep b|let out a muffled moan as b|they b|start planting a series of passionate kisses on a|reps ${u}.`]:s==setup.sexpace.resist?l=[` Struggling in desperation, b|rep b|let out b|a_sob as a|rep a|force a|their ${u} down against b|their lips.`,` Sobbing and struggling in distress, b|reps protests prove to be in vain as a|rep a|press a|their ${h} down over b|their b|face.`]:s==setup.sexpace.forced?l=[` b|Rep hesitantly b|slide b|their tongue into a|reps ${u}, letting out a muffled moan as b|they b|start licking and kissing a|their ${h} out of fear for punishment.`,` Sliding b|their tongue out to deliver a forced, but still very wet lick to the ${h} pressing down against b|their lips, b|rep b|let out a muffled moan as b|they b|start planting a series of forced kisses on a|reps ${u}.`]:s==setup.sexpace.mindbroken&&(l=[" b|Rep reflexively b|struggle as b|their nose gets partially obstructed by the intruding ass."," The mindbroken slave is incapable of intentionally extending b|their tongue towards the intruding ass."]),n+=setup.rng.choice(l),n+=" ",n+=this.getExtraDescription(e),n}};o(DS,"MouthHoleStartOther");let Qb=DS;setup.SexActionClass.MouthAnusStartOther=(hg=class extends Qb{getTags(){return super.getTags().concat(["dom"])}desc(){return"Start receiving anilingus"}getPenetrationTarget(){return setup.sexbodypart.anus}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_anus")])}getActorDescriptions(){const e=super.getActorDescriptions();return e[0].restrictions.push(setup.qres.SexEnjoysAnal()),e}rawTitle(e){return"Receive anilingus"}rawDescription(e){return"Get b|rep to start licking your a|anus."}getExtraDescription(e){return Ob(this.getActorUnit("a"),e)}},o(hg,"MouthAnusStartOther"),hg),setup.SexActionClass.MouthAnusSub=(pg=class extends Yk{getTags(){return super.getTags().concat(["dom"])}desc(){return"Receive anilingus"}rawTitle(e){return"Receive anilingus"}rawDescription(e){return"Press your ass down over b|reps face in order to drive b|their tongue into your a|anus."}},o(pg,"MouthAnusSub"),pg),setup.SexActionClass.MouthAnusSubResist=(cg=class extends Jk{getTags(){return super.getTags().concat(["normal"])}rawTitle(e){return"Resist receiving anilingus"}rawDescription(e){return"Try and pull your a|anus away from b|reps tongue."}},o(cg,"MouthAnusSubResist"),cg);const IS=class IS extends Qa{getPenetratorBodypart(){return setup.sexbodypart.mouth}getPenetrationTarget(){return setup.sexbodypart.breasts}};o(IS,"MouthBreastsFreeBaseDom");let Wk=IS;setup.SexActionClass.MouthBreastsFreeKiss=(dg=class extends Wk{getTags(){return super.getTags().concat(["normal"])}desc(){return"Kiss chest"}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_MEDIUMLARGE,arousal:setup.Sex.AROUSAL_SMALL,paces:[setup.sexpace.dom,setup.sexpace.normal,setup.sexpace.sub]},{energy:setup.Sex.ENERGY_SMALL,arousal:setup.Sex.AROUSAL_SMALLMEDIUM,paces:setup.SexPace.getAllPaces()}]}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_breasts_kiss")])}rawTitle(e){return"Kiss b|breasts"}rawDescription(e){return"Plant a series of kisses on b|reps exposed b|breasts."}rawStory(e){const t=this.getActorUnit("a"),a=e.getPace(t),r=this.getActorUnit("b"),s=e.getPace(r);let n="",l;return a==setup.sexpace.dom?l=[`a|Rep greedily a|lean in to b|reps chest, roughly pressing a|their lips against b|their
        b|skin before starting to plant a series of forceful kisses on b|their b|breasts.`,"Greedily pressing a|their lips against b|reps chest, a|rep a|start delivering a series of rough kisses to b|their exposed b|breasts.","a|Rep a|start roughly kissing b|reps exposed b|breasts, breathing in b|their b|scent as a|they forcefully a|press a|their lips against b|their b|skin."]:l=["a|Rep a|eagerly a|lean in to b|reps chest, pressing a|their lips against b|their b|skin before starting to plant a series of kisses on b|their b|breasts.","a|Eagerly pressing a|their lips against b|reps chest, a|rep a|start delivering a series of loving kisses to b|their exposed b|breasts.","a|Rep a|start a|eagerly kissing b|reps exposed b|breasts, breathing in b|their b|scent as a|they a|press a|their lips against b|their b|skin."],n+=setup.rng.choice(l)+" ",l=[],r.isHasTrait("breast_titanic")?l=["b|Reps breasts is so gigantic that a|rep is practically resting a|their entire a|face inside the pillowy surface.","The gigantic breasts comfortably supports a|rep who is resting a|their a|head on top of the pillowy thing."]:r.isHasTrait("breast_huge")?l=["The huge breasts bounce and jiggles as a|rep kisses it, giving a comfortable sensation for a|rep.","a|Reps huge breasts sway and move with every kiss."]:!r.isHasTrait("breast_tiny")&&r.isHasTrait("muscle_strong")&&(l=["The rock-solid chest feel nice touching a|reps lips.","The well-defined pecs becomes wet with a|reps saliva, accentuating its muscular shape."]),l.length&&(n+=setup.rng.choice(l)+" "),s==setup.sexpace.normal||s==setup.sexpace.sub?l=[" b|Rep b|let out b|a_moan in response, and b|eagerly b|pull a|reps a|face into b|their chest as b|they b|cry out for a|them to continue."," b|A_moan drifts out from between b|reps lips as b|they b|push out b|their chest in response."," b|Eagerly pushing b|their chest out into a|reps a|face, b|rep b|let out a soft moan as b|they b|plead for a|them to continue."]:s==setup.sexpace.dom?l=[" b|Rep b|let out b|a_moan in response, and roughly b|yank a|reps a|face deep into b|their chest as b|they b|order a|them to continue."," a|A_moan drifts out from between b|reps lips as b|they roughly b|push out b|their chest in response, while commanding a|rep to not stop."," Forcefully pushing b|their chest out into a|reps a|face, b|rep b|let out b|a_moan as b|they b|order a|them to continue."]:s==setup.sexpace.resist?l=[setup.SexUtil.repResist(r,t,e,["pull b|their b|breasts away from a|reps a|face","pull b|their b|breasts away from a|their unwelcome lips","pull b|their b|breasts away"],["b|they b|force b|their b|lips into a|their a|breasts","b|rep b|carry on forcing b|their b|lips into a|their a|breasts"])]:s==setup.sexpace.forced?l=[` b|Rep b|let out b|a_moan in response, and ${setup.SexUtil.hesitatesBeforeForcingThemselfTo(r,e)} pull a|reps a|face into b|their chest, hoping this is what b|their owner wanted.`," a|A_moan drifts out involuntarily from between b|reps lips as b|they b|feel the unwanted tongue upon b|their b|breasts."]:l=[setup.SexUtil.mindbrokenReactionDespite(r,e,["Despite the conquest of b|their b|breasts","Even with the pleasurable sensation of having b|their b|breasts kissed","Despite b|their b|breasts being lovingly showered with kisses"])],n+=setup.rng.choice(l)+" ",n}},o(dg,"MouthBreastsFreeKiss"),dg);const $S=class $S extends Qa{getPenetratorBodypart(){return setup.sexbodypart.mouth}getPenetrationTarget(){return setup.sexbodypart.legs}};o($S,"MouthLegsFreeBaseDom");let Qk=$S;const OS=class OS extends Ib{getPenetratorBodypart(){return setup.sexbodypart.mouth}getPenetrationTarget(){return setup.sexbodypart.legs}};o(OS,"MouthLegsFreeBaseSub");let Zk=OS;setup.SexActionClass.MouthLegsFreeGetFeetLicked=(gg=class extends Zk{getTags(){return super.getTags().concat(["dom"])}desc(){return"Get feet licked"}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_lick_feet")])}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_SMALL,arousal:setup.Sex.AROUSAL_SMALL,paces:[setup.sexpace.dom]},{energy:setup.Sex.ENERGY_SMALLMEDIUM,arousal:setup.Sex.AROUSAL_SMALL,discomfort:setup.Sex.DISCOMFORT_SMALL,paces:[setup.sexpace.sub,setup.sexpace.normal,setup.sexpace.resist,setup.sexpace.forced,setup.sexpace.mindbroken]}]}rawTitle(e){return"Get your dirty feet licked"}rawDescription(e){return"Force b|rep to clean your dirty a|cfeet with b|their tongue."}rawStory(e){const t=this.getActorUnit("a");e.getPace(t);const a=this.getActorUnit("b"),r=e.getPace(a);let s="",n;n=["With a dominant smirk, a|rep a|eagerly a|push b|reps head into a|their dirty a|cfeet, forcing b|them to kiss and worship them.","Pushing b|reps head into a|their a|cfeet, a|rep a|eagerly a|command b|rep to start giving them the attention they deserve or else.","a|Rep a|eagerly a|press b|reps b|face against a|their a|cfeet, making sure b|rep b|understand b|their standing compared to a|their a|cfeet before commanding b|them to get started worshipping the a|cfeet.","With a menacing growl, a|rep a|push a|their a|cfeet against b|reps lips and b|mouth, giving b|them no option but to lick and worshipping them.","a|Rep roughly a|press a|their a|cfeet on b|reps b|mouth, giving b|them a taste of the dirty a|cfeet."],s+=setup.rng.choice(n)+" ";const l=setup.Text.Pet.rearwag(a);if(r==setup.sexpace.sub||r==setup.sexpace.normal||r==setup.sexpace.dom)n=[" b|Rep b|let out b|a_moan as b|they b|eagerly b|plant a series of kisses and licks on a|reps a|cfeet."," With b|a_moan, b|rep b|eagerly b|start kissing and licking a|reps a|cfeet."," b|Rep b|eagerly b|lick and b|suck on a|reps toes, letting out b|a_moan as b|they b|eagerly b|worship a|their a|cfeet."," b|A_moan bursts out from b|reps mouth as b|they b|continue b|eagerly licking and kissing a|reps a|cfeet."," Moaning in delight, b|rep b|eagerly b|worship a|reps a|cfeet by planting a series of submissive kisses on them."],a.isHasTrait("training_pet_advanced")&&(n=n.concat([`Being treated like a dog excites the properly trained slave, and b|rep eagerly b|suck on the b|cfeet presented to them while ${l}.`,`Having completed b|their training, b|rep eagerly b|lap on the b|cfeet, worshipping it like b|their life depends on it, all while ${l}.`]));else if(r==setup.sexpace.resist){n=[" b|Rep b|let out b|a_sob as a|rep a|eagerly a|push a|their a|cfeet against b|their b|mouth, and desperately b|try to pull away."," With b|a_sob, b|rep b|struggle against a|rep as a|they a|eagerly a|press a|their a|cfeet against b|their mouth."];let u=[` b|Rep desperately b|try, and b|fail, to pull b|their b|face away from a|reps a|cfeet,
          letting out b|a_sob in the process.`," b|A_sob bursts out from between b|reps lips as b|they weakly b|try to push a|reps a|cfeet away from   b|their b|face."," Sobbing in distress, b|rep weakly b|struggle against a|rep as b|they b|plead for a|them to take a|their a|cfeet away from b|their b|face."],h=[" Completely ignoring b|reps protests, a|rep a|push a|their a|cfeet harder against b|their mouth,   forcing b|them to worship a|their a|cfeet if b|they b|want to breathe."," Delighted at b|reps struggles, a|rep a|ignore the protests and a|continue to roughly grind a|their a|cfeet b|reps b|face."," Not paying any attention to b|reps struggles, a|rep a|let out growl as a|they forcefully a|push a|their a|cfeet against b|reps b|mouth."];for(const p of u)n.push(`${p} ${setup.rng.choice(h)}`)}else if(r==setup.sexpace.forced){const u=setup.SexUtil.hesitatesBeforeForcingThemselfTo(a,e);n=[` b|Rep ${u} start planting a series of mechanical licks on a|reps a|cfeet.`,` b|Rep ${u} lick and suck on a|reps dirty toes, feeling disgusted and yet powerless to resist.`," b|Rep b|shut b|their b|eyes as b|they b|force b|themself to lick the a|cfeet presented in front of them."]}else n=[setup.SexUtil.mindbrokenReactionNoun(a,e,["the a|cfeet planted on b|their b|face","the smell of a|reps a|cfeet","the taste of a|reps a|cfeet on b|their b|mouth"])];return s+=setup.rng.choice(n)+" ",n=["After roughly pushing a|their a|cfeet into b|reps b|face one last time, a|rep a|pull them away and a|put an end to b|their feet worshipping.","a|Rep a|grind a|their a|cfeet into b|reps face one last time, before letting out an amused moan and suddenly pulling them away from b|their b|mouth.",""],s+=setup.rng.choice(n)+" ",s}},o(gg,"MouthLegsFreeGetFeetLicked"),gg),setup.SexActionClass.MouthLegsFreeLickFeet=(mg=class extends Qk{getTags(){return super.getTags().concat(["sub"])}desc(){return"Lick feet"}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_lick_feet")])}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_SMALLMEDIUM,arousal:setup.Sex.AROUSAL_TINY,paces:[setup.sexpace.sub]},{energy:setup.Sex.ENERGY_SMALL,arousal:setup.Sex.AROUSAL_SMALL,paces:setup.SexPace.getAllPaces()}]}rawTitle(e){return"Lick feet"}rawDescription(e){return"Guide your a|mouth onto b|reps b|cfeet and use your tongue to lavish attention to it."}rawStory(e){const t=this.getActorUnit("a");e.getPace(t);const a=this.getActorUnit("b"),r=e.getPace(a);let s="",n;n=[`Eagerly bringing a|their head down to b|reps b|cfeet, a|rep a|press a|their lips
       against them and obediently a|kiss and a|lick them.`,"a|Rep a|drop a|their head down to b|reps b|cfeet, before eagerly pressing a|their lips against them and  obediently a|kiss and a|lick them.","Like a good little slut, a|rep a|position a|their a|mouth right in front of b|reps b|cfeet before lavishing attention on it with a|their tongue.",`After planting a series of submissive kisses on b|reps b|cfeet,
       a|rep a|proceed to enthusiastically lick them clean,
       letting out a series of submissive moans in the process.`,"Eagerly kissing and licking b|reps toes like a good dog, a|rep a|let out a|a_moan as a|they happily a|worship b|reps b|cfeet."];const l=setup.Text.Pet.rearwag(t);if(a.isHasTrait("training_pet_advanced")&&(n=n.concat([`As a properly trained pet slave, a|rep a|spare no hesitation as a|they eagerly a|lap up all the grime from b|reps dirty b|cfeet, all while ${l}.`,`${setup.capitalize(l)}, a|reps pet training kicks in as the slave eagerly a|lavish attention to b|reps dirty b|cfeet.`])),s+=setup.rng.choice(n)+" ",r==setup.sexpace.normal||r==setup.sexpace.sub)n=[" b|Rep b|let out b|a_moan as a|rep a|worship b|their b|cfeet, before b|eagerly pushing them into a|their a|face in order to encourage a|them to keep on going."," In response to this, b|rep b|eagerly b|push b|their b|cfeet into a|reps a|face, letting out b|a_moan as b|they b|focus on the delightful feeling of having b|their b|cfeet worshipped."," b|Rep b|shut b|their b|eyes as b|they b|continue to enjoy the feeling of b|their b|cfeet being worshipped by a submissive slut."," Moaning in delight, b|rep b|eagerly b|push b|their b|cfeet against a|reps mouth as b|they b|have them worshipped."];else if(r==setup.sexpace.dom)n=[" Having a submissive worship b|their b|cfeet greatly arouses b|rep and b|their need for dominance.",` b|Rep b|let out a dominant smile seeing a slut worshipping b|their b|cfeet, enjoying the feeling of putting ${t.isYou()?"you":"the a|race"} in a|their place.`," b|Rep b|make sure a|they a|continue worshipping b|their b|cfeet by talking dirtily to the submissive, making sure b|they always remember b|their rightful place."];else if(r==setup.sexpace.resist){n=[" b|Rep b|let out b|a_sob as a|rep a|do this, and with tears running down b|their b|face, b|they desperately b|beg for a|them to stop."," With b|a_sob, b|rep b|try to pull away from a|rep, but, being unable to do so, all b|they can do is sob as a|rep a|continue worshipping b|their b|cfeet."];let u=["b|Rep desperately b|try, and b|fail, to pull b|their b|cfeet away from a|reps a|face, letting out b|a_sob in the process.","b|A_sob bursts out from between b|reps lips as b|they weakly b|try to push a|reps a|face away from b|their b|cfeet.","Sobbing in distress, b|rep weakly b|struggle against a|rep as b|they b|plead for a|them to take a|their a|mouth away from b|their b|cfeet."],h=[" Totally ignoring b|reps protests, a|rep a|eagerly a|continue to worship b|their b|cfeet by planting a series of licks and kisses on them."," Moaning in delight, a|rep completely a|ignore b|reps protests and a|continue to orally worship b|their b|cfeet."," Not paying any attention to b|reps struggles, a|rep a|let out a|a_moan as a|they a|press a|their lips against b|reps b|cfeet."];for(const p of u)n.push(`${p} ${setup.rng.choice(h)}`)}else r==setup.sexpace.forced?n=[" b|Rep b|force b|themself to remain eerily still, not sure why b|their b|master is worshipping b|their b|cfeet",` b|Rep ${setup.SexUtil.hesitatesBeforeForcingThemselfTo(a,e)} start pushing b|their b|cfeet into a|reps a|face, hoping b|their submissive owner is delighted at b|them.`]:n=[setup.SexUtil.mindbrokenReactionDespite(a,e,["Despite the eager slut at b|their b|cfeet","Even with an eager slut busily worshipping b|their b|cfeet","Despite having the pleasurable sensation of an eager slut worshipping b|their b|cfeet"])];return s+=setup.rng.choice(n)+" ",s}},o(mg,"MouthLegsFreeLickFeet"),mg);const CS=class CS extends Qa{getPenetratorBodypart(){return setup.sexbodypart.mouth}getPenetrationTarget(){return setup.sexbodypart.mouth}};o(CS,"MouthMouthFreeBaseDom");let Xk=CS;setup.SexActionClass.MouthMouthFreeKiss=(fg=class extends Xk{getTags(){return super.getTags().concat(["normal"])}desc(){return"Kiss"}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_MEDIUM,arousal:setup.Sex.AROUSAL_SMALL,paces:[setup.sexpace.dom,setup.sexpace.normal,setup.sexpace.sub]},{energy:setup.Sex.ENERGY_SMALL,arousal:setup.Sex.AROUSAL_SMALL,paces:setup.SexPace.getAllPaces()}]}rawTitle(e){return"Kiss"}rawDescription(e){return"Press your lips against b|reps mouth and let the magic guide you."}rawStory(e){const t=this.getActorUnit("a"),a=e.getPace(t),r=this.getActorUnit("b"),s=e.getPace(r);let n="",l=setup.qres.SexIsOngoing("b",setup.sexbodypart.penis,"a",setup.sexbodypart.vagina).isOk(this)||setup.qres.SexIsOngoing("b",setup.sexbodypart.penis,"a",setup.sexbodypart.anus).isOk(this),u;if(l){const h=e.getBodypartPenetrationTarget(r,setup.sexbodypart.penis).bodypart.rep(t,e);u=[`a|Rep a|sink down onto b|reps b|dick, letting out a|a_moan as a|their ${h} grips down around
        b|their b|dick.
        As a|their moan trails off, a|rep a|eagerly a|grab b|reps head in both a|hands,
        before pressing a|their lips against b|theirs and a|eagerly delivering a passionate kiss.`,`With a|a_moan, a|rep a|slide down onto b|reps b|dick, before pressing a|themself against
        b|their b|body.
        Breathing in b|reps b|scent, a|rep a|press a|their lips against b|theirs and a|start to
        a|eagerly kiss b|them.`,`a|Rep a|let b|reps b|dick slide even deeper into a|their ${h} as a|they a|eagerly a|pull b|them into a
        kiss.`,`Dropping down, a|rep a|let out a|a_moan as a|they a|bury b|reps b|dick in a|their ${h},
        before a|eagerly pressing a|their lips against a|theirs.`]}else a==setup.sexpace.dom?u=["Gazing into b|reps b|eyes, a|rep a|lean forwards, roughly pressing a|their lips against b|theirs as a|they a|pull b|them into a forceful kiss.","a|Rep a|lean into b|rep, breathing in b|their b|scent as a|they roughly a|grind a|their lips against b|theirs.","a|Rep a|lean in against b|reps b|breasts, tilting a|their head to one side before violently pulling b|them into a rough kiss."]:(u=["Gazing into b|reps b|eyes, a|rep a|lean forwards, a|eagerly pressing a|their lips against b|theirs and delivering a passionate kiss.","a|Rep a|lean into b|rep, breathing in b|their b|scent as a|they a|eagerly a|press a|their lips against b|theirs.","a|Rep a|lean in against b|reps b|breasts, tilting a|their head slightly to one side before a|eagerly planting a passionate kiss on b|their lips."],e.isCanUse(t,setup.sexbodypart.arms)&&u.push(`a|They a|extend a|their a|arms and a|eagerly a|graze a|their fingertips along the line of
           b|their cheekbone.
           Then, a|they a|raise b|their b|face and a|eagerly a|kiss b|them
           right on b|their lips.`));if(n+=setup.rng.choice(u)+" ",a==setup.sexpace.dom?(u=["Forcefully pressing a|their lips against b|theirs, a|rep greedily a|thrust a|their tongue deep down b|their throat.","a|Rep roughly a|grind against b|rep, breathing in b|their b|scent as a|they greedily tongue-a|fuck b|their mouth.","a|Rep roughly a|press against b|reps b|breasts, before thrusting a|their tongue deep down b|their throat."],e.isCanUse(t,setup.sexbodypart.arms)&&u.push("a|They roughly grabbed b|reps head before yanking it close and pressing b|their b|mouth against a|theirs, pushing a|their tongue down b|their throat.")):u=["a|Eagerly pressing a|their lips against b|theirs, a|rep a|plant a series of passionate kisses on b|their mouth.","a|Rep a|eagerly a|lean in against b|rep, breathing in b|their b|scent as a|they a|plant a series of soft kisses on b|their lips.","a|Rep a|eagerly a|press against b|reps b|breasts, before tilting a|their head slightly to one side as a|they passionately a|kiss b|their lips."],n+=setup.rng.choice(u)+" ",t.getLover()==r)u=["b|Rep hurriedly b|return the kisses, happy to be near b|their lover and the object of b|their longing.","b|Rep b|find the intense look from the person b|he b|love overwhelming, and b|their b|mouth falters for a short moment, before blushing furiously.",`b|Reps b|mouth b|accept a|theirs with love, matching itself perfectly to b|their lover's
         insistent lips and tongue.`,"b|Rep b|melt into a|them, sighing ever so gently."];else if(s==setup.sexpace.normal||s==setup.sexpace.sub)u=[" b|Rep b|eagerly b|push b|their tongue into a|reps mouth, reaching up to gently caress a|their a|face as b|they happily b|return a|their display of affection."," With an approving hum, b|rep b|lean into a|rep, muffling a|their a|moans with b|their lips as b|they b|eagerly b|push b|their tongue into a|their mouth."," Moaning in approval, b|rep b|lean into a|rep, pressing b|their lips gently against a|theirs as b|they b|eagerly b|slide b|their tongue into a|their mouth."," b|Rep b|let out a soft moan in response, taking a moment to b|eagerly plant a series of kisses on a|reps lips, before b|eagerly sliding b|their tongue into a|their mouth."," With a soft moan, b|rep b|lean into a|rep, b|eagerly pushing b|their tongue past a|their lips as b|they b|return b|their display of affection."," Letting out a gentle moan, b|rep b|press b|themself against a|rep, muffling b|their b|moans against a|their lips as b|they b|eagerly b|slide b|their tongue into a|their mouth."];else if(s==setup.sexpace.dom)u=[" b|Rep b|force b|their tongue deep into a|reps mouth, roughly pressing b|their lips against a|theirs as b|they greedily b|return a|their display of affection."," With an approving moan, b|rep forcefully b|grind up against a|them, muffling a|their a|moans with b|their lips as b|they roughly b|thrust b|their tongue deep into a|their mouth."," Moaning in approval, b|rep b|grind b|themself up against a|rep, forcefully pressing b|their lips against a|theirs as b|they roughly b|push b|their tongue deep into a|their mouth."," b|Rep b|let out a growl, roughly grinding b|their lips against a|their mouth as b|they violently b|thrust b|their tongue deep down a|their throat."," With a menacing growl, b|rep violently b|grind up against a|rep, concerned solely with b|their own pleasure as b|they greedily b|thrust b|their tongue deep down a|their throat."," b|Rep grin in response to a|reps display of affection, and with a violent growl, b|they forcefully b|grind b|their lips against a|theirs, moaning into a|their mouth as b|they greedily tongue-b|fuck a|their throat.",` b|Rep b|laugh into a|rep and b|kiss a|them back with vigor,
          b|their b|head pressing insistently forward.
          The two of ${t.isYou()||r.isYou()?"you":"them"}
          make out rather aggressively.`,` b|Rep b|reply to the intrusion with b|their own tongue, which only retreats when 
          a|reps tongue a|press against it.`];else if(s==setup.sexpace.resist){u=[" b|Rep b|try to pull away, sobbing and squirming in discomfort as a|rep a|force a|themself on b|them."," b|Reps sob is muffled into a|reps mouth as b|they b|try to pull away, squirming in discomfort as a|rep a|force a|themself on b|them."," With b|a_sob, b|them b|try, in vain, to pull away from a|rep, protesting and squirming in discomfort as a|rep a|force a|their tongue past b|their reluctant lips."," b|Rep b|let out b|a_sob in response, trying b|their hardest to b|push a|rep away as b|they b|writhe about in discomfort."," With b|a_sob, b|rep b|try to b|push a|rep away, struggling in vain as a|they a|continue to plant gentle kisses on b|their unwilling lips."," b|Rep desperately b|try to pull away, struggling and pushing back as a|rep a|continue to molest b|them, drawing a muffled sob from between b|their lips at the feel of each of a|their unwanted kisses.",` b|Rep reflexively b|turn b|their b|head away from a|rep,
          but a|they a|catch b|their jaw and kiss b|them harder.`,` Spluttering at the kiss, b|rep b|try to escape,
          but a|rep a|keep plundering b|their b|mouth without mercy, causing b|rep to wriggle desperately.`];let h=["Feeling tears welling up in b|their eyes, b|rep b|let out b|a_sob, trying to push back against a|rep in response to a|their unwanted kisses.","With a|reps a|scent overwhelming b|their senses, b|rep b|let out a muffled sob, before desperately trying to push a|them off of b|them in a futile attempt to stop a|their continued assault on b|their mouth.","b|Rep desperately b|try to push a|rep away, sobbing in distress as a|they a|continue kissing and grinding up against b|them."],p;s==setup.sexpace.dom?p=[" a|Rep a|let out an threatening growl in response to b|their protests, roughly grinding a|their lips against b|their mouth before violently thrusting a|their tongue deep down b|their throat."," With a furious growl, a|rep violently grinds a|themself up against b|rep, ignoring b|their b|sobs as a|they a|thrust a|their tongue deep down b|their throat."," a|Rep ignores b|their protests, and with a rough growl, a|they a|continue violently tongue-fucking b|their reluctant throat."]:p=[" a|Rep a|let out a|a_moan in response, ignoring b|reps protests as a|they a|continue to plant passionate kisses on b|their lips."," With a|a_moan, a|rep a|lean into b|rep, ignoring b|their b|sobs as a|they firmly pushes a|their tongue past b|their unwilling lips and into b|their mouth."," Letting out a|a_moan, a|rep a|press a|themself against b|rep, continuing to passionately kiss b|them."];for(const c of h)u.push(`${c} ${setup.rng.choice(p)}`)}else if(s==setup.sexpace.forced)u=[` b|Rep ${setup.SexUtil.hesitatesBeforeForcingThemselfTo(r,e)} push b|their tongue into a|reps mouth, pressing b|their lips against a|theirs as b|they hesitantly b|return a|their display of affection.`," With b|a_moan, b|rep tiredly b|lean into a|rep, muffling b|their b|moans into a|their mouth as b|they b|let b|their frustrations out through the tongue past a|their lips."," b|rep b|lean into a|rep, not believing b|their luck as b|they b|press b|their lips against a|theirs, b|sliding b|their tongue into a|their mouth.",` b|Rep reflexively b|let out b|a_moan in response. Seeing no way out, b|they b|press b|themself
        against a|rep hoping that b|their gesture is enough to please a|rep.`,` b|Rep b|accept the kiss fearfully --  b|their eagerness to avoid punishment b|lead
         b|them to kiss a|rep back, though nervousness makes b|theirs mechanical.
         a|Rep a|kiss b|them harder, enjoying b|their fear.`,` b|Rep b|is nearly frozen with fear, and b|do not resist as a|rep kiss b|them.
          In fact, b|they barely b|react at all. b|They b|open b|their b|mouth mechanically in
          response to a|their insistent tongue, but it's like kissing a doll.`];else{u=[`Being kissed affects b|rep as little as being penetrated,
         being struck, or being loved: not at all.`];const h=u.length;for(let p=0;p<h;++p)u.push(setup.SexUtil.mindbrokenReactionDespite(r,e,["Despite b|their b|mouth opening to accept the kiss","Despite b|their compliance with a|reps questing tongue","Even with b|their b|mouth kissed and caressed"]))}return n+=setup.rng.choice(u)+" ",a==setup.sexpace.dom?u=["Finally, a|rep a|pull back and roughly a|push b|rep away from a|them as a|they puts an end to a|their kiss.","After a while, a|rep suddenly, and roughly, a|push b|rep away from a|them, bringing an end to a|their kiss.","After some time, a|rep a|pull back from b|rep, before roughly pushing b|them away from a|them and breaking off a|their kiss."]:u=["Gazing into b|reps b|eyes, a|rep a|grin as a|they a|pull back, putting an end to a|their kiss.","After a while, a|rep suddenly a|pull back, bringing an end to a|their kiss.","After some time, a|rep a|pull back from b|rep, taking a|their lips away from b|theirs as a|they breaks off a|their kiss."],n+=setup.rng.choice(u)+" ",t.getLover()==r&&Math.random()<.5&&(u=[`When the kiss is broken, b|reps b|mouth freezes in the shape it was in when last a|reps lips
        touched, and a momentary look of longing crosses b|their b|face.`,`The kiss over, b|reps b|hand reaches dumbly up to b|their b|mouth to trace b|their lips
        where a|rep last touched.`,"As the kiss ends, b|rep confesses b|their love to a|rep dreamily."],n+=setup.rng.choice(u)+" "),n}},o(fg,"MouthMouthFreeKiss"),fg),setup.SexActionClass.NibbleNeck=(bg=class extends setup.SexAction{getTags(){return super.getTags().concat(["dom","mouth","discomfort"])}desc(){return"Nibble neck"}getPenetratorBodypart(){return setup.sexbodypart.mouth}getPenetrationTarget(){return setup.sexbodypart.mouth}getRestrictions(){return[setup.qres.HasItem("sexmanual_nibble_neck"),setup.qres.SexBodypartsCanReach("a",this.getPenetratorBodypart(),"b",this.getPenetrationTarget())]}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_SMALL,arousal:setup.Sex.AROUSAL_SMALLMEDIUM,paces:[setup.sexpace.dom,setup.sexpace.normal],restrictions:[setup.qres.SexCanUseBodypart(this.getPenetratorBodypart()),setup.qres.AnyTrait([setup.trait.mouth_neko,setup.trait.mouth_werewolf,setup.trait.mouth_dragonkin],!0)]},{energy:setup.Sex.ENERGY_MEDIUM,arousal:setup.Sex.AROUSAL_SMALLMEDIUM,discomfort:setup.Sex.DISCOMFORT_LARGE,paces:setup.SexPace.getAllPaces()}]}getDiscomfortMultiplier(e,t,a){return e=="a"?1:setup.SexUtil.skinDiscomfortMultiplier(this.getActorUnit("b"),a)}rawTitle(e){return"Nibble neck"}rawDescription(e){return"Give in to your animalistic mating urge and chomp down b|reps neck."}rawStory(e){const t=this.getActorUnit("a"),a=e.getPace(t),r=this.getActorUnit("b"),s=e.getPace(r);e.getPose(t),e.getPose(r);let n="",l=setup.qres.SexIsOngoing("a",setup.sexbodypart.penis,"b",setup.sexbodypart.vagina).isOk(this)||setup.qres.SexIsOngoing("a",setup.sexbodypart.penis,"b",setup.sexbodypart.anus).isOk(this),u;if(l){const b=e.getBodypartPenetrationTarget(r,setup.sexbodypart.penis).bodypart.rep(t,e);u=[`With a|their a|dick still deep inside b|reps ${b}, a|rep `,`Sinking a|their a|dick even deeper inside b|reps ${b}, a|rep `,`Still feeling a|their a|dick inside b|reps ${b}, a|rep `,`Breathing in b|reps b|scent, a|rep a|thrust a|their a|dick deeper inside b|reps ${b} as a|they `,`a|Rep a|slide a|their a|dick even deeper into b|reps ${b} before a|they `]}else u=["Breathing in b|reps b|scent, a|rep ","a|Rep ","Acompanied with b|reps warmth, a|rep "],t.isCanSee()&&u.push("After gazing into b|rep, a|rep ");n+=setup.rng.choice(u)+" ",a==setup.sexpace.dom?u=[`a|guide a|their a|mouth closer to b|reps b|neck, before giving in to a|their
         animalistic mating urges and harshly chomp down b|reps flesh.`,"a|give in fully into a|their animalistic mating urge and a|bite down b|reps b|neck.","lustfully a|bite into b|reps b|neck, solidifying b|their status as a|their current playmate.","possessively a|bite into b|reps b|neck, claiming b|them as a|their mate for the day."]:u=[`a|guide a|their head close to b|reps b|neck, before gently chomping on b|reps flesh
         as urged by a|their animalistic instincts.`,"a|give b|reps b|neck a couple of tentative licks before softly biting on its flesh.","gently a|bite in b|reps b|neck, surrendering to a|their animalistic instincts of marking a|their mate."],n+=setup.rng.choice(u)+" ";const h=r.isHasAnyTraitExact([setup.trait.body_werewolf,setup.trait.body_neko,setup.trait.body_dragonkin]);let p="",c="",d="";h||(p="painful",c="painfully",d="pained");let g,m;const f=setup.Text.Unit.Trait.skin(r,!1,!0);if(h?m=[`b|their ${f} protecting b|their flesh from actually being ruptured.`,`the ${f} covering b|their b|body prevents the bite from drawing any blood.`,`b|their ${f} muffling the pain from the chomp.`]:m=[`trace of blood is drawn as the teeth pierce b|their ${f} and rupture b|their flesh.`,`b|their ${f} pierced by the invading teeth, drawing traces of blood.`,`b|their ${f} ${c} pierced by the show of dominance.`],r.isMasochistic()){const b=setup.SexUtil.masochistReaction(t,r,["being painfully chomped down","having b|their neck painfully bitten","having a|their teeths tearing down b|their flesh"],e);g=[`${b} Accompanying b|their masochistic bliss, `,`${b} All the while, `]}else if(s==setup.sexpace.dom)g=[`b|Rep b|let out a protesting moan at the ${p} chomp,`,`Trying to wrest control, b|rep b|growl at a|rep for the dominant treatment and
         the ${p} sensation it delivers via the chomp,`];else if(s==setup.sexpace.normal||s==setup.sexpace.sub)g=[`b|Rep b|eagerly b|let out a ${d} moan from the sensual act, `,`Despite the rough treatment, b|rep b|let out a ${d} but clearly aroused moan, `];else if(s==setup.sexpace.resist){const b=setup.SexUtil.repResist(t,r,e,["dislodge a|reps teeth from b|them","push a|reps away from b|them","struggle uselessly"],["a|rep a|feels the taste of b|reps flesh in a|their tongue","a|rep possessively a|assert a|their ownership over b|rep"]);g=[`${b} -- All the while `,`${b} b|Rep continues to cry and struggle, `]}else if(s==setup.sexpace.forced)g=[`b|Rep b|grimace ${c} at a|their assertion of dominance, `,`${h?"A mixture of fear and pleasure":"A mixture of fear and pain"} can be seen in b|reps eyes, `];else{const b=setup.SexUtil.mindbrokenReactionNoun(r,e,["the bite","the rough chomp","a|reps dominant bite","a|reps possessive bite"]);g=[`${b} b|They does not respond to the stimulus, `,`${b} b|They remains perfectly still, almost like a doll, `]}return n+=setup.rng.choice(g)+" ",n+=setup.rng.choice(m)+" ",n}},o(bg,"NibbleNeck"),bg),setup.SexActionClass.SpitFace=(yg=class extends setup.SexAction{getTags(){return super.getTags().concat(["dom","mouth","discomfort"])}desc(){return"Spit in face"}getPenetratorBodypart(){return setup.sexbodypart.mouth}getPenetrationTarget(){return setup.sexbodypart.mouth}getRestrictions(){return[setup.qres.HasItem("sexmanual_spit_face"),setup.qres.SexBodypartsCanReach("a",this.getPenetratorBodypart(),"b",this.getPenetrationTarget())]}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_SMALLMEDIUM,arousal:setup.Sex.AROUSAL_SMALLMEDIUM,paces:[setup.sexpace.dom,setup.sexpace.normal],restrictions:[setup.qres.SexCanUseBodypart(this.getPenetratorBodypart())]},{energy:setup.Sex.ENERGY_SMALL,discomfort:setup.Sex.DISCOMFORT_MEDIUM,paces:setup.SexPace.getAllPaces()}]}rawTitle(e){return"Spit in face"}rawDescription(e){return"Spit in b|reps face show b|them that b|they a|is worthless."}rawStory(e){const t=this.getActorUnit("a");e.getPace(t);const a=this.getActorUnit("b"),r=e.getPace(a);e.getPose(t),e.getPose(a);let s="",n=["Wanting to show b|rep that b|they a|is a worthless bitch, a|rep a|lean in towards b|them, before spitting on b|their face.","Leaning in towards b|rep, a|rep a|purse a|their lips, before spitting directly on b|their face.","Seeking to remind b|rep of how worthless b|they b|is, a|rep a|lean in towards b|them, before pursing a|their lips and spitting directly on b|their face."];return s+=setup.rng.choice(n)+" ",a.isMasochistic()?n=["A clearly aroused moan escapes from b|reps b|mouth as the ball of saliva splatters onto b|their cheek, letting a|rep know that b|they a|is deriving masochistic pleasure from being abused in such a fashion.","The horny squeal that escapes b|reps mouth is enough to let anyone realise that b|they a|is getting turned on from being treated in such a degrading manner.","Instead of a disgusted cry, b|rep b|let out a horny moan, letting a|rep know that b|they a|is a masochist who's getting turned on by being abused like this."]:r==setup.sexpace.dom||r==setup.sexpace.normal?n=[`A cry of discomfort escapes from b|reps b|mouth as the ball of saliva splatters onto b|their
        cheek
        ${t.isYou()?" which is precisely the reaction you were looking for.":" and from the wicked grin that settles on a|reps face, this was just the reaction a|they a|was looking for."}`,`The protestations which b|rep immediately b|make is exactly what a|rep a|was looking for, and a|they can't help but grin as a|they a|see the discomfort well up in
        ${a.isYou()?"your eyes.":"a|their bitch's b|eyes."}`,"After letting out a shocked cry, b|rep b|glare back in return, letting a|rep know that a|their abuse is having the exact effect a|they a|was looking for."]:r==setup.sexpace.sub?n=["A submissive moan escapes from b|reps b|mouth as the ball of saliva splatters onto b|their cheek, some drooling inside b|their mouth, letting a|rep know that b|they a|is deriving pleasure from being put in b|their place.","The horny squeal that escapes b|reps mouth is enough to let anyone realise that the submissive bitch a|is getting turned on from being put in place in such a degrading manner.","Instead of a disgusted cry, b|rep b|let out a horny moan, trying to lick the saliva in b|their face while letting a|rep know that b|they a|is getting turned on by being put in place like this."]:r==setup.sexpace.resist||r==setup.sexpace.forced?n=[` A disgusted cry escapes from b|reps b|mouth as the ball of saliva splatters onto b|their
        cheek
        ${t.isYou()?" which is precisely the reaction you were looking for.":" and from the wicked grin that settles on a|reps face, this was just the reaction a|they a|was looking for."}`,`The horrified protestations which b|rep immediately b|make is exactly what a|rep a|was looking for, and a|they can't help but grin as a|they a|see tears well up in
        ${a.isYou()?"your eyes.":"a|their submissive bitch's b|eyes."}`,"After letting out a shocked cry, tears start to well up in b|reps b|eyes, letting a|rep know that a|their abuse is having the exact effect a|they a|was looking for."]:n.push(setup.SexUtil.mindbrokenReactionNoun(a,e,["the ball of saliva splattering onto b|their cheek","the abusive act","the wet and slimy saliva on b|their face"])),s+=setup.rng.choice(n)+" ",s}},o(yg,"SpitFace"),yg);const PS=class PS extends Fb{getPenetrationTarget(){return setup.sexbodypart.vagina}};o(PS,"MouthVaginaDomBase");let ev=PS;const LS=class LS extends jb{getPenetrationTarget(){return setup.sexbodypart.vagina}};o(LS,"MouthVaginaDomBaseResist");let tv=LS;const US=class US extends Kb{getPenetrationTarget(){return setup.sexbodypart.vagina}};o(US,"MouthVaginaSubBase");let av=US;const NS=class NS extends Vb{getPenetrationTarget(){return setup.sexbodypart.vagina}};o(NS,"MouthVaginaSubBaseResist");let iv=NS;setup.SexActionClass.MouthVaginaDom=(kg=class extends ev{getTags(){return super.getTags().concat(["sub"])}desc(){return"Perform cunnilingus"}rawTitle(e){return"Perform cunnilingus"}rawDescription(e){return"Continue thrusting your a|tongue into b|reps b|vagina."}},o(kg,"MouthVaginaDom"),kg),setup.SexActionClass.MouthVaginaDomResist=(vg=class extends tv{getTags(){return super.getTags().concat(["normal"])}rawTitle(e){return"Resist Cunnilingus"}rawDescription(e){return"Try to pull your tongue out of b|reps b|vagina."}},o(vg,"MouthVaginaDomResist"),vg),setup.SexActionClass.MouthVaginaEnd=(Sg=class extends Yb{getTags(){return super.getTags().concat(["normal"])}getPenetrationTarget(){return setup.sexbodypart.vagina}rawTitle(e){return"End cunnilingus"}rawDescription(e){return"Pull your tongue out of b|reps b|vagina and stop performing cunnilingus."}},o(Sg,"MouthVaginaEnd"),Sg),setup.SexActionClass.MouthVaginaEndOther=(Tg=class extends Jb{getTags(){return super.getTags().concat(["dom"])}getPenetrationTarget(){return setup.sexbodypart.vagina}rawTitle(e){return"Stop receiving cunnilingus"}rawDescription(e){return"Get b|rep to pull b|their tongue out of your a|vagina."}},o(Tg,"MouthVaginaEndOther"),Tg);const HS=class HS extends $f{getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_penetration_mouthhole")])}getPenetratorBodypart(){return setup.sexbodypart.mouth}};o(HS,"MouthVaginaOrgasmBase");let rv=HS;setup.SexActionClass.MouthVaginaOrgasmInside=(_g=class extends rv{getTags(){return super.getTags().concat(["normal"])}desc(){return"Climax during cunnilingus"}rawTitle(e){return"Climax during cunnilingus"}describeOrgasm(e){this.getActorUnit("a");const t=this.getActorUnit("b");let a="";const r=e.getPace(t);return r==setup.sexpace.resist?a+=" b|Rep panickedly licked and kiss a|their clit,":r==setup.sexpace.mindbroken?a+=" b|Rep remains unresponsive, but by getting a|their vagina very close to b|their face, a|they a|is able to elicit some kind of response from the mindbroken slave,":a+=" b|Rep carries on licking and kissing at a|their clit while a|rep a|orgasm,",a+=" causing a|them to let out a series of high-pitched moans as a|they a|feel your vaginal muscles quiver and contract at the overwhelming sensation.",a}},o(_g,"MouthVaginaOrgasmInside"),_g),setup.SexActionClass.MouthVaginaStart=(Ag=class extends Wb{getTags(){return super.getTags().concat(["sub"])}desc(){return"Start performing cunnilingus"}getPenetrationTarget(){return setup.sexbodypart.vagina}rawTitle(e){return"Start cunnilingus"}rawDescription(e){return"Slide your a|tongue into b|reps b|vagina and start performing cunnilingus."}},o(Ag,"MouthVaginaStart"),Ag),setup.SexActionClass.MouthVaginaStartOther=(Mg=class extends Qb{getTags(){return super.getTags().concat(["dom"])}desc(){return"Start receiving cunnilingus"}getPenetrationTarget(){return setup.sexbodypart.vagina}rawTitle(e){return"Receive cunnilingus"}rawDescription(e){return"Get b|rep to start licking a|reps a|vagina."}},o(Mg,"MouthVaginaStartOther"),Mg),setup.SexActionClass.MouthVaginaSub=(wg=class extends av{getTags(){return super.getTags().concat(["dom"])}desc(){return"Receive cunnilingus"}rawTitle(e){return"Receive cunnilingus"}rawDescription(e){return"Press your labia down over b|reps face in order to drive b|their tongue into your a|vagina."}},o(wg,"MouthVaginaSub"),wg),setup.SexActionClass.MouthVaginaSubResist=(Rg=class extends iv{getTags(){return super.getTags().concat(["normal"])}rawTitle(e){return"Resist receiving cunnilingus"}rawDescription(e){return"Try and pull your a|vagina away from b|reps tongue."}},o(Rg,"MouthVaginaSubResist"),Rg);const BS=class BS extends Li{rawStory(e){const t=this.getActorUnit("a");e.getPace(t);const a=e.getPose(t),r=e.getPosition(t),s=this.getActorUnit("b"),n=e.getPace(s),l=e.getPose(s),u=e.getPosition(s);let h="";const p=this.getPenetratorBodypart().rep(t,e);this.getPenetratorBodypart().repTip(t,e),this.getPenetratorBodypart().repFuck(t,e);const c=this.getPenetrationTarget().rep(s,e);this.getPenetrationTarget().repLabia(s,e),this.getPenetrationTarget().repVaginal(s,e);const d=a.getFacingHeight(this.getPenetratorBodypart(),r,e);l.getFacingHeight(this.getPenetrationTarget(),u,e),d.facing.isDown()||d.facing.isUp();let g;return n==setup.sexpace.sub||n==setup.sexpace.normal?g=[`a|Rep a|try to pull a|their ${p} out of b|reps ${c}, but a|their efforts prove to be in vain as b|rep quickly b|reach back and b|take a firm hold of it, before b|eagerly forcing it back into b|their ${c}.`,`With a|a_sob, a|rep a|try to pull a|their ${p} away from b|rep, but b|they quickly b|grab it, before b|eagerly forcing it back inside b|their ${c}.`,`Tears start to well up in a|reps a|eyes, and with a|a_sob, a|they a|try to pull a|their ${p} away from b|reps ${c}, but b|rep quickly b|shift position, ignoring a|their protests as b|they b|eagerly b|force b|their ${c} down onto a|their ${p}.`]:g=[`a|Rep a|try to pull a|their ${p} out of b|reps ${c}, but a|their efforts prove to be in vain as b|rep quickly b|reach back and b|take a rough hold of it, before aggressively forcing it back into b|their ${c}.`,`With a|a_sob, a|rep a|try to pull a|their ${p} away from b|rep, but b|they quickly b|grab it, before roughly forcing it back inside b|their ${c}.`,`Tears start to well up in a|reps a|eyes, and with a|a_sob, a|they a|try to pull a|their ${p} away from b|reps ${c}, but b|rep quickly b|shift position, ignoring a|their protests as b|they roughly b|force b|their ${c} down onto a|their ${p}.`],h+=setup.rng.choice(g),h+=" ",h}};o(BS,"PhallusHoleDomBaseResist");let Zb=BS;const GS=class GS extends Ui{rawStory(e){const t=this.getActorUnit("a");e.getPace(t);const a=e.getPose(t),r=e.getPosition(t),s=this.getActorUnit("b"),n=e.getPace(s),l=e.getPose(s),u=e.getPosition(s);let h="";const p=this.getPenetratorBodypart().rep(s,e);this.getPenetratorBodypart().repTip(s,e),this.getPenetratorBodypart().repFuck(s,e);const c=this.getPenetrationTarget().rep(t,e);this.getPenetrationTarget().repLabia(t,e),this.getPenetrationTarget().repVaginal(t,e);const d=a.getFacingHeight(this.getPenetrationTarget(),r,e);l.getFacingHeight(this.getPenetratorBodypart(),u,e),d.facing.isDown()||d.facing.isUp();let g;return n==setup.sexpace.sub||n==setup.sexpace.normal?g=[`a|Rep a|feel tears a|start to well up in a|their a|eyes, and, not being able to hold back any longer, a|they suddenly a|let out a|a_sob, before weakly trying to pull b|reps ${p} out of a|their ${c}.`,`a|A_sob bursts out from a|reps mouth as a|they frantically a|try to pull a|their ${c} away from b|reps unwanted penetration, struggling in desperation as b|their ${p} b|continue b|eagerly pumping in and out of a|their ${c}.`,`Trying desperately to pull a|their hips away, a|rep a|let out a distressed a|sob as b|reps ${p} b|continue b|eagerly thrusting deep into a|their ${c}.`]:g=[`a|Rep a|feel tears a|start to well up in a|their a|eyes, and, not being able to hold back any longer, a|they suddenly a|let out a|a_sob, before weakly trying to pull b|reps ${p} out of a|their ${c}.`,`a|A_sob bursts out from a|reps mouth as a|they frantically a|try to pull a|their ${c} away from b|reps unwanted penetration, struggling in desperation as b|their ${p} b|continue roughly slamming in and out of a|their ${c}.`,`Trying desperately to pull a|their hips away, a|rep a|let out a distressed a|sob as b|reps ${p} b|continue violently thrusting deep into a|their ${c}.`],h+=setup.rng.choice(g),h+=" ",h}};o(GS,"PhallusHoleSubBaseResist");let Xb=GS;const qS=class qS extends Li{getPenetratorBodypart(){return setup.sexbodypart.penis}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_LARGE,arousal:setup.Sex.AROUSAL_MEDIUMLARGE,paces:[setup.sexpace.normal,setup.sexpace.sub,setup.sexpace.dom,setup.sexpace.forced],restrictions:[]},{energy:setup.Sex.ENERGY_MEDIUMLARGE,arousal:setup.Sex.AROUSAL_MEDIUM,discomfort:setup.Sex.DISCOMFORT_SMALL,paces:setup.SexPace.getAllPaces(),restrictions:[]}]}};o(qS,"PenisHoleDomBase");let St=qS;const zS=class zS extends Zb{getPenetratorBodypart(){return setup.sexbodypart.penis}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_MEDIUMLARGE,arousal:setup.Sex.AROUSAL_SMALL,discomfort:setup.Sex.DISCOMFORT_SMALL,paces:[setup.sexpace.resist],restrictions:[setup.qres.SexPaceIn([setup.sexpace.resist])]},{energy:setup.Sex.ENERGY_MEDIUMLARGE,arousal:setup.Sex.AROUSAL_MEDIUM,discomfort:setup.Sex.DISCOMFORT_TINY,paces:setup.SexPace.getAllPaces(),restrictions:[]}]}};o(zS,"PenisHoleDomBaseResist");let Ni=zS;const FS=class FS extends Ui{getPenetratorBodypart(){return setup.sexbodypart.penis}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_LARGE,arousal:setup.Sex.AROUSAL_MEDIUMLARGE,paces:[setup.sexpace.normal,setup.sexpace.sub,setup.sexpace.dom,setup.sexpace.forced],restrictions:[]},{energy:setup.Sex.ENERGY_MEDIUMLARGE,arousal:setup.Sex.AROUSAL_MEDIUM,discomfort:setup.Sex.DISCOMFORT_SMALL,paces:setup.SexPace.getAllPaces(),restrictions:[]}]}};o(FS,"PenisHoleSubBase");let Hi=FS;const jS=class jS extends Xb{getPenetratorBodypart(){return setup.sexbodypart.penis}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_MEDIUM,arousal:setup.Sex.AROUSAL_SMALL,discomfort:setup.Sex.DISCOMFORT_LARGE,paces:[setup.sexpace.resist],restrictions:[setup.qres.SexPaceIn([setup.sexpace.resist])]},{energy:setup.Sex.ENERGY_MEDIUMLARGE,arousal:setup.Sex.AROUSAL_MEDIUM,paces:setup.SexPace.getAllPaces(),restrictions:[]}]}};o(jS,"PenisHoleSubBaseResist");let Bi=jS;const KS=class KS extends St{getPenetrationTarget(){return setup.sexbodypart.anus}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_anus")])}};o(KS,"PenisAnusDomBase");let sv=KS;const VS=class VS extends Ni{getPenetrationTarget(){return setup.sexbodypart.anus}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_anus")])}};o(VS,"PenisAnusDomBaseResist");let nv=VS;const YS=class YS extends Hi{getPenetrationTarget(){return setup.sexbodypart.anus}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_anus")])}};o(YS,"PenisAnusSubBase");let ov=YS;const JS=class JS extends Bi{getPenetrationTarget(){return setup.sexbodypart.anus}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_anus")])}};o(JS,"PenisAnusSubBaseResist");let lv=JS;setup.SexActionClass.PenisAnusDom=(Eg=class extends sv{getTags(){return super.getTags().concat(["dom"])}desc(){return"Anal"}rawTitle(e){return"Anal"}rawDescription(e){return"Continue thrusting your a|dick in and out of b|reps b|anus."}},o(Eg,"PenisAnusDom"),Eg),setup.SexActionClass.PenisAnusDomResist=(xg=class extends nv{getTags(){return super.getTags().concat(["normal"])}rawTitle(e){return"Resist anal"}rawDescription(e){return"Try to pull your a|dick out of b|reps b|anus."}},o(xg,"PenisAnusDomResist"),xg);const WS=class WS extends St{getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_slap_ass"),setup.qres.SexBodypartsCanReach("a",setup.sexbodypart.arms,"b",setup.sexbodypart.anus)])}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_SMALL,arousal:setup.Sex.AROUSAL_MEDIUM,paces:[setup.sexpace.dom],restrictions:[setup.qres.SexCanUseBodypart(setup.sexbodypart.arms)]},{energy:setup.Sex.ENERGY_MEDIUMLARGE,arousal:setup.Sex.AROUSAL_SMALL,discomfort:setup.Sex.DISCOMFORT_MEDIUMLARGE,paces:setup.SexPace.getAllPaces()}]}rawTitle(e){return"Slap ass"}rawDescription(e){const t=this.getActorUnit("a"),a=this.getActorUnit("b"),r=this.getPenetratorBodypart().rep(t,e),s=this.getPenetrationTarget().rep(a,e);return`With your ${r} still deep inside b|reps ${s}, use your a|arms to slap b|their exposed b|ass.`}rawStory(e){const t=this.getActorUnit("a");e.getPace(t);const a=e.getPose(t),r=e.getPosition(t),s=this.getActorUnit("b"),n=e.getPace(s),l=e.getPose(s),u=e.getPosition(s);let h="";const p=this.getPenetratorBodypart().rep(t,e);this.getPenetratorBodypart().repTip(t,e),this.getPenetratorBodypart().repFuck(t,e);const c=this.getPenetrationTarget().rep(s,e);this.getPenetrationTarget().repLabia(s,e),this.getPenetrationTarget().repVaginal(s,e);const d=a.getFacingHeight(this.getPenetratorBodypart(),r,e);l.getFacingHeight(this.getPenetrationTarget(),u,e),d.facing.isDown()||d.facing.isUp();let g=[];if(g=[`Growling down into b|reps b|ears, a|rep a|reach and a|grab b|their b|waist,
       using one a|hand to hold b|them still, while using a|their other to `,`Hilting a|their ${p} deep inside b|reps ${c}, a|rep a|reach down and a|eagerly a|grope
       b|their b|ass, before starting to`,`Still ploughing away at b|their ${c}, a|rep a|growl down that a|they a|is going to put b|rep in
       b|their place, before starting make good on a|their threat by starting to`,`While a|rep a|continue pounding away at b|reps ${c}, a|they a|reach down and a|start to `,`With a|their ${p} still inside b|reps ${c} but wanting to put b|rep even more in b|their place, a|rep a|lift a|their a|hand, before swinging down to deliver a series of spanking to b|their b|ass.`,`Without pausing the fucking, a|rep a|lift a|their a|hand and a|swing down,
       delivering a sharp slap to b|reps b|ass in order to put b|them in b|their place.`,"Seeking to reinforce a|their control and a|remind b|rep who's in charge, a|rep a|raise a|their a|hand, before swiping down and delivering a series of sharp spanks to b|their b|ass."],s.getTail()&&(g=g.concat([`Growling down into b|reps [npc2.ear], a|rep a|eagerly a|grab the base of b|their b|tail
        and a|yank it upwards, raising b|their b|ass up high in the air before starting to `,`a|Rep a|reach down and a|grab the base of b|reps b|tail,
        causing b|them to let out a surprised yelp as a|they a|eagerly a|yank upwards,
        forcing b|them to push b|their b|ass up high in the air as a|rep a|start to `,`Hilting a|their ${p} deep inside b|reps ${c}, a|rep a|eagerly a|grab the base of b|their b|tail and
         a|yank upwards, raising b|their b|ass up high in the air before starting to `,`Still ploughing away at b|their ${c}, a|rep a|grab the base of b|reps b|tail in one a|hand, a|eagerly
         yanking b|their b|ass up high in the air before starting to`])),h+=setup.rng.choice(g)+" ",g=["a|eagerly a|slap b|their exposed cheeks.","a|eagerly a|deliver a series of stinging slaps to b|their exposed cheeks.","a|eagerly a|slap b|their b|ass.","a|eagerly a|deliver a series of spanks on b|their b|ass."],h+=setup.rng.choice(g)+" ",s.isMasochistic())g=[setup.SexUtil.masochistReaction(t,s,["being spanked","being simultaneously spanked and penetrated","having b|their ass slapped"],e)];else if([setup.sexpace.forced,setup.sexpace.resist].includes(n))g=[` A protesting yelp escapes from b|reps b|mouth at the moment of contact,
          ${t.isYou()?" which is precisely the reaction you were looking for.":` and from the wicked grin that settles on a|reps face, this was just the reaction
              a|they a|is looking for.`}`,` The pained squeal which immediately escapes from b|reps b|mouth is exactly what
          a|rep a|is looking for, and a|rep can't help but grin as a|they a|see tears well up in
          ${s.isYou()?"your eyes":"a|their submissive bitch's b|eyes"}`,` After letting out a shocked cry, tears start to well up in b|reps b|eyes,
          letting a|rep know that a|their abuse is having the exact effect a|rep a|is looking for.`,` a|Rep a|growl down that a|they a|is going to put b|rep in b|their place, before starting to
          aggressively slap b|their b|ass, smirking down at b|their submissive form as b|they
          squeals and cries out beneath a|their relentless blows.`];else if(n==setup.sexpace.mindbroken)g=[setup.SexUtil.mindbrokenReactionNoun(s,e,["the spanking","the abuse inflicted on b|their b|ass","the rough treatment","a|reps spanks"])];else{let m;n==setup.sexpace.sub?m=["submissive squeal","pained squeal","shocked cry","startled wail","moan"]:m=["protesting shout","pained exclamation","groan","angry squeal"],m=setup.rng.choice(m),g=[` ${setup.Article(m,!0)} escapes from b|reps b|mouth at the moment of contact,
          ${t.isYou()?"which is precisely the reaction you were looking for.":"and from the wicked grin that settles on a|reps face, this was just the reaction a|rep a|is looking for."}`,` The ${m} which immediately escapes from b|reps b|mouth is exactly what a|rep a|is looking for, and
          a|they can't help but grin as a|they a|see the shocked look in
          b|reps eyes`,` b|Rep immediately b|let out ${setup.Article(m)}, revealing to a|rep that a|their abuse is having the exact effect a|they a|is looking for.`,` b|Rep b|let out ${setup.Article(m)} as a|rep a|start roughly slapping b|their b|ass, and a|rep a|find a|themself grinning in glee as a|they a|watch b|them squirm beneath a|their stinging blows.`]}return h+=setup.rng.choice(g)+" ",h}};o(WS,"PenisHoleDomSlapAss");let ey=WS;setup.SexActionClass.PenisAnusDomSlapAss=(Dg=class extends ey{getTags(){return super.getTags().concat(["dom","discomfort"])}desc(){return"Slap ass (anal)"}getPenetrationTarget(){return setup.sexbodypart.anus}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_anus")])}},o(Dg,"PenisAnusDomSlapAss"),Dg);function YM(i,e,t){t.getPace(i),t.getPose(i),t.getPosition(i);const a=t.getPace(e);t.getPose(e),t.getPosition(e);let r;return a==setup.sexpace.dom?r=[" which b|rep b|eat clean despite the constant protesting."," which is lapped clean protestingly by b|rep."," and b|rep b|let b|their protest known as a|they a|eat it all up."]:a==setup.sexpace.normal||a==setup.sexpace.sub?r=[" which was then b|eagerly licked clean by b|rep."," and every single drop was licked clean by b|rep."," which was b|eagerly lapped up by b|rep."]:a==setup.sexpace.forced?r=[" and b|rep b|force b|themself to lap it all up, lest b|they b|face even more punishment."," and b|rep fearfully lick it all clean, while hoping the punishment would end soon.",` and b|rep is on the edge of tears as b|they ${setup.SexUtil.hesitatesBeforeForcingThemselfTo(e,t)} lap it all clean.`]:a==setup.sexpace.resist?r=[" and a|rep a|proceed to force the crying b|rep to lick it all clean, without missing a single drop."," and b|rep tearfully licked it all clean under the stern supervision of a|rep."," and with a disgusted look in b|their b|face, b|rep b|is forced to b|lap every single drop clean."]:a==setup.sexpace.mindbroken&&(r=[" garnering no response from the mindbroken toy."," to no reaction from the mindbroken slave."," some dribbling down the mindbroken slave's mouth and nose."]),setup.SexUtil.convert(r,{a:i,b:e},t)}o(YM,"eatCum");function JM(i,e,t,a,r,s){s.getPace(i),s.getPose(i),s.getPosition(i);const n=s.getPace(t);s.getPose(t),s.getPosition(t);const l="###action###";let u;return n==setup.sexpace.dom?u=[` Despite the stimulation from both sides, b|rep b|manage to let out a menacing b|growl at a|rep,
        before starting to ${l}.`,` In between b|reps attempt to ${l}, b|they b|let out a menacing growl to let a|rep know
        who is actually in charge.`,` b|rep dominance protests are soon muffled as b|they b|is forced to ${l}.`]:n==setup.sexpace.normal||n==setup.sexpace.sub?u=[` With stimulation from both sides, b|rep can't help but b|let out b|a_moan as b|they b|eagerly 
        ${l}, while feeling a|reps ${e} gushing inside of them.`,` b|rep b|eagerly ${l}, all the while a|reps ${e} gush inside and out of b|their ${a}.`,` b|rep b|eagerly ${l} as a|rep a|continue to a|eagerly pound a|their ${e} inside of b|them.`]:n==setup.sexpace.forced?(setup.SexUtil.hesitatesBeforeForcingThemselfTo(t,s),u=[` With stimulation from both sides, b|rep b|is helpless to do anything but b|let out a pained moan
        as b|they b|is forced to ${l}, all while feeling a|reps unwanted ${e} gushing inside of them.`,` As a|rep a|continue to pound away on b|their ${e}, b|rep b|is forced to ${l} if b|they b|want to
        breathe.`,` b|Rep b|have no choice but to ${l} while being very aware that b|their ${a} is simultaneously penetrated by a|reps ${e}`]):n==setup.sexpace.resist?u=[` b|Rep b|let out a muffled sob as both b|their ${a} and b|their b|mouth are violated at the same time.`,` Sandwiched between b|their violators, b|rep b|have no choice but to ${l} to continue breathing,
        with tears coming out from b|their eyes.`,` With a muffled sob, b|rep b|is forced to ${l}, all while being very aware of the
        ${e} a|eagerly penetrating b|their ${a}.`]:n==setup.sexpace.mindbroken&&(u=[setup.SexUtil.mindbrokenReactionDespite(t,s,["Despite the violation on b|their b|body from both sides","Even with the two-pronged forced stimulations","Even with phalluses inserted into both of b|their holes"])]),setup.SexUtil.convert(u,{a:i,b:t},s).replaceAll(/###action###/g,setup.rng.choice(r))}o(JM,"spitroastReaction");const QS=class QS extends St{getTags(){return super.getTags().concat(["mouth"])}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_tentacle_spitroast")])}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_LARGE,arousal:setup.Sex.AROUSAL_HUGE,paces:[setup.sexpace.dom,setup.sexpace.normal],restrictions:[setup.qres.Trait(setup.trait.magic_earth_master)]},{energy:setup.Sex.ENERGY_LARGE,arousal:setup.Sex.AROUSAL_MEDIUM,discomfort:setup.Sex.DISCOMFORT_LARGE,paces:[setup.sexpace.normal,setup.sexpace.sub,setup.sexpace.resist,setup.sexpace.mindbroken,setup.sexpace.forced],restrictions:[setup.qres.SexCanUseBodypart(setup.sexbodypart.mouth)]}]}rawTitle(e){return"Summon a tentacle and use it for a spitroast"}rawDescription(e){const t=this.getActorUnit("a"),a=this.getActorUnit("b"),r=this.getPenetratorBodypart().rep(t,e),s=this.getPenetrationTarget().rep(a,e);return`With your ${r} still in b|reps ${s}, summon a tentacle and shove it inside b|their b|mouth.`}rawStory(e){const t=this.getActorUnit("a"),a=e.getPace(t),r=e.getPose(t),s=e.getPosition(t),n=this.getActorUnit("b");e.getPace(n);const l=e.getPose(n),u=e.getPosition(n);let h="";const p=this.getPenetratorBodypart().rep(t,e);this.getPenetratorBodypart().repTip(t,e),this.getPenetratorBodypart().repFuck(t,e);const c=this.getPenetrationTarget().rep(n,e);this.getPenetrationTarget().repLabia(n,e),this.getPenetrationTarget().repVaginal(n,e);const d=r.getFacingHeight(this.getPenetratorBodypart(),s,e);l.getFacingHeight(this.getPenetrationTarget(),u,e);const g=e.getLocation().repSurface(e);d.facing.isDown()||d.facing.isUp();let m=[`Closing a|their a|eyes, a|rep a|concentrate as an earthly tentacle suddenly sprout from the ${g}.`,`Focusing a|their magic, a|rep momentarily a|glow before an earthly tentacle violently sprout from the ${g}.`];h+=setup.rng.choice(m)+" ";const b=l.getFacingHeight(setup.sexbodypart.mouth,u,e).height.repHeightLevel();return m=[`With a|their ${p} still deep inside b|reps ${c},
       the tentacle wiggles, moving to the ${b} level before pointing the tip of its huge appendage right in front of b|reps b|mouth.`,`The tentacle squirm and wiggle before a|rep a|control its movement, move it to the ${b} level, and then position the wet
       tip of the tentacle right in front of b|reps b|mouth.`],h+=setup.rng.choice(m)+" ",a==setup.sexpace.dom?m=["With an evil grin, a|rep grins maliciously as a|they a|use another of a|their magic to grow the tentacle even larger,","Without even the slightest warning, a|rep a|focus a|their energy as the tentacle suddenly grows even larger,"]:m=["Hushing gently to b|rep, a|rep a|focus a|their energy on the tentacle to make it grow larger and bigger,","With a gentle hush, a|rep slowly a|grow the tentacle bigger and larger,"],h+=setup.rng.choice(m)+" ",m=[" before a|eagerly impaling its tip right inside b|reps b|mouth."," before a|eagerly thrusting it right inside b|reps b|mouth."," before a|eagerly choking it down b|reps throat."],h+=setup.rng.choice(m)+" ",h+=JM(t,p,n,c,["swallow the vine tentacle","choke on the wet tentacle","suck the magical tentacle"],e)+" ",m=["The tentacle eventually gushed down salty juice down b|reps throat,","After a long moment, the tentacle shrinks before squirting a large amount of salty plant cum which lands on b|reps tongue before going into b|their stomach,"],h+=setup.rng.choice(m)+" ",h+=YM(t,n,e)+" ",h+=setup.rng.choice([` With a flick of a|their finger, the vine withdraws from b|reps b|mouth before vanishing into nothingness, and a|rep a|resume putting a|their ${p} in b|reps ${c}.`," With the plant juice all licked up, the vine disintegrates into nothingness as a|rep a|resume the fucking."]),h}};o(QS,"PenisHoleDomSpitroastTentacle");let ty=QS;setup.SexActionClass.PenisAnusDomSpitroastTentacle=(Ig=class extends ty{getTags(){return super.getTags().concat(["dom","discomfort"])}desc(){return"Anal spitroast with a tentacle"}getPenetrationTarget(){return setup.sexbodypart.anus}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_anus")])}},o(Ig,"PenisAnusDomSpitroastTentacle"),Ig);const ZS=class ZS extends St{getRestrictions(){return super.getRestrictions().concat([setup.qres.HasAnyItemAnywhere(["f_object_master_tigerkinstatuemale","f_object_master_tigerkinstatuefemale"]),setup.qres.Or(this.getStatues().map(e=>setup.qres.SexIsInLocationWithFurniture(e)))])}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_MEDIUM,arousal:setup.Sex.AROUSAL_MEDIUMLARGE,paces:[setup.sexpace.dom,setup.sexpace.normal],restrictions:[setup.qres.SexCanUseBodypart(setup.sexbodypart.arms),setup.qres.SexCanUseBodypart(setup.sexbodypart.legs)]},{energy:setup.Sex.ENERGY_MEDIUMLARGE,arousal:setup.Sex.AROUSAL_MEDIUM,discomfort:setup.Sex.DISCOMFORT_LARGE,paces:[setup.sexpace.normal,setup.sexpace.sub,setup.sexpace.resist,setup.sexpace.mindbroken,setup.sexpace.forced],restrictions:[setup.qres.SexCanUseBodypart(setup.sexbodypart.mouth)]}]}getStatues(){return[setup.item.f_object_master_tigerkinstatuemale,setup.item.f_object_master_tigerkinstatuefemale]}getStatue(e){const t=e.getLocation();for(const a of this.getStatues())if(t.getFurnitureAt(a.getSlot())==a)return a;throw new Error("Missing statue in PenisHoleDomSpitroast!")}isStatueMale(e){return this.getStatue(e)==setup.item.f_object_master_tigerkinstatuemale}repStatueDick(e){return this.isStatueMale(e)?"dick":"pussy"}rawTitle(e){return`Spitroast with the ${this.getStatue(e).rep()}`}rawDescription(e){const t=this.getActorUnit("a"),a=this.getActorUnit("b"),r=this.getPenetratorBodypart().rep(t,e),s=this.getPenetrationTarget().rep(a,e),n=this.getStatue(e).rep(),l=this.repStatueDick(e);return`With your ${r} still in b|reps ${s}, position b|their mouth in front of the ${n} and 
    shove it into the statue's ${l}.`}rawStory(e){const t=this.getActorUnit("a"),a=e.getPace(t),r=e.getPose(t),s=e.getPosition(t),n=this.getActorUnit("b");e.getPace(n);const l=e.getPose(n),u=e.getPosition(n);let h="";const p=this.getPenetratorBodypart().rep(t,e);this.getPenetratorBodypart().repTip(t,e),this.getPenetratorBodypart().repFuck(t,e);const c=this.getPenetrationTarget().rep(n,e);this.getPenetrationTarget().repLabia(n,e),this.getPenetrationTarget().repVaginal(n,e);const d=r.getFacingHeight(this.getPenetratorBodypart(),s,e);l.getFacingHeight(this.getPenetrationTarget(),u,e),d.facing.isDown()||d.facing.isUp();const g=this.getStatue(e).rep(),m=this.repStatueDick(e),f=this.isStatueMale(e);let b;this.isStatueMale(e)?b="precum":b="pussyjuice";let v=[`Seeing the ${g} in the room, a|rep a|come up with a devilish idea.`,`Seeing the ${g} in the room leaking ${b} from its ${m}, a|rep a|think of an evil idea to do to b|rep.`];h+=setup.rng.choice(v)+" ",v=[`With a|their ${p} still deep inside b|reps ${c}, a|rep a|eagerly a|reposition b|rep so that
      b|their b|mouth is lined up nicely in front of the statue's ${m}.`,`Temporarily sliding a|their ${p} out from b|reps ${c}, a|rep a|eagerly a|move to reposition b|rep
      so that now b|their b|mouth is just in front of the statue's ${m}. Once there, a|rep a|eagerly shove
      a|their ${p} back inside b|reps ${c}, earning a moan from b|them.`],h+=setup.rng.choice(v)+" ",a==setup.sexpace.dom?v=[`With an evil grin, a|rep forcefully a|shove a|their ${p} even deeper inside of b|rep, forcing
        b|them to b|move b|their b|body forwards and `,`Without the slightest warning, a|rep a|laugh as |they a|smite a|their ${p} forward inside of
        b|rep, which in turn moves b|reps b|body forwards and `]:v=[`Gently but surely, a|rep a|press a|their ${p} forwards inside of b|rep, forcing
        b|them to b|move b|their b|body forwards and `,`While caressing b|reps head, a|rep slowly push forwards and forwards, pushing a|their ${p}
        further inside of b|rep. In turn, b|reps b|body forwards and `],h+=setup.rng.choice(v)+" ",f?v=["impaling the tigerkin statue's permanently erect feline dick into b|their b|mouth.","effectively choking b|reps b|mouth full with the tigerkin statue's permanently erect feline dick."]:v=["forcing b|their b|mouth to get stuck in front of the tigerkin statue's permanently wet feline pussy.","wetting b|reps b|face with the pussyjuice dripping from the tigerkin statue's permanently wet feline pussy, which is now pressed against b|their face."],h+=setup.rng.choice(v)+" ";let S;return f?S=["swallow the tigerkin dick","choke on the tigerkin dick","suck the tigerkin dick"]:S=["eat the tigerkin pussy","slather the tigerkin pussy"],h+=JM(t,p,n,c,S,e)+" ",f?v=[`The muscular ${g} eventually ejaculated, gushing down salty ancient cum down b|reps throat,`,`After a long moment, the muscular ${g}'s dick twitches before squirting a large amount of salty ejaculate down b|reps tongue and into b|their stomach,`]:v=[`The bountifully endowed ${g} eventually climaxed, splattering girl cum all over b|reps b|face,`],h+=setup.rng.choice(v)+" ",h+=YM(t,n,e)+" ",h+=setup.rng.choice([` Sensing the fun to be over, a|rep a|return b|rep to b|their original position, before resuming putting a|their ${p} in b|reps ${c}.`,` With the ${b} all licked up, a|rep a|return b|rep to b|their original positions and resume the fucking.`]),h}};o(ZS,"PenisHoleDomSpitroastTigerkinStatue");let ay=ZS;setup.SexActionClass.PenisAnusDomSpitroastTigerkinStatue=($g=class extends ay{getTags(){return super.getTags().concat(["dom","discomfort"])}desc(){return"Anal spitroast with the tigerkin statue"}getPenetrationTarget(){return setup.sexbodypart.anus}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_anus")])}},o($g,"PenisAnusDomSpitroastTigerkinStatue"),$g);const XS=class XS extends Lf{getPenetratorBodypart(){return setup.sexbodypart.penis}};o(XS,"PenisHoleEnd");let Gi=XS;setup.SexActionClass.PenisAnusEnd=(Og=class extends Gi{getTags(){return super.getTags().concat(["normal"])}getPenetrationTarget(){return setup.sexbodypart.anus}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_anus")])}rawTitle(e){return"Stop anal"}rawDescription(e){return"Pull your a|dick out of b|reps b|anus and stop fucking b|them."}},o(Og,"PenisAnusEnd"),Og);const eT=class eT extends Uf{getPenetratorBodypart(){return setup.sexbodypart.penis}};o(eT,"PenisHoleEndOther");let qi=eT;setup.SexActionClass.PenisAnusEndOther=(Cg=class extends qi{getTags(){return super.getTags().concat(["dom"])}getPenetrationTarget(){return setup.sexbodypart.anus}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_anus")])}rawTitle(e){return"Stop getting anally fucked"}rawDescription(e){return"Get b|rep to pull b|their b|dick out of your a|anus."}},o(Cg,"PenisAnusEndOther"),Cg);const tT=class tT extends Nb{getActorDescriptions(){return[{energy:setup.Sex.ENERGY_MEDIUM,arousal:setup.Sex.AROUSAL_SMALL,paces:[setup.sexpace.dom,setup.sexpace.normal],restrictions:[]},{energy:setup.Sex.ENERGY_SMALL,arousal:setup.Sex.AROUSAL_SMALL,paces:setup.SexPace.getAllPaces(),restrictions:[]}]}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_tease")])}rawStory(e){const t=this.getActorUnit("a"),a=e.getPace(t),r=this.getActorUnit("b"),s=e.getPace(r);let n="";const l=this.getPenetratorBodypart().rep(t,e),u=this.getPenetratorBodypart().repTip(t,e);this.getPenetratorBodypart().repFuck(t,e);const h=this.getPenetrationTarget().rep(r,e),p=this.getPenetrationTarget().repLabia(r,e);this.getPenetrationTarget().repVaginal(r,e);let c;if(a==setup.sexpace.normal?c=[`Snaking a|their ${l} up to b|reps ${h}, a|rep a|start slowly
        teasing the ${u} up and down between b|their ${p}, ready to penetrate b|them at any moment.`,`With a soft moan, a|rep a|snake a|their ${l} up to b|reps ${h}, before starting
        to gently slide the ${u} up and down between b|their ${p}.`,`Gently sliding the ${u} of a|their ${l} up and down over b|reps ${h}, a|rep a|let out a soft moan at the thought of being able to penetrate b|them whenever a|they a|feel like it.`]:a==setup.sexpace.sub?c=[`Snaking a|their ${l} up to b|reps ${h}, a|rep a|start eagerly sliding the ${u} up and down between b|their ${p}, ready to penetrate b|them at any moment.`,`With a|a_moan, a|rep a|snake a|their ${l} up to b|reps ${h}, before starting to eagerly slide the ${u} up and down between b|their ${p}.`,`Eagerly sliding the ${u} of a|their ${l} up and down over b|reps ${h}, a|rep a|let out a|a_moan at the thought of being able to penetrate b|them whenever a|they a|feel like it.`]:a==setup.sexpace.dom&&(c=[`Grinding a|their ${l} up against b|reps ${h}, a|rep a|pull back a little before starting to slide the ${u} up and down between b|their ${p}, ready to start fucking b|them at any moment.`,`With a|a_moan, a|rep a|line a|their ${l} up to b|reps ${h}, before starting to roughly b|grind the ${u} up and down between b|their ${p}.`,`Roughly grinding the ${u} of a|their ${l} up and down over b|reps ${h}, a|rep a|let out a|a_moan at the thought of being able to start fucking b|them whenever a|they a|feel like it.`]),n+=setup.rng.choice(c),n+=" ",s==setup.sexpace.normal)c=[` A soft moan drifts out from between b|reps lips as b|they feels b|their ${h} being stimulated, and b|they gently b|push b|their ${h} out against a|reps ${l}.`,` b|Rep b|let out a soft moan, before gently pushing b|their ${h} out against a|reps ${l}.`,` b|Rep b|moan in delight as b|they b|feel a|reps ${l} stimulating a|their ${h}, and gently b|push b|their hips out in response.`];else if(s==setup.sexpace.sub)c=[` b|A_moan bursts out from between b|reps lips as b|they feels b|their ${h} being stimulated, and b|they eagerly b|push b|their ${p} out against a|reps ${l}.`,` b|Rep b|let out a desperate moan, before eagerly thrusting b|their ${h} out against a|reps ${l}.`,` b|Rep b|moan in delight as b|they b|feel a|reps ${l} stimulating a|their ${h}, and desperately b|buck b|their hips out in response.`];else if(s==setup.sexpace.dom)c=[` b|A_moan bursts out from between b|reps lips as b|they feels b|their ${h} being stimulated, and b|they forcefully b|thrust b|their ${p} out against a|reps ${l}.`,` b|Rep b|let out a desperate moan, before roughly thrusting b|their ${h} out against a|reps ${l}.`,` b|Rep b|moan in delight as b|they b|feel a|reps ${l} stimulating a|their ${h}, and violently b|buck b|their hips out in response.`];else if(s==setup.sexpace.forced){const d=setup.SexUtil.hesitatesBeforeForcingThemselfTo(r,e);c=[` b|A_moan bursts out from between b|reps lips as b|they feels b|their ${h} being involuntarily stimulated.`,` b|Rep b|let out a moan, before ${d} thrust b|their ${h} out against a|reps ${l}.`,` b|Rep b|moan as b|they b|feel a|reps ${l} giving unwanted stimulation over a|their ${h}.`]}else s==setup.sexpace.resist?c=[setup.SexUtil.repResistGeneric(r,t,e,[`pull b|their ${h} away from a|reps ${l}`,`avoid a|reps ${l} from going near b|their ${h}`,"prevent the incoming penetration"])]:c=[setup.SexUtil.mindbrokenReactionDespite(r,e,[`Despite the masterful teasing on b|their ${h}`,`Despite the sensation of a|reps ${l} sliding up and down b|their ${p}`,`Even with the pleasant sensation of having a|reps ${l} slide up and down b|their ${p}`])];return n+=setup.rng.choice(c),n+=" ",n}};o(tT,"PhallusHoleFreeBaseTeaseDom");let iy=tT;const aT=class aT extends Hb{getActorDescriptions(){return[{energy:setup.Sex.ENERGY_MEDIUM,arousal:setup.Sex.AROUSAL_SMALL,paces:[setup.sexpace.normal,setup.sexpace.sub],restrictions:[]},{energy:setup.Sex.ENERGY_SMALL,arousal:setup.Sex.AROUSAL_SMALL,paces:setup.SexPace.getAllPaces(),restrictions:[]}]}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_tease")])}rawStory(e){const t=this.getActorUnit("a"),a=e.getPace(t),r=this.getActorUnit("b"),s=e.getPace(r);let n="";const l=this.getPenetratorBodypart().rep(r,e),u=this.getPenetratorBodypart().repTip(r,e);this.getPenetratorBodypart().repFuck(r,e);const h=this.getPenetrationTarget().rep(t,e),p=this.getPenetrationTarget().repLabia(t,e);this.getPenetrationTarget().repVaginal(t,e);let c;if(a==setup.sexpace.normal?c=[`a|Rep a|grab b|reps ${l}, before guiding it up to a|their ${h}. Slowly pushing the ${u} up and down between a|their ${p}, a|they a|tease b|rep with the promise of penetration at any moment.`,`With a soft moan, a|rep a|grab b|reps ${l} and a|guide it up to a|their ${h}, before starting to gently slide the ${u} up and down between a|their ${p}.`,`Grabbing b|reps ${l}, a|rep gently a|slide the ${u} over a|their ${h}, letting out a soft moan as a|they a|tease b|them with the promise of penetration.`]:a==setup.sexpace.sub?c=[`a|Rep a|grab b|reps ${l}, before guiding it up to a|their ${h}. Eagerly pushing the ${u} up and down between a|their ${p}, a|they a|tease b|rep with the promise of penetration at any moment.`,`With a|a_moan, a|rep a|grab b|reps ${l} and a|guide it up to a|their ${h}, before starting to eagerly slide the ${u} up and down between a|their ${p}.`,`Grabbing b|reps ${l}, a|rep eagerly a|slide the ${u} over a|their ${h}, letting out a|a_moan as a|they a|tease b|them with the promise of penetration.`]:a==setup.sexpace.dom&&(c=[`a|Rep a|grab b|reps ${l}, before yanking it up to a|their ${h}. Roughly forcing the ${u} up and down between a|their ${p}, a|they a|tease b|rep with the promise of penetration at any moment.`,`With a|a_moan, a|rep a|grab b|reps ${l} and yank it up to a|their ${h}, before starting to roughly a|force the ${u} up and down between a|their ${p}.`,`Grabbing b|reps ${l}, a|rep roughly a|grind the ${u} over a|their ${h}, letting out a|a_moan as a|they a|tease b|them with the promise of penetration.`]),n+=setup.rng.choice(c),n+=" ",s==setup.sexpace.normal)c=[` A soft moan drifts out from between b|reps lips, and b|they b|start gently rubbing b|their b|their ${l} up and down over a|reps ${h}.`,` b|Rep b|let out a soft moan, before gently sliding b|their ${l} back and forth over a|reps ${h}.`,` b|Rep b|moan in delight as b|they b|feel b|their ${l} being stimulated, and, needing no further encouragement, b|they b|start gently sliding b|their b|their ${l} up and down over a|reps ${h}.`];else if(s==setup.sexpace.sub)c=[` b|A_moan bursts out from between b|reps lips, and b|they b|start enthusiastically rubbing b|their b|their ${l} up and down over a|reps ${h}.`,` b|Rep b|let out a desperate moan, before eagerly sliding b|their ${l} back and forth over a|reps ${h}.`,` b|Rep b|moan in delight as b|they b|feel b|their ${l} being stimulated, and, needing no further encouragement, b|they b|start eagerly sliding b|their b|their ${l} up and down over a|reps ${h}.`];else if(s==setup.sexpace.dom)c=[` b|A_moan bursts out from between b|reps lips, and b|they b|start roughly grinding b|their b|their ${l} up and down over a|reps ${h}.`,` b|Rep b|let out b|a_moan, before forcefully grinding b|their ${l} back and forth over a|reps ${h}.`,` b|Rep b|moan in delight as b|they b|feel b|their ${l} being stimulated, and, seeking to remind a|rep who's in charge, b|they b|start roughly grinding b|their b|their ${l} up and down over a|their ${h}.`];else if(s==setup.sexpace.forced){const d=setup.SexUtil.hesitatesBeforeForcingThemselfTo(r,e);c=[` b|A_moan bursts out from between b|reps lips, and b|they ${d} start rubbing b|their b|their ${l} up and down over a|reps ${h}.`,` b|Rep b|let out an involuntary moan, before ${d} slide b|their ${l} back and forth over a|reps ${h}.`,` b|Rep b|gasp involuntarily as b|they b|feel b|their ${l} being stimulated, and, 
        ${d} start sliding b|their b|their ${l} up and down over a|reps ${h}.`]}else s==setup.sexpace.resist?c=[setup.SexUtil.repResistGeneric(r,t,e,[`pull b|their ${l} away from a|reps ${h}`,`avoid a|reps ${h} from going near b|their ${l}`,`beg a|rep to let go of b|their ${l}`])]:c=[setup.SexUtil.mindbrokenReactionDespite(r,e,[`Despite the masterful teasing on b|their ${l}`,`Despite the sensation of b|their ${l} sliding up and down a|reps ${p}`,`Even with the pleasant sensation of having b|their ${l} slide up and down a|reps ${p}`])];return n+=setup.rng.choice(c),n+=" ",n}};o(aT,"PhallusHoleFreeBaseTeaseSub");let ry=aT;const iT=class iT extends iy{getPenetratorBodypart(){return setup.sexbodypart.penis}};o(iT,"PenisHoleFreeBaseTeaseDom");let sy=iT;const rT=class rT extends ry{getPenetratorBodypart(){return setup.sexbodypart.penis}};o(rT,"PenisHoleFreeBaseTeaseSub");let ny=rT;setup.SexActionClass.PenisAnusFreeTeaseDom=(Pg=class extends sy{getTags(){return super.getTags().concat(["dom"])}desc(){return"Anal dick-tease"}getPenetrationTarget(){return setup.sexbodypart.anus}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_anus")])}rawTitle(e){return"Anal dick-tease"}rawDescription(e){return"Slide your a|dick up and down b|reps b|ass."}},o(Pg,"PenisAnusFreeTeaseDom"),Pg),setup.SexActionClass.PenisAnusFreeTeaseSub=(Lg=class extends ny{getTags(){return super.getTags().concat(["sub"])}desc(){return"Tease dick with anus"}getPenetrationTarget(){return setup.sexbodypart.anus}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_anus")])}rawTitle(e){return"Tease b|reps b|dick with your a|anus"}rawDescription(e){return"Slide the b|dickhead of b|reps b|dick over your a|anus."}},o(Lg,"PenisAnusFreeTeaseSub"),Lg);const sT=class sT extends Ci{getPenetrationTarget(){return setup.sexbodypart.anus}};o(sT,"PenisAnusOrgasmBase");let uv=sT;setup.SexActionClass.PenisAnusOrgasmInside=(Ug=class extends uv{getTags(){return super.getTags().concat(["normal"])}desc(){return"Cum inside anus"}rawTitle(e){return"Cum inside b|reps b|anus"}},o(Ug,"PenisAnusOrgasmInside"),Ug);const nT=class nT extends Nf{getPenetratorBodypart(){return setup.sexbodypart.penis}};o(nT,"PenisHoleStart");let zi=nT;setup.SexActionClass.PenisAnusStart=(Ng=class extends zi{getTags(){return super.getTags().concat(["dom"])}desc(){return"Start anal"}getPenetrationTarget(){return setup.sexbodypart.anus}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_anus")])}rawTitle(e){return"Start anal"}rawDescription(e){return"Sink your a|dick into b|reps b|anus and start fucking b|them."}getExtraDescription(e){let t=super.getExtraDescription(e);return t+=" ",t+=Ob(this.getActorUnit("b"),e),t}},o(Ng,"PenisAnusStart"),Ng);const oT=class oT extends Hf{getPenetratorBodypart(){return setup.sexbodypart.penis}};o(oT,"PenisHoleStartOther");let Fi=oT;setup.SexActionClass.PenisAnusStartOther=(Hg=class extends Fi{getTags(){return super.getTags().concat(["sub"])}desc(){return"Get anally fucked"}getPenetrationTarget(){return setup.sexbodypart.anus}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_anus")])}getActorDescriptions(){const e=super.getActorDescriptions();return e[0].restrictions.push(setup.qres.SexEnjoysAnal()),e}rawTitle(e){return"Get anally fucked"}rawDescription(e){return"Slide b|reps b|dick into your a|anus and get fucked."}},o(Hg,"PenisAnusStartOther"),Hg),setup.SexActionClass.PenisAnusSub=(Bg=class extends ov{getTags(){return super.getTags().concat(["sub"])}desc(){return"Receive anal"}rawTitle(e){return"Receive anal"}rawDescription(e){return"Fuck your a|anus on b|reps b|dick"}},o(Bg,"PenisAnusSub"),Bg),setup.SexActionClass.PenisAnusSubResist=(Gg=class extends lv{getTags(){return super.getTags().concat(["normal"])}getPenetrationTarget(){return setup.sexbodypart.anus}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_anus")])}rawTitle(e){return"Resist receiving anal"}rawDescription(e){return"Try and pull your a|anus away from b|reps b|dick."}},o(Gg,"PenisAnusSubResist"),Gg);const lT=class lT extends St{getPenetrationTarget(){return setup.sexbodypart.breasts}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_penetration_penisbreasts"),setup.qres.SexCanTitfuck("a","b")])}};o(lT,"PenisBreastsDomBase");let oy=lT;const uT=class uT extends Ni{getPenetrationTarget(){return setup.sexbodypart.breasts}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_penetration_penisbreasts"),setup.qres.SexCanTitfuck("a","b")])}};o(uT,"PenisBreastsDomBaseResist");let hv=uT;const hT=class hT extends Hi{getPenetrationTarget(){return setup.sexbodypart.breasts}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_penetration_penisbreasts"),setup.qres.SexCanTitfuck("b","a")])}};o(hT,"PenisBreastsSubBase");let ly=hT;const pT=class pT extends Bi{getPenetrationTarget(){return setup.sexbodypart.breasts}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_penetration_penisbreasts"),setup.qres.SexCanTitfuck("b","a")])}};o(pT,"PenisBreastsSubBaseResist");let pv=pT;setup.SexActionClass.PenisBreastsDom=(qg=class extends oy{getTags(){return super.getTags().concat(["dom"])}desc(){return"Continue receiving titfuck / pecjob"}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_SMALL,arousal:setup.Sex.AROUSAL_SMALL,paces:[setup.sexpace.dom,setup.sexpace.normal,setup.sexpace.sub,setup.sexpace.forced]},{energy:setup.Sex.ENERGY_MEDIUM,arousal:setup.Sex.AROUSAL_SMALL,paces:setup.SexPace.getAllPaces()}]}rawTitle(e){const t=this.getActorUnit("a"),a=this.getActorUnit("b");return`Receive ${setup.sexbodypart.breasts.repTitfuck(t,a)}`}rawDescription(e){return"Fuck b|reps b|breasts."}rawStory(e){const t=this.getActorUnit("a"),a=e.getPace(t),r=e.getPose(t),s=e.getPosition(t),n=this.getActorUnit("b"),l=e.getPose(n),u=e.getPace(n),h=e.getPosition(n),p=r.getFacingHeight(this.getPenetratorBodypart(),s,e);l.getFacingHeight(this.getPenetrationTarget(),h,e),p.facing.isDown()||p.facing.isUp();let c="";const d=setup.sexbodypart.breasts.getTitfuck(t,n);let g=setup.sexbodypart.breasts.repPush(t,n),m;a==setup.sexpace.forced?m=[`Unsure what to do to please b|rep, a|rep decide to slide a|their a|dick between
         b|reps b|breasts, letting out a moan as a|they a|feel a|their dick squeezed tight by
         b|reps b|breasts.`,`Pushing a|their a|dick between the b|cleavage formed between b|reps
         b|breasts, a|rep mechanically thrust a|their hips forwards, letting
         out a little moan as a|they hope this is what b|rep b|want from a|them.`,`After a short pause, a|rep a|squeeze b|reps b|breasts together,
         before forcing a|themself to pump a|their hips back and forth, fucking b|their b|cleavage.`]:a==setup.sexpace.dom?m=[`Roughly slamming a|their a|dick between b|reps b|breasts, a|rep
         a|start violently bucking a|their hips back and forth, letting out
         a|a_moan with every thrust as a|they forcefully a|fuck b|their
         b|cleavage.`,`Violently pushing a|their a|dick between the b|cleavage formed between
         b|reps b|breasts, a|rep a|start roughly thrusting a|their hips
         forwards, letting out moans as a|they dominantly a|fuck b|their
         b|breasts.`,`Greedily squeezing b|reps b|breasts together, a|rep a|let out a|a_moan
         as a|they a|start to dominantly pump a|their hips back and forth,
         breathing in b|their b|scent as a|they roughly a|fuck b|their
         cleavage.`,`a|Rep forcefully a|press b|reps b|breasts together, which squeeze the dick
         trapped in the b|cleavage, eliciting a pleasant sensation for a|them.`]:m=[`Sliding a|their a|dick a|eagerly between b|reps b|breasts, a|rep a|start
         steadily bucking a|their hips back and forth, letting out a little moan
         with every thrust as a|they a|eagerly a|fuck b|their cleavage.`,`Pushing a|their a|dick between the b|cleavage formed between b|reps
         b|breasts, a|rep a|start a|eagerly thrusting a|their hips forwards, letting
         out a little moan as a|they a|eagerly a|fuck b|their b|breasts.`,`Squeezing b|reps b|breasts together, a|rep a|let out a little moan
         as a|they a|start to a|eagerly pump a|their hips back and forth, breathing
         in b|their b|scent as a|they a|eagerly a|fuck b|their b|cleavage.`,`a|Rep a|eagerly a|press b|reps b|breasts together, which squeeze the dick
         trapped in the b|cleavage, eliciting a pleasant sensation for a|them.`],c+=setup.rng.choice(m),c+=" ",g=setup.sexbodypart.breasts.repPush(t,n);const f=setup.sexbodypart.breasts.getTitfuck(t,n);if(m=[],f==setup.SexBodypartClass.Breasts.TITFUCK.titfuck)n.isHasTrait("breast_large")?(m=["a|Reps dick slides up and down from inside b|reps cleavage, flanked by a pair of b|breasts.","b|Reps b|breasts graze harmlessly along a|reps a|dick, which continues to slide up and down along the b|cleavage.","b|Reps b|breasts occasionally grip the invading a|dick, giving it a powerful stimulation."],n.isHasTrait("breast_huge")&&m.push("b|Reps pillowy breasts bounces occasionally as the dick continue to slide along its cleavage.","a|Reps dick barely poke out from within the pillowy mass of flesh.","b|Reps b|breasts are huge, providing great sensation on a|reps a|dick.")):m=[m.push("The dick slides almost harmlessly along the b|cleavage.","The b|cleavage is barely large enough to allow the dick to slide in a stable way.",`b|Reps b|breasts are not large enough to allow a proper ${d}.`)];else if(f==setup.SexBodypartClass.Breasts.TITFUCK.pecjob)m=["b|Reps b|breasts grip the invading phallus powerfully, stimulating it.","The muscles in b|reps chest grip the dick reflexively as b|they b|breathe.","b|Reps b|cleavage powerfully grip and stimulate the dick trapped inside."];else throw new Error(`Unrecognized titfuck: ${d}`);if(c+=setup.rng.choice(m),c+=" ",g=setup.sexbodypart.breasts.repPush(t,n),u==setup.sexpace.normal||u==setup.sexpace.sub)m=[` b|Rep b|eagerly b|${g} b|their b|breasts together in response,
        letting out b|a_moan as b|they b|encourage a|rep to continue fucking
        b|their b|cleavage.`,` b|A_moan bursts out from between b|reps lips, and, b|eagerly pushing
        b|their b|breasts together, b|they b|encourage
        a|rep to continue sliding a|their a|dick up and down between b|their
        b|cleavage.`,` Moaning in delight, b|rep b|eagerly b|wrap b|their b|breasts around
        a|reps a|dick, before begging for a|them to continue fucking b|their
        b|breasts.`,` b|Rep b|eagerly b|${g} b|their b|breasts together, squeezing a|reps a|dick that is
        trapped inside, b|eagerly stimulating it.`];else if(u==setup.sexpace.dom)m=[` b|Rep roughly b|${g} b|their b|breasts together in response,
          letting out b|a_moan as b|they b|order a|rep to continue fucking
          b|their b|cleavage.`,` b|A_moan bursts out from between b|reps lips, and, forcefully
        pressing b|their b|breasts together, b|they b|order
        a|rep to continue thrusting a|their a|dick up and down between
        b|their b|cleavage.`,` Moaning in delight, b|rep dominantly b|wrap b|their b|breasts
        around a|reps a|dick, before ordering a|them to continue fucking
        b|their b|breasts.`,` b|Rep forcefully b|${g} b|their b|breasts tightly together, cruelly squeezing the a|dick
        trapped inside, giving it a mixture of pain and pleasure.`];else if(u==setup.sexpace.forced){const b=setup.SexUtil.hesitatesBeforeForcingThemselfTo(n,e);m=[` b|Rep ${b} stay as still as possible while a|rep a|continue to use b|their b|breasts.`,` b|Rep ${b} stimulate the dick trapped inside b|their b|cleavage by squeezing b|their b|breasts.`,` b|Rep ${b} press b|their b|breasts together, stimulating the dick trapped inside.`]}else u==setup.sexpace.resist?m=[` Desperately trying, and failing, to pull away b|their b|breasts from a|reps a|dick,
        b|rep b|let out b|a_sob, tears streaming down b|their b|face as
        b|they weakly b|beg for a|rep to leave b|their b|breasts alone.`,` b|A_sob bursts out from between b|reps lips as b|they weakly b|try
        to push a|rep away, tears streaming down b|their b|face as b|they
        b|plead for a|them to leave b|their b|breasts alone.`,` Sobbing in distress, and with tears running down b|their b|face,
        b|rep weakly b|struggle against a|rep, pleading and crying for a|them
        to get away from b|their b|breasts.`]:u==setup.sexpace.mindbroken&&(m=[setup.SexUtil.mindbrokenReactionDespite(n,e,["a|rep a|eagerly sliding a|their a|dick along b|their b|cleavage",`the ongoing ${d}`,"a|rep squeezing b|their b|breasts tight together"])]);return c+=setup.rng.choice(m),c+=" ",c}},o(qg,"PenisBreastsDom"),qg),setup.SexActionClass.PenisBreastsDomResist=(zg=class extends hv{getTags(){return super.getTags().concat(["normal"])}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_SMALLMEDIUM,arousal:-setup.Sex.AROUSAL_SMALL,discomfort:-setup.Sex.DISCOMFORT_SMALL,paces:[setup.sexpace.resist],restrictions:[setup.qres.SexPaceIn([setup.sexpace.resist])]},{energy:setup.Sex.ENERGY_SMALLMEDIUM,arousal:setup.Sex.AROUSAL_SMALL,paces:setup.SexPace.getAllPaces()}]}rawTitle(e){const t=this.getActorUnit("a"),a=this.getActorUnit("b");return`Resist receiving ${setup.sexbodypart.breasts.repTitfuck(t,a)}`}rawDescription(e){return"Try to pull your dick away from b|reps b|breasts."}rawStory(e){const t=this.getActorUnit("a");e.getPace(t),e.getPose(t);const a=this.getActorUnit("b"),r=e.getPace(a);let s;return r==setup.sexpace.dom?s=[`a|Rep desperately a|try to pull a|their a|dick out of b|reps
        b|cleavage, but b|they firmly b|squeeze b|their b|breasts together and b|hold
        the dick in place, while reasserting to a|them that b|they'll do whatever b|they
        b|want to a|them.`,`a|Rep frantically a|try to pull a|their a|dick away from b|reps b|breasts, but
         b|their b|breasts are gripping a|them in place. b|Rep b|moan as b|they b|ignore
        a|reps futile protests.`,`Tears start to well up in a|reps a|eyes as a|they a|try to pull out
        of b|reps b|cleavage, but it is simply stuck between the b|breasts, and b|they
        b|continue moaning as b|they firmly b|force a|their a|dick between
        b|their b|breasts.`]:s=[`a|Rep desperately a|try to pull a|their a|dick out of b|reps
        b|cleavage, but b|they firmly b|squeeze b|their b|breasts together and
        b|hold the dick in place, gently reminding a|them that b|they'll do
        whatever b|they b|want to a|them.`,`a|Rep frantically a|try to pull a|their a|dick away from b|reps b|breasts, but
        b|their b|breasts are gripping a|them in place. b|Rep moan b|eagerly as b|they
        b|ignore a|their desperate protests.`,`Tears start to well up in a|reps a|eyes as a|they a|try to pull out
        of b|reps b|cleavage, but it is simply stuck between the b|breasts, and b|they
        b|continue moaning as b|they eagerly b|force a|their a|dick
        between b|their b|breasts.`],s}},o(zg,"PenisBreastsDomResist"),zg),setup.SexActionClass.PenisBreastsDomBallsFocus=(Fg=class extends oy{getTags(){return super.getTags().concat(["dom","mouth"])}desc(){return"Receive titfuck / pecjob into mouth"}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_titfuck_mouth"),setup.qres.SexCanTitfuckIntoMouth("a","b")])}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_MEDIUMLARGE,arousal:setup.Sex.AROUSAL_MEDIUMLARGE,paces:[setup.sexpace.dom,setup.sexpace.normal]},{energy:setup.Sex.ENERGY_MEDIUMLARGE,arousal:setup.Sex.AROUSAL_TINY,discomfort:setup.Sex.DISCOMFORT_SMALLMEDIUM,paces:setup.SexPace.getAllPaces(),restrictions:[setup.qres.SexCanUseBodypart(setup.sexbodypart.mouth)]}]}rawTitle(e){return"Thrust into b|reps b|mouth"}rawDescription(e){return"Thrust your hips forwards and force the cock head of your a|dick into b|reps b|mouth."}rawStory(e){const t=this.getActorUnit("a"),a=e.getPace(t),r=e.getPose(t),s=e.getPosition(t),n=this.getActorUnit("b"),l=e.getPose(n),u=e.getPace(n),h=e.getPosition(n),p=r.getFacingHeight(this.getPenetratorBodypart(),s,e);l.getFacingHeight(this.getPenetrationTarget(),h,e),p.facing.isDown()||p.facing.isUp();const c=setup.sexbodypart.breasts.getTitfuck(t,n);setup.sexbodypart.breasts.repPush(t,n);let d="",g;if(a==setup.sexpace.dom?g=[`Roughly thrusting forwards between b|reps b|breasts, a|rep slams
        a|their a|dick up against b|their b|mouth and forces the cock head past
        b|their lips.`,`Violently slamming a|their hips forwards, a|rep a|thrust a|their
        a|dick between b|reps b|breasts, pushing all the way until the cock
        head rams past b|their lips.`]:g=[`a|Eagerly thrusting forwards between b|reps b|breasts, a|rep a|push
        a|their a|dick all the way up to b|their b|mouth and forces the cock
        head past b|their lips.`,`a|Eagerly pushing a|their hips forwards, a|rep forces a|their a|dick
        between b|reps b|breasts, pushing all the way until the cock head
        pushes past b|their lips.`],d+=setup.rng.choice(g)+" ",n.getMainTraining().getTags().includes("troral")?t.isHasTrait("dick_titanic")?g=["Despite the size of the cockhead, b|reps complete fixation on oral means that the b|race b|do not care, and happily gobble down the massive cockhead.","b|Rep b|is so completely fixated on oral, and not even the massive cockhead in front of b|them can diminish b|their enthusiasm."]:g=["The cumslut relishes b|their favorite activity of gobbling down cock.",`The obedient oral slut b|love being offered a suprise cock in the middle of the ${c}.`]:t.isHasTrait("dick_titanic")?g=["Despite only the cockhead, it is large enough that b|rep b|have some trouble fitting it inside b|their b|mouth.","The dick is so massive that even the cockhead is difficult to fit inside b|reps b|mouth."]:g=["The cockhead slides easily into b|reps b|mouth.","The cockhead of the b|dick is easily gobbled by b|rep."],g.length&&(d+=setup.rng.choice(g)+" "),u==setup.sexpace.normal||u==setup.sexpace.sub)g=[` b|Rep b|grin at a|their enthusiasm, before b|eagerly opening b|their b|mouth to
        give the cock head of a|their a|dick a loving suck. After a while, b|rep b|draw
        back, but not before planting a kiss on its very tip.`,` b|Rep b|eagerly b|open b|their b|mouth to accept a|their a|dick,
        giving the cock head a hot, wet suck before drawing back to deliver a
        soft kiss to the very tip.`,` b|Rep b|eagerly b|open b|their b|mouth to gobble the cockhead, while
        squeezing b|their b|breasts together to stimulate the a|dick from multiple angles
        at the same time.`];else if(u==setup.sexpace.dom)g=[` b|Rep b|let out b|a_moan, before opening b|their b|mouth to
        give the cock head of a|their a|dick a quick, forceful suck. b|Rep then
        b|draw back, but not before a|adv biting on its very tip.`,` b|Rep quickly b|open b|their b|mouth to gobble a|their a|dick,
        giving the cock head a forceful suck before drawing back and a|adv
        biting it on its the very tip.`,` b|Rep b|eagerly b|open b|their b|mouth to forcefully suck on the cockhead, while
        powerfully squeezing b|their b|breasts together to crush the a|dick from multiple angles
        at the same time.`];else if(u==setup.sexpace.forced){const m=setup.SexUtil.hesitatesBeforeForcingThemselfTo(n,e);g=[` b|Rep ${m} open b|their b|mouth and lifelessly suck on the dickhead.`,` b|Rep ${m} gobble the cockhead without thinking too much about it.`]}else u==setup.sexpace.resist?g=[setup.SexUtil.repResist(n,t,e,["try to pull b|their b|mouth away from the cockhead of a|their a|dick","try to push a|their a|dick away from b|their b|mouth","jerk b|their b|head back to avoid the cock head like a plague"],["a|they a|force a|their cockhead past b|their lips","a|they a|continue thrusting a|their a|dick past b|their b|cleavage and into b|their lips","a|they a|carry on thrusting a|their a|dick past b|their defenseless lips"])]:u==setup.sexpace.mindbroken&&(g=[setup.SexUtil.mindbrokenReactionNoun(n,e,["the cockhead in front of b|them","the a|dick that forced itself all the way past b|their b|cleavage","the smell of a cockhead in front of b|them"])]);return d+=setup.rng.choice(g)+" ",d}},o(Fg,"PenisBreastsDomBallsFocus"),Fg),setup.SexActionClass.PenisBreastsEnd=(jg=class extends Gi{getTags(){return super.getTags().concat(["normal"])}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_penetration_penisbreasts"),setup.qres.SexCanTitfuck("a","b")])}getPenetrationTarget(){return setup.sexbodypart.breasts}rawTitle(e){const t=this.getActorUnit("a"),a=this.getActorUnit("b");return`Stop receiving ${setup.sexbodypart.breasts.repTitfuck(t,a)}`}rawDescription(e){const t=this.getActorUnit("a"),a=this.getActorUnit("b");return`Slide your a|dick out of b|reps b|cleavage and stop receiving a ${setup.sexbodypart.breasts.repTitfuck(t,a)} from b|them.`}rawStory(e){const t=this.getActorUnit("a"),a=this.getActorUnit("b"),r=e.getPace(t),s=e.getPose(t),n=e.getPosition(t);e.getPace(a);const l=e.getPose(a),u=e.getPosition(a);let h="",p;const c=s.getFacingHeight(this.getPenetratorBodypart(),n,e);l.getFacingHeight(this.getPenetrationTarget(),u,e),c.facing.isDown()||c.facing.isUp();const d=setup.sexbodypart.breasts.getTitfuck(t,a);return setup.sexbodypart.breasts.repPush(t,a),r==setup.sexpace.dom?p=[`Roughly pushing b|rep away, a|rep a|pull a|their a|dick out from
        b|their b|cleavage and a|tell b|them that b|they had enough of
        fucking b|their b|breasts.`,`Roughly pulling a|their a|dick out from b|reps b|cleavage, a|rep
        a|tell b|them that b|they had enough of fucking b|their
        b|breasts.`]:p=[`a|Rep a|pull a|their a|dick out from b|reps b|cleavage and a|tell
        b|rep that b|they had enough of fucking b|their b|breasts.`,`Pulling a|their a|dick out from b|reps b|cleavage, a|rep a|tell
        b|rep that b|they had enough of fucking b|their b|breasts.`],h+=setup.rng.choice(p),h+=" ",h+=setup.SexUtil.afterPenetrationReactionSub(t,a,["a|rep a|slide away of b|reps b|cleavage","a|reps a|dick retreated from b|reps b|cleavage",`the ${d} seemingly ends`,"a|rep a|pull a|their a|dick away from b|reps b|cleavage","b|they b|pull b|their b|breasts away from a|rep"],["continue using b|them",`continue the ${d}ing action`,"continue having a|their a|dick trapped between b|their b|breasts","continue the feeling of squeezing a|their a|dick between b|their b|breasts","have a|them use b|their b|breasts more"],e),h}},o(jg,"PenisBreastsEnd"),jg),setup.SexActionClass.PenisBreastsEndOther=(Kg=class extends qi{getTags(){return super.getTags().concat(["dom"])}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_penetration_penisbreasts"),setup.qres.SexCanTitfuck("b","a")])}getPenetrationTarget(){return setup.sexbodypart.breasts}rawTitle(e){const t=this.getActorUnit("a"),a=this.getActorUnit("b");return`Stop ${setup.sexbodypart.breasts.repTitfuck(a,t)}ing`}rawDescription(e){const t=this.getActorUnit("a"),a=this.getActorUnit("b");return`Push b|reps b|dick away from your a|breasts and stop giving b|them a ${setup.sexbodypart.breasts.repTitfuck(a,t)}.`}rawStory(e){const t=this.getActorUnit("a"),a=this.getActorUnit("b"),r=e.getPace(t),s=e.getPose(t),n=e.getPosition(t);e.getPace(a);const l=e.getPose(a),u=e.getPosition(a);let h="",p;s.getFacingHeight(this.getPenetrationTarget(),n,e),l.getFacingHeight(this.getPenetratorBodypart(),u,e);const c=setup.sexbodypart.breasts.getTitfuck(a,t);return setup.sexbodypart.breasts.repPush(a,t),r==setup.sexpace.dom?p=[`a|Rep roughly a|push b|rep away from a|them, and, in a menacing
        tone, a|order b|them to stop fucking a|their a|breasts.`,`With a menacing growl, a|rep roughly a|push b|rep away, and a|order
        b|them to stop fucking a|their a|breasts.`]:p=[`a|Rep a|push b|rep away from a|them, and a|ask b|them to stop
        fucking a|their a|breasts.`,`With one last moan, a|rep a|push b|rep away, and a|ask b|them to
        stop fucking a|their a|breasts.`],h+=setup.rng.choice(p),h+=" ",h+=setup.SexUtil.afterPenetrationReactionDom(t,a,[`a|they a|stop the ${c}`,"a|rep a|stop b|them from fucking a|their a|breasts","a|rep a|withdraw a|their a|breasts away from b|reps b|dick"],[`continue the ${c}`,"continue fucking a|reps a|breasts","continue sliding b|their b|dick between a|their a|breasts"],e),h}},o(Kg,"PenisBreastsEndOther"),Kg);const cT=class cT extends Ci{getPenetrationTarget(){return setup.sexbodypart.breasts}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_penetration_penisbreasts"),setup.qres.SexCanTitfuck("a","b")])}};o(cT,"PenisBreastsOrgasmBase");let cv=cT;setup.SexActionClass.PenisBreastsOrgasmInside=(Vg=class extends cv{getTags(){return super.getTags().concat(["normal"])}desc(){return"Cum during titfuck / pecjob"}rawTitle(e){const t=this.getActorUnit("a"),a=this.getActorUnit("b");return`Cum during ${setup.sexbodypart.breasts.repTitfuck(t,a)}`}describeOrgasm(e){const t=this.getActorUnit("a"),a=this.getActorUnit("b");let r="",s=[" a|Rep a|continue a|eagerly thrusting a|their a|dick within b|reps b|cleavage, letting out a|a_moan as a|they a|feel a|their orgasm coming."," a|Reps a|dick starts to twitch, and in response a|they rapidly thrust it in and out of b|reps b|cleavage in anticipation of an upcoming climax."," a|Rep a|eagerly a|thrust a|their a|dick along b|reps b|cleavage as it starts to twitch and jerk."];r+=setup.rng.choice(s)+" ";let n="soft";return setup.sexbodypart.breasts.getTitfuck(t,a)==setup.SexBodypartClass.Breasts.TITFUCK.pecjob&&(n="hard"),s=[],t.isHasTrait("dick_demon")?s=[`a|Their movements cause the barbs lining a|their a|dick to rake against the ${n} sides of
         b|reps breasts, causing b|them to let out b|a_moan.`,`The sensitive little barbs lining a|reps demonic dick grazes against the ${n} flesh of
         b|reps breasts,`]:t.isHasTrait("dick_werewolf")?s=[`a|Their fat knot swells up, and with each thrust, bumps wildly
        against the ${n} flesh of b|reps b|breasts, which in turn causes b|them to let out
        b|a_moan.`,`a|Their fat knot swells up, painfully pushing away the ${n} flesh of b|reps b|breasts
        in a futile attempt to lock itself in.`]:t.isHasTrait("dick_dragonkin")&&(s=[` a|Their ribbed shaft repeatedly bumps against the ${n} flesh of b|reps b|breasts on
        every thrust, which in turn causes b|them to let out b|a_moan.`,` The ridges on a|their a|dick bumps against the ${n} flesh of b|reps b|breasts, drawing out a moan.`]),s.length&&(r+=setup.rng.choice(s)+" "),r}cumTargetDescription(e){const t=this.getActorUnit("a"),a=this.getActorUnit("b");let r="",s;const n=Ck(t,a,e);if(n<=-1?s=[" all on b|reps b|cleavage and b|breasts as the dick is buried deep within inside."," messily over b|reps b|cleavage and b|breasts as the dick is buried within."]:n==0?s=[" all over b|reps b|breasts and b|neck but barely decorating b|their face."," messily over b|reps b|breasts and b|neck."]:s=[" all over b|reps b|breasts and face from the dickhead poking out of b|their b|breasts."," messily over b|reps b|breasts and face since the dick is long enough to poke out of b|their b|cleavage."],r=setup.rng.choice(s)+" ",n>=1&&(r+=jO(t,a,e)+" "),t.isHasTrait("balls_titanic")){const l=Hk(t,a,e);n>=1?s=[`${l}, and soon after b|their face is almost entirely covered in cum.`,`${l}, and before long b|their entire face is wet and sticky with cum.`]:s=[`${l}, and soon after b|their torso is drenched in cum.`,`${l}, and before long b|their b|breasts are entirely coated in cum.`],r+=setup.rng.choice(s)+" "}return r}},o(Vg,"PenisBreastsOrgasmInside"),Vg),setup.SexActionClass.PenisBreastsStart=(Yg=class extends zi{getTags(){return super.getTags().concat(["dom"])}desc(){return"Begin titfuck / pecjob"}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_penetration_penisbreasts"),setup.qres.SexCanTitfuck("a","b")])}getPenetrationTarget(){return setup.sexbodypart.breasts}rawTitle(e){const t=this.getActorUnit("a"),a=this.getActorUnit("b");return`Begin ${setup.sexbodypart.breasts.repTitfuck(t,a)}`}rawDescription(e){return"Slide your a|dick between b|reps b|breasts and start fucking them."}rawStory(e){const t=this.getActorUnit("a"),a=e.getPace(t),r=e.getPose(t),s=e.getPosition(t),n=this.getActorUnit("b"),l=e.getPose(n),u=e.getPace(n),h=e.getPosition(n),p=r.getFacingHeight(this.getPenetratorBodypart(),s,e);l.getFacingHeight(this.getPenetrationTarget(),h,e),p.facing.isDown()||p.facing.isUp();let c="";setup.sexbodypart.breasts.getTitfuck(t,n);let d=setup.sexbodypart.breasts.repPush(t,n),g;if(a==setup.sexpace.dom?g=[`Reaching to roughly sink a|their fingers into b|reps b|breasts,
         a|rep forcefully a|${d} them together, lining a|their a|dick up to
         b|their b|cleavage before slamming forwards and starting to rapidly
         fuck b|their b|breasts.`,`Reaching to take hold of b|reps b|breasts, a|rep roughly a|${d}
         them together, lining a|their a|dick up to b|their b|cleavage before
         forcefully sliding forwards and starting to fuck b|their b|breasts mercilessly.`,`a|Rep a|line a|their a|dick up to b|reps b|cleavage before roughly squeezing
         b|reps b|breasts and forcing a|their a|dick forwards, enjoying the feeling of
         it sliding between the b|breasts.`]:g=[`Reaching to take hold of b|reps b|breasts, a|rep a|eagerly a|${d}
         them together, lining a|their a|dick up to b|their b|cleavage before
         sliding forwards and starting to fuck b|their b|breasts.`,`Reaching to a|eagerly sink a|their fingers into b|reps
         b|breasts, a|rep eagerly a|${d} them together, lining a|their a|dick
         up to b|their b|cleavage before sliding forwards and starting to
         a|eagerly fuck b|their b|breasts.`,`a|Rep a|line a|their a|dick up to b|reps b|cleavage before squeezing
         b|reps b|breasts and then a|eagerly pushing a|their a|dick forwards,
         sliding deliciously between the b|breasts.`],d=setup.sexbodypart.breasts.repPush(t,n),c+=setup.rng.choice(g),u==setup.sexpace.normal||u==setup.sexpace.sub)g=[` b|Rep b|eagerly b|let out a moan in response, reaching to
          help ${d} b|their b|breasts together as b|they b|encourage a|them to
          keep going.`,` b|Rep b|let out b|a_moan in response, a|eagerly reaching to help
          ${d} b|their b|breasts together as b|they happily b|encourage a|them
          to keep going.`,` In response, b|rep b|eagerly b|push b|their chest forwards and b|${d} b|their b|breasts
          even tighter together, squeezing the cock trapped within.`];else if(u==setup.sexpace.dom)g=[` b|Rep b|let out b|a_moan in response, reaching to forcefully
          press b|their b|breasts together as b|they dominantly b|order a|them
          to keep going.`,` b|Rep b|eagerly b|push b|their chest forwards, before forcefully squeezing b|their b|breasts
          even tighter together, squeezing the cock trapped within.`,` In response, b|rep b|${d} b|their b|breasts even tigheter, showing a|rep that b|they
          will be in control of the ensuing sex.`];else if(u==setup.sexpace.forced){const m=setup.SexUtil.hesitatesBeforeForcingThemselfTo(n,e);g=[` b|Rep ${m} squeeze b|their b|breasts together to stimulate the cock of b|their owner trapped within.`,` b|Rep ${m} stimulate the cock trapped in b|their b|cleavage by pressing b|their b|breasts together.`]}else u==setup.sexpace.resist?g=[` b|Rep b|let out an involuntary moan in response, before reaching to weakly try and
          push a|them away from b|their b|breasts as b|they b|beg for a|them to
          stop.`,` With b|a_sob, b|rep b|try, in vain, to pull the dick away from b|their b|cleavage,
          tears running down b|their b|face as a|reps unwelcome
          a|dick grinds against the b|cleavage.`]:u==setup.sexpace.mindbroken&&(g=[setup.SexUtil.mindbrokenReactionNoun(n,e,["the a|dick grinding down b|their b|breasts","the a|dick sliding along b|their b|cleavage"])]);return c+=" ",c+=setup.rng.choice(g),c}},o(Yg,"PenisBreastsStart"),Yg),setup.SexActionClass.PenisBreastsStartOther=(Jg=class extends Fi{getTags(){return super.getTags().concat(["sub"])}desc(){return"Begin performing titfuck / pecjob"}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_penetration_penisbreasts"),setup.qres.SexCanTitfuck("b","a")])}getPenetrationTarget(){return setup.sexbodypart.breasts}rawTitle(e){const t=this.getActorUnit("a"),a=this.getActorUnit("b");return`Perform ${setup.sexbodypart.breasts.repTitfuck(a,t)}`}rawDescription(e){return"Use b|reps b|dick to fuck a|reps a|breasts."}rawStory(e){const t=this.getActorUnit("a"),a=e.getPace(t);e.getPose(t),e.getPosition(t);const r=this.getActorUnit("b");e.getPose(r);const s=e.getPace(r);e.getPosition(r);let n="",l;const u=setup.sexbodypart.breasts.repTitfuck(r,t);let h=setup.sexbodypart.breasts.repPush(r,t);if(a==setup.sexpace.normal||a==setup.sexpace.sub?l=[`Taking hold of b|reps b|dick, a|rep a|eagerly a|guide it up to a|their
         a|cleavage, and, sliding forwards, a|they a|${h} a|their a|breasts
         together and a|start giving b|them a ${u}.`,`a|Rep a|position a|their a|breasts next to b|reps b|dick, before letting the dick
         slide along a|their a|cleavage and then squeezing a|their a|breasts together.`,`a|Rep a|eagerly a|guide b|reps b|dick towards a|their a|cleavage, before sliding it along
         the ridge trapping it securely between a|their a|breasts for a ${u}.`]:l=[`Grabbing hold of b|reps b|dick, a|rep a|eagerly a|pull it to
         a|their a|cleavage, and, sliding forwards, a|they a|${h} a|their
         a|breasts together and a|start giving b|them a forceful ${u}.`,`a|Rep a|position a|their a|breasts next to b|reps b|dick, before forcing the dick
         to slide along a|their a|cleavage and then roughly squeezing a|their a|breasts together, crushing the dick inside.`,`a|Rep a|eagerly a|yank b|reps b|dick into a|their a|cleavage, before sliding it along
         the ridge and trapping it securely between a|their a|breasts for a rough ${u}.`],n+=setup.rng.choice(l),h=setup.sexbodypart.breasts.repPush(r,t),s==setup.sexpace.normal||s==setup.sexpace.sub)l=[` b|Rep b|eagerly b|let out a little moan in response, before helping to ${h}
          a|reps a|breasts together as b|they b|encourage a|them to keep going.`,` b|Rep b|let out a moan at the stimulation, shuddering in delight as b|they b|feel
          b|their b|dick being squeezed tight and stimulated.`,` b|Rep b|let out an approving moan, before b|eagerly helping ${h} a|reps a|breasts together
          tighter and encourage a|them to continue.`];else if(s==setup.sexpace.dom)l=[` b|Rep b|let out an approving moan in response, before roughly squeezing a|reps
          a|breasts together as b|they b|demand that a|they keep on going.`,` b|Rep b|let out a dominant grunt as b|they b|feel b|their b|dick being stimulated
          between the a|breasts.`,` b|Rep b|let out an approving moan at the dick stimulation, before ordering a|rep
          to not let up the pleasant stimulation.`];else if(s==setup.sexpace.forced){const p=setup.SexUtil.hesitatesBeforeForcingThemselfTo(r,e);l=[` b|Rep ${p} just enjoy the rare stimulation lavished on b|their member.`,` b|Rep ${p} give as much pleasure back to b|their better.`]}else s==setup.sexpace.resist?l=[" b|Rep b|let out b|a_moan, weakly trying to push a|rep away as b|they b|beg for a|them to stop."," b|Rep weakly b|try to pull b|their b|dick away, but a|reps grip on the member is too strong, and the dick remains trapped between the a|breasts."]:s==setup.sexpace.mindbroken&&(l=[setup.SexUtil.mindbrokenReactionNoun(r,e,["the stimulation on b|their b|dick","the a|breasts squeezing b|their b|dick",`the pleasant sensation of ${u}`])]);return n+=" ",n+=setup.rng.choice(l),n}},o(Jg,"PenisBreastsStartOther"),Jg),setup.SexActionClass.PenisBreastsSub=(Wg=class extends ly{getTags(){return super.getTags().concat(["sub"])}desc(){return"Perform titfuck / pecjob"}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_SMALLMEDIUM,arousal:setup.Sex.AROUSAL_SMALL,paces:[setup.sexpace.dom,setup.sexpace.normal,setup.sexpace.sub,setup.sexpace.forced]},{energy:setup.Sex.ENERGY_SMALL,arousal:setup.Sex.AROUSAL_SMALLMEDIUM,paces:setup.SexPace.getAllPaces()}]}rawTitle(e){const t=this.getActorUnit("a"),a=this.getActorUnit("b");return`Perform ${setup.sexbodypart.breasts.repTitfuck(a,t)}`}rawDescription(e){return"Pleasure b|reps b|dick with your a|breasts."}rawStory(e){const t=this.getActorUnit("a"),a=e.getPace(t),r=e.getPose(t),s=e.getPosition(t),n=this.getActorUnit("b"),l=e.getPose(n),u=e.getPace(n),h=e.getPosition(n),p=r.getFacingHeight(this.getPenetratorBodypart(),s,e);l.getFacingHeight(this.getPenetrationTarget(),h,e),p.facing.isDown()||p.facing.isUp();let c="";const d=setup.sexbodypart.breasts.getTitfuck(n,t);let g=setup.sexbodypart.breasts.repPush(n,t),m;a==setup.sexpace.normal||a==setup.sexpace.sub?m=[`Reaching up to ${g} a|their a|breasts together around b|reps b|dick,
         a|rep a|eagerly a|raise and a|lower a|their torso, a|eagerly moaning as
         a|they a|use a|their a|cleavage.`,`a|Eagerly squeezing a|their a|breasts around b|reps b|dick, a|rep a|eagerly
         a|lift them up and down, letting out a moan as a|they a|eagerly
         a|give b|them a ${d}.`,`Letting out a moan, a|rep a|${g} a|their a|breasts together,
         enveloping b|reps b|dick in a|their a|breasts as a|they a|give
         b|them a ${d}.`]:a==setup.sexpace.dom?m=[`Reaching up to roughly force a|their a|breasts together around
         b|reps b|dick, a|rep rapidly a|raise and a|lower a|their torso,
         moaning as a|they a|use a|their cleavage to give b|them a dominant
         ${d}.`,`Forcefully squeezing a|their a|breasts around b|reps b|dick, a|rep
         roughly a|bounce them up and down, letting out a|a_moan as a|they
         a|give b|them a forceful and borderline painful ${d}.`,`Letting out a|a_moan, a|rep forcefully a|${g} a|their a|breasts
         together, enveloping b|reps b|dick in a|their a|breasts and crushing
         the dick inside.`]:m=[`Fearing punishment, a|rep a|${g} a|their a|breasts together and
         a|try a|their best to stimulate the dick trapped within.`,`Not wanting to anger b|rep, a|rep mechanically a|move a|their a|body
         up and down, stroking the dick trapped inside a|their a|cleavage.`,`a|Rep a|force a|themself to a|${g} a|their a|breasts together,
         trying to give a ${d} to a|their betters.`],c+=setup.rng.choice(m),c+=" ",g=setup.sexbodypart.breasts.repPush(n,t);const f=q$(n,t,e);if(u==setup.sexpace.normal||u==setup.sexpace.sub)m=[` b|Rep b|eagerly b|thrust b|their b|dick in and out between a|reps
          a|breasts, letting out b|a_moan as b|they b|eagerly b|fuck
          a|their a|cleavage.`,` b|A_moan bursts out from b|reps b|mouth, before b|they b|start
          thrusting b|their b|dick all the way in the a|cleavage between a|reps a|breasts. ${f}`,` Moaning in delight, b|rep b|eagerly b|drive b|their b|dick in and out
          between a|reps a|breasts.`,` b|Rep b|pause for a moment, before b|eagerly driving the entire length of b|their b|dick into the inviting b|cleavage. ${f}`];else if(u==setup.sexpace.dom)m=[` b|Rep violently b|thrust b|their b|dick in and out between a|reps
          a|breasts, letting out b|a_moan as b|they roughly b|fuck a|their a|cleavage.`,` b|Rep b|let out a grunt, before b|they b|start
          roughly slamming b|their b|dick all the way in a|reps a|cleavage. ${f}`," Moaning in delight, b|rep roughly b|slam b|their b|dick back and forth between a|reps a|breasts.",` Without warning, b|rep b|eagerly b|drive the entire length of
          b|their b|dick into the vulnerable b|cleavage. ${f}`];else if(u==setup.sexpace.forced){const b=setup.SexUtil.hesitatesBeforeForcingThemselfTo(n,e);m=[` b|Rep ${b} just enjoy the rare occassion of having someone else service b|their b|dick.`,` b|Rep ${b} slide b|their b|dick a little between the a|breasts.`,` b|Rep ${b} buck b|their b|hips, mechanically fucking the a|breasts.`]}else u==setup.sexpace.resist?m=[` Failing to pull b|their b|dick away from a|reps a|breasts, b|rep
          b|let out b|a_sob as b|they weakly b|try to struggle free.`,` b|Rep b|try to pull b|their b|dick away, but this only makes a|rep
        tigthen the squeezing of a|their a|breasts, locking the dick securely within the a|cleavage.`,` Sobbing in distress, b|rep b|try to pull b|their b|dick
        away from a|reps a|breasts, but it was in vain as a|reps a|breasts grip it too strongly.`]:u==setup.sexpace.mindbroken&&(m=[setup.SexUtil.mindbrokenReactionNoun(n,e,["the stimulation on a|their a|dick","the b|breasts stimulating a|their a|dick",`the ongoing ${d}`])]);return c+=setup.rng.choice(m),c+=" ",c}},o(Wg,"PenisBreastsSub"),Wg),setup.SexActionClass.PenisBreastsSubResist=(Qg=class extends pv{getTags(){return super.getTags().concat(["normal"])}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_SMALL,discomfort:setup.Sex.DISCOMFORT_SMALL,arousal:-setup.Sex.AROUSAL_SMALL,paces:[setup.sexpace.resist],restrictions:[setup.qres.SexPaceIn([setup.sexpace.resist])]},{energy:setup.Sex.ENERGY_MEDIUM,arousal:setup.Sex.AROUSAL_SMALL,paces:setup.SexPace.getAllPaces()}]}rawTitle(e){const t=this.getActorUnit("a"),a=this.getActorUnit("b");return`Resist performing ${setup.sexbodypart.breasts.repTitfuck(a,t)}`}rawDescription(e){return"Try and push b|reps b|dick away from your a|breasts."}rawStory(e){const t=this.getActorUnit("a");e.getPace(t);const a=this.getActorUnit("b"),r=e.getPace(a);let s="";setup.sexbodypart.breasts.getTitfuck(t,a);let n=setup.sexbodypart.breasts.repPush(t,a),l;return r==setup.sexpace.dom?l=[`a|Rep a|try to push the invading b|dick away from a|their a|breasts,
         but b|rep just b|eagerly b|${n} a|their a|breasts even tighter together,
         locking the dick securely inside.`,`a|Rep weakly try to push away the b|dick from a|their a|cleavage,
         but b|rep simply b|reinsert b|their b|dick into the opening and b|continue the unrelentless fucking.`,`a|Reps incoherent begging for mercy falls on deaf ears as b|rep
         b|continue b|eagerly thrusting b|their b|dick into a|their vulnerable a|cleavage.`]:l=[`a|Rep a|try to push the invading b|dick away from a|their a|breasts,
         but b|rep just b|eagerly b|${n} a|their a|breasts even tighter together,
         locking the dick securely inside.`,`a|Rep weakly try to push away the b|dick from a|their a|cleavage,
         but b|rep simply b|reinsert b|their b|dick into the opening and b|continue the fucking.`,`a|Reps incoherent begging for mercy falls on deaf ears as b|rep
         b|continue b|eagerly thrusting b|their b|dick into a|their vulnerable a|cleavage.`],s+=setup.rng.choice(l),s}},o(Qg,"PenisBreastsSubResist"),Qg),setup.SexActionClass.PenisBreastsSubTitfuckIntoBreasts=(Zg=class extends ly{getTags(){return super.getTags().concat(["sub","mouth"])}desc(){return"Titfuck / Pecjob into mouth"}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_titfuck_mouth"),setup.qres.SexCanTitfuckIntoMouth("b","a")])}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_SMALLMEDIUM,arousal:setup.Sex.AROUSAL_SMALL,discomfort:setup.Sex.DISCOMFORT_TINY,paces:[setup.sexpace.normal,setup.sexpace.sub],restrictions:[setup.qres.SexCanUseBodypart(setup.sexbodypart.mouth)]},{energy:setup.Sex.ENERGY_SMALLMEDIUM,arousal:setup.Sex.AROUSAL_SMALLMEDIUM,paces:setup.SexPace.getAllPaces()}]}rawTitle(e){const t=this.getActorUnit("a"),a=this.getActorUnit("b"),r=setup.sexbodypart.breasts.repTitfuck(t,a);return`${setup.capitalize(r)} into a|mouth`}rawDescription(e){return"Push your head forwards and take the cock head of b|reps b|dick into your a|mouth."}rawStory(e){const t=this.getActorUnit("a");e.getPace(t);const a=e.getPose(t),r=e.getPosition(t),s=this.getActorUnit("b"),n=e.getPose(s),l=e.getPace(s),u=e.getPosition(s),h=a.getFacingHeight(this.getPenetratorBodypart(),r,e);n.getFacingHeight(this.getPenetrationTarget(),u,e),h.facing.isDown()||h.facing.isUp();const p=setup.sexbodypart.breasts.getTitfuck(s,t);let c=setup.sexbodypart.breasts.repPush(s,t),d="",g;if(t.getMainTraining().getTags().includes("troral")?g=[`The cockhead presented in from of a|rep is just too much for the cumslut,
         and a|they hungrily push a|their face towards it and a|lap its cockhead up.`,`The oral-fixated slave a|rep can't resist having a cockhead right in front of a|their face,
         and a|proceed to crane a|their a|neck and take the dick into a|their a|mouth.`,`The dick in front of the slave is far too tempting for the cum-fixated a|rep,
         and a|they hungrily a|reach into the shaft and a|gobble its head into a|their a|mouth.`]:g=[`Pushing a|their face towards b|reps b|dick as it slides up
          between a|their a|breasts, a|rep a|eagerly a|part a|their lips and
          a|take the cock head into a|their a|mouth.`,`Pushing a|their a|face forwards, a|rep a|eagerly a|take the cock head of
          b|reps b|dick into a|their a|mouth as b|they b|thrust up between
          a|their a|breasts.`,`The cockhead in front of a|them prove too tempting for a|rep and a|they
          a|part a|their lips to a|eagerly gobble down on the presented cockhead.`],d+=setup.rng.choice(g)+" ",l==setup.sexpace.normal||l==setup.sexpace.sub)g=[` b|Rep b|smile at a|their enthusiasm, and, b|eagerly pushing b|their
        b|dick into a|their a|mouth, b|they b|let a|them suck and kiss the cock
        head for a moment, before pulling back and continuing to fuck a|their
        a|breasts.`,` b|Rep a|eagerly b|push b|their b|dick into a|their a|mouth, allowing
        a|them to give the cock head a hot, wet suck before drawing back and
        continuing to fuck a|their a|breasts.`,` While a|rep a|is busy gobbling down on the cockhead, b|rep b|eagerly b|${c}
          a|their a|breasts together, stimulating the length of the shaft.`];else if(l==setup.sexpace.dom)g=[` b|Rep b|adv b|grin at b|their enthusiasm, and, roughly forcing b|their
        b|dick deeper into a|reps a|mouth, b|they b|allow a|them to suck and
        kiss the cock head for a moment, before pulling back and continuing
        to aggressively fuck a|their a|breasts.`,` b|Rep roughly b|force b|their b|dick into a|their a|mouth, allowing
        a|them to give the cock head a hot, wet suck before drawing back and
        continuing to aggressively fuck a|reps a|breasts.`,` While a|rep a|is busy gobbling down on the cockhead, b|rep forcefully b|${c}
          a|their a|breasts together, giving a much-needed stimulation on the length of the shaft.`];else if(l==setup.sexpace.forced){const m=setup.SexUtil.hesitatesBeforeForcingThemselfTo(s,e);g=[` b|Rep ${m} just enjoy the rare opportunity of being able to receive a blowjob.`,` b|Rep ${m} thrust tentatively forwards, hoping this pleases a|rep.`]}else l==setup.sexpace.resist?g=[setup.SexUtil.repResist(s,t,e,["try to pull b|their b|dick away from b|reps b|mouth","try to pull b|their hips back","try to pull away"],["a|they a|continue sucking on the cockhead","a|they a|carry on kissing on the cockhead","a|they a|carry on playing with the cockhead"])]:l==setup.sexpace.mindbroken&&(g=[setup.SexUtil.mindbrokenReactionDespite(s,e,["Despite the stimulation showered on b|their b|dick","Despite the wet tongue slathering b|their cockhead",`Despite the pleasurable sensation of a simultaneous ${p} and blowjob`])]);return d+=setup.rng.choice(g)+" ",d}},o(Zg,"PenisBreastsSubTitfuckIntoBreasts"),Zg);const dT=class dT extends St{getPenetrationTarget(){return setup.sexbodypart.mouth}};o(dT,"PenisMouthDomBase");let ei=dT;const gT=class gT extends Ni{getPenetrationTarget(){return setup.sexbodypart.mouth}};o(gT,"PenisMouthDomBaseResist");let dv=gT;const mT=class mT extends Hi{getPenetrationTarget(){return setup.sexbodypart.mouth}};o(mT,"PenisMouthSubBase");let ji=mT;const fT=class fT extends Bi{getPenetrationTarget(){return setup.sexbodypart.mouth}};o(fT,"PenisMouthSubBaseResist");let gv=fT;function WM(i,e,t,a){setup.SexText.postThought(e,t);let r="",s="",n="mouth",l="in b|their mouth",u="",h="swallow";a&&(r=setup.rng.choice(["fully","entirely"]),s=setup.rng.choice(["entire","full"]),n="throat",l="down b|their throat",h="deep-throat",u="deep");const p=setup.sexbodypart.penis.repSizeAdjective(i,t);let c="";if(a&&(c=`the entire ${p} length of`),i.isHasTrait("dick_titanic")){if(e.isHasTrait("training_oral_master"))return setup.rng.choice([`Despite the size of a|reps dick, a|they were able to slide it easily into b|reps masterful mouth, who employ many secret oral techniques to allow the ${p} member to ${r} invade b|their mouth.`,`Thanks to b|reps masterful oral skill, b|rep b|is able to swallow ${c} a|reps hard-on.`,`It should have been impossible for any normal whore to swallow a dick as big as a|reps, but b|rep is a masterful oral slut, and knows many secret techniques required to swallow
        ${c} a|reps shaft.`]);if(e.isHasTrait("training_oral_advanced"))return setup.rng.choice([`a|Reps ${p} dick is simply way too big, and it took a|them some effort to slide it ${r} inside b|reps experienced mouth.`,`Despite b|reps oral trainings, a|reps ${p} dick is simply too big and it requires both participants a lot of efforts to fit the massive thing ${r} inside b|them.`,`No amount of oral training could have prepared anyone, including b|rep and b|their extensive oral knowledge,
        to be able to fit the ${s} massive thing inside b|their mouth.`])}let g=setup.sexbodypart.mouth.repSizeModifier(e,t),m=[],f=setup.sexbodypart.penis.getAccomodatingValue(i,e,setup.sexbodypart.mouth,t);return f==0?m=[` b|they b|is able to easily swallow a|reps ${s} a|dick ${l}.`,` a|reps a|dick ${r} a|slide in effortlessly into the warm ${n}.`,` a|rep effortlessly a|shove in ${c} a|their a|dick into the warm ${n}.`,` a|rep can easily a|thrust ${c} a|their a|dick in and out of the warm ${n}.`]:f==1?m=[` a|rep a|is able to forcefully shove ${c} a|their a|dick down b|reps ${n}.`,` with some great efforts, b|rep b|is able to ${h} the entire length of a|reps a|dick.`,` after some struggling, a|rep a|manage to insert their entire a|dick past b|reps lips and into b|reps ${n}.`,` after some forceful thrusts, a|rep a|gasp as a|they a|feel ${c} a|their a|dick being swallowed by b|reps b|mouth.`]:m=[` a|rep a|have to forcefully and painfully a|shove a|their a|dick ${u} down b|reps insufficiently large mouth.`,` a|reps a|dick touches the walls of b|reps mouth as it is forcefully inserted ${u} inside b|their mouth.`,` b|rep struggle and beg all the while b|their ${n} is being forcefully penetrated by the way-to-large a|dick.`,` without any regard for b|reps pleas, a|rep forcefully a|thrust ${c} a|their a|dick ${l}.`],g+=setup.rng.choice(m),g}o(WM,"rawPenisMouthSizeDifference");function mv(i,e,t){const a=WM(i,e,t,!0);return setup.SexUtil.convert(a,{a:i,b:e},t)}o(mv,"penisMouthSizeDifferenceDeep");function ZO(i,e,t){const a=WM(i,e,t,!1);return setup.SexUtil.convert(a,{a:i,b:e},t)}o(ZO,"penisMouthSizeDifferenceRegular");function XO(i,e,t){t.getPace(i);const a=t.getPace(e);let r;return a==setup.sexpace.resist?r=[" Failing to pull b|their b|dick away from a|reps mouth, b|rep b|let out b|a_sob as b|they weakly b|try to struggle free."," b|A_sob bursts out from between b|reps lips as b|they weakly b|try to push a|rep away, squirming and protesting as a|rep a|continue to force b|their b|dick deep into a|their throat."," Sobbing in distress, b|rep b|try, in vain, to pull b|their b|dick away from a|reps mouth."]:a==setup.sexpace.normal||a==setup.sexpace.sub?r=[" b|Rep b|eagerly b|slide b|their b|dick deep into a|reps throat, letting out a soft, muffled moan as b|they b|receive b|their blowjob."," A muffled moan drifts out from b|reps mouth, before b|they b|start b|eagerly sliding b|their b|dick deep into a|reps throat."," Moaning in delight, b|rep b|eagerly b|slide b|their b|dick deep into a|reps throat."]:a==setup.sexpace.dom?r=[" b|Rep violently b|thrust b|their b|dick deep into a|reps throat, letting out a muffled moan as b|they b|receive b|their blowjob."," A muffled moan drifts out from b|reps mouth, before b|they b|start violently thrusting b|their b|dick deep into a|reps throat."," Moaning in delight, b|rep roughly b|slam b|their b|dick as deep as possible into a|reps throat."," Enjoying the submissive mouth on b|their b|dick, b|rep roughly b|shove b|their b|dick even deeper inside the willing b| mouth."," Enjoying the feeling of a|reps a|mouth servicing b|their b|dick, b|rep b|let out an approving moan while commanding a|rep to continue the oral service."]:a==setup.sexpace.mindbroken?r=[setup.SexUtil.mindbrokenReactionDespite(e,t,["Despite having a mouth choking deep in b|their b|dick","Even with all the attention showered on b|their b|dick"]),`As b|they b|is mindbroken, b|they b|do not respond to a|reps command.
       a|Rep a|have no choice but to grab b|them and a|give b|them a good hard throat fuck.`]:r=[" Unsure what b|they did to deserve a reward, b|rep tentatively b|thrust b|their b|dick deep into a|reps throat, letting out a muffled moan as b|they b|receive b|their blowjob."," A muffled moan bursts out from b|reps mouth, before b|they b|start thrusting b|their b|dick deep into a|reps throat, forgetting the facts about b|their current lot in life for the time being."," Moaning in unexpected delight, b|rep b|slide b|their b|dick deep into a|reps throat, knowing the opportunity would be rare."],setup.SexUtil.convert(r,{a:i,b:e},t)}o(XO,"blowjobReaction");function QM(i,e,t){t.getPace(i);const a=t.getPace(e);let r;return a==setup.sexpace.resist?r=[" Desperately trying, and failing, to pull back from a|reps a|dick, b|rep b|let out b|a_sob, tears streaming down b|their b|face as b|they weakly b|make muffled noises of protest."," A muffled sob escapes from b|reps mouth as b|they weakly b|try to pull back, tears streaming down b|their b|face as a|reps a|dick continues sliding back and forth past b|their lips."," Sobbing in distress, and with tears running down b|their b|face, b|rep weakly b|struggle against a|rep as b|they b|make muffled noises of protest."," With b|their b|mouth being forced to service a|reps member, b|rep b|let out a sob in between the forced blowjob."," As the smell of a|reps a|dick assaults b|reps nose, b|they b|let out a cry as the reality of what b|they b|is doing start to sink in."," As the a|dick continnue to slide inside and out from b|their throat, b|rep can b|feel b|their resistance breaking down little by little."]:a==setup.sexpace.normal||a==setup.sexpace.sub?(r=[" b|Rep b|eagerly b|wrap b|their lips around a|reps a|dick, letting out a very muffled moan as b|they b|eagerly b|bob b|their head up and down."," A very muffled moan drifts out from b|reps mouth, and, b|eagerly wrapping b|their lips around a|reps a|dick, b|they b|eagerly b|continue to give a|them head."," Moaning in delight, b|rep b|eagerly b|wrap b|their lips around a|reps a|dick, b|eagerly licking and sucking a|their a|dick as b|they b|continue making muffled moaning noises.",` b|Rep b|eagerly b|suck at the a|dick lodged inside b|their b|mouth, letting a|them know that b|they
      is enjoying and deriving pleasure from the submissive act.`],e.isHasTrait("training_oral_advanced")&&r.push(" a|They a|moan in pleasure as b|rep b|give an excellent head, caressing every part of the a|dick with b|their lips and b|their tongue.")):a==setup.sexpace.dom?r=[" b|Rep forcefully b|grip b|their lips down around a|reps a|dick, letting out a very muffled moan as b|they roughly b|bob b|their head up and down."," A very muffled moan drifts out from b|reps mouth, and, forcefully wrapping b|their lips around a|reps a|dick, b|they roughly b|continue to give a|them head."," Moaning in delight, b|rep roughly b|grip b|their lips down around a|reps a|dick, forcefully licking and sucking a|their a|dick as b|they b|continue making muffled moaning noises."," With a proesting yelp, b|rep b|decide to steel b|themself and b|start to angrily suck on a|reps a|dick that is currently stuck in b|reps b|mouth."," Flashing b|their b|teeth at a|them, b|rep b|warn a|them that b|they b|is still in control before b|they b|start aggresively sucking the a|dick lodged inside b|their b|mouth."]:a==setup.sexpace.mindbroken?r=[setup.SexUtil.mindbrokenReactionNoun(e,t,["the a|dick shoved down b|their throat","the a|dick lodged inside b|their b|mouth","a|reps a|dick filling b|their mouth full","the a|dick filling b|their a|mouth full"])]:r=[" b|Rep meekly b|wrap b|their lips around a|reps a|dick, before forcing b|themself to bob b|their head up and down."," A muffled sob drifts out from b|reps mouth, who b|have no choice but to wrap b|their lips around a|reps a|dick and b|continue to give a|them head.",` Without saying anything, b|rep b|wrap b|their lips around a|reps a|dick, licking and sucking a|their a|dick while trying to shut the disgust by thinking about ${setup.Text.Banter._getTopic()}.`," b|Rep wordlessly and almost mechanically b|suck at the a|dick, forcing b|their head deep and out while obviously struggly to suppress b|their disgust."],setup.SexUtil.convert(r,{a:i,b:e},t)}o(QM,"giveBlowjobReaction"),setup.SexActionClass.PenisMouthDom=(Xg=class extends ei{getTags(){return super.getTags().concat(["dom"])}desc(){return"Receive blowjob"}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_SMALLMEDIUM,arousal:setup.Sex.AROUSAL_SMALLMEDIUM,paces:[setup.sexpace.normal,setup.sexpace.sub,setup.sexpace.forced]},{energy:setup.Sex.ENERGY_MEDIUM,arousal:setup.Sex.AROUSAL_SMALL,discomfort:setup.Sex.DISCOMFORT_SMALL,paces:setup.SexPace.getAllPaces()}]}rawTitle(e){return"Receive blowjob"}rawDescription(e){return"Push your a|dick into b|reps face to encourage b|them to continue giving you a blowjob."}rawStory(e){const t=this.getActorUnit("a"),a=e.getPace(t),r=this.getActorUnit("b");e.getPace(r);let s="",n;return a==setup.sexpace.forced?n=["Unsure what to do to please a|their owners, a|rep a|decide to thrust a|their a|dick past b|reps lips, letting out a|a_moan as a|they a|pump a|their hips into b|their b|face.","a|Rep a|buck a|their hips into b|reps b|face in an attempt to please a|their owner, letting out a|a_moan as a|they a|fuck b|their throat.","Bucking a|their hips into b|reps b|face, a|rep a|let out a|a_moan as a|they a|continue receiving a|their blowjob, hoping that this is what a|their owner wanted to see."]:n=[`a|Rep a|eagerly a|slide a|their a|dick past b|reps lips, letting out a soft moan as a|they
         a|eagerly a|pump a|their hips into b|their b|face.`,`a|Rep a|eagerly a|push a|their hips into b|reps b|face, letting out a soft moan as a|they
         a|eagerly a|fuck b|their throat.`,`a|Eagerly bucking a|their hips into b|reps b|face,
         a|rep a|let out a soft moan as a|they a|continue receiving a|their blowjob.`,`a|Rep a|eagerly a|thrust a|their hips closer to b|reps b|face, while letting out a moan as a|they
         a|feel a|their a|dick touching the inner walls of b|reps b|mouth.`,`a|Eagerly, a|rep a|begin to press a|their a|dick further and further, inserting
         a|their a|dick deep and filling b|reps b|mouth cavity.`],s+=setup.rng.choice(n),s+=" ",s+=ZO(t,r,e),s+=" ",s+=QM(t,r,e),s}},o(Xg,"PenisMouthDom"),Xg),setup.SexActionClass.PenisMouthDomBallsFocus=(em=class extends ei{getTags(){return super.getTags().concat(["normal"])}desc(){return"Focus balls"}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_balls")])}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_MEDIUM,arousal:setup.Sex.AROUSAL_MEDIUMLARGE,paces:[setup.sexpace.dom,setup.sexpace.normal],restrictions:[setup.qres.Trait("balls_tiny")]},{energy:setup.Sex.ENERGY_MEDIUMLARGE,arousal:setup.Sex.AROUSAL_TINY,discomfort:setup.Sex.DISCOMFORT_MEDIUM,paces:setup.SexPace.getAllPaces()}]}rawTitle(e){return"Focus balls"}rawDescription(e){return"Force b|rep to give a|their a|balls some needed attention."}rawStory(e){const t=this.getActorUnit("a"),a=e.getPace(t),r=this.getActorUnit("b"),s=e.getPace(r);let n="";n+=setup.rng.choice(["Drawing a|their hips back, a|rep a|allow a|their a|dick to slide out of b|reps mouth,","a|Eagerly sliding a|their a|dick out of b|reps mouth,","a|Rep a|slide a|their a|dick out of b|reps mouth,","Quickly sliding a|their a|dick out of b|reps mouth,","a|Eagerly withdrawing a|their a|dick from within b|reps mouth,"]),n+=" ";let l;a==setup.sexpace.dom?l=[" before shuffling about until a|their a|balls are roughly grinding against b|their lips."," a|rep a|reposition a|themself so that a|their a|balls are roughly grinding against b|their lips."," before repositioning a|themself so that b|their lips are roughly grinding against a|their a|balls."," a|rep a|reposition a|themself until a|they a|is roughly forcing a|their a|balls against b|reps lips."," a|rep a|slap b|reps b|face with a|their a|balls and a|keep them positioned right next to b|their lips.`"]:l=[" before shuffling about until a|their a|balls are pressing down against b|their lips."," a|rep a|reposition a|themself so that a|their a|balls are pressing against b|their lips."," before repositioning a|themself so that b|their lips are pressed against a|their a|balls."," a|rep a|reposition a|themself until a|they a|is forcing a|their a|balls against b|reps lips."],n+=setup.rng.choice(l),n+=setup.SexUtil.traitSelectArray(t,{balls_titanic:["The titanic pair of balls fully cover b|reps entire b|face, and almost blocked b|them from breathing.","The gigantic pair of balls entirely cover b|reps b|face.","b|Reps face is squished under the gigantic pair of balls."],balls_huge:["The huge pair of balls rest on b|reps cheeks, one ball on each cheek.","The huge pair of balls obscures b|reps entire b|face.","The huge pair of balls weighes down heavily on b|reps b|face."],default:[""]});let u;if(s==setup.sexpace.normal||s==setup.sexpace.sub)u=[" b|Eagerly darting b|their tongue out, b|rep b|eagerly b|start to lick and kiss a|reps a|balls, causing a|a_moan to drift out from between a|their lips."," b|Rep b|eagerly b|start to kiss and lick a|reps a|balls, drawing a|a_moan from out of a|their mouth."," b|Rep b|eagerly a|stick b|their tongue out, slathering the a|balls in front of b|them with attention from b|their tongue."];else if(s==setup.sexpace.dom)u=[" Sliding b|their tongue out, b|rep b|start to roughly lick and kiss a|reps a|balls, causing a|a_moan to drift out from between a|their lips."," b|Rep roughly b|start kissing and licking a|reps a|balls, drawing a|a_moan from out of a|their mouth."," With a protesting growl, b|rep b|give the a|balls a tentative lick before softly chomping on it, drawing a pained moan from a|rep."];else if(s==setup.sexpace.forced){const h=setup.SexUtil.hesitatesBeforeForcingThemselfTo(r,e);u=[` b|They ${h} stick b|their tongue out and b|start to lick and kiss a|reps a|balls, causing a|a_moan to drift out from between a|their lips.`," Fearing punishment, b|rep b|start to kiss and lick a|reps a|balls, drawing a|a_moan from out of a|their mouth.",` Seeing no other way out, b|rep ${h} stick b|their tongue out and lick the a|balls.`]}else s==setup.sexpace.resist?u=[setup.SexUtil.repResist(r,t,e,["try to pull away","push the balls away from b|their face","avoid smelling the balls","pull away from a|reps a|balls"],["a|they a|continue grinding a|their balls against b|their b|lips","a|they a|carry on pressing a|their balls against b|their face","a|they a|continue pressiing down a|their balls against b|their face"])]:s==setup.sexpace.mindbroken&&(u=[setup.SexUtil.mindbrokenReactionNoun(r,e,["the a|balls hanging before b|their b|eyes","the dangling a|balls in front of b|their face","the a|balls pressing against b|their face"])]);return n+=setup.rng.choice(u),n+=setup.rng.choice([" Once finished, a|rep a|push a|their a|dick back into b|reps b|mouth."," After a while, a|rep a|resume thrusting a|their a|dick back into b|reps b|mouth."," Satisfied, a|rep a|slide a|their a|dick back into b|reps b|mouth."," After getting a|their a|balls worshipped, a|rep a|resume thrusting a|their a|dick down b|reps b|mouth."]),n}},o(em,"PenisMouthDomBallsFocus"),em),setup.SexActionClass.PenisMouthDomCockSlap=(tm=class extends ei{getTags(){return super.getTags().concat(["dom","discomfort"])}desc(){return"Cock slap"}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_MEDIUM,arousal:setup.Sex.AROUSAL_MEDIUMLARGE,paces:[setup.sexpace.dom],restrictions:[setup.qres.IsCanPhysicallyCum(),setup.qres.SexCanUseBodypart(setup.sexbodypart.arms),setup.qres.SexPaceIn([setup.sexpace.dom,setup.sexpace.normal])]},{energy:setup.Sex.ENERGY_MEDIUMLARGE,arousal:setup.Sex.AROUSAL_SMALL,discomfort:setup.Sex.DISCOMFORT_MEDIUMLARGE,paces:setup.SexPace.getAllPaces()}]}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_cockaction")])}rawTitle(e){return"Cock slap"}rawDescription(e){return"Pull your a|dick out of b|their mouth and slap b|their b|face with it."}rawStory(e){const t=this.getActorUnit("a"),a=setup.SexText.preThought(t,e);let r=setup.SexUtil.traitSelectArray(t,{dick_tiny:["The a|dick leaves very little impression on b|rep.","The hard-on was so humiliatingly tiny that the slap barely had any effect.","The humiliatingly tiny cock was almost not short to actually graze b|reps b|face."],dick_small:["a|Rep had to close in the distance in order to slap a|their small dick on b|reps b|face.","The dick was a bit small though, and the slap did not carry any impact with it.","The tastefully-sized dick did not leave much impact."],dick_medium:["The moderately-sized cock produced a good loud whack.","The average-sized cock splattered some more precum as it whacked b|reps b|face.","b|Rep slightly grimaced in pain from the whack."],dick_large:["The large cock produced a good impactful whack.","The cock is long enough to fully whack b|rep from one cheek to another.","b|Rep grimaced in pain from the impactful whack."],dick_huge:["The massive erection splattered precum as it whacked b|reps b|face thorougly from side to side.","The massive hard-on produced a deliciously loud whacking sound.","The massive shaft resulted in a powerful slap, leaving the slave grimacing in pain."],dick_titanic:["The absolutely monstrous dick whacked b|rep so thoroughly, almost knocking the consciousness out of b|rep.","Being whacked by such a monstrously-sized dick left b|rep reeling in pain.","At one point, the monstrously-sized dick almost covered b|reps entire b|face."]});return t.isHasTrait("dick_large")&&(r+=" "+setup.SexText.abuseImpression(t,this.getActorUnit("b"),e)),[`Pulling a|their hips
      back, a|rep a|adv a|slide a|their a|dick out of b|reps mouth.
      Before b|they can react,
      a|they quickly a|slap a|their hard shaft against b|their cheek,
      splattering saliva and precum
      across b|their b|face. ${r} Before b|rep can collect b|themself,
      a|rep a|resume thrusting a|their
      a|dick down b|their throat.`,`Pulling back, a|rep a|adv a|slide a|their a|dick free from b|reps
      mouth,  and with a|a_moan, a|they a|proceed to slap the
      saliva-coated cock head against b|their b|face. ${r}
      ${a}, a|rep a|slide a|their throbbing length back down b|their throat.`,`a|Rep a|adv a|slide a|their a|dick out from b|reps mouth, and,
      grinning to a|themself, a|they then a|slap a|their hard shaft
      against b|their b|face. ${r} With a streak of
      precum and saliva now drooling
      down b|their cheek, b|rep b|open b|their b|eyes wide in
      surprise as a|rep a|force a|their a|dick back down b|their
      throat.`,`Quickly pulling a|their hips back, a|rep a|draw a|their
      a|dick out from b|reps mouth, before starting to slap a|their
      slimy length against b|their cheeks. 
      ${r}
      Before b|rep can react, a|rep suddenly a|push a|their hips
      forwards, ramming a|their a|dick down b|their throat.`]}},o(tm,"PenisMouthDomCockSlap"),tm),setup.SexActionClass.PenisMouthDomEarsPull=(am=class extends ei{getTags(){return super.getTags().concat(["dom","discomfort"])}desc(){return"Pull ears/horns and receive deep-throating"}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_MEDIUM,arousal:setup.Sex.AROUSAL_MEDIUMLARGE,paces:[setup.sexpace.dom,setup.sexpace.normal],restrictions:[setup.qres.SexCanUseBodypart(setup.sexbodypart.arms)]},{energy:setup.Sex.ENERGY_HIGH,arousal:setup.Sex.AROUSAL_MEDIUM,discomfort:setup.Sex.DISCOMFORT_MEDIUMLARGE,paces:setup.SexPace.getAllPaces(),restrictions:[setup.qres.AnyTrait([setup.trait.ears_werewolf,setup.trait.ears_neko,setup.trait.ears_demon],!0)]}]}getEars(){return this.getActorUnit("b").getTraitWithTag("ears")}isHorns(){return this.getEars().getTags().includes("horns")}repEars(){return this.isHorns()?"b|horns":"b|ears"}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_earsblowjob")])}rawTitle(e){return`Pull ${this.isHorns()?"horns":"ears"}`}rawDescription(e){return`Grab b|reps ${this.repEars()} and pull b|their b|mouth all the way onto the base of your a|dick.`}rawStory(e){const t=this.getActorUnit("a"),a=e.getPace(t),r=this.getActorUnit("b"),s=e.getPace(r);let n="";const l=this.repEars();let u;const h=`${t.isHasTrait("dick_werewolf")?"a|their knot":"the base of a|their dick"}`;a==setup.sexpace.dom?u=[`Roughly grasping b|reps ${l}, a|rep violently a|jerk b|their head forwards,
         forcing b|them to swallow a|their a|dick all the way down to the base.`,`Reaching down to grab b|reps ${l}, a|rep mercilessly a|yank b|their head into a|their groin,
         letting out a|a_moan as a|they a|force b|them to deepthroat a|their a|dick.`,`With a|a_moan, a|rep a|reach down to grab b|reps ${l}, before violently yanking b|them forwards,  hilting a|their a|dick down b|their throat so that b|their lips are pressed up against ${h}.`,`With a sadistic grin, a|rep a|eagerly a|grab b|reps ${l}, before using them as handles to
         force a|their a|dick all the way down b|their throat -- b|their lips now pressed against ${h}.`,`Seeing the conveniently located natural handles, a|rep a|smile an evil grin before a|eagerly
         taking hold of b|reps ${l} and use the natural handlebars to a|thrust a|their a|dick all the way
         inside b|reps throat.`]:u=[`Taking hold of b|reps ${l}, a|rep a|eagerly a|pull b|their head forwards, forcing b|them to swallow a|their a|dick all the way down to the base.`,`Reaching down to take a grip on each of b|reps ${l}, a|rep a|eagerly a|pull b|them into b|their groin, letting out a|a_moan as a|they a|force b|them to deepthroat a|their a|dick.`,`With a|a_moan, a|rep a|reach down to take hold of b|reps ${l}, before a|eagerly pulling b|them forwards, hilting a|their a|dick down b|their throat so that b|their lips are pressed up against ${h}.`,`Using b|reps ${l} as handles, a|rep a|eagerly thrust a|their a|dick forward and forward until
         b|reps lips are pressing against ${h}.`],n+=setup.rng.choice(u),n+=" ",n+=mv(t,r,e)+" ";let p=[];return s==setup.sexpace.normal||s==setup.sexpace.sub?(p=[" With tears welling up in b|their b|eyes, b|rep b|spend a moment b|eagerly caressing the underside of a|reps a|dick with b|their tongue, before finally being able to gasp for air as a|they momentarily a|withdraw a|their a|dick from b|their throat."," b|Eagerly humming and moaning in delight, b|rep b|use b|their tongue to b|eagerly caress the underside of a|reps a|dick, obediently holding b|their breath until a|their a|dick is eventually pulled free from b|their throat."],r.isHasTrait("training_oral_advanced")?p.push("As an experienced oral slut, b|rep b|have no problem at all swallowing the entire length of a|reps a|dick, comfortably sliding it up and down b|their throat."):r.isSlave()&&p.push("Despite the eagerness, the slave inexperience in oral sex draws chokes and uncomfortable moans from the b|race."),r.isSlaver()&&p.push("The rough treatment causes the slaver to b|eagerly moan in slight embarrassment, muffled by the a|dick still lodged inside b|their throat.")):s==setup.sexpace.dom?p=[" Narrowing b|their b|eyes, b|rep b|put up with a|reps daring move for just a moment, before jerking b|their head back and pointedly reminding a|them who's in charge.",` The rumbling vibrations of b|reps threatening growls, while serving to provide some extra pleasure,
         nonetheless intimidate a|rep into quickly letting go of b|their hair and sliding a|their a|dick free from b|their throat.`," In response to the rough treatment, b|rep bare b|their b|teeth at a|rep, intimidating a|them into sliding a|their a|dick out of b|their throat."]:s==setup.sexpace.resist||s==setup.sexpace.forced?p=[" Scrunching b|their b|eyes shut, b|rep b|beat against their tormentor's thighs in a futile gesture of resistance, before finally being able to cry and gasp for air as a|rep momentarily a|withdraw a|their a|dick from b|their throat, which does not last long.",` The vibrations of b|reps muffled cries and sobs only serve to give ${t.isYou()?"you":"their tormentor"} some extra pleasure, but, after spending several seconds punching and pushing against a|reps thighs, b|they finally b|achieve a small victory as b|their ${l} are released and a|reps a|dick is momentarily slid free from b|their throat, which does not last long.`,` b|Reps cries for mercy fall on deaf ears as a|rep tightens a|their grip of b|their ${l},
          deriving much pleasure from the sensation of b|rep gagging, choking, and struggling through
          the a|dick lodged securely down in b|their b|throat.`]:s==setup.sexpace.mindbroken&&(p=[" b|Reps b|eyes remain unfocused throughout the relentless facefuck, b|their mind already completely gone."," b|Rep occasionally jerked in pain from the forced deepthroat, although it is merely an automatic response from the mindbroken sex toy.",` The forced deepthroat draws no response from the mindbroken sex toy, other than occassional struggle
          for air as b|their body responds automatically to the foreign intrusion of their throat.`]),n+=setup.rng.choice(p),n}},o(am,"PenisMouthDomEarsPull"),am),setup.SexActionClass.PenisMouthDomResist=(im=class extends dv{getTags(){return super.getTags().concat(["normal"])}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_SMALLMEDIUM,arousal:-setup.Sex.AROUSAL_SMALLMEDIUM,discomfort:-setup.Sex.DISCOMFORT_SMALL,paces:[setup.sexpace.resist],restrictions:[setup.qres.SexPaceIn([setup.sexpace.resist])]},{energy:setup.Sex.ENERGY_MEDIUM,arousal:setup.Sex.AROUSAL_SMALL,paces:setup.SexPace.getAllPaces()}]}rawTitle(e){return"Resist blowjob"}rawDescription(e){return"Try to pull away from b|reps b|dick."}rawStory(e){const t=this.getActorUnit("a");e.getPace(t),e.getPose(t);const a=this.getActorUnit("b"),r=e.getPace(a);let s;return r==setup.sexpace.dom?s=["Letting out a|a_sob, a|rep frantically a|try to pull a|their lips away from b|reps face, but a|their efforts prove to be in vain as b|they roughly b|hold a|them in place, growling in a threatening manner as b|they forcefully b|slide b|their lips up and down the length of a|their a|dick.","Tears start to well up in a|reps a|eyes, and with a|a_sob, a|they a|try to pull a|their a|dick out of b|reps mouth. b|Their grip proves to be far too strong, however, and b|rep b|let out a threatening growl as b|rep b|continue to suck a|their a|dick.","Sobbing, a|rep a|try to pull a|their a|dick out of b|reps mouth, but b|their grip is too strong for a|them, and a|their struggles prove to be in vain as b|rep b|continue giving a|them a rough, forceful blowjob."]:s=["Letting out a|a_sob, a|rep frantically a|try to pull a|their hips away from b|reps face, but a|their efforts prove to be in vain as b|they b|eagerly, but firmly, b|hold a|them in place, b|eagerly sliding b|their lips up and down the length of a|their a|dick as b|they b|continue giving a|them an unwanted blowjob.","Tears start to well up in a|reps a|eyes, and with a|a_sob, a|they a|try to pull a|their a|dick out of b|reps mouth. b|Their grip proves to be too strong, however, and b|rep b|eagerly, but firmly, a|continue to suck a|their a|dick as a|they weakly struggles against b|them.",`Sobbing, a|rep a|try to pull a|their a|dick out of b|reps mouth, but b|their grip is too strong for a|them, and a|their struggles prove to be in vain as b|rep b|continue giving a|them a ${r==setup.sexpace.normal?"slow, gentle":"frantic and enthusiastic"} blowjob.`],s}},o(im,"PenisMouthDomResist"),im),setup.SexActionClass.PenisMouthDomRough=(rm=class extends ei{getTags(){return super.getTags().concat(["dom","discomfort"])}desc(){return"Face-fuck"}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_MEDIUMLARGE,arousal:setup.Sex.AROUSAL_MEDIUMLARGE,paces:[setup.sexpace.dom]},{energy:setup.Sex.ENERGY_MEDIUMLARGE,arousal:setup.Sex.AROUSAL_SMALL,discomfort:setup.Sex.DISCOMFORT_MEDIUMLARGE,paces:setup.SexPace.getAllPaces()}]}rawTitle(e){return"Face-fuck"}rawDescription(e){return"Roughly thrust your a|dick down b|reps throat and give b|them a good face-fucking."}rawStory(e){const t=this.getActorUnit("a");e.getPace(t);const a=e.getPose(t),r=e.getPosition(t),s=this.getActorUnit("b");e.getPace(s);let n="",l;return a.getFacingHeight(setup.sexbodypart.penis,r,e).facing.isUpDown()?(l=["a|Rep a|spread a|their knees out on either side of b|reps head, and before b|they b|know what's happening, a|rep a|is roughly slamming a|their a|dick in and out of b|their facial fuck-hole.","Letting out a|a_moan, a|rep a|slam a|their a|dick all the way down b|reps throat. As b|they b|blink back tears, a|rep a|start rapidly slamming a|their hips up and down, letting out more a|moans as a|they ruthlessly fucks b|their b|face.","Dropping down onto b|reps face, a|rep roughly slams a|their a|dick deep down b|their throat, letting out a|a_moan before starting to violently slam a|their hips up and down as a|they ruthlessly fucks b|their face.",`With a forceful thrust, a|rep a|hilt a|their a|dick deep down b|reps throat. As a slimy stream of
         ${t.isHasDick()?"cummy":""}
         saliva drools from the corners of b|their mouth, a|rep lifts a|themself up, letting b|rep gasp for air for a brief moment before sinking down once more and starting to aggressively fuck b|their face.`],t.isHasTrait("dick_demon")?l.push("Spreading a|their knees out on either side of b|reps head, a|rep violently a|thrust downwards, burying a|their a|dick deep down b|reps throat. Grinding the base against b|their lips for moment, a|they then a|proceed to start roughly fucking b|their face, causing b|rep to let out a muffled moan as b|they b|struggle to breathe, and, squirming about beneath a|rep, b|they b|feel b|their throat being raked by the series of barbs that line the sides of a|their a|dick."):t.isHasTrait("dick_werewolf")&&l.push("Spreading a|their knees out on either side of b|reps head, a|rep violently a|thrust downwards, burying a|their a|dick deep down b|reps throat. Grinding the base against b|their lips for moment, a|they then a|proceed to start roughly fucking b|their face, causing b|rep to let out a muffled moan as b|they b|struggle to breathe, and, squirming about beneath a|rep, b|they b|feel b|their lips being repeatedly battered by the fat knot at the base of a|their a|dick.")):(l=["a|Rep a|grab the sides of b|reps head, and before b|they b|know what's happening, a|rep a|is roughly slamming a|their a|dick in and out of b|their facial fuck-hole.","Letting out a|a_moan, a|rep a|slam a|their a|dick all the way down b|reps throat. As b|they b|blink back tears, a|rep a|start rapidly bucking a|their hips back and forth, holding b|reps head in place with both a|hands as a|they ruthlessly fucks b|their b|face.","Grabbing the sides of b|reps head, a|rep roughly b|pull b|their face into a|their groin, sinking a|their a|dick deep down b|their throat before starting to ruthlessly fuck b|their b|face.",`With a forceful thrust, a|rep a|hilt a|their a|dick deep down b|reps throat. As a slimy stream of saliva
        ${t.isHasDick()?"and precum":""} drools from the corners of b|their mouth, a|rep bucks back, letting b|rep gasp for air for a brief moment before starting to aggressively fuck b|their b|face.`,"a|Rep roughly a|slam a|their a|dick past b|reps lips, letting out a|a_moan as a|they violently a|thrust a|their hips into b|their b|face.","a|Rep violently a|slam a|their hips into b|reps b|face, letting out a|a_moan as a|they roughly a|fuck b|their throat.","Aggressively bucking a|their hips into b|reps b|face, a|rep a|let out a|a_moan as a|they a|continue roughly fucking b|their face."],t.isHasTrait("dick_demon")?l.push("With a sudden, violent thrust forwards, a|rep a|bury a|their a|dick deep down b|reps throat. Holding b|their head in place with both a|hands, a|they then a|proceed to start roughly fucking b|their b|face, causing tears to start streaming from b|their b|eyes as the barbs lining a|reps demonic shaft repeatedly rake up the sides of b|their throat."):t.isHasTrait("dick_werewolf")&&l.push("With a sudden, violent thrust forwards, a|rep a|bury a|their a|dick deep down b|reps throat. Holding b|their head in place with both a|hands, a|they then proceeds to start roughly fucking b|their b|face, causing tears to start streaming from b|their b|eyes as a|reps a|slam a|their knot repeatedly against b|their lips.")),n+=setup.rng.choice(l),n+=" ",n+=mv(t,s,e),n+=" ",n+=QM(t,s,e),n}},o(rm,"PenisMouthDomRough"),rm);function ZM(i,e,t){const a=t.getPace(i),r=t.getPose(i),s=t.getPosition(i);t.getPace(e);let n="",l;r.getFacingHeight(setup.sexbodypart.penis,s,t).facing.isUpDown()?l=["Using a|their knees to lift a|themself up, a|rep a|allow a|their a|dick to slide up and out of b|reps mouth. A slimy strand of saliva links b|reps lips to the cock head of a|their a|dick for a brief moment, before breaking to fall down over b|their face."]:a==setup.sexpace.dom?l=["Roughly slamming a|their a|dick deep down b|reps throat one last time, a|rep then b|pull a|their hips back, grinning as b|rep b|splutter and b|gasp for air.","Slamming a|their hips into b|reps b|face, a|rep forces a|their a|dick deep down b|their throat, before pulling completely back and out of b|their mouth.",`Slamming and pressing a|their groin to b|reps b|face, a|rep a|receive one last throat fuck from b|rep before
        pulling out completely from the now-gaping mouth.`]:l=["a|Eagerly sliding a|their a|dick out of b|reps mouth, a|rep a|let out a|a_moan as a|they puts an end to the blowjob.","With a|a_moan, a|rep a|pull a|their hips back, a|eagerly sliding a|their a|dick fully out of b|reps mouth."],n+=setup.rng.choice(l);const u=setup.SexUtil.afterPenetrationReactionDom(i,e,["a|rep a|withdraw from b|their mouth","b|their b|mouth is finally freed","a|rep a|unclog their a|dick from b|their mouth","a|their a|dick is unlodged from b|their throat"],["continue sucking on a|their a|dick","continue sucking a|reps a|dick","have the dick lodged back in b|their mouth","taste more of a|reps a|dick",'choke more on a|resp a"dick'],t);return n+=" "+u,setup.SexUtil.convert(n,{a:i,b:e},t)}o(ZM,"getPenisMouthEndText"),setup.SexActionClass.PenisMouthEnd=(sm=class extends Gi{getTags(){return super.getTags().concat(["normal"])}getPenetrationTarget(){return setup.sexbodypart.mouth}rawTitle(e){return"Stop receiving blowjob"}rawDescription(e){return"Pull your a|dick out of b|reps mouth and stop receiving a blowjob from b|them."}rawStory(e){const t=this.getActorUnit("a"),a=this.getActorUnit("b");return ZM(t,a,e)}},o(sm,"PenisMouthEnd"),sm),setup.SexActionClass.PenisMouthEndOther=(nm=class extends qi{getTags(){return super.getTags().concat(["dom"])}getPenetrationTarget(){return setup.sexbodypart.mouth}rawTitle(e){return"Stop blowjob"}rawDescription(e){return"Take b|reps b|dick out of your mouth and stop giving b|them a blowjob."}rawStory(e){const t=this.getActorUnit("a"),a=this.getActorUnit("b");return ZM(a,t,e)}},o(nm,"PenisMouthEndOther"),nm);const bT=class bT extends Ci{getPenetrationTarget(){return setup.sexbodypart.mouth}};o(bT,"PenisMouthOrgasmBase");let fv=bT;setup.SexActionClass.PenisMouthOrgasmInside=(om=class extends fv{getTags(){return super.getTags().concat(["normal"])}desc(){return"Cum inside mouth"}rawTitle(e){return"Cum down b|reps throat"}describeOrgasm(e){const t=this.getActorUnit("a");this.getActorUnit("b");let a="",r,s="",n="in b|their mouth",l="";return e.getPace(t)==setup.sexpace.dom&&(s=setup.rng.choice(["fully","entirely"]),setup.rng.choice(["entire","full"]),n="down b|reps throat",l="deep"),t.isHasTrait("dick_werewolf")?r=[` a|Rep a|push ${s} forwards, ramming the knot at the base of a|their a|dick against b|reps lips. It's already started to swell up so much that a|they a|don't manage to get it into b|reps b|mouth on the first thrust, but, after pulling back and slamming a|their hips forwards, a|they a|succeed in pushing the thick knot past b|their lips.
        The moment a|they a|feel it pop inside, a|rep a|let out a|a_moan, and as a|they a|press a|their groin firmly against b|reps b|face, a|their knot fully expands and locks a|their a|dick ${n}.`,` As a|rep a|feel a|their knot swelling, a|they a|ram ${s} forwards, trying to fit the entire swelled-up thing inside b|reps b|mouth. It took several deliberate thrusts, but in one fell thrust, a|they a|succeed in pushing the swollen knot past b|their lips and into b|their b|mouth.
        a|They a|press a|their groin firmly against b|reps b|face as a|they a|feel a|their knot pops inside of b|rep, fulling expanding and locking the member ${n}.`]:r=[` Ramming a|their a|dick ${l} ${n},
          a|rep a|let out a|a_moan as a|they a|feel it starts to twitch inside of b|them.`,` As a|rep a|feel a|their a|dick starting to twitch, a|they a|pick up the pace and slam a|their a|dick ${n}.`],a+=setup.rng.choice(r)+" ",r=[],t.isHasTrait("dick_demon")?r=["a|They a|continue to make small, thrusting movements, raking a|their barbs back against the lining of b|their throat and causing b|them to let out a choking moan.","a|They a|keep making small, deliberate thrusting movements, all while making sure that a|their barbs touch and graze the inner walls of b|their b|throat, eliciting a choked moan."]:t.isHasTrait("dick_dragonkin")&&(t.isYou()?r=[" You feel your ribbed a|dick bumping against the lining of b|their throat, which causes b|them to let out a muffled moan."]:r=[" The ribbed length of a|reps a|dick bumps against the lining of b|reps throat, which causes b|them to let out a muffled moan."],r.push(`a|Rep can a|feel the ridges of a|their a|dick bumping and hitting the inner walls of b|their b|mouth, eliciting
        a muffled moan from b|them.`)),r.length&&(a+=setup.rng.choice(r)+" "),a+=" ",r=[],t.isHasTrait("dick_werewolf")&&(r=[` Keeping a|their hips pushed tightly against b|reps b|face, a|rep lets out a|a_moan as
        a|their knot swells up to its full size. a|They then a|buck back a little, and b|they let out a very
        muffled cry as b|they b|is pulled along with a|them; evidence that a|their a|dick is now firmly locked
        inside b|their b|mouth.`,` a|Rep a|let out a moan as a|they a|start to feel their knot growing to full size. Before long,
        b|Rep b|let out a very muffled cry as b|they b|is stuck, and is pulled around whenever a|rep a|move;
        proof that a|reps a|dick is now fully locked inside b|their b|mouth.`]),r.length&&(a+=setup.rng.choice(r)+" "),a}cumTargetDescription(e){const t=this.getActorUnit("a"),a=this.getActorUnit("b");let r="",s;if(s=[` deep down b|their throat, and b|they b|find b|themself making muffled whining noises as b|they
        b|feel the cum sliding down into b|their stomach.`,` into b|their tongue before entering b|their stomach, eliciting muffled whining noises as b|they
        a|get a taste of a|reps still warm cum.`],r+=setup.rng.choice(s)+" ",r+=setup.rng.choice([" The salty taste of cum rises up to hit b|their tongue, and b|they "," As b|they b|feel the salty taste of cum hitting b|their tastebuds, b|they "]),a.getMainTraining().getTags().includes("troral")?(r+=setup.rng.choice(["greedily","hungrily"]),r+=" "):a.isObedient()?r+=setup.rng.choice(["obediently","submissively"]):r+=setup.rng.choice(["b|is left with no other option but to","b|is offered no choice but to"]),r+=setup.rng.choice([" gulp down as much of the cum as b|they possibly can."," drink down the cum as much as b|they possibly can."]),r+=" ",t.isHasTrait("balls_titanic")){const n=Hk(t,a,e);r+=setup.rng.choice([` ${n}, b|rep b|realise that a|rep a|is not even close to stopping, and as
        a|their cum backs up and starts drooling out of the corners of b|their mouth,
        b|they b|let out a desperate, muffled moan. a|Rep a|keep a|their a|dick hilted deep
        down b|their throat, moaning as a|they a|wait for a|their a|balls to run dry.`,` ${n}, and as the plentiful cum starts to back up from b|their throat
        into b|their mouth, b|they b|let out a frantic, muffled moan. Ignoring the pleas,
        a|Rep a|maintain a|their a|dick deep down b|their throat, moaning as |they can feel it steadily
        gushing down cum and filling b|reps stomach with a|their seed, until it eventually runs dry.`]),r+=" "}return r}},o(om,"PenisMouthOrgasmInside"),om),setup.SexActionClass.PenisMouthStart=(lm=class extends zi{getTags(){return super.getTags().concat(["dom"])}desc(){return"Begin receiving blowjob"}getPenetrationTarget(){return setup.sexbodypart.mouth}rawTitle(e){return"Begin receiving blowjob"}rawDescription(e){return"Slide your a|dick into b|reps mouth and get b|them to give you a blowjob."}rawStory(e){const t=this.getActorUnit("a"),a=e.getPace(t),r=e.getPose(t),s=e.getPosition(t),n=this.getActorUnit("b"),l=e.getPace(n);let u="",h;return r.getFacingHeight(setup.sexbodypart.penis,s,e).facing.isUpDown()?a==setup.sexpace.dom?h=["Shuffling back a little, a|rep roughly a|grind a|their a|dick down against b|reps mouth, before forcefully pushing the cock head past b|their lips and collapsing down onto b|their b|face.","Roughly grinding a|their a|dick down against b|reps mouth, a|rep a|allow a|their a|legs to give out from under a|them as a|they forces the cock head past b|their lips.",`a|Rep a|push a|their a|dick down b|reps throat, tentatively measuring how far a|they can give
           b|them a good hard throat fuck.`]:h=[`Shuffling back a little, a|rep a|eagerly a|lower a|their a|dick down to b|reps mouth,
           before a|eagerly pushing the cock head past b|their lips and collapsing down onto b|their b|face.`,"a|Eagerly lowering a|their a|dick down to b|reps mouth, a|rep a|eagerly a|allow a|their a|legs to give out from under a|them as a|they forces the cock head past b|their lips."]:a==setup.sexpace.dom?h=["Reaching down to grab b|reps head, a|rep a|line the cock head of a|their a|dick up to b|their lips, before roughly slamming a|their hips forwards and forcing a|their a|dick into b|their mouth.","Reaching down to take hold of b|reps head, a|rep a|push the cock head of a|their a|dick against b|reps lips, before roughly slamming a|their hips into b|their b|face and forcing a|their a|dick into b|their mouth."]:h=["Reaching down to grab b|reps head, a|rep a|line the cock head of a|their a|dick up to b|their lips, before a|eagerly pushing a|their hips forwards and sliding a|their a|dick into b|their mouth.","Reaching down to take hold of b|reps head, a|rep a|push the cock head of a|their a|dick against b|reps lips, before a|eagerly bucking a|their hips into b|their b|face and a|eagerly sliding a|their a|dick into b|their mouth."],u+=setup.rng.choice(h),l==setup.sexpace.normal||l==setup.sexpace.sub?h=[" b|Rep b|let out a muffled moan, b|eagerly sliding b|their head forwards as b|they b|start b|eagerly sucking a|reps a|dick."," With a soft, muffled moan, b|rep b|start b|eagerly sliding b|their head forwards, wrapping b|their lips around a|reps a|dick as b|they b|start giving a|them a blowjob."," Getting in position, b|rep b|eagerly takes a|rep into b|their b|mouth and start giving b|their partner a loving blowjob."]:l==setup.sexpace.dom?h=[" b|Rep b|let out b|a_moan, roughly slamming b|their head forwards as b|they b|start forcing a|reps a|dick deep down b|their throat."," With an eager, and very muffled moan, b|rep forcefully b|push b|their head forwards, wrapping b|their lips around a|reps a|dick as b|they b|start giving a|them a rough blowjob."]:l==setup.sexpace.forced?h=[` b|Rep b|let out b|a_moan and ${setup.SexUtil.hesitatesBeforeForcingThemselfTo(n,e)} slide b|their head a little forwards as b|they
      b|struggle to suck on a|reps a|dick.`,` With a muffled moan, b|rep uncomfortably b|start sliding b|their head a little forwards,
      wrapping b|their lips around a|reps a|dick as b|they b|start giving a|them a blowjob trying b|their best not to think too much about it.`]:l==setup.sexpace.resist?h=[" b|Rep b|let out a muffled sob, gargling and choking on a|reps a|dick as b|they frantically b|try to pull b|their head away from a|their groin."," With a muffled sob, b|rep frantically b|try to pull away from a|reps a|dick, gargling and choking as b|they b|squirm and b|struggle against a|them."]:l==setup.sexpace.mindbroken&&(h=[setup.SexUtil.mindbrokenReactionNoun(n,e,["the intruder shoved down b|their b|mouth","the member shoved down b|their b|mouth"])]),u+=" ",u+=setup.rng.choice(h),u}},o(lm,"PenisMouthStart"),lm),setup.SexActionClass.PenisMouthStartOther=(um=class extends Fi{getTags(){return super.getTags().concat(["sub"])}desc(){return"Begin performing blowjob"}getPenetrationTarget(){return setup.sexbodypart.mouth}rawTitle(e){return"Perform blowjob"}rawDescription(e){return"Take b|reps b|dick into your mouth and start giving b|them a blowjob."}rawStory(e){const t=this.getActorUnit("a"),a=e.getPace(t),r=e.getPose(t),s=e.getPosition(t),n=this.getActorUnit("b"),l=e.getPace(n);let u="",h;return r.getFacingHeight(setup.sexbodypart.penis,s,e).facing.isUpDown()?a==setup.sexpace.dom?h=["a|Reps hot breath falls down onto b|reps groin as a|they quickly a|move a|their head between b|their b|legs, roughly kissing the cock head of b|their b|dick before forcefully taking b|them into a|their mouth.","Dropping a|their head down between b|reps b|legs, a|rep a|deliver a rough, wet lick up the length of b|their b|dick, before forcefully taking the cock head into a|their mouth."]:h=["a|Reps hot breath falls down onto b|reps groin as a|they a|eagerly a|move a|their head between b|their b|legs, passionately kissing the cock head of b|their b|dick before taking b|them into a|their mouth.","a|Eagerly lowering a|their head down between b|reps b|legs, a|rep a|deliver a long, deliberate lick up the length of b|their b|dick, before taking the cock head into a|their mouth."]:a==setup.sexpace.normal||a==setup.sexpace.sub?h=["Bringing a|their lips to the cock head of b|reps b|dick, a|rep a|eagerly a|take b|them into a|their mouth, letting out a muffled moan as a|they a|start giving b|them a blowjob.","Wrapping a|their lips around the cock head of b|reps b|dick, a|rep a|let out a muffled moan as a|they a|start giving b|them a blowjob a|eagerly."]:a==setup.sexpace.dom&&(h=["Bringing a|their lips up to the cock head of b|reps b|dick, a|rep forcefully a|take b|them into a|their mouth, letting out a muffled moan as a|they a|start giving b|them a rough blowjob.","Forcefully wrapping a|their lips around the cock head of b|reps b|dick, a|rep a|let out a muffled moan as a|they a|start giving b|them a rough blowjob."]),u+=setup.rng.choice(h),l==setup.sexpace.normal||l==setup.sexpace.sub?h=[" b|Rep b|eagerly b|buck b|their hips into a|reps a|face, b|eagerly moaning as a|they a|suck b|their b|dick."," With a buck of b|their hips, b|rep b|let out a moan as b|they b|enjoy the feeling of a|reps lips sliding up and down the length of b|their b|dick."]:l==setup.sexpace.dom?h=[" b|Rep roughly b|slam b|their hips into a|reps a|face, moaning as a|they a|suck b|their b|dick."," With an rough a|thrust of b|their hips, b|rep b|let out an approving moan as b|they b|get to taste the feeling of a|reps lips sliding up and down the length of b|their b|dick."]:l==setup.sexpace.forced?h=[" b|Rep meekly b|buck b|their hips into a|reps a|face, moaning as a|they a|suck b|their b|dick."," Bucking b|their hips into a|reps a|face, b|rep b|let out b|a_moan as b|they b|enjoy the rare feeling of having a|reps lips sliding up and down the length of b|their b|dick, instead of giving one."]:l==setup.sexpace.resist?h=[" b|Rep b|let out b|a_sob, trying, and failing, to pull b|their b|dick out of a|reps mouth as b|they b|struggle against the unwanted oral attention."," With tears welling up in b|their b|eyes, b|rep b|struggle against the unwanted oral attention, sobbing and squirming as b|they b|beg for a|them to stop."]:l==setup.sexpace.mindbroken&&(h=[setup.SexUtil.mindbrokenReactionNoun(n,e,["the stimulation on b|their b|dick","the pleasure wave coming hot from b|their b|dick"])]),u+=" ",u+=setup.rng.choice(h),u}},o(um,"PenisMouthStartOther"),um),setup.SexActionClass.PenisMouthSubDeepThroat=(hm=class extends ji{getTags(){return super.getTags().concat(["sub","discomfort"])}desc(){return"Deep-throat"}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_deepthroat")])}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_MEDIUM,arousal:setup.Sex.AROUSAL_SMALL,discomfort:setup.Sex.DISCOMFORT_MEDIUM,paces:[setup.sexpace.dom,setup.sexpace.normal,setup.sexpace.sub]},{energy:setup.Sex.ENERGY_MEDIUM,arousal:setup.Sex.AROUSAL_LARGE,paces:setup.SexPace.getAllPaces()}]}rawTitle(e){return"Deep-throat"}rawDescription(e){return"Take b|reps b|dick as deep as possible down your throat."}rawStory(e){const t=this.getActorUnit("a"),a=e.getPace(t),r=this.getActorUnit("b");e.getPace(r);let s="",n;return a==setup.sexpace.normal||a==setup.sexpace.sub?n=[`a|Eagerly wrapping a|their lips around the b|dick in a|their mouth, a|rep a|adv a|push a|their
        head forwards, a|eagerly taking b|reps b|dick as deep down a|their throat as a|they possibly can.`,"With a muffled moan a|rep a|eagerly a|lean forwards, parting a|their lips as a|they a|eagerly a|take as much of b|reps b|dick down a|their throat as a|they can.","a|Eagerly sliding a|their head forwards, a|rep readily a|part a|their lips as a|they a|take b|reps b|dick deep down a|their throat.",`After taking a deep breath, a|rep a|eagerly a|press a|their head deep into b|reps groin, swallowing
        the entire length of b|their b|dick reaching down a|their throat.`]:a==setup.sexpace.dom&&(n=["Forcefully wrapping a|their lips around the b|dick in a|their mouth, a|rep roughly a|slam a|their head forwards, forcing b|reps b|dick as deep down a|their throat as a|they possibly can.","With a muffled moan a|rep quickly a|lean forwards, parting a|their lips as a|they roughly a|force as much of b|reps b|dick down a|their throat as a|they can.","Aggressively pushing a|their head forwards, a|rep a|part a|their lips as a|they a|force b|reps b|dick deep down a|their throat."]),s+=setup.rng.choice(n),s+=" ",s+=mv(r,t,e),s}},o(hm,"PenisMouthSubDeepThroat"),hm),setup.SexActionClass.PenisMouthSubLickBalls=(pm=class extends ji{getTags(){return super.getTags().concat(["sub"])}desc(){return"Lick balls"}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_balls")])}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_SMALL,arousal:setup.Sex.AROUSAL_SMALL,discomfort:setup.Sex.DISCOMFORT_TINY,paces:[setup.sexpace.normal,setup.sexpace.sub,setup.sexpace.forced]},{energy:setup.Sex.ENERGY_TINY,arousal:setup.Sex.AROUSAL_SMALLMEDIUM,paces:setup.SexPace.getAllPaces(),restrictions:[setup.qres.Trait("balls_tiny")]}]}rawTitle(e){return"Lick balls"}rawDescription(e){return"Lick and kiss b|reps b|balls for a while."}rawStory(e){const t=this.getActorUnit("a"),a=e.getPace(t),r=this.getActorUnit("b");e.getPace(r);const s=setup.rng.choice(["Letting b|reps b|dick slip completely out of a|their a|mouth,","a|Rep a|let b|reps b|dick slide out of a|their mouth,","Sliding b|reps b|dick out from a|their mouth,","First sliding b|reps b|dick out from a|their mouth,","Withdrawing a|their head from b|reps groin,"]);let n;a==setup.sexpace.sub||a==setup.sexpace.normal||a==setup.sexpace.dom?n=[" a|rep a|move a|their head down and a|eagerly a|lick and a|suck on b|their b|balls"," before moving a|their lips down to start a|eagerly licking and kissing b|their b|balls"," a|rep a|move a|their head down to a|eagerly a|kiss and a|lick b|their b|balls"," a|rep a|move a|their head down, before starting to a|eagerly kiss and nuzzle into b|their b|balls"," a|rep a|reposition a|their head to in front of b|reps b|balls, before a|eagerly licking and caressing the balls with a|their tongue"]:n=[" after a long pause a|rep a|move a|their head down and a|start to lick and suck on b|their b|balls"," before moving a|their lips down and force a|themself to lick and kiss b|their b|balls"," a|rep a|move a|their head down, hesitate, before deciding that kissing and licking b|their b|balls is preferable to punishment. The action last for a while"," a|rep a|move a|their head down, hesitate, before deciding that kissing and nuzzling into b|their b|balls is preferable to punishment. It lasts for a while",` a|rep ${setup.SexUtil.hesitatesBeforeForcingThemselfTo(r,e)} reposition a|their head to in front of b|reps b|balls and mechanically lick and worship them`];const l=setup.SexText.postThought(r,e);let u=s+setup.rng.choice(n)+", "+l+". ";return u+=setup.rng.choice([" After a while, a|rep a|resume pushing a|their a|mouth back at b|reps b|dick."," Once that's done, a|rep a|return sucking at b|reps b|dick."," After a while, a|rep a|return to sucking at the b|dick."]),u}},o(pm,"PenisMouthSubLickBalls"),pm),setup.SexActionClass.PenisMouthSubLickCockhead=(cm=class extends ji{getTags(){return super.getTags().concat(["sub"])}desc(){return"Lick cockhead"}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_cockaction")])}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_SMALLMEDIUM,arousal:setup.Sex.AROUSAL_SMALL,paces:[setup.sexpace.dom,setup.sexpace.normal,setup.sexpace.sub]},{energy:setup.Sex.ENERGY_TINY,arousal:setup.Sex.AROUSAL_SMALLMEDIUM,paces:setup.SexPace.getAllPaces()}]}rawTitle(e){return"Lick cockhead"}rawDescription(e){return"Lick and kiss the head of b|reps b|dick."}rawStory(e){const t=this.getActorUnit("a");e.getPace(t);const a=this.getActorUnit("b");e.getPace(a);let r="";const s=["With a|a_moan, a|rep a|pull a|their head back, wrapping a|their lips around the cock head of b|reps b|dick, before starting to a|eagerly lick and kiss it.","a|Rep a|pull a|their head back, letting out a|a_moan as a|they concentrate sucking and kissing the cock head of b|reps b|dick.",`Pulling a|their head back a little, a|rep a|let most of b|reps b|dick slide out of a|their mouth, and,
       focusing on using a|their tongue, a|they a|eagerly a|lick and a|kiss the cock head that's left poking past a|their lips.`];r+=setup.rng.choice(s);const n=setup.SexText.postThought(a,e),l=setup.SexUtil.traitSelectArray(a,{dick_titanic:["b|Their cockhead is much bigger than a|their tongue, and a|rep a|have to approach licking the enormous thing from multiple angles,","b|Their massive cockhead barely fits into a|reps mouth, stretching it to the limits as a|rep kiss and lick,","The cockhead is massive, and a|rep a|have to open a|their mouth as large as possible to fit it in,"],dick_huge:["b|Their huge cock bobs up and down as a|rep works a|their tongue on the tip of the enormous shaft,","a|Rep a|have to open a|their mouth almost all the way to accomodate even just the tip of the enormous shaft,","The huge cockhead proves difficult to fit inside a|their mouth, and a|rep a|have to open a|their mouth wide to accomodate the huge thing,"],default:["b|Their b|dick sways up and down with every delicious lick,","b|Their b|dick bobs up and down with every careful lick,","b|Their b|dick wiggles with every lick of the cockhead,"]});return r+=` ${l} ${n}.`,r}},o(cm,"PenisMouthSubLickCockhead"),cm),setup.SexActionClass.PenisMouthSubNormal=(dm=class extends ji{getTags(){return super.getTags().concat(["sub"])}desc(){return"Perform blowjob"}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_MEDIUM,arousal:setup.Sex.AROUSAL_SMALL,paces:[setup.sexpace.dom,setup.sexpace.normal,setup.sexpace.sub,setup.sexpace.forced]},{energy:setup.Sex.ENERGY_SMALL,arousal:setup.Sex.AROUSAL_MEDIUM,paces:setup.SexPace.getAllPaces()}]}rawTitle(e){return"Perform blowjob"}rawDescription(e){return"Continue sucking b|reps b|dick."}rawStory(e){const t=this.getActorUnit("a"),a=e.getPace(t),r=this.getActorUnit("b");e.getPace(r);let s="",n;return a==setup.sexpace.normal||a==setup.sexpace.sub?n=[`a|Eagerly wrapping a|their lips around b|reps b|dick,
         a|rep a|start bobbing a|their head up and down as a|they a|give b|them a loving blowjob.`,`With a muffled moan, a|rep a|eagerly a|start bobbing a|their head up and down,
         wrapping a|their lips around b|reps b|dick as a|they a|give b|them head.`,`a|Eagerly bobbing a|their head up and down,
         a|rep a|eagerly a|wrap a|their lips around b|reps b|dick as a|they a|give b|them a blowjob.`]:a==setup.sexpace.dom?n=["Forcefully gripping a|their lips down around b|reps b|dick, a|rep a|start aggressively bobbing a|their head up and down as a|they a|give b|them a rough blowjob.","With a muffled moan a|rep violently a|start bobbing a|their head up and down, roughly wrapping a|their lips around b|reps b|dick as a|they a|give b|them head.","Roughly bobbing a|their head up and down, a|rep dominantly a|wrap a|their lips around b|reps b|dick as a|they a|give b|them a forceful blowjob."]:n=["Fearing punishment, a|rep a|wrap a|their lips around b|reps b|dick and a|start rapidly bobbing a|their head up and down as a|they a|give b|them a blowjob.","With a muffled moan, a|rep quickly a|start bobbing a|their head up and down, wrapping a|their lips around b|reps b|dick as a|they a|give b|them head out of fear.","Rapidly bobbing a|their head up and down, a|rep a|wrap a|their lips around b|reps b|dick as a|they a|give b|them a blowjob hoping to please a|their owner."],s+=setup.rng.choice(n),s+=" ",s+=XO(t,r,e),s}},o(dm,"PenisMouthSubNormal"),dm),setup.SexActionClass.PenisMouthSubResist=(gm=class extends gv{getTags(){return super.getTags().concat(["normal"])}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_SMALL,discomfort:setup.Sex.DISCOMFORT_SMALL,arousal:-setup.Sex.AROUSAL_SMALL,paces:[setup.sexpace.resist],restrictions:[setup.qres.SexPaceIn([setup.sexpace.resist])]},{energy:setup.Sex.ENERGY_MEDIUM,arousal:setup.Sex.AROUSAL_SMALL,paces:setup.SexPace.getAllPaces()}]}rawTitle(e){return"Resist performing blowjob"}rawDescription(e){return"Try and push b|reps b|dick out of your mouth."}rawStory(e){const t=this.getActorUnit("a");e.getPace(t);const a=this.getActorUnit("b"),r=e.getPace(a);let s="",n;return r==setup.sexpace.dom?n=["a|Rep a|let out a muffled sob, squirming and struggling in distress as b|rep forcefully holds a|them in place, roughly pumping b|their b|dick back and forth past a|their lips.","With a|a_sob, a|rep a|try to pull a|their head back, a|their protestations coming out in gargled bursts as b|rep b|continue roughly slamming b|their b|dick down a|their throat.","a|Rep a|feel tears running down a|reps cheeks as a|they weakly a|try to push b|rep away, sobbing in distress as b|rep b|continue roughly thrusting b|their b|dick in and out of a|their mouth.","Struggling against b|rep, a|rep a|let out a|a_sob as a|they weakly a|try to pull a|their a|face away from b|their groin, but b|reps grasp on a|their head is too strong, and b|they forcefully b|force a|them back into position.",`a|Rep a|retch through a|their tears as a|they a|try and a|fail to get a|their a|mouth free from b|reps b|dick,
         who keeps roughly pounding away at a|their throat`]:n=["a|Rep a|let out a muffled sob, squirming and struggling in distress as b|rep holds a|them in place, a|eagerly sliding b|their b|dick back and forth past a|their lips.","With a|a_sob, a|rep a|try to pull a|their head back, a|their protestations coming out in gargled bursts as b|rep b|continue a|eagerly pushing b|their b|dick down a|their throat.","a|Rep a|feel tears running down a|reps cheeks as a|they weakly a|try to push b|rep away, sobbing in distress as b|rep b|continue a|eagerly sliding b|their b|dick in and out of a|their mouth.","a|Rep a|try to push b|reps groin away from a|their a|face, but a|their efforts prove to be in vain as b|rep lustfully b|grab hold of a|their head and b|pull a|them back into b|their crotch."],s+=setup.rng.choice(n),s}},o(gm,"PenisMouthSubResist"),gm);const yT=class yT extends St{getPenetrationTarget(){return setup.sexbodypart.vagina}};o(yT,"PenisVaginaDomBase");let bv=yT;const kT=class kT extends Ni{getPenetrationTarget(){return setup.sexbodypart.vagina}};o(kT,"PenisVaginaDomBaseResist");let yv=kT;const vT=class vT extends Hi{getPenetrationTarget(){return setup.sexbodypart.vagina}};o(vT,"PenisVaginaSubBase");let kv=vT;const ST=class ST extends Bi{getPenetrationTarget(){return setup.sexbodypart.vagina}};o(ST,"PenisVaginaSubBaseResist");let vv=ST;setup.SexActionClass.PenisVaginaDom=(mm=class extends bv{getTags(){return super.getTags().concat(["dom"])}desc(){return"Fuck"}rawTitle(e){return"Fuck b|rep"}rawDescription(e){return"Continue thrusting your a|dick in and out of b|reps b|vagina."}},o(mm,"PenisVaginaDom"),mm),setup.SexActionClass.PenisVaginaDomResist=(fm=class extends yv{getTags(){return super.getTags().concat(["normal"])}rawTitle(e){return"Resist fucking"}rawDescription(e){return"Try to pull your a|dick out of b|reps b|vagina."}},o(fm,"PenisVaginaDomResist"),fm),setup.SexActionClass.PenisVaginaDomSlapAss=(bm=class extends ey{getTags(){return super.getTags().concat(["dom","discomfort"])}desc(){return"Slap ass"}getPenetrationTarget(){return setup.sexbodypart.vagina}},o(bm,"PenisVaginaDomSlapAss"),bm),setup.SexActionClass.PenisVaginaDomSpitroastTentacle=(ym=class extends ty{getTags(){return super.getTags().concat(["dom","discomfort"])}desc(){return"Spitroast with a tentacle"}getPenetrationTarget(){return setup.sexbodypart.vagina}},o(ym,"PenisVaginaDomSpitroastTentacle"),ym),setup.SexActionClass.PenisVaginaDomSpitroastTigerkinStatue=(km=class extends ay{getTags(){return super.getTags().concat(["dom","discomfort"])}desc(){return"Spitroast with the tigerkin statue"}getPenetrationTarget(){return setup.sexbodypart.vagina}},o(km,"PenisVaginaDomSpitroastTigerkinStatue"),km),setup.SexActionClass.PenisVaginaEnd=(vm=class extends Gi{getTags(){return super.getTags().concat(["normal"])}getPenetrationTarget(){return setup.sexbodypart.vagina}rawTitle(e){return"Stop fucking"}rawDescription(e){return"Pull your a|dick out of b|reps b|vagina and stop fucking b|them."}},o(vm,"PenisVaginaEnd"),vm),setup.SexActionClass.PenisVaginaEndOther=(Sm=class extends qi{getTags(){return super.getTags().concat(["dom"])}getPenetrationTarget(){return setup.sexbodypart.vagina}rawTitle(e){return"Stop being fucked"}rawDescription(e){return"Get b|rep to pull b|their b|dick out of your a|vagina."}},o(Sm,"PenisVaginaEndOther"),Sm),setup.SexActionClass.PenisVaginaFreeTeaseDom=(Tm=class extends sy{getTags(){return super.getTags().concat(["dom"])}desc(){return"Tease dick over vagina"}getPenetrationTarget(){return setup.sexbodypart.vagina}rawTitle(e){return"Dick-tease"}rawDescription(e){return"Slide your a|dick around b|reps b|labia."}},o(Tm,"PenisVaginaFreeTeaseDom"),Tm),setup.SexActionClass.PenisVaginaFreeTeaseSub=(_m=class extends ny{getTags(){return super.getTags().concat(["sub"])}desc(){return"Tease dick with vagina"}getPenetrationTarget(){return setup.sexbodypart.vagina}rawTitle(e){return"Tease b|reps b|dick with your a|vagina"}rawDescription(e){return"Slide the b|dickhead of b|reps b|dick over your a|vagina."}},o(_m,"PenisVaginaFreeTeaseSub"),_m);const TT=class TT extends Ci{getPenetrationTarget(){return setup.sexbodypart.vagina}};o(TT,"PenisVaginaOrgasmBase");let Sv=TT;const _T=class _T extends $f{getPenetratorBodypart(){return setup.sexbodypart.penis}};o(_T,"PenisVaginaOrgasmBaseOther");let Tv=_T;setup.SexActionClass.PenisVaginaOrgasmInside=(Am=class extends Sv{getTags(){return super.getTags().concat(["normal"])}desc(){return"Cum inside another"}rawTitle(e){return"Cum inside of b|rep"}},o(Am,"PenisVaginaOrgasmInside"),Am),setup.SexActionClass.PenisVaginaOrgasmInsideOther=(Mm=class extends Tv{getTags(){return super.getTags().concat(["normal"])}desc(){return"Climax while being fucked"}rawTitle(e){return"Climax with b|rep inside of you"}},o(Mm,"PenisVaginaOrgasmInsideOther"),Mm),setup.SexActionClass.PenisVaginaStart=(wm=class extends zi{getTags(){return super.getTags().concat(["dom"])}desc(){return"Start fucking"}getPenetrationTarget(){return setup.sexbodypart.vagina}rawTitle(e){return"Start fucking b|rep"}rawDescription(e){return"Sink your a|dick into b|reps b|vagina and start fucking b|them."}},o(wm,"PenisVaginaStart"),wm),setup.SexActionClass.PenisVaginaStartOther=(Rm=class extends Fi{getTags(){return super.getTags().concat(["sub"])}desc(){return"Start getting fucked"}getPenetrationTarget(){return setup.sexbodypart.vagina}rawTitle(e){return"Get fucked"}rawDescription(e){return"Slide b|reps b|dick into your a|vagina and get fucked."}},o(Rm,"PenisVaginaStartOther"),Rm),setup.SexActionClass.PenisVaginaSub=(Em=class extends kv{getTags(){return super.getTags().concat(["sub"])}desc(){return"Get fucked"}rawTitle(e){return"Get fucked"}rawDescription(e){return"Fuck your a|vagina on b|reps b|dick"}},o(Em,"PenisVaginaSub"),Em),setup.SexActionClass.PenisVaginaSubResist=(xm=class extends vv{getTags(){return super.getTags().concat(["normal"])}getPenetrationTarget(){return setup.sexbodypart.vagina}rawTitle(e){return"Resist being fucked"}rawDescription(e){return"Try and pull your a|vagina away from b|reps b|dick."}},o(xm,"PenisVaginaSubResist"),xm);const AT=class AT extends Li{getPenetratorBodypart(){return setup.sexbodypart.tail}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_tail")])}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_LARGE,arousal:setup.Sex.AROUSAL_MEDIUMLARGE,paces:[setup.sexpace.normal,setup.sexpace.sub,setup.sexpace.dom,setup.sexpace.forced]},{energy:setup.Sex.ENERGY_MEDIUMLARGE,arousal:setup.Sex.AROUSAL_MEDIUMLARGE,discomfort:setup.Sex.DISCOMFORT_MEDIUM,paces:setup.SexPace.getAllPaces()}]}};o(AT,"TailHoleDomBase");let uy=AT;const MT=class MT extends Zb{getPenetratorBodypart(){return setup.sexbodypart.tail}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_tail")])}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_MEDIUM,arousal:setup.Sex.AROUSAL_SMALL,discomfort:setup.Sex.DISCOMFORT_SMALL,paces:[setup.sexpace.resist],restrictions:[setup.qres.SexPaceIn([setup.sexpace.resist])]},{energy:setup.Sex.ENERGY_MEDIUMLARGE,arousal:setup.Sex.AROUSAL_MEDIUM,discomfort:setup.Sex.DISCOMFORT_SMALL,paces:setup.SexPace.getAllPaces()}]}};o(MT,"TailHoleDomBaseResist");let hy=MT;const wT=class wT extends Ui{getPenetratorBodypart(){return setup.sexbodypart.tail}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_tail")])}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_LARGE,arousal:setup.Sex.AROUSAL_MEDIUMLARGE,discomfort:setup.Sex.DISCOMFORT_SMALL,paces:[setup.sexpace.normal,setup.sexpace.sub,setup.sexpace.dom,setup.sexpace.forced],restrictions:[]},{energy:setup.Sex.ENERGY_MEDIUMLARGE,arousal:setup.Sex.AROUSAL_MEDIUMLARGE,paces:setup.SexPace.getAllPaces(),restrictions:[]}]}};o(wT,"TailHoleSubBase");let py=wT;const RT=class RT extends Xb{getPenetratorBodypart(){return setup.sexbodypart.tail}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_tail")])}getActorDescriptions(){return[{energy:setup.Sex.ENERGY_LARGE,arousal:setup.Sex.AROUSAL_SMALLMEDIUM,discomfort:setup.Sex.DISCOMFORT_LARGE,paces:[setup.sexpace.resist],restrictions:[setup.qres.SexPaceIn([setup.sexpace.resist])]},{energy:setup.Sex.ENERGY_MEDIUMLARGE,arousal:setup.Sex.AROUSAL_SMALLMEDIUM,paces:setup.SexPace.getAllPaces()}]}};o(RT,"TailHoleSubBaseResist");let cy=RT;const ET=class ET extends uy{getPenetrationTarget(){return setup.sexbodypart.anus}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_anus")])}};o(ET,"TailAnusDomBase");let _v=ET;const xT=class xT extends hy{getPenetrationTarget(){return setup.sexbodypart.anus}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_anus")])}};o(xT,"TailAnusDomBaseResist");let Av=xT;const DT=class DT extends py{getPenetrationTarget(){return setup.sexbodypart.anus}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_anus")])}};o(DT,"TailAnusSubBase");let Mv=DT;const IT=class IT extends cy{getPenetrationTarget(){return setup.sexbodypart.anus}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_anus")])}};o(IT,"TailAnusSubBaseResist");let wv=IT;setup.SexActionClass.TailAnusDom=(Dm=class extends _v{getTags(){return super.getTags().concat(["dom","discomfort"])}desc(){return"Anal tail-fucking"}rawTitle(e){return"Tail-fucking"}rawDescription(e){return"Continue thrusting your a|tail in and out of b|reps b|anus."}},o(Dm,"TailAnusDom"),Dm),setup.SexActionClass.TailAnusDomResist=(Im=class extends Av{getTags(){return super.getTags().concat(["normal"])}rawTitle(e){return"Resist tail-fucking"}rawDescription(e){return"Try to pull your a|tail out of b|reps b|anus."}},o(Im,"TailAnusDomResist"),Im);const $T=class $T extends Lf{getPenetratorBodypart(){return setup.sexbodypart.tail}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_tail")])}};o($T,"TailHoleEnd");let dy=$T;setup.SexActionClass.TailAnusEnd=($m=class extends dy{getTags(){return super.getTags().concat(["normal"])}getPenetrationTarget(){return setup.sexbodypart.anus}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_anus")])}rawTitle(e){return"Stop tail-fucking anally"}rawDescription(e){return"Pull your a|tail out of b|reps b|anus and stop tail-fucking b|them."}},o($m,"TailAnusEnd"),$m);const OT=class OT extends Uf{getPenetratorBodypart(){return setup.sexbodypart.tail}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_tail")])}};o(OT,"TailHoleEndOther");let gy=OT;setup.SexActionClass.TailAnusEndOther=(Om=class extends gy{getTags(){return super.getTags().concat(["dom"])}getPenetrationTarget(){return setup.sexbodypart.anus}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_anus")])}rawTitle(e){return"Stop getting anally tail-fucked"}rawDescription(e){return"Get b|rep to pull b|their b|tail out of your a|anus."}},o(Om,"TailAnusEndOther"),Om);const CT=class CT extends iy{getPenetratorBodypart(){return setup.sexbodypart.tail}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_tail")])}};o(CT,"TailHoleFreeBaseTeaseDom");let my=CT;const PT=class PT extends ry{getPenetratorBodypart(){return setup.sexbodypart.tail}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_tail")])}};o(PT,"TailHoleFreeBaseTeaseSub");let fy=PT;setup.SexActionClass.TailAnusFreeTeaseDom=(Cm=class extends my{getTags(){return super.getTags().concat(["dom"])}desc(){return"Anal tail-tease"}getPenetrationTarget(){return setup.sexbodypart.anus}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_anus")])}rawTitle(e){return"Anal tail-tease"}rawDescription(e){return"Slide your a|tail up and down b|reps b|ass."}},o(Cm,"TailAnusFreeTeaseDom"),Cm),setup.SexActionClass.TailAnusFreeTeaseSub=(Pm=class extends fy{getTags(){return super.getTags().concat(["sub"])}desc(){return"Tease tail with anus"}getPenetrationTarget(){return setup.sexbodypart.anus}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_anus")])}rawTitle(e){return"Tease b|reps b|tail with your a|anus"}rawDescription(e){return"Slide the b|tailtip of b|reps b|tail over your a|anus."}},o(Pm,"TailAnusFreeTeaseSub"),Pm);const LT=class LT extends Nf{getPenetratorBodypart(){return setup.sexbodypart.tail}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_tail")])}};o(LT,"TailHoleStart");let by=LT;setup.SexActionClass.TailAnusStart=(Lm=class extends by{getTags(){return super.getTags().concat(["dom"])}desc(){return"Start anal tail-fucking"}getPenetrationTarget(){return setup.sexbodypart.anus}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_anus")])}rawTitle(e){return"Start anal tail-fucking"}rawDescription(e){return"Sink your a|tail into b|reps b|anus and start tail-fucking b|them."}getExtraDescription(e){let t=super.getExtraDescription(e);return t+=" ",t+=Ob(this.getActorUnit("b"),e),t}},o(Lm,"TailAnusStart"),Lm);const UT=class UT extends Hf{getPenetratorBodypart(){return setup.sexbodypart.tail}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_tail")])}};o(UT,"TailHoleStartOther");let yy=UT;setup.SexActionClass.TailAnusStartOther=(Um=class extends yy{getTags(){return super.getTags().concat(["sub"])}desc(){return"Get anally tail-fucked"}getPenetrationTarget(){return setup.sexbodypart.anus}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_anus")])}getActorDescriptions(){const e=super.getActorDescriptions();return e[0].restrictions.push(setup.qres.SexEnjoysAnal()),e}rawTitle(e){return"Get anally tail-fucked"}rawDescription(e){return"Slide b|reps b|tail into your a|anus and get tail-fucked."}},o(Um,"TailAnusStartOther"),Um),setup.SexActionClass.TailAnusSub=(Nm=class extends Mv{getTags(){return super.getTags().concat(["sub"])}desc(){return"Anally tail-fucked"}rawTitle(e){return"Tail-fucked"}rawDescription(e){return"Fuck your a|anus on b|reps b|tail"}},o(Nm,"TailAnusSub"),Nm),setup.SexActionClass.TailAnusSubResist=(Hm=class extends wv{getTags(){return super.getTags().concat(["normal"])}getPenetrationTarget(){return setup.sexbodypart.anus}getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_anus")])}rawTitle(e){return"Resist tail-fucked"}rawDescription(e){return"Try and pull your a|anus away from b|reps b|tail."}},o(Hm,"TailAnusSubResist"),Hm);const NT=class NT extends uy{getPenetrationTarget(){return setup.sexbodypart.vagina}};o(NT,"TailVaginaDomBase");let Rv=NT;const HT=class HT extends hy{getPenetrationTarget(){return setup.sexbodypart.vagina}};o(HT,"TailVaginaDomBaseResist");let Ev=HT;const BT=class BT extends py{getPenetrationTarget(){return setup.sexbodypart.vagina}};o(BT,"TailVaginaSubBase");let xv=BT;const GT=class GT extends cy{getPenetrationTarget(){return setup.sexbodypart.vagina}};o(GT,"TailVaginaSubBaseResist");let Dv=GT;setup.SexActionClass.TailVaginaDom=(Bm=class extends Rv{getTags(){return super.getTags().concat(["dom","discomfort"])}desc(){return"Vaginal tail-fucking"}rawTitle(e){return"Tail-fucking"}rawDescription(e){return"Continue thrusting your a|tail in and out of b|reps b|vagina."}},o(Bm,"TailVaginaDom"),Bm),setup.SexActionClass.TailVaginaDomResist=(Gm=class extends Ev{getTags(){return super.getTags().concat(["normal"])}rawTitle(e){return"Resist tail-fucking"}rawDescription(e){return"Try to pull your a|tail out of b|reps b|vagina."}},o(Gm,"TailVaginaDomResist"),Gm),setup.SexActionClass.TailVaginaEnd=(qm=class extends dy{getTags(){return super.getTags().concat(["normal"])}getPenetrationTarget(){return setup.sexbodypart.vagina}rawTitle(e){return"Stop tail-fucking vaginally"}rawDescription(e){return"Pull your a|tail out of b|reps b|vagina and stop tail-fucking b|them."}},o(qm,"TailVaginaEnd"),qm),setup.SexActionClass.TailVaginaEndOther=(zm=class extends gy{getTags(){return super.getTags().concat(["dom"])}getPenetrationTarget(){return setup.sexbodypart.vagina}rawTitle(e){return"Stop getting vaginally tail-fucked"}rawDescription(e){return"Get b|rep to pull b|their b|tail out of your a|vagina."}},o(zm,"TailVaginaEndOther"),zm),setup.SexActionClass.TailVaginaFreeTeaseDom=(Fm=class extends my{getTags(){return super.getTags().concat(["dom"])}desc(){return"Tease tail over vagina"}getPenetrationTarget(){return setup.sexbodypart.vagina}rawTitle(e){return"Tail-tease"}rawDescription(e){return"Slide your a|tail around b|reps b|labia."}},o(Fm,"TailVaginaFreeTeaseDom"),Fm),setup.SexActionClass.TailVaginaFreeTeaseSub=(jm=class extends fy{getTags(){return super.getTags().concat(["sub"])}desc(){return"Tease tail with vagina"}getPenetrationTarget(){return setup.sexbodypart.vagina}rawTitle(e){return"Tease b|reps b|tail with your a|vagina"}rawDescription(e){return"Slide the b|tailtip of b|reps b|tail over your a|vagina."}},o(jm,"TailVaginaFreeTeaseSub"),jm);const qT=class qT extends $f{getRestrictions(){return super.getRestrictions().concat([setup.qres.HasItem("sexmanual_bodypart_tail")])}getPenetratorBodypart(){return setup.sexbodypart.tail}};o(qT,"TailVaginaOrgasmBase");let Iv=qT;setup.SexActionClass.TailVaginaOrgasmInside=(Km=class extends Iv{getTags(){return super.getTags().concat(["normal"])}desc(){return"Climax while being tail-fucked"}rawTitle(e){return"Climax with b|reps b|tail inside of you"}},o(Km,"TailVaginaOrgasmInside"),Km),setup.SexActionClass.TailVaginaStart=(Vm=class extends by{getTags(){return super.getTags().concat(["dom"])}desc(){return"Start tail-fucking"}getPenetrationTarget(){return setup.sexbodypart.vagina}rawTitle(e){return"Start vaginal tail-fucking"}rawDescription(e){return"Sink your a|tail into b|reps b|vagina and start tail-fucking b|them."}},o(Vm,"TailVaginaStart"),Vm),setup.SexActionClass.TailVaginaStartOther=(Ym=class extends yy{getTags(){return super.getTags().concat(["sub"])}desc(){return"Start getting tail-fucked"}getPenetrationTarget(){return setup.sexbodypart.vagina}rawTitle(e){return"Get vaginally tail-fucked"}rawDescription(e){return"Slide b|reps b|tail into your a|vagina and get tail-fucked."}},o(Ym,"TailVaginaStartOther"),Ym),setup.SexActionClass.TailVaginaSub=(Jm=class extends xv{getTags(){return super.getTags().concat(["sub"])}desc(){return"Get tail-fucked"}rawTitle(e){return"Tail-fucked"}rawDescription(e){return"Fuck your a|vagina on b|reps b|tail"}},o(Jm,"TailVaginaSub"),Jm),setup.SexActionClass.TailVaginaSubResist=(Wm=class extends Dv{getTags(){return super.getTags().concat(["normal"])}getPenetrationTarget(){return setup.sexbodypart.vagina}rawTitle(e){return"Resist tail-fucked"}rawDescription(e){return"Try and pull your a|vagina away from b|reps b|tail."}},o(Wm,"TailVaginaSubResist"),Wm)});
